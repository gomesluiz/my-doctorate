"bug_id","short_description","long_description","bug_fix_time","class"
"WINE-21644","Desktop icons created with black background","Hi
 
+ WildLife Park 2 and
- Jack Keane
were installed the same day on MacOS with wine-1.1.34.  While WLP2's desktop icon looks good Jack Keane's icon is created with a black background (both border and inside the steering wheel).  This black background bug is not new to me.  It also affected the desktop icons of
- Ankh (the first from the trilogy)
- Geheimakte Tunguska
- Felix abenteuerliche Reise
- Kleiner Eisbär kennst Du den Weg?
and several other titles when I installed them in Linux long ago (some prior to Wine-1.0).  Other installs are not affected e.g.
+ Geheimakte 2.

You may scan ~/.loal/share/icons/ for all the icons that Wine created over time on your HD.

Perhaps another issue perhaps related: I thought .xpm would be created in ~/.local/share/icons/ only as a fallback when libpng is not available.  Well Jack Keane's icon was created in one format WLP2's in the other one. How comes?

The png vs. xpm issue was re-raised recently in wine-devel:
http://www.winehq.org/pipermail/wine-devel/2010-February/081560.html

BTW ImageMagick also sets a black background when converting .ico to .png.  OTOH Eye of Gnome (eog) Save as works so I've been using it to convert .ico files found on CD to .png icons for .desktop/.command files (the MacOS Finder displays only .png KDE and Gnome display both .xpm and .png).

Bug #20924 seems related (black background for icon inside application).  Bug #201 seems different to me: there should be no app calling a DIB function rather than a strictly Wine-internal CreateDesktopIconFromIcoInExeStructure invoked by the installer. Also there's no single console log message about dib or graphics during installation.",205,"0"
"WINE-12048","coreftp hangs after connecting to a ftp site","Tried out Coreftp 2.1 LE. I can connect to a ftp site (i.e mirrors.kernel.org) just fine but within a few seconds I get:

err:ntdll:RtlpWaitForCriticalSection section 0x8f2a10 ? wait timed out in thread 0015 blocked by 0016 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x8f2a10 ? wait timed out in thread 0009 blocked by 0016 retrying (60 sec)

and the program hangs.",496,"1"
"WINE-41087","UE4 games (The Vanishing of Ethan Carter Redux The Solus Project) crash while loading with D3D11Query.cpp:139 # with error E_INVALIDARG","Created attachment 55279
Terminal output Wine 1.9.16

After updating to Wine 1.9.16 and applying this patch https://bugs.winehq.org/attachment.cgi?id=55267&action=diff by Józef Kucia The Solus Project crashes with the following long line in the terminal: 

fixme:wer:WerReportSetParameter (0x3915d780 8 LCommandline L!!AssertLog=\LowLevelFatalError [File:C:\\__installed\\SolusEA\\Engine\\Source\\Runtime\\Windows\\D3D11RHI\\Private\\D3D11Util.cpp] [Line: 200] #Result failed # at C:\\__installed\\SolusEA\\Engine\\Source\\Runtime\\Windows\\D3D11RHI\\Private\\D3D11Query.cpp:139 # with error E_INVALIDARG#\) :stub",108,"0"
"WINE-8996","Can't install Yahoo messenger 8.1","I tried installing yahoo messenger.  I downloaded it from the above URL and ran
it.  It complains about the version of IE being bad but there are two simple
workarounds:

1) In the dialog that appears press No.  (I don't know what the question is
but Yes exits the install.)
2) Download winetricks and run 'winetricks fakeie6'.

After installing it puts up a message box saying Download of file has been
cancelled or interrupted.  404 Not Found.  The dialog behind the message box
says it's downloading c:\windows\temp\4975648\flash_inst.exe.  Looking in this
directory shows that it isn't there.",260,"1"
"WINE-5311","comctl32: wine crash while starting UMLPad","I search a UML Tool and found UMLPad but wine crash when i start it.

You can download it from:
http://web.tiscali.it/ggbhome/umlpad/umlpad.htm",226,"1"
"WINE-10133","After successful installation Pool of Radiance 1.4 does not start","Created attachment 8709
WINEDEBUG=+relay captured stderr

After successfully installing Pool of Radiance 1.4
and using the nocd patch as suggested in the appdb comments
the game does not start.

Running wine por2Main.exe opens a black window in the top left corner
of the screen for a very brief moment
and then the program quits.

I attach the stderr of WINEDEBUG=+relay as a gzipped text file.",1488,"1"
"WINE-31319","Age of Mythology: slow performance","Created attachment 41156
terminal output

I tested with the trial version of Age of Mythology as I don't have the full version so can't say whether or not the full version of the game is affected.

The problem: performance is considerably slower in the game since Wine 1.5.7. This can be observed during the cutscenes in unit animations or when scrolling the screen.

According to my testing the problem appeared in 1.5.7 and is still present as of wine-1.5.9-186-g1f6febe. The result of the regression test:

0610d1eec9a287e22831a40427e6a9a38f3f745f is the first bad commit
commit 0610d1eec9a287e22831a40427e6a9a38f3f745f
Author: Henri Verbeet 
Date:   Tue Jun 12 17:03:50 2012 +0200

    wined3d: Invalidate the entire buffer on maps with WINED3DLOCK_DISCARD.

:040000 040000 4d4701b1fcdaeeacffb68fd1b6f5d241e7a79a24 6bfde78e83d26ae6b5b3c799bc80e67237556e56 M	dlls

Steps to reproduce the problem with the trial version:
1. download and install the demo (installing msxml4 is not mandatory with current Wine)
2. start the demo with aom.exe. Background animation in the menu is kinda slow. Click on   : a prologue video begins to play and you can observe how slow the rendering is. You can observe the same laggy performance during gameplay too.

Fedora 17 x86
Nvidia 250 / driver 295.59
X.Org X Server 1.12.2",380,"1"
"WINE-38310","Trackbar control (msctls_trackbar32) does not send WM_CTLCOLORSTATIC as it does in Windows","Trackbar control just fills background with COLOR_BTNFACE",484,"1"
"WINE-32396","iexplore http://imgur.com doesn't open","wine iexplore http://imgur.com

Doesn't open & iexplore hangs. Workaroung native jscript",393,"1"
"WINE-26808","Multiple games need XAudio2 '{5a508685-a254-4fba-9b82-9a24b00306af}' XAudio2_7.dll (Blue Toad Murder Files Crazy Machines Zafehouse Diaries)","Created attachment 34160
terminal output

The demo installs fine but won't run even after the following native components are installed via winetricks: d3dx9_36 vcrun2008 xact.
The game throws an error dialogue saying that no audio device can be found.

To reproduce the issue in the demo:
1) Install the demo by wine msiexec /i InstallBlueToadSeasonOneDemo.msi
2) winetricks vcrun2008 d3dx9_36 xact
3) Launch the demo by wine BT01Application.win32.exe  >> an error dialogue is shown and the game crashes.

---excerpt from the log---
...
err:ole:CoGetClassObject class {5a508685-a254-4fba-9b82-9a24b00306af} not registered
...
---

That refers to a newer version of the Xaudio libraries which come bundled in the June 2010 DirectX redistributable.
However the current winetricks script installs directx libs from the February 2010 package in which they're not included. The required files:
XAudio2_7.dll
XactEngine3_7.dll
XAPOFX1_5.dll

You have to hunt them down from a Windows machine (with up-to-date directx) place them in /system32 and register them with regsvr32.exe.
The game will start correctly afterwards.",1517,"1"
"WINE-16928","Grand Theft Auto San Andreas: freezes when looking into the sun","Created attachment 18693
Output when starting gta_sa.exe

GTA San Andreas bucks then freezes when looking straight into the Sun.
Which is kind of weird because the Game runs really good... 

I've tested it with older versions of Wine but it still failed.

The Output is actually just: fixme:d3d:state_fog Implement table fog for foggy vertex shader

Running on Ubuntu Linux 8.10 nVidia Geforce 9800GT Driver Version: 177",241,"1"
"WINE-26285","Mass Effect 2 Demo ignores keyboard input until mouse clicked","The demo runs well in general.
When you start it it shows a couple logo movies then says
  Press any key to continue

In Windows you can press a key and it will continue.
In Wine pressing a key does nothing.
In either clicking the mouse will in fact get you past this screen
so this isn't exactly a critical problem.

But I noticed something interesting: if you wait a minute in that screen
an attract movie will show.  You can cancel the attract movie by pressing escape
in Windows.  In Wine however pressing escape does nothing... until you
click the mouse.  After you click the mouse once escape now works.

So it seems that on Wine but not Windows this game ignores the keyboard
until there's a mouse click.",513,"1"
"WINE-18057","cmd.exe: mishandled quoted built-in commands with parameters (programs/cmd/wcmdmain.c: has_space==1 && opt_s==0)","When using ActivePerl to execute Perl statements such as
    my $p=`set PATH`
ActivePerl will pass it as a quoted argument to CreateProcessW:
    CreateProcessW app Lcmd.exe cmdline Lcmd.exe /x/d/c \set PATH\
wcmdmain.c:wmain will get the following arguments:
    0 => Lcmd.exe
    1 => L/x/d/c
    2 => Lset PATH
and determine that has_space==1 && opt_s==0 thus creating
    cmd = L\set PATH\
This command is later passed to WCMD_execute where there's no match with
the inbuilt[] commands (because of the leading double-quote) and it's in
turn passed to WCMD_run_program. That function tries to do its best but in
the
    if ((opt_c || opt_k) && !opt_s && !status
        && GetLastError()==ERROR_FILE_NOT_FOUND && command[0]=='\')
branch (wcmdmain.c lines #1158-1162 in wine 1.1.19) it strips the quotes
and calls _itself_ thus missing the check for inbuilt[] commands. What's
required here is to call back to WCMD_execute but unfortunately some of
the WCMD_execute's arguments are not available at this point.

PS: I'm trying to use S60_5th_Edition_SDK_v1.0 on debian lenny and the
first point of failure was the Perl statement
    open PIPE set EPOCROOT |
I have made experiments with wine 1.0.1 and 1.1.19 and with ActivePerl
5.10.0.1004 and StrawberryPerl 5.10.0.4 with the same results. However
Wine 1.1.19 with ActivePerl and `set PATH` is the only test case I have
investigated in depth.",1268,"1"
"WINE-13736","Detection of nvidia geforce 9x00 video memory isn't implemented","Created attachment 13765
Call of duty 4 with 3D Mark patch only (+d3d trace)

After applying the 3D Mark patch (see bug 9210) the game will start to load and crash before entering the menu.

In 1.0 rc3 I was possible to ear sound while having a black screen or a message box displaying :
DirectX encountered an unrecoverable error.
Check the readme for possible solutions. 

With 1.0 rc4 the game just segfault right after the splash screen.

I have an nvidia geforce 9600gt with the driver 173.14.05 and is performing well with other 3D games in wine.

I made some test changing the offscreen rendering method and the video memory size without any change in the result.

I'm attaching a trace with +d3d with the 3D Mark patch only and another one with applying also the NVidia patch.


Patches are linked on the appdb page :
http://appdb.winehq.org/objectManager.php?sClass=version&iId=10429

This problem has been discussed on the forum here :
http://forum.winehq.org/viewtopic.php?t=1165


Specs:
NVidia Geforce 9600gt - driver 173.14.05
Athlon x64
Ubuntu 8.04 32bits
No compiz and no pulseaudio
Clean .wine",339,"1"
"WINE-17687","vlc 0.9.8a segfaults on launch","Created attachment 19890
+relay+seh+tid

Native VLC wouldn't play my dvd so decided to try windows version. Segfaults on launch in git. +relay+seh+tid attached.",66,"0"
"WINE-19137","Missing or malfunctions textures LineageII C5","After upgrade to Wine 1.1.24 is LineageII C5 unplayable. Some textures are missing or broken or have invertion colors. In Wine 1.1.23 (with disabled HW T&L) is all OK.",685,"1"
"WINE-5390","Blizzard Games give unhandled exception with ALSA driver","trying to run diablo 2 gives me a message of

UNHANDLED EXCEPTION:
ACCESS VIOLATION (c0000005)

this did not occur for me in 9.8 which was the last version i had installed.
will try upgrading to 9.15

this may have been assigned to the wrong component. I'm not really sure which
one it falls under.",283,"1"
"WINE-145","MYOB 6.0 accounting hangs X after operating for a few minutes","MYOB opens multiple child windows as you work with your accounting records. 
After a couple of transactions and generally after a couple of windows have 
been opened and/or closed X freezes totally and must be shut down with Ctl-Alt-
Bksp to regain control. It creates multiple threads as reported by ps ax.
MYOB 6.0 is written for Win3.x
It also seems to have difficulty rendering the buttons on the main 'control 
centre' when MYOB is initially opened though switching to another module and 
back fixes this.
(My version of Linux is RH6.2 as distributed on Australian Personal Computer's 
July 2000 edition cover CD. I don't know exactly which versions of XFree and 
GLibc that would be.)",427,"1"
"WINE-994","Install Shield Crashes after Loading data.hdr etc.","can tyou try again please? most likely fixed please reopen if still there.",467,"1"
"WINE-37209","Midnight Mysteries 3: Devil on the Mississipi (Steam) crashes on start with built-in msvcr100","Created attachment 49461
trimmed +relay+msvcrt+seh+tid log (uncompressed 53 MB)

The game comes with native msvcp100msvcr100 installed in the game directory setting msvcr100=native is a workaround to the crash.

Plain terminal output doesn't show anything interesting and I can't get a Wine backtrace because the game's own exception handler catches the crash. A minidump is saved in /user/Temp.

The attached log contains the last 1 million lines of the complete +relay+msvcrt log.

wine-1.7.25-51-g60de497",4,"0"
"WINE-13015","images broken in many chm files","ProntoEdit's help seems to work but all the images show up
as broken icons.

To work around bug 13013 do
  sh winetricks vcrun6 cc580
before starting.

Then to reproduce the problem press F1 and open the help
page Help Pages.  You will see some text and a row of broken icons.",458,"1"
"WINE-11126","EM_POSFROMCHAR does not include selectionbar","When the ECO_SELECTIONBAR style is set for a richedit control EM_POSFROMCHAR should include the selection bar size.   However sending EM_POSFROMCHAR for character 0 returns 0 as the x co-ordinate with Wine's richedit.

I'll see if I can't fix this myself.

As for a testcase this will be noticeable in builtin wordpad once I send the first ruler patch.  The left position of the ruler is determined using POSFROMCHAR so with native richedit it will be moved a distance from the leftmost window edge while with builtin it won't.",5,"0"
"WINE-31916","Steam in xfce: xfwm4 windows refuse to relinquish focus","In xfce (or in kde with xfwm4 instead of kwin) Steam has recently started having an issue where it refuses to relinquish focus. If you were to click inside a chat window and then try to click back into for example a terminal window to switch focus it would work for a split second and then the chat window would pop right back up over it. Ie it is impossible to switch into another window via click because the active window won't go away.

It is easy to trigger the problem but I've had a hard time figuring out specifically what steps one must follow in order to do so. However if I have the main steam window and friends list open and a chat window hovering over a terminal and tinker with moving and minimizing / changing the focus of the main and chat windows for a minute or two (and try to click into the terminal) I can reliably cause it to occur.

This occurs from wine 1.5.12 to 1.5.14 and in both Linux Mint 13 x64 and Arch Linux x64 in a used or fresh wineprefix. Occurs on my machine and a friend's machine as well.

A regression test found the following to be the trouble for me:
 
$ git bisect good
d35fc4369fd9eb7e5fca78cc0d61e241de286ee0 is the first bad commit
commit d35fc4369fd9eb7e5fca78cc0d61e241de286ee0
Author: Alexandre Julliard 
Date:   Wed Aug 29 18:08:37 2012 +0200

    user32: Always go through set_window_pos when the WS_VISIBLE style is changed.

:040000 040000 2181c83f9671eb18ffb3538e627cce5d2b0bf7e0 cdf5240aa47f26a98421467c50979a84b60c68e7 M      dlls",2,"0"
"WINE-8722","Unhandled Exception in InstallShield Wizard for 'Star Wars: The Best of PC' Games","Ubuntu 7.04 WINE 0.9.39

Repro steps (uising Gnome GUI & for Jedi Outcast specificly others have the 
same error):
Place install CD with Jedi Outcast in drive
After disc mounts navigate to /JO/ directory
Right-click setup.exe
Select 'Open with Wine Windows Emulator
After InstallShield Wizard loads click next

This is where the error appears.  There are four errors that pop up all with 
Unhandled Exception as the title.  They are in order:
 
Error Number: 0x80040707
Description: DLL function call crashed: ISRT._CtrlSetMLERichText
Setup will now Terminate.
OK

Error Number: 0x80040707
Description: ISRT.__ReleaseObjectContext
OK

Error Number 0x80040707
Description: ISRT._ListDestroy
OK

Error Number: 0x80040707
Description: ISRT._ListDestroy
OK

(yes the last two are the same)

After those errors the InstallShield Wizard exits.",248,"1"
"WINE-1185","Conformance Tests fail on windows 98","Bug comments restored from Gmane.org:

Runing the tests on Microsoft Windows 98 (4.10.1998) a lot of tests fail. tests 
downloaded from http://fgouget.free.fr/wine/winetests.zip

I was unable to redirect the output of the tests to a file. For example 
ws2_32_test.exe sock > temp.txt would give me a 0 lenght file is it supposed 
to work that way? Some tests output more than 50 lines so that even with the 
terminal set to 50 lines I would not be able to copy all of them.

Also a lot (most) of the tests had the prefix of where the file resided on when 
it was compiled for each line which made for very long lines. I cleaned up the 
lines wrap but is it really nessesary to print the whole path.


------- Additional Comments From tony_lambregts  telusplanet.net 2002-12-10
00:00 -------
Created an attachment (id=350)
Test Results


------- Additional Comments From tony_lambregts  telusplanet.net 2002-12-10
22:55 -------
Created an attachment (id=351)
Test results with latest zip file (Dec 10 2002)",1021,"1"
"WINE-24388","Exposure 3.0 crashes while creating exposure image","this handy little app creates an image out of a webcamcapture or avi-file as if you would take a picture with a camera with a long shuttertime.

Steps to reproduce: i did:

1.winetricks allcodecs
2.Run exposure and choose From AVI --> Browse
3. Select an AVI-file  then do Load from AVI

It crashes right away with native avifil32 the crash is gone. There is no avifil32 component in bugzilla. I'll attach a +relaytid+seh log",1904,"1"
"WINE-31056",".NET Framework 3.x/4.x WPF Media Integration Layer deadlocks between ui and render thread when calling SetPixelFormat","Hello

with bug 18640 fixed .NET 3.x/4.x WPF based apps now run into a message deadlock between main UI app thread and renderer thread.

When the d3d9 device is created the window handle created by main UI thread is passed.
The pixel format is propagated synchronously to target window.
Because the target thread waits for event without pumping messages (by design) it deadlocks.

Easy to reproduce with small example app:

http://stuff.hamstersoft.com/software/hamsterfreeburningstudio.exe

Prerequisite: clean WINEPREFIX and 'winetricks -q dotnet30'

Regards",97,"0"
"WINE-3521","Fonts are not in slackware package","Yep I'm a newbie and stuff but checking the latest slackware tgz file there's 
no fonts included in it thus causing all the text to be blocks [] ... that's 
what I want to report.",312,"1"
"WINE-30690","no mouse or keyboard in orcs must die","The game Orcs must die! no longer detects keyboard and mouse input.

Initially the mouse cursor (sword) is shown on the first splash screen and can be moved but by the time it has cycled through the various splash videos and arrived at the menu there is no longer a cursor and keyboard input is limited to the down arrow enter and escape.

Using the limited keyboard keys you can access the settings -> controls sub menu to see it show an Xbox controller as the expected input. It should show a keyboard and mouse layout graphic with the various control keys highlighted


This used to work before regression occurred with commit 
a84d2fe20e5479fae8ea9660167ebfac95eafa99 dinput: Stub IDirectInputJoyConfig8 interface.

87a770fa732cfb1088a074f34c8e2075f827199a is the last known good commit

To test you can revert the following 4 commits in order to get a clean revert:
7260132c5d8aa0aa753c12d1e7420c307e651359 dinput: Fix device enumeration by DX8 device type.
699da40d1bb24220050271eea3ddc8cddbd8bcb8 dinput: Add more error checking to IDirectInput_GetDeviceStatus.
310859db675e4b995a56a7578b22b9c3eadb9949 dinput: Add more parameter checking to enum devices.
a84d2fe20e5479fae8ea9660167ebfac95eafa99 dinput: Stub IDirectInputJoyConfig8 interface.


Removing all 4 commits on top of 1.5.4 allows the game to correctly detect keyboard and mouse",116,"0"
"WINE-5127","Half Life and HL:S games freeze a lot until you press Ctrl+Alt+Esc","In Steam based games (HL & Source) when I run apps it freezes occationaly (on
random) and I must press Ctrl+Alt+Esc (sometimes I have to hold it) twice for
the game to stop freezing. I am not sure but I think if you don't press those
keys that it will freeze for all eternity. (I just don't have that much time to
wait ))

I know this is a recent bug because it wasn't around until one of the later
0.9.9+ (?) Wine versions.",24,"0"
"WINE-42170","Microsoft .NET Framework 4.6.2 offline installer does not complete needs wevtapi.EvtNext stub","Created attachment 56771
Wine console output

Microsoft .NET Framework 4.6.2 offline installer setup seems to crash shortly after starting to install so it doesn't finish.

URL to download the setup is https://download.microsoft.com/download/F/9/4/F942F07D-F26F-4F30-B4E3-EBD54FABA377/NDP462-KB3151800-x86-x64-AllOS-ENU.exe

$ sha1sum NDP462-KB3151800-x86-x64-AllOS-ENU.exe 
a70f856bda33d45ad0a8ad035f73092441715431  NDP462-KB3151800-x86-x64-AllOS-ENU.exe

I am using wine-staging 2.0-rc3 with a clear win32 prefix on a 64-bit Ubuntu 16.04 LTS

Trace is attached.",383,"1"
"WINE-15916","Winecfg: fails to open drive_c","To reproduce:
$ rm -rf ~/.wine
$ winecfg

Click on 'Drives' tab.
Click 'Autodetect'

Winecfg then fails to find drive_c.

This is a follow up from bug 15842 which only had this error in Windows 98 mode.",5,"0"
"WINE-13689","Word 2003: Last opened files appear incorrectly in File menu","In MS Word from Office 2003 (wine freshly installed with only msxml3 and richedit30 pre-installed) last opened documents appears incorrectly at the end of the file menu. For instance a file named example.doc would appear as : 

1. C:\windows\profiles\...\example

Note : most (if not all) standard windows fonts are installed on the system.",403,"1"
"WINE-12763","Wineboot: Can't run wine cross test","After Alexandre's commit:
wineboot: Automatically update the prefix directory if wine.inf changes.

http://source.winehq.org/git/wine.git/?a=commitdiffh=e44dd0f8f2bdcbb113036339479ef3a66364972e

I can no longer run the crossbuilt conformance suite. To reproduce in git:
$ rm -rf ~/.wine
$ wget http://www.astro.gla.ac.uk/users/paulm/WRT/CrossBuilt/winetest-latest.exe
$ ~/wine-git/wine winetest-latest.exe # input your test alias

ERROR:

Setting priority to major since this blocks conformance testing.",21,"0"
"WINE-704","native w2k ole32.dll needs NTDLL.NtMapViewOfSection","Move the file mapping functions to ntdll and make the kernel32 depend on it.

program: hh.exe with native ole32.dll.",584,"1"
"WINEHQ_APPS_DATABASE-7962","Duplicate maintainer","I appear to be a maintainer of Deus Ex > 1.112f (English) twice.
I guess this somehow relates to this patch:
http://article.gmane.org/gmane.comp.emulators.wine.patches/34572/match=appdb+duplicate
 but maybe the database still allows duplicates?",3,"0"
"WINE-29843","IE4 crashes on resetting profile sharing needs shdocvw.dll.ResetProfileSharing","Crashes with:

wine: Call from 0x7b83bdc2 to unimplemented function shdocvw.dll.ResetProfileSharing aborting
err:seh:raise_exception Unhandled exception code c00000fd flags 0 addr 0xf744863c

WINEDLLOVERRIDES=shdocvw=n is a workaround.

Steps to reproduce:

1. Change the reported Windows version to NT 4.0. (You may also want to remove
the Z: drive to avoid a scan of the file system)
2. wine iexplore -unregserver
3. Remove inetcpl.cpl and schannel.dll from system32
4. Run the unpacker and installer. After reboot close the program manager windows that pop up as well as any error dialogs.
5. wine control inetcpl.cpl
6. Go to the content tab and click the reset sharing button",868,"1"
"WINE-10518","Alpha Centauri crashes on launch with ALSA sound","If I enable ALSA but not OSS in winecfg and try to launch SMAC it crashes after showing the opening logo attached is the console output.",609,"1"
"WINE-7538","IvAe crashes with GLXBadDrawable error","IvAe software from www.ivao.aero/softdev/ cannot be run because shortly after
starting that it crashes and responses in console:

X Error of failed request:  GLXBadDrawable
  Major opcode of failed request:  143 (GLX)
  Minor opcode of failed request:  11 (X_GLXSwapBuffers)
  Serial number of failed request:  6481
  Current serial number in output stream:  11117

I've found similar bugs filed but I think maybe this is a new one since i found
several workarounds that do not work.

System: Ubuntu 6.10 kernel 2.6.17-10-386
Wine 0.9.31
Nvidia 6600GT 128Mb
Drivers: don't know how to get my Nvidia drivers number however i've just
updated them with envy software.

tnx for any help",650,"1"
"WINE-1859","clicking on disk crashes HEX WOKRSHOP 4.10","Steps to reproduce the bug:
1) download demo version from the http://www.bpsoft.com/downloads/index.html
2) install demo version with command wine hw32v410.exe (InstallShield work
flawlessly !!)
3) start the application with:
wine /home/you/c/Program Files/BreakPoint Software/Hex Workshop 4.1/hworks32.exe
4) click on Disk
5) select open drive

expected result: wine does not work with real disks... therefore it should
ignore RAW access to the disk

real result: steps from above cause wine and app to crash

workaround: do not slick on disk --> open drive

wine version:  CVS wine-20031129
system: RH9 kernel 2.4.20-8",13,"0"
"WINE-25815","12voip application won't start after installation","Created attachment 32899
Terminal output during and after installation of 12 voip.

12voip is a nice VOIP program makes possible to phone to land line mobile phones and sending SMS for a very low price (far lower than a skype).
Download is free on URL: http://www.12voip.com/en/index.html 
After installation it is possible to try some minutes of phoning for free.

I tried to install application on Ubuntu 10.04 and on Debian 5.0.
This output is for Ubuntu 10.04 Wine version 1.2.2-1ubuntu-lucid1.
In the attachment is a terminal output during installation.
After install program won't start at all.

There is a several programs that I think are from the same family (www.justvoip.com www.voipstunt.com) because looks very similar same features export-import features among those applications. Only the price vary among them.

Best regards 
Franko I.",1361,"1"
"WINE-182","WSOCK32_send may have a bad type cast in a return statement","This is on wine 20010216:

When running IBM's VisualAge MicroEdition repository server  I get an internal
application error.  It appears to be in wsock32>>send when sending very large
buffers of data (it may have been 49K+ bytesor perhaps 65K+).

Looking in dlls/winsock/socket.c I see the following in WSOCK32_send:

return (INT16)length

but WSOCK32_send is declared as:

INT WINAPI WSOCK32_send(SOCKET s char *buf INT len INT flags)

For large values of len (which give large values of length) I think this is
wrong.  I changed the (INT16) to (INT) and the application appears to work
correctly now.  I have not done any other testing to see if other applications
are now broken.",70,"0"
"WINE-19890","Trine crashes game if joystick connected.","Created attachment 23339
Winedbg log file

I did regression test (from 1.1.28 to 1.1.27) and found out that 

commit 0932f4a1137974f4326fbba8b2d68d8e9b2aed70
Author: Vitaliy Margolen 
Date:   Sat Aug 15 11:59:05 2009 -0600
dinput: Get default axes configuration from the device for joydev.

crashes Trine game if joystick is plugged in USB at the time of launching game.

I added output from winedbg as attachment.",10,"0"
"WINE-21096","utorrent drops error 12157 when using a https tracker","utorrent fails to connect through https protocol. It's connection system fully relies on the iexplorer implementation. This error shown up in versions previous to the 1.1.14 but since 1.1.14 to 1.1.34 the ssl connection problem was solved. Now with 1.1.35 appears again.

¿Could be related to Better certificate checking on secure connections. in 1.1.35?",284,"1"
"WINE-4165","Unhandled exception at sign-in to Hello from Picasa 6.5.1 (Google)","Problem occurs in Wine 0.9.3 + Wine 0.9.4

After starting the app I said NO in the following dialog of using the
MozillaActiveXControl.

After pressing the button Sign-IN Hello crashes with an unhandled exception.

Command line:
./wine C:\Programme\Hello\Hello.exe

stderr output:

fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:CoResumeClassObjects stub
WARNING: Trying to use ICMP (network ping) will fail unless running as root
fixme:richedit:RichEditANSIWndProc EM_LIMITTEXT: stub
You need to install the Mozilla ActiveX control to
use Wine's builtin CLSID_WebBrowser from SHDOCVW.DLL
fixme:shdocvw:PersistStreamInit_InitNew (0x403c0880)
fixme:shdocvw:WebBrowser_QueryInterface
(0x403c0880)->({3af24292-0c96-11ce-a0cf-00aa00600ab8} 0x531a9720) interface not
supported
fixme:shdocvw:OleObject_Advise (0x403c0880)->(0x531a9700 0x531a974c)
fixme:shdocvw:ViewObject_SetAdvise (0x403c0880)->(1 00000000 0x531a9700)
fixme:shdocvw:OleObject_SetHostNames (0x403c0880)->(LAXWIN (null))
fixme:shdocvw:OleObject_SetExtent (0x403c0880)->(1 0x531a9754)
fixme:shdocvw:OleObject_GetExtent (0x403c0880)->(1 0x531a9754)
fixme:shdocvw:WebBrowser_QueryInterface
(0x403c0880)->({00000126-0000-0000-c000-000000000046} 0x406be60c) interface not
supported
fixme:shdocvw:ViewObject_Draw (0x403c0880)->(1 -1 (nil) (nil) (nil) 0x3dc
0x531a9764 0x531a9764 (nil) 00000000)
fixme:shdocvw:WebBrowser_QueryInterface
(0x403c0880)->({fc4801a3-2ba9-11cf-a229-00aa003d7352} 0x406be688) interface not
supported
fixme:shdocvw:OleObject_SetExtent (0x403c0880)->(1 0x531a9754)
fixme:shdocvw:WebBrowser_put_Visible (0x403c0880)->(ffffffff)
err:mshtml:load_gecko Could not load XPCOM: 126
fixme:urlmon:InternetProtocolSink_ReportResult (0x4041bb58)->(00000000 0 (null))
fixme:shdocvw:OleObject_SetExtent (0x403c0880)->(1 0x531a9754)
fixme:shdocvw:WebBrowser_put_RegisterAsDropTarget (0x403c0880)->(0)
fixme:shdocvw:OleControl_OnAmbientPropertyChange (0x403c0880)->(-1)
fixme:shdocvw:ClientSite_GetContainer (0x403c0880)->(0x406bebbc)
err:ole:CoGetClassObject class {304ce942-6e39-40d8-943a-b913c40c9cd4} not registered
err:ole:CoGetClassObject no class object {304ce942-6e39-40d8-943a-b913c40c9cd4}
could be created for for context 0x1
fixme:ole:CoCreateInstance no classfactory created for CLSID
{304ce942-6e39-40d8-943a-b913c40c9cd4} hres is 0x80040154
fixme:bitblt:X11DRV_BitBlt potential optimization - client-side DIB copy
fixme:bitblt:X11DRV_BitBlt potential optimization - client-side DIB copy
wine: Unhandled page fault on read access to 0x00000008 at address 0x406e3ed7
(thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: page fault on read access to 0x00000008 in 32-bit code
(0x406e3ed7).
In 32 bit mode.
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:1007 GS:0033
 EIP:406e3ed7 ESP:406bda94 EBP:406bdad0 EFLAGS:00210246(   - 00      -RIZP1)
 EAX:00000000 EBX:406fa768 ECX:406ffc40 EDX:406ffc44
 ESI:00000003 EDI:4042c230
Stack dump:
0x406bda94:  4042c230 0000000b 4042c230 40360000
0x406bdaa4:  40360020 401fa6e8 401b9139 401fa6e8
0x406bdab4:  406bdad4 401c4dd6 40360020 00000000
0x406bdac4:  406fa768 00000000 00000001 406bdb20
0x406bdad4:  406e40da 00000003 00000000 00000000
0x406bdae4:  00000001 539f8848 4042c200 00000000
0200: sel=1007 base=40032000 limit=00001fff 32-bit rw-
Backtrace:
=>1 0x406e3ed7 HttpSendRequestExW+0xb7(hRequest=0x3 lpBuffersIn=0x0
lpBuffersOut=0x0 dwFlags=0x1 dwContext=0x539f8848)
[/home/linux/wine/dlls/wininet/http.c:1786] in wininet (0x406e3ed7)
  2 0x406e40da HttpSendRequestExA+0xba(hRequest=0x3 lpBuffersIn=0x0
lpBuffersOut=0x0 dwFlags=0x1 dwContext=0x539f8848)
[/home/linux/wine/dlls/wininet/http.c:1740] in wininet (0x406e40da)
  3 0x0058aa0f in hello (+0x18aa0f) (0x0058aa0f)
  4 0x539f9ae9 (0x539f9ae9)
  5 0x00000000 (0x00000000)
0x406e3ed7 HttpSendRequestExW+0xb7 [/home/linux/wine/dlls/wininet/http.c:1786]
in wininet: movl      0x8(%eax)%esi
1786            if (lpBuffersIn->lpcszHeader)
Modules:
Module  Address                 Debug info      Name (102 modules)
PE      0x00400000-0067d000     Export          hello
ELF     0x40000000-40017000     Deferred        ld-linux.so.2
ELF     0x40018000-40031000     Deferred        libwine.so.1
ELF     0x4003a000-4003f000     Deferred        libxxf86dga.so.1
ELF     0x40042000-4005a000     Deferred        version
  \-PE  0x40050000-4005a000     \               version
ELF     0x4005c000-4006e000     Deferred        libpthread.so.0
ELF     0x4006e000-4018d000     Deferred        libc.so.6
ELF     0x4018d000-40191000     Deferred        libdl.so.2
ELF     0x40192000-40205000     Deferred        ntdll
  \-PE  0x401a0000-40205000     \               ntdll
ELF     0x40205000-402fc000     Deferred        libwine_unicode.so.1
ELF     0x402fc000-40322000     Deferred        libm.so.6
ELF     0x40357000-40360000     Deferred        libsm.so.6
ELF     0x40470000-40569000     Deferred        kernel32
  \-PE  0x40490000-40569000     \               kernel32
ELF     0x405a4000-405a9000     Deferred        libxxf86vm.so.1
ELF     0x405ab000-405af000     Deferred        libxrandr.so.2
ELF     0x406c0000-40700000     Stabs           wininet
  \-PE  0x406d0000-40700000     \               wininet
ELF     0x40700000-4071d000     Deferred        mpr
  \-PE  0x40710000-4071d000     \               mpr
ELF     0x4071d000-40832000     Deferred        user32
  \-PE  0x40740000-40832000     \               user32
ELF     0x40832000-408b6000     Deferred        gdi32
  \-PE  0x40840000-408b6000     \               gdi32
ELF     0x408b6000-408f1000     Deferred        advapi32
  \-PE  0x408c0000-408f1000     \               advapi32
ELF     0x408f1000-40946000     Deferred        shlwapi
  \-PE  0x40900000-40946000     \               shlwapi
ELF     0x40946000-409c9000     Deferred        ole32
  \-PE  0x40960000-409c9000     \               ole32
ELF     0x409c9000-40a0c000     Deferred        rpcrt4
  \-PE  0x409e0000-40a0c000     \               rpcrt4
ELF     0x40a0c000-40a2a000     Deferred        iphlpapi
  \-PE  0x40a10000-40a2a000     \               iphlpapi
ELF     0x40a2a000-40ae5000     Deferred        shell32
  \-PE  0x40a40000-40ae5000     \               shell32
ELF     0x40ae5000-40b91000     Deferred        comctl32
  \-PE  0x40af0000-40b91000     \               comctl32
ELF     0x40b91000-40c23000     Deferred        comdlg32
  \-PE  0x40ba0000-40c23000     \               comdlg32
ELF     0x40c23000-40c4b000     Deferred        winspool
  \-PE  0x40c30000-40c4b000     \               winspool
ELF     0x40c4b000-40cd6000     Deferred        oleaut32
  \-PE  0x40c60000-40cd6000     \               oleaut32
ELF     0x40cd6000-40cea000     Deferred        lz32
  \-PE  0x40ce0000-40cea000     \               lz32
ELF     0x40cea000-40d01000     Deferred        wintrust
  \-PE  0x40cf0000-40d01000     \               wintrust
ELF     0x40d01000-40d32000     Deferred        urlmon
  \-PE  0x40d10000-40d32000     \               urlmon
ELF     0x40d32000-40d5a000     Deferred        cabinet
  \-PE  0x40d40000-40d5a000     \               cabinet
ELF     0x40d5a000-40dd9000     Deferred        winmm
  \-PE  0x40d70000-40dd9000     \               winmm
ELF     0x40dd9000-40e02000     Deferred        ws2_32
  \-PE  0x40de0000-40e02000     \               ws2_32
ELF     0x40e22000-40e2a000     Deferred        libxrender.so.1
ELF     0x40e2a000-40e2c000     Deferred        xlcutf8load.so.2
ELF     0x40e2d000-40e9b000     Deferred        libfreetype.so.6
ELF     0x40e9b000-40eae000     Deferred        libz.so.1
ELF     0x40eae000-40ede000     Deferred        libfontconfig.so.1
ELF     0x40ede000-40efe000     Deferred        libexpat.so.0
ELF     0x40efe000-40f7a000     Deferred        winex11
  \-PE  0x40f10000-40f7a000     \               winex11
ELF     0x40f7a000-40f92000     Deferred        libice.so.6
ELF     0x40f92000-40fa0000     Deferred        libxext.so.6
ELF     0x40fa0000-41099000     Deferred        libx11.so.6
ELF     0x41099000-41138000     Deferred        libgl.so.1
ELF     0x41138000-419cf000     Deferred        fglrx_dri.so
ELF     0x41a8d000-41a96000     Deferred        librt.so.1
ELF     0x41a96000-41aa1000     Deferred        libgcc_s.so.1
ELF     0x52459000-52478000     Deferred        ximcp.so.2
ELF     0x524c9000-524e5000     Deferred        imm32
  \-PE  0x524d0000-524e5000     \               imm32
ELF     0x52510000-52519000     Deferred        libxcursor.so.1
ELF     0x52519000-52548000     Deferred        uxtheme
  \-PE  0x52520000-52548000     \               uxtheme
ELF     0x525a0000-525b7000     Deferred        msacm
  \-PE  0x525b0000-525b7000     \               msacm
ELF     0x525cb000-525e9000     Deferred        libcups.so.2
ELF     0x525e9000-52619000     Deferred        libssl.so.0.9.7
ELF     0x52619000-52713000     Deferred        libcrypto.so.0.9.7
ELF     0x52713000-5271e000     Deferred        libnss_files.so.2
ELF     0x5282b000-5286d000     Deferred        wineoss
  \-PE  0x52840000-5286d000     \               wineoss
ELF     0x5286d000-5288e000     Deferred        msacm32
  \-PE  0x52870000-5288e000     \               msacm32
ELF     0x529a0000-529b5000     Deferred        midimap
  \-PE  0x529b0000-529b5000     \               midimap
ELF     0x52cf2000-52d32000     Deferred        riched20
  \-PE  0x52d00000-52d32000     \               riched20
ELF     0x536e4000-53712000     Deferred        shdocvw
  \-PE  0x536f0000-53712000     \               shdocvw
ELF     0x53712000-53754000     Deferred        mshtml
  \-PE  0x53720000-53754000     \               mshtml
ELF     0x538b0000-538e3000     Deferred        rsaenh
  \-PE  0x538c0000-538e3000     \               rsaenh
ELF     0x538e3000-53913000     Deferred        crypt32
  \-PE  0x538f0000-53913000     \               crypt32
ELF     0x7bf00000-7bf03000     Deferred        
Threads:
process  tid      prio (all id:s are in hex)
00000008 (D) C:\Programme\Hello\Hello.exe
        0000000d   -1
        0000000c    0
        0000000b    0
        0000000a    0
        00000009    0 <==
WineDbg terminated on pid 0x8",18,"0"
"WINE-9126","Resident Evil 4: Extreme slowdown","extreme slowdown. perhaps due this:
fixme:d3d_surface:fb_copy_to_texture_direct Doing a pixel by pixel copy from 
the framebuffer to a texture expect major performance issues
0.9.42 is affected (0.9.41 probably Not  older versions do not work with this 
game at all!)",1,"0"
"WINE-5332","All combobox dropdowns appear in the upper-left corner of the screen","In all recent CVS versions of Wine (starting some time in March 2006) the 
combobox dropdowns open in the upper-left corner of the screen rather than in 
their place.

This happens without any Windows DLLs installed and even in winecfg.

Since I doubt this would go unnoticed for such a long time it's probably an 
interaction with some other component of the system -- this is Linux 
2.6.17-rc5 glibc 2.4 gcc 4.1.1 X.Org 7.1 KDE 3.5.3.",585,"1"
"WINE-16627","Sword of the Stars: command-and-control units do not display last digit in fleet management","As the summary says the last digit is not displayed.  This is a regression.  It displays correctly before commit addcf866cbb42309ccafa41e8424c3b80a00a7ba.  Unfortunately this can't be tested with the current tree as bug 16591 prevents running.",208,"0"
"WINE-15149","Spore: many rendering issues","Created attachment 15870
land and other rendering issues

- land nod rendering correctly
- parts of creature transparent (in creature editor)

System: 
AMD Thurion 64b
3072 mb ram
nvidia geforce 7000m

Software
Ubuntu 8.04 (x86_64)
wine 1.1.3 (with directx9c libs)

video driver - nvidia 177.70",205,"0"
"WINE-12747","Trying to get Electric Quilt 6 working","Created attachment 12408
log

I installed Electric Quilt 6 just fine but I am having problems getting it to run.

I experience with wine is limited any help would be appreciated.",0,"0"
"WINE-33367","Builtin msvcr90 with native msvcr100 may cause crashes","Some of the functions in the builtin msvcr90 do not work properly when native msvcr100 is used leading to crashes.

To reproduce this try installing Python 2.7.3 in a wineprefix with native msvcr100 installed. The interactive interpreter (Python.exe) will fail to launch without crashing unless you either override msvcr100 to builtin or msvcr90 to native.

The crash in this case is caused by Python's call to _fstat64i32. I'm still looking for the exact reason for the crash but I suspect it has something to do with the fact that fileno is being handled by the builtin msvcrt while _fstat64i32 is being handled by the native msvcr100.

If I can write a standalone program that causes the crash I'll be sure to attach it here.",18,"0"
"WINE-2014","Windows too small","In the game Skat 3000 (Shareware) no child-windows are shown correctly:
way to small (almost titlebar only) and no possibility for resizing.
It makes config-dialogs impossible to use (and the game impossible to end since
the dialogs are modal).

If you have time please try downloading and testing the game at
http://www.createam.de/shareware/skat.exe.
I hope you know what I mean.

OS : SuSE 9.0 Prof. with KDE 3.1.?
Wine-Version : Wine-20040121.i586.rpm
Please excuse my bad english (I am german) and correct me if I made a serious
mistake.",1127,"1"
"WINE-12285","BabasChess icons/buttons don't show after upgrading from wine 0.9.57","BabasChess is a FICS (Free Internet Chess Server) interface.
Since upgrading wine from 0.9.57 to 0.9.58 now all the icons or graphics in buttons don't show. I am still able to click on them and use the program since I know the position of the buttons i use the most. Icons that represent status or other information don't show.

Not all graphics worked on 0.9.57 (ex: smilies which cause crashes but turning them off prevented crashes). I would at least appreciate fixing the graphics problem that occurred from 0.9.57 to 0.9.58 .

I have since reverted back to wine 0.9.57",152,"0"
"WINE-1891","free realone player doesn't install in wine","Installation of free realone player (www.real.com) fails under wine.
Running wine RealOnePlayerV2GOLD.exe begins the preparing to install phase
which eventually terminates (no error message).

* Does wine create windows TEMP or TMP environment variables? *


i tried changing the wine config parms like Managed Windows Use DGA Use XShm etc.
but this makes no difference.

(i'm using wine-20031212-1fc1winehq.i686.rpm under Redhat Linux Fedora Core 1)",658,"1"
"WINE-35261","Ys 1 crashes on startup","Created attachment 47028
Console log showing the segfault

Attempting to start Ys 1 causes a segfault right after the game changes the video resolution / tries to create a window as seen in the log.

I ran a regression test and this was the result:

74e3f516bc331205474835811d3984b9c53b0f35 is the first bad commit
commit 74e3f516bc331205474835811d3984b9c53b0f35
Author: Henri Verbeet 
Date:   Wed Dec 4 09:49:34 2013 +0100

    ddraw: Attach the first surface in the swap chain to the last one.

:040000 040000 e6ce297a739548026a6e2d339dd92a91a524bb10 3e9daf86c77a96b4836d88982786f64a1faa7d88 M  dlls",12,"0"
"WINE-36508","valgrind shows a couple invalid writes in kernel32/tests/change.c","../../../tools/runtest -q -P wine -T ../../.. -M kernel32.dll -p kernel32_test.exe.so change && touch change.ok
preloader: Warning: failed to reserve range 00110000-68000000
preloader: Warning: failed to reserve range 7f000000-82000000
==6115== Thread 2:
==6115== Invalid write of size 2
==6115==    at 0x7BC83914: init_handler (signal_i386.c:962)
==6115==    by 0x7BC86297: usr1_handler (signal_i386.c:2157)
==6115==    by 0x422606F: ??? (in /lib32/libpthread-2.19.so)
==6115==  Address 0x59e3576 is on thread 1's stack
==6115== 

==6115== Invalid write of size 2
==6115==    at 0x7BC83922: init_handler (signal_i386.c:967)
==6115==    by 0x7BC86297: usr1_handler (signal_i386.c:2157)
==6115==    by 0x422606F: ??? (in /lib32/libpthread-2.19.so)
==6115==  Address 0x59e3574 is on thread 1's stack
==6115==",537,"1"
"WINE-29440","Abashera revamped fails to install","Created attachment 38111
install crash log

It used to install but not to run.",11,"0"
"WINE-35084","Visual Studio 2010 installer fails to install in 64-bit Windows XP WINEPREFIX (claims Windows XP x64 Service Pack 2 is required)","Hello folks

as the summary says.

The installer prerequisite log dd_depcheck_VC_EXP_100.txt is pretty verbose no need for Wine trace log:

--- snip ---
...
[12/08/1320:06:38] Windows XP x64 Service Pack 2 is required == 
[12/08/1320:06:38] 	This component uses the FileRegVerCheck version check method. It will compare a given version against the version of a regkey on your machine.
[12/08/1320:06:38] 	Registry key being interrogated: HKLMSystem\CurrentControlSet\Control\Windows Value: CSDVersion Version: 512.
[12/08/1320:06:38] 	Version on user's machine:	256
[12/08/1320:06:38] 	Version to be installed:	512
[12/08/1320:06:38] Windows XP x64 Service Pack 2 is required == Component to be installed.
--- snip ---

Setting CSDVersion to 512 in 64-bit prefix allows the installer go further.

Wine uses Service Pack 3 for 32-bit Windows XP setting (=latest).
There is no SP3 for the 64-bit version of Windows XP. XP2 is indeed the latest.

For consistency it would make sense that Wine uses SP2 for 64-bit XP indicating highest SP level.

$ sha1sum vc_web.exe 
c2d61a5424aa474a169e59199aa2158a858833f6  vc_web.exe

$ du -sh vc_web.exe 
3.2M	vc_web.exe

$ wine --version
wine-1.7.8-128-g37460b6

Regards",22,"0"
"WINE-27189","Hydrophobia Prophecy wants GetLogicalProcessorInformation implemented","Running the game gives me a warning:

WARNING: Your PC is below the minimum spec. Processor cores: 1 Minium spec for Hydrophobia: 2 Cores.

I see:
fixme:process:GetLogicalProcessorInformation ((nil)0x33fdb4): stub
fixme:process:GetLogicalProcessorInformation (0x286ff880x33fdb4): stub
fixme:process:GetLogicalProcessorInformation ((nil)0x33fad4): stub
fixme:process:GetLogicalProcessorInformation (0x27638380x33fad4): stub

in the terminal.

Really though I'm sure I have more than one core:
austin@aw25 ~ $ cat /proc/cpuinfo | grep -c processor
8


:)",477,"1"
"WINE-18164","dlls/iphlpapi/ifenum.c: compiler warnings on NetBSD","gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -Wdeclaration-after-statement -Wwrite-strings -Wpointer-arith -I/usr/pkg/include -I/usr/include -I/usr/X11R7/include/freetype2 -I/usr/X11R7/include -O2 -I/usr/pkg/include -I/usr/include -I/usr/X11R7/include/freetype2 -I/usr/X11R7/include  -o ./ifenum.o ./ifenum.c
./ifenum.c: In function 'enumIPAddresses':
./ifenum.c:693: warning: pointer of type 'void *' used in arithmetic
./ifenum.c:693: warning: comparison of distinct pointer types lacks a cast
./ifenum.c: In function 'getIPAddrTable':
./ifenum.c:754: warning: pointer of type 'void *' used in arithmetic
./ifenum.c:754: warning: comparison of distinct pointer types lacks a cast

No patch for this one yet. Won't complain if someone beats me to it -).",3353,"1"
"WINE-6472","Unhandled page fault on read access with a clarion app","When I try to launch a specific app it fails with:
wine: Unhandled page fault on read access to 0x00000094 at address 0x105c013
(thread 0009).

The tarball with wineprefix and launch script is available here:
http://filip.eu.org/wine_wynik.tar.bz2 (3.8MB)",291,"1"
"WINE-21463","Star Trek: Starfleet Command III fails to start","Created attachment 25846
partial stub warnings

Star Trek: Starfleet Command III fails to run due to a partial stub in the Direct3D implementation. I tested this on a fresh wine install (1.1.37) with a fresh .wine directory. I've attached the relevant debug info.",786,"1"
"WINE-26233","Dragon Age 2 demo - sound sometimes missing in EA logo movie","The logo movie at startup seems to have sound on some machines but not others.
Sound works fine after the logo movie.

(I thought native devenum helped but maybe that's only on one machine.)",6,"0"
"WINE-27018","iexplore.exe www.autodesk.com/products causes hang-up","Created attachment 34451
Terminal output on wine-1.3.19-49-g92e05ed

Steps to reproduce:
1) remove ~/.wine
2) winetricks gecko flash
3) wine iexplore.exe www.autodesk.com/products
4) click on Products

Behaviour:
Wine error + hang-up.

Expected behaviour:
No Wine error no hang-up.",253,"1"
"WINE-6041","Notes Administrator and Designer Client  feature selected by default","When I'm trying to install the Notes Client than the Administrator and Designer
features get selected by default but on windows they don't. There currently
seems to be a problem with the features/components installlevel. I'm not sure
when this regression came in (I think it was 0.919).",33,"0"
"WINE-18785","tsMuxeR GUI does not show any text","A simple GUI application (tsMuxer GUI 1.10.6: http://www.smlabs.net/tsmuxer_en.html) doesn't show any text throughout all the application.

O/S: Ubuntu Karmic alpha 1
HW: Dell XPS 1530",407,"1"
"WINE-23621","DDraw surface reference counting doesn't match Windows (causes Recoil to fail)","I just realized there is no bug report covering this issue.

DirectDraw surfaces (and other COM interfaces) maintain a reference count so that they are destroyed when they are no longer in use. The refcount is returned by the IUnknown_Release function. Unfortunately some games base logic on the value returned by IDirectDrawSurface_Release. Specifically they sometimes (wrongly) expect the return to be zero. 

Something like:

if(IDirectDrawSurface_Release(surf)) {
  //Bail out
}

We can test this by forcing DDS_Release to return zero. One game that is affected is Recoil which complains about not being to set the video mode.

The difference between Wine's implementation and the Windows implementation is Windows maintains a refcount for each surface interface version (1 2 3 4 and 7) whereas Wine has one reference count across all versions. There are tests in dlls/ddraw/dsurface.c that confirm the Windows behaviour. To fix this issue the reference counting needs to be split which requires a lot of changes (as versions 1 2 and 3 all share the same thunks).",389,"1"
"WINEHQ_APPS_DATABASE-35350","AppDB display garbled by error messages when logged in","Created attachment 47156
Screenshot of AppDB page when logged in

Screenshot is from Firefox Chrome and Opera look the same.",3,"0"
"WINE-32764","STEP7_Lite_V30_incl_SP4 installation crashed","Created attachment 43252
screenshot

free download from:
https://a248.e.akamai.net/cache.automation.siemens.com/dnl/DQ/DQzMjkzAAAA_39596695_DL/STEP7_Lite_V30_incl_SP4.zip

Automatically installed Mono and Gecko while first running winecfg.

cd to STEP7_Lite_V30_incl_SP4 folder then run it :
$ wine Setup.exe

everything went normally until Siemens Automation License Manager Setup the process crashed with a dialogbox showed like the attachment.
and closing it wouldn't affect the next.

I've tried in wine 1.5.21 & 1.4 too.",1,"0"
"WINE-41733","wineconsole: crashes in emacs mode when pasting (Ctrl+Y) empty buffer","Created attachment 56173
Backtrace of crash.

Originally reported as https://bugs.debian.org/844412.

wineconsole in emacs mode crashes when pressing Ctrl + y (paste buffer) while the buffer is still empty.

This is reproducible if wineconsole is in emacs mode (changing to emacs mode requires restart see bug #41732).

In a fresh wineprefix:

$ wineconsole
Right-click -> Set defaults
Setup - Default settings -> Configuration
-> Choose Edition: Emacs
-> Restart wineconsole
-> Ctrl + y
-> Crash see backtrace.txt.
wine: Unhandled page fault on read access to 0x00000000 at address 0x7b43a074 (thread 0059) starting debugger...

Once I copy something to the buffer it works as expected:
$ wineconsole
Z:\home\jens>foo
-> Strg + w cuts foo
-> Strg + y pastes foo as expected.",29,"0"
"WINE-13737","Word 2003 crashes on opening specific file","Created attachment 13768
The file that crashes word

With loads off versions before and the last one word 2003 crashes on opening the file in the attachment.

I have more of these files containing the same template the all crash.

On multiple systems it has the same result. (works in windows word)",141,"0"
"WINE-35369","differences between ./dlls/shlwapi/wsprintf.c and ./dlls/user32/wsprintf.c","I was looking for an implementation of wsprintf then I saw the comments in these files:

dlls/shlwapi/wsprintf.c:
 * This code is duplicated in user32. If you change something here make sure
 * to change it in user32 too.
dlls/user32/wsprintf.c:
 * This code is duplicated in shlwapi. If you change something here make sure
 * to change it in shlwapi too.

This didn't always seem to happen in the past as you can see in the diff:

--- ./dlls/shlwapi/wsprintf.c	2014-01-03 20:00:47.000000000 +0100
+++ ./dlls/user32/wsprintf.c	2014-01-03 20:00:47.000000000 +0100
(only the most remarkable changes:)
(see the data types UINT vs INT)
-INT WINAPI wvnsprintfA( LPSTR buffer INT maxlen LPCSTR spec __ms_va_list args )
+static INT wvsnprintfA( LPSTR buffer UINT maxlen LPCSTR spec __ms_va_list args )

-    CHAR number[20]
+    CHAR number[21] /* 64bit number can be 18446744073709551616 which is 20 chars. and a \0 */

Last one might possibly be the reason for some instabilities depends where the function is used. It's possibly a good idea to try to use the share the same file on both places - and to look for more similar problems...",408,"1"
"WINE-24585","Senstools fails to install with an error about tempfiles on startup","Created attachment 31049
+ntdll

austin@midna:~/wine-git$ git bisect good
8543c32442d79c33b59b8f6a96c849f6ba5f13df is the first bad commit
commit 8543c32442d79c33b59b8f6a96c849f6ba5f13df
Author: Alexandre Julliard 
Date:   Thu Feb 18 12:57:33 2010 +0100

    ntdll: Properly handle empty but present ACLs in self-relative descriptors.

:040000 040000 8e995d4e5591e7d961ffcf46ecda1713a8697a81 9fab0cd82c13a692fac1549a41c4bc5a21c92aed M	dlls


Strangely though if I compile with gcc from an older svn:
austin@midna:~$ gcc -v
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/usr/local/libexec/gcc/x86_64-unknown-linux-gnu/4.6.0/lto-wrapper
Target: x86_64-unknown-linux-gnu
Configured with: ./configure --enable-languages=cc++ : (reconfigured) ./configure --enable-languages=cc++
Thread model: posix
gcc version 4.6.0 20100908 (experimental) (GCC) 


I always hit this bug. I had to use gcc-4.4 to run the regression test.",220,"0"
"WINE-4228","oleaut32 -native ODBC crash for VFP app","We have an ISS application here that runs our whole office (150 computers). We
move part of them to linux our goal is 50%.
Application is based on VFP7 and connects to Oracle DB using ODBC client 10
(windows version because there is no free Oracle ODBC driver for Linux). Now
the ISS app is moving to VFP9 and we need to have ultimate version of WINE.

There have been problems upgrading Wine from 200504 version (bug 3966) but they
are solved now.

One bug remains and that's what is this report about.

The success is based on OLEAUT32 -the native one must be used otherways the app
crashes. I'll post screenshot and logs.",805,"1"
"WINE-18433","Rosetta Stone Online Spanish (version 0.87594D 221) hangs at 5 during startup","The downloadable app installs fine and starts but
the nice countdown that starts at 6 hangs at 5.
+relay shows it's probably a windows message problem?

Yeah this version is six years old but it's the only
freely downloadable trial I can find at the moment.",1805,"1"
"WINE-30931","Newsbin cannot connect to ssl servers","Cannot register newsbin or connect to any ssl servers.
I have tried 1.41.53 pol 1.4 & 1.53 all with the same problem.

This is the error from Newsbin
ERROR InterSocket - Error: SSL Negotiation Failed Host:
news.giganews.com Error: SSL Connection Failed: 5 Error 0 Success.

and from the NB support pages.(
http://forums.newsbin.com/viewtopic.php?f=31&t=30453&p=185475)

#define SSL_ERROR_SYSCALL 5 /* look at error stack/return value/errno */

This is error 5. It's saying something in Wine's socket layer's dropping the
ball.",798,"1"
"WINE-23839","Neverwinter Nights 2 can't detect video adapter properly claiming: Your video card has less than 128 MB of video memory","When I attempt to start the game I get some error messages stating that I do not have a compliant video card to run the game.

Console output:

fixme:win:EnumDisplayDevicesW ((null)00x1c3f4800x00000000) stub!
fixme:d3d:debug_d3dformat Unrecognized 1094800211 (as fourcc: SSAA) WINED3DFORMAT!
fixme:d3d:getFormatDescEntry Can't find format unrecognized(1094800211) in the format lookup table
fixme:d3d:debug_d3dformat Unrecognized 909198916 (as fourcc: DF16) WINED3DFORMAT!
fixme:d3d:getFormatDescEntry Can't find format unrecognized(909198916) in the format lookup table
fixme:d3d:debug_d3dformat Unrecognized 875710020 (as fourcc: DF24) WINED3DFORMAT!
fixme:d3d:getFormatDescEntry Can't find format unrecognized(875710020) in the format lookup table
fixme:win:EnumDisplayDevicesW ((null)00x1c3e3a80x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x1c3d8d80x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x1c3d9880x00000000) stub!
fixme:devenum:DEVENUM_ICreateDevEnum_CreateClassEnumerator Category {cc7bfb41-f175-11d1-a392-00e0291f3959} not found
fixme:devenum:DEVENUM_ICreateDevEnum_CreateClassEnumerator Category {cc7bfb46-f175-11d1-a392-00e0291f3959} not found


The workaround is to use native devenum.dll and dxdiagn.dll

Gentoo Linux X64
Nvidia 8800 GT
nvidia-drivers 256.35",1166,"1"
"WINE-18856","using selectSingleNode method : xmlXPathEval: evaluation failed","Created attachment 21672
msxml trace 

see test program at url above.
(content.xml is extracted from an empty ods file)",508,"1"
"WINE-19897","d3d10/dxgi: device.ok crashes on MacOS X (InitAdapters/glGetString)","Test results for my build of wine-1.1.28 on Mac are currently online at
http://test.winehq.org/data/f6f458a1eb162adeec83c2241a746b7214a8e843/index_Wine.html

As with 1.1.24 some d3d10/d3dxgi test crash while running winetest.
Sadly for comparison test.winehq.org does not hold the 1.1.24 data anymore.

The backtraces are all similar to:
http://test.winehq.org/data/f6f458a1eb162adeec83c2241a746b7214a8e843/wine_osx.5.7-nv94/d3d10:device.html
=>0 glGetString() in wined3d
1  _X11DRV_wglGetProcAddress+0x2f() in winex11
2  _wglGetProcAddress+0x83() in gdi32
3  _InitAdapters+0x149() in wined3d
4  _WineDirect3DCreate+0x70() in wined3d
It also affects 2 d3dx9 tests as the test data shows.

The machine is running OSX.5.7 with nVidia 9400 graphics.",31,"0"
"WINE-25871","netstat command missing (needed by Guild Wars 'test system' button)","Guild wars installs nicely but if you press 'test system' you see
...
wine: cannot find LC:\\windows\\system32\\netstat.exe",712,"1"
"WINE-10176","rFactor Dedicated not working anymore after update","Created attachment 8780
console output

Hello

rFactor Dedicated Server (http://www.rfactor.net) used to work until rFactor Version 1.250. After upgrading to Version 1.255 it is not working anymore. Please find the output messages attached.
My System is x86 32-bit ubuntu 7.04 and wine 0.9.47.",1584,"1"
"WINE-18920","WhereIsIt shows no search results","When making a search in WhereIsIt no results are shown. The summary in the status bar finds a number of found items but no items appear on the list.

Flagged as minor since I don't know which other applications are affected with the new comctl32 however this is one of the main features of WhereIsIt - this bug renders it almost unusable.

The regression test shows the following info:


475dcb81f58ed8d479ab3a37a811567d583d7701 is first bad commit
commit 475dcb81f58ed8d479ab3a37a811567d583d7701
Author: Nikolay Sivov 
Date:   Fri Jun 5 13:55:19 2009 +0400

    comctl32/listview: Improve column scrolling.

:040000 040000 bfbe0a31d12cf3d01997c50bc4682be7da18246f 99fb1e8668f24b317f26322d58c2dc5989c4bcd0 Mdlls",1,"0"
"WINE-27808","Celtic Kings crashes on launch (audio related)","Created attachment 35568
terminal output

Celtic Kings: Rage of War crashes with an unhandled page fault on startup.
Interestingly the crash is not fatal and the game loads up to the menu. However audio is not playing in the game.

The same problem in Wine-1.0.1 1.2.3...

'winetricks directmusic' or disabling audio in Wine work around the crash.

I don't know whether this is a dupe of bug #17592. The mentioned workarounds apply to #17592 too. The difference is that Celtic Kings can recover from the crash and continues loading the game.",287,"1"
"WINE-34757","Tray icons don't attach to the native notification area","Created attachment 46342
the bottom of the screen when it is broken

Whenever Steam is started now a large grey bar is created at the bottom of my primary screen with Steam's try icon at the rightmost part of it.
Before this bar was not present and Steam's try icon used to show up in a notification area on one of my panels. Which was a good & expected behavior.
I am not sure if this is limited to Steam - it is possible try icons of other programs would act the same way now. Too bad I don't have any program to test this with.

Running a git bisect showed the regression is in commit 209d1a86d26f6eca9b32dd2186c5e2b59fa117c9
But reverting it on master doesn't solve the problem. Instead reverting  13149b67d3972c5babc8b5c368ffba85a5c5c2c2 (which is two commits before the one found by a bisect) solves the problem.

In both cases - with the regression and without it terminal output in is identical so I am not attaching terminal output.

I am running Linux Mint 15 with Mate desktop x86-64

Attaching three images - how the bottom of the screen looks when the try icon placement is broken how the bottom of the screen looks normally and where the try icon is located normally",1,"0"
"WINE-39509","OneDrive for Business installer crashes in Win8 mode (user32.dll 'SetCoalescableTimer' stub missing)","Hello folks

as the summary says.

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/Microsoft Office 15/ClientX86

$ WINEDEBUG=+tid+seh+relay wine ./officeclicktorun.exe >>log.txt 2>&1
...
0029:Call KERNEL32.GetVersionExW(009fe7b4) ret=0052f494
0029:Ret  KERNEL32.GetVersionExW() retval=00000001 ret=0052f494
0029:Call KERNEL32.GetProcAddress(7ea30000005636fc SetCoalescableTimer) ret=0051ae4c
0029:Ret  KERNEL32.GetProcAddress() retval=00000000 ret=0051ae4c
0029:Call KERNEL32.GetLastError() ret=0051ae58
0029:Ret  KERNEL32.GetLastError() retval=0000007f ret=0051ae58
0029:Call KERNEL32.RaiseException(c06d007f0000000000000001009fe8d8) ret=0051ae8b
0029:trace:seh:raise_exception code=c06d007f flags=0 addr=0x7b845f21 ip=7b845f21 tid=0029
0029:trace:seh:raise_exception  info[0]=009fe88c
0029:trace:seh:raise_exception  eax=7b832cbd ebx=00000000 ecx=00000004 edx=009fe7d4 esi=009fe880 edi=009fe840
0029:trace:seh:raise_exception  ebp=009fe818 esp=009fe7b4 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000202
0029:trace:seh:call_stack_handlers calling handler at 0x5331b6 code=c06d007f flags=0
0029:trace:seh:call_stack_handlers handler at 0x5331b6 returned 1
0029:trace:seh:call_stack_handlers calling handler at 0x532e73 code=c06d007f flags=0
0029:trace:seh:call_stack_handlers handler at 0x532e73 returned 1
0029:trace:seh:call_stack_handlers calling handler at 0x7bcb49a3 code=c06d007f flags=0
0029:Call KERNEL32.UnhandledExceptionFilter(009fe294) ret=7bcb49dd
wine: Unhandled exception 0xc06d007f in thread 29 at address 0x7b845f21 (thread 0029) starting debugger...
0029:trace:seh:start_debugger Starting debugger winedbg --auto 12 80
0029:Ret  KERNEL32.UnhandledExceptionFilter() retval=00000000 ret=7bcb49dd
0029:trace:seh:call_stack_handlers handler at 0x7bcb49a3 returned 1
Unhandled exception: 0xc06d007f in 32-bit code (0x7b845f21).
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:0063 GS:006b
 EIP:7b845f21 ESP:009fe7b4 EBP:009fe818 EFLAGS:00000202(   - --  I   - - - )
 EAX:7b832cbd EBX:00000000 ECX:00000004 EDX:009fe7d4
 ESI:009fe880 EDI:009fe840
...
Backtrace:
=>0 0x7b845f21 RaiseException+0x81(code= flags= nbargs= args=) [/home/focht/projects/wine/wine.repo/src/dlls/kernel32/except.c:84] in kernel32 (0x009fe818)
  1 0x7bc7fbb2 relay_call+0x39() in ntdll (0x009fe858)
  2 0x7b830af1 in kernel32 (+0x10af0) (0x009fe8d0)
  3 0x0051ae8b in officeclicktorun (+0x11ae8a) (0x009fe8d0)
  4 0x0051af25 in officeclicktorun (+0x11af24) (0x009fe900)
  5 0x004b00ba in officeclicktorun (+0xb00b9) (0x009fe988)
  6 0x004af53c in officeclicktorun (+0xaf53b) (0x009fe990)
  7 0x004abb9b in officeclicktorun (+0xabb9a) (0x009fea18)
  8 0x7bc9745c call_thread_func_wrapper+0xb() in ntdll (0x009fea28) 
...
0x7b845f21 RaiseException+0x81 [/home/focht/projects/wine/wine.repo/src/dlls/kernel32/except.c:84] in kernel32: subl	$4%esp
84	    RtlRaiseException( 
Modules:
Module	Address			Debug info	Name (78 modules)
PE	  350000-  365000	Deferred        apiclient
PE	  400000-  5ce000	Export          officeclicktorun
PE	10000000-100aa000	Deferred        c2rui
ELF	42771000-4278f000	Deferred        libgcc_s.so.1 
...
Threads:
process  tid      prio (all id:s are in hex) 
...
0000000c (D) C:\Program Files\Microsoft Office 15\ClientX86\officeclicktorun.exe
	00000036    0
	00000029    0 <==
	00000022    0 
--- snip ---

MSDN: https://msdn.microsoft.com/de-de/library/windows/desktop/hh405404%28v=vs.85%29.aspx

A forward/semi-stub could be implemented based on this comment:

--- quote ---
When uToleranceDelay is set to 0 the system default timer coalescing is used and SetCoalescableTimer behaves the same as SetTimer.
--- quote ---

$ sha1sum Setup.x86.en-us_GrooveRetail_3V9N8-W93CC-FQPB8-Y9WVF-TVGJ3_TX_PR_.exe 
ddf02801b54227849886ef9a2767a1155f87a9ef  Setup.x86.en-us_GrooveRetail_3V9N8-W93CC-FQPB8-Y9WVF-TVGJ3_TX_PR_.exe

$ du -sh Setup.x86.en-us_GrooveRetail_3V9N8-W93CC-FQPB8-Y9WVF-TVGJ3_TX_PR_.exe 
1.1M	Setup.x86.en-us_GrooveRetail_3V9N8-W93CC-FQPB8-Y9WVF-TVGJ3_TX_PR_.exe

$ wine --version
wine-1.7.53-156-gf8d78b0

Regards",186,"0"
"WINE-20443","EslWire: crash at start (dwmapi.DwmDefWindowProc is not implemented)","Created attachment 24286
first dump +second dump

At start a crash occur because
dwmapi.dll unimplemented function

with dwmapi.dll from other source 
unimplemented function in User32.dll",298,"1"
"WINE-25252","Need For Speed Hot Pursuit (2010) crashes on startup (needs Win32_NetworkAdapter WMI class)","Created attachment 32068
console output 

Trying to run Need For Speed Hot Pursuit on wine 1.1.37 wineperfix=32 vanilla
game will crash out with. 

fixme:wbemprox:wbem_locator_ConnectServer 0x1cb238 LROOT\\CIMV2 (null) (null) (null) 0x00000000 (null) (nil) 0xbb811cc)
wine: Unhandled page fault on read access to 0x00000000 at address 0x758aa1 (thread 0009) starting debugger...
Unhandled exception: page fault on read access to 0x00000000 in 32-bit code (0x00758aa1).

Have tryed running it in Eum desktop same issiue occurs.

please see attchments with console output 

system:

AMD Phenom(tm) II X4 955 Processor
ATI HD5700 X2 in crossfire Catalys 10.10
Archlinux x86_64",583,"1"
"WINE-36505","DynDNS Updater 4.1.6 crashes on startup","Hello folks

relevant part of trace log:

---- snip ---
WINEDEBUG=+tid+seh+relay+jscript+ole+variant wine ./DynDNS\ Updater\ 4.1.6.exe >>log.txt 2>&1
...
0023:trace:jscript:JScriptParse_ParseScriptText (0x140338)->(Lrequire(\res://scriptLib.js\)\r\nrequire(\res://json2.js\)\r\nrequire(\res://base64.js\)\r\nrequire(\res://md5.js\)\r\n\r\n/////////////////////////////////////////////////////////////////////\r\napp.log(0 'SCRIPT STARTS')\r\napp.log(0 'TAG DATA: ' + app.tag)\r\n\r\nvar mainScript = (... (null) (nil) (null) ffffffff 0 20 (nil) (nil)) 
...
0023:trace:jscript:interp_str Lres://scriptLib.js 
...
0023:trace:jscript:JScriptParse_ParseScriptText (0x140338)->(L////////////////////////////////////////////////////////////////////\r\n// Library\r\n//\r\nvar WinConst = {\r\n//-- window style bits.\r\n    WS_OVERLAPPED: 0x00000000\r\n    WS_POPUP: 0x80000000\r\n    WS_CLIPSIBLINGS: 0x04000000\r\n    WS_CLIPCHILDREN: 0x02000000\r\n    WS_CAPTION: 0x00C00000... (null) (nil) (null) ffffffff 0 20 (nil) (nil)) 
...
0023:trace:jscript:interp_double 0.000000
0023:trace:jscript:interp_obj_prop LFFF_DEFAULT
0023:trace:jscript:ensure_prop_name creating prop LFFF_DEFAULT flags 200
0023:Call ntdll.RtlAllocateHeap(001100000000000000000018) ret=7d688c0d
0023:Ret  ntdll.RtlAllocateHeap() retval=001b3978 ret=7d688c0d
0023:trace:jscript:prop_put LFFF_DEFAULT = 0.000000
0023:trace:jscript:interp_double 1.000000
0023:trace:jscript:interp_obj_prop LFFF_FILESONLY
0023:trace:jscript:ensure_prop_name creating prop LFFF_FILESONLY flags 200
0023:Call ntdll.RtlAllocateHeap(00110000000000000000001c) ret=7d688c0d
0023:Ret  ntdll.RtlAllocateHeap() retval=001b3998 ret=7d688c0d
0023:trace:jscript:prop_put LFFF_FILESONLY = 1.000000
0023:trace:jscript:interp_double 2.000000
0023:trace:jscript:interp_obj_prop LFFF_DIRSONLY
0023:trace:jscript:ensure_prop_name creating prop LFFF_DIRSONLY flags 200
0023:Call ntdll.RtlAllocateHeap(00110000000000000000001a) ret=7d688c0d
0023:Ret  ntdll.RtlAllocateHeap() retval=001b39c0 ret=7d688c0d
0023:trace:jscript:prop_put LFFF_DIRSONLY = 2.000000
0023:trace:jscript:interp_double 4.000000
0023:trace:jscript:interp_obj_prop LFFF_RECURSIVE
0023:trace:jscript:ensure_prop_name creating prop LFFF_RECURSIVE flags 200
0023:Call ntdll.RtlReAllocateHeap(0011000000000000001b38f000000100) ret=7d688c76
0023:Ret  ntdll.RtlReAllocateHeap() retval=001b39e8 ret=7d688c76
0023:Call ntdll.RtlAllocateHeap(00110000000000000000001c) ret=7d688c0d
0023:Ret  ntdll.RtlAllocateHeap() retval=001b38f0 ret=7d688c0d
0023:trace:jscript:prop_put LFFF_RECURSIVE = 4.000000
0023:trace:jscript:interp_double 1.000000
0023:trace:jscript:interp_obj_prop LSLOF_ABORT_RESISTANT
0023:trace:jscript:ensure_prop_name creating prop LSLOF_ABORT_RESISTANT flags 200
0023:Call ntdll.RtlAllocateHeap(00110000000000000000002a) ret=7d688c0d
0023:Ret  ntdll.RtlAllocateHeap() retval=001b3918 ret=7d688c0d
0023:trace:jscript:prop_put LSLOF_ABORT_RESISTANT = 1.000000
0023:trace:jscript:interp_var_set LAppConst
0023:trace:jscript:prop_put LAppConst = obj(0x1b38c8)
0023:trace:jscript:interp_ret 
0023:trace:seh:raise_exception code=c0000005 flags=0 addr=0x7d6a794b ip=7d6a794b tid=0023
0023:trace:seh:raise_exception  info[0]=00000001
0023:trace:seh:raise_exception  info[1]=00000000
0023:trace:seh:raise_exception  eax=00000000 ebx=7d6dd000 ecx=7d6a7948 edx=7ff80001 esi=0033f258 edi=00217b8c
0023:trace:seh:raise_exception  ebp=0033f1b8 esp=0033f170 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00210216
...
Unhandled exception: page fault on write access to 0x00000000 in 32-bit code (0x7d6a794b).
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:0063 GS:006b
 EIP:7d6a794b ESP:0033f170 EBP:0033f1b8 EFLAGS:00210216(  R- --  I   -A-P- )
 EAX:00000000 EBX:7d6dd000 ECX:7d6a7948 EDX:7ff80001
 ESI:0033f258 EDI:00217b8c
...
Backtrace:
=>0 0x7d6a794b jsval_to_variant+0x63(val={u={n=nan s={u={obj=0x217b8c str=0x217b8c b=0x217b8c v=0x217b8c as_uintptr=0x217b8c} tag=JSV_UNDEFINED}}} retv=(nil)) [/home/focht/projects/wine/wine.repo/src/dlls/jscript/jsutils.c:344] in jscript (0x0033f1b8)

  1 0x7d6a0bc6 JScriptParse_ParseScriptText+0x250(iface= pstrCode= pstrItemName= punkContext= pstrDelimiter= dwSourceContextCookie= ulStartingLine= dwFlags= pvarResult= pexcepinfo=) [/home/focht/projects/wine/wine.repo/src/dlls/jscript/jscript.c:786] in jscript (0x0033f248)

  2 0x0040eef2 in dyndns updater 4.1.6 (+0xeef1) (0x0033f2dc)
  3 0x0040dcfe in dyndns updater 4.1.6 (+0xdcfd) (0x0033f364)
  4 0x0040dfa7 in dyndns updater 4.1.6 (+0xdfa6) (0x0033f3d8)
  5 0x7e2adf16 call_method+0x21() in oleaut32 (0x0033f3f8)
...
344	        V_VT(retv) = VT_EMPTY
Modules:
Module	Address			Debug info	Name (86 modules)
PE	  400000-  477000	Export          dyndns updater 4.1.6
ELF	7b800000-7ba60000	Dwarf           kernel32
  \-PE	7b810000-7ba60000	\               kernel32
ELF	7bc00000-7bcee000	Dwarf           ntdll
  \-PE	7bc10000-7bcee000	\               ntdll
ELF	7bf00000-7bf04000	Dwarf           
ELF	7d663000-7d6fa000	Dwarf           jscript
  \-PE	7d670000-7d6fa000	\               jscript
...
process  tid      prio (all id:s are in hex)
...
00000022 (D) Z:\home\focht\Downloads\DynDNS Updater 4.1.6.exe
	00000023    0 <== 
--- snip ---

The app passes 'dwFlags = SCRIPTTEXT_ISEXPRESSION' _and_ NULL 'pvarResult' which Wine's JScript tries to write to after successful 'exec_source'.

The scriptlet is rather uninteresting (not a problem):

--- snip ---
////////////////////////////////////////////////////////////////////
// Library
//
var WinConst = {
//-- window style bits.
    WS_OVERLAPPED: 0x00000000
    WS_POPUP: 0x80000000
    WS_CLIPSIBLINGS: 0x04000000
    WS_CLIPCHILDREN: 0x02000000 
...
    INTERNET_FLAG_IGNORE_REDIRECT_TO_HTTP  : 0x00008000 // ignore https:// to http://
    INTERNET_FLAG_IGNORE_REDIRECT_TO_HTTPS : 0x00004000 // ignore http:// to https://
    INTERNET_FLAG_IGNORE_CERT_DATE_INVALID : 0x00002000 // ignore expired X509 Cert.
    INTERNET_FLAG_IGNORE_CERT_CN_INVALID   : 0x00001000 // ignore bad common name in X509 Cert.

    ___LINE_FOR_NEW_VALUES___ : 0
}                                                     

var AppConst = {
	FFF_DEFAULT	: 0
	FFF_FILESONLY	: 1
	FFF_DIRSONLY	: 2
	FFF_RECURSIVE	: 4

	SLOF_ABORT_RESISTANT	: 0x0001
}
--- snip ---

MSDN: http://msdn.microsoft.com/en-us/library/tch4w30x%28v=vs.94%29.aspx

--- quote ---
 pvarResult

[out] Address of a buffer that receives the results of scriptlet processing or NULL if the caller expects no result (that is the SCRIPTTEXT_ISEXPRESSION value is not set). 
--- quote ---

Someone is wrong here ...

Source: http://source.winehq.org/git/wine.git/blob/02d63cb3120d89a5107d4e26a92eb4bd06e2213d:/dlls/jscript/jscript.c#l753

--- snip ---
 753 static HRESULT WINAPI JScriptParse_ParseScriptText(IActiveScriptParse *iface
754        LPCOLESTR pstrCode LPCOLESTR pstrItemName IUnknown *punkContext
755        LPCOLESTR pstrDelimiter CTXARG_T dwSourceContextCookie ULONG ulStartingLine
756        DWORD dwFlags VARIANT *pvarResult EXCEPINFO *pexcepinfo)
757 {
758     JScript *This = impl_from_IActiveScriptParse(iface)
759     bytecode_t *code
760     HRESULT hres
...
774     if(dwFlags & SCRIPTTEXT_ISEXPRESSION) {
775         exec_ctx_t *exec_ctx
776
777         hres = create_exec_ctx(This->ctx NULL This->ctx->global NULL TRUE 
778         if(SUCCEEDED(hres)) {
779             jsval_t r
780
781             IActiveScriptSite_OnEnterScript(This->site)
782
783             clear_ei(This->ctx)
784             hres = exec_source(exec_ctx code 
785             if(SUCCEEDED(hres)) {
786                 hres = jsval_to_variant(r pvarResult)
787                 jsval_release(r)
788             }
789             exec_release(exec_ctx)
790
791             IActiveScriptSite_OnLeaveScript(This->site)
792         }
...
--- snip ---

$ sha1sum DynDNS\ Updater\ 4.1.6.exe 
629268eaef62d424798c7965d3e9e63a0584861a  DynDNS Updater 4.1.6.exe

$ du -sh DynDNS\ Updater\ 4.1.6.exe 
460K	DynDNS Updater 4.1.6.exe

$ wine --version
wine-1.7.19-47-g704d169

Regards",21,"0"
"WINE-7529","MSI Installer: Citrix Presentation Server Client Package - Version 9.230 fails to install","Summary:

Wine 0.9.31 can not install the Citrix Client package the msi package  finish
unexpectedly displaying a dialog titled: Installation Cancelled on that dialog
says: The installation ended prematurely because of an error.

I tried to install the msi it using:

$rm .wine/ -fr
$wineprefixcreate
$wget http://download2.citrix.com/FILES/en/products/client/ica/client9230/
Ica32Pkg.msi
$wine msiexec /i Ica32Pkg.msi

The output from wine is:
Xlib:  extension GLX missing on display localhost:1.0.
err:wgl:X11DRV_WineGL_InitOpenglInfo  couldn't initialize OpenGL expect 
problems
Xlib:  extension GLX missing on display localhost:1.0.
err:wgl:X11DRV_WineGL_InitOpenglInfo  couldn't initialize OpenGL expect 
problems
fixme:advapi:LookupAccountNameW (null) Lucedac (nil) 0x33f808 (nil) 0x33f804 
0x33f810 - stub
fixme:advapi:LookupAccountNameW (null) Lucedac 0x177b90 0x33f808 0x177ba8 
0x33f804 0x33f810 - stub
fixme:msi:ACTION_AppSearchComponents AppSearch CompLocator (L{2AE8A409-AA18-
4780-856F-DE6ED0FA4BAB}) unimplemented
fixme:msi:ACTION_AppSearchComponents AppSearch CompLocator (L{2AE8A409-AA18-
4780-856F-DE6ED0FA4BAB}) unimplemented
fixme:msi:ACTION_AppSearchComponents AppSearch CompLocator (L{2AE8A409-AA18-
4780-856F-DE6ED0FA4BAB}) unimplemented
fixme:msi:ACTION_AppSearchComponents AppSearch CompLocator (L{2AE8A409-AA18-
4780-856F-DE6ED0FA4BAB}) unimplemented
fixme:msi:ACTION_AppSearchComponents AppSearch CompLocator (L{2AE8A409-AA18-
4780-856F-DE6ED0FA4BAB}) unimplemented
fixme:msi:ACTION_AppSearchComponents AppSearch CompLocator (L{2AE8A409-AA18-
4780-856F-DE6ED0FA4BAB}) unimplemented
fixme:msi:ACTION_AppSearchComponents AppSearch CompLocator (L{2AE8A409-AA18-
4780-856F-DE6ED0FA4BAB}) unimplemented
fixme:msi:ACTION_AppSearchComponents AppSearch CompLocator (L{2AE8A409-AA18-
4780-856F-DE6ED0FA4BAB}) unimplemented
fixme:msi:ACTION_AppSearchComponents AppSearch CompLocator (L{2AE8A409-AA18-
4780-856F-DE6ED0FA4BAB}) unimplemented
fixme:msi:ACTION_AppSearchComponents AppSearch CompLocator (L{2AE8A409-AA18-
4780-856F-DE6ED0FA4BAB}) unimplemented
fixme:msi:ACTION_AppSearchComponents AppSearch CompLocator (L{2AE8A409-AA18-
4780-856F-DE6ED0FA4BAB}) unimplemented
fixme:msi:ACTION_AppSearchComponents AppSearch CompLocator (L{2AE8A409-AA18-
4780-856F-DE6ED0FA4BAB}) unimplemented
fixme:msi:ACTION_AppSearchComponents AppSearch CompLocator (L{2AE8A409-AA18-
4780-856F-DE6ED0FA4BAB}) unimplemented
fixme:msi:ACTION_AppSearchComponents AppSearch CompLocator (L{1DD10EF4-2557-
4F04-A23C-9B8963D65DE0}) unimplemented
fixme:msi:ACTION_AppSearchComponents AppSearch CompLocator (L{DEAEF21B-4507-
4142-9853-BE482CCA8FB2}) unimplemented
fixme:msi:msi_unimplemented_action_stub MigrateFeatureStates -> 8 ignored 
LUpgrade table values
err:msi:custom_get_thread_return Invalid Return Code 1627
err:msi:ITERATE_Actions Execution halted action LSearchNewDialog returned 
1603

Bear in mind that I'm running the application over a Xvnc session hence the 
OpenGL messages.

Im running ubuntu 6.10 and I got wine as a .deb package from the Wine 
repository 0.9.31~winehq0~ubuntu~6.06-1

Note that I wasn't expecting this app to run just testing MSI files and found 
this one not working.",157,"0"
"WINE-12577","BYOND: Crashing on login","Created attachment 12161
crash log in git

Steps to reproduce this:
1. Download the BYOND suite for Windows (byond_355.exe)
2. Run byond_355.exe. It should install normally.
3. Run the file byond.exe which will be located in C:\Program Files\BYOND\bin
(or wherever you chose to install it) relative to WINE.
4. Login: Username - Winehq  password - winehq

+relay+seh+tid attached",152,"0"
"WINE-863","Listview report style shows right end of text not left end","Bugcomments restored from Gmane.org: 
 
When drawing subItem text in LVS_REPORT style if the text is longer than the  
rectangle only the right portion of the text displays. Using the native  
controls the left end of the text displays follow by .... 
 
How to cause: 
1. Using notepad or other simple program get the fileopen dialog. 
2. Hit the Details icon (rightmost icon). Or right click in the box area and  
select the Details view. 
3. Adjust the header field length till not all the text can fit. 
 
The native control uses lots of GetTextExtentPoint to find the amount of text  
to fit with the ellipse. We could use DrawText like the Header control.",523,"1"
"WINE-21962","Call of Duty 4 crashes","Created attachment 26669
log trace generated by the game's last crash

Call of duty 4 crashes while running with wine-1.1.38.

My regression test gives me :
224043d6cf8b56e9ff2537358646700211d54d1f is first bad commit
commit 224043d6cf8b56e9ff2537358646700211d54d1f
Author: Stefan Dösinger 
Date:   Thu Jan 28 20:51:06 2010 +0100

    wined3d: Implement dynamic buffers with GL_ARB_map_buffer_range.

I checked that the crash happens also with v1.1.39 and v1.1.40.
Attached is the trace generated when the game crashes.

For now i'll stick with v1.1.37...

Thanks for your support
Seb.",104,"0"
"WINE-30641","wine silently replaces requests for d3d texture formats not supported by hardware with invalid requests","When running a d3d application using s3tc on drivers that don't have support for that texture format wine gives lots of complaints like:

err:d3d_surface:surface_allocate_surface >>>>>>>>>>>>>>>>> GL_INVALID_VALUE
(0x501) from glTexImage2D @ surface.c / 2566
err:d3d_surface:surface_upload_data >>>>>>>>>>>>>>>>> GL_INVALID_ENUM (0x500)
from glTexSubImage2D @ surface.c / 2349

GL trace shows:

37923 glTexImage2D(target = GL_TEXTURE_2D level = 0 internalformat = GL_ZERO
width = 64 height = 64 border = 0 format = GL_ZERO type = GL_ZERO pixels =
NULL)
37923: warning: glGetError(glTexImage2D) = GL_INVALID_VALUE

This is totally useless and bogus.

1) no message is logged about the application using a format that is not supported.

2) bogus format is used instead so nobody outside of wine can figure out WTF it is the application tried to do that did not work.",2290,"1"
"WINE-5509","regression: Treasuremole crashes in wined3d","While starting new game it crashes with the attacheed log. This is with current
cvs.  Worked fine in wine-0.9.15",7,"0"
"WINE-765","Off by one error in scrollbar position","The bug 56 is fixed but now I see (the bug may have been there before) that the
scrollbar starts one pixel too high. Because of this it overlaps the flat
border. And now I noticed that this also happens in the sysmets2 and sysmets3
examples.

See also:
   http://fgouget.free.fr/wine/PrgWin95/Chap8.shtml#head
   http://fgouget.free.fr/wine/PrgWin95/Chap3.shtml#sysmets2
   http://fgouget.free.fr/wine/PrgWin95/Chap3.shtml#sysmets3
   http://fgouget.free.fr/wine/PrgWin98/Chap9.shtml#head
   http://fgouget.free.fr/wine/PrgWin98/Chap4.shtml#SysMets2
   http://fgouget.free.fr/wine/PrgWin98/Chap4.shtml#SysMets3",2062,"1"
"WINE-14939","Black & White: DXTC to ARGB converter not implemented","Running Black & White regardless of in-game settings the following fixme occurs:
fixme:d3d_surface:surface_convert_format Cannot find a conversion function from format WINED3DFMT_DXT1 to WINED3DFMT_A4R4G4B4

Although the game is still playable the lack of DXT1 support does seriously affect the graphics and gameplay. On lowest settings the terrain is transparent and some objects are untextured and 100% black on highest some textures are corrupted or untextured as in lowest settings.",3094,"1"
"WINE-18424","Mac OS X Joystick support doesn't work","I was really pleased to see that Wine added support for joysticks on the Mac but I haven't had any success getting my MS Sidewinder Precision Pro (USB) to work in the games I've tried.  I've tried with two demos: Descent Freespace demo and IL-2 Sturmovik demo.  I've tried connecting the stick before and after Wine starts.  In each case no joystick is detected.  The stick is detected in USB Prober and works properly in other OS X software so I know it's generally compatible.

I'm using Kronenberg's build of 1.1.20 available here: http://www.kronenberg.org/darwine/

Thanks!
-Nathan",2138,"1"
"WINE-20391","Word 2003 background of tab stops is wrong color","Created attachment 24173
Screenshot showing tab stops with fuchsia background

Tab stops on the ruler in Word 2003 now have a fuchsia background. I'm attaching a screenshot. Regression test results:

6b8753185f30197047773af6a26eafd34d45367c is first bad commit
commit 6b8753185f30197047773af6a26eafd34d45367c
Author: Roderick Colenbrander 
Date:   Sat Sep 26 14:52:46 2009 +0200

    winex11: Add support for 16-bit/32-bit DIB sections.

:040000 040000 f2d2821909d152a1d37ae2932bf6017d7b622344 74221a3bdd0b8be716ed4c7900a58fddc93a2f08 M      dlls",179,"0"
"WINE-13121","Sipru Installation Error","Installer doesn't starts. After that I installed it to a Windows machine & tried to run it directly from the installation folder...

Abort Message: Winhlp.32.exe

& it suddenly crashes",3,"0"
"WINE-25234","Half Life 2: wrong colors","There are wrong colors in several places in Half Life 2.",615,"1"
"WINE-171","Wine 1.0 Installer Metabug - WISE","WISE installers have been pretty painless so far AFAIK.

Nevertheless the page for ongoing changes is at
http://wine.codeweavers.com/cgi-bin/fom?file=335",1071,"1"
"WINE-54","PrgWin95: Wrong background for checkboxes radiobuttons etc.","The Petzold 95 contains an example btnlook which draws various types of
buttons. In this example the following buttons have a background of the wrong
color: white instead of grey:
 * checkbox
 * autocheckbox
 * radiobutton
 * 3state
 * auto3state
 * autoradio
 * ownerdrawn

   Note that their label is on a grey background but the rest of the button is
not.
   (also the following buttons work fine: pushbutton defpushbutton groupbox)

See also:
   http://fgouget.free.fr/wine/PrgWin95/Chap8.shtml#btnlook",1554,"1"
"WINE-33378","measuring/painting strings needs better tests","Created attachment 44169
minimal fix for a clipping problem

This is sort of bug 25717 revisited in that that a problem that happened shortly before it was fixed has popped up again.

I haven't been checking it in awhile but today I did then had to trace it back to 1.5.26.

After a bisect it came to commit gdiplus: GdipMeasureCharacterRanges should treat empty layout extents as infinite when StringFormatFlagsNoClip is specified..
Clipping went broken again resulting in invisible text.

Minimal fix attached and sent to wine-patches.

As I said it's the clipping again - without resetting < 0.5 to (1<< 23) 'if (!(format_flags & StringFormatFlagsNoClip) && scaled_rect.Width != 1 << 23 && scaled_rect.Height != 1 << 23)' condition doesn't go into effect.",125,"0"
"WINEHQ_APPS_DATABASE-18947","AppDB isn't deleting idle maintainers","The AppDB should remove maintainers that don't do anything (by design) but it isn't.  Admins are removing idle maintainers manually and there are a lot of them!

This solution itself isn't ideal as they just reapply there is no way to block this and many users don't take the hint.",1031,"1"
"WINE-44941","Bioshock Remastered doesn't start in windowed mode","Created attachment 61046
log for bioshock remastered opening in steam (with -windowed option)

Bioshock Remastered with the -windowed flag (set as a steam launch option) should start in windowed mode but doesn't. Changing to windowed mode from within the game works fine. Doesn't work on 3.5-devel (ubuntu) and 3.5 staging (gentoo). The flag works on Windows 8.1.",301,"1"
"WINE-9194","An old ~/.wine produce a crash in comdlg32PringDlgA","Start the game and it crashes almost immediately with a bad pointer deference.
This problem did not happen with 0.9.41. (With 0.9.41 it dereferenced a
different bad pointer in the printer driver code and crashed somewhere else.)",68,"0"
"WINE-13071","Flashplayer crashes in a quartz bug","The crash occurs because of a null pointer in FilterGraph2_Disconnect.

Joaopa",74,"0"
"WINE-4018","Compilation problem with Oliver Stieber's patch dated from December 8","Whe compiling wine I have the following error message:

gcc -c -I. -I. -I../../include -I../../include -I/usr/X11R6/include
-D__WINESRC__   -D_REENTRANT -fPIC -Wall -pipe -mpreferred-stack-boundary=2
-fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -g
-O2  -o wgl.o wgl.c
gcc -c -I. -I. -I../../include -I../../include -I/usr/X11R6/include
-D__WINESRC__   -D_REENTRANT -fPIC -Wall -pipe -mpreferred-stack-boundary=2
-fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -g
-O2  -o wgl_ext.o wgl_ext.c
LD_LIBRARY_PATH=../../libs/unicode:$LD_LIBRARY_PATH ../../tools/wrc/wrc
--nostdinc -I. -I. -I../../include -I../../include -I/usr/X11R6/include
-D__WINESRC__    -foversion.res version.rc
../../tools/winegcc/winegcc -B../../tools/winebuild -shared ./opengl32.spec   
opengl_ext.o opengl_norm.o wgl.o wgl_ext.o  version.res   -o opengl32.dll.so
-L../../dlls -L../../dlls/user32 -L../../dlls/gdi32 -L../../dlls/advapi32
-L../../dlls/kernel32 -luser32 -lgdi32 -ladvapi32 -lkernel32  -L../../libs/wine
-lwine -L/usr/X11R6/lib  -lSM -lICE -lXxf86dga -lXxf86vm -lXext -lX11  -lGL
-lGLU -L../../libs/port -lwine_port
make[2]: Leaving directory `/home/david/wine/dlls/opengl32'
rm -f opengl32.dll.so && ln -s opengl32/opengl32.dll.so opengl32.dll.so
make[2]: Entering directory `/home/david/wine/dlls/wined3d'
gcc -c -I. -I. -I../../include -I../../include -I/usr/X11R6/include
-D__WINESRC__   -D_REENTRANT -fPIC -Wall -pipe -mpreferred-stack-boundary=2
-fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -g
-O2  -o basetexture.o basetexture.c
gcc -c -I. -I. -I../../include -I../../include -I/usr/X11R6/include
-D__WINESRC__   -D_REENTRANT -fPIC -Wall -pipe -mpreferred-stack-boundary=2
-fno-strict-aliasing -gstabs+ -Wdeclaration-after-statement -Wpointer-arith  -g
-O2  -o cubetexture.o cubetexture.c
cubetexture.c: In function 'IWineD3DCubeTextureImpl_GetCubeMapSurface':
cubetexture.c:276: error: 'D3DCUMPMAP_FACE_POSITIVE_X' undeclared (first use in
this function)
cubetexture.c:276: error: (Each undeclared identifier is reported only once
cubetexture.c:276: error: for each function it appears in.)
cubetexture.c:276: error: 'D3DCUBEMAP_FACE_NEGITIVE_Z' undeclared (first use in
this function)
cubetexture.c: In function 'IWineD3DCubeTextureImpl_LockRect':
cubetexture.c:295: error: 'D3DCUMPMAP_FACE_POSITIVE_X' undeclared (first use in
this function)
cubetexture.c:295: error: 'D3DCUBEMAP_FACE_NEGITIVE_Z' undeclared (first use in
this function)
cubetexture.c: In function 'IWineD3DCubeTextureImpl_UnlockRect':
cubetexture.c:312: error: 'D3DCUMPMAP_FACE_POSITIVE_X' undeclared (first use in
this function)
cubetexture.c:312: error: 'D3DCUBEMAP_FACE_NEGITIVE_Z' undeclared (first use in
this function)
cubetexture.c: In function 'IWineD3DCubeTextureImpl_AddDirtyRect':
cubetexture.c:329: error: 'D3DCUMPMAP_FACE_POSITIVE_X' undeclared (first use in
this function)
cubetexture.c:329: error: 'D3DCUBEMAP_FACE_NEGITIVE_Z' undeclared (first use in
this function)
make[2]: *** [cubetexture.o] Erreur 1
make[2]: Leaving directory `/home/david/wine/dlls/wined3d'
make[1]: *** [wined3d] Erreur 2
make[1]: Leaving directory `/home/david/wine/dlls'
make: *** [dlls] Erreur 2
[david@Goss wine]$

Is a patch coming to resolve this problem?

Joaopa",1,"0"
"WINE-3381","missing implementation of msvcrt.dll : _get_sb_threshold","I tried to install SPSS 8.0 for Windows. It is the statisical package which is
used in many universities and marketing research companies and SPSS is the main
obstacle for not using Linux.

Installation had some problems but finished. Wheh I run the program I get the
following message (in console):

wine/fake_windows/Program Files/SPSS$ wine spsswin.exe

fixme:ole:CoRegisterMessageFilter stub
err:ole:marshal_object couldn't get IPSFactory buffer for interface
{00000131-0000-0000-c000-000000000046}
err:ole:marshal_object couldn't get IPSFactory buffer for interface
{00000131-0000-0000-c000-000000000046}
wine: Call from 0x851205 to unimplemented function
msvcrt.dll._get_sbh_threshold aborting
wine: Unhandled exception (thread 003e) starting debugger...
Usage: winedbg [--command cmd|--auto] [--gdb [--no-start] [--with-xterm]] cmdline",2,"0"
"WINE-13362","Vim display error dialog on exit [dogfood]","Created attachment 13256
Error dialog

When closing vim it display an error complaining about an unknown font (fixed sys something or other).  See attached screenshot.  Running 'winetricks corefonts' doesn't affect it.",1793,"1"
"WINE-38516","Winhttprequest setoption doesn't work","Created attachment 51386
Test app + Delphi source

Run and click button.

fixme:ole:ITypeInfo_fnGetRefTypeInfo Can't find pRefType for ref c8
err:ole:userdefined_to_variantvt Could not get typeinfo of hreftype c8 for VT_USERDEFINED hr = 0x80004005

It fails on line: fhttp.Option(6):=false

Workarounds: native oleaut32 -OR- winetricks winhttp",153,"0"
"WINE-12416","Deus Ex and Syberia2 both have corrupted graphics in 0.9.59","Both of these games worked gold for me in .58 and were unplayable in .59. I have tried a different machine with a different os and an Nvidia video card and they work perfectly in .59 so it must be something that is affecting the ATI card specificaly on this machine. I am using the prop. ATI driver 8.471 currrent AFAIK. my video card is an ATI X1950pro.
  I have tried 0.9.59 both as provided by my distro(pclinuxos) and built wine from source with the exact same results graphic corruption so bad as to make it impossible to run the games.",18,"0"
"WINE-44085","winecfg: Use more secure HTTPS URL in about","Starting the Wine configuration and selecting the about tab the HTTPS URL should be shown as HTTPS is supported and that saves one redirect.

```
$ curl -I http://www.winehq.org
HTTP/1.1 302 Found
Date: Tue 28 Nov 2017 14:48:16 GMT
Server: Apache/2.4.10 (Debian)
Location: https://www.winehq.org/
Content-Type: text/html charset=iso-8859-1

```",9,"0"
"WINE-18128","Sniper Elite: Player falls through floor","Created attachment 20582
Debug output from Sniper Elite

When playing Sniper Elite there is a clipping issue in certain consistent parts of the map where the floor allows the player as well as AI opponents to fall through and keep falling infintely below the map seeing nothing but the skybox of the map.  Because oppenents fall through the floor and are not killed this makes the game unplayabe beyond the first level. Debug output attached.",509,"1"
"WINE-27303","Multiple applications need atl80.dll (QQMusic2011 installer Visual C++ 2005 Express SP1)","1. Download QQmusic installer
$ wget http://dl_dir.qq.com/music/clntupate/QQMusic2011.exe

2. install vcrun6 works around http://bugs.winehq.org/show_bug.cgi?id=27067 ( Drake of the 99 Dragons needs msvcp60.dll.?_Tidy@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@AAEX_N@Z )

$ winetricks -q vcrun6

3. install QQMusic2011
$ wine QQMusic2011.exe


fixme:actctx:parse_depend_manifests Could not find dependent assembly LMicrosoft.VC80.ATL (8.0.50727.4053)
err:module:import_dll Library ATL80.DLL (which is needed by LC:\\Program Files\\Tencent\\QQMusic\\QQMusicCvtData.exe) not found
err:module:LdrInitializeThunk Main exe initialization for LC:\\Program Files\\Tencent\\QQMusic\\QQMusicCvtData.exe failed status c0000135
fixme:actctx:parse_depend_manifests Could not find dependent assembly LMicrosoft.VC80.ATL (8.0.50727.4053)
err:module:import_dll Library ATL80.DLL (which is needed by LC:\\Program Files\\Tencent\\QQMusic\\QQMusicCvtData.exe) not found
err:module:LdrInitializeThunk Main exe initialization for LC:\\Program Files\\Tencent\\QQMusic\\QQMusicCvtData.exe failed status c0000135
err:ole:CoGetClassObject class {1dabf8d5-8430-4985-9b7f-a30e53d709b3} not registered
err:ole:CoGetClassObject class {1dabf8d5-8430-4985-9b7f-a30e53d709b3} not registered
err:ole:create_server class {1dabf8d5-8430-4985-9b7f-a30e53d709b3} not registered

See attachment for full log.

Is there any way to work around? register a native atl80.dll will cause run time error r6034 is that a bug?
Thanks!",314,"1"
"WINE-43326","Uplay (July 2017) needs dwmapi.DwmSetIconicLivePreviewBitmap","Created attachment 58669
Uplay error message

Uplay refuses to start with the error message attached.",77,"0"
"WINE-42093","Git for Windows 2.7.0 needs unimplemented function rstrtmgr.dll.RmShutdown","http://source.winehq.org/git/wine.git/?a=search&h=HEAD&st=grep&s=RmShutdown

https://github.com/git-for-windows/git/releases/download/v2.7.0.windows.1/Git-2.7.0-32-bit.exe

Direct download. Taken from bug 40013. Just install it all defaults and you end up with wine: Call from 0x7b43bebc to unimplemented function rstrtmgr.dll.RmShutdown aborting",29,"0"
"WINE-12078","Spellborn: Crashes on launch with Init: CheckDepthStencilMatch failed. (D3D_OK)","Crashes on launch after updating to latest git.",1,"0"
"WINE-33322","QQ crashes on start","Created attachment 44071
bug report

System information:
    Wine build: wine-1.5.24
    Platform: i386 (WOW64)
    Host system: Linux
    Host version: 3.8.2-206.fc18.x86_64",379,"1"
"WINE-20041","DirectPlay8 requires some IP_ADAPTER_UNICAST_ADDRESS parameters to be correct in GetAdaptersAddresses (Rise of Nations Two Worlds Cultures Northland)","Created attachment 23589
Console Dump

Installing and playing (including sound) works after following guide at:
http://www.damonkohler.com/2008/09/how-to-run-rise-of-nations-with-wine.html

However as soon as you choose one of the two multiplayer options in the Multiplayer Menu a message appears saying 
Unable to establish a network connection. Please check your network connection and try again.

Although my sound has stopped working after I messed something up the game otherwise works normal and the same thing happened when sound was working. 
When I click one of the options I get the 'fixme:thread' message followed by the two 'fixme:iphlpapi' messages concerning IPv6 support. Therefore I tried to disable IPv6 several ways and reinstall the game each time and tried editing the /etc/modprobe.d/hosts files according to the wine FAQ but the problem still appears.",2040,"1"
"WINE-24683","Upper left corner of Epicenter setup heading is corrupt.","Created attachment 31195
Epicenter setup in wine

Epicenter setup heading in the top left. You can see it renders the text twice is not in italic and has some white underneath the text.
Terminal Output:
fixme:win:DisableProcessWindowsGhosting : stub",236,"1"
"WINE-24935","Capella 7: Virtual keyboard not shown correctly","The virtual keyboard of capella 7 is not shown correctly: Only parts of the content are shown which makes it unuseable.
With a previous version of capella (capella 2004) the virtual keyboard works correctly.",959,"1"
"WINE-2443","power point 97 viewer crashes","install the powerpoint viewer 97 from ms 
and go to a foldar with lots of directories and use the slide bar 
to see more files. Power point will crash or stop working.",397,"1"
"WINE-31917","vb6 fails to open project after wine's update","Created attachment 42022
backtrace log

microsoft VB6 enterprise got error when opening existing project.",310,"1"
"WINE-27625","Panzer General 3D Demo: second scenario fails to load","After winning the first scenario in the demo loading the second scenario does not work. The loading screen simply hangs. I can provide a savegame if it would speed up testing.",1007,"1"
"WINE-44932","limited list of available printer's paper/page size","For example: there is no possibility to select paper size bigger than A3 (A0 A1 A2) when printing from wine apps.

Additional info:
Linux archbox 4.15.13-1-ARCH #1 SMP PREEMPT Sun Mar 25 11:27:57 UTC 2018 x86_64 GNU/Linux
wine 3.4-2
cups 2.2.6-4
cups-pdf 3.0.1-4

Steps to reproduce:
1. in cups install or configure Generic CUPS-PDF Printer (named i.ex.: CUPS-PDF)
I have only this virtual printer installed in my system (it's set as default).
2. to see list of available paper size:
lpoptions -l or lpoptions -p PRINTER-CUPS-PDF -l
PageSize/Page Size: Custom.WIDTHxHEIGHT 11x14 11x17 13x19 16x20 16x24 2A 4A 8x10 8x12 A0 A1 A2 A3 *A4 A5 AnsiA AnsiB AnsiC AnsiD AnsiE ArchA ArchB ArchC ArchD ArchE C0 C1 C2 C3 C4 C5 Env10 EnvC5 EnvDL EnvMonarch Executive ISOB0 ISOB1 ISOB2 ISOB3 ISOB4 ISOB5 JISB0 JISB1 JISB2 JISB3 JISB4 JISB5 Ledger Legal Letter RA0 RA1 RA2 RA3 RA4 SRA0 SRA1 SRA2 SRA3 SRA4 SuperA SuperB TabloidExtra Tabloid

3. run notepad
4. go: File / Printer setup
5. check Paper size list:
there is only A3 A4 A5 B5 Envelope #10 Envelope B5 Envelope C5 Envelope DL Envelope Monarch Executive Legal Letter

4. run inkscape (or any linux application)
5. set large page size i.ex. A1 594x841 mm (23.38x33.11 inch)
6. go: File / Print
7. on General tab select PRINTER-CUPS-PDF
8. on Page setup paper size is correct 594x841 mm (23.38x33.11 inch)
9. pdf file has also correct paper size

Notes:
I'd like to create pdf printouts from IntelliCAD runnig under wine but the list of paper size is the same as in notepad. The only way to determine requested size of printout is via printer options.
The similar issue was descripted here: https://forum.winehq.org/viewtopic.php?f=8&t=26373.
There is no problem in package (https://bugs.archlinux.org/task/58014).

Best regards.",2,"0"
"WINE-16649","configure isn't recognizing OpenSSL on OpenBSD","Got bored over winter break and someone asked on wine-users if wine works on OpenBSD. Seems it needs quite a bit of work. I've sent a patch for the first issue:
http://www.winehq.org/pipermail/wine-patches/2008-December/066746.html

Next up configure isn't picking up OpenSSL. Checking google seems OpenBSD splits openssl into two parts:
http://archives.neohapsis.com/archives/openbsd/2003-05/1983.html

The below hack lets configure detect it but I'm not sure how to incorporate this properly into configure.ac. Doesn't seem to help the build either...

diff --git a/configure b/configure
index 6381aed..0a9a407 100755
--- a/configure
+++ b/configure
@@ -157677 +157667 @@ if test ${ac_cv_lib_soname_ssl+set} = set then
   echo $ECHO_N (cached) $ECHO_C >&6
 else
   ac_check_soname_save_LIBS=$LIBS
-LIBS=-lssl  $LIBS
+LIBS=-lssl -lcrypto  $LIBS
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF",1558,"1"
"WINE-41869","Wine is not compiling: undefined reference to 'HIDIOCSFEATURE'","Created attachment 56272
log file

undefined reference to `HIDIOCSFEATURE'

my system
command: ldd --version
ldd (GNU libc) 2.10.1

command: uname -r
3.0.66

command: gcc --version
gcc (GCC) 4.3.4",23,"0"
"WINE-42911","Bayonetta: launches but screen stays black","Created attachment 58053
terminal output running bayonetta on wine 2.7 in a clean prefix

Bayonetta launches audio of the intro videos is played but the
screen stays black (using a clean wine prefix).

Workarounds:
 * switch to wine-staging and enable csmt

System Information:
 * distro: Arch Linux x86_64
 * Graphics: nvidia GTX 970 using nvidia driver version 378.13
 * clean 64bit wine prefix",653,"1"
"WINE-19547","The wineserver sometimes crashes after The Movies demo installer fails","Created attachment 22767
wineserver gdb backtrace

With wine-1.1.26-231-gfe9d360 after The Movies demo installer fails due to unrelated issues in winemp3.acm the wineserver will sometimes crash when the installer exits leaving the installer's WinZip extractor hanging. gdb shows:

Program terminated with signal 11 Segmentation fault.
[New process 7441]
#0  0x0808f0fb in redraw_window (win=0x9b3faf0 region=0x9b6bc20 frame=0 flags=1157) at window.c:1302
1302	        if (!(child->style 

I've attached the core backtrace from gdb.",358,"1"
"WINE-9939","Microsoft OneNote 2007 trial install fails with ole/rpc crash","$ wine X12-30151.exe
works for a while (I had to say enter license key later)
but crashes around the copying files stage with

fixme:rpc:NdrStubCall2 new correlation description not implemented
fixme:rpc:NdrClientCall2 new correlation description not implemented
fixme:ole:EmbeddedComplexSize unhandled embedded type b7
wine: Unhandled page fault on read access to 0x00000080 at address 0x7e98a081 (thread 0011) starting debugger...
Backtrace:
=>1 0x7e98a081 NdrConformantStringBufferSize+0x171(pStubMsg=0x7cb56958 pMemory=0x80 pFormat=0x93bcd4) [wine-git/dlls/rpcrt4/../../include/wine/unicode.h:208] in rpcrt4 (0x7cb567bc)
  2 0x7e99110d PointerBufferSize+0x10d(pStubMsg=0x7cb56958 Pointer=0x80 pFormat=) [wine-git/dlls/rpcrt4/ndr_marshall.c:1042] in rpcrt4 (0x7cb5681c)
  3 0x7e99185f ComplexBufferSize+0x9f(pStubMsg=0x7cb56958 pMemory=0x7cb56aa0 pFormat=0x93bd03 pPointer=0x93bd1a) [wine-git/dlls/rpcrt4/ndr_marshall.c:2069] in rpcrt4 (0x7cb5685c)
  4 0x7e993069 NdrComplexStructBufferSize+0x99(pStubMsg= pMemory=0x7cb56a9c pFormat=) [wine-git/dlls/rpcrt4/ndr_marshall.c:2452] in rpcrt4 (0x7cb5689c)
  5 0x7e998d17 NdrClientCall2+0x9f7(pStubDesc=0x93bea8 pFormat=0x93b78e) [wine-git/dlls/rpcrt4/ndr_stubless.c:638] in rpcrt4 (0x7cb56a7c)
  6 0x00ad4f7f in osetup (+0x2a4f7f) (0x7cb56a90)",470,"1"
"WINE-37460","Sid Meier's Civilization: Beyond Earth (Steam) crashes on startup","Created attachment 49832
Error Logs

Unhandled exception: page fault on read access to 0x00000001 in 32-bit code (0x0

Running on a mac using wine to run civ beyond earth",536,"1"
"WINE-5590","Blue faces in HL 2","Certain faces in HL2 appear with strong blue tint.  Also it seems several
objects are over exposed and appear very white.  

This is the output from the game if that has any relation:

Reference Count for Material __lookupviewpanel (1) != 0
Reference Count for Material vgui/zoom (5) != 0
Reference Count for Material effects/tp_eyefx/tpeye3 (2) != 0
Reference Count for Material effects/tp_eyefx/tpeye (2) != 0
Reference Count for Material effects/tp_eyefx/tpeye2 (2) != 0
Reference Count for Material sprites/scanner_dots1 (1) != 0
Reference Count for Material sprites/scanner_dots2 (1) != 0",512,"1"
"WINE-20128","MS .Net Framework 4.0 installer needs native msxml3","Created attachment 23700
MS error dialog

Running the installer for .Net 4.0 (currently Beta 1) fails immediately and shows the MS error reporting dialog.

From the attached screenshot it seems to fail when attempting to run VSSETUP.
This is the x86 (i386/32-bit) version.",604,"1"
"WINE-8489","Baldur's Gate crashes with an assertion error when trying to load/start a game","The game crashes with an Assertion error after getting about 15% of the way
through loading ingame. This is a regression from around .36 (wasn't in .35 was
in .37).

Completed regression testing shows:

7b48db196f2fbf83a61a3856da65a55552c14382 is first bad commit
commit 7b48db196f2fbf83a61a3856da65a55552c14382
Author: H. Verbeet 
Date:   Thu May 3 20:58:48 2007 +0200

    d3d: Fix the surface locking rectangle validation.

:040000 040000 4cb3d75575e64d3d51d41f9b5ea1bcfba585ddf6
10404bcee5f991052ccf76b8cecdfa8a5499ddb9 M       dlls",281,"1"
"WINE-13644","Ricochet Infinity cannot activate full version","Ricochet Infinity has a freely-downloadable demo version. An Activation Code can be purchased that converts the demo into a full version. Once the user enters this code the game contacts a Reflexive server to verify that the code is valid.

In wine 1.0-rc3 this process stalls at the Connecting message. Version 0.9.40 worked OK.

I will do a regression test sometime in the next few days.",19,"0"
"WINE-10104","Oblivion Construction Set main window disappears","When loading a mod in Oblivion's Construction Set the main window disappears and leaves behind its owned windows. The main window appears to be unmapped with its entry removed from the task bar. Activating one of the owned windows when none of them are active brings up them all but the main window is still MIA. The app is basically unuseable without it. Have to kill it with ctrl-c on the command line.

wine --version is wine-0.9.47-269-ged60114 (latest git).

PS. I just guessed at the component.. no idea if that's where the problem is or not.",401,"1"
"WINE-36190","comdlg32/itemdlg shows a ton of valgrind warnings","==16983== Conditional jump or move depends on uninitialised value(s)
==16983==    at 0x5E694E7: ctrl_container_resize (itemdlg.c:848)
==16983==    by 0x5E6A509: update_layout (itemdlg.c:1224)
==16983==    by 0x5E6D117: IFileDialog2_fnSetFileNameLabel (itemdlg.c:1972)
==16983==    by 0x5E6DE2A: IFileOpenDialog_fnSetFileNameLabel (shobjidl.h:13997)
==16983==    by 0x4CB447B: test_basics (shobjidl.h:15138)
==16983==    by 0x4CBE457: func_itemdlg (itemdlg.c:1932)
==16983==    by 0x4CC17B5: run_test (test.h:584)
==16983==    by 0x4CC1BA4: main (test.h:654)
==16983==  Uninitialised value was created by a stack allocation
==16983==    at 0x5E6A001: update_layout (itemdlg.c:1102)
==16983== 

eventually..
==16983== More than 100 errors detected.  Subsequent errors
==16983== will still be recorded but in less detail than before.",338,"1"
"WINE-19047","Assertion failure at listview.c:2741","Created attachment 21968
wine log demonstrates the issue

Using RegCleaner 4.3 Build 780 is impossible because of different memory access violations and wine assertion failures (see bug 19046).
Attached wine log demonstrates one of these failures.
It's hard to reproduce this exactly same way because of random memory access violations (which makes this report almost senseless I understand) but general recommendation is to play around with list in the program's main window and operate with menu only (!) using keyboard shortcuts.",11,"0"
"WINE-25033","Solo on Keyboard 9.0.2.1 setup fails","Solo on Keyboard 9.0.2.1 setup fails with following error messages:

fixme:shell:SHAutoComplete stub
err:seh:raise_exception Exception frame is not in stack limits => unable to dispatch exception.",112,"0"
"WINE-707","regedit failts badly","Since I recompiled wine from 20020411 to 20020509 regedit stoped to work.

Here is a sample output:

[chaos@speedy dreamweaver]$ regedit /E export_to.reg
fixme:cdrom:CDROM_GetIdeInterface major 11 not supported
err:ntdll:RtlpWaitForCriticalSection section 0x8050b70 ? wait timed out
retrying (60 sec) fs=008f
wine: Unhandled exception starting debugger...
fixme:cdrom:CDROM_GetIdeInterface major 11 not supported
fixme:cdrom:CDROM_GetIdeInterface major 11 not supported
err:ntdll:RtlpWaitForCriticalSection section 0x8050b70 ? wait timed out
retrying (60 sec) fs=008f


and as shown the debugger comes on.
btw my cdrom is a ide with scsi emulation.",19,"0"
"WINE-43915","uTorrent 2.2.1 build 25302 crashes after deleting the last torrent and exiting","Created attachment 59541
Internal minidump

Steps to reproduce:

1) Download uTorrent 2.2.1 build 25302
2) Add a torrent
3) Remove it
4) File -> Exit

listview.c:2266: LISTVIEW_GetItemOrigin: Assertion `nItem >= 0 && nItem nItemCount' failed.
fixme:dbghelp:elf_search_auxv can't find symbol in module
fixme:dbghelp:MiniDumpWriteDump NIY MiniDumpScanMemory
fixme:heap:RtlCompactHeap (0xad0000 0x0) stub

This is a regression.",51,"0"
"WINE-38422","SentriLock SentriCard utility installer 4.0.x crashes with arithmetic exception due to large input rect in 'GdipMeasureCharacterRanges'","A program (from http://www.sentrilock.com/cu/sentrilock/SentriCardUtilityInstaller-4.0.11.exe ) crashes with a SIGFPE.

trace:gdiplus:GdipMeasureCharacterRanges (0x1445a0 LGroupbox -1 0x144690 (0.000.0056.88340282346638528859811704183484516925440.00) 0x144520 1 0xe538f8)
trace:gdiplus:GdipMeasureCharacterRanges may be ignoring some format flags: attr 800
trace:gdiplus:GdipTransformPoints (0x1445a0 2 0 0x32ef14 3)
trace:gdiplus:GdipSetMatrixElements (0x32ee44 1.00 0.00 0.00 1.00 0.00 0.00)
trace:gdiplus:GdipMultiplyMatrix (0x32ee44 0x1445e0 1)
trace:gdiplus:GdipScaleMatrix (0x32ee44 1.00 1.00 1)
trace:gdiplus:GdipTransformMatrixPoints (0x32ee44 0x32ef14 3)
trace:gdiplus:GdipTransformPoints (0x1445a0 2 0 0x32edbc 3)
trace:gdiplus:GdipSetMatrixElements (0x32ed14 1.00 0.00 0.00 1.00 0.00 0.00)
trace:gdiplus:GdipMultiplyMatrix (0x32ed14 0x1445e0 1)
trace:gdiplus:GdipScaleMatrix (0x32ed14 1.00 1.00 1)
trace:gdiplus:GdipTransformMatrixPoints (0x32ed14 0x32edbc 3)
trace:gdiplus:GdipSetEmpty 0x144638

Program received signal SIGFPE Arithmetic exception.
0x7daa49b9 in ?? ()


The program works with a native gdiplus.dll.",1277,"1"
"WINE-36372","Inspect tool (Microsoft Active Accessibility inspector) part of Windows 7 SDK needs oleacc.dll.GetStateTextW","Hello folks

continuation of bug 36215

Prerequisite: 'winetricks -q dotnet40 corefonts'

Windows 7 SDK (containing the MSAA/UIA tools and examples):

http://www.microsoft.com/en-us/download/details.aspx?id=8279

Windows Automation API 3.0 (provides needed 'UIAutomationCore.dll'):

https://support.microsoft.com/kb/971513

Download for Windows XP:

http://www.microsoft.com/downloads/details.aspx?FamilyId=cd55456d-9703-42a0-b982-8a8a89ca0aa3

(you might need 'taskset -c 0  to work around bug 35041)

'Inspect' tool description: http://msdn.microsoft.com/en-us/library/windows/desktop/dd318521%28v=vs.85%29.aspx

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/Microsoft SDKs/Windows/v7.1/Bin

$ wine ./Inspect.exe 
...
fixme:oleacc:CreateStdAccessibleObject unhandled window class: LRichEdit20W
fixme:oleacc:CreateStdAccessibleObject unhandled window class: LRichEdit20W
fixme:oleacc:CreateStdAccessibleObject unhandled window class: LRichEdit20W
fixme:oleacc:CreateStdAccessibleObject unhandled window class: L#32769
fixme:oleacc:Client_accHitTest (0x12be10)->(1562 227 0x33dbf0)
fixme:oleacc:Client_get_accParent (0x12be10)->(0x33db08)
fixme:oleacc:Client_accLocation (0x12be10)->(0x33dc44 0x33dc40 0x33dc5c 0x33dc50 {VT_I4: 0})
fixme:oleacc:Client_accLocation (0x12be10)->(0x33dc04 0x33dbf8 0x33dc0c 0x33dc08 {VT_I4: 0})
wine: Call from 0x7b83ac57 to unimplemented function oleacc.dll.GetStateTextW aborting
wine: Unimplemented function oleacc.dll.GetStateTextW called at address 0x7b83ac57 (thread 0009) starting debugger...
Unhandled exception: unimplemented function oleacc.dll.GetStateTextW called in 32-bit code (0x7b83ac57).
...
Backtrace:
=>0 0x7b83ac57 RaiseException+0x8f(code= flags= nbargs= args=) [/home/focht/projects/wine/wine.repo/src/dlls/kernel32/except.c:84] in kernel32 (0x00332a78)
  1 0x7ea092a5 __wine_spec_unimplemented_stub+0x34(module=oleacc.dll function=GetStateTextW) [/home/focht/projects/wine/wine.repo/src/dlls/winecrt0/stub.c:34] in oleacc (0x00332ab0)
  2 0x7ea05b95 __wine_stub_GetStateTextW+0x28() in oleacc (0x003332f8)
  3 0x01017829 in inspect (+0x17828) (0x003332f8)
  4 0x01010b68 in inspect (+0x10b67) (0x00333b9c)
  5 0x0100c71b in inspect (+0xc71a) (0x0033dc50)
...
Modules:
Module	Address			Debug info	Name (67 modules)
PE	 1000000- 102b000	Export          inspect
ELF	4eb20000-4eb3d000	Deferred        libgcc_s.so.1
PE	53830000-538c8000	Deferred        uiautomationcore
...
Threads:
process  tid      prio (all id:s are in hex)
00000008 (D) C:\Program Files\Microsoft SDKs\Windows\v7.1\Bin\Inspect.exe
	0000002d    0
	0000002c    0
	0000002b    0
	0000002a    0
	00000029    0
	00000009    0 <==
...
--- snip ---

MSDN: http://msdn.microsoft.com/en-us/library/windows/desktop/dd318090%28v=vs.85%29.aspx

$ sha1sum winsdk_web.exe 
a8717ebb20a69c7efa85232bcb9899b8b07f98cf  winsdk_web.exe

$ du -sh winsdk_web.exe 
500K	winsdk_web.exe

$ wine --version
wine-1.7.18-22-ge399729

Regards",9,"0"
"WINE-29987","BlueKenue 3.x crashes on startup","Created attachment 39039
page fault on read access

BlueKenue is a pre-post processor for Telemac hydraulic modeling system.

This program works fine in windows but crash with wine when manipulating various files too quick.",729,"1"
"WINE-27363","Frhed encode/decode needs msvcp80.dll.?find_first_of@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QBEIDI@Z","I used the standalone Frhed-1.6.0 executable available at the URL attached to this report. Run Frhed.exe click the Misc menu and then choose Encode/Decode. It will then crash with:

wine: Call from 0x7b839d62 to unimplemented function msvcp80.dll.?find_first_of@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QBEIDI@Z aborting",22,"0"
"WINE-44964","Anno 2205 needs oMask shader register implementation","Created attachment 61079
Anno 2205 graphic glitch

The game finaly starts and runs but with messed up graphics. The artefacts are moving with the moving of screen and they are different.",35,"0"
"WINE-1788","KazaaLite: the program requires windows version 4.0.1212 or later","When I try run klitekpp243e.exe (kazaalite) 

I get a pop up window the program requires windows version 4.0.1212 or later

Could not stat /mnt/floppy (No such file or directory) ignoring drive A:
fixme:keyboard:X11DRV_KEYBOARD_DetectLayout Your keyboard layout was not
found!Using closest match instead (United States keyboard layout (phantom key
version)) for scancode mapping.
Please define your layout in dlls/x11drv/keyboard.c and submit them
to us for inclusion into future Wine releases.
See the Wine User Guide chapter Keyboard for more information.
fixme:win:SetWindowTextA cannot set text Extracting of other process window
0x10021
Could not stat /mnt/floppy (No such file or directory) ignoring drive A:
fixme:keyboard:X11DRV_KEYBOARD_DetectLayout Your keyboard layout was not
found!Using closest match instead (United States keyboard layout (phantom key
version)) for scancode mapping.
Please define your layout in dlls/x11drv/keyboard.c and submit them
to us for inclusion into future Wine releases.
See the Wine User Guide chapter Keyboard for more information.",714,"1"
"WINE-19977","runasdate: buggy comctl32 behavior","$ wine Runasdate.exe

Click in the date box on the year (2009). On windows one click on it highlights the entire year. Begin typing a new year (2001). On windows 2009 is immediately cleared and 2001 put in its place. On wine typing the last character remains so you get '92001'.

Additionally the calendar selection tool is really buggy but there are other bugs for that I think.

Of course winetricks cc580 works around this.",23,"0"
"WINE-23872","Steam: Windows will automatically reopen after being closed","When a steam window is closed it will instantly reopen itself
This happens on the main window and all other windows including the friends browser and chat windows.",130,"0"
"WINE-20215","Extra mouse buttons do not work in Firefox","When running firefox under Wine the extra mouse buttons on my mouse (the thumb buttons) do nothing.

When using firefox under Windows or under Linux the buttons act as a forward - back button but not when it's running under Wine.

I am sure this is not an modmap issue as the buttons do work with some other applications in Wine (SWAT4 for instance). The buttons do not seem to generate any event to the application.",2704,"1"
"WINE-38828","Cerbero PE Insider 1.0.2 crashes on unimplemented function dbghelp.dll.UnDecorateSymbolNameW when viewing export directory","Hello folks

as the summary says ...

Reproduce: start the app -> select a PE binary -> click 'Export Directory' in left hand side tree view.

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/Cerbero/PEInsider

$ wine ./peinsider.exe
...
wine: Call from 0x7b8456d9 to unimplemented function dbghelp.dll.UnDecorateSymbolNameW aborting
wine: Unimplemented function dbghelp.dll.UnDecorateSymbolNameW called at address 0x7b8456d9 (thread 0009) starting debugger...
--- snip ---

MSDN: https://msdn.microsoft.com/en-us/library/windows/desktop/ms681400%28v=vs.85%29.aspx

Source: https://source.winehq.org/git/wine.git/blob/878ea7d9ea4bbb924a539ec2808867468d336675:/dlls/dbghelp/dbghelp.spec#l187

$ sha1sum peinsider_setup.exe 
81324f9802f86bb93a9440c96460f911bedcc0f6  peinsider_setup.exe

$ du -sh peinsider_setup.exe 
6.5M	peinsider_setup.exe

$ wine --version
wine-1.7.46

Regards",39,"0"
"WINE-35700","Arabic Shaping Is Broken After Rechedit News.","I update my Wine from 1.7.8 to 1.7.13 ::

Saping of Arabic full failed !!

In 1.7.8 I have just this bug34513",1038,"1"
"WINE-17600","MSOffice installer (XP 2003 2007) : msi crash in custom action","Got this crash while trying to install MS Office XP with today's git :

err:msi:ACTION_CallDllFunction Custom action (LC:\\windows\\temp\\msia409.tmp:LOfficeDataLockPermissions) caused a page fault: c0000005

(see line 706267 of the +msi+msidb trace)",100,"0"
"WINE-25638","Bryce 7 crashes","Bryce 7 crashes under wine
The program could be downloaded for free from http://www.daz3d.com/i/software/bryce7?_m=d no need to purchase to reproduce this bug.

I've installed vcrun6 and vcrun2005sp1 with winetricks in order to start it. The program starts shows the splash screen and reaches the license key dialog. There is no keyboard input there - can't type username and a key. After pressing Ok the program crashes with various error messages. The most frequent is 

err:dbghelp:SymCleanup this process has not had SymInitialize() called for it!",1390,"1"
"WINE-17447","Another slideshow with MP3 breaks PowerPoint","As in bug 17446 this slideshow causes PowerPoint viewer 97 (and PowerPoint 2000) to crash. However this time there is no backtrace and it does not look like the problem happens in the same place which is why I'm reporting it separately. But the following traces show that this is related to the mp3 decoding.

fixme:mpeg3:III_dequantize_sample mpg123: Can't rewind stream by 13 bits!
trace:mpeg3:mp3_horse before 0 put 750 during 528 after 240
trace:mpeg3:MPEG3_DriverProc (00000001 0x161b68 604f 006d047c 0016b038)
fixme:mpeg3:decode_header Layer 1 not supported!
fixme:mpeg3:decode_header Layer 1 not supported!
fixme:mpeg3:decode_header Layer 1 not supported!
fixme:mpeg3:III_get_side_info_2 big_values(303) too large!

The traces end there.
I am not attaching the slideshow because it's quite big (2.8MB). But it can be downloaded from:

http://fgouget.free.fr/tmp/winehq_chutes.pps",568,"1"
"WINE-32546","cmd: crash when dividing by zero in 'set /a'","e.g. using set /a 8 % 0 crashes wine cmd",12,"0"
"WINE-29570","Some applications crash when being +relay traced due to ntdll's relay_call clobbering ECX (and EDX)","Hello

while investigating bug 29550 I encountered a problem with +relay
I've seen such kind of +relay related crashes sometimes but forgot to report them.
Now I have a fresh example -)

WINEDEBUG=+tid+seh+relay crashes the app quickly:

--- snip ---
...
0024:Call KERNEL32.GetCurrentThreadId() ret=10006777
0024:Ret  KERNEL32.GetCurrentThreadId() retval=00000024 ret=10006777
0024:trace:seh:raise_exception code=c0000005 flags=0 addr=0x10006777 ip=10006777 tid=0024
0024:trace:seh:raise_exception  info[0]=00000001
0024:trace:seh:raise_exception  info[1]=0000000c
0024:trace:seh:raise_exception  eax=00000024 ebx=008ba6a0 ecx=00000000 edx=00000000 esi=001425d0 edi=0032f220
0024:trace:seh:raise_exception  ebp=00040000 esp=0032f1d0 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00010202
0024:trace:seh:call_vectored_handlers calling handler at 0x68bb9e26 code=c0000005 flags=0
0024:trace:seh:call_vectored_handlers handler at 0x68bb9e26 returned 0
0024:trace:seh:call_stack_handlers calling handler at 0x4a56b0 code=c0000005 flags=0
0024:Call msvcrt._except_handler3(0032f1780032fd940032eeac0032ed40) ret=7bc7ac85
0024:trace:seh:_except_handler3 exception c0000005 flags=0 at 0x10006777 handler=0x4a56b0 0x32eeac 0x32ed40 semi-stub
0024:trace:seh:_except_handler3 reached TRYLEVEL_END returning ExceptionContinueSearch
0024:Ret  msvcrt._except_handler3() retval=00000001 ret=7bc7ac85
0024:trace:seh:call_stack_handlers handler at 0x4a56b0 returned 1
0024:trace:seh:call_stack_handlers calling handler at 0x4a56b0 code=c0000005 flags=0
0024:Call msvcrt._except_handler3(0032f1780032fe300032eeac0032ed40) ret=7bc7ac85
0024:trace:seh:_except_handler3 exception c0000005 flags=0 at 0x10006777 handler=0x4a56b0 0x32eeac 0x32ed40 semi-stub
0024:trace:seh:_except_handler3 level 0 prev -1 filter 0x4a5ab0
0024:Call msvcrt._XcptFilter(c00000050032ebd4) ret=004a5ac1
0024:trace:seh:_XcptFilter (c00000050x32ebd4)
0024:Ret  msvcrt._XcptFilter() retval=00000000 ret=004a5ac1
0024:trace:seh:_except_handler3 filter returned CONTINUE_SEARCH
0024:trace:seh:_except_handler3 reached TRYLEVEL_END returning ExceptionContinueSearch
0024:Ret  msvcrt._except_handler3() retval=00000001 ret=7bc7ac85
0024:trace:seh:call_stack_handlers handler at 0x4a56b0 returned 1
0024:trace:seh:call_stack_handlers calling handler at 0x7bc919e1 code=c0000005 flags=0
0024:Call KERNEL32.UnhandledExceptionFilter(0032eca8) ret=7bc91a1b
...
--- snip ---

Code around the crash location:

-- snip ---
10006760 8B4C24 04        MOV ECXDWORD PTR SS:[ESP+4]
10006764 33C0             XOR EAXEAX
10006766 BA 01000000      MOV EDX1
1000676B F0:0FB111        LOCK CMPXCHG DWORD PTR DS:[ECX]EDX
1000676F 75 0C            JNZ SHORT sfl.1000677D
10006771 FF15 24610210    CALL DWORD PTR DS:[]
10006777 8941 0C          MOV DWORD PTR DS:[ECX+C]EAX
1000677A C2 0400          RETN 4
...
-- snip ---

Unfortunately ntdll's 32 bits relay_call clobbers ECX (=0) hence the exception after returning from KERNEL32.GetCurrentThreadId().

Code: http://source.winehq.org/git/wine.git/blob/2741edb9989d33ae7bb3d2dceba5e5d916655340:/dlls/ntdll/relay.c#l408

Preserving ECX in relay_call() lets the app successfully +relay traced (already tested).
Technically EDX might need to be preserved for callers too but this app can live without it...

$ sha1sum sai-1.1.0-ful-en.exe 
fb1876e370d431f21df06428ca6ccf35de727000  sai-1.1.0-ful-en.exe

$ wine --version
wine-1.3.36-172-gb00e703

Regards",481,"1"
"WINE-31377","Symantec VIP Access no longer installs (needs WinMGMTS object stub)","This used to work in 1.4 at least. The console output is below.

fixme:storage:create_storagefile Storage share mode not implemented.
err:mscoree:LoadLibraryShim error reading registry key for installroot
err:mscoree:LoadLibraryShim error reading registry key for installroot
err:mscoree:LoadLibraryShim error reading registry key for installroot
err:mscoree:LoadLibraryShim error reading registry key for installroot
fixme:storage:create_storagefile Storage share mode not implemented.
fixme:iphlpapi:NotifyAddrChange (Handle 0x120e910 overlapped 0x120e91c): stub
fixme:shell:SHAutoComplete stub
fixme:exec:SHELL_execute flags ignored: 0x00000180
fixme:clusapi:GetNodeClusterState ((null)0x33ec04) stub!
fixme:advapi:DecryptFileA c:\\dffa940868562943b306c6d2849ec3a5\\ 00000000
fixme:heap:HeapSetInformation (nil) 1 (nil) 0
fixme:advapi:LsaOpenPolicy ((null)0x33f3040x000000010x33f31c) stub
fixme:advapi:LsaClose (0xcafe) stub
fixme:storage:create_storagefile Storage share mode not implemented.
err:msi:MsiEnableLogW Unable to enable log LC:\\users\\rmuntean\\Temp\\VIPSetup.log TRANSFORMS=C:\\users\\rmuntean\\Temp\\{3BEF722A-4D90-4C6D-B3A5-E115D34E72BF}\\1033.MST SETUPEXEDIR=C:\\users\\rmuntean\\Temp\\RarSFX0\\VIPAccess_Installer SETUPEXENAME=VIPSetup.exe (3)
fixme:storage:create_storagefile Storage share mode not implemented.
err:richedit:ReadStyleSheet skipping optional destination
err:richedit:ReadStyleSheet skipping optional destination
fixme:vbscript:DispatchEx_GetIDsOfNames (0x20e900)->({00000000-0000-0000-0000-000000000000} 0x7fe97c 1 1024 0x7fe9b8)
fixme:vbscript:parse_script parser failed on parsing L If\r\n\t\r\n\t'Err.Clear\r\nend function\r\n\r\n\r\n'--------------------------------------------------------------------------------------------------------\r\n\r\n' Function to check if a process is running\r\nfunction isProcessRunning(byval strComputerbyval strProcessName)\r\n\r\n Dim objWMIServ...
err:msi:ITERATE_Actions Execution halted action LStop_Browsers returned 1603
err:msi:ITERATE_Actions Execution halted action LExecuteAction returned 1603",584,"1"
"WINE-35565","Assassin's Creed 2: 'UbisoftGameLauncher.exe' needs msvcp90.dll.??0?$basic_fstream@DU?$char_traits@D@std@@@std@@QAE@PBDHH@Z","Unhandled exception: unimplemented function msvcp90.dll.??0?$basic_fstream@DU?$char_traits@D@std@@@std@@QAE@PBDHH@Z called in 32-bit code (0x7b839d82).
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:0033 GS:003b
 EIP:7b839d82 ESP:0121f80c EBP:0121f870 EFLAGS:00200283(   - --  I S - - -C)
 EAX:7b826255 EBX:7b894ff4 ECX:7e8d4317 EDX:0121f834
 ESI:80000100 EDI:00843ef4
Stack dump:
0x0121f80c:  0121f890 00000008 00180288 80000100
0x0121f81c:  00000001 00000000 7b839d82 00000002
0x0121f82c:  7e8d1340 7e8d4317 00176270 00000000
0x0121f83c:  00002000 00110014 0015c648 00000080
0x0121f84c:  0121fb20 0121f870 7e81a386 00110000
0x0121f85c:  00000000 00000000 7b839d3a 00000000
Backtrace:
=>0 0x7b839d82 in kernel32 (+0x29d82) (0x0121f870)
  1 0x7e8d12a8 in msvcp90 (+0x412a7) (0x0121f8a0)
  2 0x7e89c381 in msvcp90 (+0xc380) (0x0121fe70)
  3 0x004118ef in ubisoftgamelauncher (+0x118ee) (0x0121fe70)
  4 0x7b859ddc call_process_entry+0xb() in kernel32 (0x0121fe88)
  5 0x7b85b04f in kernel32 (+0x4b04e) (0x0121fec8)
  6 0x7bc71d90 call_thread_func_wrapper+0xb() in ntdll (0x0121fed8)
  7 0x7bc7486d call_thread_func+0x7c() in ntdll (0x0121ffa8)
  8 0x7bc71d6e RtlRaiseException+0x21() in ntdll (0x0121ffc8)
  9 0x7bc49f4e call_dll_entry_point+0x61d() in ntdll (0x0121ffe8)
0x7b839d82: subl	$4%esp
Modules:
Module	Address			Debug info	Name (113 modules)
PE	  400000-  881000	Export          ubisoftgamelauncher
PE	65000000-657d0000	Deferred        qtgui4
PE	67000000-67231000	Deferred        qtcore4
ELF	7b800000-7ba29000	Dwarf           kernel32
  \-PE	7b810000-7ba29000	\               kernel32
ELF	7bc00000-7bcc3000	Dwarf           ntdll
  \-PE	7bc10000-7bcc3000	\               ntdll
ELF	7bf00000-7bf04000	Deferred        
ELF	7d617000-7d632000	Deferred        spoolss
  \-PE	7d620000-7d632000	\               spoolss
ELF	7d632000-7d653000	Deferred        localspl
  \-PE	7d640000-7d653000	\               localspl
ELF	7d753000-7d75c000	Deferred        librt.so.1
ELF	7d75c000-7d774000	Deferred        libresolv.so.2
ELF	7d774000-7d7bd000	Deferred        libdbus-1.so.3
ELF	7d7bd000-7d7cf000	Deferred        libp11-kit.so.0
ELF	7d7cf000-7d854000	Deferred        libgcrypt.so.11
ELF	7d854000-7d866000	Deferred        libtasn1.so.3
ELF	7d866000-7d86f000	Deferred        libkrb5support.so.0
ELF	7d86f000-7d897000	Deferred        libk5crypto.so.3
ELF	7d897000-7d966000	Deferred        libkrb5.so.3
ELF	7d966000-7d978000	Deferred        libavahi-client.so.3
ELF	7d978000-7d986000	Deferred        libavahi-common.so.3
ELF	7d9ea000-7d9ef000	Deferred        libgpg-error.so.0
ELF	7d9ef000-7d9f4000	Deferred        libcom_err.so.2
ELF	7d9f4000-7dab8000	Deferred        libgnutls.so.26
ELF	7dab8000-7daf6000	Deferred        libgssapi_krb5.so.2
ELF	7daf6000-7db49000	Deferred        libcups.so.2
ELF	7db53000-7db66000	Deferred        gnome-keyring-pkcs11.so
ELF	7db7c000-7dbb0000	Deferred        uxtheme
  \-PE	7db80000-7dbb0000	\               uxtheme
ELF	7dbb0000-7dbb6000	Deferred        libxfixes.so.3
ELF	7dbb6000-7dbc1000	Deferred        libxcursor.so.1
ELF	7dc44000-7dc6e000	Deferred        libexpat.so.1
ELF	7dc6e000-7dca2000	Deferred        libfontconfig.so.1
ELF	7dca2000-7dcb3000	Deferred        libxi.so.6
ELF	7dcb3000-7dcb7000	Deferred        libxcomposite.so.1
ELF	7dcb7000-7dcc0000	Deferred        libxrandr.so.2
ELF	7dcc0000-7dcca000	Deferred        libxrender.so.1
ELF	7dcca000-7dcd0000	Deferred        libxxf86vm.so.1
ELF	7dcd0000-7dcd4000	Deferred        libxinerama.so.1
ELF	7dcd4000-7dcdb000	Deferred        libxdmcp.so.6
ELF	7dcdb000-7dcfc000	Deferred        libxcb.so.1
ELF	7dcfc000-7dd02000	Deferred        libuuid.so.1
ELF	7dd02000-7dd1c000	Deferred        libice.so.6
ELF	7dd1c000-7de50000	Deferred        libx11.so.6
ELF	7de50000-7de62000	Deferred        libxext.so.6
ELF	7de62000-7de6b000	Deferred        libsm.so.6
ELF	7de6b000-7deff000	Deferred        winex11
  \-PE	7de80000-7deff000	\               winex11
ELF	7deff000-7df15000	Deferred        libz.so.1
ELF	7df15000-7dfaf000	Deferred        libfreetype.so.6
ELF	7dfaf000-7dfb3000	Deferred        libkeyutils.so.1
ELF	7dfcc000-7e086000	Deferred        crypt32
  \-PE	7dfe0000-7e086000	\               crypt32
ELF	7e086000-7e0b1000	Deferred        netapi32
  \-PE	7e090000-7e0b1000	\               netapi32
ELF	7e0b1000-7e0dd000	Deferred        secur32
  \-PE	7e0c0000-7e0dd000	\               secur32
ELF	7e0dd000-7e115000	Deferred        winhttp
  \-PE	7e0e0000-7e115000	\               winhttp
ELF	7e115000-7e137000	Deferred        iphlpapi
  \-PE	7e120000-7e137000	\               iphlpapi
ELF	7e137000-7e15f000	Deferred        msacm32
  \-PE	7e140000-7e15f000	\               msacm32
ELF	7e15f000-7e20c000	Deferred        winmm
  \-PE	7e170000-7e20c000	\               winmm
ELF	7e20c000-7e22e000	Deferred        imm32
  \-PE	7e210000-7e22e000	\               imm32
ELF	7e22e000-7e320000	Deferred        oleaut32
  \-PE	7e240000-7e320000	\               oleaut32
ELF	7e320000-7e35a000	Deferred        winspool
  \-PE	7e330000-7e35a000	\               winspool
ELF	7e35a000-7e453000	Deferred        comctl32
  \-PE	7e360000-7e453000	\               comctl32
ELF	7e453000-7e4bd000	Deferred        shlwapi
  \-PE	7e460000-7e4bd000	\               shlwapi
ELF	7e4bd000-7e6d0000	Deferred        shell32
  \-PE	7e4d0000-7e6d0000	\               shell32
ELF	7e6d0000-7e7af000	Deferred        comdlg32
  \-PE	7e6e0000-7e7af000	\               comdlg32
ELF	7e7af000-7e7de000	Deferred        msvcr90
  \-PE	7e7c0000-7e7de000	\               msvcr90
ELF	7e7de000-7e86b000	Deferred        msvcrt
  \-PE	7e7f0000-7e86b000	\               msvcrt
ELF	7e86b000-7e950000	Dwarf           msvcp90
  \-PE	7e890000-7e950000	\               msvcp90
ELF	7e950000-7e982000	Deferred        ws2_32
  \-PE	7e960000-7e982000	\               ws2_32
ELF	7e982000-7e9f8000	Deferred        rpcrt4
  \-PE	7e990000-7e9f8000	\               rpcrt4
ELF	7e9f8000-7eb00000	Deferred        ole32
  \-PE	7ea10000-7eb00000	\               ole32
ELF	7eb00000-7eb62000	Deferred        advapi32
  \-PE	7eb10000-7eb62000	\               advapi32
ELF	7eb62000-7ec1f000	Deferred        gdi32
  \-PE	7eb70000-7ec1f000	\               gdi32
ELF	7ec1f000-7ed5f000	Deferred        user32
  \-PE	7ec30000-7ed5f000	\               user32
ELF	7ed84000-7ed91000	Deferred        libnss_files.so.2
ELF	7ed91000-7ed9d000	Deferred        libnss_nis.so.2
ELF	7ed9d000-7edb7000	Deferred        libnsl.so.1
ELF	7efb7000-7efe3000	Deferred        libm.so.6
ELF	7efe3000-7efe7000	Deferred        libxau.so.6
ELF	7efe7000-7f000000	Deferred        version
  \-PE	7eff0000-7f000000	\               version
ELF	b73b9000-b73be000	Deferred        libdl.so.2
ELF	b73be000-b7568000	Deferred        libc.so.6
ELF	b7569000-b7584000	Deferred        libpthread.so.0
ELF	b7587000-b7590000	Deferred        libnss_compat.so.2
ELF	b75a1000-b76e3000	Dwarf           libwine.so.1
ELF	b76e5000-b7707000	Deferred        ld-linux.so.2
ELF	b7707000-b7708000	Deferred        [vdso].so
Threads:
process  tid      prio (all id:s are in hex)
0000000e services.exe
	00000016    0
	0000001b    0
	00000025    0
	00000019    0
	0000002a    0
	00000028    0
	0000003e    0
	00000037    0
	00000022    0
	00000010    0
	0000000f    0
00000014 explorer.exe
	00000015    0
0000001c hamachi-2.exe
	00000024    0
	00000021    0
	0000001d    0
0000001e LMIGuardianSvc.exe
	00000034    0
	00000020    0
	0000001f    0
00000032 winedevice.exe
	0000003a    0
	00000039    0
	00000036    0
	00000033    0
0000003b plugplay.exe
	00000040    0
	0000003d    0
	0000003c    0
00000035 (D) C:\Program Files\Ubisoft\Ubisoft Game Launcher\UbisoftGameLauncher.exe
	0000000b    0 <==
00000027 svchost.exe
	00000013    0
	0000001a    0
	00000023    0
System information:
    Wine build: wine-1.4.1
    Platform: i386
    Host system: Linux
    Host version: 3.2.0-58-generic-pae",0,"0"
"WINE-26440","unimplemented function WS2_32.dll.GetNameInfoW","I'm running an IBM application a client called Content Manager OnDemand Client V. 8.5.

It works pretty well at least in the previous version and since the version 8.5.
I cannot connect to the server because it has at least one function missing from the Wine Implementation of WS2_32.dll.

The only log I have is the one in the summary.

I have tested it in Wine 1.3.14 but by looking at the source code of 1.3.15 the missing function... is still missing.

If you need more info please don't hesitate to contact me.

(I use Fedora 13 64bits in an Intel Proc Dual Core)

Cheers
Alessandro

PS: I hope the Severity is correctly set I was hesitating between Normal/Enhancement...",13,"0"
"WINE-22480","Letter Chase 5.4 crash when typing","Created attachment 27535
Console output (two Letter Chase sessions)

When typing in a test or in practice mode Letter Chase will randomly hang/crash and have to be killed.

Problem existed with current Wine 1.1.43 and previous version 1.1.42.",217,"0"
"WINE-14862","Crash during execution of cbsetup.exe","Created attachment 15405
the crash log dump

During the installation of the cbsetup.exe from http://www.marx.com/en/support/crypto_box/download.php out of a NSIS installer wine reports the crash of an application.",265,"1"
"WINE-28873","VBScript causes an assert when a running script","Created attachment 37096
Output log

Open Enterprise Architect Example Model
Open the Scripting View
Select the Script VBScript - Attribute Lifecycle Example
Run the script

Script stops due to assert.",1,"0"
"WINE-STAGING-42288","Shantae and the Pirate's Curse - gameplay area resized to a tiny rectangle (CSMT only)","Created attachment 56999
Screenshot showing the problem

Normally the game uses pixelized graphics during gameplay. In wine the play area does not get resized to the entire screen but instead stays at the same size in a tiny rectangle in the middle of the screen.

(Note that the game doesn't run on vanilla wine it needs staging patches for the CreateDeferredContext call.)",30,"0"
"WINE-26247","Lifbase: text input area borders are corrupted","Created attachment 33450
terminal output

Border around some text areas is corrupted see screenshot.

7864ade5a8306c0078e16ae6d7e40bdece29395b is the first bad commit
commit 7864ade5a8306c0078e16ae6d7e40bdece29395b
Author: Dmitry Timoshkov 
Date:   Tue Sep 14 14:24:11 2010 +0900

    winex11.drv: Avoid copying invalid window bits.

I've tried reverting from current wine git however it won't revert.",508,"1"
"WINE-44623","The Witcher 3: Wine d3dx11 capped to 60Hz/fps","Created attachment 60611
wexport WINEDEBUG=-all+fps+d3d_perf                                                                                   ➜  wine-build glxosd /opt/wine-build/bin/wine $WINEPREFIX/drive_c/Prog

Symptom/Failure:

The Witcher 3 or Crysis 2 (see https://bugs.winehq.org/show_bug.cgi?id=44146) in menus using 3.2 with new buffer patch from https://bugs.winehq.org/show_bug.cgi?id=42592 when browsing the menu before launching the game (here: TW3) the FPS is capped at 60 even though Vsync is turned off in nvidia-settings and the game.

Interestingly the game seems similarly to be semi-stuck/capped at ~20 fps when running.

How to reproduce:

1) Build recent master or 3.2 with the following patch https://bugs.winehq.org/show_bug.cgi?id=42592

2) Disable Vsync in e.g. nvidia-settings.

3) Launch the game

4) Observe FPS while in the first menu menu

What should happen:

Using wine-staging 2.21 or older FPS runs into the 100s when in the menu without Vsync.",23,"0"
"WINE-3386","Mathematica fails to install with msi Error: 1603","When running the Mathematica 5 installer (InstallShield) the installer starts
the install process but aborts with the error:

Error: -1603  Fatal error during installation.

Part of the output:

fixme:msi:MsiGetProductInfoW L{A267A14C-6FDA-41A1-8B22-50A5D1E4444E}
LPackageCode 0x7ff09700 0x7fc7d8cc
fixme:msi:MsiInstallProductW
LZ:\\mnt\\iso\\PC__8_3\\FILES\\INSTFILE\\ISScript8.Msi LREBOOT=ReallySuppress
ADDLOCAL=All
fixme:msi:ACTION_CustomAction msidbCustomActionTypeNoImpersonate not handled
fixme:msi:ACTION_HandleStandardAction unhandled standard action LSelfUnregModules
fixme:msi:ACTION_HandleStandardAction unhandled standard action LRemoveFiles
fixme:msi:ACTION_HandleStandardAction unhandled standard action LMoveFiles
fixme:msi:ACTION_InstallFiles Write DiskPrompt
fixme:msi:ACTION_CustomAction msidbCustomActionTypeNoImpersonate not handled
fixme:ole:ITypeInfo_fnRelease destroy child objects
...
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:msi:ACTION_HandleStandardAction unhandled standard action
LRemoveRegistryValues
fixme:msi:ACTION_HandleStandardAction unhandled standard action LRemoveFolders",364,"1"
"WINE-28700","And Yet It Moves refuses to launch: 'err:seh:raise_exception Exception frame is not in stack limits'","Created attachment 36886
+msvcrt+tid log

Many of my games refuse to start on my system due to a recent commit in Wine.

Wine is printing out only
err:seh:raise_exception Exception frame is not in stack limits => unable to dispatch exception
when I'm trying to start any of the affected games (no crash dialog or backtrace is generated).

cfca12e48608d9f32b87f78e2545b4ba967b56af is the first bad commit
commit cfca12e48608d9f32b87f78e2545b4ba967b56af
Author: Piotr Caban 
Date:   Wed Oct 12 11:55:35 2011 +0200

    msvcrt: Use ismbcodepage instead of mb_cur_max in mbcodepage dependent functions.

:040000 040000 1c5bff30fe9c68e8126e70796a1c6c6162c821e2 a2979fe70afe6db12cd865e3e5b3c257e285d3c6 M	dlls

Native msvcrt.dll doesn't help.

The problem is reproducible in the demo for And Yet It Moves.

Fedora 15 x86
wine-1.3.30-70-gd0c38ec
gcc version 4.6.1 20110908 (Red Hat 4.6.1-9) (GCC)",1,"0"
"WINE-26836","winedbg continuously emits error messages when attempting to debug a PE executable","Created attachment 34195
+server+winedbg trace of problematic winedbg run (lzma compressed)

When attempting to launch a PE executable under winedbg in wine-1.3.18-60-gfa608e2 winedbg continuously emits the errors:

err:winedbg:dbg_handle_debug_event Unknown thread
...
err:winedbg:dbg_handle_debug_event 0021:0022: not a registered process or thread (perhaps a 16 bit one ?)

This prevents the usage of winedbg for debugging. Since debugging worked without issue in wine-1.3.18 a regression test was performed which indicated:

900352bc6bd32c6524658083339ba119620be9c7 is the first bad commit
commit 900352bc6bd32c6524658083339ba119620be9c7
Author: Alexandre Julliard 
Date:   Mon Apr 18 14:14:40 2011 +0200

    server: Store a mapping instead of a file for process dlls.

:040000 040000 4cd29cf3673989e25ae0ef37a21dc1dea925c14d 241a6bf79c619f4c2765eeb4f35e9092742870c3 M	dlls
:040000 040000 e2f419cea04f4faa62d1518b7729d3aef7941146 fba51b003c8b09c5aedbfcc65b687de7026ff58b M	include
:040000 040000 3193c92d93582f39738e86ba518d70179719f56d f8f65b7b47a5ffdb66d3a462d667fe37bcd3c905 M	server",0,"0"
"WINE-6280","Getright system tray icon makes 1x1 pixel uncloseable window on KDE 3.5.4","The system tray icon for the shareware program getright causes a 1x1 uncloseable
window to appear when running under KDE 3.5.4 (Kubuntu Dapper). This is with
wine 0.9.21 and Getright 6.0c (unregistered).

To reproduce:
1. Go to www.getright.com and download the installer for the evaluation version
(free).
2. Run the executable it will download the actual app and install it this part
works fine.
3. When the installation finishes getright will run automatically.

The system tray icon will appear and work correctly but there will also be an
annoying 1x1 pixel window simply titled Wine. Everytime I have seen this sort
of bug it's been due to the system tray and exiting getright does infact get
rid of the 1x1 pixel window.",468,"1"
"WINE-10268","Robot Wars: Arena of Destruction crashes while quitting (causing resolution to stay 640 x 480)","When exiting the game screen resolution does not return to normal. To reproduce exit the game.",229,"1"
"WINE-28440","Deus Ex Invisible War installer sometimes asks for non-existent disk 0","Trying to load Deus Ex Invisible War I discovered a problem in installing the game.  With new Wine versions the game  asks for the non-existent disk 0 after it finishes the main installation (requests for disks 1 and 2 run like expected).  Initially I thought this was a regression and tediously ran a regression test only to find that the issue doesn't happen with each attempt (yes I started with a fresh prefix each time).  So far I've tested that the issue occurs back as far as Wine 1.3.0.  Also there is no obvious problem reported in the console log.",814,"1"
"WINE-8425","Ecuadorian SRI ANEXO TRANSACCIONAL installer crashes","Ecuadorian electronic tax reports are required to be submitted in a format
generated by a special program which can be downloaded from the URL indicated.
The supplied EXE starts unpacking the MSI file inside and then crashes.

Can also be downloaded from http://www.palosanto.com/~a_villacis/setup_anexo.exe",11,"0"
"WINE-41449","Power DVD 15 (Cyberlink) needs unimplemented function SHELL32.dll.SHRemoveLocalizedName","Created attachment 55816
Wine backtrace Dump of unimplemented function SHELL32.dll.SHRemoveLocalizedName called in 32-bit code

After installing PowerDVD 15 from CyberLink. I tried to run it ang recieved the folleing error
 Unhandled exception: unimplemented function SHELL32.dll.SHRemoveLocalizedName called in 32-bit code (0x7bc526c9).

Envoronment is
System information:
    Wine build: wine-1.9.20
    Platform: i386 (WOW64)
    Version: Windows 7
    Host system: Linux
    Host version: 4.4.0-21-generic",14,"0"
"WINE-6367","Quitting out of Google Earth installer crashes wine's ole","Install Google Earth.  Quit the app.  
Run the installer again as if by accident and cancel.
The installer hits an assertion inside wine and crashes:

.exe: stg_stream.c:448: StgStreamImpl_Write: Assertion `0' failed.
wine: Assertion failed at address 0xffffe410 (thread 000b) starting debugger...
...
Backtrace:
=>1 0xffffe410 (0xffffe410)
  2 0x00000006 (0x00000006)
  3 0xf7da52e9 (0xf7da52e9)
  4 0xf7d9cf71 (0xf7d9cf71)
  5 0x7df5446a StgStreamImpl_Write+0x26a(iface=0x9d64b0 pv=0x34decc cb=0x4
pcbWritten=0x34deec) [/data/dkegel/wine-git/dlls/ole32/stg_stream.c:385] in
ole32 (0x7df5446a)
  6 0x007c1427 in ikernel (+0x11427) (0x007c1427)
...",97,"0"
"WINE-32694","NVIDIA GTX 690 not in the list of recognized cards.","NVIDIA GTX 690 not in the list of recognized cards.",1356,"1"
"WINE-12491","PES 2008 crash at launch with a fail to get video memory message","Created attachment 12054
here are the results of my regression test

I've identified a regression in wine 0.9.59 since wine 0.9.58 involving wined3d module and causing a crash when i launch KONAMI PES2008

I made a full regression test so here are the result as attachment

here is the main initial topic in forum with a screenshot

http://forum.winehq.org/viewtopic.php?t=501


Good luck and thank you by advance",93,"0"
"WINE-3902","Need DIB engine (Unnormal slowness in Heroes 4 (X11DRV_BitBlt?))","The game 'Heroes of Might and Magic IV' runs unbearably slow even though I have
a more than adequate computer.  I get the following error message on the console
repeatedly:

fixme:bitblt:X11DRV_BitBlt potential optimization - client-side DIB copy",350,"1"
"WINE-9523","Knytt Stories installer fails","The installer from http://nifflas.ni2.se/index.php?main=02Knytt_Stories&sub=03Download fails after selecting an install directory saying Error: Could not pack file.",16,"0"
"WINE-1624","CUPS Printer Interface Shows Fails Due To Wrong Number of Pages","When printing from a Windows program the printer dialog box shows the wrong
number of pages in the from to.  The from is 1 which is correct but the to is
65535 which is wrong.  It appears that the page counter is broken.  Unless you
select the from/to option and change the to page the application will not print.

The resuls is that you cannot print taking the All default.  This happens in
Eudora and Agent.  Also you cannot print from the Windows Notepad application.
 It does not provide a from/to range and as a results does not print.

I am using wine20030618 with a CUPS connection to a Windows 2000 box.  Linux
applications print correctly.",797,"1"
"WINE-39181","When Monster Strikes The Vanishing of Ethan Carter Redux require msvcr120.dll._set_FMA3_enable","Program crashes on startup with a call to unimplemented function.",148,"0"
"WINE-17715","Incorrect translation of D3D asm instruction expp","Hi there

currently wined3d (I only tested this in ARB mode but it might also affect GLSL mode) the D3D assembler instruction expp is incorrectly translated to ARBvp assembler language.

wined3d takes this D3D asm line expp r3.y r3 and translates it into EXP R3.y R3. Well this isn't working.

EXP is of scalarop type the first parameter being of masked destination register type (masking is used in this case above) and the second parameter (here lies the problem) is of type scalar source register.

Sadly R3 is a vector :(

Well let's add there full shader source for completeness:
--------------------------------------------
vs_1_0
//D3DX8 Shader Assembler Version 0.91
mov r0 v0
add r1 r0 -c85
dp3 r1 r1 r1
rsq r1.x r1.y
mov r3 r0
dp3 r3.w r3 r3
rsq r3.w r3.w
mul r7 r3 r3.w
mul r1.x r1.x r1.y
mad r2.x r1.x c86.x c86.y
slt r4 r2.x c0
mul r4 r4 -c83.w
max r2.x r2.x -r2.x
add r2.x r4.z r2.x
mul r3 r2.x c83.y
expp r3.y r3
mad r3 r3.y c83.z c83.w
mul r2 r3.x r3.x
mul r3.y r2.x r3.x
mul r3.z r2.x r3.y
mul r3.w r2.x r3.z
dp4 r2 c82 r3
mul r2 r2 c86.z
mul r1.x r1.x c86.w
add r1.x c1 -r1.x
max r1.x c0 r1.x
mad r0.y r2 r1.x r0.y
dp4 oPos.x r0 c2
dp4 oPos.y r0 c3
dp4 oPos.z r0 c4
dp4 oPos.w r0 c5
mov oT0 v3
mov oT1 v3
mov oT2 v3
mov oT3 v3
mov oD0 c1
mov oFog.x c0
--------------------------------------------

First of all according to the current MSDN the instruction used above in the source is NOT valid.

See this: http://msdn.microsoft.com/en-us/library/bb173373(VS.85).aspx

They explicitly state expp dst src.{x|y|z|w} as the syntax.
They furthermore mention:
------------QUOTE---------------------------
src is a source register. Source register requires explicit use of replicate swizzle that is exactly one of the .x .y .z .w swizzle components (or the .r .g .b .a equivalents) must be specified.
------------UNQUOTE--------------------------

Well this comment about the src reg doesn't seem to be valid at all....

Let's just take a look at the original D3D8 documentation (D3DX8 Shader Assembler Version 0.91 <- !!!).

To fully quote this:
------------------------------------------------------
expp

Provides exponential 2x partial support.

Syntax:
expp   vDest vSrc0


Registers:
vDest: Destination register holding the result of the operation.
vSrc0: Source register specifying the input argument.

Operation:
The following code fragment shows the operations performed by the expp instruction to write a result to the destination.
    SetDestReg()
    SetSrcReg(0)

    float w = m_Source[0].w
    float v = (float)floor(m_Source[0].w)

    m_TmpReg.x = (float)pow(2 v)
    m_TmpReg.y = w - v

    // Reduced precision exponent
    float tmp = (float)pow(2 w)
    DWORD tmpd = *(DWORD*)

    m_TmpReg.z = *(float*)
    m_TmpReg.w = 1

    WriteResult()

Remarks:
The expp instruction produces undefined results if fed a negative value for the exponent.
This instruction provides exponential base 2 partial precision. It generates an approximate answer in vDest.z and allows for a more accurate determination of vDest.x*function(vDest.y) where function is a user approximation to 2*vDest.y over the limited range (0.0 <= vDest.y < 1.0).
This instruction accepts a scalar source and reduced precision arithmetic is acceptable in evaluating vDest.z. However the approximation error must be less than 1/(211) the absolute error (10-bit precision) and over the range (0.0 <= t.y < 1.0). Also expp returns 1.0 in w.
The following example illustrates how the expp instruction might be used. 
expp r5 r0
------------------------------------------------------

So the correct translation should be EXP R3.y R3.w

CCing Stefan Dösinger and Henri Verbeet.

I tried to patch this myself but it looks like that expp has to be moved out of shader_hw_map2gl to be able to do such an adjustement (but maybe not?).",1735,"1"
"WINE-36832","winetricks ie7 / riched20/tests/editor.c crash","Created attachment 48906
backtrace

wine-1.7.21-31-g95ae71f
Linux phcole 3.13.0-30-generic #54-Ubuntu SMP Mon Jun 9 22:47:59 UTC 2014 i686 i686 i686 GNU/Linux

use winetricks ie7 to install ie7
when the window shows cancel it  (or after the installation successed) the iesetup.exe crashed.",5,"0"
"WINE-17328","tools/widl: warning: null format string","ccache gcc -c -I. -I. -I../../include -I../../include    -Wall -pipe -fno-strength-reduce -fno-strict-aliasing -Wdeclaration-after-statement -Wwrite-strings -Wpointer-arith -I/usr/local/include -Werror -g  -o expr.o expr.c
cc1: warnings being treated as errors
expr.c: In function 'write_expr':
expr.c:646: warning: null format string
expr.c:652: warning: null format string
*** Error code 1

Stop in /usr/home/pcbsd/wine-git/tools/widl.
*** Error code 1

Occurs on PC-BSD 7 (probably an issue with BSD make).

Caused by:
fcc096083fe9527cd4638f85533e4488a4aef343 is first bad commit
commit fcc096083fe9527cd4638f85533e4488a4aef343
Author: Alexandre Julliard 
Date:   Fri Feb 6 14:31:29 2009 +0100

    widl: Add printf format attribute on all printf-like functions and fix resulting warnings.

:040000 040000 7117bcdf4ad41e3bc217e883da8704b6493b434a aebe479d352e222b040b337544e9703b49f10eaeM       tools",1,"0"
"WINE-31879","Aquanox: black screen in virtual desktop mode","Created attachment 41959
terminal output

Aquanox as well as the sequel Aquanox 2 show a black screen on startup and the screen remains that way (you can hear the sound of the game but can't see anything).
In Wine's full screen mode the game is visible but the screen is positioned incorrectly (the lower right part of the game screen is off screen).
Can be reproduced with the demo version as well.

It is a regression in the git version:

4ac1a5ac608bad7111f7cb99170a3be99b5059f0 is the first bad commit
commit 4ac1a5ac608bad7111f7cb99170a3be99b5059f0
Author: Alexandre Julliard 
Date:   Wed Oct 3 11:19:10 2012 +0200

    winex11: Allow changing the pixel format of a window from a different thread.

:040000 040000 33e1d7ef3f15aafa9e989204e8d800948c7e8fd4 1a29c7d92b865a00043d7e77155ccfba23a71093 M	dlls

Reverting the patch fixes the problem.

Fedora 17
Nvidia 250 / driver 304.37
X.Org X Server 1.12.3
Gnome 3.4.2",1,"0"
"WINE-23169","GeForce FX: Extremely low performance with NPOT textures","The quirk used to prevent the use of OpenGL 2.0's NPOT texture functionality on GeForce FX-series GPUs is not applied to all cards in that series leading to software fallback on them.

Adding a check for CARD_NVIDIA_GEFORCEFX_5200 to dlls/wined3d/directx.c:match_geforce5() corrects the issue completely.

For reference my specific card is the FX 5500 with driver version 169.12.",4,"0"
"WINE-24588","64 bit issue within qsort()","Created attachment 31054
Patch to fix 64 bit issue within qsort()

Change all types from int to size_t within NTDLL_mergesort().",3,"0"
"WINE-8541","ntdll test makes my windows reboot","I'm using Paul Millar's WINE Regression Testing mingw version on my WXP box.
While running the tests i've found one that makes my windows crash and reboot (I
know it's not that hard :) )
The test responsible by making my machine crash is ntdll reg test. If some dev
could give me some clues why this happen!? Bug or defect from my windows
instalation ?",209,"0"
"WINE-4251","MSI  ACTION_InstallFiles is not copying files in subfolders.","This error msg occurs for every file MSI tries to install:

err:msi:ACTION_InstallFiles Unable to copy file (LE:\\folder\\DAO360.DLL ->
Lc:\\Program Files\\Common Files\\Microsoft Shared\\DAO\\DAO360.DLL) (error 2)

In the example above the DAO360.DLL file is in E:\folder\Common\Microsoft
Shared\DAO\.  MSI is dropping the subfolder component of the install file
request somewhere.

I'm trying to intall e-Sword 6.5 and I cannot install it when the cdrom image
is mounted in a root folder (keeps asking for disk1).  So I mount it in a
subfolder and it seems to work except the files are not copied.

Thanks.",166,"0"
"WINE-10850","Bug when selecting text in Qt 3 QLineEdit","Hi

The attached minimalistic example application demonstrates a WINE bug when using a QLineEdit widget from Qt 3:

* Enter some text in the line edit.
* Select some text using the mouse.
* Click into the line edit

Native Windows:
-> The selected text simply gets unselected.

Using WINE:
-> The selected text gets deleted.

Kind regards
Markus",41,"0"
"WINE-6785","Continuum doesn't run in non-virtual desktop when windowed","Continuum when run in a non-virtual desktop displays the correct menu but it
doesn't display anything in the window that opens if you try to enter an arena.
 It works fine in a virtual desktop.  This only occurs in the windowed mode.  If
run in an unwindowed mode without a virtual desktop there is no problem.",506,"1"
"WINE-34501","__unDName doesn't support thunks with vtordispex","Here is an example:
?_dispatch@_impl_Engine@SalomeApp@@$R4CE@BA@PPPPPPPM@7AE_NAAVomniCallHandle@@@Z",25,"0"
"WINE-33872","Pando (installer of LOL) can't load FAQ","Created attachment 44931
screenshot_linux.png

0. download it from http://l3cdn.riotgames.com/ShellInstaller/NA/LeagueofLegends_NA_Installer_05_07_13.exe
1. wine it and click 'next'
2. can't load FAQ",35,"0"
"WINE-12041","STALKER 1.0004-Trainer.exe crashes in dsound","When starting STALKER 1.0004-Trainer.exe it crashes see attached.

My dsound works fine for several other programs without issue.",175,"0"
"WINE-36951","no sound effects in BridgeMaster 2000","Hello

When playing BridgeMaster 2000 I do not hear any of the sound effects.  It looks like this is because winmm:proc_PlaySound() is called without a filename extension (.wav) so it doesn't find the file to play.  Here's a listing of the sound effect files that are supposed to be part of the game:

$ ls /home/joe/.wine/dosdevices/c\:/Program\ Files/Bridge\ Master\ 2000/sounds/
lose0.wav  lose3.wav  lose6.wav  lose9.wav  win2.wav  win5.wav  win8.wav
lose1.wav  lose4.wav  lose7.wav  win0.wav   win3.wav  win6.wav  win9.wav
lose2.wav  lose5.wav  lose8.wav  win1.wav   win4.wav  win7.wav


And here's the debug log I captured running with WINEDEBUG=+winmm+file

trace:winmm:MULTIMEDIA_PlaySound pszSound='0x32f640' hmod=(nil) fdwSound=00020001
trace:winmm:proc_PlaySound SoundName=Lsounds\\lose3 !
trace:file:OpenFile sounds\lose3 OF_READ OF_SHARE_DENY_WRITE 
trace:file:OpenFile sounds\lose3 0020
trace:file:RtlGetFullPathName_U (Lsounds\\lose3 520 0x16fe368 (nil))
trace:file:RtlDosPathNameToNtPathName_U (LC:\\Program Files\\Bridge Master 2000\\sounds\\lose30x16fe158(nil)(nil))
trace:file:RtlGetFullPathName_U (LC:\\Program Files\\Bridge Master 2000\\sounds\\lose3 520 0x16fdf08 (nil))
trace:file:wine_nt_to_unix_file_name L\\Program Files\\Bridge Master 2000\\sounds\\lose3 not found in /home/joe/.wine/dosdevices/c:/Program Files/Bridge Master 2000/sounds
trace:file:RtlDosPathNameToNtPathName_U (L.\\sounds\\lose30x16fe158(nil)(nil))
trace:file:RtlGetFullPathName_U (L.\\sounds\\lose3 520 0x16fdf08 (nil))
trace:file:wine_nt_to_unix_file_name L\\Program Files\\Bridge Master 2000\\sounds\\lose3 not found in /home/joe/.wine/dosdevices/c:/Program Files/Bridge Master 2000/sounds
trace:file:RtlDosPathNameToNtPathName_U (LC:\\windows\\system32\\sounds\\lose30x16fe158(nil)(nil))
trace:file:RtlGetFullPathName_U (LC:\\windows\\system32\\sounds\\lose3 520 0x16fdf08 (nil))
trace:file:wine_nt_to_unix_file_name L\\windows\\system32\\sounds\\lose3 not found in /home/joe/.wine/dosdevices/c:/windows/system32
trace:file:RtlDosPathNameToNtPathName_U (LC:\\windows\\system\\sounds\\lose30x16fe158(nil)(nil))
trace:file:RtlGetFullPathName_U (LC:\\windows\\system\\sounds\\lose3 520 0x16fdf08 (nil))
trace:file:wine_nt_to_unix_file_name L\\windows\\system\\sounds\\lose3 not found in /home/joe/.wine/dosdevices/c:/windows/system
trace:file:RtlDosPathNameToNtPathName_U (LC:\\windows\\sounds\\lose30x16fe158(nil)(nil))
trace:file:RtlGetFullPathName_U (LC:\\windows\\sounds\\lose3 520 0x16fdf08 (nil))
trace:file:wine_nt_to_unix_file_name L\\windows\\sounds\\lose3 not found in /home/joe/.wine/dosdevices/c:/windows
trace:file:RtlDosPathNameToNtPathName_U (LC:\\windows\\system32\\sounds\\lose30x16fe158(nil)(nil))
trace:file:RtlGetFullPathName_U (LC:\\windows\\system32\\sounds\\lose3 520 0x16fdf08 (nil))
trace:file:wine_nt_to_unix_file_name L\\windows\\system32\\sounds\\lose3 not found in /home/joe/.wine/dosdevices/c:/windows/system32
trace:file:RtlDosPathNameToNtPathName_U (LC:\\windows\\sounds\\lose30x16fe158(nil)(nil))
trace:file:RtlGetFullPathName_U (LC:\\windows\\sounds\\lose3 520 0x16fdf08 (nil))
trace:file:wine_nt_to_unix_file_name L\\windows\\sounds\\lose3 not found in /home/joe/.wine/dosdevices/c:/windows
warn:file:OpenFile (sounds\lose3): return = HFILE_ERROR error= 2
trace:file:RtlDosPathNameToNtPathName_U (LC:\\Program Files\\Bridge Master 2000\\sounds\\lose30x16fe538(nil)(nil))
trace:file:RtlGetFullPathName_U (LC:\\Program Files\\Bridge Master 2000\\sounds\\lose3 520 0x16fe2e8 (nil))
trace:file:wine_nt_to_unix_file_name L\\Program Files\\Bridge Master 2000\\sounds\\lose3 not found in /home/joe/.wine/dosdevices/c:/Program Files/Bridge Master 2000/sounds
trace:file:RtlDosPathNameToNtPathName_U (L.\\sounds\\lose30x16fe538(nil)(nil))
trace:file:RtlGetFullPathName_U (L.\\sounds\\lose3 520 0x16fe2e8 (nil))
trace:file:wine_nt_to_unix_file_name L\\Program Files\\Bridge Master 2000\\sounds\\lose3 not found in /home/joe/.wine/dosdevices/c:/Program Files/Bridge Master 2000/sounds
trace:file:RtlDosPathNameToNtPathName_U (LC:\\windows\\system32\\sounds\\lose30x16fe538(nil)(nil))
trace:file:RtlGetFullPathName_U (LC:\\windows\\system32\\sounds\\lose3 520 0x16fe2e8 (nil))
trace:file:wine_nt_to_unix_file_name L\\windows\\system32\\sounds\\lose3 not found in /home/joe/.wine/dosdevices/c:/windows/system32
trace:file:RtlDosPathNameToNtPathName_U (LC:\\windows\\system\\sounds\\lose30x16fe538(nil)(nil))
trace:file:RtlGetFullPathName_U (LC:\\windows\\system\\sounds\\lose3 520 0x16fe2e8 (nil))
trace:file:wine_nt_to_unix_file_name L\\windows\\system\\sounds\\lose3 not found in /home/joe/.wine/dosdevices/c:/windows/system
trace:file:RtlDosPathNameToNtPathName_U (LC:\\windows\\sounds\\lose30x16fe538(nil)(nil))
trace:file:RtlGetFullPathName_U (LC:\\windows\\sounds\\lose3 520 0x16fe2e8 (nil))
trace:file:wine_nt_to_unix_file_name L\\windows\\sounds\\lose3 not found in /home/joe/.wine/dosdevices/c:/windows
trace:file:RtlDosPathNameToNtPathName_U (LC:\\windows\\system32\\sounds\\lose30x16fe538(nil)(nil))
trace:file:RtlGetFullPathName_U (LC:\\windows\\system32\\sounds\\lose3 520 0x16fe2e8 (nil))
trace:file:wine_nt_to_unix_file_name L\\windows\\system32\\sounds\\lose3 not found in /home/joe/.wine/dosdevices/c:/windows/system32
trace:file:RtlDosPathNameToNtPathName_U (LC:\\windows\\sounds\\lose30x16fe538(nil)(nil))
trace:file:RtlGetFullPathName_U (LC:\\windows\\sounds\\lose3 520 0x16fe2e8 (nil))
trace:file:wine_nt_to_unix_file_name L\\windows\\sounds\\lose3 not found in /home/joe/.wine/dosdevices/c:/windows
trace:winmm:proc_PlaySound Done playing=Lsounds\\lose3 => ko!


I'm happy to help test patches to address this.

Thanks
--Joe",234,"1"
"WINE-782","Wine fails to keep an applications child windows always on-top.","I use windows for approximately 3 applications - 2 of which have decent
replacements under linux - one of which does not.  This 3rd application is
called ELF - its a telnet program designed for playing muds. It functions mostly
under wine except for one problem which has kept me going back to windows on a
regular basis.  By executing the appropriate scripting commands ELF will create
additional windows which you can send text too.  In Win2k - these windows will
happily stay always on-top of the application itself.  allowing me to work in
the main window and have interesting things which I might otherwise miss because
of alot of action on the main window appear on these sub windows which float
above the application.

However when I run this application on Wine - giving focus to the application
causes it to end up on top of all the child windows rendering them useless to
my needs.

I am thinking that these are not 'standard' always on top windows because if you
have other applications then they will not sit above them.  ie its only ontop
when the application has focus.
fiddling with warnings etc ...
I ended up using this execution line
wine --debugmsg fixme+allerr+allwarn+allwarn-heap Elf.exe
heap warnings come at a huge rate ... and trace ... wow :P

 the things which seem most interesting are
warn:x11drv:SWP_DoOwnedPopups (10024) hInsertAfter = 0000

and
warn:listbox:ListBoxWndProc_common [30066]: unknown msg b029 wp 00000000 lp 00000000
warn:listbox:ListBoxWndProc_common [30066]: unknown msg b004 wp 00000000 lp 43a3d32c

i get stacks of 
warn:gdi:GDI_GetObjPtr Invalid handle 0 as well - but the other 3 messages
appear when i switch focus between the main application and child windows.


turning on trace for x11drv - didnt leave me much more informed - but if wanted
the data is ofcourse available...

not sure if this is the right component - but hmmm anyway...",776,"1"
"WINE-32302","Endless Space >=1.0.25: crash during advanced game","Created attachment 42640
Wine log of the crash

The game crash after a while. I don't know what make it crash but it is not random when I load my autosave the game crash exactly at the same moment every time.

I attached the wine log and the memory dump.

I m available for debugging.",98,"0"
"WINE-39104","[win16] installing application cause Not Enough Disk Space MessageBox","Created attachment 52101
amipro install bug

Installing AmiPro 3.1 (16-bit application) fails with a message box claiming not enough disk space.

Two previously abandoned bugs describing the same thing:
https://bugs.winehq.org/show_bug.cgi?id=29156
https://bugs.winehq.org/show_bug.cgi?id=19655

To test I don't know where to get current legal copies of this program. I got old legal floppies but do not have a floppy drive so I had to get a copy at the following location:
http://monkey-hole.co.uk/esa/win16/

WINEDEBUG=+relay WINEARCH=win32 WINEPREFIX=/home/jens/.amipro wine /home/jens/Devel/Wine/amipro31/INSTALL.EXE 2>&1 | cat > /home/jens/Devel/Wine/amipro31_install_bug.txt",1,"0"
"WINE-41934","Spreaker Studio 1.4.2 fails to install","This pplication is request from a WineHQ forum member.

No overrides used.

Stock console log was not very enlightening so set:
export WINEDEBUG=+timestamp+tid+all

Application tested in a clean 32-bit Wineprefix. Wine Windows version set to Windows 7 (the application does not support earlier versions of Windows).

The application installer fails immediately - with no error message.",673,"1"
"WINE-42035","WindBot needs msvcp120.?_2@placeholders@std@@3V?$_Ph@$01@2@A","I found this bug while trying to run a bit of software called WindBot but it seems if it's what I expect that it's going to be much more generic. I think the title contains all the info someone expert enough to work out the problem would need.

If anyone wants to repro the file I'm trying to run is here:

https://www.tibiawindbot.com/downloads/windbot11-2.9.0-beta.34.exe

Sorry if links are not allowed please grumble at me if that's the case. I'm literally brand spanking new here.

The installer runs fine then you need to run the file within which is given a random name (it's a bot for an MMORPG which users suspect may have client-side detection). That file starts up and falls over with the dialog detailing:

The procedure entry point ?_2@placeholders@std@@3V?$_Ph@$01@2@A could not be located in the dynamic link library MSVCP120.dll

If there is any extra information I can provide please ask. I'm fairly experienced with Linux though not so much with Wine so please step-by-step me for Wine and just ask for Linux.

I've just tested it and on a 32-bit wine everything works as intended so that helps to isolate the issue a little further.",140,"0"
"WINE-38671","valgrind shows an uninitialized write in dlls/advapi32/tests/security.c (test_CreateDirectoryA)","==11415== Syscall param writev(vector[...]) points to uninitialised byte(s)
==11415==    at 0x4F7A0F4B: ??? (in /usr/lib/libc-2.21.so)
==11415==    by 0x7BC7A9C5: send_request (server.c:228)
==11415==    by 0x7BC7AB52: wine_server_call (server.c:309)
==11415==    by 0x7BC43375: FILE_CreateFile (file.c:229)
==11415==    by 0x7BC4357B: NtCreateFile (file.c:323)
==11415==    by 0x7B85C7A1: CreateDirectoryW (path.c:1565)
==11415==    by 0x7B85C84D: CreateDirectoryA (path.c:1589)
==11415==    by 0x47D0DB7: test_CreateDirectoryA (security.c:3252)
==11415==    by 0x47DE307: func_security (security.c:5863)
==11415==    by 0x47EC923: run_test (test.h:584)
==11415==    by 0x47ECD6B: main (test.h:666)
==11415==  Address 0x46a18e0 is 88 bytes inside a block of size 120 alloc'd
==11415==    at 0x7BC4A9F1: notify_alloc (heap.c:254)
==11415==    by 0x7BC4EC94: RtlAllocateHeap (heap.c:1715)
==11415==    by 0x7BC83236: NTDLL_create_struct_sd (sync.c:116)
==11415==    by 0x7BC4327E: FILE_CreateFile (file.c:211)
==11415==    by 0x7BC4357B: NtCreateFile (file.c:323)
==11415==    by 0x7B85C7A1: CreateDirectoryW (path.c:1565)
==11415==    by 0x7B85C84D: CreateDirectoryA (path.c:1589)
==11415==    by 0x47D0DB7: test_CreateDirectoryA (security.c:3252)
==11415==    by 0x47DE307: func_security (security.c:5863)
==11415==    by 0x47EC923: run_test (test.h:584)
==11415==    by 0x47ECD6B: main (test.h:666)
==11415==  Uninitialised value was created by a client request
==11415==    at 0x7BC4A7FD: mark_block_uninitialized (heap.c:208)
==11415==    by 0x7BC4A952: initialize_block (heap.c:239)
==11415==    by 0x7BC4ECB4: RtlAllocateHeap (heap.c:1716)
==11415==    by 0x47D0C3D: test_CreateDirectoryA (security.c:3238)
==11415==    by 0x47DE307: func_security (security.c:5863)
==11415==    by 0x47EC923: run_test (test.h:584)
==11415==    by 0x47ECD6B: main (test.h:666)
==11415==",954,"1"
"WINE-5070","Can't install North Carolina RealFast forms","Trying to install North Carolina RealFast forms (Real Estate forms).  I can
input registration data and see it echoed (only in uppercase in case that's
significant) but the application complains that no data has been entered at all...

I can email the installation executable which has a demo installation mode.",923,"1"
"WINE-11863","Dance eJay 7 Demo crashes with pagefault and backtrace in quartz","Created attachment 11150
quartz debug channel and backtrace for Dance eJay 7 Demo

When starting the Dance eJay 7 Demo with Wine Git version wine-0.9.56-420-g22f146f the application page faults inside quartz.dll. Relevant backtraces are attached.",1,"0"
"WINE-6111","Regression in Wine riched20 causes text to flicker when typing in KeyNote","A regression in wine 0.9.18 causes text entered into the open-source KeyNote
(http://keynote.sf.net) to flicker when typing. I regression-tested it using git
bisect and got this as the problem patch:

alex@ubuntu:~/Base/wine-git$ git bisect bad
658c0cdd1a5fa19300a09ae4ef6d59c06dcecd0c is first bad commit
diff-tree 658c0cdd1a5fa19300a09ae4ef6d59c06dcecd0c (from
bf4e00fd9bb0188df43d09720cf6ca4c5efb184a)
Author: Matt Finnicum 
Date:   Tue Aug 8 16:08:43 2006 -0400

    riched20: Implement EM_SHOWSCROLLBAR EM_SETSCROLLPOS ES_DISABLENOSCROLL
and WS_VSCROLL.

:040000 040000 363d8b0bc198c704765ce857751b1ce80d2d69b4
163d233f47ba4d4edd52b06a392ea578c6a53936 M      dlls


The attached movie demonstrates the problem. Because of the framerate of the
capture the flicker is exaggarated - what really happens is that every time you
press a key all your text are flicker for a microsecond but it's still bloody
annoying to type that way. Of course the problem still exists in the most
recent Wine release (0.9.20)

To reproduce this bug install keynote from the given link and launch it. It
should open with the default sample note showing (if not sample.knt is in the
same directory as keynote.exe load it.). Just start typing into the text pane
and the text will flicker.",12,"0"
"WINE-25585","Release key event is lost during lags in some games","When playing Oblivion it is possible to go into the situation when it is not possible to stop running after some lag (loading objects during location change making final blow to a monster etc.) in game. Neither pressing any keys nor reloading to a save can fix this - only complete restart of the game. It looks like wine skips release key event and can't acquire it anymore.",1360,"1"
"WINE-32186","Multiple kernel drivers crash on unimplemented function ntoskrnl.exe.KeWaitForMultipleObjects (Franson VSerial service 'bizvserialnt.sys' VSphere 6.0 'hcmon.sys')","Hallo

first I have to say sorry because I Think it's not a good report for looking on help but it's my first time here on wine-reports.

And this is my problem:

I want to you use DIGITUS DN-13023 (NAS and Printserver) on UBUNTU 12.04 (all updates successfully downloaded!) but it's not working. With Windows XP SP3  there are no problems.

Unhandled exception: unimplemented function ntoskrnl.exe.KeWaitForMultipleObjects called in 32-bit code (0x7b839cf2).
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:0033 GS:003b
 EIP:7b839cf2 ESP:0064e904 EBP:0064e968 EFLAGS:00000246(   - --  I  Z- -P- )
 EAX:7b826245 EBX:7b894ff4 ECX:00000000 EDX:80000100
 ESI:80000100 EDI:00113790
Stack dump:
0x0064e904:  0064e988 00000008 00000000 80000100
0x0064e914:  00000001 00000000 7b839cf2 00000002
0x0064e924:  683f2f60 683f5f5e 298a2ff4 00000002
0x0064e934:  29830000 0064e978 2988e2a8 29830000
0x0064e944:  00000002 00000000 00000000 00000000
0x0064e954:  00000000 00000000 7b839caa 00113678
Backtrace:
=>0 0x7b839cf2 in kernel32 (+0x29cf2) (0x0064e968)
  1 0x683f2ed8 in ntoskrnl (+0x12ed7) (0x0064e998)
  2 0x683e9791 in ntoskrnl (+0x9790) (0x0064ea18)
  3 0x00542748 in bizvserialnt.sys (+0x2747) (0x0064ea18)
  4 0x7bc71db0 call_thread_func_wrapper+0xb() in ntdll (0x0064ea28)
  5 0x7bc7486d call_thread_func+0x7c() in ntdll (0x0064eaf8)
  6 0x7bc71d8e RtlRaiseException+0x21() in ntdll (0x0064eb18)
  7 0x7bc7a748 in ntdll (+0x6a747) (0x0064f368)
  8 0x6816ad4c start_thread+0xcb() in libpthread.so.0 (0x0064f468)
0x7b839cf2: subl	$4%esp
Modules:
Module	Address			Debug info	Name (28 modules)
PE	  540000-  5434c0	Export          bizvserialnt.sys
ELF	20000000-20018000	Deferred        hal
  \-PE	20010000-20018000	\               hal
ELF	2981f000-298ac000	Deferred        msvcrt
  \-PE	29830000-298ac000	\               msvcrt
ELF	68000000-68022000	Deferred        ld-linux.so.2
ELF	68022000-68164000	Dwarf           libwine.so.1
ELF	68164000-6817f000	Dwarf           libpthread.so.0
ELF	6817f000-68329000	Dwarf           libc.so.6
ELF	68329000-68355000	Deferred        libm.so.6
ELF	68355000-68361000	Deferred        libnss_nis.so.2
ELF	68361000-6836e000	Deferred        libnss_files.so.2
ELF	6836e000-683ce000	Deferred        advapi32
  \-PE	68380000-683ce000	\               advapi32
ELF	683ce000-68415000	Dwarf           ntoskrnl
  \-PE	683e0000-68415000	\               ntoskrnl
ELF	6e37b000-6e390000	Deferred        winedevice
  \-PE	6e380000-6e390000	\               winedevice
ELF	70e25000-70e2e000	Deferred        libnss_compat.so.2
ELF	774bf000-774c4000	Deferred        libdl.so.2
ELF	79d01000-79d76000	Deferred        rpcrt4
  \-PE	79d10000-79d76000	\               rpcrt4
ELF	79d9e000-79db8000	Deferred        libnsl.so.1
ELF	7b800000-7ba15000	Dwarf           kernel32
  \-PE	7b810000-7ba15000	\               kernel32
ELF	7bc00000-7bcc3000	Dwarf           ntdll
  \-PE	7bc10000-7bcc3000	\               ntdll
ELF	7bf00000-7bf04000	Deferred        
Threads:
process  tid      prio (all id:s are in hex)
00000008 Control Center.exe
	00000009    0
0000000e services.exe
	00000047    0
	00000046    0
	0000003f    0
	00000039    0
	0000002b    0
	00000019    0
	00000018    0
	00000017    0
	00000015    0
	00000010    0
	0000000f    0
00000012 (D) C:\windows\system32\winedevice.exe
	0000001d    0 <==
	0000001a    0
	00000014    0
	00000013    0
00000020 explorer.exe
	00000021    0
00000028 winedevice.exe
	00000030    0
	0000002d    0
	0000002a    0
	00000029    0
00000036 plugplay.exe
	0000003b    0
	00000038    0
	00000037    0
0000003c twonkymediaserverwatchdog.exe
	00000023    0
	00000042    1
	00000041    0
	0000003e    0
	0000003d    0
00000043 twonkywebdav.exe
	0000004a    0
	00000049   -2
	00000048   -2
	0000000d    0
	00000032    0
	0000002c    0
	0000002f   -2
	00000031    1
	00000035    0
	00000034   -2
	0000001b    1
	00000024    0
	00000025    0
	00000045    0
	00000044    0
00000022 twonkymediaserver.exe
	00000079   -2
	00000078   -2
	00000077   -2
	00000076   -2
	00000075   -2
	00000074   -2
	00000073   -2
	0000006e   -2
	0000000b    0
	0000004b    0
	00000067   -2
	00000066   -1
	00000065   -1
	00000064   -1
	00000063    0
	00000062    0
	0000005f    0
	0000005d    0
	0000005c    0
	0000005b    0
	0000005a    0
	00000059    0
	00000058    0
	00000057    0
	00000056    0
	00000055    0
	00000054    1
	00000053    0
	00000052    0
	00000051    1
	00000050    0
	0000004f    0
	0000004e   -1
	0000004d    0
	0000001c    0
System information:
    Wine build: wine-1.4
    Platform: i386
    Host system: Linux
    Host version: 3.2.0-32-generic

I hope someone can help me and sorry again when it's not the right way to send this question.

Sincerly yours 

michaeichenseher",1932,"1"
"WINE-18218","spec file for xinput1_3 is incorrect","I found a game that didn't run with builtin xinput1_3
but run with native xinput1_3 and d3dx9_36.
After much testing and seeing a strange difference
between relay on builtin and snoop on native
I took a guess and changed the order of functions in spec file.
That worked but the more correct way is probably
giving proper ordinals:
2 stdcall XInputGetState(long ptr)
3 stdcall XInputSetState(long ptr)
4 stdcall XInputGetCapabilities(long long ptr)
5 stdcall XInputEnable(long)
6 stdcall XInputGetDSoundAudioDeviceGuids(long ptr ptr)
7 stdcall XInputGetBatteryInformation(long ptr ptr)
8 stdcall XInputGetKeystroke(long long ptr)
That works too game no longer needs native xinput1_3.
It still needs native d3dx9_36 as D3DXCheckTextureRequirements
is not implemented.",12,"0"
"WINE-7909","Photoshop 5.0 crashes","Photoshop 5.0 crashes and freezes when a layer is right-clicked with the
following output:

fixme:msg:pack_message msg 14 (WM_ERASEBKGND) not supported yet
fixme:font:WineEngRemoveFontResourceEx :stub
fixme:psdrv:PSDRV_ExtEscape GETSETPRINTORIENT not implemented (data (nil))!
fixme:psdrv:PSDRV_ExtEscape GETSETPRINTORIENT not implemented (data (nil))!

Also Photoshop 7.0 upgrade edition will not recognize Photoshop 5.0
installation files as valid media in the same manner that it does for Windows.",13,"0"
"WINE-13233","FSX Demo fails to start.","I am running FSX Demo Downloadable here:
http://download.microsoft.com/download/4/7/7/477dcc35-0b98-42c5-b06f-7ded38a40491/FSXDemo.exe

The demo fails to start with msxml4 installed from winetricks...
msxml appears to be required to run fsx.

I have attached a log and I will try to attach a screenshot.

The FSX error is quite non descriptive.. only saying A Fatal Error Occured",912,"1"
"WINE-38685","valgrind shows an invalid read in d3d9/tests/d3d9ex.c","../../../tools/runtest -q -P wine -T ../../.. -M d3d9.dll -p d3d9_test.exe.so d3d9ex && touch d3d9ex.ok
==28064== Invalid read of size 2
==28064==    at 0x4F67EB5: check_gamma_ramps (dc.c:1335)
==28064==    by 0x4F6831B: SetDeviceGammaRamp (dc.c:1405)
==28064==    by 0x4ABEE02: wined3d_swapchain_set_gamma_ramp (swapchain.c:255)
==28064==    by 0x4ABE091: swapchain_cleanup (swapchain.c:37)
==28064==    by 0x4ABE4DB: wined3d_swapchain_decref (swapchain.c:108)
==28064==    by 0x4A17BB7: wined3d_device_uninit_3d (device.c:1135)
==28064==    by 0x499A3F0: d3d9_device_Release (device.c:307)
==28064==    by 0x47A167F: test_user_memory_getdc (d3d9ex.c:1398)
==28064==    by 0x47A7338: func_d3d9ex (d3d9ex.c:2927)
==28064==    by 0x4833E19: run_test (test.h:584)
==28064==    by 0x4834261: main (test.h:666)
==28064==  Address 0x4720000 is 392 bytes inside a block of size 1712 alloc'd
==28064==    at 0x7BC4A9F1: notify_alloc (heap.c:254)
==28064==    by 0x7BC4EC94: RtlAllocateHeap (heap.c:1715)
==28064==    by 0x4AC1763: wined3d_swapchain_create (swapchain.c:1064)
==28064==    by 0x49AA370: swapchain_init (swapchain.c:337)
==28064==    by 0x49AA44D: d3d9_swapchain_create (swapchain.c:362)
==28064==    by 0x49A3DA1: device_parent_create_swapchain (device.c:3578)
==28064==    by 0x4A17107: wined3d_device_init_3d (device.c:911)
==28064==    by 0x49A41D0: device_init (device.c:3696)
==28064==    by 0x49A609F: d3d9_CreateDeviceEx (directx.c:573)
==28064==    by 0x479AE2A: create_device (d3d9ex.c:183)
==28064==    by 0x47A13F5: test_user_memory_getdc (d3d9ex.c:1373)
==28064==    by 0x47A7338: func_d3d9ex (d3d9ex.c:2927)
==28064==    by 0x4833E19: run_test (test.h:584)
==28064==    by 0x4834261: main (test.h:666)
==28064==

==28064== Invalid read of size 2
==28064==    at 0x4F67ECB: check_gamma_ramps (dc.c:1335)
==28064==    by 0x4F6831B: SetDeviceGammaRamp (dc.c:1405)
==28064==    by 0x4ABEE02: wined3d_swapchain_set_gamma_ramp (swapchain.c:255)
==28064==    by 0x4ABE091: swapchain_cleanup (swapchain.c:37)
==28064==    by 0x4ABE4DB: wined3d_swapchain_decref (swapchain.c:108)
==28064==    by 0x4A17BB7: wined3d_device_uninit_3d (device.c:1135)
==28064==    by 0x499A3F0: d3d9_device_Release (device.c:307)
==28064==    by 0x47A167F: test_user_memory_getdc (d3d9ex.c:1398)
==28064==    by 0x47A7338: func_d3d9ex (d3d9ex.c:2927)
==28064==    by 0x4833E19: run_test (test.h:584)
==28064==    by 0x4834261: main (test.h:666)
==28064==  Address 0x4720000 is 392 bytes inside a block of size 1712 alloc'd
==28064==    at 0x7BC4A9F1: notify_alloc (heap.c:254)
==28064==    by 0x7BC4EC94: RtlAllocateHeap (heap.c:1715)
==28064==    by 0x4AC1763: wined3d_swapchain_create (swapchain.c:1064)
==28064==    by 0x49AA370: swapchain_init (swapchain.c:337)
==28064==    by 0x49AA44D: d3d9_swapchain_create (swapchain.c:362)
==28064==    by 0x49A3DA1: device_parent_create_swapchain (device.c:3578)
==28064==    by 0x4A17107: wined3d_device_init_3d (device.c:911)
==28064==    by 0x49A41D0: device_init (device.c:3696)
==28064==    by 0x49A609F: d3d9_CreateDeviceEx (directx.c:573)
==28064==    by 0x479AE2A: create_device (d3d9ex.c:183)
==28064==    by 0x47A13F5: test_user_memory_getdc (d3d9ex.c:1373)
==28064==    by 0x47A7338: func_d3d9ex (d3d9ex.c:2927)
==28064==    by 0x4833E19: run_test (test.h:584)
==28064==    by 0x4834261: main (test.h:666)
==28064==

==28064== Invalid read of size 2
==28064==    at 0x4F67F45: check_gamma_ramps (dc.c:1340)
==28064==    by 0x4F6831B: SetDeviceGammaRamp (dc.c:1405)
==28064==    by 0x4ABEE02: wined3d_swapchain_set_gamma_ramp (swapchain.c:255)
==28064==    by 0x4ABE091: swapchain_cleanup (swapchain.c:37)
==28064==    by 0x4ABE4DB: wined3d_swapchain_decref (swapchain.c:108)
==28064==    by 0x4A17BB7: wined3d_device_uninit_3d (device.c:1135)
==28064==    by 0x499A3F0: d3d9_device_Release (device.c:307)
==28064==    by 0x47A167F: test_user_memory_getdc (d3d9ex.c:1398)
==28064==    by 0x47A7338: func_d3d9ex (d3d9ex.c:2927)
==28064==    by 0x4833E19: run_test (test.h:584)
==28064==    by 0x4834261: main (test.h:666)
==28064==  Address 0x4720000 is 392 bytes inside a block of size 1712 alloc'd
==28064==    at 0x7BC4A9F1: notify_alloc (heap.c:254)
==28064==    by 0x7BC4EC94: RtlAllocateHeap (heap.c:1715)
==28064==    by 0x4AC1763: wined3d_swapchain_create (swapchain.c:1064)
==28064==    by 0x49AA370: swapchain_init (swapchain.c:337)
==28064==    by 0x49AA44D: d3d9_swapchain_create (swapchain.c:362)
==28064==    by 0x49A3DA1: device_parent_create_swapchain (device.c:3578)
==28064==    by 0x4A17107: wined3d_device_init_3d (device.c:911)
==28064==    by 0x49A41D0: device_init (device.c:3696)
==28064==    by 0x49A609F: d3d9_CreateDeviceEx (directx.c:573)
==28064==    by 0x479AE2A: create_device (d3d9ex.c:183)
==28064==    by 0x47A13F5: test_user_memory_getdc (d3d9ex.c:1373)
==28064==    by 0x47A7338: func_d3d9ex (d3d9ex.c:2927)
==28064==    by 0x4833E19: run_test (test.h:584)
==28064==    by 0x4834261: main (test.h:666)
==28064==

Potentially causing a valgrind crash:
Memcheck: mc_main.c:1000 (get_sec_vbits8): Assertion 'n' failed.
Memcheck: get_sec_vbits8: no node for address 0x4720000 (0x472000D)


host stacktrace:
==28064==    at 0x38030875: show_sched_status_wrk (m_libcassert.c:341)
==28064==    by 0x38030981: report_and_quit (m_libcassert.c:413)
==28064==    by 0x38030A63: vgPlain_assert_fail (m_libcassert.c:479)
==28064==    by 0x3800AF24: get_sec_vbits8 (mc_main.c:1000)
==28064==    by 0x3800B2FE: get_vbits8 (mc_main.c:812)
==28064==    by 0x3800B2FE: mc_LOADVn_slow (mc_main.c:1368)
==28064==    by 0x3800D9FF: mc_LOADV16 (mc_main.c:4601)
==28064==    by 0x3800D9FF: vgMemCheck_helperc_LOADV16le (mc_main.c:4634)
==28064==    by 0xBB643E1: ???

sched status:
  running_tid=1

Thread 1: status = VgTs_Runnable (lwpid 28064)
==28064==    at 0x4F67EB5: check_gamma_ramps (dc.c:1335)
==28064==    by 0x4F6831B: SetDeviceGammaRamp (dc.c:1405)
==28064==    by 0x4ABEE02: wined3d_swapchain_set_gamma_ramp (swapchain.c:255)
==28064==    by 0x4ABE091: swapchain_cleanup (swapchain.c:37)
==28064==    by 0x4ABE4DB: wined3d_swapchain_decref (swapchain.c:108)
==28064==    by 0x4A17BB7: wined3d_device_uninit_3d (device.c:1135)
==28064==    by 0x499A3F0: d3d9_device_Release (device.c:307)
==28064==    by 0x47A167F: test_user_memory_getdc (d3d9ex.c:1398)
==28064==    by 0x47A7338: func_d3d9ex (d3d9ex.c:2927)
==28064==    by 0x4833E19: run_test (test.h:584)
==28064==    by 0x4834261: main (test.h:666)",1347,"1"
"WINE-15674","Sacred 2 - Fallen Angel fails to start","Created attachment 16735
debug output of run session

Sacred 2 - Fallen Angel doesn't work.
The game register and activate itself in the right way but it seems there's a problem with DirectX.
I didn't find a way to use opengl instead maybe there isn't.

Attached the output running wine sacred2.exe

Thanks
Fausto",974,"1"
"WINE-7575","Corel Lightning demo installer hangs","The installer starts ok but as it launches the main .msi it says
err:msi:ACTION_CallDllFunction GetProcAddress((null)) failed
and then sits forever.

Here are a few fun lines from the +msi log:

trace:msi:ACTION_ProcessExecSequence Execute Sequence already Run
trace:msi:MSI_DatabaseOpenViewW LSELECT * FROM `InstallUISequence` WHERE
`Sequence` = -1 0x34fbd4
...
trace:msi:ACTION_PerformActionSequence Running the actions
trace:msi:MSI_EvaluateConditionW L(DoNotDo)
trace:msi:COND_GetString Got identifier LDoNotDo
trace:msi:MSI_EvaluateConditionW 0 <- L(DoNotDo)
trace:msi:msiobj_release object 0x178308 destroyed
err:msi:ACTION_CallDllFunction GetProcAddress((null)) failed
trace:msi:DllThread custom action (f) returned 1627",1266,"1"
"WINE-25210","unimplemented function msvcr90.dll - Puzzle Agent(Telltale Games) Demo won't start","Created attachment 32013
terminal output from running main executable with wine

Puzzle Agent Demo game fails to start with terminal output like:
fixme:actctx:parse_depend_manifests Could not find dependent assembly LMicrosoft.VC90.CRT (9.0.21022.8)

Get the game from http://www.telltalegames.com/puzzleagent

Found winetricks vcrun2008 makes it work

Get winetricks from http://winezeug.googlecode.com/svn/trunk/winetricks

See attachment for Terminal output while launching the game.",1,"0"
"WINE-4810","Virtual Felix (animated cat) causes high CPU-load and flicker of taskbar","Virtul Felix is a (free) animated cat for Windows and Mac designed to play
around on your screen. He is a bit like Neko (from the KDE-toys Amor package) in
this respect. However when activated as he walks over the taskbar it causes
repeated refreshes of the taskbar beneath causing the taskbar and Felix to
flicker and using 100% of the CPU. 

Felix2.exe may be dowloaded for free from here:
  http://www.catslikefelix.co.uk/index.asp
You have to register log in and then click Get Your own Felix.

I know that this application is hardly a high priority but I do know of a
certain cat lover who would be very well disposed to penguins if it could be
fixed. Thank you!",667,"1"
"WINE-42163","Sid Meier's Railroads! crash loading multiplayer lobby","Created attachment 56739
cmd log

Game runs fine in singleplayer.

The crash:
Click multiplayer - host select the map and click host. The next screen should be the multiplayer lobby where others can join. But it crashes instantly.

I have included the console output.",16,"0"
"WINE-13998","other programs cant use alsa","Other programs (not wine) can`t use alsa driver when wine -1.0 using alsa for audio.
It can be fixed by using Esound driver except alsa.",189,"0"
"WINE-12070","Changing some tool properties with arrow keys in Photoshop CS2 doesnt work","When i create few layers and try to change their blending mode with arrow keys (selectind dropdown and pressing arrUp arrDwn keys) ie. overlay multiply etc... nothing happens at all. Doing the same with mouse via dropdown list works fine. This was tested and was recreatable on at least 2 machines.",11,"0"
"WINE-20314","wine loader doesn't work on Debian/kFreeBSD","Found out about the debian/FreeBSD port so I gave it a spin. Wine mostly compiles with a couple warnings (I'll send a patch in a bit) but the killer is loader/preloader.c. It's disabled on FreeBSD normally by configure.ac:
case $host_cpu in
  *i[[3456789]]86*)
    case $host_os in
      linux* | k*bsd*-gnu)
        AC_SUBST(EXTRA_BINARIESwine-preloader) 
    esac
    
esac

but the k*bsd*-gnu enables it here. The problem is preloader.c has some linux specific stuff:
static inline int wld_prctl( int code int arg )
{
    int ret
    __asm__ __volatile__( pushl %%ebx movl %2%%ebx int $0x80 popl %%ebx
                          : =a (ret) : 0 (SYS_prctl) r (code) c (arg) )
    return SYSCALL_RET(ret)
}

The SYS_prctl is Linux specific see:
http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=550435

I tried removing the k*bsd*-gnu from configure.ac but the loader still doesn't work:
wine: failed to initialize: /usr/local/lib/wine/ntdll.dll.so: failed to map segment from shared object: Cannot allocate memory",464,"1"
"WINE-8745","openwatcom debugger hits unimplemented function vdmdbg.dll.VDMEnumProcessWOW","To repeat:

wget http://ftp.openwatcom.org/ftp/open-watcom-c-win32-1.6.exe
wine open-watcom-c-win32-1.6.exe
wineboot
cd .wine/drive_c/WATCOM/samples/win/alarm/win16
wine wmake
wine wdw alarm.exe

The debugger exits right after putting up a splash screen saying:

wine: Call from 0x7b83fa70 to unimplemented function
vdmdbg.dll.VDMEnumProcessWOW aborting",380,"1"
"WINE-4652","Adobe Dreamweaver MX 2004 installs well but does not run.","I have istalled a clean wine-0.9.8 on SUSE10.0.
Installation went well except for a message: MDAC >= 2.6 neaded.
I tried to run the application: wine ./Dreamveaver.exe
but it failed with the message:

err:module:LdrInitializeThunk actlib.dll failed to initialize aborting
err:module:LdrInitializeThunk Main exe initialization for LC:\Program
Files\Macromedia\Dreamweaver MX 2004\Dreamweaver.exe failed status c0000142 

I have tried an istallation also with wine-0.9.3 with the winetools-0.9
(includes MDAC 2.6). It installs without problems but cannot the application
connot run. I get the same error message above.",824,"1"
"WINE-13266","ArchiCad 11 installer: Crashes after extraction (Java related?)","Created attachment 13111
Output from running  AC11-NOR.exe and Setup.exe  manually after extraction

Trying to run the installer for ArchiCad 11 it fails after extraction.

Going into the directory c:\windows\temp\ArchiCad 11 where the files were extracted and starting up Setup.exe if fails within a second with a page fault.

Before Setup crashes a Installing Java Runtime briefly flashes on screen.

I can't read the output but it might be Java related seeing that the Java Runtime that comes with the demo also crashes (but that might be a whole other bug report). ArchiCad is java based so the JRE install is vital.",393,"1"
"WINE-24024","CandyWorldSetup.exe from Candy World III: Heart of Heaven Demo show incorrect font","I haven't got a Windows desktop to tell what the setup display should look like.

fixme:win:EnumDisplayDevicesW ((null)00x32f5100x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x32f4c40x00000000) stub!
fixme:dsalsa:IDsDriverBufferImpl_SetVolumePan (0x15a0a00x15a010): stub
fixme:win:EnumDisplayDevicesW ((null)00x32f4840x00000000) stub!
fixme:d3d:swapchain_init Add OpenGL context recreation support to context_validate_onscreen_formats
err:ddraw:PixelFormat_WineD3DtoDD Can't translate this Pixelformat 58
err:ddraw:PixelFormat_WineD3DtoDD Can't translate this Pixelformat 64
fixme:d3d:context_apply_blit_state Applying blit state for an offscreen target with ORM_FBO. This should be avoided.
fixme:ddraw:ddraw7_WaitForVerticalBlank (0x12c000)->(1(nil)): Stub

fixme:d3d:context_apply_blit_state Applying blit state for an offscreen target with ORM_FBO. This should be avoided.
fixme:d3d:context_apply_blit_state Applying blit state for an offscreen target with ORM_FBO. This should be avoided.

The above is repeated nearly forever unless you close the setup and then the below is displayed.

err:d3d_surface:IWineGDISurfaceImpl_UnLoad (0x130708): UnLoad is not supported on X11 surfaces!
err:d3d_surface:IWineGDISurfaceImpl_UnLoad (0x130708): Most likely the parent library did something wrong.
err:d3d_surface:IWineGDISurfaceImpl_UnLoad (0x130708): Please report to wine-devel
fixme:d3d:IWineD3DDeviceImpl_Release (0x134b80) Device released with resources still bound acceptable but unexpected
fixme:d3d:IWineD3DDeviceImpl_Release Leftover resource 0x130708 with type WINED3DRTYPE_SURFACE (0x1).

I shortened parts of the above log as some repeats.",430,"1"
"WINE-9987","Missing function GDI32.dll.RemoveFontMemResourceEx","Created attachment 8507
RemoveFontMemResourceEx.diff

When running Titan Quest (see AppDb) the game crashes with the message:
wine: Call from 0x3e6193 to unimplemented function GDI32.dll.RemoveFontMemResourceEx aborting

Searching in the archives I found several implementations which I compared. I removed the AddFontMemResourceEx function since this is already present in current CVS. However I never submitted a patch before. Please find attached the diff which once applied to CVS (wine-0.9.46-261-ga76d10d) fixes this issue.

Please let me know if I need to provide traces and/or logs

Frans",83,"0"
"WINE-6256","Ankh Demo crashes in DirectX mode","Running the Ankh demo in DirectX mode crashes the game/wine without a warning:

(The mode can be set by setting Plugin=RenderSystem_Direct3D9 in bin/release/
plugins.cfg)


err:ddraw:IDirectDrawSurfaceImpl_SetSurfaceDesc Setting the surface memory 
isn't supported yet
Creating viewport on target 'Ankh' rendering from camera 'DebugCamera' 
relative dimensions L: 0.00 T: 0.00 W: 1.00 H: 1.00 ZOrder: 0
Viewport for camera 'DebugCamera' actual dimensions L: 0 T: 0 W: 640 H: 480
wine: Unhandled page fault on read access to 0x00000008 at address 0x42de6f 
(thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: page fault on read access to 0x00000008 in 32-bit code 
(0x0042de6f).
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:003b GS:0033
 EIP:0042de6f ESP:0033ee34 EBP:0033ee54 EFLAGS:00210216(   - 00      -RIAP1)
 EAX:0033ee70 EBX:00000000 ECX:00000000 EDX:00bb0024
 ESI:00000000 EDI:0046cbe4
Stack dump:
0x0033ee34:  0033fc34 00000000 7c37a3a8 ffffffff
0x0033ee44:  7c34218f 0033ee70 0045b5f0 ffffffff
0x0033ee54:  0033fe60 0040fb5c 0046cbe4 00000001
0x0033ee64:  0033fe54 0033fc34 00000003 0033eec8
0x0033ee74:  00458cb3 0000000d 7c34347e 0046cbe4
0x0033ee84:  00000001 0033ee98 0046cb78 0033fe54
fixme:ntdll:RtlNtStatusToDosErrorNoTeb no mapping for c0000119
Backtrace:
=>1 0x0042de6f in ankh (+0x2de6f) (0x0042de6f)
  2 0x0040fb5c in ankh (+0xfb5c) (0x0040fb5c)
  3 0x00457569 in ankh (+0x57569) (0x00457569)
  4 0x7ee7fe91 in kernel32 (+0x4fe91) (0x7ee7fe91)
  5 0xb7e99317 (0xb7e99317)
0x0042de6f: movl        0x8(%esi)%eax
Modules:
Module  Address                 Debug info      Name (105 modules)
PE      340000-380000   Deferred        sdl
PE      380000-386000   Deferred        sdl_net
PE      390000-3a2000   Deferred        zlib1
PE      3b0000-3c3000   Deferred        ilu
PE      3d0000-3dc000   Deferred        ogreguirenderer
PE      3e0000-3f6000   Deferred        plugin_particlefx
PE      400000-483000   Export          ankh
PE      490000-692000   Deferred        ogremain
PE      6a0000-813000   Deferred        devil
PE      820000-971000   Deferred        ceguibase
PE      980000-9ce000   Deferred        libmysql
PE      9d0000-a5a000   Deferred        audiere
PE      a60000-a94000   Deferred        opcode
PE      ff0000-1048000  Deferred        ogreplatform
PE      1050000-116f000 Deferred        rendersystem_direct3d9
PE      1170000-1179000 Deferred        plugin_cgprogrammanager
PE      1180000-127e000 Deferred        cg
PE      1490000-149c000 Deferred        plugin_optreescenemanager
PE      14a0000-14ce000 Deferred        plugin_octreescenemanager
PE      1d50000-1d8f000 Deferred        ceguitaharezlook
PE      10000000-102b9000       Deferred        pinacore
PE      12000000-121d4000       Deferred        xerces-c_2_5_0
ELF     7bc63000-7bcae000       Deferred        dsound
  \-PE  7bc70000-7bcae000       \               dsound
ELF     7bf00000-7bf03000       Deferred        
PE      7c340000-7c396000       Deferred        msvcr71
PE      7c3a0000-7c41b000       Deferred        msvcp71
ELF     7c455000-7c4a4000       Deferred        ddraw
  \-PE  7c460000-7c4a4000       \               ddraw
ELF     7cbc8000-7cc80000       Deferred        wined3d
  \-PE  7cbe0000-7cc80000       \               wined3d
ELF     7cd22000-7cd37000       Deferred        midimap
  \-PE  7cd30000-7cd37000       \               midimap
ELF     7cd5d000-7cd9a000       Deferred        wineoss
  \-PE  7cd60000-7cd9a000       \               wineoss
ELF     7cd9a000-7cd9f000       Deferred        libxfixes.so.3
ELF     7cd9f000-7cdbc000       Deferred        imm32
  \-PE  7cdb0000-7cdbc000       \               imm32
ELF     7cdbc000-7cdc4000       Deferred        libxrender.so.1
ELF     7cdc6000-7cdde000       Deferred        msacm32
  \-PE  7cdd0000-7cdde000       \               msacm32
ELF     7d908000-7d933000       Deferred        d3d9
  \-PE  7d910000-7d933000       \               d3d9
ELF     7d933000-7d96e000       Deferred        dinput
  \-PE  7d940000-7d96e000       \               dinput
ELF     7d96e000-7d986000       Deferred        dinput8
  \-PE  7d970000-7d986000       \               dinput8
ELF     7dc9d000-7dd29000       Deferred        winex11
  \-PE  7dcb0000-7dd29000       \               winex11
ELF     7dd29000-7dd49000       Deferred        libexpat.so.0
ELF     7dd49000-7dd78000       Deferred        libfontconfig.so.1
ELF     7dd78000-7dde6000       Deferred        libfreetype.so.6
ELF     7dde9000-7ddf2000       Deferred        libxcursor.so.1
ELF     7de02000-7de99000       Deferred        ole32
  \-PE  7de10000-7de99000       \               ole32
ELF     7de99000-7deea000       Deferred        rpcrt4
  \-PE  7dea0000-7deea000       \               rpcrt4
ELF     7deea000-7df00000       Deferred        glu32
  \-PE  7def0000-7df00000       \               glu32
ELF     7df61000-7df6a000       Deferred        libgcc_s.so.1
ELF     7e038000-7e7fb000       Deferred        libglcore.so.1
ELF     7e7fb000-7e800000       Deferred        libxdmcp.so.6
ELF     7e800000-7e878000       Deferred        libglu.so.1
ELF     7e878000-7e8fd000       Deferred        libgl.so.1
ELF     7e8fd000-7e9f3000       Deferred        libx11.so.6
ELF     7e9f3000-7ea02000       Deferred        libxext.so.6
ELF     7ea02000-7ea1a000       Deferred        libice.so.6
ELF     7ea1a000-7ea23000       Deferred        libsm.so.6
ELF     7ea23000-7eaa1000       Deferred        opengl32
  \-PE  7ea40000-7eaa1000       \               opengl32
ELF     7eaa1000-7eb04000       Deferred        msvcrt
  \-PE  7eab0000-7eb04000       \               msvcrt
ELF     7eb04000-7eb16000       Deferred        libresolv.so.2
ELF     7eb16000-7eb34000       Deferred        iphlpapi
  \-PE  7eb20000-7eb34000       \               iphlpapi
ELF     7eb34000-7eb5f000       Deferred        ws2_32
  \-PE  7eb40000-7eb5f000       \               ws2_32
ELF     7eb5f000-7eb79000       Deferred        wsock32
  \-PE  7eb70000-7eb79000       \               wsock32
ELF     7eb79000-7ebbe000       Deferred        advapi32
  \-PE  7eb80000-7ebbe000       \               advapi32
ELF     7ebbe000-7ec50000       Deferred        gdi32
  \-PE  7ebd0000-7ec50000       \               gdi32
ELF     7ec50000-7ed87000       Deferred        user32
  \-PE  7ec70000-7ed87000       \               user32
ELF     7ed87000-7ee11000       Deferred        winmm
  \-PE  7ed90000-7ee11000       \               winmm
ELF     7ee11000-7ef17000       Export          kernel32
  \-PE  7ee30000-7ef17000       \               kernel32
ELF     7ef17000-7ef21000       Deferred        libnss_nis.so.2
ELF     7ef22000-7ef26000       Deferred        libxrandr.so.2
ELF     7ef2a000-7ef3b000       Deferred        libz.so.1
ELF     7ef3d000-7ef62000       Deferred        libm.so.6
ELF     7ef66000-7ef69000       Deferred        libxau.so.6
ELF     7ef69000-7ef7e000       Deferred        libnsl.so.1
ELF     7ef7e000-7f000000       Deferred        ntdll
  \-PE  7ef90000-7f000000       \               ntdll
ELF     b7d30000-b7d35000       Deferred        libxxf86vm.so.1
ELF     b7d35000-b7d3f000       Deferred        libnss_files.so.2
ELF     b7d40000-b7d44000       Deferred        libdl.so.2
ELF     b7d44000-b7e63000       Deferred        libc.so.6
ELF     b7e63000-b7e76000       Deferred        libpthread.so.0
ELF     b7e77000-b7e80000       Deferred        libnss_compat.so.2
ELF     b7e90000-b7e92000       Deferred        libnvidia-tls.so.1
ELF     b7fa3000-b7fbf000       Deferred        ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
0000000a
        0000000b    0
00000008 (D) Z:\games\Ankh Demo\bin\release\Ankh.exe
        00000010    2
        0000000f   15
        0000000e   15
        0000000d    0
        00000009    0 <==",799,"1"
"WINE-28852","Star Trek Online sound distorted/stutters","around Wine 1.1.40 STO worked fine with mmdevapi set to disabled.

At 1.3.25 of course it had to be enabled for sound... but since the forcing over to mmdevapi for sound sound has never worked in this game properly (at least on CoreAudio).

up to the current 1.3.31 it still has the same problem.  The sound stutters and echoes itself over and over at each sound effect... for a long time making the sound next to useless.

I do not know of this affects more than just mmdevapi on CoreAudio... but sound used to work fine before mmdevapi.",144,"0"
"WINE-22071","Adding a new Record after a Find fails.","Created attachment 26888
Sample Program and Source Code

Create a Database in either Postgres or MySQL
Create the following table.
CREATE TABLE testing
(
  id integer
)


winetricks mdac28
Install the ODBC driver for MySQL or Postgres.
Setup an ODBC connection to the Database above.
run DBSample.exe
 Select the ODBC connection name

You should a Messagebox with either a success or failed message.


Workarounds
winetricks dcom98.",890,"1"
"WINE-14440","SWAT4: Severe graphics glitches","I have found a regression problem in versions of wine 1.1.0 and 1.1.1. Using 1.1.0 swat4 worked just about flawlessly(besides the mouse warping which isnt relevant at this point). When I updated to 1.1.1 swat4 works normally as expected but instead of rendering where theres normally some 3d gfx in the background in the main game menu a white screen is displayed making the game almost unplayable as it cant render 3d and the menu entries are also white so its impossible to navigate to any of the game options besides [X] Quit which is on the top right corner and is in a black area which remains black.

I'm running Ubuntu 8.04 using oss for sound and fglrx for video with a creative x-fi extreme music and radeon hd3870.

screenshots:
http://img403.imageshack.us/img403/8900/screenshot3wm4.png
http://img413.imageshack.us/img413/6154/screenshot4sx1.png",139,"0"
"WINE-27730","Arcanum hangs on exit","Arcanum: Of Steamworks & Magick Obscura becomes unresponsive when you click on  in the main menu.

The game exits cleanly in Wine-1.3.22:

f0634f7a4bf125f1c7221fe675765a7b157d0b92 is the first bad commit
commit f0634f7a4bf125f1c7221fe675765a7b157d0b92
Author: Ričardas Barkauskas 
Date:   Mon Jun 20 23:51:01 2011 +0300

    ddraw: Separate IDirectDrawSurface3 reference count.

:040000 040000 49593168ebe85fbd4b5ff242bc14ac3a840b1b18 bfdde9659663dc5c7a564a936c3b5cfbfa2904b7 M	dlls

The patch can be reverted cleanly on 1.3.23 and that fixed the problem. The same problem in Wine-1.3.24 too.

Only a few fixmes in the console:
fixme:win:EnumDisplayDevicesW ((null)00x32f66c0x00000000) stub!
fixme:x11drv:X11DRV_desktop_SetCurrentMode Cannot change screen BPP from 32 to 16
fixme:d3d:swapchain_init Add OpenGL context recreation support to context_validate_onscreen_formats
fixme:dsalsa:IDsDriverBufferImpl_SetVolumePan (0x1dbe680x21ec58): stub

Author of the patch added to CC.

Fedora 15 32-bit
Nvidia GeForce 250 / driver 275.09.07",153,"0"
"WINE-27113","Free download manager Unknow network error without native wininet","Created attachment 34567
LOG: free download manager unknow network error

Free download manager is open source.
http://www.freedownloadmanager.org/download.htm

1. Download http://files2.freedownloadmanager.org/fdminst3.exe

2. winetricks -q mfc42

3. install fdminst3.exe
$ wine fdminst3.exe

4. open fdm.exe and try to download any files.

$ wine fdm.exe

then there are several Unknow network error massage in the log window of fdm.exe
the downloading will not start.

console log is like this:
fixme:wininet:InternetAutodial STUB
fixme:wininet:InternetSetOptionW Option INTERNET_OPTION_DISABLE_AUTODIAL STUB
fixme:wininet:InternetSetOptionW INTERNET_OPTION_SEND/RECEIVE_TIMEOUT/DATA_SEND_TIMEOUT 120000
fixme:wininet:InternetSetOptionW INTERNET_OPTION_SEND/RECEIVE_TIMEOUT/DATA_SEND_TIMEOUT 120000
fixme:wininet:InternetSetOptionW Option INTERNET_OPTION_CONNECT_TIMEOUT (120000): STUB
fixme:wininet:InternetSetOptionW Option 43 STUB

winetricks wininet should workaround for it.

full log is attached",1135,"1"
"WINE-32347","Alien8 and Head Over Heels crash when window is moved partly off-screen","This issue applies to at least two game remakes available from
http://retrospec.sgn.net/

Alien8: http://retrospec.sgn.net/game-links.php?link=alien8
Head Over Heels: http://retrospec.sgn.net/game-links.php?link=hoh

Source code is available for Alien8.

I'm testing with wine-1.5.18-114-ga61f68f Lubuntu 11.10 x86-64 Nvidia driver
304.64.

Both games crash when you drag the game window so it is partly off the right and/or bottom edge of the screen. (There is no crash when the window is off the left and/or top edge.)

The crash didn't give a very useful backtrace. Sometimes when it crashed there was no error dialog just this console text:
err:seh:raise_exception Unhandled exception code c0000005 flags 0 addr 0x7bc4b43a",1212,"1"
"WINE-11187","Scanf bug","Created attachment 10244
Scanf Bug

Scanf seems to not work correctly.

How to reproduce the bug:
1) install in wine the Dev-cpp
2) write a simple program that performs at least two scanf (see attachment)
3) run it...

expected result:
each scanf read a value from the keyboard

actual result:
the first scanf works fine. Subsequent read from keybord not",29,"0"
"WINE-41721","hidtest.exe crashes on unimplemented function hid.dll.HidP_GetSpecificButtonCaps","Created attachment 56141
Crash log

Trying to test the new HID support with hidtest.exe from http://initprog.org/hidtest.exe/en-download-1632.html

$ sha1sum hidtest.exe 
62afc7d1ecf513b9cfa708e661d4ce1bc543be44  hidtest.exe

$ wine cmd
Microsoft Windows 5.2.3790 (1.9.23)

Z:\home\alex\workspace>net start winebus
The Platform Bus Kernel service is starting.
The Platform Bus Kernel service was started successfully.

Z:\home\alex\workspace>hidtest.exe

The crash log is attached.",4,"0"
"WINE-34079","OneDrive for Business C2R (click-to-run) client reports server error ('rpcrt4.RpcMgmtIsServerListening' must check if binding handle refers to remote server)","Created attachment 45306
Backtrace of installer

The installer of Skydrive Pro 2013 SkyDrivePro_x86_en-us.exe crashes on startup.

--snip--
Unhandled exception: 0xc06d007f in 32-bit code (0x7b83bbd5).
--snip--

Installer downloadable at http://www.microsoft.com/en-us/download/details.aspx?id=39050",833,"1"
"WINE-24835","Graphical corruption in Verizon Media Manager without native GDIplus","Created attachment 31411
Media Manager without native GDIplus.

Similar to http://bugs.winehq.org/show_bug.cgi?id=23956 (which was about text not displaying) Verizon Media Manager needs a native GDIplus in order to display properly.  The screen has numerous areas of black where it shouldn't be and that is obscuring the controls and other parts of the interface.

I've tried to get a GDIplus trace log but if I wait long enough for the interface to come up the file is already 500 MB in size.  If that's fine please tell me and I'll upload it to a place of your choosing.",161,"0"
"WINE-42570","dinput/tests/mouse intermittently fails in Acquire() and GetDeviceData()","Created attachment 57480
log with +dinput

The following lines are sometimes printed:

mouse.c:143: Test failed: Acquire() should have failed: 00000000
mouse.c:147: Test failed: Acquire() failed: 00000001

Less often 2-4 of the following lines may be printed as well:

mouse.c:152: Test failed: GetDeviceData() failed: 00000000 cnt:0
mouse.c:158: Test failed: GetDeviceData() failed: 00000000 cnt:0
mouse.c:166: Test failed: GetDeviceData() failed: 00000000 cnt:0
mouse.c:177: Test failed: GetDeviceData() failed: 00000000 cnt:0

This affects at least the f25 and hd6800 test machines. If there is any relevant information I can provide about my machine please let me know.",250,"1"
"WINE-14560","Australian etax program help feature segfaults","The Australian Tax Office produces a Windows-only tax client for the individual taxpayer free of charge. It can be downloaded at the link above.

Installation is fine under wine as in previous years but the help feature segfaults. The exe in question is etaxHelp.exe.

The +relay is 50M and even under bzip2 -9 compression is still 1.5M. However this is an easy to reproduce bug using freely downloadble software so please excuse the lack of a log file.

Note that wine installs the program by default in /.wine/dosdevices/c:/etax2008.",100,"0"
"WINE-13085","TH06: No FPS limit in fullscreen mode","The game seems to not limit FPS amount in fullscreen mode. It speeds up to >200 FPS instead of not going above 60.",1184,"1"
"WINE-3082","secur32.dll.GetUserNameExW not implemented","Using builtin secur32.dll leads to the following fatal error:
wine: Call from 0x39e74052 to unimplemented function secur32.dll.GetUserNameExW
aborting

Google Earth works with native secur32.dll.",90,"0"
"WINE-29973","StarBurn doesn't recognize its default drive selection for erasing","Created attachment 39019
Terminal output

In StarBurn's erase disc dialog a list of detected CD/DVD/Blu-Ray drives is provided with one of those drives selected by default. However just clicking next to erase the disc in the preselected drive fails with an error claiming no device was selected. It works after deselecting the drive and then selecting it again.

This is a regression:

59e59c6bf97540a1c8ca5c248a10b9114cce9608 is the first bad commit
commit 59e59c6bf97540a1c8ca5c248a10b9114cce9608
Author: Nikolay Sivov 
Date:   Thu Jul 23 23:50:12 2009 +0400

    comctl32/listview: Don't alter selection mark in LVM_SETITEMSTATE.

:040000 040000 3b933d2d7fd43bcb781f1d1ce8dbe9f79d8b7b3b f109d330ce3227ec4a3226ccaba0b790d421a078 M    dlls

Reverting the patch allows the default selection to be recognized properly.

Steps to reproduce:

1. Ensure a mounted rewritable optical disc is available
2. Create a symlink at $WINEPREFIX/dosdevices/cdrom0 linked to the device node of the drive containing the disc
3. Install and run StarBurn
4. Right-click the drive at the bottom of the window and choose 'erase disc'
5. Click next",119,"0"
"WINE-14585","Anquet maps won't install with internal installer error number 536870920.","When running the demo installer downloadable from http://www.anquet.com/ (version 6.2) the installer fails with internal installer error. The error code is 536870920.

Upon clicking OK to close the error pop-up the installer tries to download and install the .NET framework but after downloading fails again with Failed to verify digital signature of file http://download.microsoft.com/download/5/6/7/567758a3-759e-bf8f-52154438565a/dotnetfx.exe.

Upon clicking OK the installer dies. Nothing is installed.",202,"0"
"WINE-10435","Portal 1.0: Portals don't always appear correctly (clipping plane / frustum not being respected?)","Often in Portal instead of seeing through a pair of portals you end up seeing what's behind the destination portal - but this depends on the viewing angle and distance.

It would appear that the clipping plane/frustum (whatever) when the portal is rendered is modified with respect to the player's position in Portal or perhaps it *isn't* modified and is instead rendered with the same clipping frustum as the main viewpoint.",700,"1"
"WINE-24022","NVShaderPerf fails to find plugins/performance modules (and therefore to start)","NVShaderPerf is an NVidia tool that runs on the console and that is sadly available only on Windows.

I've successfully used nvdxt (another similar tool by nVidia) with wine 1.3.0 and it runs perfectly fine.

But NVShaderPerf seems to require XML parsing in a way wine does not support (or at least that seems to be the case according to console output).

Installation goes without a hitch and after defining a comfy alias on my .bashrc I get the following attempting to even show the help:

username@host:~> nvshaderperf -v 2
fixme:msxml:internal_putProperty (0x145778)->(Lhttp://xml.org/sax/properties/lexical-handler): semi-stub
fixme:msxml:saxxmlreader_QueryInterface interface {a60511c4-ccf5-479e-98a3-dc8dc545b7d0} not implemented
fixme:msxml:saxxmlreader_QueryInterface interface {e15c1baf-afb3-4d60-8c36-19a8c45defed} not implemented
No performance DLLs found please reinstall
No performance plugins found please reinstall NVShaderPerf


I checked the plugins.xml and it's utf-16 encoded with a BOM mark. If it's indeed an xml issue (something I can't confirm with the limited info I have at hand) it must be an encoding thing (either being utf-16 or having a BOM) because the xml's contents are rather simple:



	
	
	
	
	

",673,"1"
"WINE-8945","Adobe Indesign CS3 Photoshop CS3 and Flash CS3 fail to install","A user submitted garbage test results into appdb for this one.

The installer exits to the console. I'll attach console output hereafter.
Steps to reproduce:

1. Set version to winxp
2. Do winetricks wsh56js otherwise it complains about missing jscript.
3. Use native msxml3 otherwise it will exit because of unimplemented stuff in
msxml3 but there are already other bugs filed for that (other Adobe installers) 


Now the installer exits with:

err:ole:CoGetClassObject class {f8383852-fcd3-11d1-a6b9-006097df5bd4} not registered
err:ole:CoGetClassObject no class object {f8383852-fcd3-11d1-a6b9-006097df5bd4}
could be created for context 0x1

A google showed this has something to do with browseui.dll but a simple
regsvr32 browseui.dll didn't help. Now on windows there's following key that
isn't in wine's registry:

HKEY_LOCAL_MACHINE\Software\Classes\CLSID\{F8383852-FCD3-11d1-A6B9-006097DF5BD4}-->
Process dialog
HKEY_LOCAL_MACHINE\Software\Classes\CLSID\{F8383852-FCD3-11d1-A6B9-006097DF5BD4}\InProcServer32
---> C:\Windows\System\BROWSEUI.DLL
(ThreadingModal Both)

It looks like it chokes in that because after manually adding the key  the
installer gets a bit further:

fixme:shell:MLLoadLibraryW (Lbrowselc.dll0x1f300002) semi-stub!



(After putting a native browselc.dll into system32 it gets again a bit further
pops up a progess bar and then a messagebox about installation failure looks
like it stops because of msi error:

err:msi:ITERATE_Actions Execution halted action
LProcessPropertyFile.E35C3ECB_5FDA_49E1_AB1F_D472B7CB9017 returned 1603

)",455,"1"
"WINE-9786","gpuViewer fails to start trying to change HDC","gpuViewer Tech Preview does not start.  Wine displays errors about the app doing an invalid operation on the root window then one about changing the device context which OpenGL does not allow.  An X error follows.

fixme:win:EnumDisplayDevicesW ((null)00x34bde00x00000000) stub!
fixme:d3d:IWineD3DDeviceImpl_GetAvailableTextureMem (0x135c18) : stub simulating 64MB for now returning 64MB left
err:wgl:X11DRV_SetPixelFormat Invalid operation on root_window
err:d3d:CreateContext HDC=0x320 is already set to iPixelFormat=1 and OpenGL doesn't allow changes!
X Error of failed request:  BadMatch (invalid parameter attributes)
  Major opcode of failed request:  143 (GLX)
  Minor opcode of failed request:  5 (X_GLXMakeCurrent)
  Serial number of failed request:  473
  Current serial number in output stream:  473",2052,"1"
"WINE-30220","Unhandled privileged instruction when starting Minitab 16 (Sentinel HASP hardlock.sys kernel driver tries to write to CR4/not handled in ntoskrnl emulate_instruction)","The following error is printed to the terminal when I startup Minitab 16. However there is no effect on the GUI and the application continues to work as normal. Bug 30219 could be related. 

$ env WINEPREFIX=/home/prabhjot/.myWineBottles/Minitab16/ wine C:\Program Files\Minitab\Minitab 16\Mtb.exe
fixme:ntoskrnl:KeInitializeMutex stub: 0x5b4a80 0
fixme:ntoskrnl:KeWaitForSingleObject stub: 0x5b4a80 0 0 0 (nil)
wine: Unhandled privileged instruction at address 0x5adf59 (thread 0019) starting debugger...
err:ole:CoRegisterClassObject object already registered for class {03e42d3f-a029-4137-b411-244c669f3fbd}
fixme:richedit:IRichEditOle_fnSetHostNames stub 0x2894338 Minitab Mtb
fixme:richedit:IRichEditOle_fnSetHostNames stub 0x2894338 Minitab Project Manager
fixme:richedit:ME_HandleMessage EM_SETTARGETDEVICE doesn't use non-NULL target devices
fixme:process:GetProcessWorkingSetSize (0xffffffff0x32f9d80x32f9dc): stub
fixme:shell:SHGetFileInfoW set icon to shell size stub
fixme:shell:SHGetFileInfoW set icon to shell size stub
fixme:ole:CoResumeClassObjects stub",1023,"1"
"WINE-43884","MSVC LINK.EXE version 14.11.25547.0 crashes due to unimplemented function _memicmp_l","Created attachment 59491
stdout/stderr output with the crash

Hi there

I've downloaded the very latest (I think its the very latest) MSVC LINK.EXE from Microsoft and tried to get it working with my locally compiled Wine version 2.19.

You can download the linker from this URL [1] that points to a zip file containing the linker. Inside that zip file the link.exe is located in the path [2]. The linker is a 64 bit binary so it needs 64 bit Wine. WOW64 is not needed.

You'll obviously also need a Windows SDK handy to try out the linker and some object files to feed it with. I haven't tried out whether cl.exe works its not my priority. My object files were generated by rustc which uses llvm its msvc based target only uses the linker.

You can see that my setup is a bit hard to reproduce therefore it would probably be the best idea to just send me a patch that I can then test. 

Just invoking the linker without any args works as expected. It prints all the options and then complains that it didn't get any args fed.

If you use the linker to link actual payloads however you'll get an error boiling down to the following error message: wine: Call from 0x7b44f727 to unimplemented function api-ms-win-crt-string-l1-1-0.dll._memicmp_l aborting

I've attached a file containing stdout/stderr output of the linker with the crash happening and the /VERBOSE option passed.

I've created a patch for wine to implement the stubbed out _memicmp_l in all the dlls that reference it and with the patch applied the linker is able to produce working binaries for me!

Now I am afraid I can't share the patch with you because I can't fulfill your requirements for contributions. However I hope my information that implementing that function fixes the issue for me will lead to the function being implemented in upstream Wine as well. I am ready to test any patches you send me.

Thank you!

[1]: https://download.visualstudio.microsoft.com/download/pr/11436965/d360453cfd1f34b6164afe24d1edc4b2/microsoft.visualcpp.tools.hostx86.targetx64.vsix
[2]: Contents/VC/Tools/MSVC/14.11.25503/bin/Hostx64/x64/",25,"0"
"WINE-12404","Lotus Notes doesn't show window contents after minimize then unminimize","I have been running Lotus Notes under wine for a few years.  I run Debian GNU/Linux testing version.  Today I upgraded wine from 9.56 to 9.58.  After I did so Lotus Notes has major problems.  After I minimize the window when I unminimize it all that I get is the window frame and the minimize/maximize/close bar.  The window content just shows the desktop below it.  I see no content.  I rebooted my computer to see if that helps.  It didn't help.  Sometimes the very first time I unminimize after starting Notes the window shows.  All other times nothing shows after unminimizing the window.

Lotus Notes version 7.0.2
Wine version from Debian GNU/Linux testing 9.58-1",193,"0"
"WINE-13100","Sanitarium - D3D fails to create DIB section and page fault","Created attachment 12879
console backtrace

During Sanitarium testing when switching from loading screen to level 2 scene
rendering a D3D error occurs then a page fault leading to game crash:

[...]
fixme:ddraw:IDirectDrawImpl_WaitForVerticalBlank (0x13f090)->(1(nil)): Stub
fixme:ddraw:IDirectDrawImpl_WaitForVerticalBlank (0x13f090)->(1(nil)): Stub
err:d3d_surface:IWineD3DBaseSurfaceImpl_CreateDIBSection CreateDIBSection failed!
err:d3d_surface:IWineD3DBaseSurfaceImpl_CreateDIBSection CreateDIBSection failed!
wine: Unhandled page fault on write access to 0x00000000 at address 0x433fed (thread 0027) starting debugger...

The game was launched in the console see the backtrace in attachment.

This bug is not the same as #6828.",533,"1"
"WINE-14503","Riched20 assertion failure when running DNS9.0","Created attachment 14825
Last few lines of terminal output before crash.

To recreate crash:

Installed Dragon NaturallySpeaking 9.0 Preferred with 
wine-1.1.1-55-g6dd7f06
Enabled pulseaudio by running the following:
  padsp winecfg
In audio I selected OSS toggled off others pushed default sample rate to 4800. 
Closed winecfg. 
Navigated to folder then ran
  padsp wine natspeak

DNS ran great for a while then crashed. I was pushing the program hard. 
The error seems to have nothing to do with sound however usually DNS runs without crashing and using PulseAudio is the only thing different that I did.",189,"0"
"WINE-7957","Neotrace crashes in comctl32","Hi this is a followup of bug 7953. I get a nice crash in comctl32 trying to the
app. Steps to reproduce:

1. Work around bug 7953 by applying first patch :
http://bugs.winehq.org/attachment.cgi?id=5642&action=view

2. Install neocron when it starts i selected Uruguay as with United states
you have toi provide a zip code that i don not know.

3. The  wine-gecko window comes up just install it.

4. Now delect File->Trace  and it crashes. Crash log hereafter. Looks like a
problem with unicode conversion.",44,"0"
"WINE-16935","BCG Slider thumb doesnt display correctly","Downlaod the BCGControlBar Professional Edition demonstration
Run the Slider.exe example
Try to move the slider across it doesn't move.

The new value is recorded as a Dialog appears stating the value.",1721,"1"
"WINE-7790","VisualBoy advance crash after change video render method","After change video render method the program crash
Using VisualBoy Advance 1.8.0-beta 3",302,"1"
"WINE-19703","Vypress Chat: crashes","Created attachment 23005
console output

I try to execute this program but it crashes when load main window.",75,"0"
"WINE-25479","Fussball Manager 11 crashes after showing the EA Logo","Created attachment 32437
Debugger output

I have started the Manager11.exe to play Fussball Manager 11 from EA Sports. But after the Screen with the EA Logo the game crashes. I use wine 1.3.9. The debugger will show what I have added in the attached file.

Kind regards

Mirko Paul",1240,"1"
"WINE-36192","valgrind shows a definite leak in mmdevapi/tests/capture.c","==11141== 120 bytes in 3 blocks are definitely lost in loss record 280 of 481
==11141==    at 0x7BC4C6B7: notify_alloc (heap.c:255)
==11141==    by 0x7BC50EFB: RtlAllocateHeap (heap.c:1716)
==11141==    by 0x4FD9590: IMalloc_fnAlloc (ifs.c:186)
==11141==    by 0x4FD9EAB: CoTaskMemAlloc (objidl.h:1236)
==11141==    by 0x6541652: AudioClient_GetMixFormat (mmdevdrv.c:1747)
==11141==    by 0x609B860: set_format (audioclient.h:330)
==11141==    by 0x609B9DF: load_driver_devices (devenum.c:464)
==11141==    by 0x609D231: MMDevEnum_Create (devenum.c:852)
==11141==    by 0x60A0445: MMCF_CreateInstance (main.c:252)
==11141==    by 0x4FBAD96: CoCreateInstance (unknwn.h:226)
==11141==    by 0x4E52328: func_capture (capture.c:1081)
==11141==    by 0x4E67EAF: run_test (test.h:584)
==11141==    by 0x4E6829E: main (test.h:654)
==11141==",416,"1"
"WINE-19467","Icon text fields have incorrect placement and text input field has garbage only while editing","Created attachment 22625
2 text files and 3 png snapshots gzipped together.

Cashbook Complete (which uses the MS Access runtime) used to display and work mostly just fine with wine version prior to 1.1.2x but since I upgraded to any wine version greater than 1.1.2x icon text has been incorrectly displayed and all text input fields are unreadable while editing or filling in. Mouse positioning within text is not possible as the cursor will not go beyond the first inch of the left margin of the text input field no matter where I click within the viewable text field.

I have attached a .gz file with the following snapshots
wine-snapshot1.png - shows the program operating normally using wine 1.1.15
wine-snapshot2.png - shows the program during text edit using wine 1.1.24. Note the input field is unreadable in the Description column.
wine-snapshot2.png - As above but have tabbed the cursor to the Quantity field the text I typed appears but if I try to re-edit it by clicking my mouse anywhere in the text the mouse cursor sits in the middle if the word rendition and the text input field is unreadable again.

I have edited snapshot3 to draw attention to the icon text as well which you will see is the same in snapshot2 but no problem in snapshot1.

I did save a terminal output file of the complete wine cshbk502d.exe install process followed by winetricks dcom98 as is required to get this program working but I copied the wrong text files to my LAN and am unable to recreate them for time restraints. If you need them I will repeat the process through vbox and attach them.

You can get a copy of the cshbk502d.exe from http://www.acclaim.co.nz/download.htm if required.

Thanks for your help",860,"1"
"WINEHQ_APPS_DATABASE-8121","Links on the left can not be select when javascript is disabled","When I disable java-script none of the links work on the left side. Making it
impossible to navigate.",1,"0"
"WINE-10851","matlab r14 crashes in imm32.dll","Crash caused running matlab scripts.

regression tested: cause is

http://source.winehq.org/git/wine.git/?a=commith=5db70db76e8d9d947852cf5af01f55cd8565930c

will post imm32 debug trace.",17,"0"
"WINE-44119","Steam Big Picture requires d3d11 Multiple scissor rects","From Steam Big Picture STDERR Log: fixme:d3d11:d3d10_device_RSSetScissorRects Multiple scissor rects not implemented.

Full log: https://pastebin.com/ayhgum69",149,"0"
"WINE-32318","Excel 2007 files password-protected in Wine cannot be opened in Windows and vice versa","I work on 2 vitrtualbox environments:
1.- Virtualbox 4.2.4 with Xubuntu 12.10 Wine 1.4.1 Office2007 Sp3
2.- Virtualbox 4.2.4 with windows 7 Office2007 Sp3

In Excel 2007 if I save and open the file in the same environment it works:
a) I open a non protected Excel file
b) set a password
c) save the file
d) re-open the file
e) enter the password
f) it works I can open the file

Though if I save the file in one environment and try to open it in the other it doesn't work:
a) I open a non protected Excel file in environment 1
b) I set a password in environment 1
c) I save the file in environment 1
d) I switch to environment 2
e) I re-open the file in environment 2
f) I enter the password in environment 2
f) It does no work I cannot open the file in environment 2

Same result if I switch environment 1 and 2

It looks like the password coding is not the same in both environments",608,"1"
"WINE-180","need IS_ERROR macro in winerror.h","the IS_ERROR macro checks if a particular HRESULT's first bit is set... it is 
currently defined in various places in the MS libraries. something like the
following should be put into wine's winerror.h
#define IS_ERROR(hr) ((unsigned long)(hr) >> 31 == SEVERITY_ERROR)",71,"0"
"WINE-40179","Cannot insert mpg files in Powerpoint 2010","Created attachment 53687
Log trying to insert mpg in Powerpoint 2010

The two videos from bug 17448

http://fgouget.free.fr/tmp/wine-test-videos/daytona_crw.mpg
http://fgouget.free.fr/tmp/wine-test-videos/Ikea_Tidy_up_2_11.mpg

now work for me in Powerpoint 2003 and 2007 but not Powerpoint 2010. Powerpoint 2010 pops up an error message that says Powerpoint cannot insert a video from the selected file. Verify that the necessary codec for this media is installed and then try again. 

Terminal output (full log attached) includes this line:

** (wine:22741): CRITICAL **: gst_audio_format_to_string: assertion 'format != GST_AUDIO_FORMAT_UNKNOWN' failed",91,"0"
"WINE-31120","Clones (game) crashes on start in quartz","Created attachment 40852
terminal output

The game crashes after starting when the company logo should be played.
The same bug (regression) affects Sacred Underworld too.

The result of the regression test:

692814e1f22eb9f4f4c4ea494ed5fc7013716169 is the first bad commit
commit 692814e1f22eb9f4f4c4ea494ed5fc7013716169
Author: Michael Stefaniuc 
Date:   Mon Jul 2 00:56:13 2012 +0200

    quartz: Standardize COM aggregation for FilterGraph.

:040000 040000 d13e19c726955eb24f2a573b99b9d25d7bbb5237 64a2ebfa31b4c25fb4ae0dbbd6ae6db6fbb2bd53 M	dlls

Native quartz.dll is a workaround.

To reproduce the problem with the demo version:
1. Install the demo as usual.
2. Launch the game with ../Bin/ClonesGame.exe. You will receive an immediate crash in quartz/filtergraph.c as can be seen in the attached log.

Fedora 17 x86",5,"0"
"WINE-2716","When running install.exe: Unhandled exception: page fault.....","Hello

     when I try to run install.exe (packed in
http://www.csob.cz/data/eb/hb24/CSOBHB24.exe)
WINE immediately shows error dialog (before any app-window created)
that an error occured (see log):

=============================================================================
wine: Unhandled exception (thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: page fault on read access to 0x00000000 in 32-bit code
(0x004048fb).
In 32 bit mode.
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:003b GS:0033
 EIP:004048fb ESP:4069fc58 EBP:410e0d28 EFLAGS:00210286(   - 00      -RISP1)
 EAX:00000000 EBX:4089b810 ECX:ffffffff EDX:0000000b
 ESI:410e0d4c EDI:00000000
Stack dump:
0x4069fc58:  ffffffff 0042da98 00000000 ffffffff
0x4069fc68:  00000010 410e0d28 410e0d28 00000104
0x4069fc78:  411f1a8c 0040b4b4 00000002 81ff0000
0x4069fc88:  00000001 00000000 00000002 00009000
0x4069fc98:  3df8750e 3df8750e 3df8750e 25534f25
0x4069fca8:  00000000 0040454f 0042da98 0042da98
Backtrace:
=>1 0x004048fb in install (+0x48fb) (0x410e0d28)
  2 0x411f1aac (0x00423350)
  3 0x00404b00 in install (+0x4b00) (0x00404ad0)
  4 0x0a8c818b (0x0424548b)
  5 0x00000000 (0x00000000)
0x004048fb: repne scasb	%es:(%edi)
Modules:
Module	Address			Debug info	Name (54 modules)
PE	0x00400000-00436000	Export          install
ELF	0x40000000-40015000	Deferred        ld-linux.so.2
ELF	0x40022000-4003b000	Deferred        libwine.so.1
ELF	0x4003b000-4004c000	Deferred        libpthread.so.0
ELF	0x4004c000-4016b000	Deferred        libc.so.6
ELF	0x4016b000-4016e000	Deferred        libdl.so.2
ELF	0x4016f000-401ed000	Deferred        ntdll
  \-PE	0x40190000-401ed000	\               ntdll
ELF	0x401f9000-402ee000	Deferred        libwine_unicode.so.1
ELF	0x402ee000-40311000	Deferred        libm.so.6
ELF	0x4031d000-40327000	Deferred        libnss_files.so.2
ELF	0x40440000-40563000	Deferred        kernel32
  \-PE	0x40470000-40563000	\               kernel32
ELF	0x406a0000-407e0000	Deferred        user32
  \-PE	0x406c0000-407e0000	\               user32
ELF	0x407e0000-40872000	Deferred        gdi32
  \-PE	0x40800000-40872000	\               gdi32
ELF	0x40872000-408b3000	Deferred        advapi32
  \-PE	0x40880000-408b3000	\               advapi32
ELF	0x408b3000-40946000	Deferred        comdlg32
  \-PE	0x408c0000-40946000	\               comdlg32
ELF	0x40946000-40a0b000	Deferred        shell32
  \-PE	0x40960000-40a0b000	\               shell32
ELF	0x40a0b000-40a6c000	Deferred        shlwapi
  \-PE	0x40a20000-40a6c000	\               shlwapi
ELF	0x40a6c000-40af5000	Deferred        ole32
  \-PE	0x40a80000-40af5000	\               ole32
ELF	0x40af5000-40b40000	Deferred        rpcrt4
  \-PE	0x40b10000-40b40000	\               rpcrt4
ELF	0x40b40000-40b60000	Deferred        iphlpapi
  \-PE	0x40b50000-40b60000	\               iphlpapi
ELF	0x40b60000-40c2b000	Deferred        comctl32
  \-PE	0x40b70000-40c2b000	\               comctl32
ELF	0x40c2b000-40c53000	Deferred        winspool.drv
  \-PE	0x40c30000-40c53000	\               winspool.drv
ELF	0x40c5f000-40ccb000	Deferred        libfreetype.so.6
ELF	0x40ccb000-40cdc000	Deferred        libz.so.1
ELF	0x40cdc000-40d07000	Deferred        libfontconfig.so.1
ELF	0x40d07000-40d27000	Deferred        libexpat.so.0
ELF	0x40d27000-40db5000	Deferred        x11drv
  \-PE	0x40d40000-40db5000	\               x11drv
ELF	0x40db5000-40db8000	Deferred        xlcdef.so.2
ELF	0x40dc1000-40dca000	Deferred        libsm.so.6
ELF	0x40dca000-40de2000	Deferred        libice.so.6
ELF	0x40de2000-40df0000	Deferred        libxext.so.6
ELF	0x40df0000-40ebb000	Deferred        libx11.so.6
ELF	0x40ebb000-40f60000	Deferred        libgl.so.1
ELF	0x40f60000-40f69000	Deferred        libxcursor.so.1
ELF	0x40f69000-40f71000	Deferred        libxrender.so.1
ELF	0x40f89000-40fa7000	Deferred        ximcp.so.2
ELF	0x40fa8000-40fab000	Deferred        iso8859-2.so
ELF	0x40fab000-40fca000	Deferred        imm32
  \-PE	0x40fb0000-40fca000	\               imm32
ELF	0x77f00000-77f03000	Deferred        
Threads:
process  tid      prio (all id:s are in hex)
00000008 (D) C:\Temp\install.exe
	00000009    0 <==
WineDbg terminated on pid 0x8
==========================================================================



I'm using binary RPM (build 20050211 for Mandrake - see link on winehq.org)
and Mandrake 2.6.8.1-24mdk 
and sample config file from source tar (20050211). The application
works allmost fine when installed on Windows and then copied to wine dir....
But i'd like not to have to use Windows for install :-)
If you need some files (config *.reg) let me know....

Nyyr",4,"0"
"WINE-34684","RaidCall 7.2.x crashes when joining a group","install latest raidcall from the URL above and login.
Create a group try to join it raidcall crashes.
The group is created and on a second run you can see it on your groups. still can't join it though.",604,"1"
"WINE-31368","XMP (Xunlei Kankan player ) crash with builtin msvcp71","Created attachment 41209
Log: XMP.exe crash

wine-1.5.9-296-gc15097b

1. Download XMPSetup:
http://xmp.down.sandai.net/kankan/XMPSetup_4.9.0.1099-www.exe

1.5. (Optional)
Works around bug 31366 with `winetricks riched20` for displaying file path in
the file open dialog

2. Start XMPSetup install XMP player

3. start XMP.exe with builtin msvcp71 and msvcr71
$ cd .wine/drive_c/Program Files/Thunder Network/Xmp/Program
$ wine XMP.exe

XMP crash at start. To get the backtrace one should start XMP in winedbg",69,"0"
"WINE-5128","Assertion fail: listview.c (part of comctl32 builtin)","IEPatcher is not necessary to use with wine as wine automatically (or
supposedly) replaces the IE control with the mozilla control on-the-fly.  Still
some folks might want the patcher working for test purposes.  A functioning
listview might also be handy for other projects including winelib applications.

Steps to reproduce:
1) Download iepatcher (free part of the Mozilla Control project)
http://www.iol.ie/~locka/mozilla/iepatcher.zip
2) Run it.
3) Browse to a file or folder to patch.
4) Attempt to patch the file.   *bam*

./IEPatcher.exe
fixme:ole:CoRegisterMessageFilter stub
listview.c:1353: LISTVIEW_GetColumnInfo: Assertion `nSubItem >= 0 && nSubItem <
(*(INT*)(infoPtr->hdpaColumns))' failed.
wine: Assertion failed at address 0xffffe405 (thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: assertion failed in 32-bit code (0xffffe405).
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:006b GS:0063
 EIP:ffffe405 ESP:7f9eeb90 EBP:00005e1c EFLAGS:00200202(   - 00      - - I1)
 EAX:00000000 EBX:00005e1c ECX:00005e1c EDX:00000006
 ESI:7f9eec40 EDI:4f657ff4
Stack dump:
0x7f9eeb90:  7f9eeba0 4f551159 4f657ff4 f7f1c6b0
0x7f9eeba0:  7f9eeccc 4f5526e3 00000006 7f9eec40
0x7f9eebb0:  00000000 4f659120 7c1657d8 4f657ff4
0x7f9eebc0:  4f659120 0000007a 7f9eebe4 4f58ec7c
0x7f9eebd0:  4f659120 0000007a 4f657ff4 00000079
0x7f9eebe0:  0000007a ./IEPatcher.exe
fixme:ole:CoRegisterMessageFilter stub
listview.c:1353: LISTVIEW_GetColumnInfo: Assertion `nSubItem >= 0 && nSubItem <
(*(INT*)(infoPtr->hdpaColumns))' failed.
wine: Assertion failed at address 0xffffe405 (thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: assertion failed in 32-bit code (0xffffe405).
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:006b GS:0063
 EIP:ffffe405 ESP:7f9eeb90 EBP:00005e1c EFLAGS:00200202(   - 00      - - I1)
 EAX:00000000 EBX:00005e1c ECX:00005e1c EDX:00000006
 ESI:7f9eec40 EDI:4f657ff4
Stack dump:
0x7f9eeb90:  7f9eeba0 4f551159 4f657ff4 f7f1c6b0
0x7f9eeba0:  7f9eeccc 4f5526e3 00000006 7f9eec40
0x7f9eebb0:  00000000 4f659120 7c1657d8 4f657ff4
0x7f9eebc0:  4f659120 0000007a 7f9eebe4 4f58ec7c
0x7f9eebd0:  4f659120 0000007a 4f657ff4 00000079
0x7f9eebe0:  0000007a 7f9eecb0 4f584b3e 7c1657d8
Backtrace:
=>1 0xffffe405 (0xffffe405)
  2 0x00000000 (0x00000000)
0xffffe405: movl        $0x2b%ecx
Wine-dbg>q
7f9eecb0 4f584b3e 7c1657d8
Backtrace:
=>1 0xffffe405 (0xffffe405)
  2 0x00000000 (0x00000000)
0xffffe405: movl        $0x2b%ecx
Wine-dbg>q",256,"1"
"WINE-15242","Photoshop CS2: Typing causes excessive processor use and brief unresponsiveness","Open Photoshop CS2. 
Open an image
Press T to select the typing tool.
Click.
Type quickly.

Watch your system monitor's CPU usage leap all over the place. If you type the right speed photoshop doesn't get a chance to update the image with your text and the cursor moves with nothing appearing behind it. All the text pops in at once when your CPU gets a chance to breathe.

Hit CTRL-Enter to finish typing.
Press V to select the movement tool.
Press the down arrow to move the text box incrementally.

Watch your system monitor's CPU usage leap all over the place.
Let go of down and watch all the cached keystrokes keep your text box sliding off the edge of your image.

In Windows as soon as you let go of the arrow keys the object stops moving.
In Windows when you type text appears immediately on the image.
In Windows typing doesn't take a bunch of CPU time.",1769,"1"
"WINE-1961","memory managment - problem with Borland ilink32","Please please please add some support for ilink32. It hangs
beacouse of memory managment differences between wine and windows.
I have a path for wine 20031118 but it don't work with newer versions.
Why don't you want to add this as an option? Or just leave this commented
in source.. Do something!",617,"1"
"WINE-18551","Xenocode: NtMapViewOfSection() callers must take non-negative NTSTATUS into account (STATUS_IMAGE_NOT_AT_BASE)","Hello

this is an continuation with Xenocode Virtual Appliance Hold'em Manager from bug 18274

Although wrapped with Xenocode it seems not to bundle .NET 2.0 Framework (Xenocode can optionally do this).
Required prerequisites:

1. clean WINEPREFIX
2. sh winetricks -q dotnet20 

The next part is buried within managed app domain hence debug trace doesn't give much useful information (some relay thunks prevent proper execution due to nature of Xenocode).

--- snip ---
...
fixme:ntdll:NtQueryObject Unsupported information class 1 
...
fixme:module:LdrAddRefDll 0x79000000 flags 1 not implemented
...
fixme:shell:URL_ParseUrl failed to parse LSystem.Drawing
...
fixme:shell:URL_ParseUrl failed to parse LDevComponents.DotNetBar2
...
fixme:shell:URL_ParseUrl failed to parse LSystem.Windows.Forms
...
fixme:shell:URL_ParseUrl failed to parse LSystem
...
fixme:shell:URL_ParseUrl failed to parse LHMClass
fixme:ntdll:RtlNtStatusToDosErrorNoTeb no mapping for 40000003
...
--- snip ---

That LdrAddRefDll message is harmless Xenocode directly calls loader API (LdrLoadDll LdrAddRefDll ..).

Assembly bind info from enabled fusion log:

--- snip ---
MDA notification: Name:BindingFailure Flags:0
Description: The assembly with display name 'HMClass' failed to load in the 'Load' binding context of the AppDomain with ID 1. The cause of the failure was: System.IO.FileLoadException: Could not load file or assembly 'HMClass Version=1.0.0.0 Culture=neutral PublicKeyToken=null' or one of its dependencies. Exception from HRESULT: 0x8007013D
File name: 'HMClass Version=1.0.0.0 Culture=neutral PublicKeyToken=null'
--- snip ---

This message is the culprit: fixme:ntdll:RtlNtStatusToDosErrorNoTeb no mapping for 40000003
Winedbg reveals the following callstack at the problem:

--- snip ---
  0 0x7bc3b436 RtlNtStatusToDosErrorNoTeb+0xa6(status=1073741827) [/opt/wine/wine-git/dlls/ntdll/error.c:73] in ntdll (0x00339ca4)
  1 0x7bc3b571 RtlNtStatusToDosError+0x2d(status=1073741827) [/opt/wine/wine-git/dlls/ntdll/error.c:103] in ntdll (0x00339cb4)
  2 0x7b8aa916 MapViewOfFileEx+0xbf(handle=0x9950d8 access=0 offset_high=0 offset_low=0 count=1941504 addr=0x46f0000) [/opt/wine/wine-git/dlls/kernel32/virtual.c:550] in kernel32 (0x00339d04)
  3 0x79ea4f44 in mscorwks (+0x34f44) (0x00339d68)
...
--- snip ---

The problematic source location:

--- snip dlls/kernel32/virtual.c ---
LPVOID WINAPI MapViewOfFileEx( HANDLE handle DWORD access
    DWORD offset_high DWORD offset_low SIZE_T count LPVOID addr )
{
...
 if ((status = NtMapViewOfSection( handle GetCurrentProcess() &addr 0 0 &offset
                                      &count ViewShare 0 protect )))
    {
        SetLastError( RtlNtStatusToDosError(status) )
        addr = NULL
    }
    return addr
}
--- snip dlls/kernel32/virtual.c ---

Due to Xenocode native API hooks NTSTATUS = 0x40000003 (STATUS_IMAGE_NOT_AT_BASE) gets returned which is sane in this situation.

Wine unfortunately validates success by either using if (status) or if (status != STATUS_SUCCESS) in several locations.

MSDN: http://msdn.microsoft.com/en-us/library/cc704588(PROT.10).aspx

--- quote ---
0x40000003
STATUS_IMAGE_NOT_AT_BASE

{Image Relocated} An image file could not be mapped at the address that is specified in the image file. Local fixes must be performed on this image.
--- quote ---

From my view this doesn't qualify as an error at all (positive value).
Wine should allow this to succeed.

I found at two occurrences of NtMapViewOfSection() which cause Xenocode to fail due to NTSTATUS STATUS_IMAGE_NOT_AT_BASE:

dlls/kernel32/virtual.c:MapViewOfFileEx 
dlls/ntdll/loader.c:load_native_dll

Although there are more occurrences of this idiom in Wine source tree only these two seem relevant to Xenocode (due to hooks).

Either honour STATUS_IMAGE_NOT_AT_BASE when NtMapViewOfSection() is called in these two locations or make a generic check >= 0 because non-negative numbers usually indicate success from my understanding of NTSTATUS.

Regards",287,"1"
"WINE-10673","Gnome panel bars overlap Halo in fullscreen mode","Created attachment 9500
Image of the overlapping bars

When running Halo in fullscreen mode the Gnome panel bars overlap the game while fullscreen.

Note that this isn't http://bugs.winehq.org/show_bug.cgi?id=7771 as am I not using Composite. It's not http://bugs.winehq.org/show_bug.cgi?id=3312 either as the games that effected (Fahrenheit etc) now seem to work fine so it must be something else causing this issue unless it IS somehow still bug 3312 (but then why would most apps work and one not?).",185,"0"
"WINE-43844","Skyrim can not load skse when upgrade to 2.18","Created attachment 59401
stdout that wine output.

After upgrade to wine-staging skyrim can not load skse_1_9_32.dll which is normal in 2.17.",47,"0"
"WINE-9637","Switchball only shows a blank screen","Created attachment 8037
Switchball start log

I installed the game Switchball  the installation was fine but I couldn't manage to start the game.

wine Switchball.exe

The log is attached to this bug message.",581,"1"
"WINE-24491","AIM 7.3 Crashes on Start","AIM - AOL Instant Messenger

Seems to setup okay but starting gets a program error message and it fails to start.",834,"1"
"WINE-23056","BitComet 1.21: Fails to start","Created attachment 28606
Terminal output on Wine-1.2-rc2

Steps to reproduce:
1) remove ~/.wine
2) winetricks gecko
3) wine bitcomet_setup.exe do default installation
4) wine BitComet.exe

Behaviour:
I get window with BitComet has encountered a problem [...]
Expected behaviour:
Bitcomet should start normally",1,"0"
"WINE-22715","specviewperf10: run_all.bat fails to invoke second test","To reproduce do
  cd ~/.wine/drive_c/Program Files/SPECopc/SPECViewperf/viewperf/viewperf10.0
  wine cmd /c Run_All.bat

On Vista this works fine.  On Wine it fails after running the first test with

wine: cannot find LC:\\windows\\system32\\Run_Viewset.bat
File not found",870,"1"
"WINE-14988","Strange rendering in Colin McRae 2005","Created attachment 15599
Complete log (WINDEBUG=warn+all)

This bug is the only withstanding item for this title to get Platinum rating.

There are 3 issues:

1. At 640x480 cars in the menu show up as grey objects.
--- Please see http://bugs.winehq.org/show_bug.cgi?id=14971 for a screenshot 

2. During gameplay the car as well as extra objects (grass bushes etc..) are rendered only on the right half of the screen
--- Please see http://bugs.winehq.org/show_bug.cgi?id=14971 for a screenshot

3. After game has quit a message keeps appearing on the console (perhaps wineserver related)
--- See attached log

I am also attaching a WINEDEBUG=warn+all during which i will launch the game start a challenge play a few seconds take some screenshots and quit properly through the menu.

Game is played in Virtual Desktop 1024x768 Default Graphics settings.

The log is bzipped because it is too big to upload.

(How the hell do you upload more than 1 file at a time?)",1179,"1"
"WINE-828","rewrite notepad using Win32 text controls","Existing implementation of the Wine notepad instead of using native Windows
controls renders text by its own logic. Because of this it is pretty buggy.",14,"0"
"WINE-13536","ThinkWave Educator installer launches MDAC 2.8 installer with invalid command line (MSI command line property quote parsing)","Created attachment 13470
ThinkWave output

With Wine version wine-1.0-rc2-134-g4c928d3 during installation the MDAC 2.8 installer is run but the application complains of command line option syntax error. Relevant lines are probably:

trace:process:CreateProcessW app (null) cmdline LC:\\windows\\temp\\msi3040.tmp /q /c:\\setup.exe /qn1\\
trace:process:find_exe_file looking for LC:\\windows\\temp\\msi3040.tmp
trace:process:find_exe_file Trying native exe LC:\\windows\\temp\\msi3040.tmp
trace:process:CreateProcessW starting LC:\\windows\\temp\\msi3040.tmp as Win32 binary (0x1000000-0x154e000)

Output is attached.",1128,"1"
"WINE-27841","LabVIEW 2010: Installation goes slow","Created attachment 35604
Images

Steps to reproduce:
1) remove ~/.wine
2) winetricks gecko
3) wine setup.exe
4) default installation

Behaviour:
Installation goes very slow. All the time I see the same window (See 1st image in attachment). 
There is an error in the middle (see 2nd image in attachment Funkcja zakończyła niepowodzeniem means Function has failed). Installer ends after very long time (~1 hour) with message that it has failed.

Expected behaviour:
Installation should go quicker.",95,"0"
"WINE-34351","AsystentCRM installer needs Shell folder object Folder::ParseName method implemented","Created attachment 45725
Error message

Steps to reproduce:
1) remove ~/.wine
2) sh winetricks vb6run
3) wine AsystentCRM_2013.exe
4) proceed with default installation

Behaviour:
Error at the end (see attachment).

Expected behaviour:
No error at the end.

Additional info:
There is nothing in default terminal output.",624,"1"
"WINE-3915","Win32 GTK apps are all black when run in WINE (dogfood)","Product: Wine
Version: 0.9.1-winehq-3
Component: wine-gui
OS: Linux (reproduced on both Debian and Ubuntu)
Severity: major (if you need to run GTK apps critical)
Summary: Win32 GTK apps are all black when run in WINE almost no features of
the GUI are visible except buttons.
Description:
I noticed in cross-compiling my Linux GTK apps for Windows (Win32) users that
the apps look good in real Windows but look almost entirely black when run in
Wine. I tried installing a Windows Classic theme in Wine but all it did was
make the Progress Bars flash occasionally visible. [side note: the GTK apps I
tested all also required an unavailable Windows DLL USP10.DLL]

Steps to Reproduce: I cross-compile since I no longer have any Windows-based
development boxes. So I don't know if this also happens with GTK apps natively
compiled on a Win32 box. But regardless my apps do look normal if you run them
in native windows they only have this black-on-black problem when run in Linux
under WINE.

To reproduce you'll need to install the standard GTK Win32 port that most
everyone uses for GIMP and GAIM from here:
http://gimp-win.sourceforge.net/

(You may also need USP10.DLL as mentioned above too)

Then just run a GTK Win32 program in wine -- I could send you an executable if
that is easier or you could cross-compile an official GTK Tutorial Hello
World program using these instructions:
https://sourceforge.net/docman/display_doc.php?docid=30849&group_id=149086

More info on this bug (in fact the request from a poster that I post this here
as a bug) is in this comp.emulators.ms-windows.wine thread:
http://groups.google.com/group/comp.emulators.ms-windows.wine/msg/b67c096722232d3c?dmode=source&hl=en

There are a few thing sent out to stderr when I run the app:

@ubuntu:~/Programming/GTKCrossCompile_HelloWorld$ wine helloworld.exe
fixme:font:load_VDMX Failed to retrieve vTable
fixme:font:load_VDMX Failed to retrieve vTable

(helloworld.exe:8): Pango-WARNING **: Couldn't load font MS Shell Dlg 8
falling back to Sans 8

Beyond that let me know if there is any more info I can provide.
Thanks!",1044,"1"
"WINE-40875","ITHVNR does not work in wine","Note: ITHVNR AND ITH ARE NOT THE SAME PROGRAM. ITH'S WINE BLOCKING CODE DOES NOT EXIST IN ITHVNR.

Via https://bugs.winehq.org/show_bug.cgi?id=40476 which was incorrectly closed as invalid (the report was about ITHVNR not ITH)

Parts of original thread follow.

> OP summary:

Program name: ITH-VNR
Details: It's a hooking program that attaches itself to a running process. Used mainly to extract text at runtime from Japanese games (Visual Novels).

Download + Source code link: http://www.hongfire.com/forum/showthread.php/438331-ITHVNR-ITH-with-the-VNR-engine

(There is an older version but since this is the latest maintained one posting this.)

It seems that Visual C++ Runtime 2013 is required.

Steps:
1. Create a clean 32-bit WINEPREFIX in let's say ~/wine32.
2. Run winetricks vsrun2013 (to install the 2013 runtime x86 version).
3. Do env LANG=WINEDEBUG=warn+all WINEPREFIX=/home/user1/wine32  WINEARCH=win32 wine  ITHVNR.exe

Result: It does not start at all. Same for the default 64-bit wine.

> Culprit:

After some more poking around and MessageBox-driven debugging I've managed to find the issue. The IthInitSystemService() function fails when it tries to open the NT directory object \Sessions\$session_id\BaseNamedObjects. On Wine \Sessions\$session_id seems to be a symlink to \BaseNamedObjects but on Windows the BaseNamedObjects directory obj is not linked to \Sessions\$session_id it's inside of it.",25,"0"
"WINE-11154","Thief: the dark project / Thief 2: the metal age - crash on 3d engine startup on nvidia TNT2","Created attachment 10194
output

Starting a new game or loading a saved game crashes wined3d",2,"0"
"WINE-42900","The Testament of Sherlock Holmes rendering issue","Created attachment 58032
screenshot

From output.

err:d3d:wined3d_debug_callback 0x24db868: GL_INVALID_FRAMEBUFFER_OPERATION error generated. Operation is not valid because a bound framebuffer is not framebuffer complete..
fixme:d3d:context_check_fbo_status FBO status GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT (0x8cd6)
fixme:d3d:context_dump_fbo_attachment     GL_DEPTH_ATTACHMENT: 2d texture 17 0x0 format 0x81a6.
fixme:d3d:context_dump_fbo_attachment     GL_STENCIL_ATTACHMENT: NONE.
fixme:d3d:context_dump_fbo_attachment     GL_COLOR_ATTACHMENT0: 2d texture 16 2048x2048 format 0x8c43.
fixme:d3d:context_dump_fbo_attachment     GL_COLOR_ATTACHMENT1: NONE.
fixme:d3d:context_dump_fbo_attachment     GL_COLOR_ATTACHMENT2: NONE.
fixme:d3d:context_dump_fbo_attachment     GL_COLOR_ATTACHMENT3: NONE.
fixme:d3d:context_dump_fbo_attachment     GL_COLOR_ATTACHMENT4: NONE.
fixme:d3d:context_dump_fbo_attachment     GL_COLOR_ATTACHMENT5: NONE.
fixme:d3d:context_dump_fbo_attachment     GL_COLOR_ATTACHMENT6: NONE.
fixme:d3d:context_dump_fbo_attachment     GL_COLOR_ATTACHMENT7: NONE.",30,"0"
"WINE-10966","explorer.exe crash every time when removing folders","Created attachment 9901
backtrace when launching explorer.exe in console

Hi

I'm using the debian packaged version (unstable 0.9.52-1) explorer.exe crash every time when trying to remove folders.
Operation succeed (folder is removed) but application crashes...

It doesn't happen in the c: drive but in the other drives (particularly in the shell window...)

I can reproduce it every time with or without file in it.

I join the backtrace.

Regards",377,"1"
"WINE-7133","Command and Conquer Generals (Zero Hour) units and tracks lack textures","This was ok a few Wine versions back so it must be a regression. View the
screenshots to see the extent of the damage. Units buildings plants and
vehicle tracks all seem to lack textures now.",37,"0"
"WINE-35441","VBScript CInt can't convert strings to integers","Created attachment 47300
string_error output

When I add some lines about strings to api.vbsthe terminal says : fixme:vbscript:to_int not supported {VT_BSTR: L36.75}you can find this in attachment.

I tried to fix this buga possible solution can also be found in attachment.",179,"0"
"WINE-13174","Launching the game through AssassinsCreed_Game.exe fails","Created attachment 12983
What the error shows.

Launching the game through AssassinsCreed_Game.exe fails and prints the following error.",244,"1"
"WINE-33268","SlingPlayer 2.0.4 screen flickers when pointer over screen","Created attachment 44008
Wine 1.5.26 console output

When streaming video in SlingPlayer 2.0.4 under Wine 1.5.26 the screen flickers.

This video shows the effect:
http://www.youtube.com/watch?v=xX61ldJFmF8

This never used to occur but WMP10 (or WMP9) is now required to work around Bug 28669.

WINEARCH=win32 winetricks -q gdiplus quartz wmp10
required to work around a plethora of bugs.

Using a native qcap.dll makes no difference.",1731,"1"
"WINE-17666","WinARM make crashes","Due to some mysterious problem with ARM GCC mismatch in the FP settings that
nobody never specified I cannot use Linux native arm-elf-gcc.

I found that the WinARM version works under Windows and therefore
as almost the last resort (the last one is to use Windows)
tried to compile under Wine. It failed.

The error message looks as:
make: Interrupt/Exception caught (code = 0xc0000005 addr = 0xf7d3f54a)

Importance: Wine was the last workaround I could think out
I will switch to Windows for development.

Steps to reproduce:

1. Get WinARM-20060606. It is available in a number of places google gives:
http://winarm.alexthegeek.com/WinARM-20060606.zip
http://www.siwawi.arubi.uni-kl.de/avr_projects/arm_projects/WinARM-20060606.zip
Unpack it as C:\WinARM.

2. Get the project: go to olimex.com and find the STR-H711 board page
get the OpenOCD-projects100.zip archive with the projects.
http://www.olimex.com/dev/str-h711.html
http://www.olimex.com/dev/soft/arm/OpenOCD-projects100.zip

It includes a number of projects we need str_711 from it.
Unpack it as C:\workarm\str_711.

3. Run the tools.

3a)
wineconsole cmd

3b)
Z:\home\mg>set path=C:\WinARM\binC:\WinARM\utils\bin%path%
Z:\home\mg>path
PATH=C:\WinARM\binC:\WinARM\utils\binC:\windows\system32C:\windows

3c)
Z:\home\mg>c:
C:\>cd workarm/str_711
C:\workarm\str_711>

Now you can run `make clean` or manually clean it and run `make`

3d)
C:\workarm\str_711>make clean

-------- begin (mode: ROM_RUN) --------

Cleaning project:
rm -f main.out
make: Interrupt/Exception caught (code = 0xc0000005 addr = 0xf7d3f54a)
C:\workarm\str_711>

--end of report--",282,"1"
"WINE-40466","Midnight Commander needs KERNEL32.dll.GetConsoleFontInfo","Running mc.exe (Midnight Commander) gives me:

wine: Call from 0x7b43bbdc to unimplemented function KERNEL32.dll.GetConsoleFontInfo aborting

and crash.",11,"0"
"WINEHQ_APPS_DATABASE-3224","Search results also show unreviewed versions","The No. Versions-field in the Search Results-page shows all versions even 
those which are not reviewed and therefore hidden in the Viewing App-page. I 
have tested this with an application for which I have added a new Version which 
has not yet been reviewed but it doesn't matter whether I'm logged in or not. 
The number is correctly shown in the Browse Applications-page.",1,"0"
"WINE-17733","Trivial Pursuit Unhinged +NoCD fails to load","Created attachment 19946
Screenshot of error message

Atari Trivial Pursuit Unhinged (plus the NoCD crack to workaround SecuRom copy protection) fails to load and shows error **MAIN - Audio device didn't initialize which appears to be a problem in dmusic or dmloader.

err:dmloader:IDirectMusicLoaderImpl_IDirectMusicLoader_SetObject : could not attach stream to file

Using winetricks directx9 removes this error but creates another two errors (something to do with DataPak) followed by an unhandled exception apparently caused by an Ogg Vorbis problem (there is an ogg.dll that comes with the app).

Disabling audio through winecfg brings back the **MAIN - Audio device didn't initialize message.",1188,"1"
"WINE-25714","All tool buttons in CHM viewer are displayed as printer","Created attachment 32758
screenshot

All tool buttons in CHM viewer are displayed as printer including those for forward backward settings etc.

ftp://ftp.ents.ru/ctm/dcl/distr/setup.chm",263,"1"
"WINE-13932","Colobot DEMO does not render properly","Created attachment 14065
Wine log

Colobot DEMO (available here: 
http://www.ceebot.com/download/demo/colobotdemo17e.exe )
does not render properly. See attachments.",1248,"1"
"WINE-5456","EpromM51 crashes on startup","When I try to launch the freeware eprom burner program from
http://www.willem.org/ZIP/epr097ja.zip
I get a page fault.
I set my Windows version to Windows 95 using winecfg (95 or 98 is necessary for
the program to work the error is the same with 98).
I remember that it worked some time ago.
I see the same error with the official Debian apackages from Debian unstable
(wine 0.9.12) and the dapper packages from winehq (wine 0.9.15).
Here is the console output with wine0.9.12 first and wine 0.9.15 below:

philipp@notebook2:~/.wine/drive_c/Programme/eprom$ wine EpromM51.exe
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsice.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lntice.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lntice7871.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lnticed052.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Ltrwdebug.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Ltrw.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Ltrw2000.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsuperbpm.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Licedump.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lregmon.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lfilemon.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lregvxd.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lfilevxd.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lvkeyprod.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lbw2k.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsiwdebug.vxd. Try setting Windows
version to 'nt40' or 'win31'.
wine: Unhandled page fault on read access to 0x00007b17 at address 0x4c9cd0
(thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: page fault on read access to 0x00007b17 in 32-bit code
(0x004c9cd0).
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:1007 GS:0033
 EIP:004c9cd0 ESP:7f9cfe9b EBP:7f9cfeb3 EFLAGS:00010203(   - 00      - RI1C)
 EAX:00000000 EBX:7fc848bc ECX:c0000135 EDX:00000134
 ESI:00007b07 EDI:004ed832
Stack dump:
0x7f9cfe9b:  004ed832 009cf02e 7fc848bc 5b000000
0x7f9cfeab:  7fc848bc 009c007b 009c007b 00000000
0x7f9cfebb:  00007b07 6c007300 9c007b8e 7f007300
0x7f9cfecb:  9c007bff bf00737f 00007b3a 9c007300
0x7f9cfedb:  00007b00 9c007300 4e007b00 9c007300
0x7f9cfeeb:  9c007b00 9c00737f c8007b7f f400737f
0200: sel=1007 base=7fe42000 limit=00001fff 32-bit rw-
Backtrace:
=>1 0x004c9cd0 in epromm51 (+0xc9cd0) (0x004c9cd0)
  2 0x00000000 (0x00000000)
  3 0x00000000 (0x00000000)
0x004c9cd0: movl        0x10(%esi)%eax
Modules:
Module  Address                 Debug info      Name (85 modules)
PE      0x00400000-009cfb98     Export          epromm51
ELF     0x7bf00000-7bf03000     Deferred        
ELF     0x7c771000-7c7bf000     Deferred        libgcrypt.so.11
ELF     0x7c7bf000-7c7ed000     Deferred        libcrypt.so.1
ELF     0x7c804000-7c87e000     Deferred        libgnutls.so.13
ELF     0x7c87e000-7c8ad000     Deferred        libcups.so.2
ELF     0x7c8ad000-7c90b000     Deferred        shlwapi
  \-PE  0x7c8c0000-7c90b000     \               shlwapi
ELF     0x7c90b000-7c9e2000     Deferred        shell32
  \-PE  0x7c920000-7c9e2000     \               shell32
ELF     0x7c9e2000-7ca11000     Deferred        winspool
  \-PE  0x7c9f0000-7ca11000     \               winspool
ELF     0x7ca11000-7cab3000     Deferred        comdlg32
  \-PE  0x7ca20000-7cab3000     \               comdlg32
ELF     0x7cab3000-7cac7000     Deferred        lz32
  \-PE  0x7cac0000-7cac7000     \               lz32
ELF     0x7cac7000-7cae0000     Deferred        version
  \-PE  0x7cad0000-7cae0000     \               version
ELF     0x7caec000-7caf0000     Deferred        libgpg-error.so.0
ELF     0x7cbf7000-7cc29000     Deferred        uxtheme
  \-PE  0x7cc00000-7cc29000     \               uxtheme
ELF     0x7cc29000-7cc54000     Deferred        ws2_32
  \-PE  0x7cc30000-7cc54000     \               ws2_32
ELF     0x7cc54000-7cc6e000     Deferred        wsock32
  \-PE  0x7cc60000-7cc6e000     \               wsock32
ELF     0x7cc6e000-7cd09000     Deferred        oleaut32
  \-PE  0x7cc90000-7cd09000     \               oleaut32
ELF     0x7cd09000-7cd28000     Deferred        iphlpapi
  \-PE  0x7cd10000-7cd28000     \               iphlpapi
ELF     0x7cd28000-7cd74000     Deferred        rpcrt4
  \-PE  0x7cd40000-7cd74000     \               rpcrt4
ELF     0x7cd74000-7ce0a000     Deferred        ole32
  \-PE  0x7cd90000-7ce0a000     \               ole32
ELF     0x7ce0a000-7ce2a000     Deferred        mpr
  \-PE  0x7ce10000-7ce2a000     \               mpr
ELF     0x7ce2a000-7cef0000     Deferred        comctl32
  \-PE  0x7ce30000-7cef0000     \               comctl32
PE      0x7cef0000-7cf63000     Deferred        xea2cec.tmp
ELF     0x7cf69000-7cf6e000     Deferred        libxfixes.so.3
ELF     0x7cf6e000-7cf77000     Deferred        libxcursor.so.1
ELF     0x7cf77000-7cf93000     Deferred        imm32
  \-PE  0x7cf80000-7cf93000     \               imm32
ELF     0x7cf93000-7cfb0000     Deferred        ximcp.so.2
ELF     0x7cfb0000-7cfb4000     Deferred        libxrandr.so.2
ELF     0x7cfb4000-7cfbc000     Deferred        libxrender.so.1
ELF     0x7f0a4000-7f2f3000     Deferred        i915_dri.so
ELF     0x7f2f3000-7f2fa000     Deferred        libdrm.so.2
ELF     0x7f2fa000-7f369000     Deferred        libgl.so.1
ELF     0x7f369000-7f36e000     Deferred        libxdmcp.so.6
ELF     0x7f36e000-7f436000     Deferred        libx11.so.6
ELF     0x7f436000-7f444000     Deferred        libxext.so.6
ELF     0x7f444000-7f45c000     Deferred        libice.so.6
ELF     0x7f45c000-7f4e1000     Deferred        winex11
  \-PE  0x7f470000-7f4e1000     \               winex11
ELF     0x7f4e1000-7f501000     Deferred        libexpat.so.1
ELF     0x7f501000-7f531000     Deferred        libfontconfig.so.1
ELF     0x7f531000-7f59d000     Deferred        libfreetype.so.6
ELF     0x7f59d000-7f5df000     Deferred        advapi32
  \-PE  0x7f5b0000-7f5df000     \               advapi32
ELF     0x7f5e2000-7f5f6000     Deferred        libz.so.1
ELF     0x7f6d7000-7f78d000     Deferred        gdi32
  \-PE  0x7f6f0000-7f78d000     \               gdi32
ELF     0x7f78d000-7f8c0000     Deferred        user32
  \-PE  0x7f7b0000-7f8c0000     \               user32
ELF     0x7f9d1000-7f9d3000     Deferred        xlcutf8load.so.2
ELF     0x7f9d3000-7f9d8000     Deferred        libxxf86vm.so.1
ELF     0x7fbd8000-7fce0000     Deferred        kernel32
  \-PE  0x7fbf0000-7fce0000     \               kernel32
ELF     0x7fdf1000-7fdf6000     Deferred        libxxf86dga.so.1
ELF     0x7fdf6000-7fe02000     Deferred        libnss_files.so.2
ELF     0x7fe02000-7fe0c000     Deferred        libnss_nis.so.2
ELF     0x7fe0c000-7fe22000     Deferred        libnsl.so.1
ELF     0x7fe22000-7fe2b000     Deferred        libnss_compat.so.2
ELF     0x7fe2c000-7fe35000     Deferred        libsm.so.6
ELF     0x7fe35000-7fe40000     Deferred        libgcc_s.so.1
ELF     0x7fe46000-7fe6c000     Deferred        libm.so.6
ELF     0x7fe6c000-7ff62000     Deferred        libwine_unicode.so.1
ELF     0x7ff62000-7ffe0000     Deferred        ntdll
  \-PE  0x7ff70000-7ffe0000     \               ntdll
ELF     0xb7e16000-b7e1a000     Deferred        libdl.so.2
ELF     0xb7e1a000-b7f52000     Deferred        libc.so.6
ELF     0xb7f53000-b7f65000     Deferred        libpthread.so.0
ELF     0xb7f65000-b7f68000     Deferred        libxau.so.6
ELF     0xb7f7c000-b7f96000     Deferred        libwine.so.1
ELF     0xb7f98000-b7faf000     Deferred        ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
0000000a
        0000000b    0
00000008 (D) C:\Programme\eprom\EpromM51.exe
        00000009    0 <==
Wine exited with a successful status
philipp@notebook2:~/.wine/drive_c/Programme/eprom$ wine EpromM51.exe
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsice.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lntice.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lntice7871.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lnticed052.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Ltrwdebug.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Ltrw.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Ltrw2000.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsuperbpm.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Licedump.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lregmon.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lfilemon.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lregvxd.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lfilevxd.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lvkeyprod.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lbw2k.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsiwdebug.vxd. Try setting Windows
version to 'nt40' or 'win31'.
wine: Unhandled page fault on read access to 0x00007300 at address 0x7ffac1dd
(thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: page fault on read access to 0x00007300 in 32-bit code
(0x7ffac1dd).
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:003b GS:0033
 EIP:7ffac1dd ESP:7f9cfe17 EBP:7f9cfe1f EFLAGS:00010246(   - 00      -RIZP1)
 EAX:00000000 EBX:7fc85204 ECX:ffffffff EDX:00007300
 ESI:7f9cfe4b EDI:00007300
Stack dump:
0x7f9cfe17:  00000000 7f9cfe4b 7f9cfe5f 7fc20724
0x7f9cfe27:  7f9cfe4b 00007300 00000000 00000000
0x7f9cfe37:  00000000 00000000 00000000 00000000
0x7f9cfe47:  00000000 00000000 00007300 7fc85204
0x7f9cfe57:  00000002 7f9cfea7 7f9cfe7f 7fc3d2c4
0x7f9cfe67:  00007300 00000000 9cfea000 7fc85204
fixme:ntdll:RtlNtStatusToDosErrorNoTeb no mapping for c0000119
Backtrace:
=>1 0x7ffac1dd RtlInitAnsiString+0x1c in ntdll (0x7ffac1dd)
  2 0x7fc20724 FILE_name_AtoW+0x29 in kernel32 (0x7fc20724)
  3 0x7fc3d2c4 GetModuleHandleExA+0x56 in kernel32 (0x7fc3d2c4)
  4 0x7fc3d315 GetModuleHandleA+0x2c in kernel32 (0x7fc3d315)
  5 0x00401054 in epromm51 (+0x1054) (0x00401054)
  6 0x00000000 (0x00000000)
0x7ffac1dd RtlInitAnsiString+0x1c in ntdll: repne scasb %es:(%edi)
Modules:
Module  Address                 Debug info      Name (85 modules)
PE      0x00400000-009cfb98     Export          epromm51
ELF     0x7bf00000-7bf03000     Deferred        
ELF     0x7c724000-7c772000     Deferred        libgcrypt.so.11
ELF     0x7c772000-7c7a0000     Deferred        libcrypt.so.1
ELF     0x7c7b7000-7c831000     Deferred        libgnutls.so.13
ELF     0x7c831000-7c860000     Deferred        libcups.so.2
ELF     0x7c8ba000-7c8e9000     Deferred        winspool
  \-PE  0x7c8c0000-7c8e9000     \               winspool
ELF     0x7c8e9000-7c945000     Deferred        shlwapi
  \-PE  0x7c900000-7c945000     \               shlwapi
ELF     0x7c945000-7ca22000     Deferred        shell32
  \-PE  0x7c960000-7ca22000     \               shell32
ELF     0x7ca22000-7cac3000     Deferred        comdlg32
  \-PE  0x7ca30000-7cac3000     \               comdlg32
ELF     0x7cac3000-7cad7000     Deferred        lz32
  \-PE  0x7cad0000-7cad7000     \               lz32
ELF     0x7cad7000-7caf0000     Deferred        version
  \-PE  0x7cae0000-7caf0000     \               version
ELF     0x7cc02000-7cc06000     Deferred        libgpg-error.so.0
ELF     0x7cc0b000-7cc3c000     Deferred        uxtheme
  \-PE  0x7cc10000-7cc3c000     \               uxtheme
ELF     0x7cc3c000-7cc66000     Deferred        ws2_32
  \-PE  0x7cc40000-7cc66000     \               ws2_32
ELF     0x7cc66000-7cc80000     Deferred        wsock32
  \-PE  0x7cc70000-7cc80000     \               wsock32
ELF     0x7cc80000-7cd18000     Deferred        oleaut32
  \-PE  0x7cca0000-7cd18000     \               oleaut32
ELF     0x7cd18000-7cd37000     Deferred        iphlpapi
  \-PE  0x7cd20000-7cd37000     \               iphlpapi
ELF     0x7cd37000-7cd8a000     Deferred        rpcrt4
  \-PE  0x7cd50000-7cd8a000     \               rpcrt4
ELF     0x7cd8a000-7ce1f000     Deferred        ole32
  \-PE  0x7cda0000-7ce1f000     \               ole32
ELF     0x7ce1f000-7ce3e000     Deferred        mpr
  \-PE  0x7ce30000-7ce3e000     \               mpr
ELF     0x7ce3e000-7cf00000     Deferred        comctl32
  \-PE  0x7ce50000-7cf00000     \               comctl32
PE      0x7cf00000-7cf73000     Deferred        xea2cec.tmp
ELF     0x7cf78000-7cf7d000     Deferred        libxfixes.so.3
ELF     0x7cf7d000-7cf86000     Deferred        libxcursor.so.1
ELF     0x7cf86000-7cfa2000     Deferred        imm32
  \-PE  0x7cf90000-7cfa2000     \               imm32
ELF     0x7cfa2000-7cfbf000     Deferred        ximcp.so.2
ELF     0x7cfbf000-7cfc7000     Deferred        libxrender.so.1
ELF     0x7f0af000-7f2fe000     Deferred        i915_dri.so
ELF     0x7f2fe000-7f305000     Deferred        libdrm.so.2
ELF     0x7f305000-7f374000     Deferred        libgl.so.1
ELF     0x7f374000-7f379000     Deferred        libxdmcp.so.6
ELF     0x7f379000-7f441000     Deferred        libx11.so.6
ELF     0x7f441000-7f459000     Deferred        libice.so.6
ELF     0x7f459000-7f4dc000     Deferred        winex11
  \-PE  0x7f470000-7f4dc000     \               winex11
ELF     0x7f4dc000-7f4fc000     Deferred        libexpat.so.1
ELF     0x7f4fc000-7f52c000     Deferred        libfontconfig.so.1
ELF     0x7f52c000-7f598000     Deferred        libfreetype.so.6
ELF     0x7f598000-7f5d9000     Deferred        advapi32
  \-PE  0x7f5a0000-7f5d9000     \               advapi32
ELF     0x7f5d9000-7f5e4000     Deferred        libgcc_s.so.1
ELF     0x7f5e7000-7f5fb000     Deferred        libz.so.1
ELF     0x7f6dc000-7f78d000     Deferred        gdi32
  \-PE  0x7f6f0000-7f78d000     \               gdi32
ELF     0x7f78d000-7f8c0000     Deferred        user32
  \-PE  0x7f7b0000-7f8c0000     \               user32
ELF     0x7f9d1000-7f9df000     Deferred        libxext.so.6
ELF     0x7fbdf000-7fce0000     Export          kernel32
  \-PE  0x7fc00000-7fce0000     \               kernel32
ELF     0x7fdf0000-7fdf4000     Deferred        libxrandr.so.2
ELF     0x7fdf4000-7fe00000     Deferred        libnss_files.so.2
ELF     0x7fe00000-7fe0a000     Deferred        libnss_nis.so.2
ELF     0x7fe0a000-7fe20000     Deferred        libnsl.so.1
ELF     0x7fe20000-7fe29000     Deferred        libnss_compat.so.2
ELF     0x7fe29000-7fe2b000     Deferred        xlcutf8load.so.2
ELF     0x7fe2b000-7fe30000     Deferred        libxxf86vm.so.1
ELF     0x7fe32000-7fe37000     Deferred        libxxf86dga.so.1
ELF     0x7fe37000-7fe40000     Deferred        libsm.so.6
ELF     0x7fe44000-7fe6a000     Deferred        libm.so.6
ELF     0x7fe6a000-7ff62000     Deferred        libwine_unicode.so.1
ELF     0x7ff62000-7ffe0000     Export          ntdll
  \-PE  0x7ff70000-7ffe0000     \               ntdll
ELF     0xb7e46000-b7e4a000     Deferred        libdl.so.2
ELF     0xb7e4a000-b7f82000     Deferred        libc.so.6
ELF     0xb7f82000-b7f94000     Deferred        libpthread.so.0
ELF     0xb7f95000-b7f98000     Deferred        libxau.so.6
ELF     0xb7fac000-b7fc6000     Deferred        libwine.so.1
ELF     0xb7fc8000-b7fdf000     Deferred        ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
0000000a
        0000000b    0
00000008 (D) C:\Programme\eprom\EpromM51.exe
        00000009    0 <==",90,"0"
"WINE-19575","Settlers: Rise of an Empire demo hangs/crashes when starting a game","Created attachment 22811
Console log

The introf ilms and menu of the Settlers: Rise of an Empire demo work fine but when trying to start a game it hangs on the loading screen and eventually crashes.

This message is repeated constantly:
fixme:d3d9:Direct3DShaderValidatorCreate9 stub",527,"1"
"WINE-41352","World of Tanks crashes with unimplemented function msvcp140.dll.?_Getcat@?$codecvt@DDU_Mbstatet@@@std@@SAIPAPBVfacet@locale@2@PBV42@@Z","wine: Call from 0x7b43b4fc to unimplemented function msvcp140.dll.?_Getcat@?$codecvt@DDU_Mbstatet@@@std@@SAIPAPBVfacet@locale@2@PBV42@@Z aborting",5,"0"
"WINE-7544","ReplaceFileW not implemented","The Supreme Commander demo uses ReplaceFileW in order to turn a temporary config
file into the permanent configuration.  Since this function is missing all
configuration is lost when the demo is closed.

fixme:file:ReplaceFileW (Lc:\\windows\\profiles\\ehoover\\Local
Settings\\Application Data\\Gas Powered
Games\\SupremeCommanderDemo\\Game.prefsLc:\\windows\\profiles\\ehoover\\Local
Settings\\Application Data\\Gas Powered
Games\\SupremeCommanderDemo\\Game.prefs.new(null)00000000(nil)(nil)) stub",353,"1"
"WINE-42546","DSOUND_PrimaryOpen() incorrect set buf size","Wine (1.x 2.x) crashes on FreeBSD 11 release with wineoss.drv
With winealsa.drv on FreeBSD 11 - OK.
With winoss.drv on FreeBSD 10 - OK.

I made some investigation and make patch to fix problem.
I test it and it work. But looks like dsound needs review.

DSOUND_ReopenDevice() call DSOUND_PrimaryOpen() with forcewave = FALSE
DSOUND_PrimaryOpen()
calculate:
    new_buflen = device->buflen
    new_buflen -= new_buflen % wfx->nBlockAlign
(wrong alig code but newer mind)
Then calculated
        DWORD alloc_len = frames * sizeof(float)
and allocated buffer
        if (device->buffer)
            newbuf = HeapReAlloc(GetProcessHeap() 0 device->buffer alloc_len)
        else
            newbuf = HeapAlloc(GetProcessHeap() 0 alloc_len)
final: save new buffer pointer and size:
    device->buffer = newbuf
    device->buflen = new_buflen
!!!
We allocate 6144 (0x00001800) bytes but set buf size to 65536.
DSOUND_MixToPrimary() and norm16() in DSOUND_mixthread use device->buflen and corrupt heap after first call.


First I make more proper alignment:
        new_buflen = (device->buflen + wfx->nBlockAlign)
        new_buflen -= (new_buflen % wfx->nBlockAlign)
and change calculation to:
        DWORD alloc_len = ((new_buflen / wfx->nBlockAlign) * sizeof(float))
It works.

Next I replace alloc_len->new_buflen and return original calc code:
        new_buflen = (frames * sizeof(float))
This work but sound with a bit noise and game crash after some time.

Finnaly:
        new_buflen = ((frames + 1) * wfx->nBlockAlign * sizeof(float))
This work OK.
This not looks like proper buf size.

Also in DSOUND_ReopenDevice() after DSOUND_PrimaryOpen():
    device->fraglen = frag_frames * wfx->nBlockAlign
    device->aclen = aclen_frames * wfx->nBlockAlign

device->buflen should somehow be synced with this.



606723.622:0034:0035:trace:heap:RtlAllocateHeap (0x1100007000006200000030): returning 0x11d438
606723.622:0034:0035:trace:oss:AudioClient_Start (0x1ecb38) now playing...
606723.622:0034:0035:trace:oss:AudioClient_GetStreamLatency (0x1ecb38)->(0x335f590)
606723.622:0034:0035:trace:oss:AudioClient_GetBufferSize (0x1ecb38)->(0x335f58c)
606723.622:0034:0035:trace:oss:AudioClient_GetBufferSize buffer size: 3840
606723.622:0034:0035:trace:dsound:DSOUND_ReopenDevice period 11 ms fraglen 2048 buflen 6144
606723.622:0034:0035:trace:dsound:DSOUND_PrimaryOpen (0x11e4d8)
606723.622:0034:0035:trace:heap:RtlAllocateHeap (0x1100007000006200001800): returning 0x1fc1e8
606723.622:0034:0035:trace:dsound:DSOUND_PrimaryOpen buflen: 65536 fraglen: 0
606723.622:0034:0035:trace:oss:AudioClient_IsFormatSupported (0x1ecb38)->(0 0x335f650 0x335f64c)
...
606723.688:0034:003e:trace:dsound:DSOUND_mixthread (0x11e4d8)
606723.688:0034:003e:trace:dsound:DSOUND_PerformMix (0x11e4d8)
606723.688:0034:003e:trace:oss:AudioClient_GetCurrentPadding (0x1ecb38)->(0x1448f6b8)
606723.688:0034:003e:trace:oss:AudioClient_GetCurrentPadding pad: 0
606723.688:0034:003e:warn:dsound:DSOUND_PerformMix Probable buffer underrun
606723.688:0034:003e:trace:oss:AudioRenderClient_GetBuffer (0x1ecb38)->(1536 0x1448f6b0)
606723.690:0034:003e:trace:heap:RtlAllocateHeap (0x1100007000006200001810): returning 0x141908b0
606723.690:0034:003e:trace:dsound:DSOUND_MixToPrimary (06144)
606723.690:0034:003e:trace:dsound:norm16 0x1fc1e8 - 0x141908b0 6144
606723.690:0034:003e:trace:oss:AudioRenderClient_ReleaseBuffer (0x1ecb38)->(1536 0)
606723.690:0034:003e:trace:oss:AudioRenderClient_ReleaseBuffer writen: 6144
606723.690:0034:003d:err:heap:HEAP_ValidateInUseArena Heap 0x110000: block 0x1fc1e8 tail overwritten at 0x1fd9e8 (byte 0/8 == 0x00)
Heap: 0x110000
...
Sub-heap 0x110014: base=0x110000 size=00110000 committed=00110000

 Block    Arena   Stat   Size    Id
...
0x1f0118 00bedead pend 00000430
0x1f0550 00bedead pend 00002c18
0x1f3170 00bedead pend 00000430
0x1f35a8 00bedead pend 00008c30
0x1fc1e0 00455355 used 00001808
0x1fd9f0 00000000 pend 00000000
0x1fd9f8 00000000 pend 00000000
0x1fda00 00000000 pend 00000000
0x1fda08 00000000 pend 00000000",661,"1"
"WINE-29342","Bloxx It shows only a blank screen","Created attachment 37966
Terminal output

Regression testing indicated:

10d2a9375ddfac47de8957c7d126a28d82f15701 is the first bad commit
commit 10d2a9375ddfac47de8957c7d126a28d82f15701
Author: Henri Verbeet 
Date:   Mon Dec 12 20:53:56 2011 +0100

    ddraw: Add support for clipped blits.

:040000 040000 e00012e8b149f8843d339e5fd840d655ded4fdc8 2b7ddc00f02e590bb054fec1204f3e0288d03cf7 M    dlls

Reverting the patch restored the correct display. The problem occurs with a Radeon HD 4250 and a GMA 950 (though it looks like it stopped working with ddr=opengl on the GMA 950 prior to this commit).",24,"0"
"WINE-20295","AutoCAD 2004: Crash after closing Layer Management Window","Created attachment 23990
Unhandeled exception window

Steps to reproduce:
1) start AutoCAD
2) start Layer Manager Window
3) click OK or Cancel
4) get Unhandeled exception window
5) click OK and application closes

Terminal output:
fixme:win:EnumDisplayDevicesW ((null)00x33f5b00x00000000) stub!
fixme:shell:IQueryAssociations_fnInit unsupported flags: 2
fixme:font:WineEngCreateFontInstance Untranslated charset 255
fixme:process:GetProcessWorkingSetSize (0xffffffff0x33f72c0x33f730): stub
fixme:imm:ImmReleaseContext (0x400a2 0x135170): stub
fixme:heap:RtlCompactHeap (0x2790000 0x1) stub
fixme:dciman:DCICreatePrimary 0x3b0 0x14f12a4
fixme:win:RegisterRawInputDevices (pRawInputDevices=0x33fab8 uiNumDevices=1 cbSize=12) stub!
fixme:ole:CoResumeClassObjects stub
fixme:msxml:DllCanUnloadNow 
fixme:edit:EDIT_EM_FmtLines soft break enabled not implemented",125,"0"
"WINE-31198","Google Sketchup Layout crashes during startup","I get a crash with builtin gdiplus. Terminal shows:
fixme:gdiplus:GdipGetFamilyName No support for handling of multiple languages!
fixme:gdiplus:GdipCreateBitmapFromGraphics hacked stub
..
image.c:1975: move_bitmap: Assertion `dst->image.stream == ((void *)0)' failed.

winetricks gdiplus works around it.",2,"0"
"WINE-40493","Prison Tycoon 4 crashes on start up needing msvcp71.dll.??$?5DU?$char_traits@D@std@@@std@@YAAAV?$basic_istream@DU?$char_traits@D@std@@@0@AAV10@AAC@Z","Created attachment 54267
Prison Tycoon 4 Bug Report

Please fix this I want to play this game.",11,"0"
"WINE-8547","Intel Image processing Library - ipla6 error preventing operation.","I have a program that I have to run to process some files with proprietary file
formats.  This program installs with no issues but it won't run when I start it.

I get a Windows error box that says:
--------------------
In function ipiAllocateImage{}: [file iplalloc.c line 315]
for allocate image data

Insufficient memory
(status: -4)

ErrMode=IPL_ErrorModel.eaf

Terminate the application?

Yes No

-------------------

I click no and I get an error and a back trace that I will attach.",320,"1"
"WINE-23298","Windows utility 'relog.exe' crashes on unimplemented function 'pdh.dll.PdhGetLogFileTypeW'","Created attachment 29043
Application RELOG Wine debugger output

Dell dualcore running 64bit Ubuntu 10.04 LTS.

Fresh install of Ubuntu as of a few weeks ago.  Fresh install of wine1.2 from package manager.

Expecting to use the c:\windows\system32\relog.exe built-in windows utility to convert performance monitor counters from one format to another.

wine relog.exe > output works OK.  I can read the output.

However actually using the program relog.exe in production fails and crashes.

The command I used:



wine relog.exe Windows27Counters_000003.blg -f csv -o relogtest_1.csv > ~/relog_out.txt
wine: Call from 0x7b836712 to unimplemented function pdh.dll.PdhGetLogFileTypeW aborting
wine: Unimplemented function pdh.dll.PdhGetLogFileTypeW called at address 0x7b836712 (thread 0009) starting debugger...


... see attachment.",2015,"1"
"WINE-24323","Need for speed 3 crashes on startup","Created attachment 30651
console from wine-1.2-478-g69c8f0b ~ crashes

Need for speed 3 crashes on start-up.

1. I did a regression test between 1.2-rc6 and 1.3.0:

69c8f0b67d445493a83dc932aaacefc26bb42c09 is the first bad commit
commit 69c8f0b67d445493a83dc932aaacefc26bb42c09
Author: Alexandre Julliard 
Date:   Mon Jul 26 15:30:26 2010 +0200

    gdi32: Store the total visible rectangle in the DC.

:040000 040000 cb299898df840e878b607534fa811f1645e15dfe ce21a9d4e09625cd3c8951233389b8312932d22d M      dlls


2. No other bug report suffers from this commit.

3. Revert of this patch after git checkout makes that problem go away.

4. Adding author of this patch to CC.


--private keyword: bisected",105,"0"
"WINE-42657","ACDSee Pro 9 needs msvcr120.dll.?Alloc@Concurrency@@YAPEAX_K@Z","Using very recent version of wine-git

wine: Call from 0x7b44f8a7 to unimplemented function msvcr120.dll.?Alloc@Concurrency@@YAPEAX_K@Z aborting",6,"0"
"PACKAGING-40134","WineHQ repositories for Ubuntu and Debian have only the latest development/staging release","The Fedora Mageia and Mac OS X repositories contain all packages that have been built by WineHQ so far and in the case of Fedora and Mageia even have packages for 1.8.1 (though they are inexplicably labeled development). The Ubuntu and Debian repositories however only contain the latest development and staging releases. 

Why this matters: users who encounter a regression when they upgrade Wine need to be able to revert to the old version until the problem is fixed. Keeping old packages available makes this very easy and since using the development or staging release then becomes relatively risk-free more users are likely to be willing to test those versions. More users testing every release benefits the project as a whole.

As for the stable release while it's true our Downloads page only promises development and staging packages since we are apparently providing stable packages for some distros they should be provided for all.",413,"1"
"WINE-31019","stl_test crashes due to missing msvcp80.dll.??$?5DU?$char_traits@D@std@@@std@@YAAAV?$basic_istream@DU?$char_traits@D@std@@@0@AAV10@AAD@Z","Now that bug 24287 is fixed the next problem in stl_test is

Unhandled exception: unimplemented function msvcp80.dll.??$?5DU?$char_traits@D@std@@@std@@YAAAV?$basic_istream@DU?$char_traits@D@std@@@0@AAV10@AAD@Z 

To reproduce:

  sh winetricks vc2005express
  export WINEPREFIX=$HOME/.local/share/wineprefixes/vc2005express
  cd $WINEPREFIX/drive_c
  wget http://web.archive.org/web/20060202000105/http://petef.port5.com/cpp/stltest-1.00.tar.gz
  tar -xzvf stltest-1.00.tar.gz
  chmod +w -R stltest
  cd stltest
  wget http://kegel.com/wine/stltest.patch
  patch -p1 < stltest.patch
  cd ../Program Files/Microsoft Visual Studio 8/Common7/Tools
  wine cmd
and then in cmd
  vsvars32
  cd \stltest
  nmake vc.mak
  exit
and then:
  cd $WINEPREFIX/drive_c
  unset WINEPREFIX
  rm -rf ~/.wine
  wine cmd /c echo hi
  cp -a stltest ~/.wine/drive_c
  cd ~/.wine/drive_c/stltest
  wine stl_test.exe",2,"0"
"WINE-6921","C&C Tiberian Sun menu disappears after save","After saving a game in Command & Conquer: Tiberian Sun the menu appears for 
about a second then disappears.  It appears again if you ALT+TAB out of the 
game and back but even while it is invisible it is possible to push its 
buttons.

When exiting the game a DirectDraw error appears if you have saved a game 
sometime during that game session.",732,"1"
"WINE-10314","Switched On Schoolhouse 2000 hangs X on startup","While looking at bug 10313 I went looking for a
freely downloadable version of Switched-on Schoolhouse.
The only thing I found so far was a free downloadable placement test
for a school which seems to have been
made with Switched On Schoolhouse 2000.

When you run it it locks up your X session and you have
to do alt-control-backspace to shut down the X server
to regain control.",378,"1"
"WINE-15893","Football Manager 2009 demo installer shows a blank screen","Created attachment 17053
Football Manager 2009 demo installer traces

With today's Git (wine-1.1.7-169-g4707548) when starting the Football Manager 2009 demo the installer performs extraction but when it shows what should be the installation window a blank window is displayed instead. Traces and screenshots are attached.",1631,"1"
"WINE-21426","Fallout Tactics no longer works","Fallout Tactics was working in 1.1.35 in full screen mode. It is not longer true for 1.1.36.

Ubuntu 9.10

Unfortunately I am unable to provide regression tests as git misbehaves with my externally attached storage and can't switch between branches as git constantly complains about lots of local modifications no matter which revert way I use.",58,"0"
"WINE-2368","Wine loses its X-Window when switching to another virt. desktop in Fvwm","I'm running wine-20040615 on an AthlonXP PC running Linux 2.4.21 glibc-2.3.2
X.org 4.3.0 X server and fvwm-2.5.10.  Wine is generating windows in managed
mode.  Wine runs great as long as I keep Fvwm on the same virtual desktop on
which I created the wine app.  But when I switch Fvwm virtual desktops wine's X
window disappears.  Gone no window no icon not present in the Fvwm window
list X loses complete track of it.  But wine and the windows app inside it keep
running fine.  I can still see the wine processes in the process list and any
actions I previously set the windows app to perform that have observable
consequences (e.g. creating files) happen correctly.  I just lose the gui
interface to the windows app not the app itself.",1408,"1"
"WINE-482","Convert HDRVR to a void* (references: 37)","See bug 90 for instructions.
Approximate number of references: 37",142,"0"
"WINE-38769","Additional AES algorithms in schannel break wine build","Hi Jacek
I finally found some time for wine and your todays patch broke my wine building machine (no offence c)


commit 3617e2b2a9f028347702c87da97e6a74f854027e
Author: Jacek Caban 
Date:   Tue Jun 16 13:46:32 2015 +0200

    secur32: Added support for a few more algorithms in schannel_get_cipher_algid.



wine-1.7.45-88-g1342254 builds fine but wine-1.7.45-89-g3617e2b fails with:

make[1]: Entering directory '/build/wine_git_build_32/dlls/secur32'
gcc -m32 -c -o schannel_gnutls.o ../../../wine_git_build/dlls/secur32/schannel_gnutls.c -I. \
  -I../../../wine_git_build/dlls/secur32 -I../../include -I../../../wine_git_build/include \
  -I/usr/include/p11-kit-1 -D__WINESRC__ -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing \
  -Wdeclaration-after-statement -Wempty-body -Wignored-qualifiers -Wstrict-prototypes -Wtype-limits \
  -Wunused-but-set-parameter -Wvla -Wwrite-strings -Wpointer-arith -Wlogical-op -gdwarf-2 \
  -gstrict-dwarf -fno-omit-frame-pointer -g -O0
../../../wine_git_build/dlls/secur32/schannel_gnutls.c: In function ‘schannel_get_cipher_algid’:
../../../wine_git_build/dlls/secur32/schannel_gnutls.c:302:10: error: ‘GNUTLS_CIPHER_AES_128_GCM’ undeclared (first use in this function)
     case GNUTLS_CIPHER_AES_128_GCM: return CALG_AES_128
          ^
../../../wine_git_build/dlls/secur32/schannel_gnutls.c:302:10: note: each undeclared identifier is reported only once for each function it appears in
../../../wine_git_build/dlls/secur32/schannel_gnutls.c:304:10: error: ‘GNUTLS_CIPHER_AES_256_GCM’ undeclared (first use in this function)
     case GNUTLS_CIPHER_AES_256_GCM:
          ^
Makefile:339: recipe for target 'schannel_gnutls.o' failed
make[1]: *** [schannel_gnutls.o] Error 1
make[1]: Leaving directory '/build/wine_git_build_32/dlls/secur32'
Makefile:13239: recipe for target 'dlls/secur32' failed
make: *** [dlls/secur32] Error 2",1,"0"
"WINE-29817","Multiple applications crash on initialization of audio host APIs using cross-platform 'PortAudio' library (missing 'ksuser.dll')(WSJTX MAP65 LMMS)","Created attachment 38728
crash backtrace of lmms at startup

Hi

lmms install fines but crash at startup after displaying the logo.

http://sourceforge.net/projects/lmms/files/lmms/0.4.13/lmms-0.4.13-win32.exe/download

Guy",974,"1"
"WINE-36859","Don't Starve 2.4.0 does not start: Missing Shader 'shaders/font.ksh'.","Created attachment 48952
Wine Log

Try to run Don't Starve 2.4.0 game.
Got the following error:
wine: Unhandled exception 0x80000003 in thread 9 at address 0x558efc (thread 0009) starting debugger...
ERROR: Missing Shader 'shaders/font.ksh'.
Assert failure '0' at ..\source\renderlib\OpenGL\HWEffect.cpp(86): Trace follows...

Attached are log and backtrace.",771,"1"
"WINE-34281","PlotSoft PDFill 10 fails on startup reports 'No Fonts found under: C:\\windows\\Fonts' (at least one font name in registry must contain 'truetype' token)","Name: PlotSoft PDFill 10.0 (build 4)
Executables: PDFill.exe or PDFill_PDF_Tools.exe (they are two independent executables)
Download page: http://www.pdfill.com/download.html

Installation steps:
1. install GhostScript 8.63 from http://www.plotsoft.com/download/gs863w32.exe ( http://goput.it/vz9v.png )
2. install Sun Java Virtual Machine 1.6 from http://www.plotsoft.com/download/jre-6-windows-i586.exe ( typical installation )
3. install PDFill from http://www.plotsoft.com/download/PDFill.exe ( http://goput.it/39j9.png ) (md5sum: c64ad2db2153af1d4ef69b88d34ec2a9)

I tested some Wine versions on some GNU/Linux distributions:

- wine-1.4.1 on Kubuntu 13.04 x64
both executables work perfectly ( http://goput.it/str/kk7d.png )

- wine-1.6 (build from ppa:ubuntu-wine/ppa) on Kubuntu 13.04 x64
- wine-1.6 (build from ppa:ubuntu-wine/ppa) on Ubuntu 13.04 x86
- wine-1.7 (compiled from http://sourceforge.net/projects/wine/files/Source/wine-1.7.0.tar.bz2 source) on Ubuntu 13.04 x86
1. I launch wine ./PDFill_PDF_Tools.exe or wine ./PDFill.exe (their bad behaviours are the same)
2. on startup it displays a message box complaining No Fonts found ( http://goput.it/str/t9es.png )
3. I click Ok button
4. it displays the window Browse folders ( http://goput.it/str/6cv6.png )
5. I select C:\windows\Fonts or /usr/share/wine/fonts (/home/luca/.wine/drive_c/windows/Fonts or Z:\home\luca\.wine\ etc. cannot be selected because hidden folders are not visible)
6. I click Ok or Cancel button
7. it quits without warnings or errors (except for a fixme)",1094,"1"
"WINE-36285","valgrind shows several leaks in kernel32/tests/debugger.c","==28825== 99 bytes in 1 blocks are definitely lost in loss record 135 of 229
==28825==    at 0x7BC4C735: notify_alloc (heap.c:255)
==28825==    by 0x7BC50F79: RtlAllocateHeap (heap.c:1716)
==28825==    by 0x4B4AB31: doChildren (debugger.c:703)
==28825==    by 0x4B4B71F: func_debugger (debugger.c:840)
==28825==    by 0x4C087A8: run_test (test.h:584)
==28825==    by 0x4C08B97: main (test.h:654)
==28825==",50,"0"
"WINE-24400","Sims 3 crashes at startup with unimplemented function msvcr80.dll._atoflt","I'm trying to see if I can get The Sims 3 running with no microsoft code.

Skipping the launcher and running TS3.EXE directly the first crash is
wine: Call from 0x7b837db2 to unimplemented function msvcr80.dll._set_abort_behavior aborting
Work around that with the hack attached to bug 23394.

The app then crashes with

wine: Call from 0x7b837db2 to unimplemented function msvcr80.dll._atoflt aborting",127,"0"
"WINE-31573","Firefox 10 (plugin) needs msvcp80.dll.??0?$basic_ifstream@DU?$char_traits@D@std@@@std@@QAE@XZ","Created attachment 41522
Program Error Details

Everything looked OK while it was installing. When it finished I chose to 'Restart Firefox' and then I got the attached program error.",7,"0"
"WINE-3338","Wine exits when you choose to e-mail using default e-mail program in Picasa 2","I am experiencing a fatal error in Picasa 2 while using a recent version of
Wine.  The error occurs when trying to e-mail a picture using the default e-mail
program.

Here's the version of Picasa I installed:
http://toolbar.google.com/picasa/picasa2-setup-1884.exe

To reproduce: 
1.Select a photo and try to E-Mail... from File menu. 
2.Picasa prompts to “Select how you want to e-mail your pictures”. 
3.When you choose to “Use my default email program” the program crashes. A Fatal
error box comes up and says “Picasa cannot continue”.
4.When you choose to Ok the program terminates.",218,"0"
"WINE-26540","Irfanview 4.28 paint extension changes to the image are lost upon closing the paint window","Irfanview 4.28 paint extension changes to the image are lost upon closing the paint window the changes simply vanish and the image is painted back as it was when first opened.

Tested on wine-1.3.16 on Debian 6 (32bits) using Gnome desktop + compiz

Steps to reproduce:

#wget -c http://irfanview.tuwien.ac.at/iview428_setup.exe

use winetricks to install the mfc42

#winetricks mfc42

install irfanview using wine

#wine iview428_setup.exe

launch irfanview:

#wine C:\Program Files\Irfanview\i_view32.exe

Open or create a new image in irfanview then press F12 to launch the paint plugin.

The paint extension will open a small window with some painting tools select any painting tool (ie brush) and paint something over the image

Close the extension's window anything you painted now disappear obviously this is some type of bug in Wine as the changes are intended to remain.",367,"1"
"WINE-28924","Visual Studio 2010 fails on startup needs atl100.AtlAdvise impl","I've got it installed but it doesn't run.

$ wine devenv.exe 
fixme:heap:HeapSetInformation (nil) 1 (nil) 0
fixme:process:SetProcessDEPPolicy (1): stub
fixme:heap:HeapSetInformation (nil) 1 (nil) 0
fixme:shell:SetCurrentProcessExplicitAppUserModelID LVisualStudio.10.0: stub
fixme:ole:CoInitializeSecurity (0x32f898-1(nil)(nil)00(nil)8(nil)) - stub!
err:ole:CoGetClassObject class {0000034b-0000-0000-c000-000000000046} not registered
err:ole:CoGetClassObject no class object {0000034b-0000-0000-c000-000000000046} could be created for context 0x1


Then it shows Unknown error message.",432,"1"
"WINE-12228","No ALSA support for certain soundcards since 0.9.57","Until 0.9.56 Wine allowed me to use an external USB soundcard as well as built-in Intel HDA sound through ALSA. In Windows applications (e.g. foobar2000) I could select the internal sound card as dimx:0 and the USB sound card as dmix:1. Since 0.9.57 however when the external USB sound card is plugged in I get two dmix:0 entries both select the internal sound. I see these two entries both in foobar2000 and in winecfg under ALSA Driver/Wave Out Devices. The external soundcard still is accessible through the OSS driver.

I'm using Wine 0.9.58 from the Wine repositories under Ubuntu 7.10. The external soundcard is an M-Audio USB Transit (with madfu driver).",1489,"1"
"WINE-30017","iWin Games Manager can't display html pages (without native ie)","Created attachment 39085
terminal output

The launcher for iWin Games Manager doesn't display html pages when only Gecko-1.4 installed.
After 'winetricks ie7' those pages appear correctly in the launcher.

Steps to reproduce the problem:
1. Download and install the trial version of any game available on iWin. The installer hits bug #30016 but it shouldn't be a problem with a recent Wine as the installer resumes after the crash.
2. After a successful installation the Game Manager starts automatically and begins to download the game. You can observe that most of the window is empty showing 'Please wait while your page loads...'.

Some functions of the launcher work even without native ie: downloading and starting the games is possible from inside the launcher.

Not sure about the component: either ieframe or mshtml.",1054,"1"
"WINE-20159","EVE Online crashes on Character selection screen","Compiled myself a fresh Wine 1.1.30 today.
Started EVE Online.
Unfortunately after logging in when the Character selection screen should appear EVE crashes.
This worked with 1.1.29 so this is a regression.

Last messages on the console:
[lots of err:heap:HEAP_ValidateInUseArena ... ]
err:heap:HEAP_ValidateInUseArena Heap 0x110000: prev arena 0x6c1c5e0 is not prev for in-use 0x6c47110
wine: Unhandled page fault on read access to 0x00000054 at address 0xb7ac978a (thread 002a) starting debugger..

Starting the debugger then hangs EVE (wine) has to be killed with a SIGTERM.

Bisecting between 1.1.29 and 1.1.30 brought me to:
wine-git $ git bisect bad
a8e8f763bfa6674c803b8986722e3c40c962bd6b is first bad commit
commit a8e8f763bfa6674c803b8986722e3c40c962bd6b
Author: Henri Verbeet 
Date:   Thu Sep 17 23:03:25 2009 +0200

    wined3d: Don't free D3D textures until the wined3d texture is destroyed.

:040000 040000 17ec2aff8812a23360a314a711bb4a0bcd451908 254cf97c166716c86a78400f6196e90d07363b6c M      dlls
:040000 040000 dcce0db77cda8db42d77817baad3a25c86a0722a 990b2b596a7a3733ff1ee0b8052ac25a91b576a5 M      include

Can someone please add Henri Verbeet to the CC? I'm to stupid to use the CC function... 

Greetings
Jan",4,"0"
"WINE-31131","installer of Thunder 7 crashes at unimplemented msvcp71.dll.?$?6U?$char_traits@D@std@@@std@@YAAAV?$basic_ostream@DU?$char_traits@D@std@@@0@AAV10@D@Z","Created attachment 40862
result from mscodescan.pl

1. Download Thunder 7 installer from
http://down.sandai.net/thunder7/Thunder7.2.8.3574.exe

2. Start installer with wine
$ wine Thunder7.2.8.3574.exe

wine: Call from 0x7b83ae33 to unimplemented function msvcp71.dll.??$?6U?$char_traits@D@std@@@std@@YAAAV?$basic_ostream@DU?$char_traits@D@std@@@0@AAV10@D@Z aborting
wine: Unimplemented function msvcp71.dll.??$?6U?$char_traits@D@std@@@std@@YAAAV?$basic_ostream@DU?$char_traits@D@std@@@0@AAV10@D@Z called at address 0x7b83ae33 (thread 003d) starting debugger...
Unhandled exception: unimplemented function msvcp71.dll.??$?6U?$char_traits@D@std@@@std@@YAAAV?$basic_ostream@DU?$char_traits@D@std@@@0@AAV10@D@Z called in 32-bit code (0x7b83ae33).


After install Thunder 7 can start without crash. Force using builtin msvcp71 will crash on other unimplemented functions.
Will attach a long list of mscodescan result.",5,"0"
"WINE-35872","Pinball Science crashed on starting","Created attachment 47895
WINE 1.7.15 console output

I've attempted to run Dorling Kindersley's Pinball Science on WINE 1.7.15.
Its installation (and QuickTime installation) was succeeded.

On running the launch screen shown up. When I clicked to launch the game
splash screen shown up screen resolution changed to 640x480
then the game simply crashed.

Wine console shows:

wine: Unhandled page fault on write access to 0x0000003f at address 0x1120ffe8 (thread 0009) starting debugger...
Unhandled exception: page fault on write access to 0x0000003f in 32-bit code (0x1120ffe8).

Followed by backtrace:

=>0 0x1120ffe8 in dkstore (+0xffe8) (0x0032f198)
  1 0x7e8de794 MMIO_Open+0x2c3(szFileName=D:\INTRO\ZQT1001P.mov+ refmminfo=0x32f2d4 dwOpenFlags=0x20 is_unicode=0) [/home/window/winegit/dlls/winmm/mmio.c:670] in winmm (0x0032f328)
  2 0x7e8dea59 mmioOpenA+0x28(szFileName=*** Invalid address 0x00000017 ***
Internal symbol error: unable to access memory location 0x17 lpmmioinfo=*** Invalid address 0x0000001b ***
Internal symbol error: unable to access memory location 0x1b dwOpenFlags=*** Invalid address 0x0000001f ***
) [/home/window/winegit/dlls/winmm/mmio.c:722] in winmm (0x0032f348)
  3 0x3d272f3b in dhio32.qtc (+0x2f3a) (0x80830000)

Full wine console output also attached.

This program is win32 came from 90s era
and depends on QuickTime for Windows 2.1.2.59 32-bit.

WINE 1.7.15 (git) using Windows version 98.
WINE installed without XInput2 OSMesa OpenCL CMS GStreamer and OSS support.
System: Debian GNU/Linux 5.0 Lenny i386.",582,"1"
"WINE-36063","prince of persia 2008 game crashes","Created attachment 48248
wine backtrace

the game crashes after the intro sequence after starting a new game and also when loading a saved game
error : Unhandled exception: page fault on write access to 0x00000000 in 32-bit code (0x00b08d0a).

system : linux mint 16 with cinnamon using wine 1.7.14",142,"0"
"WINE-29577","msvcmaker-generated projects try to run non-existent winebuild.exe","Tried working around bug 29509 by using a commandline build of wine.

Sadly Visual Studio 2005 and later no longer have an Export Makefile option
so you have to use devenv's /Build option.

I found a buglet in msvcmaker and posted a patch 
http://www.winehq.org/pipermail/wine-patches/2012-January/110405.html

I then tried a non-gui build as follows:
1) tools/winapi/msvcmaker

2) wine ~/.wine/drive_c/Program Files/Microsoft Visual Studio 8/Common7/IDE/devenv wine.sln 

3) File / Save All (to export the .dsp's in the new format)

4) wine ~/.wine/drive_c/Program Files/Microsoft Visual Studio 8/Common7/IDE/devenv wine.sln Win32 Debug /Build

This created about 103 .obj's (for static libraries) plus
 dlls/*/Output/Win32_Debug/BuildLog.htm
indicating that it tried to run winebuild.exe.
Since this file doesn't exist every .dll build failed.  

devenv did eventually complete though it seemed to be sitting doing nothing
for a couple minutes at the end.

Workaround: build winebuild.exe with mingw then copy it down into an
Output/Win32_Debug directory.

See http://kegel.com/wine/wow.html for notes on how to do the mingw build.",32,"0"
"WINE-8378","Knights of the Old Republic fails to launch with newer wine versions","After successful installation and upgrading to 1.03
launching swkotor.exe fails.

Last working version is 0.9.20 (with the already known mouse centering issue)

0.9.21 fails 0.9.22-0.9.24 fail with different messages
0.9.25-0.9.37+ all fail with the same messages.

See log for the different messages under different versions.

Using GNU/Linux Slackware 10.2 on x86 using ATI proprietary driver when
using wine:

$ fglrxinfo
display: :0.0  screen: 0
OpenGL vendor string: ATI Technologies Inc.
OpenGL renderer string: ATI MOBILITY RADEON X700
OpenGL version string: 2.0.6458 (8.36.5)",79,"0"
"WINE-20097","Halo Trial install menu buttons don't work - even with mfc42. Prevents installation.","Created attachment 23665
Shows how the menu button borders aren't rendered nor can they be clicked. Normally there's blue rounded borders around the Install and Web Connection buttons.

When installing Halo Trial (single executable installer) even after installing mfc42 with winetricks (or doing it manually and regsvr32/winecfg'ing it) the buttons on the installer program don't work preventing installation.",855,"1"
"WINE-1372","Wineinstall and permissions","Bug comments restored from Gmane.org:

Why is it not advisable to run wineinstall as root
when it asks for the password later anyway?

Why does wineinstall further assume the current user has write access
to the wine source root? I don't see why I must chown my entire source
as a regular user then su to that user then install and be asked for
the root password so that wineinstall can install correctly.
I keep my sources in /usr/src and they are owned by root.
Perhaps wine should let me install as root if I wish to do so?

Why does wineinstall not allow the installation of a global windows root
Why can't it su to root and create one...or allow users to run it as root..

Why am I told to run wineinstall as root to generate a global wine.conf
(if I refuse to make a local one) when wineinstall refuses to be ran as root?

Finally why can't wineinstall be incorporated in: make install?


------- Additional Comments From andi@rhlx01.fht-esslingen.de  2003-04-06 15:30
-------
a) Because users use root WAY too often. It's a counter-measure.
b) because wineinstall configures the Wine environment for a *specific* user.
   (a Wine configuration is not global)
   Thus you need start with this specific user and when it wants to install the    
   Wine files on your system you are supposed to provide the root password.

> Why am I told to run wineinstall as root to generate a global wine.conf
> (if I refuse to make a local one) when wineinstall refuses to be ran as root?
Hmm if it still says that then it's a bug. A global wine.conf is deprecated.
Yep it's a bug.

> Finally why can't wineinstall be incorporated in: make install?
Because make install shouldn't do what wineinstall does. And the other way around.
make install simply installs the compiled Wine files on the system whereas
wineinstall is a one size fits all for lazy users which configures everything
down to the kitchen sink :-)

Confirming since wineinstall still talks about wine.conf",672,"1"
"WINE-5781","jagged alliance 2 (not wildfire!) refuse to start with the recent ddraw changes","the game worked flawless until the recent ddraw changes. attached you will find
a +ddraw+d3d trace",55,"0"
"WINE-32746","TurboTax 2012 installer fails","Created attachment 43208
WINEDEBUG=tidmsimsidb

You'll need native dotnet40 to get this far (bug 32745). After that the installer starts up you can choose the directory to install etc. Start the install and it fails at ~24%:
err:msi:msi_install_assembly Failed to install assembly LC:\\users\\austin\\Temp\\msie.tmp\\Intuit.Spc.Esd.WinClient.Application.ConfigUXv4.exe (0x80070032)

I've attached a +tid+msi+msidb trace. Adding +relay gets it wayyy too big (and in the log it seems related to the above line). If you want it let me know and I'll email it privately.",1,"0"
"WINE-18075","IE8 crashes due to missing urlmon.dll.423 API","Created attachment 20482
Backtrace

To reproduce: start IE8 press ALT+D to view menu and navigate to Developer-Tools. While the Window is coming up i get a backtrace of missing function.",608,"1"
"WINE-4682","lots of text uses Hebrew-like characters instead of Roman characters","cvs update -D 20060224 had no problems.  However I updated Feb 25 around noon
GMT-7 and the problem started.  It still exists now.

The problem affects one of my Fedora Core 4 boxes but not the other.  The
affected one is a 32-bit Athlon with nrpms.net repositority (GNOME 2.10) and the
unaffected is Dual Opteron in 32-bit mode without nrpms.net. 

Screenshot:
http://img503.imageshack.us/my.php?image=screenshot27lo.png",1,"0"
"WINE-17980","BDE application cannot open any db file","REGRESSION: wine 1.1.18 breaks BDE application which uses PARADOX driver
The application simply cannot open any db file showing Invalid file name error followed by memory access exception message (EDatabaseError).
Rolling back to 1.1.17 solved the problem.

Not sure how to collect useful tracking information with wine. Please let me know then steps and will get the info.

Application (trial English version): http://mirror1.keepsoft.com/download/hbk4.exe
Application (trial Russion version): http://www.keepsoft.ru/files/homebuh/homebuh.exe
Note I experienced the problem with Russian version of the application.

Package: wine_1.1.18~winehq0~ubuntu~8.04-0ubuntu1_i386.deb
OS: Ubuntu 8.04",20,"0"
"WINE-18558","d3d9/visual: tests fail with fbo or +heap enabled","I noticed today that d3d9:visual fails the same way with +heap or FBO enabled. Fixing the memory corruption may also fix the FBO tests?

http://test.winehq.org/data/1394c6eee3150c2ecf588a25eed6d329adc91950/wine_ae-ub904-heap/d3d9:visual.html

visual.c:183: Driver string: Display
visual.c:184: Description string: NVIDIA GeForce 9800 GT
visual.c:185: Device name string: \\.\DISPLAY
visual.c:186: Driver version 7.15.11.8044

The tests pass fine with backbuffer/-heap.",15,"0"
"WINE-20420","VB6 Font size problem with custom usercontrols","Created attachment 24231
Test VB6 wrong font size

There is an important issue with font size with VB6 applications.

I adjusted some VB6 applications from xp to linux using wine and the major problem consists of something wrong on saved font size.

The test application has a label with a tahoma 14 font and the same saved in a usercontrol with a property bag: in windows the two labels have obviously the same size but not in wine!

On load event font name and size are printed on the respective label: It seems the property value is right but font is not!",893,"1"
"WINE-19548","Image deblurring tool requires implemented SetThreadIdealProcessor when run on multi-core machines","Created attachment 22773
SetThreadIdealProcessor hack

With wine-1.1.26-231-gfe9d360 when the image deblurring tool is used to execute a deblurring operation on a system with multiple processors the tool eventually aborts with:

system error(120): __kmp_launch_monitor: SetThreadIdealProcessor: Call not implemented

for which a fixme is emitted:

fixme:thread:SetThreadIdealProcessor (0xfffffffe): stub

Hacking the SetThreadIdealProcessor stub to return 0 works around the problem.",11,"0"
"WINE-618","regedit does not implement registry format '7'","I have set  up a clean fake windows dir with a WINEPREFIX set.
The config is set to not load the global registries.
After I install the program I try to export the registry this is what I get:

$ regedit /E export_to.reg
fixme:msvcrt:MSVCRT__sopen : pmode 0x40020074 ignored
regedit: warning - unsupported registry format '7' treat as binary

and MSVCRT error
and a warning about the registry format however there is no binary dat files.
The only registry available is the .reg files in $WINEPREFIX.

Note that everything works I do the the final registry exported.

The regedit tool is the one wine provides using winelib.",63,"0"
"WINEHQ.ORG-2100","Wine Weekly Newsletter HTML is an abomination","In the latest issue (#214) the quoted code looks almost as if it had been
mangled by MS Word. The angle brackets aren't escaped as  and 
resulting in:

  #include 

  #include 

  #include 

  #include 

  #include 

Also line breaks are created with  (huh?) and regions are indented
with .... The whole thing should just be using .",30,"0"
"WINE-12646","Guild Wars hang on : GUild Wars hang on this :  err:d3d:IWineD3DDeviceImpl_SetLightEnable Too many concurrently active lights","Created attachment 12286
Gw.exe -nosound and windows 98

Hi 

GUild Wars hang on this : 

err:d3d:IWineD3DDeviceImpl_SetLightEnable Too many concurrently active lights
fixme:dbghelp:SymInitializeW what to do ??
fixme:dbghelp:SymInitializeW what to do ??
fixme:dbghelp:SymInitializeW what to do ??
fixme:dbghelp:SymInitializeW what to do ??
fixme:dbghelp:SymInitializeW what to do ??

It can happen all the time : login screen loading map or in game when I walk in a town or in an area or fighting...

I have to shutdown Wine and restart the game... 

I use wine like this : 
- uncheck sounds 
- windows 98 or XP
- command line : Gw.exe -nosound

If someone can help me....",227,"1"
"WINE-11140","Trados: crash when reading the file properties of a translation memory","Trying to read the properties of a translation memory (size number of units reorganization needed number of user etc.) is immediately crashing workbench with no more information than this:

X Error of failed request:  BadAlloc (insufficient resources for operation)
  Major opcode of failed request:  53 (X_CreatePixmap)
  Serial number of failed request:  10866
  Current serial number in output stream:  10979",4,"0"
"WINE-12967","MS Office 97 will not install since 0.9.60 possibly 0.9.59","When try to install MS Office 97 on fresh wine get MS Msgbox headed
Setup Error 544
with text message
Setup is unable to open the data file O:\~MSSETUP.T\~msstfof.t\Off97Pro.stf
run Setup again from where you originally ran it from.

NB O: points to my linux home folder I believe the above should be looking in C:\ where there is the folders it's looking for though no files within

setup.exe has been tried from winefile (where CD is drive D:) or from console 

Did not get error in 0.9.58
Have replicated on Mandriva 2008.1 using rpm from WineHQ link

get a similar msg with Visual Studio v6 suspect related but have not had time to try and debug further.",17,"0"
"WINE-15210","MIDI-OX installer crashes","Hi this crash was reported by a user who sent in this new app into appdb.

From the debuglog  i think it's an msi-bug  but i'm not 100 % sure. I'll attach a +msi+msidb log",30,"0"
"WINE-28649","Some fonts render wrong in Age Of Empires III","The rendering of some fonts of Age Of Empires 3 has slightly regressed since Wine 1.3.30. Most of the game's text is readable but as shown in the screenshot some UI elements have white bars instead of their correct labels.

Regression test resulted in the following commit being the culprit:

17e72c816b9cbc17aeaae1c2ecf2ba230083817d is the first bad commit
commit 17e72c816b9cbc17aeaae1c2ecf2ba230083817d
Author: Huw Davies 
Date:   Thu Oct 6 16:26:07 2011 -0500

    gdi32: Load the font properties from the cache if it exists.

:040000 040000 c0ddafd0f315788a234d4bfbe6ad3d975bf0a4cb b4d13f5e352efe271cf957ed07c79515efbfe9f3 M	dlls

Using:
Wine 1.3.30
NVIDIA 280.13
Arch Linux (x86_64)",36,"0"
"WINE-22581","Internet Explorer 3.01 crashes on some web pages (unimplemented function ole2disp.dll16.VARIANTINIT)","Created attachment 27709
Full crash log

IE 3.01 for Windows 3.1 crashes when attempting to load some web pages. For instance attempting to search in AppDB triggers this crash. Probable culprit:

wine: Call from 0x7b837bea to unimplemented function ole2disp.dll16.VARIANTINIT aborting
wine: Unimplemented function ole2disp.dll16.VARIANTINIT called at address 0x7b837bea (thread 001a) starting debugger...",2072,"1"
"WINE-42876","iTunes needs function msvcp140.dll._Lock_shared_ptr_spin_lock","Created attachment 57995
Crash Backtrace Dump file

Trying to install iTunes 64 bit on Linux Mint 18. Install crashes with
 Unhandled exception: unimplemented function  msvcp140.dll._Lock_shared_ptr_spin_lock called in 64-bit code (0x000000007b44f007).",0,"0"
"WINE-28284","HoverAce: audio becomes distorted then it cuts out during races (Alsa=emulation)","Created attachment 36240
terminal output

HoverAce is an arcade racing released in 2003 by GSC Game World.

Symptom: after starting a race audio begins to crackle (both music and sound effects). This usually happens right after starting a race but sometimes I was able to play the game for 1 minute and the problem came up then. The crackling audio issue usually lasts for 5-10-15 seconds afterwards all audio playback goes away and the game continues running silently.

The issue is only reproducible when Alsa is set to 'emulation' and it is still present in the current git (wine-1.3.27-270-gb7ea631).
The problem doesn't happen in Wine-1.3.25 and the result of the regression test:

c7d0c093e5bc29da6163d2ef66542562ae7bafc2 is the first bad commit
commit c7d0c093e5bc29da6163d2ef66542562ae7bafc2
Author: Jörg Höhle 
Date:   Wed Jul 27 19:32:02 2011 +0200

    winmm: Functions that take an open HWAVE don't need StartDevicesThread.

:040000 040000 237c4f2af36c22141a26170c4771092e7bce8b5f 733f8497b9e900585455bd46f17e59762d08196b M	dlls

The patch can be reverted cleanly on wine-1.3.27-270-gb7ea631 and that fixed the problem.

The demo for the game is a so called compatibility test and it differs from the full game in several aspects but the audio problem is reproducible in it.

Steps to reproduce the problem in the demo:
1) After a successful installation launch the demo by tntShell.exe (ignore the error message related to directplay).
2) In the menu choose 'Begin new championship' then click on  .  When the countdown ends audio goes away.

Fedora 15 x86
Kernel 2.6.40.3-0.fc15.i686.PAE
Alsa 1.0.24
Audio device: nVidia Corporation MCP61 High Definition Audio (rev a2)",31,"0"
"WINE-15494","ddraw_test throws an exception when run","Running ddraw_test on wine with make test from the directory dlls/ddraw/tests/
throws the attached exception.

 ATI FireGL V5200
3 Gigs of memory
RHEL 5.2",198,"0"
"WINE-36790","ACDSee v17.0 needs unimplemented function msvcr110.dll.__crtInitializeCriticalSectionEx","wine version: wine-1.7.20-102-g889cce4

download ACDSee 17 from:  http://dl.acdsystems.com.s3.amazonaws.com/acdsee/en/acdsee.exe

after install ACDSee start from
~/.wine/drive_c/Program Files/ACD Systems/ACDSee/17.0/
with:
wine ACDSee.exe

the program failed to start and then turn to zombie process in the gnome-system-monitor.
last output is:
err:seh:setup_exception_record stack overflow 912 bytes in thread 0009 eip 7e84c978 esp 00230fa0 stack 0x230000-0x231000-0x330000",3,"0"
"WINE-20330","Buttons in The print show pro show up as blacked out and are not useable.","Created attachment 24043
This is output from running the program.

Buttons in The print show pro show up as blacked out and are not useable.
Program launches but many of the feature in menus on the side bar are blacked out and not useable. There are several issues in the output but the message I see over and over when trying to select a menu entry is:

Exception caught in BaseButton.DraweButtonState
fixme:gdiplus:GdipCreateHalftonePalette 
fixme:gdiplus:GdipDrawImagePointRectI (0x1160bce0 0x113d9198 0 0 0 0 190 58 2): stub",174,"0"
"WINE-9396","Solidworks 2006/2007/2012 fails to save files reporting 'An unsupported operation was attempted.' (comdlg32 version resource outdated/inconsistent with default WinVer setting)","Solidworks crashes when opening a new file or trying to save a new file.

(I installed Solidworks from a local copy of my Solidworks DVD.  The DVD isn't centered so I don't like using it more than I have to.)

Steps to reproduce:
  Start Solidworks with wine sldworks.exe
  Click the Open button on the toolbar or the save button.
  A dialog box that says An unsupported operation was attempted. pops up.
  Hit OK or the X in the corner of the window.
  Solidworks crashes.

I ran wine with
WINEDEBUG=fixme+allwarn+all+relaywarn+all
and captured the output.  The resulting file is 740M.  What of this file should I include to help solve the problem?

I tried to put debug markers in the file through the Put 'Debug Mark' in Debug Log option in the wine menu right before opening a file but the crash was 2 million lines below the debug mark and didn't help me find the problem or any good information.",2387,"1"
"WINE-6912","nVidia melody display junk to screen list of fixmes","Melody gives a long list of errors and displays garble to the screen.  

fixme:d3d:IWineD3DImpl_GetDeviceCaps Caps support for directx9 is nonexistent at
the moment!
fixme:d3d:IWineD3DImpl_CheckDeviceMultiSampleType Quality levels unsupported at
present
fixme:d3d:IWineD3DImpl_GetDeviceCaps Caps support for directx9 is nonexistent at
the moment!
fixme:d3d:IWineD3DImpl_GetDeviceCaps Caps support for directx9 is nonexistent at
the moment!
fixme:d3d:IWineD3DDeviceImpl_GetAvailableTextureMem (0x178be8) : stub
simulating 64MB for now returning 64MB left
fixme:d3d:state_blend Unrecognized dst blend value 0
fixme:d3d:IWineD3DImpl_GetDeviceCaps Caps support for directx9 is nonexistent at
the moment!
fixme:d3d:IWineD3DImpl_GetDeviceCaps Caps support for directx9 is nonexistent at
the moment!
fixme:d3d:IWineD3DImpl_GetDeviceCaps Caps support for directx9 is nonexistent at
the moment!
fixme:d3d:IWineD3DImpl_GetDeviceCaps Caps support for directx9 is nonexistent at
the moment!
fixme:d3d:IWineD3DDeviceImpl_CreateQuery (0x178be8) Unhandled query type 4
fixme:d3d:IWineD3DImpl_GetDeviceCaps Caps support for directx9 is nonexistent at
the moment!
fixme:d3d:IWineD3DImpl_GetDeviceCaps Caps support for directx9 is nonexistent at
the moment!
fixme:d3d:IWineD3DImpl_GetDeviceCaps Caps support for directx9 is nonexistent at
the moment!
fixme:d3d:IWineD3DImpl_GetDeviceCaps Caps support for directx9 is nonexistent at
the moment!
fixme:d3d:state_zenable Unrecognized D3DZBUFFERTYPE value 4
fixme:d3d:state_zenable Unrecognized D3DZBUFFERTYPE value 4
fixme:d3d:state_zenable Unrecognized D3DZBUFFERTYPE value 4
fixme:d3d:state_zenable Unrecognized D3DZBUFFERTYPE value 4
fixme:d3d:state_zenable Unrecognized D3DZBUFFERTYPE value 4
fixme:d3d:state_zenable Unrecognized D3DZBUFFERTYPE value 4
fixme:d3d:state_zenable Unrecognized D3DZBUFFERTYPE value 4",1424,"1"
"WINE-11891","LANguard Network Installer fails with Unable to install InstallShield Scripting Runtime","Created attachment 11190
+msi trace output

When launching the installer executable inside the ZIP archive the InstallShield installer appears to be starting but eventually bails out with a dialog box that says 1607: Unable to install InstallShield Scripting Runtime. If the InstallShield runtime from http://support.installshield.com/kb/files/Q108158/IsScript7.zip is installed the installer when started proceeds past this point normally. Based on Wine error message:

err:msi:ITERATE_Actions Execution halted action LSetARPReadme returned 87

I am concluding that this is msi related. Relevant outputs are attached.",4,"0"
"WINE-39198","Etherlords 2 demo installer receives an exception after start","Created attachment 52254
terminal output

The installer starts and gets past the initial file extraction stage then I'm getting an error message titled 'Unhandled Exception'. The contents of the error message:
'Error number: 0x80040707
Description: Dll function call crashed:
ISRT._SetTitle
Setup will now terminate.'

Afterwards the installer quits.

According to my testing this was introduced by

commit e5edbc6fa00192a8048a3b81c70075537eaa2c97
Author: Jacek Caban 
Date:   Fri Aug 28 14:58:55 2015 +0200

    ole32: Use proper IUnknown implementation when finding and creating stub manager.

The commit can't be reverted cleanly on current git but the installer works properly with the previous commit 60451f9855791a6ee4d10ca569153df51249711b.

wine-1.7.50-194-g99ecebe
Fedora 22 32-bit",1,"0"
"WINE-21911","Provide C:\\windows\\Help folder (MS Java runtime installer)","Hello

a minor nuisance at the end of installer easy to fix.

Installer log vminst.log:

--- snip ---
=== Help Files ==============================================

[ID:005006] C:\windows\help\javaperm.hlp
  Error creaing file [00000003].
[ID:006006] C:\windows\help\javasec.hlp
  Error creaing file [00000003].

=============================================================

Unable to complete installation.  Error 0x80004005
Exit code: AA000003
...
--- snip ---

trace log:

--- snip ---
0027:Call KERNEL32.CreateFileA(0033fbf4 C:\\windows\\help\\javaperm.hlp400000000000000000000000000000020000000000000000) ret=00403625
0027:Ret  KERNEL32.CreateFileA() retval=ffffffff ret=00403625
0027:Call KERNEL32.GetLastError() ret=0040365a
0027:Ret  KERNEL32.GetLastError() retval=00000003 ret=0040365a
...
0027:Call KERNEL32.CreateFileA(0033fbf4 C:\\windows\\help\\javasec.hlp400000000000000000000000000000020000000000000000) ret=00403625
0027:Ret  KERNEL32.CreateFileA() retval=ffffffff ret=00403625
0027:Call KERNEL32.GetLastError() ret=0040365a
0027:Ret  KERNEL32.GetLastError() retval=00000003 ret=0040365a
...
0027:Call user32.MessageBoxA(000000000033f9f8 Unable to Complete Installation0033f5f8 Microsoft VM00000010) ret=00402c3f 
--- snip ---

With precreated C:\\windows\\Help folder the installer finishes successfully.

Regards",1,"0"
"WINE-32853","Microsoft Expression Design 4 (Free Version) installer fails while trying to check for msi.dll file version (MsiGetFileVersion)","Hello folks

Microsoft Expression Design 4 (Free Version) installer still fails.

Prerequisite: 'winetricks -q dotnet40'

Suffers from bug 32471 hence:

WINEDLLOVERRIDES=d3d9=d wine ./Design_Trial_en.exe

Managed backtrace:

--- snip ---
(29.44): CLR exception - code e0434352 (first chance)
OS Thread Id: 0x44 (5)
Child SP IP       Call Site
093bd8f0 7b83aa73 [HelperMethodFrame: 093bd8f0] 
093bd940 08c719e0 Microsoft.WindowsInstaller.Installer.FileVersion(System.String)
093bd958 08c718c4 Microsoft.WindowsInstaller.Installer.get_Version()
093bd968 08c71454 XSetupAct.ConfigMSI.CheckSupportedMsiVersion()
093bd9dc 08c71129 XSetupAct.ConfigMSI.OnTaskWorkerDoWork(System.Object System.ComponentModel.DoWorkEventArgs)
093bda10 0439721a System.ComponentModel.BackgroundWorker.OnDoWork(System.ComponentModel.DoWorkEventArgs)
093bda24 04397121 System.ComponentModel.BackgroundWorker.WorkerThreadStart(System.Object)
093bdc3c 791421db [HelperMethodFrame_PROTECTOBJ: 093bdc3c] System.Runtime.Remoting.Messaging.StackBuilderSink._PrivateProcessMessage(IntPtr System.Object[] System.Object Int32 Boolean System.Object[] ByRef)
093bdf90 04396032 System.Runtime.Remoting.Messaging.StackBuilderSink.AsyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage System.Runtime.Remoting.Messaging.IMessageSink)
093bdff4 04395ea5 System.Runtime.Remoting.Proxies.AgileAsyncWorkerItem.DoAsyncCall()
093be000 04395e59 System.Runtime.Remoting.Proxies.AgileAsyncWorkerItem.ThreadPoolCallBack(System.Object)
093be008 04395c9d System.Threading.QueueUserWorkItemCallback.WaitCallback_Context(System.Object)
093be010 04395aa9 System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
093be034 0439588b System.Threading.QueueUserWorkItemCallback.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem()
093be048 04394ea6 System.Threading.ThreadPoolWorkQueue.Dispatch()
093be094 04394c3c System.Threading._ThreadPoolWaitCallback.PerformWaitCallback()
093be454 791421db [DebuggerU2MCatchHandlerFrame: 093be454] 
--- snip ---

Relay trace log:

--- snip ---
...
002e:Call msi.MsiGetFileVersionW(013f03f8 LC:\\windows\\system32\\Msi.dll0458da500458db44000000000458db40) ret=08fd03f2
002e:trace:msi:MsiGetFileVersionW LC:\\windows\\system32\\Msi.dll 0x458da50 0 (nil) 0
002e:Call version.GetFileVersionInfoSizeW(013f03f8 LC:\\windows\\system32\\Msi.dll00000000) ret=7ce994ca 
...
002e:Ret  version.GetFileVersionInfoSizeW() retval=000006ac ret=7ce994ca
002e:Call ntdll.RtlAllocateHeap(0011000000000000000006ac) ret=7ce904de
002e:Ret  ntdll.RtlAllocateHeap() retval=072efeb8 ret=7ce904de
002e:Call version.GetFileVersionInfoW(013f03f8 LC:\\windows\\system32\\Msi.dll00000000000006ac072efeb8) ret=7ce99541
...
002e:Ret  version.GetFileVersionInfoW() retval=00000001 ret=7ce99541
002e:Call version.VerQueryValueW(072efeb87cef66fe L\\0458d9040458d908) ret=7ce99592
002e:Ret  version.VerQueryValueW() retval=00000001 ret=7ce99592
002e:Call version.VerQueryValueW(072efeb87cef57c0 L\\VarFileInfo\\Translation0458d9000458d908) ret=7ce9968a
002e:Ret  version.VerQueryValueW() retval=00000001 ret=7ce9968a
002e:Call ntdll.RtlFreeHeap(0011000000000000072efeb8) ret=7ce90514
002e:Ret  ntdll.RtlFreeHeap() retval=00000001 ret=7ce90514
002e:Ret  msi.MsiGetFileVersionW() retval=000000ea ret=08fd03f2
...
--- snip ---

MsiGetFileVersionW() is called a second time now with pcchVersionBuf properly set (++pcchVersionBuf of first call):

--- snip ---
...
002e:Call msi.MsiGetFileVersionW(013f03f8 LC:\\windows\\system32\\Msi.dll0458da580458db44000000000458db40) ret=08fd03f2
002e:trace:msi:MsiGetFileVersionW LC:\\windows\\system32\\Msi.dll 0x458da58 15 (nil) 4
002e:Call version.GetFileVersionInfoSizeW(013f03f8 LC:\\windows\\system32\\Msi.dll00000000) ret=7ce994ca 
...
002e:Ret  version.GetFileVersionInfoSizeW() retval=000006ac ret=7ce994ca
002e:Call ntdll.RtlAllocateHeap(0011000000000000000006ac) ret=7ce904de
002e:Ret  ntdll.RtlAllocateHeap() retval=072efeb8 ret=7ce904de
002e:Call version.GetFileVersionInfoW(013f03f8 LC:\\windows\\system32\\Msi.dll00000000000006ac072efeb8) ret=7ce99541 
...
002e:Ret  version.GetFileVersionInfoW() retval=00000001 ret=7ce99541
002e:Call version.VerQueryValueW(072efeb87cef66fe L\\0458d9140458d918) ret=7ce99592
002e:Ret  version.VerQueryValueW() retval=00000001 ret=7ce99592
002e:Call version.VerQueryValueW(072efeb87cef57c0 L\\VarFileInfo\\Translation0458d9100458d918) ret=7ce9968a
002e:Ret  version.VerQueryValueW() retval=00000001 ret=7ce9968a
002e:Call ntdll.RtlFreeHeap(0011000000000000072efeb8) ret=7ce90514
002e:Ret  ntdll.RtlFreeHeap() retval=00000001 ret=7ce90514
002e:Ret  msi.MsiGetFileVersionW() retval=000000ea ret=08fd03f2 
...
002e:Call KERNEL32.FormatMessageA(0000120000000000000000ea00000000072ef6880000040000000000) ret=08fd0b83
002e:Ret  KERNEL32.FormatMessageA() retval=00000016 ret=08fd0b83
...
002e:Call KERNEL32.MultiByteToWideChar(0000000000000001072ef688 More data available.\r\nffffffff013f0db000000017) ret=793eddaa
...
002e:Call msi.MsiGetLastErrorRecord() ret=08fd0cac
002e:fixme:msi:MsiGetLastErrorRecord 
002e:Ret  msi.MsiGetLastErrorRecord() retval=00000000 ret=08fd0cac
002e:Call KERNEL32.RaiseException(e043435200000001000000050458da44) ret=791cac08
002e:trace:seh:raise_exception code=e0434352 flags=1 addr=0x7b83aa73 ip=7b83aa73 tid=002e
002e:trace:seh:raise_exception  info[0]=80131501
002e:trace:seh:raise_exception  info[1]=00000000
002e:trace:seh:raise_exception  info[2]=00000000
002e:trace:seh:raise_exception  info[3]=00000000
002e:trace:seh:raise_exception  info[4]=79140000
002e:trace:seh:raise_exception  eax=7b826849 ebx=7b8b96b0 ecx=79140000 edx=0458d928 esi=0458da00 edi=0458d980
002e:trace:seh:raise_exception  ebp=0458d958 esp=0458d8f4 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000283 
...
--- snip ---

Pseudo code of app:

--- snip ---
int cchVersionBuf = 0
int cchLangBuf = 0
int ret = MsiGetFileVersion( path szVersionBuf 
if( ret == 0xea) {
    reserve( szVersionBuf ++cchVersionBuf)
    ret = MsiGetFileVersion( path szVersionBuf 
}
--- snip ---

MSDN: http://msdn.microsoft.com/en-us/library/windows/desktop/aa370122%28v=vs.85%29.aspx

--- quote ---
...
The MsiGetFileVersion returns the version string and language string in the format that the installer expects to find them in the database. If you want only version information set lpLangBuf and pcchLangBuf to 0 (zero).
...
lpVersionBuf [out]

    Returns the file version.

    Set to 0 for language information only.
pcchVersionBuf [in out]

    In and out buffer count as the number of TCHAR.

    Set to 0 (zero) for language information only. On input this is the full size of the buffer including a space for a terminating null character. If the buffer passed in is too small the count returned does not include the terminating null character.
lpLangBuf [out]

    Returns the file language.

    Set to 0 (zero) for version information only.
pcchLangBuf [in out]

    In and out buffer count as the number of TCHAR.

    Set to 0 (zero) for version information only. On input this is the full size of the buffer including a space for a terminating null character. If the buffer passed in is too small the count returned does not include the terminating null character.
--- quote ---

Source: http://source.winehq.org/git/wine.git/blob/5891ce25e5b45e69611c2848b87f9bf7a9c416bf:/dlls/msi/msi.c#l3155

---snip ---
3155 static UINT get_file_version( const WCHAR *path WCHAR *verbuf DWORD *verlen
3156                               WCHAR *langbuf DWORD *langlen )
3157 {
...
3180     if (verlen)
3181     {
3182         if (VerQueryValueW( version szVersionResource (LPVOID *)&ffi &len ) && len > 0)
3183         {
3184             sprintfW( tmp szVersionFormat
3185                       HIWORD(ffi->dwFileVersionMS) LOWORD(ffi->dwFileVersionMS)
3186                       HIWORD(ffi->dwFileVersionLS) LOWORD(ffi->dwFileVersionLS) )
3187             if (verbuf) lstrcpynW( verbuf tmp *verlen )
3188             len = strlenW( tmp )
3189             if (len >= *verlen) ret = ERROR_MORE_DATA
3190             *verlen = len
3191         }
3192         else
3193         {
3194             if (verbuf) *verbuf = 0
3195             *verlen = 0
3196         }
3197     }
3198     if (langlen)
3199     {
3200         if (VerQueryValueW( version szLangResource (LPVOID *)&lang &len ) && len > 0)
3201         {
3202             sprintfW( tmp szLangFormat *lang )
3203             if (langbuf) lstrcpynW( langbuf tmp *langlen )
3204             len = strlenW( tmp )
3205             if (len >= *langlen) ret = ERROR_MORE_DATA
3206             *langlen = len
3207         }
3208         else
3209         {
3210             if (langbuf) *langbuf = 0
3211             *langlen = 0
3212         }
3213     }
3214     msi_free( version )
3215     return ret
3216 }
---snip ---

It seems the app wants only version information but additionally passes langlen by reference (.NET code).
Both verlen and langlen ref values get set by MsiGetFileVersion() during first call.
verlen is properly increased by app (NULL terminator) but langlen ref value is ignored by app -> passed again unmodified at second call.
Wine returns ERROR_MORE_DATA because it thinks the app also wants language information passing insufficient langlen leading to app failure.

Regards",1,"0"
"WINE-8107","Civilization 4 Warlords fails to start due to XML issues","This is different from the original Civilization 4 issue in that using the
msxml3 override doesn't fix it just changes the behavior. In either case you
get a messsage:

Caught unhandled exception creating XML parser object. Current XML file is:

The only difference being is that WITH the override it says that and then
closes. WITHOUT the override it says that (with an xml file after it) twice then
pagefaults.",1316,"1"
"WINE-37563","Skype 6.x crashes trying to make an audio call (DestroyIRichEditOle must take reference count into account)","Unhandled exception: page fault on execute access to 0x00000204 in 32-bit code (0x00000204).
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:0033 GS:003b
 EIP:00000204 ESP:0c60e58c EBP:0c60e584 EFLAGS:00210246(  R- --  I  Z- -P- )
 EAX:00000000 EBX:00000000 ECX:00000000 EDX:00000204
 ESI:0c60e584 EDI:0c60e584
Stack dump:
0x0c60e58c:  00000001 000003e8 00000000 00989680
0x0c60e59c:  00000000 00000000 00000000 036ec4a0
0x0c60e5ac:  00000000 a9948572 006d1f0d 00000000
0x0c60e5bc:  036ec478 0021ce20 00000000 00033d11
0x0c60e5cc:  00000000 00000000 00000352 00000000
0x0c60e5dc:  00033d03 00000000 036ed128 00000154
Backtrace:
=>0 0x00000204 (0x0c60e584)
  1 0x00000204 (0x0c60e584)
  2 0x00000204 (0x0c60e584)
  3 0x00000204 (0x0c60e584)
  4 0x00000204 (0x0c60e584)
  5 0x00000204 (0x0c60e584)
  6 0x00000204 (0x0c60e584)
  7 0x00000204 (0x0c60e584)
  8 0x00000204 (0x0c60e584)
  9 0x00000204 (0x0c60e584)
  10 0x00000204 (0x0c60e584)
  11 0x00000204 (0x0c60e584)
  12 0x00000204 (0x0c60e584)
  13 0x00000204 (0x0c60e584)
  14 0x00000204 (0x0c60e584)
  15 0x00000204 (0x0c60e584)
  16 0x00000204 (0x0c60e584)
  17 0x00000204 (0x0c60e584)
  18 0x00000204 (0x0c60e584)
  19 0x00000204 (0x0c60e584)
  20 0x00000204 (0x0c60e584)
  21 0x00000204 (0x0c60e584)
  22 0x00000204 (0x0c60e584)
  23 0x00000204 (0x0c60e584)
  24 0x00000204 (0x0c60e584)
  25 0x00000204 (0x0c60e584)
  26 0x00000204 (0x0c60e584)
  27 0x00000204 (0x0c60e584)
  28 0x00000204 (0x0c60e584)
  29 0x00000204 (0x0c60e584)
  30 0x00000204 (0x0c60e584)
  31 0x00000204 (0x0c60e584)
  32 0x00000204 (0x0c60e584)
  33 0x00000204 (0x0c60e584)
  34 0x00000204 (0x0c60e584)
  35 0x00000204 (0x0c60e584)
  36 0x00000204 (0x0c60e584)
  37 0x00000204 (0x0c60e584)
  38 0x00000204 (0x0c60e584)
  39 0x00000204 (0x0c60e584)
  40 0x00000204 (0x0c60e584)
  41 0x00000204 (0x0c60e584)
  42 0x00000204 (0x0c60e584)
  43 0x00000204 (0x0c60e584)
  44 0x00000204 (0x0c60e584)
  45 0x00000204 (0x0c60e584)
  46 0x00000204 (0x0c60e584)
  47 0x00000204 (0x0c60e584)
  48 0x00000204 (0x0c60e584)
  49 0x00000204 (0x0c60e584)
  50 0x00000204 (0x0c60e584)
  51 0x00000204 (0x0c60e584)
  52 0x00000204 (0x0c60e584)
  53 0x00000204 (0x0c60e584)
  54 0x00000204 (0x0c60e584)
  55 0x00000204 (0x0c60e584)
  56 0x00000204 (0x0c60e584)
  57 0x00000204 (0x0c60e584)
  58 0x00000204 (0x0c60e584)
  59 0x00000204 (0x0c60e584)
  60 0x00000204 (0x0c60e584)
  61 0x00000204 (0x0c60e584)
  62 0x00000204 (0x0c60e584)
  63 0x00000204 (0x0c60e584)
  64 0x00000204 (0x0c60e584)
  65 0x00000204 (0x0c60e584)
  66 0x00000204 (0x0c60e584)
  67 0x00000204 (0x0c60e584)
  68 0x00000204 (0x0c60e584)
  69 0x00000204 (0x0c60e584)
  70 0x00000204 (0x0c60e584)
  71 0x00000204 (0x0c60e584)
  72 0x00000204 (0x0c60e584)
  73 0x00000204 (0x0c60e584)
  74 0x00000204 (0x0c60e584)
  75 0x00000204 (0x0c60e584)
  76 0x00000204 (0x0c60e584)
  77 0x00000204 (0x0c60e584)
  78 0x00000204 (0x0c60e584)
  79 0x00000204 (0x0c60e584)
  80 0x00000204 (0x0c60e584)
  81 0x00000204 (0x0c60e584)
  82 0x00000204 (0x0c60e584)
  83 0x00000204 (0x0c60e584)
  84 0x00000204 (0x0c60e584)
  85 0x00000204 (0x0c60e584)
  86 0x00000204 (0x0c60e584)
  87 0x00000204 (0x0c60e584)
  88 0x00000204 (0x0c60e584)
  89 0x00000204 (0x0c60e584)
  90 0x00000204 (0x0c60e584)
  91 0x00000204 (0x0c60e584)
  92 0x00000204 (0x0c60e584)
  93 0x00000204 (0x0c60e584)
  94 0x00000204 (0x0c60e584)
  95 0x00000204 (0x0c60e584)
  96 0x00000204 (0x0c60e584)
  97 0x00000204 (0x0c60e584)
  98 0x00000204 (0x0c60e584)
  99 0x00000204 (0x0c60e584)
  100 0x00000204 (0x0c60e584)
  101 0x00000204 (0x0c60e584)
  102 0x00000204 (0x0c60e584)
  103 0x00000204 (0x0c60e584)
  104 0x00000204 (0x0c60e584)
  105 0x00000204 (0x0c60e584)
  106 0x00000204 (0x0c60e584)
  107 0x00000204 (0x0c60e584)
  108 0x00000204 (0x0c60e584)
  109 0x00000204 (0x0c60e584)
  110 0x00000204 (0x0c60e584)
  111 0x00000204 (0x0c60e584)
  112 0x00000204 (0x0c60e584)
  113 0x00000204 (0x0c60e584)
  114 0x00000204 (0x0c60e584)
  115 0x00000204 (0x0c60e584)
  116 0x00000204 (0x0c60e584)
  117 0x00000204 (0x0c60e584)
  118 0x00000204 (0x0c60e584)
  119 0x00000204 (0x0c60e584)
  120 0x00000204 (0x0c60e584)
  121 0x00000204 (0x0c60e584)
  122 0x00000204 (0x0c60e584)
  123 0x00000204 (0x0c60e584)
  124 0x00000204 (0x0c60e584)
  125 0x00000204 (0x0c60e584)
  126 0x00000204 (0x0c60e584)
  127 0x00000204 (0x0c60e584)
  128 0x00000204 (0x0c60e584)
  129 0x00000204 (0x0c60e584)
  130 0x00000204 (0x0c60e584)
  131 0x00000204 (0x0c60e584)
  132 0x00000204 (0x0c60e584)
  133 0x00000204 (0x0c60e584)
  134 0x00000204 (0x0c60e584)
  135 0x00000204 (0x0c60e584)
  136 0x00000204 (0x0c60e584)
  137 0x00000204 (0x0c60e584)
  138 0x00000204 (0x0c60e584)
  139 0x00000204 (0x0c60e584)
  140 0x00000204 (0x0c60e584)
  141 0x00000204 (0x0c60e584)
  142 0x00000204 (0x0c60e584)
  143 0x00000204 (0x0c60e584)
  144 0x00000204 (0x0c60e584)
  145 0x00000204 (0x0c60e584)
  146 0x00000204 (0x0c60e584)
  147 0x00000204 (0x0c60e584)
  148 0x00000204 (0x0c60e584)
  149 0x00000204 (0x0c60e584)
  150 0x00000204 (0x0c60e584)
  151 0x00000204 (0x0c60e584)
  152 0x00000204 (0x0c60e584)
  153 0x00000204 (0x0c60e584)
  154 0x00000204 (0x0c60e584)
  155 0x00000204 (0x0c60e584)
  156 0x00000204 (0x0c60e584)
  157 0x00000204 (0x0c60e584)
  158 0x00000204 (0x0c60e584)
  159 0x00000204 (0x0c60e584)
  160 0x00000204 (0x0c60e584)
  161 0x00000204 (0x0c60e584)
  162 0x00000204 (0x0c60e584)
  163 0x00000204 (0x0c60e584)
  164 0x00000204 (0x0c60e584)
  165 0x00000204 (0x0c60e584)
  166 0x00000204 (0x0c60e584)
  167 0x00000204 (0x0c60e584)
  168 0x00000204 (0x0c60e584)
  169 0x00000204 (0x0c60e584)
  170 0x00000204 (0x0c60e584)
  171 0x00000204 (0x0c60e584)
  172 0x00000204 (0x0c60e584)
  173 0x00000204 (0x0c60e584)
  174 0x00000204 (0x0c60e584)
  175 0x00000204 (0x0c60e584)
  176 0x00000204 (0x0c60e584)
  177 0x00000204 (0x0c60e584)
  178 0x00000204 (0x0c60e584)
  179 0x00000204 (0x0c60e584)
  180 0x00000204 (0x0c60e584)
  181 0x00000204 (0x0c60e584)
  182 0x00000204 (0x0c60e584)
  183 0x00000204 (0x0c60e584)
  184 0x00000204 (0x0c60e584)
  185 0x00000204 (0x0c60e584)
  186 0x00000204 (0x0c60e584)
  187 0x00000204 (0x0c60e584)
  188 0x00000204 (0x0c60e584)
  189 0x00000204 (0x0c60e584)
  190 0x00000204 (0x0c60e584)
  191 0x00000204 (0x0c60e584)
  192 0x00000204 (0x0c60e584)
  193 0x00000204 (0x0c60e584)
  194 0x00000204 (0x0c60e584)
  195 0x00000204 (0x0c60e584)
  196 0x00000204 (0x0c60e584)
  197 0x00000204 (0x0c60e584)
  198 0x00000204 (0x0c60e584)
  199 0x00000204 (0x0c60e584)
  200 0x00000204 (0x0c60e584)
0x00000204: -- no code accessible --
Modules: 

I cannot debug Skype further because it crashes immediately when being run under winedbg.

P.S. Make sure you deleted login.cab before trying to debug this issue (proper HTML support is not yet there see bug 28457).

Skype version: 6.21.32.104",2,"0"
"WINE-36598","valgrind shows a definite leak in windowscodecs/tests/tiffformat.c","==19240== 190 bytes in 1 blocks are definitely lost in loss record 402 of 566
==19240==    at 0x7BC4C6DF: notify_alloc (heap.c:255)
==19240==    by 0x7BC50F23: RtlAllocateHeap (heap.c:1716)
==19240==    by 0x7B8457FF: HeapAlloc (heap.c:271)
==19240==    by 0x7B845B34: GlobalAlloc (heap.c:388)
==19240==    by 0x4CD3788: create_stream (tiffformat.c:106)
==19240==    by 0x4CD3CCB: test_QueryCapability (tiffformat.c:187)
==19240==    by 0x4CD49C3: func_tiffformat (tiffformat.c:276)
==19240==    by 0x4CD57DA: run_test (test.h:584)
==19240==    by 0x4CD5BC9: main (test.h:654)
==19240== 

==19240== 8 bytes in 1 blocks are possibly lost in loss record 37 of 566
==19240==    at 0x7BC4C6DF: notify_alloc (heap.c:255)
==19240==    by 0x7BC50F23: RtlAllocateHeap (heap.c:1716)
==19240==    by 0x7B8457FF: HeapAlloc (heap.c:271)
==19240==    by 0x7B845AD4: GlobalAlloc (heap.c:376)
==19240==    by 0x4CD3788: create_stream (tiffformat.c:106)
==19240==    by 0x4CD3CCB: test_QueryCapability (tiffformat.c:187)
==19240==    by 0x4CD49C3: func_tiffformat (tiffformat.c:276)
==19240==    by 0x4CD57DA: run_test (test.h:584)
==19240==    by 0x4CD5BC9: main (test.h:654)
==19240==",21,"0"
"WINE-19266","POD and Caldari shuttle bad render","POD and Caldari shuttle have bad render (see screenshots for details).

See white oval in caldari shuttle (here is the bad render)

Sometime when the lights is more directly focused in the affected areas the affected parts render correctly but not always work ...

This was tested with clean .wine directory and clean Eve install...

Hardware conf:

Amd Phenom X4 9950 Black Edition 4GB Dominator 1066Mhz Corsair EVGA 9800 GTX+ in PCI-e 2.0 slot Wine 1.1.25 compiled nVidia driver 185.18.14 compiled Linux Kernel 2.6.28 (compiled) Audigy 2 ZS Platinum.",55,"0"
"WINE-23480","AD-muncher does not install","I wanted to try this program that I've used for years on win 2kpro it is an advert eater that works better than anything I tried on linux you just do not get ads coming up: quite a shock when I have to use a system with out it!
 Down loaded the program (http://www.admuncher.com/download.shtml) clicked on the file selected to run in wine (1.1.38 with fedora 13). The program's installer runs but gets nowhere. 
It would be good to have this running.
Thanks",472,"1"
"WINE-41212","Alt-Tab in full-screen on resolutions other than native causes a crash","In Starcraft II an Alt-Tab in full-screen mode on a resolution lower than native will cause the application to crash. Apparently Warcraft is also affected (unconfirmed).",963,"1"
"WINE-30071","Need a CreateTimerQueueTimer that is stable over time","Andrew Eikum's quick test in
http://www.winehq.org/pipermail/wine-devel/2012-February/094457.html
suggests that CreateTimerQueueTimer stabilizes itself over time on *average*.  For instance when asked for a 12ms period it will trigger 5 times within 60ms even though it is unable to trigger every 12ms. The deltas are:
20 10 10 10 10 20 10 10 10 10 ...

This is an essential property that it would share with winmm timers.

Both winealsa and wineoss today crucially depend on this property.  The XAudio2 algorithm described in bug #28723 either writes one or zero period worth of data per callback.  Hence it requires callbacks to agree with frame consumption by the audio device.  If too late XAudio2 will not catch up by writing 2 periods.

What currently happens is irregular crackling due to occasional underruns because callbacks are further and further delayed and the audio buffers slowly empties.  Compare timestamps from apps using winmm with mmdevapi:
winmm mmdevapi
x.304 x.304
x.315 x.315
x.324 x.326
x.334 x.336
x.346 x.348
x.354 x.359
winmm corrects itself and manages to trigger all 10ms events on the same millisecond as the initial one: x.xx4.

CTQT accumulates delays because as its core queue_timer_expire uses:
 [t->expire =] queue_current_time() + t->period

I've separated this issue from bug #28723 because the root cause is not an audio component and because several other bugs mention CreateTimerQueue e.g. bug #29585.",363,"1"
"WINE-8122","Command and Conqueror 3 renders incorrectly with >Low VFX detail","Command and Conqueror 3 renders incorrectly when VFX Detail is set to 
anything higher than Low. All other levels of graphic detail appear to 
render correctly (at least I don't see anything obviously wrong). For me all 
graphic sliders defaulted to the max.

wine-0.9.35-69-g55a18d7
Geforce 7950 GT / 9755 drivers

See attached screenshots.",590,"1"
"WINE-5528","Spiderman the movie demo crashes in a clipboard error.","After avoiding the introduction movies that don't display by pressing ESCAPE
the game crashes. It seems to be a clipboard error (see the attached trace).

Joaopa",6,"0"
"WINE-7098","msi doesn't publish/install some assemblies into GAC","Following up on a problem report at
http://groups.google.com/group/comp.emulators.ms-windows.wine/msg/d68a99b826bd0f68

RufzXP requires dot net 1.1 (so in a way it depends on bug 5358 
but really maybe we need a dotnet component in bugzilla).
So I ran http://kegel.com/wine/fakedotnet.sh
to create the needed registry entries and install mono
which should simulate dot net 1.1.
That let RufzXP for dot net 1.1 install.

However on startup it crashed with
call to unimplemented function mscoree.dll.CorBindToRuntimeEx aborting",1241,"1"
"WINE-34869","Microsoft Office 2013 full offline installer crashes on startup (TEB access with NULL TLS array pointer failure to handle case where only late-bound modules have TLS directory)","Hello folks

as the summary says...

--- snip ---
...
Unhandled exception: page fault on read access to 0x00000000 in 32-bit code
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:0063 GS:006b
 EIP:00b51ce1 ESP:0033c754 EBP:0033c77c EFLAGS:00010282(  R- --  I S - - - )
 EAX:00000000 EBX:00000000 ECX:00000000 EDX:00cdeac8
 ESI:00e4d2a0 EDI:00000001
Stack dump:
0x0033c754:  b97c320d 00000001 00e4d2a0 00000000
0x0033c764:  00e58a88 0033c78c 0033c714 0033c798
0x0033c774:  00c54f38 ffffffff 0033c7a4 00b51678
0x0033c784:  b97c32d5 00000001 00e4d2a0 00000000
0x0033c794:  0033c784 0033cf04 00c54e11 00000002
0x0033c7a4:  0033c7c0 00a5f68d 00000000 00e3ecf0
000c: sel=0067 base=00000000 limit=00000000 16-bit --x
Backtrace:
=>0 0x00b51ce1 in osetup (+0x3e1ce1) (0x0033c77c)
  1 0x00b51678 in osetup (+0x3e1677) (0x0033c7a4)
  2 0x00a5f68d in osetup (+0x2ef68c) (0x0033c7c0)
  3 0x00a42d02 in osetup (+0x2d2d01) (0x0033cee0)
  4 0x00a391d4 in osetup (+0x2c91d3) (0x0033cf10)
  5 0x009ae85c in osetup (+0x23e85b) (0x0033f5c4)
  6 0x1002d3c7 in setup (+0x2d3c6) (0x0033fcd4)
  7 0x1002b0c3 in setup (+0x2b0c2) (0x0033fd74)
  8 0x004027f2 in setup (+0x27f1) (0x0033fd90)
  9 0x00402eb2 in setup (+0x2eb1) (0x0033fe20)
  10 0x7b863d4c call_process_entry+0xb() in kernel32 (0x0033fe38) 
...
0x00b51ce1: movl	0x0(%eax%ecx4)%edi
Modules:
Module	Address			Debug info	Name (84 modules)
PE	  350000-  37f000	Deferred        osetupui
PE	  400000-  434000	Export          setup
PE	  770000-  e3b000	Export          osetup
PE	10000000-100d3000	Export          setup 
...
Threads:
process  tid      prio (all id:s are in hex)
...
00000023 (D) E:\setup.exe
	00000025    0
	00000024    0 <== 
--- snip ---

Crashing code:

--- snip ---
Wine-dbg>disas $EIP-0xC
0x00b51cd5: movl	%fs:0x2c%eax
0x00b51cdb: movl	0x00ce69d8%ecx
0x00b51ce1: movl	0x0(%eax%ecx4)%edi
--- snip ---

It's accessing a TEB with NULL TLS array pointer.

Wine's loader only allocates process-wide and per-thread structure for module TLS storage if at least one of the initial modules has a TLS directory (LdrInitializeThunk).
Unfortunately no early-bound module has TLS directory/section hence tls_module_count is zero.
The DLL in question is late bound -> MODULE_DllThreadAttach -> alloc_thread_tls -> (tls_module_count == 0).

Loader info for dll in question:

--- snip ---
...
0030:Call KERNEL32.LoadLibraryExW(00548640 LE:\\omui.id-id\\OSETUP.DLL0000000000001000) ret=1002c2db
...
0030:trace:module:load_native_dll Trying native dll LE:\\omui.id-id\\OSETUP.DLL
0030:trace:module:map_image mapped PE file at 0x770000-0xe3b000
0030:trace:module:map_image mapping section .text at 0x771000 off 400 size 51d200 virt 51d0e4 flags 60000020
0030:trace:module:map_image clearing 0xc8e200 - 0xc8f000
0030:trace:module:map_image mapping section .data at 0xc8f000 off 51d600 size 51400 virt 58d38 flags c0000040
0030:trace:module:map_image clearing 0xce0400 - 0xce1000
0030:trace:module:map_image mapping section .tls at 0xce8000 off 0 size 0 virt 9 flags c0000080
0030:trace:module:map_image mapping section .rsrc at 0xce9000 off 56ea00 size 118e00 virt 118db8 flags 40000040
0030:trace:module:map_image clearing 0xe01e00 - 0xe02000
0030:trace:module:map_image mapping section .reloc at 0xe02000 off 687800 size 38c00 virt 38bec flags 42000040
0030:trace:module:map_image clearing 0xe3ac00 - 0xe3b000
0030:trace:module:map_image relocating from 0x10000000-0x106cb000 to 0x770000-0xe3b000 
--- snip ---

$ wine --version
wine-1.7.5-336-gb43b7b6

Regards",47,"0"
"WINEHQ_BUGZILLA-2967","Mac OS X Versions not up to date in enter_bug.cgi?product=Wine","In the OS field version you have the choice between Mac OS X 10.0  Mac OS X 10.1  Mac OS X 10.2.
Mac OS X 10.3 Mac OS X 10.4 are out for some times now.

I suggest that it needs to be updated to add Mac OS X 10.3 Mac OS X 10.4 and a more general category 
Mac OS X - all version or something like that.",813,"1"
"WINE-23678","Crystal Cubes: fonts not drawn correctly","Created attachment 29641
screenshot showing the wrong fonts

Crystal Cubes is a freeware tetris clone in 3D. During gameplay text in the upper row ('Score Rows Level') is not displayed correctly. As if they were only partially drawn.
The text displayed correctly in Wine-1.0 and got messed up since 1.1.0.

Result of regression testing:

8a6628aea59f6f7ba0eb85d6a72297bbb72e7b85 is the first bad commit
commit 8a6628aea59f6f7ba0eb85d6a72297bbb72e7b85
Author: Dmitry Timoshkov 
Date:   Tue Jun 24 16:11:21 2008 +0900

    gdi32: Font scaling transform is performed separately.

:040000 040000 7cc89af320d454940bad8e8f73712eccf92a3919 7e4c02c7f5cb4715c20194183dafaacd61654202 M	dlls

The patch can only be reverted cleanly on 1.1.2 and that fixed the issue. 
Also after 'git checkout 8a6628aea59f6f7ba0eb85d6a72297bbb72e7b85' the fonts are messed.

and 'git revert 8a6628aea59f6f7ba0eb85d6a72297bbb72e7b85' brings back the original state.

Author of the patch added to CC.
Note: the game needs native msxml3 and d3dx9_36.dll to start properly.

Fedora 13
Wine-1.2
Nvidia 7600 series card / driver 195.36.31",12,"0"
"WINE-40386","wininet:url regression caused by new cross-compiler","The WineHQ upgrade changed the cross-compiler used to generate the reference WineTest executables. Since the upgrade the wininet:url 32 bit test has these failures on Windows XP + Internet Explorer 6:

url.c:507: Test failed: InternetCrackUrl returned 0 with GLE=87 (expected to return 0 and ERROR_INVALID_HANDLE or ERROR_INSUFFICIENT_BUFFER)
url.c:521: Test failed: InternetCrackUrl failed with 87
url.c:522: Test failed: lpszScheme was  instead of about
url.c:523: Test failed: lpszHostName was  instead of host
url.c:524: Test failed: lpszUrlPath was `ù instead of /blank

See:
https://test.winehq.org/data/tests/wininet:url.html
https://www.winehq.org/pipermail/wine-devel/2016-March/112371.html

I can reproduce the problem with this compiler:
$ i686-w64-mingw32-gcc --version
i686-w64-mingw32-gcc (GCC) 5.3.1 20160205

But if I recompile the tests with -O0 the failures go away which points to a compiler bug.
We need to either:
* Switch to a non buggy compiler to build the reference WineTest executables.
  (which might involve reporting the bug in the first place)

* Add 'CFLAGS = -g -O0' to the test's Makefile.in as a workaround.
  (preferably once we can point to a relevant compiler bug)

* Find some other nicer workaround in the C file.",259,"1"
"WINE-10391","Supreme Commander terrain is extremely low res","Worked fine in 0.9.48 in 0.9.49 however the terrain appears pixelated as if an extremely low res texture is being used.
I will attach screenshots and do a regression test later today.",24,"0"
"WINE-26884","Qlione demo crashes on launch","Created attachment 34278
terminal output

Qlione is an indie shooter game. It crashes just after launching. This didn't happen in Wine-1.3.15:

733f81ef7428e7cb9fe76671f8a56278cdaee867 is the first bad commit
commit 733f81ef7428e7cb9fe76671f8a56278cdaee867
Author: Stefan Dösinger 
Date:   Fri Mar 11 22:21:15 2011 +0100

    d3d8: Disallow z buffers smaller than the color buffer.

:040000 040000 9d689c39fbe39472e0c145a6e8eb8b25db719858 f0b81ce4948a3376f70beaa16be438f1515475a5 M	dlls

The patch can be reverted on wine-1.3.18-147-gf50ad12 and that fixed the problem.

Fedora 14
Nvidia GeForce 250 / driver 270.30",5,"0"
"WINE-29381","Sonic Generations: configuration tool turns into a zombie process when closed","Created attachment 38028
Sonic Generations Configuration tool console output

After choosing what hardware you have in the configuration tool for Sonic Generations you click save and quit the window closes but the process is still in process monitor and is a zombie process",1349,"1"
"WINE-9855","Red Alert: A Path Beyond crashes with a sound error","Created attachment 8331
 Wine console log

Red Alert: A Path Beyond crashes with an Unhandled Exception. Seems to be sound related but I might be wrong.",288,"1"
"WINE-39117","Cross-compilation: Error in zconf.h included from zlib.h included from http.c","Hello

I try to cross-compile wine-1.7.24 on Slackware 14.1:
$ make
i686-pc-mingw32-gcc -c -o http.o http.c -I. -I../../include -D__WINESRC__ -D_WINX32_ -D_REENTRANT -Wall -pipe \
  -fno-strength-reduce -fno-strict-aliasing -Wdeclaration-after-statement -Wempty-body \
  -Wignored-qualifiers -Wstrict-prototypes -Wtype-limits -Wunused-but-set-parameter -Wvla \
  -Wwrite-strings -Wpointer-arith -Wlogical-op -gdwarf-2 -gstrict-dwarf -fno-omit-frame-pointer \
  -g -O2 -D_WIN32
In file included from /usr/i686-pc-mingw32/include/zlib.h:34:0
                 from http.c:53:
/usr/i686-pc-mingw32/include/zconf.h:377:22: error: expected '=' '' '' 'asm' or '__attribute__' before 'Bytef'
    typedef Byte  FAR Bytef
                      ^
/usr/i686-pc-mingw32/include/zconf.h:379:19: error: expected '=' '' '' 'asm' or '__attribute__' before 'charf'
 typedef char  FAR charf
                   ^
/usr/i686-pc-mingw32/include/zconf.h:380:19: error: expected '=' '' '' 'asm' or '__attribute__' before 'intf'
 typedef int   FAR intf
                   ^
/usr/i686-pc-mingw32/include/zconf.h:381:19: error: expected '=' '' '' 'asm' or '__attribute__' before 'uIntf'
 typedef uInt  FAR uIntf
                   ^
/usr/i686-pc-mingw32/include/zconf.h:382:19: error: expected '=' '' '' 'asm' or '__attribute__' before 'uLongf'
 typedef uLong FAR uLongf
                   ^
/usr/i686-pc-mingw32/include/zconf.h:386:23: error: expected '=' '' '' 'asm' or '__attribute__' before '*' token
    typedef void FAR   *voidpf
                       ^
In file included from http.c:53:0:
/usr/i686-pc-mingw32/include/zlib.h:80:17: error: expected declaration specifiers or '...' before '*' token
 typedef voidpf (*alloc_func) OF((voidpf opaque uInt items uInt size))
                 ^
In file included from /usr/i686-pc-mingw32/include/zlib.h:34:0
                 from http.c:53:
/usr/i686-pc-mingw32/include/zlib.h:81:30: error: unknown type name 'voidpf'
 typedef void   (*free_func)  OF((voidpf opaque voidpf address))
                              ^
/usr/i686-pc-mingw32/include/zlib.h:81:30: error: unknown type name 'voidpf'
 typedef void   (*free_func)  OF((voidpf opaque voidpf address))
                              ^
In file included from http.c:53:0:
/usr/i686-pc-mingw32/include/zlib.h:86:13: error: unknown type name 'Bytef'
     z_const Bytef *next_in     /* next input byte */
             ^
/usr/i686-pc-mingw32/include/zlib.h:90:5: error: unknown type name 'Bytef'
     Bytef    *next_out /* next output byte should be put there */
     ^
/usr/i686-pc-mingw32/include/zlib.h:95:31: error: expected ':' '' '' '}' or '__attribute__' before '*' token
     struct internal_state FAR *state /* not visible by applications */
                               ^
/usr/i686-pc-mingw32/include/zlib.h:106:22: error: expected '=' '' '' 'asm' or '__attribute__' before '*' token
 typedef z_stream FAR *z_streamp
                      ^
/usr/i686-pc-mingw32/include/zlib.h:117:5: error: unknown type name 'Bytef'
     Bytef   *extra     /* pointer to extra field or Z_NULL if none */
     ^
/usr/i686-pc-mingw32/include/zlib.h:120:5: error: unknown type name 'Bytef'
     Bytef   *name      /* pointer to zero-terminated file name or Z_NULL */
     ^
/usr/i686-pc-mingw32/include/zlib.h:122:5: error: unknown type name 'Bytef'
     Bytef   *comment   /* pointer to zero-terminated comment or Z_NULL */
     ^
/usr/i686-pc-mingw32/include/zlib.h:129:23: error: expected '=' '' '' 'asm' or '__attribute__' before '*' token
 typedef gz_header FAR *gz_headerp
                       ^
In file included from /usr/i686-pc-mingw32/include/zlib.h:34:0
                 from http.c:53:
/usr/i686-pc-mingw32/include/zlib.h:246:29: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT deflate OF((z_streamp strm int flush))
                             ^
/usr/i686-pc-mingw32/include/zlib.h:353:32: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT deflateEnd OF((z_streamp strm))
                                ^
/usr/i686-pc-mingw32/include/zlib.h:392:29: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT inflate OF((z_streamp strm int flush))
                             ^
/usr/i686-pc-mingw32/include/zlib.h:508:32: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT inflateEnd OF((z_streamp strm))
                                ^
/usr/i686-pc-mingw32/include/zlib.h:587:42: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT deflateSetDictionary OF((z_streamp strm
                                          ^
/usr/i686-pc-mingw32/include/zlib.h:587:42: error: unknown type name 'Bytef'
 ZEXTERN int ZEXPORT deflateSetDictionary OF((z_streamp strm
                                          ^
/usr/i686-pc-mingw32/include/zlib.h:631:33: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT deflateCopy OF((z_streamp dest
                                 ^
/usr/i686-pc-mingw32/include/zlib.h:631:33: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT deflateCopy OF((z_streamp dest
                                 ^
/usr/i686-pc-mingw32/include/zlib.h:649:34: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT deflateReset OF((z_streamp strm))
                                  ^
/usr/i686-pc-mingw32/include/zlib.h:660:35: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT deflateParams OF((z_streamp strm
                                   ^
/usr/i686-pc-mingw32/include/zlib.h:681:33: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT deflateTune OF((z_streamp strm
                                 ^
/usr/i686-pc-mingw32/include/zlib.h:698:36: error: unknown type name 'z_streamp'
 ZEXTERN uLong ZEXPORT deflateBound OF((z_streamp strm
                                    ^
/usr/i686-pc-mingw32/include/zlib.h:713:36: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT deflatePending OF((z_streamp strm
                                    ^
/usr/i686-pc-mingw32/include/zlib.h:728:34: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT deflatePrime OF((z_streamp strm
                                  ^
/usr/i686-pc-mingw32/include/zlib.h:745:38: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT deflateSetHeader OF((z_streamp strm
                                      ^
/usr/i686-pc-mingw32/include/zlib.h:745:38: error: unknown type name 'gz_headerp'
 ZEXTERN int ZEXPORT deflateSetHeader OF((z_streamp strm
                                      ^
/usr/i686-pc-mingw32/include/zlib.h:819:42: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT inflateSetDictionary OF((z_streamp strm
                                          ^
/usr/i686-pc-mingw32/include/zlib.h:819:42: error: unknown type name 'Bytef'
 ZEXTERN int ZEXPORT inflateSetDictionary OF((z_streamp strm
                                          ^
/usr/i686-pc-mingw32/include/zlib.h:842:42: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT inflateGetDictionary OF((z_streamp strm
                                          ^
/usr/i686-pc-mingw32/include/zlib.h:842:42: error: unknown type name 'Bytef'
 ZEXTERN int ZEXPORT inflateGetDictionary OF((z_streamp strm
                                          ^
/usr/i686-pc-mingw32/include/zlib.h:857:33: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT inflateSync OF((z_streamp strm))
                                 ^
/usr/i686-pc-mingw32/include/zlib.h:876:33: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT inflateCopy OF((z_streamp dest
                                 ^
/usr/i686-pc-mingw32/include/zlib.h:876:33: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT inflateCopy OF((z_streamp dest
                                 ^
/usr/i686-pc-mingw32/include/zlib.h:892:34: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT inflateReset OF((z_streamp strm))
                                  ^
/usr/i686-pc-mingw32/include/zlib.h:902:35: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT inflateReset2 OF((z_streamp strm
                                   ^
/usr/i686-pc-mingw32/include/zlib.h:914:34: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT inflatePrime OF((z_streamp strm
                                  ^
/usr/i686-pc-mingw32/include/zlib.h:935:34: error: unknown type name 'z_streamp'
 ZEXTERN long ZEXPORT inflateMark OF((z_streamp strm))
                                  ^
/usr/i686-pc-mingw32/include/zlib.h:963:38: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT inflateGetHeader OF((z_streamp strm
                                      ^
/usr/i686-pc-mingw32/include/zlib.h:963:38: error: unknown type name 'gz_headerp'
 ZEXTERN int ZEXPORT inflateGetHeader OF((z_streamp strm
                                      ^
/usr/i686-pc-mingw32/include/zlib.h:1025:29: error: expected '' '' or ')' before '*' token
 typedef unsigned (*in_func) OF((void FAR *
                             ^
/usr/i686-pc-mingw32/include/zlib.h:1027:25: error: expected '' '' or ')' before '*' token
 typedef int (*out_func) OF((void FAR * unsigned char FAR * unsigned))
                         ^
/usr/i686-pc-mingw32/include/zlib.h:1029:33: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT inflateBack OF((z_streamp strm
                                 ^
/usr/i686-pc-mingw32/include/zlib.h:1029:33: error: unknown type name 'in_func'
 ZEXTERN int ZEXPORT inflateBack OF((z_streamp strm
                                 ^
/usr/i686-pc-mingw32/include/zlib.h:1029:33: error: expected '' '' or ')' before '*' token
 ZEXTERN int ZEXPORT inflateBack OF((z_streamp strm
                                 ^
/usr/i686-pc-mingw32/include/zlib.h:1099:36: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT inflateBackEnd OF((z_streamp strm))
                                    ^
/usr/i686-pc-mingw32/include/zlib.h:1160:30: error: unknown type name 'Bytef'
 ZEXTERN int ZEXPORT compress OF((Bytef *dest   uLongf *destLen
                              ^
/usr/i686-pc-mingw32/include/zlib.h:1160:30: error: unknown type name 'uLongf'
 ZEXTERN int ZEXPORT compress OF((Bytef *dest   uLongf *destLen
                              ^
/usr/i686-pc-mingw32/include/zlib.h:1160:30: error: unknown type name 'Bytef'
 ZEXTERN int ZEXPORT compress OF((Bytef *dest   uLongf *destLen
                              ^
/usr/i686-pc-mingw32/include/zlib.h:1174:31: error: unknown type name 'Bytef'
 ZEXTERN int ZEXPORT compress2 OF((Bytef *dest   uLongf *destLen
                               ^
/usr/i686-pc-mingw32/include/zlib.h:1174:31: error: unknown type name 'uLongf'
 ZEXTERN int ZEXPORT compress2 OF((Bytef *dest   uLongf *destLen
                               ^
/usr/i686-pc-mingw32/include/zlib.h:1174:31: error: unknown type name 'Bytef'
 ZEXTERN int ZEXPORT compress2 OF((Bytef *dest   uLongf *destLen
                               ^
/usr/i686-pc-mingw32/include/zlib.h:1197:32: error: unknown type name 'Bytef'
 ZEXTERN int ZEXPORT uncompress OF((Bytef *dest   uLongf *destLen
                                ^
/usr/i686-pc-mingw32/include/zlib.h:1197:32: error: unknown type name 'uLongf'
 ZEXTERN int ZEXPORT uncompress OF((Bytef *dest   uLongf *destLen
                                ^
/usr/i686-pc-mingw32/include/zlib.h:1197:32: error: unknown type name 'Bytef'
 ZEXTERN int ZEXPORT uncompress OF((Bytef *dest   uLongf *destLen
                                ^
/usr/i686-pc-mingw32/include/zlib.h:1569:31: error: unknown type name 'Bytef'
 ZEXTERN uLong ZEXPORT adler32 OF((uLong adler const Bytef *buf uInt len))
                               ^
/usr/i686-pc-mingw32/include/zlib.h:1600:31: error: unknown type name 'Bytef'
 ZEXTERN uLong ZEXPORT crc32   OF((uLong crc const Bytef *buf uInt len))
                               ^
/usr/i686-pc-mingw32/include/zlib.h:1633:34: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT deflateInit_ OF((z_streamp strm int level
                                  ^
/usr/i686-pc-mingw32/include/zlib.h:1635:34: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT inflateInit_ OF((z_streamp strm
                                  ^
/usr/i686-pc-mingw32/include/zlib.h:1637:35: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT deflateInit2_ OF((z_streamp strm int  level int  method
                                   ^
/usr/i686-pc-mingw32/include/zlib.h:1641:35: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT inflateInit2_ OF((z_streamp strm int  windowBits
                                   ^
/usr/i686-pc-mingw32/include/zlib.h:1643:38: error: unknown type name 'z_streamp'
 ZEXTERN int ZEXPORT inflateBackInit_ OF((z_streamp strm int windowBits
                                      ^
/usr/i686-pc-mingw32/include/zlib.h:1643:38: error: expected '' '' or ')' before '*' token
 ZEXTERN int ZEXPORT inflateBackInit_ OF((z_streamp strm int windowBits
                                      ^
In file included from http.c:53:0:
/usr/i686-pc-mingw32/include/zlib.h:1748:27: error: expected '=' '' '' 'asm' or '__attribute__' before '*' token
 ZEXTERN const z_crc_t FAR * ZEXPORT get_crc_table    OF((void))
                           ^
In file included from /usr/i686-pc-mingw32/include/zlib.h:34:0
                 from http.c:53:
/usr/i686-pc-mingw32/include/zlib.h:1749:49: error: expected ')' before 'int'
 ZEXTERN int            ZEXPORT inflateUndermine OF((z_streamp int))
                                                 ^
http.c: In function 'gzip_read':
http.c:471:26: warning: assignment from incompatible pointer type
         zstream->next_in = gzip_stream->buf+gzip_stream->buf_pos
                          ^
http.c:473:27: warning: assignment from incompatible pointer type
         zstream->next_out = buf+ret_read
                           ^
http.c:475:9: warning: implicit declaration of function 'inflate' [-Wimplicit-function-declaration]
         zres = inflate(
         ^
http.c:479:51: error: invalid operands to binary - (have 'int *' and 'BYTE *')
         gzip_stream->buf_size -= zstream->next_in - (gzip_stream->buf+gzip_stream->buf_pos)
                                                   ^
http.c:480:48: error: invalid operands to binary - (have 'int *' and 'BYTE *')
         gzip_stream->buf_pos = zstream->next_in-gzip_stream->buf
                                                ^
http.c:484:13: warning: implicit declaration of function 'inflateEnd' [-Wimplicit-function-declaration]
             inflateEnd(zstream)
             ^
http.c: At top level:
http.c:526:8: error: unknown type name 'voidpf'
 static voidpf wininet_zalloc(voidpf opaque uInt items uInt size)
        ^
http.c:526:30: error: unknown type name 'voidpf'
 static voidpf wininet_zalloc(voidpf opaque uInt items uInt size)
                              ^
http.c:531:27: error: unknown type name 'voidpf'
 static void wininet_zfree(voidpf opaque voidpf address)
                           ^
http.c:531:42: error: unknown type name 'voidpf'
 static void wininet_zfree(voidpf opaque voidpf address)
                                          ^
http.c: In function 'init_gzip_stream':
http.c:546:25: error: 'z_stream' has no member named 'zalloc'
     gzip_stream->zstream.zalloc = wininet_zalloc
                         ^
http.c:546:35: error: 'wininet_zalloc' undeclared (first use in this function)
     gzip_stream->zstream.zalloc = wininet_zalloc
                                   ^
http.c:546:35: note: each undeclared identifier is reported only once for each function it appears in
http.c:547:25: error: 'z_stream' has no member named 'zfree'
     gzip_stream->zstream.zfree = wininet_zfree
                         ^
http.c:547:34: error: 'wininet_zfree' undeclared (first use in this function)
     gzip_stream->zstream.zfree = wininet_zfree
                                  ^
http.c:549:5: warning: implicit declaration of function 'inflateInit2_' [-Wimplicit-function-declaration]
     zres = inflateInit2(
     ^
make: *** [http.o] Error 1

Any idea how to fix that?

Thank you.
Best regards.",1,"0"
"WINE-18264","AutoCAD 2008: QuickCalc doesn't show up","Created attachment 20789
 How should it looks like

I'm using Wine 1.1.20 (compiled from source using gcc version 4.3.2 20081105 (Red Hat 4.3.2-7) ) on Fedora 10 i386. I've got installed corefonts dotnet20 gdiplus gecko msxml3 vcrun2003 through winetricks.

The problem is with QuickCalc in AutoCAD 2008. It doesn't show up. It does hang AutoCAD when i try to run it from toolbar but doesn't hang AutoCAD when i run it from popup menu.

In terminal there were:
err:listview:LISTVIEW_WindowProc unknown msg 2008 wp=00000000 lp=00000000",197,"0"
"WINE-11100","%RANDOM% in CMD is anything but","It seems that every time I run the following command

wine cmd.exe /c echo %RANDOM%

the returned value is 30836 every time.",1,"0"
"WINE-12345","Live For Speed S2: could not detect suitable screen modes","Live For Speed S2 (version 'Y') can't start and produces error window could not detect any suitable screen modes.

wine LFS.exe 
fixme:win:EnumDisplayDevicesW ((null)00x33f8440x00000000) stub!",325,"1"
"WINE-2364","Compile failure on Mac OS X 10.3.4","Thi sis really 10.3.x but you don't have an OS category for that. I'm not sure what component this 
failure building glu32.dll would be considered.

[michael@namaste wine-20040615]$ uname -a
Darwin namaste.local 7.4.0 Darwin Kernel Version 7.4.0: Wed May 12 16:58:24 PDT 2004 root:xnu/
xnu-517.7.7.obj~7/RELEASE_PPC  Power Macintosh powerpc

[michael@namaste wine-20040615]$ gcc -v
Reading specs from /usr/libexec/gcc/darwin/ppc/3.3/specs
Thread model: posix
gcc version 3.3 20030304 (Apple Computer Inc. build 1495)

[michael@namaste wine-20040615]$ make depend && make
[...]
../../tools/winegcc/winegcc -B../../tools/winebuild -shared ./glu32.spec    glu.o  glu32.dll.dbg.o   -o 
glu32.dll.so -L../../dlls  -lkernel32 -lntdll -L../../libs/wine -lwine -L/usr/X11R6/lib  -lSM -lICE 
-lXxf86vm -lXv -lXext -lX11  -lGL -lGLU -L../../libs/port -lwine_port  -lpoll 
/var/tmp//ccZh9PUV.s:379:Unknown pseudo-op: .size
/var/tmp//ccZh9PUV.s:379:Rest of line ignored. 1st junk character valued 95 (_).
/var/tmp//ccZh9PUV.s:380:Unknown pseudo-op: .size
/var/tmp//ccZh9PUV.s:380:Rest of line ignored. 1st junk character valued 95 (_).
winegcc: gcc failed.
make[2]: *** [glu32.dll.so] Error 2
make[1]: *** [glu32] Error 2
make: *** [dlls] Error 2

As an aside configure fails too complaining that libGL.a is present. It's pretty unfortunate that you 
have to remove a system library to get Wine to compile.",324,"1"
"WINE-17195","Multiple applications and games need support for named pipe message mode (NamedPipe datagrams need to be _really_ datagrams)","ok after a little bit of investigation i think i understand the pipes code enough to be able to say what's going on and i'm seeing something like this:

process 1:

recvpipe = CreateNamedPipe(\\pipe\fred)
ReadFile(recvpipe buffer 
printf(length) ===> 43
ReadPipe(recvpipe buffer  /* no data */

process 2:

sendpipe = CreateNamedPipe(\\pipe\fred)
length = 9
WriteFile(sendpipe buffer 
length = 34
WriteFile(sendpipe buffer 


what's happening is that the data being sent down the pipes isn't being done as datagrams.  the implementation is using a stream-based fd.

the solution is: you _must_ implement a protocol on top of the pipes which sends the length (as a 32-bit int whatever) which is read off the fd followed by the data stream of _exactly_ that length.

_must_.  there's no two ways about this.

the protocol of Pipes is unfortunately a combination of both datagrams and streams.  datagrams because the lengths of data sent are absolute and inviolate.  streams because the data order and reliability are _also_ absolute and inviolate.

you can't use datagrams (because they're unreliable).  you can't expect all unixen to support datagrams on top of unix sockets (if that's what's being used).

so - you have to send the length as part of the implementation of the pipe-data-send.

sending a length will also solve the issue of trying to send zero-length pipe datagrams.

as a first implementation you _might_ be able to get away with assuming that when someone asks for some data they _will_ provide a buffer big enough.

... actually... i don't see any ERR_MORE_DATA error codes in NtReadFile so that would explain... this is going to get messy :)",2978,"1"
"WINE-19211","netconn_set_timeout() is unused in winhttp","dlls/winhttp/net.c defines a netconn_set_timeout() however it is not used. According to the following thread it should be called by WinHttpSetTimeouts().

http://www.winehq.org/pipermail/wine-devel/2009-January/071812.html",1,"0"
"WINE-5354","unable to install Installshield Scripting Runtime","MSG is: 1607: Unable to installInstallshield Scripting Runtime 


This is the installer for the game Line of Sight: Vietnam
Im sure i can install this with msiexec(didnt test it yet) but wine should
handle a setup.exe.

fixme:msi:MsiGetProductInfoW L{D9518C0C-3263-4882-93D6-B0F3935BED6B}
LPackageCode 0x7fd39018 0x7fbbd864
fixme:msi:MsiInstallProductW LD:\\ISScript8.Msi LREBOOT=ReallySuppress
ADDLOCAL=All
fixme:msi:MSI_OpenDatabaseW open failed r = 8003001e!",39,"0"
"WINE-20485","Uninitialised memory reference in FTP_DoPassive","(Found via
http://kegel.com/wine/valgrind/logs/2009-10-26-08.26/diff-mshtml_htmllocation.txt )

http://kegel.com/wine/valgrind/logs/2009-10-26-08.26/vg-mshtml_htmllocation.txt
shows

 Conditional jump or move depends on uninitialised value(s)
    at  FTP_DoPassive (ftp.c:3028)
  Uninitialised value was created by a client request
    at  mark_block_uninitialized (heap.c:187)
    by  RtlAllocateHeap (heap.c:1429)
    by  INTERNET_AllocThreadError (internet.c:3050)
    by  INTERNET_GetResponseBuffer (internet.c:3174)
    by  FTP_DoPassive (ftp.c:3019)

I suspect it's the unconditional skip of four bytes...
maybe that skips over the terminating null sometimes.

   3027    p = lpszResponseBuffer+4 /* skip status code */
   3028    while (*p != '\0' 

The code is not new but the error is so maybe this only happens
if there's a network error.",1680,"1"
"WINE-35359","Kompas-3D v14 installer fails","Created attachment 47166
Complete terminal output

Installation of Kompas-3D v14 crashes.

Download link to a free version of the program: http://download.ascon.ru/public/Kompas-3D_V14/SP1_x86/Base/KOMPAS-3D_V14_SP1.7z

Any help will be very appreciated.

-- System Information:
Debian Release: 7.3
  APT prefers stable
  APT policy: (990 'stable') (500 'stable-updates') (500 'proposed-updates') (500 'unstable') (500 'testing')
Architecture: amd64 (x86_64)
Foreign Architectures: i386

Kernel: Linux 3.2.0-4-amd64 (SMP w/4 CPU cores)
Locale: LANG=ru_RU.utf8 LC_CTYPE=ru_RU.utf8 (charmap=UTF-8)
Shell: /bin/sh linked to /bin/dash

Versions of packages wine-unstable depends on:
ii  wine32-unstable  1.7.10-0.1
ii  wine64-unstable  1.7.10-0.1

wine-unstable recommends no packages.

Versions of packages wine-unstable suggests:
pn  avscan | klamav | clamav   
ii  binfmt-support             2.0.12
ii  ttf-mscorefonts-installer  3.5
ii  winbind                    2:4.1.3+dfsg-2
pn  wine-doc",71,"0"
"WINE-461","Implement processing for SystemParametersInfo actions with id>=115","Just added FIXME messages for SystemParametersInfo actions with id>=115.
These actions are for Windows vesions Windows 98 Windows 2000 or later. To test
your implementation you need such Windows version. You can find description of
actions on MSDN.

The processing is fairy simple - look at the processing of the actions already
implemented (see windows/sysparams.c). At least you need to save to the registry
and restore from registry the system parameter value - basic implementation for
most actions. 

Also don't forget to create unit test for your implementations (see
dlls/user/tests/sysparams.c). Note the tests must check version of Windows.",1306,"1"
"WINE-26927","iTunes 10.2.2 store homepage is black","The homepage of the iTunes Store goes black making it impossible a normal navigation in the apps movies and books.",1036,"1"
"WINE-19174","Plants vs Zombies is way too slow","Created attachment 22160
Console output

After installing Plants VS Zombies using Wine 1.1.25 the game take a lot to start is really slow just showing main screen.

There's a lot of this messages in the console:
fixme:d3d_surface:fb_copy_to_texture_direct Doing a pixel by pixel copy from the framebuffer to a texture expect major performance issues",64,"0"
"WINE-41432","Keyboard input code display program (Japanese VB6 application) doesn't run.","Keyboard input code display program is a Japanese VB6 application. It shows keyboard scan code information etc. on native (Windows). However on wine environment it shows insufficient memory error (メモリが不足しています。終了します。) and doesn't run.",6,"0"
"WINE-17535","Visio 2007 Service Pack 1 installer fails","Created attachment 19668
Visio2007 sp1 faillog

Hi. 
On an Ubuntu 8.10 x86_64 system using latest wine 1.1.15 I could successfully install Office Visio 2007.

But as soon as I open a VSD file it closes (crash). I thaught installing visio 2007 sp1 would solve the probelm.

I've dled the service pack from
http://www.microsoft.com/downloads/details.aspx?FamilyID=496BC7C1-ABD7-4BC7-8366-B8A4CC85803B&displayLang=en
and sarted it. Unfortunately the installer fails in the middle of the isntalation.
I've used winetricks before to enchance my wine using these options:

riched20 vb6run wininet vcrun2005sp1 vcrun2008 winxp volnum fakeie6 allfonts ie6 vcrun6 gdiplus directx9 wsh56 msxml6 mdac28 vcrun2005 urlmon msxml4 msxml6 mfc40 hosts fontfix dotnet20

I've attached the trace. 

Any ideas? Thank you.",841,"1"
"WINE-2434","no classfactory created for CLSID","fixme:ole:CoCreateInstance no classfactory created for CLSID
{0002df01-0000-0000-c000-000000000046} hres is 0x80040150",692,"1"
"WINE-30577","Spartan demo: badly displayed main menu screen mostly black","Created attachment 40007
Screenshot wine 1.5.3

Main game menu screen is mainly black (with sometimes some small display artefact on the right of the screen).
Only the menu labels are displayed.

Ubuntu 11.10 x86_64 nvidia 295.40

Full log
--------
fixme:win:EnumDisplayDevicesW ((null)00x32f6280x00000000) stub!
fixme:d3d_surface:surface_init Trying to create a render target that isn't in the default pool.
fixme:d3d_surface:wined3d_surface_flip Ignoring flags 0x1.
fixme:console:CONSOLE_DefaultHandler Terminating process 8 on event 0
err:mmtime:TIME_MMTimeStop Timer still active?!",625,"1"
"WINE-21357","Missing toolbar icons in HTML-Kit","Created attachment 25715
Terminal output

In HTML-Kit build 292 some of the icons in the upper toolbar are missing. (only when they can't be used?) They may reappear if switching to a different view selecting text etc. Though they seem similar I'm guessing this is different from bug 21356 since native comctl32 helps that issue but not this one.

Terminal output is from opening the program and choosing create a new file. (It's the same as the terminal output as for the aforementioned bug.) If it's of any use I've also attached an image comparing how Wine and Windows XP render the toolbar to that bug.",35,"0"
"WINE-4887","unimplemented fn usp10.ScriptStringOut","Versions 2.2.x and up of Abiword fail to run on Wine
and complain:
err:dc:CreateDCW no device found for L0
fixme:uniscribe:ScriptStringAnalyse
(0x16c00x106231d812-10x800(nil)(nil)(nil)(nil)(nil)0x7fb1f460): stub
wine: Call from 0x7fcbaa00 to unimplemented function usp10.dll.ScriptStringOut
aborting

They also complain
err:bitmap:X11DRV_DIB_BuildColorMap called with >256 colors!
but so did version 2.0.x.",110,"0"
"WINE-30206","Doom Builder 2: fails to initialize graphics when opening a map","Doom Builder 2 is a .Net 2.0 application which used to work fairly well in Wine 1.3.36 and .37
* http://appdb.winehq.org/objectManager.php?sClass=version&iId=12221

Now with 1.4 the app still installs fine (after winetricks dotnet20) however opening a map displays an error Unable to initialize Direct3D video device and the following terminal output:

err:d3d:context_create wglSwapIntervalEXT failed to set swap interval 0 for context 0x200cc8 last error 0x591

If you need a wadfile to test you can get one from the GPL-licensed Freedoom.
* http://www.nongnu.org/freedoom/",235,"1"
"WINE-39190","Ableton Live 9: Adding Impulse/Backbeat Room instrument causes a crash on unimplemented function msvcr120.dll.fminf","On the Ableton 9 trial (32 bit version).   It dies with the error if you add the instrument Impulse/Backbeat Room

wine: Call from 0x7b83bfee to unimplemented function msvcr120.dll.fminf


Here is a video of triggering the bug
http://youtu.be/02gj_SpzteY



Notes - I don't have Jack audio setup this is running with the pulseaudio backend - no idea if that matters here.



Download for 32 bit ableton trial

https://www.ableton.com/en/download/?os_arch=win&release_article_code=BuSu90DiDe------DL1E--__--&language=en



OS:  Ubuntu 15.04 - 64 bit.
Hardware:  Asus N56VZ",12,"0"
"WINE-8491","Library tab in winecfg crashes winecfg","Library tab in winecfg crashes winecfg.

Steps to reproduce:
1. type winecfg in console. Then GUI should pop-up
2. click on library tab.

What should have happened:
winecfg should have switched to the library tab.

What happened:
Winecfg crashed and gave this error message in console after debugging.

matthew@matthew-desktop:~$ winecfg
libraries.c:162: mode_to_label: Assertion `0' failed.
wine: Assertion failed at address 0xffffe410 (thread 0009) starting debugger...
Unhandled exception: assertion failed in 32-bit code (0xffffe410).
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:0033 GS:003b
 EIP:ffffe410 ESP:0033e7d0 EBP:0033e7e8 EFLAGS:00200206(   - 00      - -IP1)
 EAX:00000000 EBX:00000395 ECX:00000395 EDX:00000006
 ESI:0033e888 EDI:b7e83ff4
Stack dump:
0x0033e7d0:  0033e7e8 00000006 00000395 b7d70df0
0x0033e7e0:  b7e83ff4 b7d426c0 0033e914 b7d72641
0x0033e7f0:  00000006 0033e888 00000000 00000068
0x0033e800:  7c103400 00000000 00000000 b7dabdfd
0x0033e810:  0033e84c 7c103400 7c103464 0033e924
0x0033e820:  b7e83ff4 00000036 00000037 0033e8f8
Backtrace:
=>1 0xffffe410 (0x0033e7e8)
  2 0xb7d72641 abort+0x101() in libc.so.6 (0x0033e914)
  3 0xb7d6a43b __assert_fail+0xfb() in libc.so.6 (0x0033e958)
  4 0x7ee39dc3 in winecfg (+0x9dc3) (0x0033e9b8)
  5 0x7ee3a3f4 LibrariesDlgProc+0x324() in winecfg (0x0033ef08)
  6 0x7ebb15da WINPROC_wrapper+0x1a() in user32 (0x0033ef38)
  7 0x7ebb3488 in user32 (+0xa3488) (0x0033ef78)
  8 0x7ebb6cda WINPROC_CallDlgProcW+0x5a() in user32 (0x0033efb8)
  9 0x7eb46afa DefDlgProcW+0x8a() in user32 (0x0033efe8)
  10 0x7ebb15da WINPROC_wrapper+0x1a() in user32 (0x0033f018)
  11 0x7ebb1d0e in user32 (+0xa1d0e) (0x0033f058)
  12 0x7ebb6dd3 CallWindowProcW+0x53() in user32 (0x0033f098)
  13 0x7eb7e5f8 in user32 (+0x6e5f8) (0x0033f108)
  14 0x7eb82350 SendMessageTimeoutW+0x1a0() in user32 (0x0033f178)
  15 0x7eb823c0 SendMessageW+0x50() in user32 (0x0033f1b8)
  16 0x7e8801b5 in comctl32 (+0x501b5) (0x0033f268)
  17 0x7e88240f in comctl32 (+0x5240f) (0x0033f5a8)
  18 0x7ebb15da WINPROC_wrapper+0x1a() in user32 (0x0033f5d8)
  19 0x7ebb3488 in user32 (+0xa3488) (0x0033f618)
  20 0x7ebb6cda WINPROC_CallDlgProcW+0x5a() in user32 (0x0033f658)
  21 0x7eb46afa DefDlgProcW+0x8a() in user32 (0x0033f688)
  22 0x7ebb15da WINPROC_wrapper+0x1a() in user32 (0x0033f6b8)
  23 0x7ebb1d0e in user32 (+0xa1d0e) (0x0033f6f8)
  24 0x7ebb6dd3 CallWindowProcW+0x53() in user32 (0x0033f738)
  25 0x7eb7e5f8 in user32 (+0x6e5f8) (0x0033f7a8)
  26 0x7eb82350 SendMessageTimeoutW+0x1a0() in user32 (0x0033f818)
  27 0x7eb823c0 SendMessageW+0x50() in user32 (0x0033f858)
  28 0x7e89405a in comctl32 (+0x6405a) (0x0033f898)
  29 0x7e898cbc in comctl32 (+0x68cbc) (0x0033f998)
  30 0x7ebb15da WINPROC_wrapper+0x1a() in user32 (0x0033f9c8)
  31 0x7ebb1d0e in user32 (+0xa1d0e) (0x0033fa08)
  32 0x7ebb6dd3 CallWindowProcW+0x53() in user32 (0x0033fa48)
  33 0x7eb7eafb DispatchMessageW+0x15b() in user32 (0x0033fa88)
  34 0x7eb4d72b IsDialogMessageW+0xfb() in user32 (0x0033fbe8)
  35 0x7e88363d in comctl32 (+0x5363d) (0x0033fc38)
  36 0x7e883f15 PropertySheetW+0x265() in comctl32 (0x0033fca8)
  37 0x7ee3b064 WinMain+0x364() in winecfg (0x0033fe58)
  38 0x7ee40b03 main+0xa3() in winecfg (0x0033fed8)
  39 0x7ee40a2b in winecfg (+0x10a2b) (0x0033ff08)
  40 0x7b873d5e in kernel32 (+0x53d5e) (0x0033ffe8)
  41 0xb7eb8877 wine_switch_to_stack+0x17() in libwine.so.1 (0x00000000)
0xffffe410: popl        %ebp
Modules:
Module  Address                 Debug info      Name (82 modules)
ELF     7b800000-7b927000       Export          kernel32
  \-PE  7b820000-7b927000       \               kernel32
ELF     7bc00000-7bc97000       Deferred        ntdll
  \-PE  7bc10000-7bc97000       \               ntdll
ELF     7bf00000-7bf03000       Deferred        
ELF     7d1e1000-7d1f6000       Deferred        midimap
  \-PE  7d1f0000-7d1f6000       \               midimap
ELF     7d1f6000-7d21c000       Deferred        msacm32
  \-PE  7d200000-7d21c000       \               msacm32
ELF     7d21c000-7d258000       Deferred        wineoss
  \-PE  7d220000-7d258000       \               wineoss
ELF     7d258000-7d2a9000       Deferred        libgcrypt.so.11
ELF     7d2a9000-7d2be000       Deferred        libtasn1.so.3
ELF     7d2be000-7d2ec000       Deferred        libcrypt.so.1
ELF     7d2ec000-7d35c000       Deferred        libgnutls.so.13
ELF     7d35c000-7d38d000       Deferred        libcups.so.2
ELF     7d652000-7d66a000       Deferred        msacm32
  \-PE  7d660000-7d66a000       \               msacm32
ELF     7d674000-7d678000       Deferred        libgpg-error.so.0
ELF     7d67a000-7d67f000       Deferred        libxfixes.so.3
ELF     7d67f000-7d688000       Deferred        libxcursor.so.1
ELF     7d688000-7d6a5000       Deferred        imm32
  \-PE  7d690000-7d6a5000       \               imm32
ELF     7d6a5000-7d6ab000       Deferred        libxrandr.so.2
ELF     7d6ab000-7d6b3000       Deferred        libxrender.so.1
ELF     7d6b3000-7d6b6000       Deferred        libxinerama.so
ELF     7d9df000-7e265000       Deferred        libglcore.so.1
ELF     7e265000-7e2f1000       Deferred        libgl.so.1
ELF     7e2f1000-7e2f6000       Deferred        libxdmcp.so.6
ELF     7e2f6000-7e2f9000       Deferred        libxau.so.6
ELF     7e2f9000-7e3ea000       Deferred        libx11.so.6
ELF     7e3ea000-7e3f8000       Deferred        libxext.so.6
ELF     7e3f8000-7e3fd000       Deferred        libxxf86vm.so.1
ELF     7e3fd000-7e415000       Deferred        libice.so.6
ELF     7e415000-7e41e000       Deferred        libsm.so.6
ELF     7e41e000-7e4ad000       Deferred        winex11
  \-PE  7e430000-7e4ad000       \               winex11
ELF     7e545000-7e565000       Deferred        libexpat.so.1
ELF     7e565000-7e590000       Deferred        libfontconfig.so.1
ELF     7e590000-7e5a4000       Deferred        libz.so.1
ELF     7e5a4000-7e60f000       Deferred        libfreetype.so.6
ELF     7e60f000-7e641000       Deferred        uxtheme
  \-PE  7e620000-7e641000       \               uxtheme
ELF     7e641000-7e6d0000       Deferred        winmm
  \-PE  7e650000-7e6d0000       \               winmm
ELF     7e6d0000-7e6e3000       Deferred        libresolv.so.2
ELF     7e6e3000-7e701000       Deferred        iphlpapi
  \-PE  7e6f0000-7e701000       \               iphlpapi
ELF     7e701000-7e756000       Deferred        rpcrt4
  \-PE  7e710000-7e756000       \               rpcrt4
ELF     7e756000-7e7f3000       Deferred        ole32
  \-PE  7e770000-7e7f3000       \               ole32
ELF     7e7f3000-7e826000       Deferred        winspool
  \-PE  7e800000-7e826000       \               winspool
ELF     7e826000-7e8e2000       Export          comctl32
  \-PE  7e830000-7e8e2000       \               comctl32
ELF     7e8e2000-7e929000       Deferred        advapi32
  \-PE  7e8f0000-7e929000       \               advapi32
ELF     7e929000-7e935000       Deferred        libgcc_s.so.1
ELF     7ea30000-7eaef000       Deferred        gdi32
  \-PE  7ea50000-7eaef000       \               gdi32
ELF     7eaef000-7ec2b000       Export          user32
  \-PE  7eb10000-7ec2b000       \               user32
ELF     7ec2b000-7ec83000       Deferred        shlwapi
  \-PE  7ec40000-7ec83000       \               shlwapi
ELF     7ec83000-7ed7e000       Deferred        shell32
  \-PE  7ec90000-7ed7e000       \               shell32
ELF     7ed7e000-7ee1e000       Deferred        comdlg32
  \-PE  7ed90000-7ee1e000       \               comdlg32
ELF     7ee1e000-7ee81000       Export          winecfg
  \-PE  7ee30000-7ee81000       \               winecfg
ELF     7ef93000-7ef9e000       Deferred        libnss_files.so.2
ELF     7ef9e000-7efa8000       Deferred        libnss_nis.so.2
ELF     7efa8000-7efbf000       Deferred        libnsl.so.1
ELF     7efbf000-7efc8000       Deferred        libnss_compat.so.2
ELF     7efc8000-7efef000       Deferred        libm.so.6
ELF     7efef000-7eff1000       Deferred        libnvidia-tls.so.1
ELF     b7d43000-b7d47000       Deferred        libdl.so.2
ELF     b7d47000-b7e88000       Export          libc.so.6
ELF     b7e89000-b7ea0000       Deferred        libpthread.so.0
ELF     b7eb1000-b7fc2000       Export          libwine.so.1
ELF     b7fc4000-b7fdf000       Deferred        ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
0000000a 
        0000000c    0
        0000000b    0
00000008 (D) c:\windows\system32\winecfg.exe
        00000009    0 <==",361,"1"
"WINE-22941","New behaviour of wineconsole (Alt+F4 emulation by [x] button pressing) causes problems with FAR manager","In 1.2-rc2 under KDE 3.5.9 (Mandriva 2008.1) an incorrect behaviour of FAR Manager 1.70 is found. This problem is new even 1.2-rc1 has it not. FAR manager is a win32 console norton-like file manager wich can be used under wine using wineconsole. Like other two-panel file managers FAR supports own hot keys which not always are the same as the standard hot keys in MSWindows. E.g. Alt+F4 is for FAR not a command for closing but for editing a file. In native MSWindows there are exist two ways to terminate FAR: 1) F10 key causes internal terminating of application with a prompt dialog auto-saving of preferences etc. 2) Clicking on the Close button [x] on the top of the border of console window causes terminating of FAR immediately (that can be useful to preserve default settings etc). Before the last WINE release-candidate the behaviour of WINECONSOLE was the same as of the native MSWindow console and I could quickly terminate FAR using KDE-made [x] button. Now clicking [x] (Standard Close Button on the right-top of KDE window containing WINECONSOLE) causes an emulation of a pressing of Alt+F4. At result the FAR manager does not terminate but opens a current file for edit. That is a wrong behaviour wich can cause different problems for console applications with non-standard hot keys (Maybe introducing a possibility to customize the handling of the standard WINECONSOLE buttons could be also a good solution).",18,"0"
"WINE-28910","cnet download app never gets past loading screen","Terminal shows:
fixme:msxml:ClassFactory_QueryInterface interface {342d1ea0-ae25-11d1-89c5-006008c3fbfc} not implemented

winetricks -q msxml3 works around it.

You'll need native ie6 (not ie7!) to get this far see bug 28601.",4,"0"
"WINE-13109","Error during install after compile from source","Perhaps this should not really be listed under major  -  it doesn't seem to be a show stopper.

For the first time ever there were problems in compiling and installing WINE from source (I've been doing it for years and verson 0.9.59 went OK).  I think the compile went OK and the problem was with the install:  ./tools/wineinstall


I'm running Fedora core 5 (I know it's old) on a Thinkpad T30.

The install never finished ... I tried a couple of ^C's & when nothing seemed to happen I finally killed the window.  

The programs I've tried to run seem to run OK but load VERY slowly.  Especially program WXtide32 loads a LOT more slowly than before.





Here is the output from the latter part of the install

.........
make[2]: Leaving directory `/mnt/hda7/jdoutt/download/wine/wine-0.9.61/tools/wrc'
/usr/bin/install -c   ./winemaker /usr/local/bin/winemaker
/usr/bin/install -c  -m 644  winemaker.man /usr/local/share/man/man1/winemaker.1
make[1]: Leaving directory `/mnt/hda7/jdoutt/download/wine/wine-0.9.61/tools'

err:winedevice:ServiceMain driver LmrtRate failed to load
fixme:ntoskrnl:KeInitializeSpinLock 0x4577a4
fixme:iphlpapi:NotifyAddrChange (Handle 0x7eb719f8 overlapped 0x7eb719dc): stub
fixme:shell:DllCanUnloadNow stub
err:rpc:I_RpcReceive we got fault packet with status 0x3e6
err:seh:setup_exception_record stack overflow 816 bytes in thread 000b eip 602fe8d0 esp 00241000 stack 0x240000-0x241000-0x340000





err:mshtml:set_profile SetCurrentProfile failed: 80520015
fixme:iphlpapi:NotifyAddrChange (Handle 0x7eb719f8 overlapped 0x7eb719dc): stub
fixme:shell:DllCanUnloadNow stub
err:rpc:I_RpcReceive we got fault packet with status 0x3e6
err:seh:setup_exception_record stack overflow 816 bytes in thread 0009 eip 601b08d0 esp 00231000 stack 0x230000-0x231000-0x330000



did a couple of ^C's


err:ntdll:RtlpWaitForCriticalSection section 0x601dca80 exception.c: vectored_handlers_section wait timed out in thread 002f blocked by 0009 retrying (60 sec)





err:ntdll:RtlpWaitForCriticalSection section 0x601dca80 exception.c: vectored_handlers_section wait timed out in thread 002f blocked by 0009 retrying (60 sec)


err:ntdll:RtlpWaitForCriticalSection section 0x601dca80 exception.c: vectored_handlers_section wait timed out in thread 002f blocked by 0009 retrying (60 sec)





err:ntdll:RtlpWaitForCriticalSection section 0x601dca80 exception.c: vectored_handlers_section wait timed out in thread 002f blocked by 0009 retrying (60 sec)

err:ntdll:RtlpWaitForCriticalSection section 0x601dca80 exception.c: vectored_handlers_section wait timed out in thread 002f blocked by 0009 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x601dca80 exception.c: vectored_handlers_section wait timed out in thread 002f blocked by 0009 retrying (60 sec)
fixme:mountmgr:harddisk_ioctl unsupported ioctl 4d004
err:ntdll:RtlpWaitForCriticalSection section 0x601dca80 exception.c: vectored_handlers_section wait timed out in thread 002f blocked by 0009 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x601dca80 exception.c: vectored_handlers_section wait timed out in thread 002f blocked by 0009 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x601dca80 exception.c: vectored_handlers_section wait timed out in thread 002f blocked by 0009 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x601dca80 exception.c: vectored_handlers_section wait timed out in thread 002f blocked by 0009 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x601dca80 exception.c: vectored_handlers_section wait timed out in thread 002f blocked by 0009 retrying (60 sec)





Did a couple of ^C's",2,"0"
"WINE-38533","opengl32/tests/opengl.c hangs under valgrind (i965/mesa)","Not much info in the default output.

err:dib:dibdrv_wine_get_wgl_driver OSMesa not compiled in no OpenGL bitmap support
opengl.c:616: Tests skipped: Unable to find a suitable pixel format
opengl.c:616: Tests skipped: Unable to find a suitable pixel format
==3234== Syscall param writev(vector[...]) points to uninitialised byte(s)
==3234==    at 0x4F7A0F4B: ??? (in /usr/lib/libc-2.21.so)
==3234==    by 0x5CEBA28: ??? (in /usr/lib/libxcb.so.1.1.0)
==3234==    by 0x5CEBF07: ??? (in /usr/lib/libxcb.so.1.1.0)
==3234==    by 0x5CEBFAB: xcb_writev (in /usr/lib/libxcb.so.1.1.0)
==3234==    by 0x5BDB113: _XSend (in /usr/lib/libX11.so.6.3.0)
==3234==    by 0x5BDB4B4: _XFlush (in /usr/lib/libX11.so.6.3.0)
==3234==    by 0x5BB99BB: XFlush (in /usr/lib/libX11.so.6.3.0)
==3234==    by 0x5B0A8BD: create_whole_window (window.c:1477)
==3234==    by 0x5B0B657: X11DRV_create_win_data (window.c:1803)
==3234==    by 0x5B0C34C: X11DRV_WindowPosChanging (window.c:2153)
==3234==    by 0x513D8E0: set_window_pos (winpos.c:2062)
==3234==    by 0x5132F9C: WIN_CreateWindowEx (win.c:1578)
==3234==    by 0x51335ED: CreateWindowExA (win.c:1716)
==3234==    by 0x4AD9A7F: test_setpixelformat (opengl.c:306)
==3234==    by 0x4ADEDEC: func_opengl (opengl.c:1706)
==3234==    by 0x4ADFD4A: run_test (test.h:584)
==3234==    by 0x4AE0191: main (test.h:666)
==3234==  Address 0x571b61d is 189 bytes inside a block of size 16384 alloc'd
==3234==    at 0x4008D0E: calloc (vg_replace_malloc.c:626)
==3234==    by 0x5BC93B4: XOpenDisplay (in /usr/lib/libX11.so.6.3.0)
==3234==    by 0x5B12EFF: x11drv_init_thread_data (x11drv_main.c:658)
==3234==    by 0x5B06DB7: thread_init_display (x11drv.h:347)
==3234==    by 0x5B0B5BA: X11DRV_create_win_data (window.c:1794)
==3234==    by 0x5B0C34C: X11DRV_WindowPosChanging (window.c:2153)
==3234==    by 0x513D8E0: set_window_pos (winpos.c:2062)
==3234==    by 0x5132F9C: WIN_CreateWindowEx (win.c:1578)
==3234==    by 0x51335ED: CreateWindowExA (win.c:1716)
==3234==    by 0x4ADE9FB: func_opengl (opengl.c:1637)
==3234==    by 0x4ADFD4A: run_test (test.h:584)
==3234==    by 0x4AE0191: main (test.h:666)
==3234==  Uninitialised value was created by a stack allocation
==3234==    at 0x5B08792: set_mwm_hints (window.c:702)
==3234== 

mesa is 10.5.1-1.20150314.fc22",177,"0"
"WINE-14139","Governor of poker crashes","Hi i saw someone was trying to get this app running here http://ubuntuforums.org/showthread.php?t=838840

So i gave it a try as well. I got the same crash as that guy. The following workaround makes the game start and run nicely:
Put following in the registry:
REGEDIT4

[HKEY_CLASSES_ROOT\CLSID\{56FDF344-FD6D-11d0-958A-006097C9A090}]
@=Task Bar Communication

[HKEY_CLASSES_ROOT\CLSID\{56FDF344-FD6D-11d0-958A-006097C9A090}\InProcServer32]
@=C:\\Windows\\System32\\SHDOCVW.DLL
ThreadingModel=Apartment

Then run with native shdocvw (and shlwapi).


Apparently ITaskBarList implementation is completely missing from shdocvw causing the crash above.",272,"1"
"WINE-15122","Clipboard functions don't work in console applications","Created attachment 15827
proposed patch

My favorite console file manager FAR (http://www.farmanager.com/) almost work under wineconsole except for clipboard operations (  in FAR's internal editor and command line).

I run it with the following command on Fedora-8/x86.

$ wineconsole --backend=user ~/.wine/drive_c/Program\ Files/FAR/Far.exe

The reason of the problem is loss of SelectionRequest/SelectionClear X11 events.

I've attached a patch which fixes the problem.
May be it looks like a hack but anyway it can help to fix the problem in better way.

It would be nice to have the problem fixed in next Wine release.",319,"1"
"WINE-13392","Game Maker games have screen corruptions that renders them unplayable","Created attachment 13302
Image of a Game Maker game affected by this bug.

This bug affects a wide range of applications all games made with Game Maker (well over 20000) appear to be affected.

When running an .exe binary created by Game Maker 5.3A 6 or 7 in a window screen corruption fills all of part of the screen. It appears that the game canvas is drawn offset from the drawing area origin leaving whatever occupied that area of VRAM to be drawn in the spaces that overlap the game window.

Test case: practically any of the 17000 games on yoyogames.com as long as they are run in a window. Fullscreen games currently crash the OS as part of a different bug so I cannot test whether the bug continues to happen.

Attached is an example of a game affected by this bug. The game canvas is obviously drawn partly above the window area and the bottom part is flickering corruption.

Running the game in a virtual desktop approximately the size of the game canvas somewhat lessens the problem by centering the canvas within the window so only some corruption is visible but the bug is still in effect during this time.",212,"0"
"WINE-16164","Google Sketchup 7 crashes when you click Start using Sketchup","This is the first bug people run into.
(The next one is bug 14045.)

When you start SketchUp it puts up a dialog saying 
Welcome to Sketchup.  When you click Start using Sketchup
it crashes before putting up the main window.

You can work around it by checking Don't show this again
and then running the app again but it would be nice if that
wasn't needed.

Mike Hearn said the cause was mshtml wasn't refcounted 
properly so I checked... and he's right.  Hacking DLLCanUnloadNow
in mshtml to always return S_FALSE like this

diff --git a/dlls/mshtml/main.c b/dlls/mshtml/main.c
@@ -2317 +2317 @@ HRESULT WINAPI DllGetClassObject(REFCLSID rclsid REFIID riid LPVOID *ppv)
 HRESULT WINAPI DllCanUnloadNow(void)
 {
     TRACE(() ref=%d\n module_ref)
-    return module_ref ? S_FALSE : S_OK
+    return S_FALSE //module_ref ? S_FALSE : S_OK

gets you past the crash.  So presumably it's an mshtml
bug.  (In honor of this bug I created an mshtml category in
bugzilla finally...)",17,"0"
"WINE-22659","1by1 player: file/song list text overlaps and becomes unreadable if enlarged","Just a minor glitch...

If you are running 1by1 Player via Wine (see download link) and go into the settings e.g. press  click the List tab and then move the slider labelled Font and size towards the right too much in order to make the font larger the track listing becomes unreadable.  What's supposed to happen is the font becomes larger to make it easier to read (this does not happen if you run 1by1 player in Windows).

Try it and see.",257,"1"
"WINE-24610","Touhou games: no text in dialogue boxes","Somewhere between 1.1.31 and 1.1.42 bug 22341 seems to have reappeared.

Exact same symptoms - no text in dialogue boxes. Verified with Touhou 6 to 8 on Ubuntu Lucid wine 1.1.42 1.2 and 1.3.4.",418,"1"
"WINE-28914","Crimzon Clover 1.01 shows only black screen","Created attachment 37164
WINE messages shown

When you start Crimzon Clover you are presented with an options dialog to select screen resolution etc.  No matter which options are selected you get a black screen (or a black window if you selected a windowed display mode).

This issue affects only the retail version of Crimzon Clover (the free version 0.20 works great in WINE).

The messages that WINE displays (see attachment) are very similar to the ones in bug 26917.  As both Endless Alice Crysis and Crimzon Clover are doujin games I wonder if this issue is related to programming methods or libraries unique to Japan.",111,"0"
"WINE-20492","Adobe CS4 installer hangs in memory and has to be killed","Created attachment 24397
wine-1.1.32-119-g07c321b +jscript

The Adobe CS4 installer appears to do nothing hangs in memory and has to be killed.

This is a recent regression.

fbb763a53e92a38436acf5f542f213b85491f086 is first bad commit
commit fbb763a53e92a38436acf5f542f213b85491f086
Author: Jacek Caban 
Date:   Mon Oct 19 20:42:03 2009 +0200

    jscript: Use the value returned from constructor in 'new' expression if the value if an object.

:040000 040000 5e66b60cce239d7e6b0f38fd64be3f47904e79bd 1586a99523eba0296aaebc0f65e5ff2f0dc240c5 M	dlls

http://source.winehq.org/git/wine.git/?a=commith=fbb763a53e92a38436acf5f542f213b85491f086

Reverting this commit in latest git causes a page fault but checking-out the previous commit fixes the problem.

Probably affects CS3 products too but I have none to test.",42,"0"
"WINEHQ.ORG-5642","Wine 0.9.17 - broken source package on SourceForge","File upload is incomplete. It has only 6158940 bytes and fails to decompress.
Tried several mirrors.",3,"0"
"WINE-12584","Rendering problems in NWN2","Created attachment 12176
Screen blacked out (the pointer of the mouse is on the character but the Gimp doesn't capture pointers)

I installed NWN2 and its expansion Mask of the Betrayer. I ended up with version 1.010.1115 of the game. I installed the 'hatred' no-cd to get the game starting.

I could create a character and start playing. However whenever I put the mouse pointer over a character or object about the 3/4ths of the screen become black (see attached image) making the game tedious to play.

I'm using Slamd64 11.0 on a Turion64 TL-60 laptop with Nvidia GeForce 7600Go vidcard and 169.12 Nvidia drivers.",199,"0"
"WINE-7554","eMule crashes when selecting a previous search query from the drop-down list","This is a regression: 0.9.30 worked fine however as of 0.9.31 if I go to the
search tab in eMule begin entering a term similar to my previous one then a
pulldown list of previous search terms beginning with the same letters pops up.
 If I select one the program will crash.

Here's the terminal output that occurs after I click:

wine: Unhandled page fault on write access to 0x00730024 at address 0x7bc37074
(thread 0009) starting debugger...
err:ntdll:RtlpWaitForCriticalSection section 0x110020 heap.c: main process heap
section wait timed out in thread 0025 blocked by 0009 retrying (60 sec)
*** glibc detected *** emule.exe: corrupted double-linked list: 0x7c14e5e0 ***
======= Backtrace: =========
/lib/tls/i686/cmov/libc.so.6[0xb7dcec5a]
/lib/tls/i686/cmov/libc.so.6[0xb7dd05ff]
/lib/tls/i686/cmov/libc.so.6(__libc_free+0x84)[0xb7dd0a44]
/usr/bin/../lib/libGL.so.1[0x7e30ec1a]
/lib/tls/i686/cmov/libc.so.6(exit+0xe9)[0xb7d96299]
/usr/bin/../lib/wine/ntdll.dll.so(NtSetInformationKey+0x0)[0x7bc44930]
/usr/bin/../lib/wine/kernel32.dll.so(TerminateProcess+0x29)[0x7b86e779]
/usr/bin/../lib/wine/kernel32.dll.so(UnhandledExceptionFilter+0x664)[0x7b840c74]
[0x65e3e9]
[0x65d871]
/usr/bin/../lib/wine/ntdll.dll.so[0x7bc5cf6b]
/usr/bin/../lib/wine/ntdll.dll.so[0x7bc5d20f]
/lib/tls/i686/cmov/libpthread.so.0[0xb7ea3504]
/lib/tls/i686/cmov/libc.so.6(__clone+0x5e)[0xb7e3751e]
======= Memory map: ========



I'm not certain this is a richedit bug or something else.",30,"0"
"WINE-743","WM_QUERYNEWPALETTE handling broken ? (was: Problem in winpos.c which ends in an infinite loop)","I tried to install the game Zork : Grand Inquisitor ( probably a win16 app) and
the installer crashed.
With the debugger I Obtained the attached log.

As you can see
1) CreateWindowExA is called (9170)
2) X11DRV_CreateWindow send the WM_CREATE message to the window (9168)
3) the window procedure of the app is executed (9162) and call
SetForegroundWindow (9161)
4) WINPOS_SetActiveWindows is then called (9160) and send the WM_QUERYNEWPALETTE
(9159)
5) When the windows procedure receive the message (9153) it call
SetForegroundWindow (9152)
6) return to 4

Commenting the lines (see attached diff) in winpos.c wich send the
WM_QUERYNEWPALETTE avoids
the infinite loop and makes the installer work.
The installer runs perfectly under Windows 98.

It seems that the app's windows procedure does not expect a WM_QUERYNEWPALETTE
message.


  9141 0x406a9d37 (SendMessageW+0x37(hwnd=0x10021 msg=0x30f wparam=0x0
lparam=0x0) [message.c:1818] in user32.dll.so) (ebp=405d5d14)
  9142 0x40691780 (WINPOS_SetActiveWindow+0x230(hWnd=0x10021 fMouse=0x0
fChangeFocus=0x1) [winpos.c:1282] in user32.dll.so) (ebp=405d5d6c)
  9143 0x406909fa (SetForegroundWindow+0x7a(hwnd=0x10021) [winpos.c:762] in
user32.dll.so) (ebp=405d5d88)
  9144 0x0040535d (splash.exe..text+0x435d in H:\splash\splash.exe) (ebp=405d5fdc)
  9145 0x406924dd (WINPROC_CallWndProc+0x8d(proc=0x404cc0 hwnd=0x10021
msg=0x30f wParam=0x0 lParam=0x0) [winproc.c:183] in user32.dll.so) (ebp=405d600c)
  9146 0x40698989 (WINPROC_CallProc32WTo32A+0xc9(func=0x404cc0 hwnd=0x10021
msg=0x30f wParam=0x0 lParam=0x0) [winproc.c:2616] in user32.dll.so) (ebp=405d6034)
  9147 0x40698fe2 (CallWindowProcW+0xb2(func=0x40ec0412 hwnd=0x10021
msg=0x30f wParam=0x0 lParam=0x0) [winproc.c:2831] in user32.dll.so) (ebp=405d6068)
  9148 0x406a8e77 (call_window_proc+0xd7(hwnd=0x10021 msg=0x30f wparam=0x0
lparam=0x0 unicode=0x1) [message.c:1368] in user32.dll.so) (ebp=405d60c4)
  9149 0x406a9ab1 (SendMessageTimeoutW+0xe1(hwnd=0x10021 msg=0x30f wparam=0x0
lparam=0x0 flags=0x0 timeout=0xffffffff res_ptr=0x405d6148) [message.c:1738]
in user32.dll.so) (ebp=405d6124)
  9150 0x406a9d37 (SendMessageW+0x37(hwnd=0x10021 msg=0x30f wparam=0x0
lparam=0x0) [message.c:1818] in user32.dll.so) (ebp=405d6158)
  9151 0x40691780 (WINPOS_SetActiveWindow+0x230(hWnd=0x10021 fMouse=0x0
fChangeFocus=0x1) [winpos.c:1282] in user32.dll.so) (ebp=405d61b0)
  9152 0x406909fa (SetForegroundWindow+0x7a(hwnd=0x10021) [winpos.c:762] in
user32.dll.so) (ebp=405d61cc)
  9153 0x0040535d (splash.exe..text+0x435d in H:\splash\splash.exe) (ebp=405d6420)
  9154 0x406924dd (WINPROC_CallWndProc+0x8d(proc=0x404cc0 hwnd=0x10021
msg=0x30f wParam=0x0 lParam=0x0) [winproc.c:183] in user32.dll.so) (ebp=405d6450)
  9155 0x40698989 (WINPROC_CallProc32WTo32A+0xc9(func=0x404cc0 hwnd=0x10021
msg=0x30f wParam=0x0 lParam=0x0) [winproc.c:2616] in user32.dll.so) (ebp=405d6478)
  9156 0x40698fe2 (CallWindowProcW+0xb2(func=0x40ec0412 hwnd=0x10021
msg=0x30f wParam=0x0 lParam=0x0) [winproc.c:2831] in user32.dll.so) (ebp=405d64ac)
  9157 0x406a8e77 (call_window_proc+0xd7(hwnd=0x10021 msg=0x30f wparam=0x0
lparam=0x0 unicode=0x1) [message.c:1368] in user32.dll.so) (ebp=405d6508)
  9158 0x406a9ab1 (SendMessageTimeoutW+0xe1(hwnd=0x10021 msg=0x30f wparam=0x0
lparam=0x0 flags=0x0 timeout=0xffffffff res_ptr=0x405d658c) [message.c:1738]
in user32.dll.so) (ebp=405d6568)
  9159 0x406a9d37 (SendMessageW+0x37(hwnd=0x10021 msg=0x30f wparam=0x0
lparam=0x0) [message.c:1818] in user32.dll.so) (ebp=405d659c)
  9160 0x40691780 (WINPOS_SetActiveWindow+0x230(hWnd=0x10021 fMouse=0x0
fChangeFocus=0x1) [winpos.c:1282] in user32.dll.so) (ebp=405d65f4)
  9161 0x406909fa (SetForegroundWindow+0x7a(hwnd=0x10021) [winpos.c:762] in
user32.dll.so) (ebp=405d6610)
  9162 0x00404b62 (splash.exe..text+0x3b62 in H:\splash\splash.exe) (ebp=405d697c)
  9163 0x406924dd (WINPROC_CallWndProc+0x8d(proc=0x404cc0 hwnd=0x10021
msg=0x1 wParam=0x0 lParam=0x405d6d24) [winproc.c:183] in user32.dll.so)
(ebp=405d69ac)
  9164 0x40698ed2 (CallWindowProcA+0xb2(func=0x404cc0 hwnd=0x10021 msg=0x1
wParam=0x0 lParam=0x405d6d24) [winproc.c:2795] in user32.dll.so) (ebp=405d69e0)
  9165 0x406a8ea3 (call_window_proc+0x103(hwnd=0x10021 msg=0x1 wparam=0x0
lparam=0x405d6d24 unicode=0x0) [message.c:1372] in user32.dll.so) (ebp=405d6a3c)
  9166 0x406a9c0d (SendMessageTimeoutA+0xed(hwnd=0x10021 msg=0x1 wparam=0x0
lparam=0x405d6d24 flags=0x0 timeout=0xffffffff res_ptr=0x405d6ac0)
[message.c:1786] in user32.dll.so) (ebp=405d6a9c)
  9167 0x406a9d87 (SendMessageA+0x37(hwnd=0x10021 msg=0x1 wparam=0x0
lparam=0x405d6d24) [message.c:1829] in user32.dll.so) (ebp=405d6ad0)
  9168 0x409b7702 (X11DRV_CreateWindow+0x572(hwnd=0x10021 cs=0x405d6d24
unicode=0x0) [window.c:1005] in x11drv.dll.so) (ebp=405d6b44)
  9169 0x4068bd20 (WIN_CreateWindowEx+0x590(cs=0x405d6d24 classAtom=0xc00d
type=0x2) [win.c:1154] in user32.dll.so) (ebp=405d6c0c)
  9170 0x4068c17e (CreateWindowExA+0x14e(exStyle=0x0 className=0x411b3c
windowName=0x41c60d50 style=0x80880000 x=0x0 y=0x0 width=0x400
height=0x300 parent=0x0 menu=0x0 instance=0x400000 data=0x0) [win.c:1309] in
user32.dll.so) (ebp=405d6d60)
  9171 0x00405cd1 (splash.exe..text+0x4cd1 in H:\splash\splash.exe) (ebp=405d6e90)
  9172 0x400ca01b (start_process+0x24b [process.c:526] in libntdll.dll.so)
(ebp=405d6f38)
  9173 0x400ce257 (call_on_thread_stack+0x27(func=0x400c9dd0) [sysdeps.c:105] in
libntdll.dll.so) (ebp=405d6ff4)
  9174 0x400ce410 (SYSDEPS_CallOnStack+0x14 in libntdll.dll.so) (ebp=00000000)



Index: winpos.c
===================================================================
RCS file: /home/wine/wine/windows/winpos.cv
retrieving revision 1.133
diff -u -r1.133 winpos.c
--- winpos.c	25 May 2002 22:16:13 -0000	1.133
+++ winpos.c	29 May 2002 17:38:49 -0000
@@ -12788 +127810 @@
 	    PERQDATA_SetActiveWnd( pOldActiveQueue->pQData 0 )
 
     /* send palette messages */
+    /*
     if (hWnd && SendMessageW( hWnd WM_QUERYNEWPALETTE 0 0L))
         SendMessageW( HWND_BROADCAST WM_PALETTEISCHANGING (WPARAM)hWnd 0 )
+    */
 
     /* if prev wnd is minimized redraw icon title */
     if( IsIconic( hwndPrevActive ) ) WINPOS_RedrawIconTitle(hwndPrevActive)",583,"1"
"WINE-10386","Internet Explorer 1 fails to start","Starting with Wine 0.9.35 Internet Explorer 1 does not start.  It only displays the following messages on the console

fixme:shell:SHRegisterDragDrop (0x1002a0x1628b4):stub.
err:ole:RegisterDragDrop COM not initialized
fixme:shell:SHRevokeDragDrop (0x1002a):stub.

The shell fixmes appear in 0.9.34 too but not the ole error.

Regression test to follow.",119,"0"
"WINE-19031","Alpha Centauri failes with GLXBadDrawable/X_GLXMakeCurrent","Trying to run Alpha Centauri Expansion

All that comes out of wine TERRANX.EXE is:
X Error of failed request:  GLXBadDrawable
  Major opcode of failed request:  154 (GLX)
  Minor opcode of failed request:  5 (X_GLXMakeCurrent)
  Serial number of failed request:  518
  Current serial number in output stream:  518

Intel graphics card same result with 2.6.30 or 2.6.28 (stock) kernels..  At least starts to run on 8.10 (wine 1.01).  Regression?",130,"0"
"WINE-18615","Motocross Madness 2: upside down display as mouse moves over button","This is a Mac-specific variant of bug #17234 but the symptoms are different enough to variant a separate entry.

In Motocross Madness 2 Demo when moving the mouse over one of the buttons in the entry menu it may happen that the complete wine desktop window content is flipped upside down. When it happens it's systematic i.e. it flips every time the mouse hovers over a button.

OTOH I've also been able to start the application without any such flipping effect. In that case it reappeared after switching to another Mac window causing wine to refresh its display.
I'd say the probability is 50% of the effect appearing when launching wine.

Another glitch when there's the tilting effect is that the screen size resolution pop-down list is transparent and also flipped.

Once starting without flipping the app seems to work well (I did very limited testing).

Using an early 2009 NVidia Mac Mini with Mac OS 10.5.7 XQuartz 2.3.3.2 wine-1.1.21 self compiled without Fink or Macports. I still need to do comparative testing with Kronenberg's wine binary.
To test I've copied the MCM2 app directory plus the one registry entry over from a Linux install and have not tested if the downloadable archive is installable on Mac or whether it suffers from the 16bit winevdm crash bug.",384,"1"
"WINE-11784","3dsmax2008 installer crashes:err:cursor:DIB_GetBitmapInfo (1633746944): unknown/wrong size for header","Hi after James' patch got into git the installer gets further but now crashes like below:

err:cursor:DIB_GetBitmapInfo (1633746944): unknown/wrong size for header
err:cursor:DIB_GetBitmapInfo (1633746944): unknown/wrong size for header
X Error of failed request:  BadValue (integer parameter out of range for operation)
  Major opcode of failed request:  53 (X_CreatePixmap)
  Value in failed request:  0x0
  Serial number of failed request:  49949
  Current serial number in output stream:  49953


PS I wonder why installers from AutoDesk run into so many bugs either they are very advanced and put wine to it's limits or are they just a bit buggy??",45,"0"
"WINE-27514","Winole does not work with Wine","A 32 bits Windows .exe that requires Winole does not work in Wine.",9,"0"
"WINE-21569","urlmon/url tests crash if +heap is enabled (crypt32 to blame?)","Created attachment 26008
terminal output

The backtrace is a LONG line of crypt32 related stuff along with wininet/libssl/libcrypto/etc. See attached.",874,"1"
"WINE-17777","WinPolis hangs when sound is enabled","Created attachment 20003
Wine 1.1.17 +mci

WinPolis will hang part way through the game if sound is enabled and has to be killed.

It can be played for a short while but both the music and sound effects need to be disabled from within the game to stop the game hanging.

Console fills with output with +mci debug channel enabled.",211,"0"
"WINE-14680","Avencast: Rise of the Mage blocks after loading first level","Created attachment 15142
Avencast crashing on libgl.so.1

Applying patch (and no-cd fix) 1.03 solves the video loading problem (see the other Avencast bug on bugzilla) and everything works smoothly up to 93% of the loading of the first level. At that point it hangs and error log shows a problem in libgl.so.1
I own an Nvidia 8600m GT and run 173.14.09 drivers.",385,"1"
"WINE-15573","Photoshop CS2: Main Window opens on first desktop regardless of active desktop","Switch to second desktop.

Press my gnome launcher that runs this command:

/home/USERNAME/.wine/drive_c/Program Files/Adobe/Adobe Photoshop CS2/Photoshop.exe

The Photoshop splash screen and tool palletes open in my second desktop.

The main photoshop window opens on the first desktop.


Ubuntu 8.04 with Compiz active in gnome.",2,"0"
"WINE-23837","The Spirit Engine 2 crashes on startup when using ALSA hardware driver backend (ALSA hw emu and OSS hw/sw emu work)","Created attachment 29919
Runtime error channel

The Spirit Engine 2 v.1.06 crashes after (apparently) installing correctly.

Installation has been performed using
msiexec /i

stderr is available in the attached install.log

The program has been launched using

wine The Spirit Engine 2.exe from the installed program directory.

stderr is available in the attached run.log

Program is downloadable from the website http://www.thespiritengine.com",827,"1"
"WINE-28374","Libre Office 3.4.3 installer wants msvcp90.dll.??$?HDU?$char_traits@D@std@@V?$allocator@D@1@@std@@YA?AV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@0@DABV10@@Z","Winetricks vcrun2008 works around it.",65,"0"
"WINEHQ_APPS_DATABASE-4680","cannot enter registry clips or slashes don't get entered properly","when copying/pasting from a registry document the slashes appear in the wysiwyg
text interface but not in the posted comment",532,"1"
"WINE-19351","RootsMagic 4 installer hangs while downloading place database","Created attachment 22410
RootsMagic 4 installer +wininet trace

With today's Git (wine-1.1.25-487-gf59a309) when the Download Place Database for geocoding and gazetteering option is selected (by default) the installer attempts to retrieve the relevant file. Instead of working as expected the installer simply hangs at Getting file information... and the download attempt cannot be aborted. winedbg seems to indicate that the download thread is hung trying to read from the stream:

Backtrace:
=>0 0xb7f0042e (0x029fb62c)
  1 0x7df0a858 HTTPREQ_Read+0x368(req= buffer=0x29fb6bc size= read=0x29fb6b8 sync=1) [/home/andrew/wine-git/dlls/wininet/http.c:2119] in wininet (0x029fb68c)
  2 0x7df0a9ae HTTP_DrainContent+0x7e(req=) [/home/andrew/wine-git/dlls/wininet/http.c:2551] in wininet (0x029fbecc)
  3 0x7df11a05 HTTP_HttpSendRequestW+0x1975(lpwhr=0x16eec0 lpszHeaders=(nil) dwHeaderLength=0 lpOptional=(nil) dwOptionalLength=0 dwContentLength=0 bEndRequest=1) [/home/andrew/wine-git/dlls/wininet/http.c:3819] in wininet (0x029fe0cc)

From the +wininet trace what seems to happen is that the installer sends a HEAD request:

trace:wininet:HttpOpenRequestW (0x2 LHEAD L/send/file/221146-Z3UX/PlaceDBSetup.exe (null) (null) 0x16ee20 a0000000 00000000)
...
trace:wininet:HTTP_HttpSendRequestW full request -> HEAD /send/file/221146-Z3UX/PlaceDBSetup.exe HTTP/1.1\r\nAccept: */*\r\nHost: dl.filekicker.com\r\nContent-Length: 0\r\nUser-Agent: IS Download DLL\r\n\r\n

and gets back:

trace:wininet:HTTP_GetResponseHeaders raw headers: LHTTP/1.1 302 Object moved\r\nDate: Fri 17 Jul 2009 07:59:26 GMT\r\nX-Powered-By: ASP.NET\r\nP3P: CP='NOI ADM DEV COM NAV OUR IND'\r\nLocation: http://dl5.filekicker.net/private/$adv-rgn1$1247860766$160ac4f01d68678bfbb5daec82e9e694$/id/$FK15070$221146-Z3UX$/cache/51e479ae0c1d36b3024dd8ed8f9e9daa42dc3...

A HEAD request is not supposed to contain any message body so wininet may not be handling the HEAD request correctly and tries to read further data when there is none to be expected.",6,"0"
"WINE-20852","Strange memory corruption in test_FindFirstChangeNotification","http://kegel.com/wine/valgrind/logs/2009-10-21-19.42/vg-kernel32_change.txt
(and probably for as long as I've been running valgrind) have the warning

 Invalid write of size 4
    at  RtlFreeAnsiString (rtlstr.c:170)
    by  RemoveDirectoryW (path.c:1350)
    by  RemoveDirectoryA (path.c:1364)
    by  test_FindFirstChangeNotification (change.c:182)
    by  func_change (change.c:883)
    by  run_test (test.h:535)
    by  main (test.h:585)
  Address 0x7f21eeac is on thread 1's stack

Inserting a function call in RemoveDirectoryW()
(anywhere) sometimes makes the warning go away.

It seems that the first function call after the unix 
rmdir() at
http://source.winehq.org/source/dlls/kernel32/path.c#L1349
triggers this warning...
even if the function call is just a print statement.

To reproduce:
 install valgrind (after applying the workaround
for the regression that keeps wine from working
https://bugs.kde.org/show_bug.cgi?id=205541#c1 )
 build wine
 cd ~/wine-git/dlls/kernel32/tests
 ~/wine-git/wine winemine &
 valgrind --trace-children=yes ~/wine-git/wine kernel32_test.exe.so change.c

It still happens if I comment out all but
test_FindFirstChangeNotification()
at the bottom of change.c.

This could also be a bug in valgrind I suppose I filed an issue
there for this a while ago as https://bugs.kde.org/show_bug.cgi?id=211701",856,"1"
"WINE-36383","valgrind shows several uninitialized values in ddraw_CreateSurface() in ddraw/tests/dsurface.c","fixme:win:EnumDisplayDevicesW ((null)00x549f5680x00000000) stub!
==5763== Conditional jump or move depends on uninitialised value(s)
==5763==    at 0x4AEBCC2: ddraw_surface_create (surface.c:5849)
==5763==    by 0x4AC147F: ddraw1_CreateSurface (ddraw.c:2962)
==5763==    by 0x515E72E: SrcColorKey32BlitTest (dsurface.c:240)
==5763==    by 0x516CEB4: func_dsurface (dsurface.c:3949)
==5763==    by 0x50CC30B: main (test.h:584)
==5763==  Uninitialised value was created by a stack allocation
==5763==    at 0x515E671: SrcColorKey32BlitTest (dsurface.c:217)
==5763== 

==5763== Conditional jump or move depends on uninitialised value(s)
==5763==    at 0x4AEBCC2: ddraw_surface_create (surface.c:5849)
==5763==    by 0x4AC147F: ddraw1_CreateSurface (ddraw.c:2962)
==5763==    by 0x515E7C8: SrcColorKey32BlitTest (dsurface.c:251)
==5763==    by 0x516CEB4: func_dsurface (dsurface.c:3949)
==5763==    by 0x50CC30B: main (test.h:584)
==5763==  Uninitialised value was created by a stack allocation
==5763==    at 0x515E671: SrcColorKey32BlitTest (dsurface.c:217)
==5763== 

==5763== Conditional jump or move depends on uninitialised value(s)
==5763==    at 0x4AEBCC2: ddraw_surface_create (surface.c:5849)
==5763==    by 0x4AC147F: ddraw1_CreateSurface (ddraw.c:2962)
==5763==    by 0x515E224: PaletteTest (dsurface.c:2225)
==5763==    by 0x516E484: func_dsurface (dsurface.c:3962)
==5763==    by 0x50CC30B: main (test.h:584)
==5763==  Uninitialised value was created by a stack allocation
==5763==    at 0x515DB07: PaletteTest (dsurface.c:2137)
==5763== 

==5763== Conditional jump or move depends on uninitialised value(s)
==5763==    at 0x4AEBCC2: ddraw_surface_create (surface.c:5849)
==5763==    by 0x4AC147F: ddraw1_CreateSurface (ddraw.c:2962)
==5763==    by 0x515E003: PaletteTest (dsurface.c:2260)
==5763==    by 0x516E484: func_dsurface (dsurface.c:3962)
==5763==    by 0x50CC30B: main (test.h:584)
==5763==  Uninitialised value was created by a stack allocation
==5763==    at 0x515DB07: PaletteTest (dsurface.c:2137)
==5763==",693,"1"
"WINE-229","wrc chokes on msvcrt/stdlib.h","It chokes on the following line:

long double _atold(const char*)

The reason it does not compile is that wrc does not consider this to be a
function declaration. To wrc a function declaration has 2 identifiers followed
by an opening parenthesis. Here even after the preprocessing we have three. In
fact we may have even more. The well-known 'extern const unsigned long int *
foo()' immediately comes to mind.

   I checked how rc (from VC6) handles this and made the following observations:
 * you cannot put even a basic 'int foo()' in the RC file
 * you can put any garbage you want in any of the included files
 * the only things that rc checks for in included files are:
   - comments /*...*/ and //
   - strings sort of (there's something fishy happening if you put a '\' at the
end of the line
   - preprocessor directives i.e. lines starting with a #
 * no it does not care about balanced parenthesis braces semi-colons or
anything of the sort


   On the other hand wrc tries very hard to preprocess everything correctly. So
I believe the best way to fix this problem is to modify wrc to behave just like
rc does.",529,"1"
"WINE-37955","USB DAC sound problems","Hello
I use the Fiio e10 external USB dac as a sound card.
My PulseAudio-enabled Archlinux box works mostly very well with it. I did the following to get it working:
1. Set up correct sampling frequency (96000) in the PulseAudio setup. However some programs (especially games) were still making trouble.
2. Set up correct sampling frequency for OpenAL in /etc/alsoft.conf. This has solved all problems I had - except Wine unfortunatelly. 
3. Sound in Wine doesn't work very well. It is hard to describe but it is really messed up. Games don't work and the sound test in winecfg doesn't work either.
I am searching for a way of how to try and fix at least the sampling rate (I ASSUME that it might be the root cause) but neither winecfg nor regedit allow to specify it.
I keep getting this error:

ALSA lib pcm.c:7843:(snd_pcm_recover) underrun occurred

Do you have any idea of what to do?
If I use the built-in sound card sound works well but that's not the solution I like.",296,"1"
"WINE-16416","IL2: alsa-sound stutters much","Created attachment 17751
using wine 1.1.10

Since wine 1.1.10 IL2-sound (using alsa) is not played back correctly...
Sometimes a few seconds are missing or repetite. wine 1.1.9 runs it perfectly...
http://appdb.winehq.org/objectManager.php?sClass=version&iId=7102

This does not effect other apps I tested on 1.1.10.",171,"0"
"WINE-24848",".NET 1.1 uninstall hangs","wine uninstaller fails with unhandled page fault and hangs when trying to uninstall .NET 1.1 

Seems like the problem is in msi_compare_file_versions",93,"0"
"WINE-13497","Kudos generates an access violation when trying to run","Steps to reproduce:
1.  Install Kudos
2.  Run Kudos.exe from the install directory

The program bails out with an access violation.",2292,"1"
"WINE-33682","ACT! 6 cannot start under Wine 1.5.31","ACT! 6 cannot start under Wine 1.5.31 - for error message see screenshot.

Under Wine 1.4.* it started and worked good.

Xubuntu 13.04-64.",23,"0"
"WINE-27692","msvcp90/string test crashes when built with gcc 4.6.0","Unhandled exception: page fault on read access to 0x00000017 in 32-bit code (0x7ebc60b3).
Register dump:
CS:0073 SS:007b DS:007b ES:007b FS:0033 GS:003b
EIP:7ebc60b3 ESP:0033fa88 EBP:00000003 EFLAGS:00010246( R- -- I Z- -P- )
EAX:7ef2f305 EBX:7ec14ff4 ECX:0033fc68 EDX:00000000
ESI:00000003 EDI:00000003
Stack dump:
0x0033fa88: 7ef31a21 7ef31a21 0033fbd8 7ebc5246
0x0033fa98: 0033fc84 7ef31a21 00000007 7ec14ff4
0x0033faa8: 0033fc84 7ec14ff4 0033fc84 7ebc54f4
0x0033fab8: 0033fc84 7ef31a21 00000000 7ef33ff4
0x0033fac8: 7ebc3d68 00000003 0033fc84 7ef2f305
0x0033fad8: 0033fc68 00000000 00000003 00000003
Backtrace:
=>0 0x7ebc60b3 MSVCP_basic_string_char_compare_substr_substr+0x33(this=0x33fc68 pos=0 num=0x3 compare=0x3 off=0x3 count=0x3) [/home/austin/wine-git/dlls/msvcp90/string.c:1034] in msvcp90 (0x00000003)
1 0x7ef2f305 func_string+0x1624() in msvcp90_test (0x0033fc84)
2 0x0011042e (0x7ef32528)
0x7ebc60b3 MSVCP_basic_string_char_compare_substr_substr+0x33 [/home/austin/wine-git/dlls/msvcp90/string.c:1034] in msvcp90: movl 0x14(%ebp)%eax
1034 if(compare->size < off)


works with gcc 4.4.5 though. Compiling with -Wno-fomit-frame-pointer doesn't help.",4,"0"
"WINE-38442","valgrind shows some uninitialized variables in d3d10core/tests/device.c test_scissor()","../../../tools/runtest -q -P wine -T ../../.. -M d3d10core.dll -p d3d10core_test.exe.so device && touch device.ok
==6421== Invalid read of size 4
==6421==    at 0x4970039: context_release (context.c:1161)
==6421==    by 0x49814CD: wined3d_device_uninit_3d (device.c:1126)
==6421==    by 0x491A039: dxgi_device_Release (device.c:83)
==6421==    by 0x48DDD40: d3d10_device_Release (device.c:120)
==6421==    by 0x48732D7: ID3D10Device_Release (d3d10.h:5505)
==6421==    by 0x48732D7: test_scissor (???:0)
==6421==    by 0x487E4D6: func_device (device.c:3167)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421==  Address 0x7f0ff6e4 is 4060 bytes inside a block of size 4884 free'd
==6421==    at 0x7BC49E5B: notify_free (heap.c:262)
==6421==    by 0x7BC4E178: RtlFreeHeap (heap.c:1761)
==6421==    by 0x4973195: context_destroy (context.c:1810)
==6421==    by 0x4A2308E: swapchain_cleanup (swapchain.c:65)
==6421==    by 0x4A23332: wined3d_swapchain_decref (swapchain.c:108)
==6421==    by 0x4A285E2: wined3d_texture_decref (texture.c:418)
==6421==    by 0x4A2A289: texture_resource_decref (texture.c:940)
==6421==    by 0x4A3AEB3: wined3d_resource_decref (wined3d_private.h:2138)
==6421==    by 0x4A3B01B: wined3d_rendertarget_view_decref (view.c:47)
==6421==    by 0x498BD8C: wined3d_device_set_rendertarget_view (device.c:3991)
==6421==    by 0x4981484: wined3d_device_uninit_3d (device.c:1118)
==6421==    by 0x491A039: dxgi_device_Release (device.c:83)
==6421==    by 0x48DDD40: d3d10_device_Release (device.c:120)
==6421==    by 0x48732D7: ID3D10Device_Release (d3d10.h:5505)
==6421==    by 0x48732D7: test_scissor (???:0)
==6421==    by 0x487E4D6: func_device (device.c:3167)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421== 

==6421== Invalid write of size 4
==6421==    at 0x4970045: context_release (context.c:1161)
==6421==    by 0x49814CD: wined3d_device_uninit_3d (device.c:1126)
==6421==    by 0x491A039: dxgi_device_Release (device.c:83)
==6421==    by 0x48DDD40: d3d10_device_Release (device.c:120)
==6421==    by 0x48732D7: ID3D10Device_Release (d3d10.h:5505)
==6421==    by 0x48732D7: test_scissor (???:0)
==6421==    by 0x487E4D6: func_device (device.c:3167)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421==  Address 0x7f0ff6e4 is 4060 bytes inside a block of size 4884 free'd
==6421==    at 0x7BC49E5B: notify_free (heap.c:262)
==6421==    by 0x7BC4E178: RtlFreeHeap (heap.c:1761)
==6421==    by 0x4973195: context_destroy (context.c:1810)
==6421==    by 0x4A2308E: swapchain_cleanup (swapchain.c:65)
==6421==    by 0x4A23332: wined3d_swapchain_decref (swapchain.c:108)
==6421==    by 0x4A285E2: wined3d_texture_decref (texture.c:418)
==6421==    by 0x4A2A289: texture_resource_decref (texture.c:940)
==6421==    by 0x4A3AEB3: wined3d_resource_decref (wined3d_private.h:2138)
==6421==    by 0x4A3B01B: wined3d_rendertarget_view_decref (view.c:47)
==6421==    by 0x498BD8C: wined3d_device_set_rendertarget_view (device.c:3991)
==6421==    by 0x4981484: wined3d_device_uninit_3d (device.c:1118)
==6421==    by 0x491A039: dxgi_device_Release (device.c:83)
==6421==    by 0x48DDD40: d3d10_device_Release (device.c:120)
==6421==    by 0x48732D7: ID3D10Device_Release (d3d10.h:5505)
==6421==    by 0x48732D7: test_scissor (???:0)
==6421==    by 0x487E4D6: func_device (device.c:3167)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421== 

==6421== Invalid read of size 4
==6421==    at 0x497004E: context_release (context.c:1161)
==6421==    by 0x49814CD: wined3d_device_uninit_3d (device.c:1126)
==6421==    by 0x491A039: dxgi_device_Release (device.c:83)
==6421==    by 0x48DDD40: d3d10_device_Release (device.c:120)
==6421==    by 0x48732D7: ID3D10Device_Release (d3d10.h:5505)
==6421==    by 0x48732D7: test_scissor (???:0)
==6421==    by 0x487E4D6: func_device (device.c:3167)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421==  Address 0x7f0ff6e4 is 4060 bytes inside a block of size 4884 free'd
==6421==    at 0x7BC49E5B: notify_free (heap.c:262)
==6421==    by 0x7BC4E178: RtlFreeHeap (heap.c:1761)
==6421==    by 0x4973195: context_destroy (context.c:1810)
==6421==    by 0x4A2308E: swapchain_cleanup (swapchain.c:65)
==6421==    by 0x4A23332: wined3d_swapchain_decref (swapchain.c:108)
==6421==    by 0x4A285E2: wined3d_texture_decref (texture.c:418)
==6421==    by 0x4A2A289: texture_resource_decref (texture.c:940)
==6421==    by 0x4A3AEB3: wined3d_resource_decref (wined3d_private.h:2138)
==6421==    by 0x4A3B01B: wined3d_rendertarget_view_decref (view.c:47)
==6421==    by 0x498BD8C: wined3d_device_set_rendertarget_view (device.c:3991)
==6421==    by 0x4981484: wined3d_device_uninit_3d (device.c:1118)
==6421==    by 0x491A039: dxgi_device_Release (device.c:83)
==6421==    by 0x48DDD40: d3d10_device_Release (device.c:120)
==6421==    by 0x48732D7: ID3D10Device_Release (d3d10.h:5505)
==6421==    by 0x48732D7: test_scissor (???:0)
==6421==    by 0x487E4D6: func_device (device.c:3167)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421== 

==6421== Invalid read of size 4
==6421==    at 0x496EAC7: context_restore_pixel_format (context.c:771)
==6421==    by 0x4970066: context_release (context.c:1163)
==6421==    by 0x49814CD: wined3d_device_uninit_3d (device.c:1126)
==6421==    by 0x491A039: dxgi_device_Release (device.c:83)
==6421==    by 0x48DDD40: d3d10_device_Release (device.c:120)
==6421==    by 0x48732D7: ID3D10Device_Release (d3d10.h:5505)
==6421==    by 0x48732D7: test_scissor (???:0)
==6421==    by 0x487E4D6: func_device (device.c:3167)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421==  Address 0x7f0fe708 is 0 bytes inside a block of size 4884 free'd
==6421==    at 0x7BC49E5B: notify_free (heap.c:262)
==6421==    by 0x7BC4E178: RtlFreeHeap (heap.c:1761)
==6421==    by 0x4973195: context_destroy (context.c:1810)
==6421==    by 0x4A2308E: swapchain_cleanup (swapchain.c:65)
==6421==    by 0x4A23332: wined3d_swapchain_decref (swapchain.c:108)
==6421==    by 0x4A285E2: wined3d_texture_decref (texture.c:418)
==6421==    by 0x4A2A289: texture_resource_decref (texture.c:940)
==6421==    by 0x4A3AEB3: wined3d_resource_decref (wined3d_private.h:2138)
==6421==    by 0x4A3B01B: wined3d_rendertarget_view_decref (view.c:47)
==6421==    by 0x498BD8C: wined3d_device_set_rendertarget_view (device.c:3991)
==6421==    by 0x4981484: wined3d_device_uninit_3d (device.c:1118)
==6421==    by 0x491A039: dxgi_device_Release (device.c:83)
==6421==    by 0x48DDD40: d3d10_device_Release (device.c:120)
==6421==    by 0x48732D7: ID3D10Device_Release (d3d10.h:5505)
==6421==    by 0x48732D7: test_scissor (???:0)
==6421==    by 0x487E4D6: func_device (device.c:3167)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421== 


==6421== Invalid read of size 4
==6421==    at 0x496EAD6: context_restore_pixel_format (context.c:774)
==6421==    by 0x4970066: context_release (context.c:1163)
==6421==    by 0x49814CD: wined3d_device_uninit_3d (device.c:1126)
==6421==    by 0x491A039: dxgi_device_Release (device.c:83)
==6421==    by 0x48DDD40: d3d10_device_Release (device.c:120)
==6421==    by 0x48732D7: ID3D10Device_Release (d3d10.h:5505)
==6421==    by 0x48732D7: test_scissor (???:0)
==6421==    by 0x487E4D6: func_device (device.c:3167)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421==  Address 0x7f0ff6f0 is 4072 bytes inside a block of size 4884 free'd
==6421==    at 0x7BC49E5B: notify_free (heap.c:262)
==6421==    by 0x7BC4E178: RtlFreeHeap (heap.c:1761)
==6421==    by 0x4973195: context_destroy (context.c:1810)
==6421==    by 0x4A2308E: swapchain_cleanup (swapchain.c:65)
==6421==    by 0x4A23332: wined3d_swapchain_decref (swapchain.c:108)
==6421==    by 0x4A285E2: wined3d_texture_decref (texture.c:418)
==6421==    by 0x4A2A289: texture_resource_decref (texture.c:940)
==6421==    by 0x4A3AEB3: wined3d_resource_decref (wined3d_private.h:2138)
==6421==    by 0x4A3B01B: wined3d_rendertarget_view_decref (view.c:47)
==6421==    by 0x498BD8C: wined3d_device_set_rendertarget_view (device.c:3991)
==6421==    by 0x4981484: wined3d_device_uninit_3d (device.c:1118)
==6421==    by 0x491A039: dxgi_device_Release (device.c:83)
==6421==    by 0x48DDD40: d3d10_device_Release (device.c:120)
==6421==    by 0x48732D7: ID3D10Device_Release (d3d10.h:5505)
==6421==    by 0x48732D7: test_scissor (???:0)
==6421==    by 0x487E4D6: func_device (device.c:3167)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421== 

==6421== Invalid write of size 4
==6421==    at 0x496EC28: context_restore_pixel_format (context.c:795)
==6421==    by 0x4970066: context_release (context.c:1163)
==6421==    by 0x49814CD: wined3d_device_uninit_3d (device.c:1126)
==6421==    by 0x491A039: dxgi_device_Release (device.c:83)
==6421==    by 0x48DDD40: d3d10_device_Release (device.c:120)
==6421==    by 0x48732D7: ID3D10Device_Release (d3d10.h:5505)
==6421==    by 0x48732D7: test_scissor (???:0)
==6421==    by 0x487E4D6: func_device (device.c:3167)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421==  Address 0x7f0ff6f0 is 4072 bytes inside a block of size 4884 free'd
==6421==    at 0x7BC49E5B: notify_free (heap.c:262)
==6421==    by 0x7BC4E178: RtlFreeHeap (heap.c:1761)
==6421==    by 0x4973195: context_destroy (context.c:1810)
==6421==    by 0x4A2308E: swapchain_cleanup (swapchain.c:65)
==6421==    by 0x4A23332: wined3d_swapchain_decref (swapchain.c:108)
==6421==    by 0x4A285E2: wined3d_texture_decref (texture.c:418)
==6421==    by 0x4A2A289: texture_resource_decref (texture.c:940)
==6421==    by 0x4A3AEB3: wined3d_resource_decref (wined3d_private.h:2138)
==6421==    by 0x4A3B01B: wined3d_rendertarget_view_decref (view.c:47)
==6421==    by 0x498BD8C: wined3d_device_set_rendertarget_view (device.c:3991)
==6421==    by 0x4981484: wined3d_device_uninit_3d (device.c:1118)
==6421==    by 0x491A039: dxgi_device_Release (device.c:83)
==6421==    by 0x48DDD40: d3d10_device_Release (device.c:120)
==6421==    by 0x48732D7: ID3D10Device_Release (d3d10.h:5505)
==6421==    by 0x48732D7: test_scissor (???:0)
==6421==    by 0x487E4D6: func_device (device.c:3167)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421== 

==6421== Invalid write of size 4
==6421==    at 0x496EC35: context_restore_pixel_format (context.c:796)
==6421==    by 0x4970066: context_release (context.c:1163)
==6421==    by 0x49814CD: wined3d_device_uninit_3d (device.c:1126)
==6421==    by 0x491A039: dxgi_device_Release (device.c:83)
==6421==    by 0x48DDD40: d3d10_device_Release (device.c:120)
==6421==    by 0x48732D7: ID3D10Device_Release (d3d10.h:5505)
==6421==    by 0x48732D7: test_scissor (???:0)
==6421==    by 0x487E4D6: func_device (device.c:3167)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421==  Address 0x7f0ff6f4 is 4076 bytes inside a block of size 4884 free'd
==6421==    at 0x7BC49E5B: notify_free (heap.c:262)
==6421==    by 0x7BC4E178: RtlFreeHeap (heap.c:1761)
==6421==    by 0x4973195: context_destroy (context.c:1810)
==6421==    by 0x4A2308E: swapchain_cleanup (swapchain.c:65)
==6421==    by 0x4A23332: wined3d_swapchain_decref (swapchain.c:108)
==6421==    by 0x4A285E2: wined3d_texture_decref (texture.c:418)
==6421==    by 0x4A2A289: texture_resource_decref (texture.c:940)
==6421==    by 0x4A3AEB3: wined3d_resource_decref (wined3d_private.h:2138)
==6421==    by 0x4A3B01B: wined3d_rendertarget_view_decref (view.c:47)
==6421==    by 0x498BD8C: wined3d_device_set_rendertarget_view (device.c:3991)
==6421==    by 0x4981484: wined3d_device_uninit_3d (device.c:1118)
==6421==    by 0x491A039: dxgi_device_Release (device.c:83)
==6421==    by 0x48DDD40: d3d10_device_Release (device.c:120)
==6421==    by 0x48732D7: ID3D10Device_Release (d3d10.h:5505)
==6421==    by 0x48732D7: test_scissor (???:0)
==6421==    by 0x487E4D6: func_device (device.c:3167)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421== 

==6421== Invalid read of size 4
==6421==    at 0x4970084: context_release (context.c:1165)
==6421==    by 0x49814CD: wined3d_device_uninit_3d (device.c:1126)
==6421==    by 0x491A039: dxgi_device_Release (device.c:83)
==6421==    by 0x48DDD40: d3d10_device_Release (device.c:120)
==6421==    by 0x48732D7: ID3D10Device_Release (d3d10.h:5505)
==6421==    by 0x48732D7: test_scissor (???:0)
==6421==    by 0x487E4D6: func_device (device.c:3167)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421==  Address 0x7f0ff6e8 is 4064 bytes inside a block of size 4884 free'd
==6421==    at 0x7BC49E5B: notify_free (heap.c:262)
==6421==    by 0x7BC4E178: RtlFreeHeap (heap.c:1761)
==6421==    by 0x4973195: context_destroy (context.c:1810)
==6421==    by 0x4A2308E: swapchain_cleanup (swapchain.c:65)
==6421==    by 0x4A23332: wined3d_swapchain_decref (swapchain.c:108)
==6421==    by 0x4A285E2: wined3d_texture_decref (texture.c:418)
==6421==    by 0x4A2A289: texture_resource_decref (texture.c:940)
==6421==    by 0x4A3AEB3: wined3d_resource_decref (wined3d_private.h:2138)
==6421==    by 0x4A3B01B: wined3d_rendertarget_view_decref (view.c:47)
==6421==    by 0x498BD8C: wined3d_device_set_rendertarget_view (device.c:3991)
==6421==    by 0x4981484: wined3d_device_uninit_3d (device.c:1118)
==6421==    by 0x491A039: dxgi_device_Release (device.c:83)
==6421==    by 0x48DDD40: d3d10_device_Release (device.c:120)
==6421==    by 0x48732D7: ID3D10Device_Release (d3d10.h:5505)
==6421==    by 0x48732D7: test_scissor (???:0)
==6421==    by 0x487E4D6: func_device (device.c:3167)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421== 

==6421== Conditional jump or move depends on uninitialised value(s)
==6421==    at 0x66ED27D: ??? (in /usr/lib/i386-linux-gnu/libnvidia-glcore.so.340.65)
==6421==    by 0x49A9116: shader_glsl_load_constants (glsl_shader.c:958)
==6421==    by 0x4979FB2: context_apply_draw_state (context.c:3128)
==6421==    by 0x49A3286: draw_primitive (drawprim.c:667)
==6421==    by 0x497A86A: wined3d_cs_exec_draw (cs.c:318)
==6421==    by 0x497C0FD: wined3d_cs_st_submit (cs.c:1071)
==6421==    by 0x497A8D7: wined3d_cs_emit_draw (cs.c:335)
==6421==    by 0x4989ED7: wined3d_device_draw_primitive (device.c:3425)
==6421==    by 0x48DE2B2: d3d10_device_Draw (device.c:221)
==6421==    by 0x487B1C2: ID3D10Device_Draw (d3d10.h:5527)
==6421==    by 0x487B1C2: test_texture (???:0)
==6421==    by 0x487E4E5: func_device (device.c:3170)
==6421==    by 0x487F22D: run_test (test.h:584)
==6421==    by 0x487F666: main (test.h:666)
==6421==  Uninitialised value was created by a stack allocation
==6421==    at 0x49A880A: shader_glsl_load_constants (glsl_shader.c:852)
==6421==",7,"0"
"WINE-16485","WMP is unable to play mpeg/mpg files affects Powerpoint 2007's presentation capabilities","After installing WMP9 (identical results with WMP10 but trace is from WMP9) WMP is not able to load mpeg/mpg files. The error displayed by WMP is

Windows Media Player cannot play the file. The file is either corrupt or the Player does not support the format you are trying to play.%0

The important parts of the log (which are generated when trying to load the mpeg) is quite short so putting it here.

fixme:quartz:FilterGraphNoThread_create CLSID_FilterGraphNoThread partially implemented - Forwarding to CLSID_FilterGraph
fixme:quartz:FilterGraphInner_QueryInterface unknown interface {fc4801a3-2ba9-11cf-a229-00aa003d7352}
fixme:urlmon:IsValidURL ((nil) LC:\\windows\\profiles\\ngoonee\\Desktop\\MyTribute.mpg 0): stub
fixme:quartz:MPEGSplitter_query_accept MPEG-1 system streams not yet supported.
fixme:quartz:AsyncReader_QueryInterface No interface for {fa2aa8f5-8b62-11d0-a520-000000000000}!
fixme:quartz:AsyncReader_QueryInterface No interface for {3c43d14f-25b3-4e34-a36c-f575deea29c0}!
fixme:quartz:AsyncReader_QueryInterface No interface for {56a868fe-0ad4-11ce-b0a3-0020af0ba770}!
fixme:quartz:AsyncReader_QueryInterface No interface for {3c43d14f-25b3-4e34-a36c-f575deea29c0}!
fixme:quartz:AsyncReader_QueryInterface No interface for {c1960960-17f5-11d1-abe1-00a0c905f375}!
fixme:quartz:AsyncReader_QueryInterface No interface for IID_IMpegAudioDecoder!
fixme:listview:LISTVIEW_PrintClient Partial Stub: (hdc=0xa314 options=0x00000004)

Trace included as attachment. Note that this same behaviour is observed when trying to play (not insert) mpeg/mpg movies in Powerpoint 2007. WMP is necessary in order to load movies at all. This also potentially affects other apps besides Powerpoint (Word perhaps) as well as some games which have been known not to be able to play MPEG files. http://bugs.winehq.org/show_bug.cgi?id=9127 may be related sorry I'm not aware how to mark bugs as potential dupes.

This bug does not affect (AFAICS) .avi and .wmv files. I did not have other file-types to test.

This bug was first asked about and discussed briefly in this thread:-
http://forum.winehq.org/viewtopic.php?p=16478",1046,"1"
"WINE-25051","pcsx2-0.9.7-r3878 crashes with unimplemented msvcp90.dll.?max@?$numeric_limits@I@std@@SAIXZ","Version is wine-1.3.6-240-g791b22a.
Seems to work with native msvcp90 but i can't assure as i couldn't do much testing.",179,"0"
"WINE-5143","Regression: Pacific Warriors installer fails (worked in wine0.9.12)","The installer halts with the attached output",53,"0"
"WINE-7910","Dreamfall Yellow Menu","The game menu of Dreamfall the longest journey turned yellow in the current 
wine version.
last time I tried the game was with wine 0.9.22 or older and the game menu was 
normal

and yes I tried a new .wine and a new install",19,"0"
"WINE-10194","Regression: GTA Vice City has messed up colors","Since wine 0.9.47 (and also in 0.9.48) the colors in GTA Vice City are completely messed up. I'll attach a screenshot for demonstration. I did regression testing and tracked the bug down to this commit:

commit	134aa67ec9fc9f761e6da15a816f770d8a30c455
author	Roderick Colenbrander 
wined3d: Use a fragment shader to do P8 palette conversion in hardware.

Hope this can get fixed soon.",10,"0"
"WINE-36613","valgrind shows an unintialized write in winhttp/tests/notification.c","../../../tools/runtest -q -P wine -T ../../.. -M winhttp.dll -p winhttp_test.exe.so notification && touch notification.ok
preloader: Warning: failed to reserve range 00110000-68000000
preloader: Warning: failed to reserve range 7f000000-82000000
==28055== Thread 2:
==28055== Syscall param write(buf) points to uninitialised byte(s)
==28055==    at 0x4226D1B: ??? (syscall-template.S:81)
==28055==    by 0x7BC7FD72: send_request (server.c:198)
==28055==    by 0x7BC7FF91: wine_server_call (server.c:294)
==28055==    by 0x7BC890FC: NtSetEvent (sync.c:361)
==28055==    by 0x7B87723E: SetEvent (sync.c:572)
==28055==    by 0x4CA543A: check_notification (notification.c:120)
==28055==    by 0x4E24DA0: send_callback (session.c:75)
==28055==    by 0x4E1645A: release_object (handle.c:81)
==28055==    by 0x4E26110: request_destroy (session.c:559)
==28055==    by 0x4E164D2: release_object (handle.c:85)
==28055==    by 0x4E19EE3: task_thread (request.c:186)
==28055==    by 0x7BC90A24: worker_thread_proc (threadpool.c:110)
==28055==    by 0x7BC870C7: ??? (signal_i386.c:2571)
==28055==    by 0x7BC87110: call_thread_func (signal_i386.c:2630)
==28055==    by 0x7BC870A5: ??? (signal_i386.c:2571)
==28055==    by 0x7BC8E4EC: start_thread (thread.c:428)
==28055==    by 0x421FF92: start_thread (pthread_create.c:309)
==28055==    by 0x43247ED: clone (clone.S:129)
==28055==  Address 0x62ce700 is on thread 1's stack
==28055==  Uninitialised value was created by a stack allocation
==28055==    at 0x7BC7FF56: wine_server_call (server.c:288)
==28055==",1145,"1"
"WINEHQ.ORG-35231","bad HTML in ppa line results in leading space in Firefox","I followed the instructions in http://www.winehq.org/download/ubuntu 
but when I copy and paste the line
 ppa:ubuntu-wine/ppa
into Muon Package Manager (the Kubuntu software installer) the button to add the source wouldn't enable.

The glitch is if you triple-click the line in Firefox (and SeaMonkey) and copy it it includes a leading space so the Software Sources dialog thinks it's invalid. The workaround is easy remove the leading space in the dialog but it's easy to miss.

The fix is to fix the HTML of that page to not have the whitespace in front. It's currently the invalid

Then copy and paste the line below.

ppa:ubuntu-wine/ppa

If you change the second line to

ppa:ubuntu-wine/ppa

then the problem goes away.",14,"0"
"WINE-17015","Sins of a Solar Empire: In-game fonts appear too large","Created attachment 18810
Single Player Game Setup (shows overlapping text)

All of the text in Sins of a Solar Empire is rendered too large.  This applies to the in-game HUD annotations and the menus.

I am not the first to find this bug I first saw it here with a bit of a workaround.
http://forums.stardock.com/171844/page/4

The game has a Font directory that contains 4 .ttf files and 34 .font files.  The .font files are just text and look like a way for the game to access a named combination of a height and .ttf file.

This is an example of a .font file:

-----------
TXT
Font
		Height 28
		TypeFaceName SinsAgencyBold
-----------

SinsAgencyBold.ttf is in the Font directory.

This particular system of font indirection seems pretty straightforward and non-OS-specific so I don't think it is the main issue here.  At the end of the forums.stardock.com link above there is a workaround that involves editing the Height values in the various .font files.

This workaround helps a bit but it would be nice if it just worked like in Windows! :)",1330,"1"
"WINE-3850","Winamp 5.11 (lite version) crashes when installing","1) DLed Winamp 5.11 (lite version)
2) Install proceeds uneventfully until the bar reaches 98%
3) WINE pops up a dialog box requesting to install the Mozilla ActiveX control
4) Regardless of which way you answer WINE crashes as below (dialog box appears
twice)

wine winamp5111_lite.exe
You need to install the Mozilla ActiveX control to
use Wine's builtin CLSID_WebBrowser from SHDOCVW.DLL
wine: Unhandled page fault on read access to 0x00000000 at address 0x428f12
(thread 000c) starting debugger...
WineDbg starting on pid 0xb
Unhandled exception: page fault on read access to 0x00000000 in 32-bit code
(0x00428f12).
In 32 bit mode.
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:003b GS:0033
 EIP:00428f12 ESP:7fc1fde0 EBP:7fd70a58 EFLAGS:00010246(   - 00      -RIZP1)
 EAX:004820fc EBX:004820cc ECX:00000004 EDX:7fd70a58
 ESI:004820b8 EDI:00000000
Stack dump:
0x7fc1fde0:  00476024 004820b8 7fc1ff20 7fcc0714
0x7fc1fdf0:  004281a8 00476010 00464d0a 0045e641
0x7fc1fe00:  7fc8b280 00000000 004589fc 00000001
0x7fc1fe10:  00000094 00000004 0000000a 040a08ae
0x7fc1fe20:  00000001 00204120 b7f1eff4 00000000
0x7fc1fe30:  7fc1fe70 7fc1fe54 b7e33351 00000000
Backtrace:
=>1 0x00428f12 in winamp (+0x28f12) (0x7fd70a58)
  2 0x7df8c0e0 FMTID_UserDefinedProperties+0x548 in shdocvw (0x7df8c2c0)
  3 0x7df886f0 in shdocvw (+0x86f0) (0x7df88500)
0x00428f12: movl        0x0(%edi)%ecx
Modules:
Module  Address                 Debug info      Name (81 modules)
PE      0x00400000-00533000     Export          winamp
ELF     0x7bf00000-7bf03000     Deferred        
ELF     0x7df6b000-7df90000     Export          shdocvw
  \-PE  0x7df80000-7df90000     \               shdocvw
ELF     0x7e1b2000-7e2ac000     Deferred        libcrypto.so.0.9.7
ELF     0x7e2ac000-7e2dc000     Deferred        libssl.so.0.9.7
ELF     0x7e2dc000-7e2f8000     Deferred        libcups.so.2
ELF     0x7e48b000-7e4a0000     Deferred        midimap
  \-PE  0x7e490000-7e4a0000     \               midimap
ELF     0x7e4a0000-7e4d7000     Deferred        wineoss.drv
  \-PE  0x7e4b0000-7e4d7000     \               wineoss.drv
ELF     0x7e4d7000-7e506000     Deferred        uxtheme
  \-PE  0x7e4e0000-7e506000     \               uxtheme
ELF     0x7e54a000-7e553000     Deferred        libxcursor.so.1.0.2
ELF     0x7e553000-7e56d000     Deferred        imm32
  \-PE  0x7e560000-7e56d000     \               imm32
ELF     0x7e56d000-7e58a000     Deferred        ximcp.so.2
ELF     0x7e58a000-7e58d000     Deferred        xlcdef.so.2
ELF     0x7e58d000-7e595000     Deferred        libxrender.so.1
ELF     0x7e596000-7e5ad000     Deferred        msacm.drv
  \-PE  0x7e5a0000-7e5ad000     \               msacm.drv
ELF     0x7eb66000-7f268000     Deferred        fglrx_dri.so
ELF     0x7f268000-7f30c000     Deferred        libgl.so.1
ELF     0x7f313000-7f31b000     Deferred        libgcc_s.so.1
ELF     0x7f31b000-7f324000     Deferred        librt.so.1
ELF     0x7f324000-7f3ee000     Deferred        libx11.so.6
ELF     0x7f3ee000-7f45d000     Deferred        winex11.drv
  \-PE  0x7f400000-7f45d000     \               winex11.drv
ELF     0x7f45d000-7f47d000     Deferred        libexpat.so.0
ELF     0x7f47d000-7f4a4000     Deferred        libfontconfig.so.1
ELF     0x7f4a4000-7f4bc000     Deferred        libice.so.6
ELF     0x7f4bc000-7f4cd000     Deferred        libz.so.1
ELF     0x7f4cd000-7f53d000     Deferred        libfreetype.so.6
ELF     0x7f555000-7f5cb000     Deferred        oleaut32
  \-PE  0x7f570000-7f5cb000     \               oleaut32
ELF     0x7f5cb000-7f5ef000     Deferred        winspool.drv
  \-PE  0x7f5d0000-7f5ef000     \               winspool.drv
ELF     0x7f5ef000-7f60b000     Deferred        iphlpapi
  \-PE  0x7f600000-7f60b000     \               iphlpapi
ELF     0x7f60b000-7f644000     Deferred        rpcrt4
  \-PE  0x7f620000-7f644000     \               rpcrt4
ELF     0x7f644000-7f6b2000     Deferred        ole32
  \-PE  0x7f660000-7f6b2000     \               ole32
ELF     0x7f6b2000-7f6fd000     Deferred        shlwapi
  \-PE  0x7f6d0000-7f6fd000     \               shlwapi
ELF     0x7f6fd000-7f7a7000     Deferred        shell32
  \-PE  0x7f710000-7f7a7000     \               shell32
ELF     0x7f7a7000-7f839000     Deferred        comdlg32
  \-PE  0x7f7c0000-7f839000     \               comdlg32
ELF     0x7f839000-7f8ad000     Deferred        winmm
  \-PE  0x7f850000-7f8ad000     \               winmm
ELF     0x7f8ad000-7f8cb000     Deferred        msacm32
  \-PE  0x7f8b0000-7f8cb000     \               msacm32
ELF     0x7f8cb000-7f900000     Deferred        advapi32
  \-PE  0x7f8e0000-7f900000     \               advapi32
ELF     0x7f900000-7f980000     Deferred        gdi32
  \-PE  0x7f910000-7f980000     \               gdi32
ELF     0x7f980000-7fa85000     Deferred        user32
  \-PE  0x7f9a0000-7fa85000     \               user32
ELF     0x7fa85000-7fb20000     Deferred        comctl32
  \-PE  0x7fa90000-7fb20000     \               comctl32
ELF     0x7fc22000-7fc30000     Deferred        libxext.so.6
ELF     0x7fc35000-7fc38000     Deferred        libxrandr.so.2
ELF     0x7fc38000-7fd20000     Deferred        kernel32
  \-PE  0x7fc50000-7fd20000     \               kernel32
ELF     0x7fe32000-7fe3c000     Deferred        libnss_files.so.2
ELF     0x7fe3c000-7fe46000     Deferred        libnss_nis.so.2
ELF     0x7fe46000-7fe5b000     Deferred        libnsl.so.1
ELF     0x7fe5b000-7fe64000     Deferred        libnss_compat.so.2
ELF     0x7fe65000-7fe6a000     Deferred        libxxf86vm.so.1
ELF     0x7fe6a000-7fe70000     Deferred        libxxf86dga.so.1
ELF     0x7fe73000-7fe7c000     Deferred        libsm.so.6
ELF     0x7fe80000-7fea3000     Deferred        libm.so.6
ELF     0x7fea3000-7ff98000     Deferred        libwine_unicode.so.1
ELF     0x7ff98000-80000000     Deferred        ntdll
  \-PE  0x7ffb0000-80000000     \               ntdll
ELF     0xb7e07000-b7e0b000     Deferred        libdl.so.2
ELF     0xb7e0b000-b7f23000     Deferred        libc.so.6
ELF     0xb7f23000-b7f36000     Deferred        libpthread.so.0
ELF     0xb7f37000-b7f51000     Deferred        libwine.so.1
ELF     0xb7f69000-b7f80000     Deferred        ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
0000000b (D) C:\Program Files\Winamp\winamp.exe
        0000000c    0 <==
00000008
        0000000a    0
        00000009    0
WineDbg terminated on pid 0xb
kai@localhost ~ $ You need to install the Mozilla ActiveX control to
use Wine's builtin CLSID_WebBrowser from SHDOCVW.DLL
wine: Unhandled page fault on read access to 0x00000000 at address 0x428f12
(thread 0010) starting debugger...
WineDbg starting on pid 0xf
Unhandled exception: page fault on read access to 0x00000000 in 32-bit code
(0x00428f12).
In 32 bit mode.
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:003b GS:0033
 EIP:00428f12 ESP:7fc1fde0 EBP:7fd70a80 EFLAGS:00210246(   - 00      -RIZP1)
 EAX:004820fc EBX:004820cc ECX:00000004 EDX:7fd70a80
 ESI:004820b8 EDI:00000000
Stack dump:
0x7fc1fde0:  00476024 004820b8 7fc1ff20 7fcc0714
0x7fc1fdf0:  004281a8 00476010 00464d0a 0045e641
0x7fc1fe00:  7fc8b280 00000000 004589fc 00000001
0x7fc1fe10:  00000094 00000004 0000000a 040a08ae
0x7fc1fe20:  00000001 00204120 b7f19ff4 00000000
0x7fc1fe30:  7fc1fe70 7fc1fe54 b7e2e351 00000000
Backtrace:
=>1 0x00428f12 in winamp (+0x28f12) (0x7fd70a80)
  2 0x7df9c0e0 FMTID_UserDefinedProperties+0x548 in shdocvw (0x7df9c2c0)
  3 0x7df986f0 in shdocvw (+0x86f0) (0x7df98500)
0x00428f12: movl        0x0(%edi)%ecx
Modules:
Module  Address                 Debug info      Name (81 modules)
PE      0x00400000-00533000     Export          winamp
ELF     0x7bf00000-7bf03000     Deferred        
ELF     0x7df7b000-7dfa0000     Export          shdocvw
  \-PE  0x7df90000-7dfa0000     \               shdocvw
ELF     0x7e1c2000-7e2bc000     Deferred        libcrypto.so.0.9.7
ELF     0x7e2bc000-7e2ec000     Deferred        libssl.so.0.9.7
ELF     0x7e2ec000-7e308000     Deferred        libcups.so.2
ELF     0x7e493000-7e4a8000     Deferred        midimap
  \-PE  0x7e4a0000-7e4a8000     \               midimap
ELF     0x7e4a8000-7e4df000     Deferred        wineoss.drv
  \-PE  0x7e4c0000-7e4df000     \               wineoss.drv
ELF     0x7e4df000-7e50e000     Deferred        uxtheme
  \-PE  0x7e4f0000-7e50e000     \               uxtheme
ELF     0x7e552000-7e55b000     Deferred        libxcursor.so.1.0.2
ELF     0x7e55c000-7e573000     Deferred        msacm.drv
  \-PE  0x7e560000-7e573000     \               msacm.drv
ELF     0x7e573000-7e58d000     Deferred        imm32
  \-PE  0x7e580000-7e58d000     \               imm32
ELF     0x7e58d000-7e5aa000     Deferred        ximcp.so.2
ELF     0x7e5aa000-7e5ad000     Deferred        xlcdef.so.2
ELF     0x7eb66000-7f268000     Deferred        fglrx_dri.so
ELF     0x7f268000-7f30c000     Deferred        libgl.so.1
ELF     0x7f313000-7f31b000     Deferred        libgcc_s.so.1
ELF     0x7f31b000-7f324000     Deferred        librt.so.1
ELF     0x7f324000-7f3ee000     Deferred        libx11.so.6
ELF     0x7f3ee000-7f45d000     Deferred        winex11.drv
  \-PE  0x7f400000-7f45d000     \               winex11.drv
ELF     0x7f45d000-7f47d000     Deferred        libexpat.so.0
ELF     0x7f47d000-7f4a4000     Deferred        libfontconfig.so.1
ELF     0x7f4a4000-7f4bc000     Deferred        libice.so.6
ELF     0x7f4bc000-7f4cd000     Deferred        libz.so.1
ELF     0x7f4cd000-7f53d000     Deferred        libfreetype.so.6
ELF     0x7f53d000-7f545000     Deferred        libxrender.so.1
ELF     0x7f555000-7f5cb000     Deferred        oleaut32
  \-PE  0x7f570000-7f5cb000     \               oleaut32
ELF     0x7f5cb000-7f5ef000     Deferred        winspool.drv
  \-PE  0x7f5d0000-7f5ef000     \               winspool.drv
ELF     0x7f5ef000-7f60b000     Deferred        iphlpapi
  \-PE  0x7f600000-7f60b000     \               iphlpapi
ELF     0x7f60b000-7f644000     Deferred        rpcrt4
  \-PE  0x7f620000-7f644000     \               rpcrt4
ELF     0x7f644000-7f6b2000     Deferred        ole32
  \-PE  0x7f660000-7f6b2000     \               ole32
ELF     0x7f6b2000-7f6fd000     Deferred        shlwapi
  \-PE  0x7f6d0000-7f6fd000     \               shlwapi
ELF     0x7f6fd000-7f7a7000     Deferred        shell32
  \-PE  0x7f710000-7f7a7000     \               shell32
ELF     0x7f7a7000-7f839000     Deferred        comdlg32
  \-PE  0x7f7c0000-7f839000     \               comdlg32
ELF     0x7f839000-7f8ad000     Deferred        winmm
  \-PE  0x7f850000-7f8ad000     \               winmm
ELF     0x7f8ad000-7f8cb000     Deferred        msacm32
  \-PE  0x7f8b0000-7f8cb000     \               msacm32
ELF     0x7f8cb000-7f900000     Deferred        advapi32
  \-PE  0x7f8e0000-7f900000     \               advapi32
ELF     0x7f900000-7f980000     Deferred        gdi32
  \-PE  0x7f910000-7f980000     \               gdi32
ELF     0x7f980000-7fa85000     Deferred        user32
  \-PE  0x7f9a0000-7fa85000     \               user32
ELF     0x7fa85000-7fb20000     Deferred        comctl32
  \-PE  0x7fa90000-7fb20000     \               comctl32
ELF     0x7fc22000-7fc30000     Deferred        libxext.so.6
ELF     0x7fc35000-7fc38000     Deferred        libxrandr.so.2
ELF     0x7fc38000-7fd20000     Deferred        kernel32
  \-PE  0x7fc50000-7fd20000     \               kernel32
ELF     0x7fe32000-7fe47000     Deferred        libnsl.so.1
ELF     0x7fe47000-7fe50000     Deferred        libnss_compat.so.2
ELF     0x7fe52000-7fe57000     Deferred        libxxf86vm.so.1
ELF     0x7fe57000-7fe60000     Deferred        libsm.so.6
ELF     0x7fe62000-7fe68000     Deferred        libxxf86dga.so.1
ELF     0x7fe68000-7fe8b000     Deferred        libm.so.6
ELF     0x7fe8b000-7ff80000     Deferred        libwine_unicode.so.1
ELF     0x7ff80000-7ff8a000     Deferred        libnss_files.so.2
ELF     0x7ff8a000-7ff94000     Deferred        libnss_nis.so.2
ELF     0x7ff98000-80000000     Deferred        ntdll
  \-PE  0x7ffb0000-80000000     \               ntdll
ELF     0xb7e02000-b7e06000     Deferred        libdl.so.2
ELF     0xb7e06000-b7f1e000     Deferred        libc.so.6
ELF     0xb7f1e000-b7f31000     Deferred        libpthread.so.0
ELF     0xb7f32000-b7f4c000     Deferred        libwine.so.1
ELF     0xb7f64000-b7f7b000     Deferred        ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
0000000f (D) C:\Program Files\Winamp\winamp.exe
        00000010    0 <==
WineDbg terminated on pid 0xf",13,"0"
"WINE-41090","Multiple games (Starcraft 2 UE4 games) require vcruntime140.dll.__intrinsic_setjmp","Created attachment 55289
Terminal output Wine 1.9.16

When attempting to start We Happy Few one of the functions called on while the game is loading is vcruntime140.dll.__intrinsic_setjmp which is unimplemented as of Wine 1.9.16. 

Terminal output attached.",102,"0"
"WINE-36916","Command and Conquer Tiberium Wars Demo reports 'Please make sure you have DirectX 9.0 or higher installed.'","Hello wine-team

I just tested the Command and Conquer 3 - Tiberium Wars Demo version. AppDB entry is under the following link:

http://appdb.winehq.org/objectManager.php?sClass=version&iId=7155

The problems that I am having is that it doesn't seem to like my graphics chipset which is an:

00:02.0 VGA compatible controller: Intel Corporation 82945G/GZ Integrated Graphics Controller (rev 02)

I have attached my console output in .txt-format and hope it helps.",340,"1"
"WINE-29392","Multiple apps need msvcp90.dll.??0?$basic_ostringstream@GU?$char_traits@G@std@@V?$allocator@G@2@@std@@QAE@H@Z (Juggernaut MMORPG MS Office Communicator 2007 R2 Trial Cmake Elsterformular)","the program juggernautclient.exe has encountered a serious problem and needs to close.
Exception EExternalException in module ntdll.dll at 0001F977. External exception C0000025

this is what i see when i launch a program. if you need some more information i will be glad to give it to you.
thx in advice",293,"1"
"WINE-4226","Regression from 0.9.3 to 0.9.4 with ChemSketch Freewareversion 8.0","Wine was configured with winetools (TFTs DCOM98 MFC IE6). With wine 0.9.3 the 
buttons were all complete (pictures on it). With wine 0.9.4 the buttons are now 
empty (but fully functional). As there are a lot of buttons the software is now 
unusable

Chemsketch can be found here: http://www.acdlabs.com/download/ (Registration 
required).",44,"0"
"WINE-12582","solidworks crash at startup in mshtml","solidworks crashes a startup calling setup_nswindow in mshtml. It is a major regression as it used to work for a long time.

I tried to force gecko installation with winetricks gecko but it doesn't change anything (it is already installed during installation).",89,"0"
"WINE-6208","Diamond Mind Baseball used to work now does not","I use Ubunutu Dapper.  Under Ubuntu Breezy Diamond Mind Baseball worked without
problems.  Dapper uses Wine 0.9.9.  Under this version one of the display
controls (the one showing Replay) - which I think may be a listbox - is not
showing all text only some of it and is difficult to read.

I installed both version 0.9.20 and 0.9.21 to see if the problem was fixed.  The
problem is now worse.  Diamond Mind Baseball loads information from files in a
folder called rptdes.  You can see if it was successful by going to
Reports->Standard and seeing if anything is in the listbox.

Diamond Mind also uses those files (or similar ones in another folder - not
sure) to populate the playing screen.  So now because the files are not getting
loaded I get the message Error loading the report design information.  And
then the program crashes.

I installed Crossover Office.  It appears to use Wine 20050830.  Diamond Mind
Baseball works fine under this version.

So the error was introduced between 20050830 and 0.9.9 and a worse error was
introduced between 0.9.9 and 0.9.20.",1135,"1"
"WINE-1571","flash MX gui  partially loaded wine frozen","Happen since updating from 20030508 was perfectly working before (except
toolkit icons not showing).
(sorry for the keyboard thingy not done yet mozilla debugging s plain time job
these days :(

succed in getting an output once:
fixme:keyboard:X11DRV_KEYBOARD_DetectLayout Your keyboard layout was not found!
Using closest match instead (French keyboard layout) for scancode mapping.
Please define your layout in dlls/x11drv/keyboard.c and submit them
to us for inclusion into future Wine releases.
See the Wine User Guide chapter Keyboard for more information.
fixme:ole:CoCreateInstance no classfactory created for CLSID {275c23e2-3747-11d0
-9fea-00aa003f8646} hres is 0x80040154
fixme:ole:CoCreateInstance no classfactory created for CLSID {275c23e2-3747-11d0
-9fea-00aa003f8646} hres is 0x80040154
err:module:BUILTIN32_dlopen failed to load .so lib for builtin uxtheme.dll: /usr
/lib/wine/uxtheme.dll.so: Ne peut ouvrir le fichier d'objet partag?: Aucun fichi
er ou r?pertoire de ce type
fixme:ole:CoRegisterMessageFilter stub
fixme:wintab32:WTInfoA (0 0 (nil)): stub
err:module:BUILTIN32_dlopen failed to load .so lib for builtin quicktime.qts: /u
sr/lib/wine/quicktime.qts.so: Ne peut ouvrir le fichier d'objet partag?: Aucun f
ichier ou r?pertoire de ce type
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stufixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:storage:StgCreateDocfile Transacted mode not implemented.
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:mdi:MDIRefreshMenu partially function stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:imm:ImmGetContext (0x10092): stub
fixme:imm:ImmReleaseContext (0x10092 (nil)): stub
fixme:imm:ImmGetContext (0x10092): stub
fixme:imm:ImmSetCompositionFontA ((nil) 0x408b18d0): stub
fixme:imm:ImmReleaseContext (0x10092 (nil)): stub
fixme:imm:ImmSetCompositionFontA ((nil) 0x408b18d0): stub
fixme:imm:ImmReleaseContext (0x10092 (nil)): stub
fixme:imm:ImmGetContext (0x10055): stub
fixme:ole:CoCreateInstance no classfactory created for CLSID {275c23e2-3747-11d0
-9fea-00aa003f8646} hres is 0x80040154
fixme:ole:CoCreateInstance no classfactory created for CLSID {275c23e2-3747-11d0
-9fea-00aa003f8646} hres is 0x80040154
fixme:imm:ImmGetContext (0x10055): stub
X Error of failed request:  BadDrawable (invalid Pixmap or Window parameter)
  Major opcode of failed request:  62 (X_CopyArea)
  Resource id in failed request:  0x0
  Serial number of failed request:  12361
  Current serial number in output stream:  12458
err:ntdll:RtlpWaitForCriticalSection section 0x4109c530 x11drv_main.c: X11DRV_C
ritSection wait timed out in thread 000a blocked by 0009 retrying (60 sec)


PS: does wine ever require registry update and how can it be achieve (without
losing old apps entries) ?

Do not hesitate sending me back to doc if i ve missed somethg (just read the
pointers from wine bug page my bad)

Cheers
Alban",24,"0"
"WINE-28521","Black box around the mouse cursor","In several games the mouse cursor is surrounded by a black solid rectangle on my system.
I can't show you a picture of the problem because the mouse pointer doesn't show up on the screenshots.
Nothing relevant in the terminal.

The demo for Port Royale added to url. After installation place a native msvcp60.dll in the game directory. The mouse cursor with the black box around it appears in the menu.

This is due to

9b7ea6f417a68517745203123d9df0516ebc60b1 is the first bad commit
commit 9b7ea6f417a68517745203123d9df0516ebc60b1
Author: Huw Davies 
Date:   Tue Sep 27 16:13:39 2011 +0100

    gdi32: Forward StretchBlt calls from the dib driver to the null driver.

:040000 040000 ce22d7943f0f7aecdda67e97b5812cb40b40cc96 c11b7ea6be9e5605ec4b3d2959af57b22ec7d54d M	dlls

Fedora 15
Gnome 3
X.Org X Server 1.10.4
Nvidia 250 / driver 280.13",7,"0"
"WINE-40550","AfterEffects CS6 crashes at launch","Created attachment 54381
backtrace for crash at startup

wine 1.9.7 fresh 64-bit prefix Windows 7. 

winetricks msxml3 applied to work around bug #40548 .

After starting up the process crashes ( backtrace attached ) . Full terminal output is below.

fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92fb30 63 ) semi-stub
fixme:msvcp:locale__Locimp__Makexloc (0x92fb30 63 0xe76bbf0 (nil)) semi-stub
fixme:msvcp:locale__Locimp__Makewloc (0x92fb30 63 0xe76bbf0 (nil)) semi-stub
fixme:msvcp:locale__Locimp__Makeushloc (0x92fb30 63 0xe76bbf0 (nil)) semi-stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92faf0 63 ) semi-stub
fixme:msvcp:locale__Locimp__Makexloc (0x92faf0 63 0xe77e0d0 (nil)) semi-stub
fixme:msvcp:locale__Locimp__Makewloc (0x92faf0 63 0xe77e0d0 (nil)) semi-stub
fixme:msvcp:locale__Locimp__Makeushloc (0x92faf0 63 0xe77e0d0 (nil)) semi-stub
fixme:heap:RtlSetHeapInformation 0xebb0000 0 0x92fc60 4 stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92f4a0 1 C) semi-stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92eed0 1 C) semi-stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92f930 1 C) semi-stub
fixme:heap:RtlSetHeapInformation 0xfea0000 0 0x92fc10 4 stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92f588 1 C) semi-stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92f578 1 C) semi-stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92f398 1 C) semi-stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92f6b8 1 C) semi-stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92f3d0 1 C) semi-stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92ee50 1 C) semi-stub
fixme:wtsapi:WTSRegisterSessionNotification Stub 0x10056 0x00000001
fixme:ntdll:NtSetInformationToken unimplemented class 24
fixme:nls:GetUserPreferredUILanguages stub: 8 0x92e7e4 (nil) 0x92e7e0
fixme:ntdll:NtLockFile I/O completion on lock not implemented yet
err:ole:CoInitializeEx Attempt to change threading model of this apartment from apartment threaded to multi-threaded
fixme:ole:CoInitializeSecurity ((nil)-1(nil)(nil)03(nil)0(nil)) - stub!
fixme:wbemprox:client_security_SetBlanket 0x7f7afbed0020 0xa8410 10 0 (null) 3 3 (nil) 0x00000000
fixme:wbemprox:client_security_Release 0x7f7afbed0020
fixme:wtsapi:WTSUnRegisterSessionNotification Stub 0x10056
wine: Unhandled exception 0xe06d7363 in thread 24 at address 0x7b44e66c (thread 0024) starting debugger...
fixme:heap:RtlSetHeapInformation (nil) 1 (nil) 0 stub
fixme:ntdll:NtLockFile I/O completion on lock not implemented yet
fixme:ole:CoInitializeSecurity ((nil)-1(nil)(nil)03(nil)0(nil)) - stub!
fixme:wbemprox:client_security_SetBlanket 0x7e1db7a0 0x137b50 10 0 (null) 3 3 (nil) 0x00000000
fixme:wbemprox:client_security_Release 0x7e1db7a0
fixme:heap:RtlSetHeapInformation (nil) 1 (nil) 0 stub
fixme:ntdll:NtLockFile I/O completion on lock not implemented yet
fixme:nls:GetUserPreferredUILanguages stub: 8 0x34d310 (nil) 0x34d314
err:winsock:WSAIoctl -> _WSAIO(IOC_WS2 23) request failed with status 0x2733
err:winsock:WSAIoctl -> _WSAIO(IOC_WS2 23) request failed with status 0x2733
err:ole:CoInitializeEx Attempt to change threading model of this apartment from apartment threaded to multi-threaded
fixme:ole:CoInitializeSecurity ((nil)-1(nil)(nil)03(nil)0(nil)) - stub!
fixme:wbemprox:client_security_SetBlanket 0x7c4607a0 0x1c4088 10 0 (null) 3 3 (nil) 0x00000000
fixme:wbemprox:client_security_Release 0x7c4607a0
fixme:wininet:InternetCheckConnectionW 
fixme:imm:ImmReleaseContext (0x10094 0x47a9900): stub",4,"0"
"WINE-8085","DVD Shrink: Goes into infinite loop when Creating Class Enumerator","Just began occuring in Wine 0.9.35. Has worked fine in previous versions. To
test try launching DVD Shrink from console. After a few seconds a few error
messages will show then a loop will begin. Pressing Ctrl+C to terminate this
allows the app to function normally (as far as I could tell). Once the app
started and DVD files were opened before analysis would begin another Ctrl+C
was necessary. The same was true for encoding (this was a single layer DVD so
deep analysis was not done). I then recreated the bug from a clean wine install
and it still remains. Log will be attached shortly.

Note: I'm unsure what component to file this under so please change to what is
appropriate.",51,"0"
"WINE-STAGING-39348","Multiple games hang on exit when CSMT enabled","Created attachment 52444
winedbg bt all

I have some games that freeze on exit when CSMT is enabled.The game executable remains in memory and constantly uses 100% cpu after exiting the game.
Most of the games with this problem are older titles using Directx 6-8 some of them are newer ones built on DX9.
With disabled CSMT those games always quit properly.
Plain terminal output doesn't show anything related.
Reproduced with nvidia binary driver 340.93 and nouveau/mesa git.

Two examples:

1. Freespace 2 demo (DX7 60M):
http://www.fileplanet.com/126954/120000/fileinfo/Freespace-2-Demo-
(in the launcher select  then select a video mode with 3D support start the game. In the main menu press  a couple times to quit the demo).

2. Nikopol demo (DX9 355M):
http://www.fileplanet.com/191497/190000/fileinfo/Nikopol:-Secrets-of-the-Immortals-Demo

wine-1.7.51-225-g3966aff
Fedora 22 32-bit
OpenGL vendor string: nouveau
OpenGL renderer string: Gallium 0.4 on NV92
OpenGL core profile version string: 3.3 (Core Profile) Mesa 11.1.0-devel",525,"1"
"WINE-35603","Wine64 build produces extra warning in setupapi comparing to Wine32 build","Created attachment 47552
64bit build log

Similarly to bug 35602 but this time for setupapi:
 * warning: cast from pointer to integer of different size",1769,"1"
"WINE-7454","Installation of Office 2000 fails because of copy error","This bug report is actually for version 0.9.31 but this was not available in 
the version list.
After inserting my initials and the serial number accepting the license and 
then starting the installation it fails with an copy error in the wine msi 
module.
I will attach the console output.",10,"0"
"WINE-6602","Saga Of Ryzom: ctrl alt shift generate garbage in textfields","The ctrlshift and alt keys generates garbage in text field in this game.

It seems to be related to dinput since if disabling dinput the ctrlaltshift 
keys does not produce garbage but this will also change the mouse behaveour 
and is not an option.

It is also related to autorepeat firstly because garbage is autorepeated 
and secondly because up until 0.9.17 it was possible to use 
xset r  for each of the offending keys before starting the game
to get around this behaveour  it only worked if the env. var LANG was set 
to en_US though. This workaround stopped working somewere after 0.9.17 (not 
tested with 0.9.1[89]) and is still broken in 0.9.23/24.

link to Saga of Ryzom: http://www.ryzom.com",47,"0"
"WINE-20725","Adobe photoshop CS2 fails to install","starting 

wine /mnt/cdrom/Adobe\(R\)\ Photoshop\(R\)\ CS2/setup.exe

gives just before the setup wants to copy the data:

 err:msi:msi_dialog_bitmap_control Failed to load bitmap (null)
err:msi:msi_dialog_bitmap_control Failed to load bitmap (null)
err:msi:msi_dialog_bitmap_control Failed to load bitmap (null)
err:msi:ACTION_CallDllFunction Custom action (LC:\\windows\\temp\\msi42be.tmp:LCleanXHTML) caused a page fault: c0000005
err:seh:raise_exception Exception frame is not in stack limits => unable to dispatch exception.


then the installer exist without having anything copied.",81,"0"
"WINE-4722","mpr.dll PwdGetPasswordStatusA unimplemented","wine: Call from 0x404b27f0 to unimplemented function
mpr.dll.PwdGetPasswordStatusA aborting
wine: Unimplemented function mpr.dll.PwdGetPasswordStatusA called at address
0x404b27f0 (thread 0027) starting debugger...

must have something to do with screensaver passwords.",2,"0"
"WINE-5228","wineserver crashes when choosing skin in WMP 7.1","When clicking on one of the skins in the Skin Chooser window in Windows Media 
Player 7.1 it hangs and the message 
wineserver crashed please report this. 
 
The other console output is written when doing other stuff in the Player as 
well so it does not seem to be relevant.",12,"0"
"WINE-1805","InternetCrackUrl incorrectly sets dwUrlPathLength","Hi

During some application testing we discovered that WinE does not correctly
mimic the WinINet function InternetCrackUrl. The real WinAPI sets the
dwUrlPathLength member of the URL_COMPONENTS structure to additionally hold
the extra info of the given URL if the extra info is not requested as a
separate component. Although this behaviour is not well documented by the
Win SDK it is for instance implemented on WinXP Win2000 and WinME and
therefore might be considered to be intended by Microsoft.

The following lines of code demonstrate the problem:

   LPCTSTR lpszURL = _T(http://www.myserver.com/myscript.php?arg=1)
   URL_COMPONENTS url

   // call 1: crack out url path and extra info
   ::ZeroMemory(
   url.dwStructSize = sizeof(url)
   url.dwHostNameLength = 1
   url.dwUrlPathLength  = 1
   url.dwExtraInfoLength = 1
   ::InternetCrackUrl(lpszURL 0 0 
   // dwUrlPathLength is 13 holding /myscript.php

   // call 2: only crack out url path
   ::ZeroMemory(
   url.dwStructSize = sizeof(url)
   url.dwHostNameLength = 1
   url.dwUrlPathLength  = 1
   ::InternetCrackUrl(lpszURL 0 0 
   // now dwUrlPathLength should be 19 holding /myscript.php?arg=1
   // while WinE still sets it to 13

OK it is of course no great deal to write code that correctly runs on real
Win systems and on WinE (2-3 lines did it). But programers who rely on this
behaviour will for example wonder why their applications don't transmit any
HTTP GET parameters when they call HttpOpenRequest with lpszObjectName set
to the URL path component returned by InternetCrackUrl...",521,"1"
"WINE-33990","MSVC 2013 std::mutex crashes","Created attachment 45165
Source code which when compiled with MSVC 2012 or 2013 with v*_xp SDK crashes.

A simple program using std::mutex compiled with MSVC 2012 or 2013 crashes wine on execution. I have attached the source code.",597,"1"
"WINE-4367","Locomotion's music/sound skips frequently during play","Wine version 0.9-6 / windows 2000 on Debian-based distribution (x86)
Wine 0.9-1 has it too.

Reproducing the bug:

- Wait in the game's main screen and wait about 40 seconds and you may hear it. 
That does happen in any part of the game.

I've captured Locomotion's music using Audacity and it was clear that when the
bug appeared the screen showed a lag between sounds. Please see the attached
file in ogg format(Another way to reproduce this bug).

I couldn't find the most likely cause debugging it. Any ideas?",75,"0"
"WINE-12229","mshtml: script.c test crashes in kubuntu hardy","Created attachment 11662
+mshhtml trace in git

+mshtml trace in git

In a fresh install of kubuntu hardy (with KDE 4) mshtml: script.ok is consistently crashing:

---snip---
Backtrace:
=>1 0x6045752c func_script+0x41c() [/home/austin/wine-git/dlls/mshtml/tests/script.c:438] in mshtml_test (0x0033fe68)
  2 0x604577fa run_test+0x14a(name=0x1103ef) [/home/austin/wine-git/dlls/mshtml/tests/../../../include/wine/test.h:408] in mshtml_test (0x0033fea8)
  3 0x60457f22 main+0x142(argc= argv=0x1103d0) [/home/austin/wine-git/dlls/mshtml/tests/../../../include/wine/test.h:456] in mshtml_test (0x0033fed8)
  4 0x60457ffb __wine_spec_exe_entry+0x5b(peb=0x7ffdf000) [/home/austin/wine-git/dlls/winecrt0/exe_entry.c:36] in mshtml_test (0x0033ff08)
  5 0x7b875d0e start_process+0xee(arg=0x0) [/home/austin/wine-git/dlls/kernel32/process.c:883] in kernel32 (0x0033ffe8)
  6 0x600258f7 wine_switch_to_stack+0x17() in libwine.so.1 (0x00000000)
---snip---

+mshtml trace attached.

Installing wine-gecko solves the crash. If wine-gecko is needed to pass this test then we should skip this test if wine-gecko isn't found (the other tests in script.ok are).

Looks like we need an mshtml component...",1,"0"
"WINEHQ.ORG-12039","Next Link on commit log broken","While going through the recent commits that have happened over my vacation I found a broken link.

Go to http://source.winehq.org/git/wine.git/?a=log
and attempt to go to the next page. You'll get the error:
403 Forbidden - Text field empty 

The shortlog view works fine...",281,"1"
"WINE-7883","Adobe Photoshop Elements 5 doesn't install completely","The installer (with Mike's patch) seems to
complete but it doesn't seem to have installed a .exe.",34,"0"
"WINE-4332","Wine User's Guide -incomplete information about compilation","Hallo
the paragraph that describes installing Wine from source should be more verbose.
For example during bug reporting process I have been told that in order to
enable CUPS support in compiled Wine the libcupsys2-dev package should be
installed in system. There is no mention in documentation about such needs and
.configure has complained only about missing x11-dev libraries that I have
resolved quickly.

I think printing is such a notorious thing when You use computer so that any
steps necessarry to gain this kind of functionality should be mentioned in the
Guide.

I have no deeper knowledge what are the other such dependencies. For example I
don't know whether it is necessarry to install some packages to get sound
working in compiled Wine etc.

So please if there are some dependencies like the libcupsys2-dev one can
somebody competent create a neat table and insert it to the User's Guide
chapter discussing the compilation?",798,"1"
"WINE-19773","Largo Winch: mostly black screen","Created attachment 23165
Last 100000 lines of +all-some log prior to ^C mostly d3d8

After starting the game from the main menu as soon as the introductory video sequence ends and the player gets control the screen turns black except for the 4 keyboard indicators in the top right and the dialog text at the bottom of the screen.
Pressing Esc leads to a working menu (the palmtop display).  Also the main menu is correctly displayed.

The graphics are actually present because sometimes when refreshing the desktop window after putting another one in front the scene becomes visible for a few milliseconds then turns black again!

The black screen is present:
 - with Intel i915 graphics on Ubuntu Intrepid
 - with NVidia 9400M graphics on MacOS
 - AppDB mentions it with wine-1.1.1.

I tried various settings of HKCU\Software\Wine\Direct3D\RenderTargetLockMode OffscreenRenderingMode UseGLSL DirectDrawRenderer to no avail.  Same with Massimo's DIB engine with wine-1.1.22.

This does not seem related to the QuickTime bug #1347:
 - the patch from bug #1347 comment #58 does not help
 - compiz is not running
 - black in virtual desktop and fullscreen modes
 - pbuffer no improvement on NVidia.",1254,"1"
"WINE-14784","SetWindowHookEx fail to inject DLL containing the HookProc if...","SetWindowHookEx fails to inject DLL conatining the HookProc into another process if the DLL is linked with another DLL in the same directory which is not on PATH.

Suppose DLLA_GetMsgProcis is in A.DLL and A.dll is linked to B.dll with those code:

hwnd = FindWindow(NotepadNULL)
idThread = GetWindowThreadProcessId(hwnd NULL)
SetWindowsHookEx(WH_GETMESSAGE DLLA_GetMsgProc hinst idThread )

SetWindowsHookEx will fail because it can not load B.dll which is imported by A.dll.

If hwnd is created by current process there is no problem. But in above code
Notepad is not the current process.

I have created a simplest test application (attached) with source and compiled exe/dll to show the above bug on wine.",389,"1"
"WINE-24942","Fable: The Lost Chapters rendered scenes mostly black without native d3dx9_36","After installing on Windows copying over and installing mfc42
the game is mostly playable... except that the tip screen background at
the beginning and most of the rendered scenes are black.

winetricks d3d9x_36 works around this",753,"1"
"WINE-16325","incorrect font rendering for CJK programs","Created attachment 17630
patches in a tar.bz archive

If a CJK program uses ANSI_CHARSET to create font instance text is not correctly rendered the result is that 
some text in the affected programs are not correctly displayed.  This is not a critical problem but I consider
it a blocker for most Chinese Wine users as it happens massively.

This problem is reported and fixed here:

http://bugs.winehq.org/show_bug.cgi?id=4065

However the fix only dealt with a particular program (picasa) and is not a universal fix.  A hack specifically designed for 
Chinese user (codepage 936) is proposed but not accepted because it is not universal.  This patch is based on the
cp936 hack proposed in bug #4065.

The patch has two flavor the first one uses GetACP() to obtain correct codepage to use which is preferred.  The second
will use environment variable WINE_DEFAULT_CODEPAGE if not defined will NOT affect original code flow.  The 2nd
method added a little bit inconvenience for CJK users but maintains maximum compatibility because as discussed
on the Ubuntu Chinese forum there are better solutions which is out of my ability to change:

http://forum.ubuntu.org.cn/viewtopic.php?f=121&t=169647 (Chinese)",1667,"1"
"WINE-24146","Worms Reloaded needs msvcr80.dll._splitpath_s","Worms Reloaded crashes on startup with a clean wineprefix:

fixme:actctx:parse_depend_manifests Could not find dependent assembly LMicrosoft.VC80.CRT (8.0.50727.762)
fixme:msvcrt:_controlfp_s ((nil) 65536 196608) semi-stub
Crc::sCrc ==wine: Call from 0x7edc77b3 to unimplemented function msvcr80.dll._splitpath_s aborting
wine: Unimplemented function msvcr80.dll._splitpath_s called at address 0x7edc77b3 (thread 0020) starting debugger...
Can't attach process 0023: error 5
err:ole:RevokeDragDrop invalid hwnd (nil)
err:ole:RevokeDragDrop invalid hwnd 0x200a8
fixme:dbghelp:EnumerateLoadedModulesW64 If this happens bump the number in mod",5,"0"
"WINE-21202","HotWheels CRASH!: Window invisible","Created attachment 25462
EnumDisplayDevicesW and DirectDrawEnumerateExA flags FIXMEs...

HotWheels CRASH! Installs fine but fails to start in Windows XP mode. Once it is set to Windows 98 mode and told to boot using Hardware GFX settings it will start but then the window simply goes invisible with fixme:win:EnumDisplayDevicesW flooding the terminal window. I believe this issue is because of DDRAW. Attached is the log.",579,"1"
"WINE-19978","python installer: puts python26.dll in C:\windows\system32 not C:\python26 (appinstall)","See summary. All other files seem okay (C:\windows\winsxs is messed up a bit but I believe that's covered by other bugs).",78,"0"
"WINE-34284","Fur looks wrong on Sims 3 Pets","Sims 3 Pets installs from cd and runs flawlessly in general (yay) with 
just 'winetricks dotnet20' (haven't tried it without).

But when you are choosing a pet if you look at a pet with long fur
it looks very wrong stippled instead of soft.

The game is loading d3dx9_36 but 'winetricks d3dx9_36' didn't help...
so I'm guessing it's a wined3d problem.  The log shows errors like

err:d3d:device_clear_render_targets >>>>>>>>>>>>>>>>> GL_INVALID_FRAMEBUFFER_OPERATION (0x506) from glClear @ device.c / 675
fixme:d3d:context_check_fbo_status FBO status GL_FRAMEBUFFER_UNSUPPORTED (0x8cdd)
fixme:d3d:context_check_fbo_status 	Location SFLAG_INTEXTURE (0x40000).
fixme:d3d:context_check_fbo_status 	Color attachment 0: (0x655dbe8) WINED3DFMT_L16_UNORM 1024x768 0 samples.
fixme:d3d:context_check_fbo_status 	Depth attachment: (0x655dd68) WINED3DFMT_D24_UNORM_S8_UINT 1024x768 0 samples.
err:d3d:wined3d_debug_callback 0x1605d8: GL_INVALID_FRAMEBUFFER_OPERATION error generated. Operation is not valid because a bound framebuffer is not framebuffer complete..

but I don't know if they're related to the problem.",20,"0"
"WINE-29391","SetupNgen.exe crashes while installing Paint.NET 2.5 (needs wshom.ocx WshShell3_get_SpecialFolders implementation)","Created attachment 38048
Full terminal output

Twice while installing Paint.NET 2.5 it shows an error dialog with the following message then produces a crash in SetupNgen.exe after dismissing it:

Failed to load resources from resource file
Please check your Setup

The installer reports success in spite of this. It needs winetricks dotnet11 as a prerequisite.

Workaround: native wshom.ocx (winetricks wsh57)",14,"0"
"WINE-5049","wine fails with client error:9: write: Bad file descriptor","I have tryed many apps with wine that worked before or work with cedega and many
of them fail with 
wine client error:9: write: Bad file descriptor
wine client error:9: write: Bad file descriptor
wine client error:9: write: Bad file descriptor
wine client error:9: write: Bad file descriptor
wine client error:9: write: Bad file descriptor
wine client error:9: write: Bad file descriptor
wine client error:9: write: Bad file descriptor
wine client error:9: write: Bad file descriptor
wine client error:9: write: Bad file descriptor
wine client error:9: write: Bad file descriptor
wine client error:9: write: Bad file descriptor
wine client error:9: write: Bad file descriptor
wine client error:9: write: Bad file descriptor
...
what does this mean?
I have also copied a app from a drive to on other and I got the same.
(was working when it was on the other drive)
example: hl.exe (counter strike) aquamark.exe (benchmark)",223,"1"
"WINE-13748","Last Chaos aborts after clicking 'start' in 0.9.57 and later","Created attachment 13786
Error log

Last Chaos works fine with *.55. But does not with newer versions (althouh I did not test *.56 but *.57). It stops after clicking the START button.

Log attached (wine 1.0-rc3).",12,"0"
"WINE-30308","Property sheet fails to display Page Title","Created attachment 39609
Screenshot of PropertySheet - Left Windows Right WINE.

When a header bitmap isn't passed to PropertySheet.  The Title text is not display on the dialog.",1771,"1"
"WINE-12409","EVE Premium Client Login Screen Black","When you start the eve client in premium mode the login screen has a black area covering the usual visual of the eve logo scrolling over to near a planet.  This has been the case for the last few releases of wine so I have included the bisect result.  

76014205de3cbd73fe761db8f86fcdb178bb0189 is first bad commit
commit 76014205de3cbd73fe761db8f86fcdb178bb0189
Author: Roderick Colenbrander 
Date:   Sat Mar 29 14:48:15 2008 +0000

    wined3d: Fix a postpixelshader_blending bug.

:040000 040000 7ff864a3521e2d3274f5f5450d9b7f0173bfb1ac df0929cc8c7df9d641583ad2c94a107bb15361cb M	dlls

Note that the comments seem to imply that the graphic behind the black area isn't being rendered though when you enter the game you can see it for a split second.  

If any other debugs are wanted please ask for them.",8,"0"
"WINE-43897","CHM viewer navigation items are not longer shown","Even when explicitely configured to be shown in the CHM file Wine 2.19's CHM viewer only shows the HTML content without the navigation toolbars. This previously worked as expected as late as Wine 2.14 (see e.g. issue #41985).

To reproduce download OpenMPT from https://openmpt.org/download and open the CHM help from the Help menu or try to open the CHM file directly from your file browser.",77,"0"
"WINE-6414","Application stucks in the splash screen","An windows application stucks in splash screen. It uses firebird as a database 
and 2 dlls: fbclient.dll and msvcp60.dll.",36,"0"
"WINE-1939","Microsoft golf 99 install fails","As in summary using wine cvs current kernel 2.4.22-21.tmb.1mdk glibc
2.3.2-14mdk and gcc 3.3.1-2mdk. I'll attach the wine and debugger log.",703,"1"
"WINE-6314","Emperor.exe crashes when -c is not given in commandline options","Emperor battle for dune crashes when executed with wine emperor.exe must be
executed with wine emperor.exe -c the -c option disabled texture compression
according to the game's readme file.",792,"1"
"WINE-4850","Skype 2.0 splash screen graphic missing","Skype 2.0.* splash screen graphic is missing even with Mozilla Active X Control
used ( I believe this screen uses IE's renderer to place the graphic there). 
Pretty trivial but a bug nevertheless.",259,"1"
"WINE-31682","Sony PC Companion 2.10 crashes at the welcome screen","Created attachment 41651
wine-1.5.12-194-g688aa1f console output

Using native msxml3 to work around Bug 31681 the PC Companion brings up a start window. Immediately after the start window there is another crash.

Winedbg does produce a backtrace.

Note: Skip MTP install to save time.",194,"0"
"WINE-39545","wine build fails without libpulse","Created attachment 52696
config.log

System: Debian Jessie 64 bit

Configure detects that libpulse is missing (see attached config.log) but make tries to link winepulse.drv against libpulse. Therefore building wine fails for me with:

make[1]: Entering directory '/usr/src/wine/wine-build-local32/dlls/winepulse.drv'
../.././../wine-build-local64/tools/winegcc/winegcc -o winepulse.drv.so \
  -B../.././../wine-build-local64/tools/winebuild --sysroot=../.. -m32 -fasynchronous-unwind-tables -shared ../../../wine-git-local/dlls/winepulse.drv/winepulse.drv.spec \
  mmdevdrv.o -ldxguid -luuid -lwinmm -luser32 -ladvapi32 -lole32 -lwine \
  ../../libs/port/libwine_port.a -lpulse -lpthread 
/usr/bin/ld: cannot find -lpulse
collect2: error: ld returned 1 exit status
winegcc: ccache failed
Makefile:209: recipe for target 'winepulse.drv.so' failed
make[1]: *** [winepulse.drv.so] Error 2",1,"0"
"WINE-32776","Crashes in Legacy 5 resulting in its database being corrupted","Created attachment 43279
Program error details and backtrace.

After loading Legacy5 open an individual's window.
Try to open a new event or edit an existing one and Legacy crashes and its database gets corrupted and can no longer be used.",0,"0"
"WINE-23790","Cursors in City of Heroes draw incorrectly with ATI graphics","In City of Heroes some cursors draw with incorrect transparency creating colored halos or borders.  The easiest cursor to see this on is the ordinary white arrow pointer which has a white border on the bottom and right edges.  Other cursors especially drag-and-drop cursors are also affected.

This bug appears when using an ATI graphics card but not an NVidia graphics card.",92,"0"
"WINE-3635","winebuild generates broken PowerPC assembler","winebuild generates references to the high bits of labels with the form
(label)@hi. Current gas chokes on that. The low bits are currently accessed
correctly with @l(reg) so I believe this is merely an oversight.",9,"0"
"WINE-26211","Dragon Age II Demo launcher crashes","To work around bug 26205 do
  wget http://winetricks.googlecode.com/svn/trunk/src/winetricks-alpha
  winetricks-alpha d3dx9_36 d3dx11_43

The game's launcher then starts but on my Ubuntu 10.10 laptop
there's a crash dialog (which can be ignored)
the console says

fixme:quartz:AsyncReader_QueryInterface No interface for {56a868b5-0ad4-11ce-b03a-0020af0ba770}!
fixme:gstreamer:GST_QueryInterface No interface for {56a868b5-0ad4-11ce-b03a-0020af0ba770}!
fixme:quartz:DSoundRender_QueryInterface No interface for {56a868b5-0ad4-11ce-b03a-0020af0ba770}!
wine: Unhandled page fault on read access to 0x2009e65c at address 0x2009e65c (thread 0021) starting debugger...

and the Bioware / EA / dragon logo movie is silent.

Doing
  winetricks-alpha devenum
gets rid of the crash and makes the logo movie play sound.",1659,"1"
"WINE-36584","valgrind shows a leak in winmm/tests/mci.c","==21406== 20 bytes in 1 blocks are definitely lost in loss record 177 of 907
==21406==    at 0x7BC4C6DF: notify_alloc (heap.c:255)
==21406==    by 0x7BC50F23: RtlAllocateHeap (heap.c:1716)
==21406==    by 0x4FAA78D: str_dup_upper (mci.c:85)
==21406==    by 0x4FADF54: mciSendStringW (mci.c:1373)
==21406==    by 0x4FAEE30: mciSendStringA (mci.c:1627)
==21406==    by 0x4E56FA9: test_openCloseWAVE (mci.c:582)
==21406==    by 0x4E5C60A: func_mci (mci.c:1311)
==21406==    by 0x4E7865B: run_test (test.h:584)
==21406==    by 0x4E78A4A: main (test.h:654)
==21406==",13,"0"
"WINE-1917","DialogBox","Moving A DialogBox with a mouse produces shadows (Multiple
Dialogboxes with disappear after some time) This
behavior does not occur on my w2k machine Compiled with VC++
Tested with own C API Program. Happens also than
I compile the program using winemaker. I can mail the test program
(very small) I would fix the bug by myself. Unfortunatelly
I do not know enough about Linux only C and C++ on MS :-(

It looks like that W2K hides the Dialog during Moving
Wine does not. 

Sincerely

Chris

Chayaphum/Kingdom of Thailand",1266,"1"
"WINE-31370","Full screen functionality broken in full screen programs","Any programs which able to switch full screen is broken in full screen mode.
As soon as it tries to switch in full screen and configured to displayed in desktop it switch to window with decorations and panel other it.

Regression test showed:
401d12085bc897e973badee3260aa41389c63c8e is the first bad commit
commit 401d12085bc897e973badee3260aa41389c63c8e
Author: Henri Verbeet 
Date:   Fri Jul 13 12:53:11 2012 +0200

    winex11: Fix the virtual desktop check in update_desktop_fullscreen().

:040000 040000 7715ae1558216506b568d995076bf091e820d245 b518dc4d5c0d54f8038b9a57e6b3cdc774f595f5 M      dlls",14,"0"
"WINE-7260","Graphical corruptions in Sim City 4","When running Sim City 4 in its default DirectX hardware mode (can be forced
using -d:DirectX parameter) the images drawn on screen are broken. The screen
is drawn somewhat correct after stopping to scroll however it then degrades
again as seen in the screenshot below. The game also does not enter a city but
always crashes during loading.

Furthermore the cursor icons do not work with only the default Windows cursor
being shown all the time. This makes gameplay hard as it is impossible to tell
which tool is selected. This problem applies to the OpenGL version (-d:OpenGL
flag) as well.",2028,"1"
"WINE-6947","CSpy/Tab: Tabs are in the wrong order","In CSpy's Tab application the tabs are in the wrong order. (See screenshot)",504,"1"
"WINE-39295","Saints Row 2 crashes on unimplemented function x3daudio1_4.dll.X3DAudioInitialize","Created attachment 52374
SR2 Launch Logs with x3daudio1_4.dll.X3DAudioInitialize error

Saints row 2 crashes on launch with no overrides due to x3daudio1_4.dll. A larger log file is attached but what I think are the important bits are listed below.

fixme:dsound:DSOUND_RecalcFormat Conversion from 6 to 2 channels is not implemented falling back to stereo
err:ole:CoGetClassObject class {d3332f02-3dd0-4de9-9aec-20d85c4111b6} not registered
err:ole:CoGetClassObject no class object {d3332f02-3dd0-4de9-9aec-20d85c4111b6} could be created for context 0x1
wine: Call from 0x7b82bd78 to unimplemented function x3daudio1_4.dll.X3DAudioInitialize aborting
wine: Unimplemented function x3daudio1_4.dll.X3DAudioInitialize called at address 0x7b82bd78 (thread 0029) starting debugger...
Unhandled exception: unimplemented function x3daudio1_4.dll.X3DAudioInitialize called in 32-bit code (0x7b82bd78).",108,"0"
"WINE-8512","Saving in Google SketchUp6 doesn't work","Trying to save *.skp causes Google Sketchup incl. wine to crash. Autosave seems to 
work.",457,"1"
"WINE-37374","Behringer X-32 Edit crashes on startup","Created attachment 49700
Details of errors

This file is a single executable file found at http://www.behringerdownload.de/X32/X32-Edit_V2.3_PC.zip used to create and edit scenes for the Behringer X-32 Sound Mixer.  Double clicking the file after extraction or opening through the terminal both yield the same error posted below.",28,"0"
"WINE-27256","PDFCreator installer cannot display Chinese correctly","1. Download PDFCreator from http://sourceforge.net/projects/pdfcreator/
( http://sourceforge.net/projects/pdfcreator/files/PDFCreator/PDFCreator%201.2.1/PDFCreator-1_2_1_setup.exe/download )


2. open the installer with wine:
$ wine PDFCreator-1_2_1_setup.exe

3. click the Choose language menu the last three item can not display correctly all of them display as 口口口

I'm not sure that whether this is a duplicate of  Bug 16325 - incorrect font rendering for CJK programs

Fortunately PDFCreator is open source so even if it is a duplicate we have a good test case.


$ sha1sum Wine/pdf/PDFCreator-1_2_1_setup.exe 
48fd60e5a677bd39b13e0188075e83137005259e  Wine/pdf/PDFCreator-1_2_1_setup.exe",263,"1"
"WINE-12521","Origin 8.0: License expires immediately without native msxml3","Origin 8.0 allows a 21 day trial period but when installed the license claims to be expired immediately unless native msxml3 is installed.

http://www.originlab.com/ftp/Origin8Installer.exe",115,"0"
"WINE-11201","Dungeon Siege v.1.11.1462 crashes after intro sequence","Created attachment 10270
Backtrace from winedbg

Dungeon Siege patched to the latest verion (1.11.1462) crashes immediately after the opening intro sequence.

The crash occurs both with an emulated desktop and full screen and the backtrace is the same. This with a clean .wine and default settings.",12,"0"
"WINE-40303","Control Data passed in DIALOGEX Resource passes pointer with offset sizeof(WORD)","Created attachment 53942
Sourcecode for a test program

When DIALOGEX Resources contain Custom data like in:

DEFPUSHBUTTON OK IDOK 148 6 50 14 { 1 2 3 4 5 }

The pointer passed in WM_CREATE is two bytes higher than in windows. In Windows (Tested with Vista an Windows 7 64-Bit) it Points to the Number of Words in Wine it points to the first data byte.

Microsoft Specs for this stuff are here:

https://msdn.microsoft.com/de-de/library/windows/desktop/ms645389%28v=vs.85%29.aspx

Attached file dialogtest.zip is sourcecode for a test program with a simple custom control that displays the passed control data.

Bug is in Version 1.6.2 (Debian Jessie) and 1.9.5 (Last Download).

My suggestion for a patch:

--- wine-1.6.2.orig/dlls/user32/dialog.c
+++ wine-1.6.2/dlls/user32/dialog.c
@@ -2347 +2348 @@ static const WORD *DIALOG_GetControl32(
             TRACE(\n)
             TRACE(  END\n )
         }
-        info->data = p + 1
+        info->data = p
         p += GET_WORD(p) / sizeof(WORD)
     }
     else info->data = NULL",932,"1"
"WINE-12892","Winedbg crashes on a simple mingw binary","Created attachment 12598
Crashy file

A simple one-line null pointer cross-compiled with i586-mingw32msvc-gcc -g -O2 crashes winedbg after it is trying to get a backtrace. If I strip the file it will work.",3,"0"
"WINEHQ.ORG-5273","Doesn't mention mandriva 2006","This page says:
Mandriva binary .rpms for Mandrakelinux 10.0 10.1 and Mandriva Linux 2005
Limited Edition

I assume this should also mention Mandriva 2006",104,"0"
"WINE-1479","freebsd does not build avifile.dll.so","Hi
Trying to run cvs wine on FreeBSD 4.8.
Thx


cd `dirname avicap32/__install__` && make install
../../tools/mkinstalldirs -m 755 /usr/local/lib/wine
/usr/bin/install -c   avicap32.dll.so /usr/local/lib/wine/avicap32.dll.so
cd `dirname avifil32/__install__` && make install
../../tools/mkinstalldirs -m 755 /usr/local/lib/wine
/usr/bin/install -c   avifil32.dll.so /usr/local/lib/wine/avifil32.dll.so
make: don't know how to make _install_/avifile.dll.so. Stop
*** Error code 2

Stop in /home/tst/wine/dlls.
*** Error code 1",202,"0"
"WINE-43971","Wine 2.20 Bcrypt compilation fails under older linux systems while Wine 2.0.3 compiles fine","LOG:

make[1]: Entering directory `/home/frd/Software_Packages/source_compile/wine/builds/wine-2.20/dlls/bcrypt'
gcc -c -o bcrypt_main.o bcrypt_main.c -I. -I../../include -D__WINESRC__ -D_REENTRANT -fPIC -Wall -pipe \
  -fno-strict-aliasing -Wdeclaration-after-statement -Wempty-body -Wignored-qualifiers \
  -Wstrict-prototypes -Wtype-limits -Wunused-but-set-parameter -Wvla -Wwrite-strings -Wpointer-arith \
  -Wlogical-op -gdwarf-2 -gstrict-dwarf -fno-omit-frame-pointer -g -O2 -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=0
bcrypt_main.c:830:1: error: ‘key’ defined as wrong kind of tag
 {
 ^
make[1]: *** [bcrypt_main.o] Error 1
make[1]: Leaving directory `/home/frd/Software_Packages/source_compile/wine/builds/wine-2.20/dlls/bcrypt'
make: *** [dlls/bcrypt] Error 2

GCC version: 4.8.1

Configure output:

configure: libgnutls development files too old bcrypt encryption won't be supported.

So why is bcrypt compilling ?",48,"0"
"WINE-31533","Copy from Onenote 2010 to linux native or even wine apps fails","Hello All

I am using Wine 1.5 and have installed Microsoft office 2010 X86 version. The problem is that when I copy something from onenote and try to paste on linux application i.e gedit open office or even on Wine apps i.e MS word ONENOTE crashes and restarts.

This makes it impossible to copy anything (mainly text) from ONENOTE to any other app. Same bug has been reported before (Bug 18242) for ONENOTE 2007 but it is abandoned at this moment.

It is because of this bug smoothly working ONENOTE becomes unusable. Strange this is but no such problem occurs with other products such as MS word presentation 2010.

I hope that this bug is fixed ASAP.

Thanks

Atul",2103,"1"
"WINE-40254","mshtml:script test regression (timeout)","Since the commit below the test times out on some Windows XP machines:

script.c:632: Test failed: LXMLHttpRequest not found in window object\n
script.c:632: Test failed: Ltypeof(XMLHttpRequest) = undefined
script.c:632: Test failed: Lgot exception 'XMLHttpRequest' is undefined
test failed: timed out

Looking at the test.winehq.org results this seems to specifically affect pre-Internet Explorer 7 Windows XP configurations such as fgtb-fgtbwinxp fg-winxp-1sp and fg-winxp-2sp (for instance none of the fg-winxp-2spie7 and up VMs is affected).

mshtml:script results on test.winehq.org:
https://test.winehq.org/data/tests/mshtml:script.html

commit c0fda9824e213e5a779bddfba6052dfc20b9c8d3
Author: Jacek Caban 
Date:   Wed Feb 24 15:21:24 2016 +0100

    mshtml: Expose XMLHttpRequest constructor to scripts.",675,"1"
"WINE-29081","Drag and Drop: Duplicate entries in winamp playlist window","Created attachment 37475
Wine log for xdnd

Operating System: Kubuntu 10.04 LTS with KDE 4.4.5 / i386 / nvidia grafics driver

Bug is related to winamp a windows music player (www.winamp.com). Other applications may be affected by this bug.

Problem:
Every File drag and dropped to the playlist-window of winamp will duplicated. It generates double entries for every file dropped to the playlist-window.

Version of wine:
This bug has been introduced since version 1.3x. In wine 1.2 everything is fine.

Details:
If you drag drop a file to the main window of winamp no duplicate entries will be generated. But if you drop a file to the playlist-window (a window within the winamp application) you will get two entries (duplicated). So it seems to me that the bug is connected to how the drag drop code specifies the target window.


Wine trace (WINEDEBUG=xdnd wine winamp.exe)
last lines in wine 1.2x:
----------------------------
trace:xdnd:X11DRV_XDND_DropEvent 
trace:xdnd:X11DRV_XDND_SendDropFiles Sending WM_DROPFILES: hWnd(0x0x10056) 0x1356a4(LE:\\x.mp3)
trace:xdnd:X11DRV_XDND_FreeDragDropOp 

last lines in wine 1.3x:
----------------------------
trace:xdnd:X11DRV_XDND_DropEvent 
trace:xdnd:X11DRV_XDND_SendDropFiles Sending WM_DROPFILES: hWnd(0x0x101e0) 0x1abe6c(LZ:\\home\\angel\\Desktop\\x.mp3)
trace:xdnd:create_stream_from_map size 4096
trace:xdnd:XDNDDATAOBJECT_QueryGetData (0x68a29320 0x7adbb4={.tymed=0x1 .dwAspect=1 .cfFormat=49326}
trace:xdnd:XDNDDATAOBJECT_QueryGetData application didn't find UniformResourceLocator
trace:xdnd:XDNDDATAOBJECT_QueryGetData (0x68a29320 0x7adba0={.tymed=0x1 .dwAspect=1 .cfFormat=15}
trace:xdnd:XDNDDATAOBJECT_QueryGetData application found CF_HDROP
trace:xdnd:XDNDDATAOBJECT_GetData (0x68a29320 0x7adba0 0x7adbd8)
trace:xdnd:XDNDDATAOBJECT_GetData application is looking for CF_HDROP
trace:xdnd:XDNDDATAOBJECT_QueryGetData (0x68a29320 0x7adba0={.tymed=0x1 .dwAspect=1 .cfFormat=15}
trace:xdnd:XDNDDATAOBJECT_QueryGetData application found CF_HDROP
trace:xdnd:X11DRV_XDND_DropEvent drop succeeded
trace:xdnd:X11DRV_XDND_FreeDragDropOp 

It seems that with wine 1.3 new code for a better drag and drop functionality has been introduced. But also leading to a bug with duplicate entries.

Maybe someone can fix this? Would be nice :-)",1363,"1"
"WINE-7639","Papyrus loses focus when user clicks on font size pulldown","The papyrus 10.5 demo seems to work ok at first glance
but when I tried switching font size I then couldn't
type because the main window had lost focus.  Clicking
on the main window again changed the font size back
to what it had been before!  The only way to get font
size change to work is to do it on a selection then
click back inside the selection.",611,"1"
"WINE-1291","Noteworthy Composer's music font not found","Bug comments restored from Gmane.org: 
 
The TrueType music font NWCV15 installed by Noteworthy Software's
Composer/Player programs (downloadable from URL given) doesn't work under Wine -
with the latest Wine CVS code the program just complains that the font can't be
found.  The font is evidently SYMBOL_CHARSET but on Windows the program doesn't
have to specify this for it to be correctly found.  I can get it to be found in
Wine by duplicating the two lines of code in the dlls/gdi/freetype.c routine
WineEngCreateFontInstance() that compare each font face name with Symbol and
set up the search lfCharSet appropriately.  The comment immediately preceeding
these lines hints that this isn't necessarily done right in Wine and the NWCV15
font is evidently in the same class as Symbol in that respect.

Once the program can find the font though it still doesn't work - the symbols
from the font are not displayed just square boxes where they should appear. 
It's not obvious to me whether these two problems might be related or not.


------- Additional Comments From anjohnson  iee.org  2003-02-21 01:25 -------
I have a partial solution to my second problem - it seems that Matt Johnson
 guysfield.demon.co.uk> managed to get Noteworthy running on an old
version
of Wine and by looking at and applying one of the source changes he made I now
have the NWCV15 font displaying properly.  Unfortunately it seems this broke the
display of the wingdings font though...

Here's my complete patch to dlls/gdi/freetype.c which allows me to use
Noteworthy. I'm not suggesting that these changes should go into the official
Wine tree though these are really just workarounds.


Index: freetype.c
===================================================================
RCS file: /home/wine/wine/dlls/gdi/freetype.cv
retrieving revision 1.30
diff -u -r1.30 freetype.c
--- freetype.c  23 Jan 2003 21:32:36 -0000      1.30
+++ freetype.c  21 Feb 2003 07:20:05 -0000
@@ -1656 +1657 @@
 static WCHAR MSSansSerifW[] = {'M''S'' ''S''a''n''s'' '
                               'S''e''r''i''f''\0'}
 static WCHAR HelvW[] = {'H''e''l''v''\0'}
+static WCHAR NWCV15W[] = {'N''W''C''V''1''5''\0'}

 static WCHAR ArabicW[] = {'A''r''a''b''i''c''\0'}
 static WCHAR BalticW[] = {'B''a''l''t''i''c''\0'}
@@ -9706 +9718 @@

     if(!strcmpiW(lf.lfFaceName SymbolW))
         lf.lfCharSet = SYMBOL_CHARSET
+    if(!strcmpiW(lf.lfFaceName NWCV15W))
+        lf.lfCharSet = SYMBOL_CHARSET

     if(!TranslateCharsetInfo((DWORD*)(INT)lf.lfCharSet &csi TCI_SRCCHARSET)) {
         switch(lf.lfCharSet) {
@@ -13388 +13418 @@

 static FT_UInt get_glyph_index(GdiFont font UINT glyph)
 {
-    if(font->charset == SYMBOL_CHARSET && glyph < 0x100)
-        glyph = glyph + 0xf000
+    if (font->charset == SYMBOL_CHARSET)
+       pFT_Select_Charmap(font->ft_face ft_encoding_symbol)
     return pFT_Get_Char_Index(font->ft_face glyph)
 }",413,"1"
"WINE-34312","3d chat client for there.com crashes","Created attachment 45678
the bug it tells me I get

I  am so close getting There.com to work I can log on and with There-tweak and setting it to OGL I can get it to load and I can play the game... I do get this web page but when it wont load it crashes I get this segmentation violation and every time it will close....please help",844,"1"
"WINE-17720","Pefect World MS crashes when minimized","When/if i ever minimize the game it crashes on me. Literally will crash or freeze. This error wasn't encountered in windows so i'm guessing it's something with WINE. If screen is minimized it'll crash or freeeze everytime. It never fails.",545,"1"
"WINE-4937","NASA WorldWind doesn't start.","It is an application like GoogleEarth but OPEN SOURCE. This might help a lot
further improve wine. I managed to install the Application but the best I got
when starting it was a Fatal stack overflow and an Unhandled Page fault from
the .NET environment Maybe the main problem is that the .NET runtime
environment has to be installed.",1026,"1"
"WINE-34051","Low FPS with winemac driver in Unreal Tournament GOTY","Unreal Tournament GOTY (from GOG.com)

Running on 10.8.4 with Nvidia 9400M

Configured to use OpenGL driver in-game.

The winemac driver has low FPS (like a slideshow) compared to X11 which is smooth.

I've experimented with the default OpenGlDrv.dll and a patched renderer version here (http://www.cwdohnal.com/utglr/) which gives slightly better performance.",113,"0"
"WINE-44902","Baidu Wifi Hotspot crashes in IShellLink::SetIconLocation method due to missing NULL path handling","Created attachment 60987
Backtrace error

it error when i installing BAIDU WIFI HOTSPOT",181,"0"
"WINE-35362","Aeria Games/Aura Kingdom launcher account signin fails due to IHTMLDocument2.GetActiveElement stub","Hello folks

as the summary says ...

Prerequisite: 'winetricks -q dotnet40'

--- snip ---
$ pwd
/home/focht/.wine/drive_c/AeriaGames/AuraKingdom

$ wine ./aeria_launcher.exe
...
fixme:mshtml:HTMLDocument_get_activeElement (0x9fbe358)->(0x33e438)
The method or operation is not implemented.
System.NotImplementedException: The method or operation is not implemented.
   at System.Windows.Forms.UnsafeNativeMethods.IHTMLDocument2.GetActiveElement()
   at System.Windows.Forms.HtmlDocument.get_ActiveElement()
   at AI.Controls.WebBrowserEx.PreProcessMessage(Message& msg)
   at System.Windows.Forms.Control.PreProcessControlMessageInternal(Control target Message& msg)
   at System.Windows.Forms.Control.PreProcessControlMessage(Message& msg)
   at System.Windows.Forms.Integration.ApplicationInterop.ThreadMessageFilter(MSG& msg Boolean& outHandled)
   at System.Windows.Interop.ComponentDispatcherThread.RaiseThreadMessage(MSG& msg)
   at System.Windows.Interop.ComponentDispatcher.RaiseThreadMessage(MSG& msg)
   at System.Windows.Threading.Dispatcher.PushFrameImpl(DispatcherFrame frame)
   at System.Windows.Threading.Dispatcher.PushFrame(DispatcherFrame frame)
   at System.Windows.Window.ShowHelper(Object booleanBox)
   at System.Windows.Window.Show()
   at System.Windows.Window.ShowDialog()
   at AI.MainWindow.OpenLoginScreen(EventHandler`1 onLoginCompleted)
   at AI.AppController.OpenLoginScreen(EventHandler`1 onLoginCompleted)
   at AI.LoginPanel.onClick(Object sender RoutedEventArgs e)
...
--- snip ---

Source: http://source.winehq.org/git/wine.git/blob/ff9bbe372128eb42f921e393b80c7924468b70f1:/dlls/mshtml/htmldoc.c#l186

--- snip ---
 186 static HRESULT WINAPI HTMLDocument_get_activeElement(IHTMLDocument2 *iface IHTMLElement **p)
187 {
188     HTMLDocument *This = impl_from_IHTMLDocument2(iface)
189     FIXME((%p)->(%p)\n This p)
190     eturn E_NOTIMPL
191 }

--- snip ---

$ sha1sum aurakingdom_us_downloader.exe 
b31bb993d30e87f59b6c211bacd49eb610075f8a  aurakingdom_us_downloader.exe

$ du -sh aurakingdom_us_downloader.exe 
572K	aurakingdom_us_downloader.exe

$ wine --version
wine-1.7.10-343-g770d09d

Regards",35,"0"
"WINE-36605","valgrind shows a definite leak in wintrust/tests/softpub.c","==21310== 132 bytes in 1 blocks are definitely lost in loss record 340 of 484
==21310==    at 0x7BC4C6DF: notify_alloc (heap.c:255)
==21310==    by 0x7BC50F23: RtlAllocateHeap (heap.c:1716)
==21310==    by 0x4E0DC37: WINTRUST_Alloc (wintrust_main.c:47)
==21310==    by 0x4E1136C: WINTRUST_AddSgnr (wintrust_main.c:1050)
==21310==    by 0x4CAEC43: test_utils (softpub.c:161)
==21310==    by 0x4CB02E1: test_provider_funcs (softpub.c:631)
==21310==    by 0x4CB13D9: func_softpub (softpub.c:937)
==21310==    by 0x4CB21DB: run_test (test.h:584)
==21310==    by 0x4CB25CA: main (test.h:654)
==21310==",13,"0"
"WINE-14749","riched20: Fix vertical scrolling","Created attachment 15248
riched20: Fix vertical scrolling

The acfb6ea210c92ef9ff41dc6828f9482e9c6d6516 commit introduced new bug that can be reproduced by any program that uses RichEd20: if control has less than one page of text it can be scrolled past the last line of text hiding all of it completely.
The following patch fixes this.",168,"0"
"WINE-5901","EU Playonline Viewer Crash","When following the howto at http://appdb.winehq.org/appview.php?iVersionId=5342
 the European version of Playonline Viewer crash when trying to run it after
update was made.
It appears that in the Usa version this doesn't happen
A big difference between European and Usa versions are the dll ( which we need
to register ) which are called appEU.dll and polcoreEU.dll instead of app.dll
and polcore.dll.

I reproduced the problem with Wine 0.9.17 0.9.18 and the CSV snapshot.

I'm using Ubuntu Dapper ( 6.0.6 ) and tried with kernel 2.6.15-23-686
2.6.15-26-386 and 2.6.17.3

If i override imm32 application still crash but at another point.",642,"1"
"WINEHQ_APPS_DATABASE-18664","Merging an application with itself causes all child objects to be deleted","Just happened with this app:
http://appdb.winehq.org/objectManager.php?sClass=application&iId=9759

Rosanne had processed this app just before I opened it to process.  The result being that the appdb found a duplicate entry: but it was the same app.
(Carelessly) I merged the app with itself this deleted all versions and test data.

A number of possible solution:
1. Apps shouldn't find themselves as duplicates (identifiable by their numeric ID).
2. An error message should appear when attempting to merge an app with itself.
3. It certainly shouldn't delete all objects at a bare minimum.

Better yet of course:  Once an app is processed attempting to process it again should report an error and fail e.g. App already processed.",32,"0"
"WINE-8052","Text no longer displayed","Latest release introduces a problem with font rendering that significantly
regresses behaviour of some apps such as Galactic Civilizations II which has
gone from some very minor font rendering issues to no fonts being drawn whatsoever.

Pertinent errors in debug output:

fixme:font:GetCharABCWidthsI : stub
fixme:font:GetTextExtentPointI calling GetTextExtentExPoint
fixme:font:WineEngRemoveFontResourceEx :stub",2,"0"
"WINE-31032","Ragnarok download manager shows a .NET exception on start (GdipLoadImageFromStream stream clone fails)","Hello

bug 30987 talks about a problem with builtin gdiplus and Mono.
Actually with .NET Framework 2.0 it fails too.

The issue (regression) is:

http://source.winehq.org/git/wine.git/commitdiff/9e12bc0175f6a65ee45ebce1ca519eac6f5ca501

(gdiplus: Create a copy of the source stream when loading an image.)

Mono still suffered after partial revert so these might not be related hence I made an extra one.

With MS .NET 2.0 there is a managed backtrace shown in console.

--- snip ---
Unhandled Exception: System.ArgumentException: Parameter is not valid.
   at System.Drawing.Image.get_FrameDimensionsList()
   at System.Drawing.ImageAnimator.CanAnimate(Image image)
   at System.Drawing.ImageAnimator.ImageInfo..ctor(Image image)
   at System.Drawing.ImageAnimator.Animate(Image image EventHandler onFrameChangedHandler)
   at System.Windows.Forms.ButtonBase.Animate(Boolean animate)
   at System.Windows.Forms.ButtonBase.Animate()
   at System.Windows.Forms.ButtonBase.set_Image(Image value)
   at FilesDownloader.MainForm.InitializeComponent()
   at FilesDownloader.MainForm..ctor()
   at FilesDownloader.Program.Main()
--- snip ---

Actually it's the result of problem happening earlier.
Using a managed debugger this backtrace is more likely the culprit:

--- snip ---
(2a.2b): CLR exception - code e0434f4d (first chance)
...
OS Thread Id: 0x2b (0)
ESP       EIP     
0033e3d4 7b8394f7 [HelperMethodFrame: 0033e3d4] 
0033e478 7ae3a024 System.Drawing.Internal.GPStream.NotImplemented()
0033e480 7adfefa5 System.Drawing.Internal.GPStream.Clone()
0033e670 79f1ef33 [GCFrame: 0033e670] 
0033e7c8 79f1ef33 [ComMethodFrame: 0033e7c8] 
0033e918 79f1ef33 [NDirectMethodFrameSlim: 0033e918] System.Drawing.SafeNativeMethods+Gdip.GdipLoadImageFromStream(IStream IntPtr ByRef)
0033e928 7ae088ab System.Drawing.Image.InitializeFromStream(System.IO.Stream)
0033e95c 7ae085a8 System.Drawing.Image..ctor(System.Runtime.Serialization.SerializationInfo System.Runtime.Serialization.StreamingContext)
0033e99c 7ae0a336 System.Drawing.Bitmap..ctor(System.Runtime.Serialization.SerializationInfo System.Runtime.Serialization.StreamingContext)
...
0033f034 794458a4 System.Resources.ResourceManager.GetObject(System.String System.Globalization.CultureInfo Boolean)
0033f058 79445809 System.Resources.ResourceManager.GetObject(System.String)
0033f05c 02b7096f FilesDownloader.MainForm.InitializeComponent()
0033f2f0 02b70270 FilesDownloader.MainForm..ctor()
0033f300 02b70090 FilesDownloader.Program.Main()
--- snip ---

Trace log:

--- snip ---
002b:Call gdiplus.GdipLoadImageFromStream(038a00300032e944) ret=0036a110 
...
002b:Call KERNEL32.RaiseException(e0434f4d00000001000000010032e30c) ret=79f97065
002b:trace:seh:raise_exception code=e0434f4d flags=1 addr=0x7b8394f7 ip=7b8394f7 tid=002b
002b:trace:seh:raise_exception  info[0]=80004001
002b:trace:seh:raise_exception  eax=7b826491 ebx=7b8b06b0 ecx=80004001 edx=0032e208 esi=0032e2ec edi=0032e260
002b:trace:seh:raise_exception  ebp=0032e248 esp=0032e1e4 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000287
002b:trace:seh:call_stack_handlers calling handler at 0x79f9a3c8 code=e0434f4d flags=1
002b:trace:seh:call_stack_handlers handler at 0x79f9a3c8 returned 1
002b:trace:seh:call_stack_handlers calling handler at 0x7a3197d4 code=e0434f4d flags=1 
...
002b:trace:gdiplus:GdipCreateStreamOnFile ((null) 2147483648 0x32e7c8)
002b:Ret  gdiplus.GdipLoadImageFromStream() retval=00000002 ret=0036a110
--- snip ---

The commit can't be cleanly reverted but just restoring old behaviour in GdipLoadImageFromStream() gets the app to work again.

Regards",2,"0"
"WINE-15425","Error when running Synthmaker. (need GdipCreateCachedBitmap)","Created attachment 16291
starting the program

You will need to copy mfc71.dll and msvcrt71.dll inside the Synthmaker directory after install. It doesn't work probably beacuse the application uses a mixed OpneGL / Bitmap implementation. If this is going to work a lot of other trouble applications will work (i think).",704,"1"
"WINE-2825","strange green color in office applications","in internet explorer some links are green coloured
in outlook (XP) in mails the links are colored green. If I select with the mouse
the text containing link then it is rendered green as normal. Also the count of
unread mails in the outlook folders view is green (and bold)
also in outlook some mails (but not all) are rendering all text in green",1037,"1"
"WINE-28944","Notepad2 v4.2.25 needs native msvcp60 to work correctly","Notepad2 is a light-weight freeware text editor. Source code of the application is also available.

When starting the application Wine doesn't complain about unimplemented stuffs (nothing is shown in the terminal actually) yet the application doesn't work correctly without native msvcp60.

Here are 2 problems which are remarkable at first sight:
- entered text doesn't appear in the editor
- type something in the editor then activate any of the menu options: you can observe that the activated menu options remain on the screen even after you switched to another menu (e.g. press  to open the about window then click on the  button. The about window remains on the screen.)

These issues can be worked around with a native msvcp60.dll

Mscodescan reveals the following stubbed symbols in Notepad2.exe:

./Notepad2.exe imports following stub symbols:
msvcp60:??0?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@ABV01@@Z
msvcp60:??0?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@ABV01@IIABV?$allocator@D@1@@Z
msvcp60:??0?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@ABV?$allocator@D@1@@Z
msvcp60:??0?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@IDABV?$allocator@D@1@@Z
msvcp60:??0?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@PBDABV?$allocator@D@1@@Z
msvcp60:??0?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@PBDIABV?$allocator@D@1@@Z
msvcp60:??1?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@XZ
msvcp60:??4?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV01@ABV01@@Z
msvcp60:??4?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV01@PBD@Z
msvcp60:??8std@@YA_NABV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@0@PBD@Z
msvcp60:??9std@@YA_NABV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@0@0@Z
msvcp60:??9std@@YA_NABV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@0@PBD@Z
msvcp60:??A?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAADI@Z
msvcp60:??Mstd@@YA_NABV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@0@0@Z
msvcp60:??Y?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV01@D@Z
msvcp60:??Y?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV01@PBD@Z
msvcp60:?_C@?1??_Nullstr@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@CAPBDXZ@4DB
msvcp60:?erase@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV12@II@Z
msvcp60:?find@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QBEIPBDI@Z
msvcp60:?insert@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV12@IPBDI@Z

Some of these are already reported in various other bug reports:
bug #27567 bug #27575 bug #27588",92,"0"
"WINE-19303","Sketchup 7 shows toolbars and menus but work area is blank","Created attachment 22349
Sketchup started using the command in the Sketchup icon

I am attempting to run Sketchup7 from Wine 1.1.25 under Ubuntu 9.04 (Gnome). I have installed winetricks and done the OPEN-GL fix.

Sketchup loaded under Wine but when running the program while the toolbars and menus all display correctly the work area remains blank (black). The cursor displays in the work area but when you draw with it there aren't any lines.

I assumed this was a problem which required the use of a new graphics card until last week when after downloading lots of updates Sketchup began to work the correct way the display was white with the axis lines showing. I decided I wanted a different template so I changed it and re-started Sketchup. After re-starting the work area was once again blank (black).",1817,"1"
"WINE-10233","TCM_GETCURFOCUS returns negative value","Hello

Before patch

Author: Hagop Hagopian 
Date:   17-03-2007 19:16:08
Parent: comctl32: tab: Added message sequence tests for the tab c...
Child: winex11.drv: In the case requested glyphs do not present...
Branch: master (d3drm: Implement D3DRMCreateColorRGB.) 
Follows: wine-0.9.33 (Release 0.9.33.)
Precedes: wine-0.9.34 (Release 0.9.34.)
    comctl32: tab: Minor bug fixes in the curSel and curFocus getters and setters.

The TCM_GETCURFOCUS messages refused to return negative values. This seems to be the correctly M$ Windows behavior. With the patch if the tab is not already rendered TCM_GETCURFOCUS returns -1. 

0009:Ret  window proc 0x4eb6b7
(hwnd=0x10056msg=TCM_GETCURFOCUSwp=00000000lp=00000000)
retval=ffffffff",1,"0"
"WINE-15042","check boxes go sometimes completely black","Created attachment 15695
screen shot of it happening

check boxes go sometimes completely black",1363,"1"
"WINE-20816","Civilization II crashes on startup when sound is enabled in Wine","Created attachment 24932
Civilization II backtrace with +winmm+mmsys traces

After patching Wine to deal with bug 20806 I noticed Civilization II crashed at a different point with the patch on top of wine-1.1.33-358-gddaf238 which didn't happen when I applied the patch from bug 20806 on top of wine-1.1.30-5-g6ad9518. A regression test indicated:

32c170344ae69d53f0446adf8eb660f2bff0b133 is the first bad commit
commit 32c170344ae69d53f0446adf8eb660f2bff0b133
Author: Eric Pouech 
Date:   Thu Oct 22 22:10:25 2009 +0200

    winmm: Move the 16bit management of wave out driver type to the new 16=>32 thunking scheme.

:040000 040000 f1d797ca26bfc8fcaf7ea7424fa90232a34052b6 2ae7e2c192aa5dc344404ed597a7d4a60165a636 M	dlls

Using Wine prior to this commit or disabling all sound backends in winecfg lets Civilization II start without crashing.",209,"0"
"WINE-13995","Microsoft .NET Framework 1.1 Service Pack 1 fails to install (crash)","Created attachment 14187
Crash log

This bug blocks installation of AutoCAD 2006 Polish Retail.

Tested in XP and 2000 compat modes.

A popup window shows up with Failed to load resources from resources file Please check your setup.

Log attached. Looks like an MSI bug but feel free to change the component if I'm wrong.",455,"1"
"WINE-30182","SuperPower 2 demo installation aborted","Created attachment 39392
terminal output

Near at the end of the install process I get the following error message:
Feature transfer error - Error: -1603 Fatal error during installation.
Afterwards the installer reverts all changes.

Installation works with Wine-1.4 but not with wine-1.4-284-gc5faf15.

fa2420d6960df77d6073e3666d375936c5999fe7 is the first bad commit
commit fa2420d6960df77d6073e3666d375936c5999fe7
Author: Hans Leidekker 
Date:   Mon Mar 12 12:26:34 2012 +0100

    msi: Perform a case insensitive match on filenames from cabinets.

:040000 040000 6b7210c4e9372efd6a5d2ad5b1d9d99eecf57a45 55e5b3a84d2e1c72443ba9bbe2cf295098f8c5b2 M	dlls

The reverted patch fixed the problem.",0,"0"
"WINE-20082","SIV (System Information Viewer) v4.00 SIVDRIVER crashes (IRP_MJ_CREATE and IRP_MJ_CLOSE dispatch routines not called)","Currently when a CreateFile() is done the IRP_MJ_CREATE dispatch routine is not called !  This is a major oversight and caused the v4.00 SIVDRIVER to crash.  For 4.01 I worked around this but failing to call the driver when the CreateFile() is done is a major failing and needs to be corrected.  The IRP_MJ_CLOSE routine also needs to get called for the CloseHandle().",3480,"1"
"WINE-24711","AV Voice Changer Software Diamond 7.0 (VcsCore.exe) crashes on startup","AV VCS 7.0 Gold does not work in this version of wine.

This bug report is being filed by an Ubuntu user but the owner of the laptop is less knowledgeable therefore if you need any further debugging information or logs please request them but it may take up to 2 weeks for a response.

Thank you guys.",1396,"1"
"WINE-15802","Turok 1.0.1.363: Mouse move does not work.","Turok 1.0.1.363: Game play is ok but only with cursor keys move. Mouse move does not work. Mouse click is ok.",1256,"1"
"WINE-20776","3DMark Vantage: your graphics card doesn't support DirectX 10 (needs support for 'D3D10_QUERY_SO_STATISTICS')","Now that bug 18852 is fixed 3DMark Vantage runs but when starting the benchmark it says: your graphics card doesn't support DirectX 10


fixme:dxgi:dxgi_device_init Ignoring adapter type.
fixme:d3d10core:d3d10_device_CreateQuery iface 0x1779dc desc 0x33a1f4 query 0x33a358 stub!


To install:
sh winetricks win2k vcrun2005sp1
sh winetricks vista
wine 3dmark_vantage_v101_0906a.exe",3288,"1"
"WINE-10300","KotOR has a very low framerate","KotOR used to run very fast but now it only draws one frame every few seconds.

Regression testing shows:

462a3c3d744da6b9ae2193947da8245c37baaa1f is first bad commit
commit 462a3c3d744da6b9ae2193947da8245c37baaa1f
Author: Roderick Colenbrander 
Date:   Wed Aug 1 23:20:54 2007 +0200

    wgl: wglChooosePixelFormatARB returns the total number of matching pixelformats and not the number of pixelformats stored in the buffer.
    
    This didn't work due to bugs in wglChoosePixelFormatARB but also due
    to strange behavior of glXChooseFBConfig. Some of its default values
    are not zero or GLX_DONT_CARE which cause some formats not to appear.

:040000 040000 014afa73c0abdc4220b0f0c3e6378ca60091bf9c 7278c49d64f8243c4252c71ae517c53ce04279d4 M      dlls

Is the cause for this.",114,"0"
"WINE-11805","WMP stops playback after few seconds","Somewhere after Wine 0.9.53 playback in Windows Media Player is broken: it plays for a few seconds then stops.  Using native quartz/devenum has no effect.
I'll do a regression test.",876,"1"
"WINE-11755","MediaMonkey 3.0.2 Error initializing Media Player","In the release version of MediaMonkey the program throws a Error during player Initialization dialog during startup.  The program will not play mp3's.",303,"1"
"WINE-15230","eXperience112 demo won't run","Created attachment 15996
console output

eXperience112 demo version won't run at all after installing. I see only black screen. I installed it on fresh .wine directory.

My system is openSuse 11.0 kernel 2.6.25.11-0.1-default graphic card Galaxy GeForce 7300GT drivers 173.14.12",862,"1"
"WINE-3459","WinRAR 3.5 smaller buttons are rendered incorrectly","WinRar has some buttons in its main window. When these buttons have a default
size they are OK. If I choose non-Large buttons very fancy things happen. I'll
attach scrennshots.

Winrar can be downloaded here: http://rarlabs.com/rar/wrar350.exe",396,"1"
"WINE-27054","Won't run Wix 3.6 (beta) installer","Downloaded from http://wix.sourceforge.net/releases/3.6.1629.0/Wix36.exe

$ wine Wix36.exe 
fixme:heap:HeapSetInformation (nil) 1 (nil) 0
err:ole:CoInitializeEx Attempt to change threading model of this apartment from multi-threaded to apartment threaded
fixme:msxml:domdoc_load VT type not supported (8209)",131,"0"
"WINE-5483","Installshield fails with the Pro evolution soccer 3 demo","With this demo Installshield begins to copy the first files and then stops. A
window appears with the (translated from french...) text:
Transfer error
Error:-5 Path %s not found 

Here is the console output

Joaopa

PS:I use the cvs dated of 2006-06-20.",4,"0"
"WINE-28067","In Battleground Europe mouse stuck in middle of screen","In Battleground Europe: http://appdb.winehq.org/objectManager.php?sClass=version&iId=10737 the mouse is stuck at the center of the opening screen and can't be moved.",933,"1"
"WINE-3962","Ragnarok Online + private servers","The private servers consist of three processes. First the client connects to   
the login server. The client sends the login information and the login server   
sends the client to the character server. A character is selected/created and   
the client is passed on to the map server. Basically wine drops off after the   
character server part. It will simply say Disconneted from server  
to server.   
   
I tried running ethereal to monitor what was going in and out. It looks like  
the host of this specific one has the 3 processes on different IP addresses as  
well. But the only one that doesn't show as trying to connect is the final  
map server. I ran a debug on winsock which is the URL.  
 
Also the server software is available for testing if needed. I've run the 
server on an internal network and got everythng to work fine but when my 
friend who also runs it through WINE tried to log in from her house it did 
the same thing.",2388,"1"
"WINE-38465","valgrind shows a definite leak in wininet/tests/http.c","==18670== 400 bytes in 8 blocks are definitely lost in loss record 617 of 744
==18670==    at 0x7BC49E0E: notify_alloc (heap.c:254)
==18670==    by 0x7BC4E044: RtlAllocateHeap (heap.c:1715)
==18670==    by 0x48D9907: heap_alloc (internet.h:93)
==18670==    by 0x48DB399: get_cookie_header (cookie.c:701)
==18670==    by 0x48F04AA: HTTP_InsertCookies (http.c:4215)
==18670==    by 0x48F298E: HTTP_HttpSendRequestW (http.c:4947)
==18670==    by 0x48F35E9: AsyncHttpSendRequestProc (http.c:5212)
==18670==    by 0x48FEAF7: INTERNET_WorkerThreadFunc (internet.c:3836)
==18670==    by 0x7BC89323: worker_thread_proc (threadpool.c:164)
==18670==    by 0x7BC8023F: ??? (signal_i386.c:2682)
==18670==    by 0x7BC80286: call_thread_func (signal_i386.c:2741)
==18670==    by 0x7BC8021D: ??? (signal_i386.c:2682)
==18670==    by 0x7BC8726D: start_thread (thread.c:443)
==18670==    by 0x4214EFA: start_thread (pthread_create.c:309)
==18670==    by 0x431362D: clone (clone.S:129)
==18670==",28,"0"
"WINE-7015","Doom3 crashes upon start","Ok i know there's a linux version but this is a regression anyway so should
be solved i think.
It's a regression between version 0.9.19 and 0.9.20. ATM doing regression
testing. More info follows",230,"1"
"WINE-43487","Magic Online  (Magic The Gathering: Online) Crashes in dwrite","Created attachment 58869
backtrace

Does not always happen so it sounds like a race condition.
THe most reliable way to reproduce is to go straight to Collection after logging in. That tries to create a card preview window and leads to a crash about 80% of the time. Attaching a trace",52,"0"
"WINE-13647","DSM Plugin for UltraVNC 1.0.4 Doesn't Work","Created attachment 13629
relay log

The plugin allows the connection to be encrypted. When selecting the DSM plugin and trying to connect you receive an error Connection Failed - Error Reading Protocol Version. The plugin can be found at ...

http://msrc4plugin.home.comcast.net/~msrc4plugin/

A relay log is attached. A few key lines I noticed from a brief look at the log for anything obvious...

0009:Ret  rsaenh.CPImportKey() retval=00000000 ret=7eb91d13
0009:Ret  advapi32.CryptImportKey() retval=00000000 ret=10001f3d
0009:Call KERNEL32.MultiByteToWideChar(000000000000000010009ea8 Error importing key.ffffffff0000000000000000) ret=7df81852

My guess is this is wine trying to import the rc4.key file the plugin uses. Is this a crypt related issue?",523,"1"
"WINE-10142","Switching workspaces/desktops can make some application windows disappear","Created attachment 8723
Back traces

Warcraft III Window disappear for taskbar and screen when changing between Desktops (but sound still plays). I think it can happen to other applications too.

Already Reported: BNET doesn't connect anymore

PS: Application was still running at the point of back traces. Only killing the process works.


SO: Ubuntu Gutsy 7.10",968,"1"
"WINE-25476","MS Office Pro 2010 Trial: setup.exe is started when starting installed apps","To reproduce:
1. Download the trial from Microsoft
2. Install it without customizing. The default install includes Outlook.
3. Try to run Word Excel or Powerpoint the installer will start up while the app is loading.
4. If you wait the installer will eventually crash.

If Outlook is not installed this does not happen.",362,"1"
"WINE-7788","Morrowind Elder Scrolls 3 crashes very early in game","Morrowind systematically crashes when I pickup my release order from the table
once character generation is complete. For no particular reason I tried again
with sound disabled in winecfg. This time the game crashes even earlier when I
push the hatch to get out from the prison ship.",486,"1"
"WINE-6430","many objects in EVE Online appear to have some texture problems","The object textures in EVE Online have lines in them sometimes.
See the planet on the screenshot.",152,"0"
"WINE-13437","Eudora 7.1.0.9 can't open attachments","+++ This bug was initially created as a clone of Bug #13429 +++

It was not possible to open attachments to an email in Wine 0.9.x versions in the Wine 1.0 RC-versions 1 and 2  this remains impossible.

Under Windows XP (SP1 and SP2) it was possible to click on an attachment in an email and it would be opened with the proper application.  In Ubuntu (7.04 7.10 and 8.04) under Wine (0.8.x 0.9.x and 1.0 RC1/2) clicking on the link to an attachment in an email message results in no activity.  No error message either.  Just nothing happens.",2065,"1"
"WINE-1503","executing old 16-bit program leads to unhandled exception in scroll.c","old 16-bit app crashes every time it gets executed. AFAICS two pointers are
passed to SCROLL_GetScrollRange() function one of which is truncated to
16-bits while another stays 32bit wide:

lpMin=0x2428 lpMax=0x415a242c


AFAICS truncation happens in function WINPROC_CallProc32ATo16:

  11 0x4082a957 (WINPROC_CallWndProc16+0x163(proc=0x4a700dd hwnd=0x39
msg=0xe3 wParam=0x2428 lParam=0x415a242c) [winproc.c:255] in user32.dll.so)
(ebp=415a22c0)
  12 0x4082f1fa (WINPROC_CallProc32ATo16+0x66(func=0x4a700dd hwnd=0x10039
msg=0xe3 wParam=0x415a2428 lParam=0x415a242c) [winproc.c:2738] in
user32.dll.so) (ebp=415a22fc)",384,"1"
"WINE-4895","Failed to get a valid XVisuial ID for the window 0x50088 in RenderMonkey","Hi there are already two bugs filed for this application (bug 3773 and bug
4702) but as far as i can judge i run into different bugs:
When run in virtual desktop (otherwise it crashes immediatley) and opening an
.rfx file i get a messagebox telling that a Dx9 window could not be opened. I
think it is related to this message in the console:

warn:d3d:IWineD3DDeviceImpl_CreateAdditionalSwapChain Failed to get a valid
XVisuial ID for the window 0x50088

Anyone an idea what's going on?",27,"0"
"WINE-12088","cannot scroll text in textbox in winrar","In bug 12087 I noticed I can't seem to scroll right in some text boxes. To repeat:

- start winrar
- press the add button on the toolbar
- go to the file tab
- type lots of text into the Files to add text box.

the text scrolls off the right side but I cannot see it.",316,"1"
"WINE-974","Put translation infrastructure in place for various Wine documents","Bug comments restored from Gmane.org: 
 
We get several mails from people willing to translate some parts of Wine 
documentation into foreign (and entirely alien -) languages. 
We should have a common framework set up for doing this very regularly 
consistently and well. 
 
I'd suggest that we create a web page for every language with a database backend 
which creates a new translation ticket for every documentation patch of Wine for 
every language involved (one ticket page per language). 
(e.g. by Alexandre CC'ing documentation patches to this system) 
 
Then everyone who is involved with translating documentation could commit the 
translation for his language into the *foreign language Wine cvs tree* 
and close the corresponding translation ticket on this language webpage. 
Once a month an automated build process would take the entire foreign language 
CVS tree and build new documentation for the web page to download. 
(the idea would be that the main Wine CVS tree would still only contain English 
docu with a short hint at where to get foreign documentation in the README file) 
 
Someone would have to be willing to develop this for us though. 
Any takers ? 
 
One guy willing to do some translation work is (add others here too !): 
 
Mon 12 Aug 2002 05:56:27   comp.emulators.ms-windows.wine  Thread   70 
of  108 
Lines 5                 Wine User Guide Translation         No responses 
Enio Schutt Jr  operamail.com>           at 
http://groups.google.com/ 
 
Newsgroups: comp.emulators.ms-windows.wine 
 
Hi 
I am interested in translating the Wine User's Guide to 
Brazilian Portuguese. 
I would like to hear your opinion. 
Bye.",1157,"1"
"WINE-8282","Shade: Wrath of Angels Demo 1.01: Freezes with black screen and frozen mouse pointer icon","After installation starting the application and following the initial animated
cutscene the screen turns black and a game generated mouse cursor icon appears
at the top left of the screen the mouse cursor icon is frozen there and does
not move with any mouse movement everything is frozen and I have to CTRL+ALT+F1
login and killall Shade.exe for the application to quit after which my
desktop has been resized to 800x600 and some of the brightness and color
settings have been changed on my desktop in the terminal the same line of text
was repeated over and over again until I manually stopped this application from
running

The text below repeated over and over again until I manually stopped the
application from running. I had captured most of the log with the identical
message repeating over and over again but the file size was over 3 MB and I
don't see any point in uploading a file that large with the same message:

fixme:d3dxof:IDirectXFileEnumObjectImpl_GetNextDataObject
(0x40bf330/0x40bf330)->(0x81afbc) stub!",252,"1"
"WINE-35466","Can't paste into search dialog of notepad","Doesn't happen in wordpad but in notepad!

open notepad
write test
select and copy it or copy text from somewhere else
open the search dialog e.g. with Ctrl+F
press Ctrl+V
   expected text to be in the search editcontrol
   but text appears in the notepad window
if you right-click the editcontrol and select paste it works...",136,"0"
"WINE-29774","Texture filtering doesn't work in nGlide","Created attachment 38665
NFS: Porsche Unleashed as it works with nGlide

When I run games such as Mortal Kombat 4 or Need for Speed: Porsche Unleashed using nGlide Glide wrapper there is no texture filtering. Textures look pixelated as if it were sotware rendering.",2222,"1"
"WINE-30524","Weather bug fails to detect vbscript (Property flag 1 not implemented)","See bug 28999

fixme:msi:AutomationObject_Invoke Method 2 LProperty wflags 1 not
implemented clsid {000c109e-0000-0000-c000-000000000046}",68,"0"
"WINE-33430","Santander bank security module crashes during StormFish installation","Created attachment 44232
wine crash when I try install https://wwws.santandernet.com.br/mps/bin/gbpluginabnsetup.exe

wine crash when I try install https://wwws.santandernet.com.br/mps/bin/gbpluginabnsetup.exe",840,"1"
"WINE-3089","winecfg crashes when viewing large number of dll overrides","I have just copied over all the dll overrides into the user reg from the
winetools utilities and have reformated them by exporting the registry (using
regedit) and saving the relevent dlloverrides section then importing them to a
fresh .wine directory. 

When attempting to use winecfg to view these overrides it instantly crashes into
a winedbg session reporting 'buffer overflows' or some such.

By adding the overrides using the winecfg interface you can reach the same error
after about 10-12 dlls.",104,"0"
"WINE-26795","White scrollbar background in builtin iexplore","Created attachment 34140
Screenshot

The scrollbars in Wine's iexplore.exe have a white background in 1.3.18 rather than the expected dithered grey (using default theme/color settings). My regression test indicated:

44f530275afcdde9febc06bc110631c0d5a56f77 is the first bad commit
commit 44f530275afcdde9febc06bc110631c0d5a56f77
Author: Huw Davies 
Date:   Mon Apr 11 10:00:28 2011 +0100

    gdi32: Implement SelectBrush for solid brushes.

:040000 040000 fe5cb65bd7393fd8687462e71d8d20a6f8878025 8e26d193f2547fc1bd4790b138db0d548b54312b M    dlls

Attempting to revert led to a compilation error.",2,"0"
"WINE-17665","Studio Tax fails to install","Created attachment 19853
Studio Tax error log

I just tried installing Studio Tax so that I could do my taxes but half way through the installation Studio Tax crashed. The only dependency that it needed was DotNet 2.0 which I installed.",255,"1"
"WINE-36265","valgrind shows a couple leaks in dmband/tests/dmband.c","==4122== 32 bytes in 1 blocks are possibly lost in loss record 72 of 263
==4122==    at 0x7BC4C735: notify_alloc (heap.c:255)
==4122==    by 0x7BC50F79: RtlAllocateHeap (heap.c:1716)
==4122==    by 0x5BBE7DE: ???
==4122==    by 0x5BBED52: ???
==4122==    by 0x4D4AE26: CoCreateInstance (unknwn.h:226)
==4122==    by 0x49552AF: test_COM_bandtrack (dmband.c:114)
==4122==    by 0x49556B9: func_dmband (dmband.c:161)
==4122==    by 0x49564B4: run_test (test.h:584)
==4122==    by 0x49568A2: main (test.h:654)
==4122== 
==4122== 848 bytes in 1 blocks are definitely lost in loss record 226 of 263
==4122==    at 0x7BC4C735: notify_alloc (heap.c:255)
==4122==    by 0x7BC50F79: RtlAllocateHeap (heap.c:1716)
==4122==    by 0x5BBE847: ???
==4122==    by 0x5BBED52: ???
==4122==    by 0x4D4AE26: CoCreateInstance (unknwn.h:226)
==4122==    by 0x4955320: test_COM_bandtrack (dmband.c:119)
==4122==    by 0x49556B9: func_dmband (dmband.c:161)
==4122==    by 0x49564B4: run_test (test.h:584)
==4122==    by 0x49568A2: main (test.h:654)
==4122==",424,"1"
"WINE-7620","winedbg fails with Unhandled page fault","winedbg notepad.exe returns with following

wine: Unhandled page fault on read access to 0x00000030 at address 0x7ed93771
(thread 0009)
 starting debugger...
Unhandled exception: page fault on read access to 0x00000030 in 32-bit code
(0x7ed93771).

This continues until killed.",445,"1"
"WINE-30617","Assassin's Creed 2 and Revelations look in wrong place for saved games?","With Bruno Jesus we create a hack to pass the ReadFileEx error for the Ubisoft Game Launcher (see bug #28119).
I tried the hack with 3 games and they work correctly.

But for two games (Assassin's Creed 2 and Revelations) the savegame does not works correctly. The savegame folder is here : c:/users/berillions/Local Settings/Application Data/Ubisoft Game Launcher/savegame_storage/XXX/40/

These folders exist and the savegame files too but when you launch the game the savegame is not found you can only begin a new game.

This is a message that i found in my +file log :
warn:file:CreateFileW Unable to create file
LC:\\users\\berillions\\Local Settings\\Application Data/Ubisoft Game
Launcher/savegame_storage/YmVyaWxsaW9ucw==/40/2.save.extendedmeta
(status c0000034)

trace:file:CreateFileW returning 0xffffffff

I don't think that the error come from the hack for Assassin's Creed Brotherhood the savegame works correctly because the savegame files are not in the same folder. For Brotherhood the savegame can be found here : c:/users/berillions/Saved Games/Assassin's Creed Brotherhood/SAVES

I found that the error c0000034 (STATUS_OBJECT_NAME_NOT_FOUND) means file is not found.

I attached the complete +file log.",149,"0"
"WINE-19510","UHA SFX file can't decompress","I got a UHA SFX.

The first thing to notice is that the SFX starts fine the file checksum pass.

But after you choose the directory to extract the files then application get graphical corrupted. You're still able to press Extract button but it does nothing.

Still you can uncompress the SFX in this way:
http://appdb.winehq.org/objectManager.php?sClass=version&iId=4003&iTestingId=9023

$wineconsole cmd
$uharc.exe e uha-sfx-file.exe
(decompress nicely)

There's no console output when running the SFX so I don't know what WINEDEBUG channels would be appropriated to use in this case?",902,"1"
"WINE-37012","Evernote 5.5.x crashes when accessing the Market tab","Created attachment 49180
Backtrace

When accessing the Market tab Evernote crashes.",187,"0"
"WINE-21878","Sonic R produces a blank screen in Direct3D mode","Created attachment 26517
Terminal output from 1.1.39

Sonic R has an option to use DirectDraw or Direct3D and while DirectDraw mode works fine Direct3D mode just produces a blank screen. If I blindly navigate to the character selection screen I can see textureless character models but that's it.

Older AppDB tests for this game show that Direct3D mode worked ages ago but this bug appeared sometime between 0.9.35 and 0.9.38. After much reverse regression testing I confirmed this and tracked down the problematic commit:

d9fef10b71b9add27cfaeffa6d7e3ab42342bba7 is first bad commit
commit d9fef10b71b9add27cfaeffa6d7e3ab42342bba7
Author: Stefan Dösinger 
Date:   Wed May 9 11:49:27 2007 +0200

    ddraw: Some caps fixes.

    Cards at DirectX7 times did not support non power of 2 textures and
    some games check the capatiblity flags incorrectly. Rollcage expects the
    D3DPTEXTURECAPS_POW2 (limitation) flag set and fails with the reference
    rasterizer which support NP2 textures and doesn't have the cap set.

:040000 040000 1013c4b33687335d59f27ceb09eece1453c41f27 f06bfc86b0a1bfa5c37b1b46819019018d57d770 M        dlls

Since I doubt the patch would still revert cleanly after all this time I tried the first version with it included (0.9.37). Vanilla 0.9.37 shows a blank screen in Direct3D mode with the patch reverted the game can be seen albeit with graphical bugs (apparently from an even older regression).

My video hardware is Intel GMA 950 driver version 2.9.0.",628,"1"
"WINE-41909","Calling TBM_SETPOS after TBM_SETRANGEMIN/TBM_SETRANGEMAX does not draw slider control properly","The default range for a slider is 0 to 100 so the value 0 is on the left side of the slider (assuming a horizontal slider).

I have a slider control ranging from -500 to +500 the range is being set using TBM_SETRANGEMIN / TBM_SETRANGEMAX. This means that the value 0 should be precisely in the middle.
However after calling TBM_SETPOS with a parameter of 0 the slider stays at the left side of the control even though it should now be located in the middle. This works as expected on Windows but not in Wine 1.9 on latest Xubuntu.

Code to reproduce:
SendMessage(hWnd TBM_TBM_SETRANGEMIN FALSE -500)
SendMessage(hWnd TBM_TBM_SETRANGEMAX FALSE 500)
SendMessage(hWnd TBM_SETPOS TRUE 0)",17,"0"
"WINEHQ_APPS_DATABASE-30358","Add 1.4.* to stable branches","1.4 is recent enough that it is still showing on the dropdown list of versions for test reports but it needs to be added to the list of stable versions that always display or it will drop off the list in a few weeks.",68,"0"
"WINE-12456","xu4 hangs on startup","Created attachment 11995
crash backtrace

Tried running xu4 and the application hangs on startup.
This is an open source application that allows the Ultima 4 Dos binaries to be run on modern systems.
The binaries are free (as in beer) and can be downloaded from the xu4 website: http://xu4.sourceforge.net/download.php",494,"1"
"WINE-15760","Wrong window size in QIP","Created attachment 16859
Microsoft ActiveSync 4.5 can't be resized

After update from 1.1.4 I see wrong window sizes in some applications. QIP Microsoft ActiveSync 4.5 and etc. Windows are 7/8 of screen by default.",1074,"1"
"WINE-37519","ooVoo 3.6.x (video chat client) doesn't launch","OOVOO doesn't launch at all. just appeard the message : oovoo launching and nothing else.",1,"0"
"WINE-20290","Crash when opening Splinter Cell Pandora Tomorrow or Chaos Theory's multiplayer mode","Created attachment 23976
Wine output

When opening Splinter Cell Pandora Tomorrow's multiplayer mode (c:\Program Files\UBISOFT\Splinter Cell Pandora Tomorrow\online\System\shadowstrike_static_retail.exe) the splash screen of the game shows up but crashes a few seconds later.
Interestingly doing the same with Splinter Cell Chaos Theory yields the same result: the splash screen is shown for a few seconds then it crashes.
The terminal also says the same error in both cases:
wine: Unhandled page fault on read access to 0x00000000 at address 0x7e525377 (thread [something])

Tried in a clean Wine prefix for both and installing various winetricks stuff didn't change anything.

Since the servers for Splinter Cell Pandora Tomorrow have been taken offline and support has been halted the game's multiplayer mode isn't really worth a lot right now (only LAN mode works). In such circumstances would it be acceptable to upload it somewhere for devs to download it? The multiplayer part of the game is a standalone package free of CD protection and everything.

Using Wine 1.1.30 on Kubuntu 9.04 64-bit with unpatched Wine 32-bit from the prepackaged .deb repo although the crash has happened with every version of Wine I had the occasion of using (Wine 1.1.8 to 1.1.30).",1,"0"
"WINE-10700","Dragon Naturally Speaking 9 needs gdiplus.GdipDrawArcI gdiplus.GdipCreatePen2 ...","Right now dns9 mostly works with everything builtin except it tries to use currently unimplemented functions.

With a bit of grep/sed magic I found at least the following calls missing:

GdipCreateHBITMAPFromBitmap
GdipCreateLineBrushFromRectI
GdipCreatePen2
GdipDrawArcI
GdipSetLinePresetBlend",191,"0"
"WINE-3598","Corel Draw 9 is very very slow","On 20050930 Corel Draw 9 has become startup without using native dlls. But it is
very very slow. Clicking on a Icon in the toolbar takes up 2 minuts to get the
tool ready for work. Its no cognizable what's the reason of this behaviour. Can
winedebug dosn't shows anything observable which points to the real issue of
this problem. Can sombody send some test procedures to figure out the point of
the problem?",760,"1"
"WINE-32118","Invoke() is broken for IFileSystem","Created attachment 42365
while launching QAR test logging software it crashes

While trying to launch QAR test logging program it crashes",4,"0"
"WINE-28860","AveraSell 4.3.8 crashes after login (heap corruption)","after you login the program crashes",1717,"1"
"WINE-26816","native msi2 installer exits with status 20 can't get version of mspatcha.dll","(This is one of those cases where people are trying it because
it's in winetricks I'm afraid.)

'winetricks msi2' used to work but fails with wine-1.3.18.
+relay log shows that it's unhappy with our fake dll for mspatcha.
Removing our fake dll makes it happier.  I'll add that workaround
to winetricks.

Probably caused by:

mspatcha: New dll stub.
author	David Hedberg 	
	 Tue 22 Mar 2011 03:16:56 +0000 (04:16 +0100)
committer	Alexandre Julliard 	
	 Mon 28 Mar 2011 15:29:39 +0000 (17:29 +0200)
commit	21085edb51fdbab4b256ecb96c0d2849263fac2a",176,"0"
"WINE-13519","Master of Orion 3 shows black screen","Created attachment 13447
console output

After start the game shows black screen instead of menu. Mouse cursor can be moved and as the mouse moves the sound indicates that different interface elements become active as the cursor points on them but nothing is displayed. The screen remains black all the way. The console output is attached.",182,"0"
"WINE-5915","Application gets crashed when I press enter in combobox (While Cursor is present in combo)","When list box of combo box is expanded no crash occurs when I press enter. When
list box of combo box isn’t expanded and cursor is present in combo box and I
press enter Application crashes. 

I tried to debug the wine code and could find the place from where crash
occurred. It is coming from /home/ravinder/winecode/wine-0.9.16/dlls/user/edit.c


case WM_GETDLGCODE:

                 result = DLGC_HASSETSEL | DLGC_WANTCHARS | DLGC_WANTARROWS
                
                 if (es->style & ES_MULTILINE)
                 {
                   result |= DLGC_WANTALLKEYS
                   break
                }

               if (lParam && (((LPMSG)lParam)->message == WM_KEYDOWN))
                {
                   int vk = (int)((LPMSG)lParam)->wParam

                   if (es->hwndListBox && (vk == VK_RETURN || vk == VK_ESCAPE))
                   {
                      if (SendMessageW(GetParent(hwnd) CB_GETDROPPEDSTATE 0 0))
++		{
++			       MessageBoxA(NULL”INSIDE IF LOOP” “EDIT” MB_OK)
                result |= DLGC_WANTMESSAGE
++		}
++		else
++		{
++			//Some Code is missing to handle this situation when list box of combo box
isn’t expanded.
++                }
                }
                 break


I tried sending different messages from this place like WM_KILLFOCUS but crash
inst being avoided. In one case crash stops when I remove the  
                    if (SendMessageW(GetParent(hwnd) CB_GETDROPPEDSTATE 0 0))
and put directly 
                result |= DLGC_WANTMESSAGE under
if (es->hwndListBox && (vk == VK_RETURN || vk == VK_ESCAPE))
But in this case focus isn’t lost.

I made a test case but I wasn’t able to simulate the issue in test case. I have
attached the screenshot of the issue and log generated with channel as edit and
combo.",685,"1"
"WINE-8672","MSN Messenger 7.0: Can't Sign In","The MSN Messenger refuse to connect. I'm Using Wine 0.9.38 in Ubuntu Feisty Fawn
7.04",67,"0"
"WINE-30170","Afterburner 3D: screen not drawn properly (orm=fbo)","Created attachment 39373
terminal output (orm=fbo)

Now that bug #8433 has been fixed the game can get past the initial loading screen without crashing but the screen is not refreshing after the loading screen is displayed. You can hear audio playing and various text is displayed (overwritten) on the loading screen.
At some point menu options appear at the bottom of the screen and you can start a new game by pressing . You can hear audio from the game but the screen is still showing the corrupted loading screen.

Setting OffscreenRenderingMode to backbuffer acts as a workaround. One of the drawbacks of this setting is that the opening screens showing the graphic card and input setup are displayed upside down. Once the game begins to load the screen is displayed normally.
Performance is abysmal when you start a new game but I don't know if this is due to the backbuffer setting.

Fedora 16
Nvidia 250 / driver 290.10
X.Org X Server 1.11.4",1258,"1"
"WINEHQ.ORG-29259","wrong info on download page for Debian binary packages","on page http://www.winehq.org/download/ I find for Debian binary packes:

  Download Debian packages - binary .debs for Debian Lenny Squeeze and Sid

but on the linked pages (http://www.winehq.org/download/debian and indirectly http://dev.carbon-project.org/debian/wine-unstable/) and via personal communication with the maintainer Kai Wassenbäch I learned that there the only packages available are for Sid none for Squeeze nor for Lenny.

So please adjust the entry for Debian binary packages on the main download page http://www.winehq.org/download/ to reflect the status.

BTW: Debian Squeeze repositoriers provide only vintage Wine 1.0.1-3.1

--
  Bernhard",556,"1"
"WINE-31768","Starcraft: Brood War loses mouse focus when using ICCup's W-Mode plugin","Created attachment 41801
Smallest portion of ff60249cab238bed124b98a7624ccfe415f8648e that causes my regression

When running Starcraft: Brood War via ICCup's launcher with the W-Mode plugin enabled the mouse grab functionality (Alt+F1) no longer works as of wine-1.5.11 (the last working version was wine-1.5.10).  I tested with wine-1.5.12 and wine-1.5.13 neither of which solves the problem.

I used git-bisect to track down this regression to commit  f60249cab238bed124b98a7624ccfe415f8648e.  I don't really understand any of this patch but I found that reverting that commit does fix the regression I'm experiencing.

I then messed around with the offending commit a bit and discovered that reverting a single line is sufficient to fix the regression for me.  I've attached that single line patch which applies against the current git head.  Like I said I know nothing about this code so my fix is probably wrong.  Hopefully someone who understands the problem will be able to come up with a proper fix :).",3,"0"
"WINE-2108","Delphi stdvcl40.dll file not initialized from COM object","Delphi stdvcl40.dll file not initialized from COM object

To reproduce:

1. Save the attached testcase files to some directory.

2. Run

wine test


Observed result:

Program Error

Member FSPECARGS does not evaluate to an object



Expected result:

Result: 0


Andrus.",838,"1"
"WINE-13469","cmd can't handle long input (buffer overflow)","Python doesn't work correctly when it have to make system calls with long strings.
For example:
> wine python.exe
> import os
> os.system(asdpoasid*1000)

The same trouble happens when calling very long urls with the webbrowser module (with the open function)",295,"1"
"WINE-34815","iexplore hotmail.com needs IHTMLFrameBase::get_onload","Continuation from bug27694",136,"0"
"WINE-14096","Trackmania Nations Forever: Motion Blur does not work","Created attachment 14316
wine TmForeverLauncher.exe &> motionblurlog

I dont know what causes this or what kind of d3d features it needs i only know i enable Force Motion Blur and nothing changes.

I've attached a log just in case...",1770,"1"
"WINE-8706","incorrect window behavior in responses to WM_MOUSEACTIVATE","I have a test program with two windows. The parent window has a custom window
procedure that handles WM_MOUSEACTIVATE. Depending on the selection in the child
window the parent window can respond to WM_MOUSEACTIVATE with: MA_ACTIVATE
MA_ACTIVATEANDEAT MA_NOACTIVATE MA_NOACTIVATEANDEAT.

On Windows with focus on the child window:
1) MA_NOACTIVATEANDEAT prevents the parent window from getting focus when the
parent window's title bar is clicked
2) MA_NOACTIVATE and MA_NOACTIVATEANDEAT prevents the parent window from getting
focus when the parent window is clicked
3) MA_ACTIVATEANDEAT and MA_NOACTIVATEANDEAT prevents the parent window from
being closed when the parent window's close (X) button is clicked

On Wine all three of these cases fail.",28,"0"
"WINE-1370","start cannot be found in wcmd","Bug comments restored from Gmane.org:

This kind of command fails with wcmd:

start /wait somebatfile.bat


------- Additional Comments From fgouget@codeweavers.com  2003-05-04 21:24 -------
Confirmed: AFAICT wcmd does not support 'start'.
Adding the source keyword since we obviously have the wcmd source -)",1178,"1"
"WINE-12415","Can not leave fullscreen Warcraft 3x (Regression)","Using wine 0.9.59+ Git version. Warcraft3x Crashes went you Alt+Tab out of the game. I'm think this happens in other games to. 

I did a Regression test and got this:

commit d0e1dd84b22b1906a44f682394b5d1b90ba5ded8
Author: Alexandre Julliard 
Date:   Fri Apr 4 18:22:40 2008 +0200

    user32: Fix a few ShowWindow todo tests.",68,"0"
"WINE-8064","DxO Optics Pro 4 installer doesn't display text properly","You have to install native msxml3 for this to install at all
(that's another bug) and it fails at the end because it requires
.NET 2.0 (that's another bug).

Inbetween with native msxml3 installed the installer runs well
except that it doesn't display text on the two main checkbox
lists in the installer.",592,"1"
"WINE-17611","Increasing DPI makes displayed text smaller","Created attachment 19784
Three Properties Winodws

I'm using Wine 1.1.16 (compiled from source using gcc version 4.3.2 20081105 (Red Hat 4.3.2-7) ) on Fedora 10 i386. 

With default dpi (96) it is difficult (because it's to small) to read text in Properties Window which exists as a toolbar in AutoCAD 2008 and AutoCAD Mechanical 2008. If I try to increase dpi through winecfg text in Properties Window is even harder to read it gets smaller but fonts in other parts of the application are bigger.
I attached image how Properties Window should looks like on AutoCAD 2007 example running on Windows and how it looks in Wine with AutoCAD 2008. All screenshots were made in 1024x768.",737,"1"
"WINE-18934","Free PDF to Word Doc converter's installer reports wrong ClassNN (appinstall)","When installing Free PDF to Word Doc converter with appinstall I usually click buttons by their ClassNN. The first window that pops up is:

Setup
This will install Free PDF to Word Doc Converter. Do you wish to continue?
Yes / No

On windows the Yes has a ClassNN of 'Button1' and No is 'Button2'.
On wine they're 'Button6' and 'Button7'.

The rest of the installer's buttons are reported correctly though.",370,"1"
"WINE-42347","The Witcher 3 starting menu is distorted [radeonsi]","Created attachment 57113
Witcher 3 main menu distortion (no CSMT)

I'm testing The Witcher 3  (GOG/1.31) with recent Wine staging 2.0 (CSMT disabled) using AMD RX 480 and latest Mesa devel:

OpenGL renderer string: Gallium 0.4 on AMD POLARIS10 (DRM 3.8.0 / 4.9.0-1-amd64 LLVM 3.9.1)
OpenGL core profile version string: 4.5 (Core Profile) Mesa 17.1.0-devel (git-2ab2be092d)
OpenGL core profile shading language version string: 4.50

Users of Nvidia blob report that they don't have this issue in the starting menu which appears correct to them so menu distortion looks radenosi specific.

I opened a Mesa bug here: https://bugs.freedesktop.org/show_bug.cgi?id=99444
However Mesa developers closed it noting that it must be caused by Wine using NV_register_combiners without checking if it's supported by the driver. See details in the linked bug.

An relevant portion of the API trace log (filtered):

120612: message: major api error 2: GL_INVALID_ENUM in glActiveTexture(texture=GL_COMBINER0_NV)
120612 @1 glActiveTexture(texture = GL_COMBINER0_NV)
120619: message: major api error 2: GL_INVALID_ENUM in glActiveTexture(texture=GL_COMBINER1_NV)
120619 @1 glActiveTexture(texture = GL_COMBINER1_NV)
120626: message: major api error 2: GL_INVALID_ENUM in glActiveTexture(texture=GL_COMBINER2_NV)
120626 @1 glActiveTexture(texture = GL_COMBINER2_NV)
...",84,"0"
"WINE-14290","winhelp: temporary 100% CPU use when loading some help files","When loading some help files Wine winhelp appears to hang for a while with 100% CPU use.

To demonstrate download quenzar.hlp from
  http://bugs.winehq.org/attachment.cgi?id=14572
and load into Wine winhelp.

CPU usage goes to 100% for about a minute (on my old slow PC) but the help window does open eventually. There is no delay when opening the same file with the Windows 95 WINHLP32.EXE under Wine.",2718,"1"
"WINE-24421","MJ's Help Diagnostics crashes on startup (app provided MonitorEnumProc callback relies on ECX = lprcMonitor)","Trying to run MJ's Help Diagnostics in a default wine gives an Unhandled page fault on read access (see attachment)",2025,"1"
"WINE-3454","System Shock 2 fails to recognize 3D-capable Graphics card","I start System Shock 2. It starts without problems to its main menu. Then I go 
to Options->Video Choose Hardware Driver . There's only Direct Draw and 
User/HAL available. In Windows I can choose my 3D - card",1,"0"
"WINE-31105",".NET 3.x/4.x WPF based apps require windowscodecs.dll ComponentFactory_CreateBitmapFromSource","Hello

SongSmith 1.0.2 is also affected by that insufficiency.

Trace log:

--- snip ---
...
002c:Call windowscodecs.IWICImagingFactory_CreateBitmapFromSource_Proxy(0316358803145f14000000020032c450) ret=02d45580
002c:fixme:wincodecs:ComponentFactory_CreateBitmapFromSource (0x31635880x3145f1420x32c450): stub
002c:Ret  windowscodecs.IWICImagingFactory_CreateBitmapFromSource_Proxy() retval=80004001 ret=02d45580 
...
002c:Call KERNEL32.RaiseException(e0434f4d00000001000000010032c3b0) ret=79f97065
002c:trace:seh:raise_exception code=e0434f4d flags=1 addr=0x7b83953f ip=7b83953f tid=002c
002c:trace:seh:raise_exception  info[0]=80004001
002c:trace:seh:raise_exception  eax=7b8264d9 ebx=7b8b17d0 ecx=80004001 edx=0032c2b4 esi=0032c390 edi=0032c310
002c:trace:seh:raise_exception  ebp=0032c2f8 esp=0032c294 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000283
002c:trace:seh:call_stack_handlers calling handler at 0x79f9a3c8 code=e0434f4d flags=1
002c:trace:seh:call_stack_handlers handler at 0x79f9a3c8 returned 1
002c:trace:seh:call_stack_handlers calling handler at 0x7a3197d4 code=e0434f4d flags=1 
--- snip ---

Exception info:

--- snip ---
Exception object: 00ea0ff4
Exception type: System.NotImplementedException
Message: The method or operation is not implemented.
InnerException: 
StackTrace (generated):

StackTraceString: 
HResult: 80004001
--- snip ---

CLR stack:

--- snip ---
OS Thread Id: 0x2b (0)
ESP       EIP     
0033c6a8 7b83953f [HelperMethodFrame: 0033c6a8] 
0033c74c 53c57cdc MS.Internal.HRESULT.Check(Int32)
0033c750 53afdfce System.Windows.Media.Imaging.RenderTargetBitmap.CopyCommon(System.Windows.Media.Imaging.RenderTargetBitmap)
0033c7a0 53afe13b System.Windows.Media.Imaging.RenderTargetBitmap.CloneCore(System.Windows.Freezable)
0033c7b0 568a68a4 System.Windows.Freezable.Clone()
0033c7bc 53a02d06 System.Windows.Media.Animation.Animatable.Clone()
0033c7c4 53ab5666 System.Windows.Media.ImageSource.Clone()
0033c7cc 53aeea62 System.Windows.Media.Imaging.BitmapSource.Clone()
0033c7d4 53ab76c7 System.Windows.Media.Effects.BitmapEffect.GetOutput(System.Windows.Media.Effects.BitmapEffectInput)
0033c818 53abcaab System.Windows.Media.Effects.BitmapEffectState.GetEffectOutput(System.Windows.Media.Visual System.Windows.Media.Imaging.RenderTargetBitmap ByRef System.Windows.Media.Matrix System.Windows.Rect System.Windows.Media.Matrix ByRef)
0033ca28 53abdb1a System.Windows.Media.Effects.BitmapEffectVisualState.RenderBitmapEffect(System.Windows.Media.Visual System.Collections.Generic.List`1)
0033cb64 53abd7ca System.Windows.Media.Effects.BitmapEffectContent.ExecuteRealizationsUpdate()
0033cb6c 53918ad9 System.Windows.Media.RealizationContext+RealizationUpdateSchedule.Execute()
0033cba8 53911e40 System.Windows.Media.MediaContext.Render(System.Windows.Media.ICompositionTarget)
0033cc6c 53910fe7 System.Windows.Media.MediaContext.RenderMessageHandlerCore(System.Object)
0033ccb4 53910f00 System.Windows.Media.MediaContext.RenderMessageHandler(System.Object)
0033cccc 53910ecc System.Windows.Media.MediaContext.Resize(System.Windows.Media.ICompositionTarget)
--- snip ---

Code:

http://source.winehq.org/git/wine.git/blob/39f80e56fb15858e1d057facae56fa7f8527bd80:/dlls/windowscodecs/imgfactory.c#l465

--- snip ---
 465 static HRESULT WINAPI ComponentFactory_CreateBitmapFromSource(IWICComponentFactory *iface
 466     IWICBitmapSource *piBitmapSource WICBitmapCreateCacheOption option
 467     IWICBitmap **ppIBitmap)
 468 {
 469     FIXME((%p%p%u%p): stub\n iface piBitmapSource option ppIBitmap)
 470     return E_NOTIMPL
 471 }
--- snip ---

$ du -sh SongsmithSetup.1.02.msi 
99M    SongsmithSetup.1.02.msi

$ sha1sum SongsmithSetup.1.02.msi 
fa6d5d889f37d369d61ec5c49dfb7f8d9932eb09  SongsmithSetup.1.02.msi

$ wine --version
wine-1.5.7-309-gb4da889

Regards",62,"0"
"WINE-25340","Multiple apps need support for COM server information from PE manifest a.k.a registration/registry-free COM (Exact Audio Copy (EAC) AliWangWang ...)","The program will not run. Soon after attempting to run the software a window titled Unhandled exception appears saying at 01537EB0 -> ACCESS_VIOLATION with no other option than to click an OK button.",1068,"1"
"WINE-16883",".NET 3.0: WCF installer fails due bug in services.exe svcctl_GetServiceKeyNameW","Hello

after getting past bug 16882 (WMI is needed) we resume where we left: bug 16878

---
1. clean WINEPREFIX
2. sh mywinetricks -q wmicore
3. sh winetricks -q dotnet20
4. download .NET 3.0 Framework installer from: http://download.microsoft.com
/download/4/d/a/4da3a5fa-ee6a-42b8-8bfa-ea5c4a458a7d/dotnetfx3setup.exe
(sha1sum: 
a566bcd2ffffc3842a95adc57f7df3f8cd11577f)
5. export _SFX_CAB_SHUTDOWN_REQUEST=1 (workaround see bug 9158)
6. wine ./dotnetfx3setup.exe

It might take a while until all required packages are downloaded using BITS.

Note: If you need to redo steps backup the directory dotnetfx304506.30 from
c:\\windows\\temp to a different location remove ~/.wine copy
dotnetfx304506.30 again to c:\\windows\\temp to prevent BITS from
downloading over and over again.

---

The WCF installer still fails:

c:\\windows\\temp\\dd_dotnetfx3error.txt:

--- snip ---
[01/11/0914:18:10] Windows Communication Foundation: [2] Error: Installation failed for component Windows Communication Foundation. MSI returned error code 1603
[01/11/0914:18:21] WapUI: [2] DepCheck indicates Windows Communication Foundation is not installed.
--- snip ---

c:\\windows\\temp\\dd_wcf_retMSI1CB9.txt:

--- snip ---
1: C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModelReg.exe /r /x /y /v 2:  
1: ERROR: Process returned non-0 value! CMDLINE: C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModelReg.exe /r /x /y /v 2:  
1: Failed 2:
--- snip ---

--- snip ---
ServiceModelReg [14:18:09:203]: Starting tool 'C:\windows\system32\wbem\mofcomp.exe' with parameters 'C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModel.mof'.
ServiceModelReg [14:18:09:328]: Microsoft (R) 32-bit MOF Compiler Version 1.50.1085.0001
ServiceModelReg [14:18:09:329]: Copyright (c) Microsoft Corp. 1997-1999. All rights reserved.
ServiceModelReg [14:18:09:423]: 
ServiceModelReg [14:18:09:425]: Parsing MOF file: C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModel.mof
ServiceModelReg [14:18:09:446]: MOF file has been successfully parsed
ServiceModelReg [14:18:09:447]: Storing data in the repository...
ServiceModelReg [14:18:10:115]: An error occurred while creating object 3 defined on lines 20 - 24:
ServiceModelReg [14:18:10:116]: 0X80041002 Class instance or property 'HostingModel' was not found.
ServiceModelReg [14:18:10:122]: Compiler returned error 0x80041001
ServiceModelReg [14:18:10:122]: 
ServiceModelReg [14:18:10:122]: 
ServiceModelReg [14:18:10:124]: Tool 'C:\windows\system32\wbem\mofcomp.exe' with parameters 'C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModel.mof' exited with code '3'.
ServiceModelReg [14:18:10:166]: Warning: Failure executing C:\windows\system32\wbem\mofcomp.exe with parameters C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModel.mof: System.ApplicationException: Unexpected result 3 executing C:\windows\system32\wbem\mofcomp.exe with C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModel.mof
   at System.ServiceModel.Install.InstallHelper.ExecuteWait(String program String parameters Int32[] allowedExitCodes)
   at System.ServiceModel.Install.WmiInstallComponent.OnInstall(OutputLevel outputLevel)
ServiceModelReg [14:18:10:231]: Error: WMI classes are not installed.
ServiceModelReg [14:18:10:233]: Repairing: Windows CardSpace (idsvc)
ServiceModelReg [14:18:10:251]: System.AccessViolationException: Attempted to read or write protected memory. This is often an indication that other memory is corrupt.
   at System.ServiceModel.Install.NativeMethods.ChangeFailureActions(ServiceHandle hService Int32 dwInfoLevel SERVICE_FAILURE_ACTIONS& lpInfo)
   at System.ServiceModel.Install.ServiceHandle.SetFailureActions(TimeSpan resetPeriod TimeSpan[] restartPeriods)
   at System.ServiceModel.Install.ServiceInstallComponent.OnInstall(OutputLevel outputLevel)
   at System.ServiceModel.Install.InfoCardServiceInstallComponent.OnInstall(OutputLevel outputLevel)
   at System.ServiceModel.Install.ServiceInstallComponent.Reinstall(OutputLevel outputLevel)
   at Microsoft.Tools.ServiceModel.ServiceModelReg.PerformAction(ActionItem actionItem Nullable`1 confirmUninstall)
   at Microsoft.Tools.ServiceModel.ServiceModelReg.Run(String[] args)
   at Microsoft.Tools.ServiceModel.ServiceModelReg.TryRun(String[] args)
=== Verbose logging stopped: 1/11/2009  14:18:10 ===
--- snip ---

Ok lets leave the WMI failures aside (despite having native WMI core installed) and see how far it goes.

That infocard service (re)install looks bugged:

--- snip ---
0035:trace:service:OpenSCManagerW ((null)(null)0x00000001)
0035:trace:service:sc_handle_alloc sc_handle type=0 -> 0x18ef38
0013:trace:service:svcctl_OpenSCManagerW ((null) (null) 1)
0035:trace:service:OpenSCManagerW returning 0x18ef38 (access : 0x00000001)
0035:CALL MSVCR80.memcpy() ret=79e808d5
0035:RET  MSVCR80.memcpy() retval=0017b820 ret=79e808d5
0035:trace:service:GetServiceKeyNameW 0x18ef38 L 0x88e170 0x33f1f0
0014:trace:service:svcctl_GetServiceKeyNameW (Lidsvc 256)
0035:CALL MSVCR80.memcpy() ret=79e808d5
0035:RET  MSVCR80.memcpy() retval=00a4333c ret=79e808d5
0035:CALL MSVCR80.memcpy() ret=79e808d5
0035:RET  MSVCR80.memcpy() retval=0017b820 ret=79e808d5
0035:trace:service:GetServiceDisplayNameW 0x18ef38 Lidsvc 0x17b820 0x33f1f0
0013:trace:service:svcctl_GetServiceDisplayNameW (Lidsvc 1)
0035:CALL MSVCR80.memcpy() ret=79e808d5
0035:RET  MSVCR80.memcpy() retval=00a4333c ret=79e808d5
0035:CALL MSVCR80.memset(0033f0c4000000000000002c0033f0bc) ret=79eef4cb
0035:RET  MSVCR80.memset() retval=0033f0c4 ret=79eef4cb
0035:CALL MSVCR80.memcpy() ret=79e770f8
0035:RET  MSVCR80.memcpy() retval=0033f02c ret=79e770f8
0035:CALL MSVCR80.memset(0033ea2c000000000000001c0033ea70) ret=79e7d873
0035:RET  MSVCR80.memset() retval=0033ea2c ret=79e7d873
0035:CALL MSVCR80.memcpy() ret=79e808d5
0035:RET  MSVCR80.memcpy() retval=0017b820 ret=79e808d5
0035:CALL MSVCR80.memcpy() ret=79e808d5
0035:RET  MSVCR80.memcpy() retval=00a4363c ret=79e808d5
0035:CALL MSVCR80.memcpy() ret=79e770f8
0035:RET  MSVCR80.memcpy() retval=0033f10c ret=79e770f8
0035:CALL MSVCR80.memcmp(008647a8032e66b900000012) ret=79efee2f
0035:RET  MSVCR80.memcmp() retval=00000000 ret=79efee2f
0035:trace:seh:raise_exception code=e0434f4d flags=1 addr=0x7b844f54 ip=0x7b844fd7 tid=0035
0035:trace:seh:raise_exception  info[0]=80131509
0035:trace:seh:raise_exception  eax=7b82cc91 ebx=7b8c3940 ecx=00000000 edx=0033f0f0 esi=0033f0f0 edi=e0434f4d
0035:trace:seh:raise_exception  ebp=0033f0b8 esp=0033f054 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000246
0035:trace:seh:call_stack_handlers calling handler at 0x79f9a3c8 code=e0434f4d flags=1
0035:CALL MSVCR80._except_handler4_common(7a38124079e717fb0033f0640033f1080033ecf00033eb90) ret=79f9a3e7
0035:RET  MSVCR80._except_handler4_common() retval=00000001 ret=79f9a3e7
0035:trace:seh:call_stack_handlers handler at 0x79f9a3c8 returned 1
0035:trace:seh:call_stack_handlers calling handler at 0x7a3197d4 code=e0434f4d flags=1 
--- snip ---

If we dump the corresponding SCM entry:

--- snip ---
000d:trace:service:scmdatabase_load_services Loading service Lidsvc
000d:trace:service:load_service_config Image path           = L\C:\\windows\\Microsoft.NET\\Framework\\v3.0\\Windows Communication Foundation\\infocard.exe\
000d:trace:service:load_service_config Group                = (null)
000d:trace:service:load_service_config Service account name = LLocalSystem
000d:trace:service:load_service_config Display name         = LWindows CardSpace
000d:trace:service:load_service_config Service dependencies : (none)
000d:trace:service:load_service_config Group dependencies   : (none) 
--- snip ---

That GetServiceKeyNameW() API failure seems to be ok because the app passes the key name itself idsvc and not the service display name.
The following GetServiceDisplayNameW() also fails leading to app error/exception.

If you look closer you see svcctl_GetServiceDisplayNameW (Lidsvc 1) -> buffer length 1 passed.
This is clearly not what the app intended.
The app reuses the length parameter from GetServiceKeyNameW() passing it again into GetServiceDisplayNameW() but Wine changed it to 1 which seems incorrect.

--- snip programs/services/rpc.c ---
DWORD svcctl_GetServiceKeyNameW(
    SC_RPC_HANDLE hSCManager
    LPCWSTR lpServiceDisplayName
    WCHAR *lpBuffer
    DWORD cchBufSize
    DWORD *cchLength)
{
...
    entry = scmdatabase_find_service_by_displayname(manager->db lpServiceDisplayName)
    if (entry != NULL)
    { 
...
    else
    {
        *cchLength = 1
        err = ERROR_SERVICE_DOES_NOT_EXIST
    }

    scmdatabase_unlock(manager->db)

    if (err != ERROR_SUCCESS && cchBufSize > 0)
        lpBuffer[0] = 0

    return err
}
--- snip programs/services/rpc.c --

This doesn't look right a conformance test case should reveal the correct behaviour.
I already verified this with a patch.

Regards",11,"0"
"WINE-27345","Guitar Hero World Tour: Playstation 3 (ps3) microphone not working","Created attachment 34968
microphone connected

As seen in bug #26418 i mentioned that the microphone is not working. This ticket is closed because the guitar and the drumkit works.

So a new ticket for the microphone. As seen in the older log (http://bugs2.winehq.org/attachment.cgi?id=33750) the messages are changed. The older version:
[quote]
fixme:mixer:ALSA_MixerInit No master control found on HDA NVidia disabling mixer
fixme:mixer:ALSA_MixerInit No master control found on MPU-401 UART disabling mixer
ALSA lib ../../../src/pcm/pcm_dmix.c:1018:(snd_pcm_dmix_open) unable to open slave
ALSA lib ../../../src/pcm/pcm_dsnoop.c:593:(snd_pcm_dsnoop_open) unable to open slave
ALSA lib ../../../src/pcm/pcm_dsnoop.c:593:(snd_pcm_dsnoop_open) unable to open slave
err:alsa:ALSA_CheckSetVolume Could not find '{PCMLine} Playback Volume' element
[/quote]

Wine version 1.3.21:
[quote]
fixme:mixer:ALSA_MixerInit No master control found on MPU-401 UART disabling mixer
fixme:mixer:ALSA_MixerInit No master control found on HDA NVidia disabling mixer
err:alsa:ALSA_CheckSetVolume Could not find '{PCMLine} Playback Volume' element
fixme:dsalsa:IDsDriverBufferImpl_SetVolumePan (0x1401200x14a4a8): stub
fixme:wbemprox:wbem_locator_ConnectServer 0x1403a0 L\\\\.\\root\\cimv2 (null) (null) (null) 0x00000000 (null) (nil) 0x209f85c)
fixme:wbemprox:wbem_locator_ConnectServer 0x14a5a8 L\\\\.\\root\\cimv2 (null) (null) (null) 0x00000000 (null) (nil) 0x209f85c)
fixme:dinput:IDirectInputDevice2WImpl_GetProperty DIPROP_VIDPID not implemented
fixme:dinput:IDirectInputDevice2WImpl_GetProperty Unknown property 
fixme:dinput:IDirectInputDevice2WImpl_GetProperty Unknown property 
fixme:dinput:IDirectInputDevice2WImpl_GetProperty DIPROP_VIDPID not implemented
fixme:dinput:IDirectInputDevice2WImpl_GetProperty Unknown property 
[/quote]",240,"1"
"WINE-44356","Neverwinter: some ingame objects don't render properly","Created attachment 60251
Screnshots made under wine and windows for comparsion

Some ingame objects like weapon or clothes are black or rendered partically.  Changing ingame settings doesn't solve issue. Bug could be found starting from character creation screen.

Neverwinter is free-to-play MMORPG that could be installed through Steam.

Tested on Ubuntu 17.10 x64 AMD Radeon 7650A latest Mesa from git",218,"0"
"WINE-30284","Mathematica 6.0 installer fails reports error 0x80020006 (missing support for IShellDispatch2::IsServiceRunning)","Created attachment 39569
backtrace for loading failure on version 1.1.16

Attempt to install Mathematica 6 on wine version 1.4 failed. Regression found that the latest version that worked is 1.1.15. The backtrace for 1.1.16 is attached.
System information:
Intel 15750 processor
Intel DP55KG Motherboard
Debian Squeeze system
Kernel under which testing was performed 2.6.32-5-686",42,"0"
"WINE-35520","UltraMon 3.2.2 installer fails due to unimplemented function ole32.dll.CoGetInstanceFromFile","Hello folks

as the summary says ...

--- snip ---
$ wine msiexec -i UltraMon_3.2.2_en_x32.msi
...
Successfully registered DLL C:\Program Files\UltraMon\UltraMonShortcuts.dll
Successfully registered DLL C:\windows\system32\UltraMon.dll
wine: Call from 0x7b83a5de to unimplemented function ole32.dll.CoGetInstanceFromFile aborting
err:msi:ITERATE_Actions Execution halted action LPostInstallConfig returned 1603
err:msi:ITERATE_Actions Execution halted action LExecuteAction returned 1603
--- snip ---

$ sha1sum UltraMon_3.2.2_en_x32.msi
ea633251e9b1bc80e679c33ccffa31cee78c6038  UltraMon_3.2.2_en_x32.msi

$ du -sh UltraMon_3.2.2_en_x32.msi
2.3M	UltraMon_3.2.2_en_x32.msi

$ wine --version
wine-1.7.11-272-gc7a11f9

Regards",1,"0"
"WINE-16458","Endless Online installer crashes on start","When testing bug 11999 the launch of the installer simply yields Segmentation fault from the terminal which did not occur in 0.9.58. Regression testing revealed the bad commit to be:

600694546f6805c2e1a88a05e056a8b00d187d6e is first bad commit
commit 600694546f6805c2e1a88a05e056a8b00d187d6e
Author: Alexandre Julliard 
Date:   Tue Apr 1 14:11:44 2008 +0200

    ntdll: Moved stack allocation for thread and process to a common routine in virtual.c.

:040000 040000 255fe00fcc00d592ef82066c07de1da159d3907c d4ffd257b164d93f887a648de277f7a858906aec M	dlls

Using Wine built from the commit before it 2d1cf6ce34b110defa122c4ac0c49a89ea8b60c9 shows no problem so the particular commit found seems to be the problem.",1,"0"
"WINE-1268","LVS_OWNERDATA listview examples don't work in wine","any update?",973,"1"
"WINE-33801","World of Warplanes Downloader crashed","Created attachment 44800
Terminal output

So I downloaded the free game installer.exe and installed it without a problem on x32 bit prefix

http://worldofwarplanes.com/

but when started the launcher the download crashed",176,"0"
"WINE-25322","Parameter checking in _controlfp_s seems to be broken.","Created attachment 32167
Source for compiled version of download.

This little program breaks in current git. ( unhandled exception )
Works perfectly fine after reverting

commit 4dba956ea696592ac446b4c0042f935bf608cabf
Author: Alexandre Julliard 
Date:   Fri Nov 26 14:57:24 2010 +0100

    msvcrt: Add parameter checking in _controlfp_s.",2,"0"
"WINE-8750","programs exit when double-clicking with right button held","if you hold down the right mouse button and click a few times with the left
mouse button dods/css quits/crashes suddenly. This has been the case for a while
now and I tested it in ubuntu 7 and slackware 11.",83,"0"
"WINE-7911","Call of Duty 2 no longer installs","wine setup.exe 
fixme:advapi:LookupAccountNameW (null) Leric (nil) 0x33bdd0 (nil) 0x33bdcc
0x33bdd8 - stub
fixme:advapi:LookupAccountNameW (null) Leric 0x17a3c8 0x33bdd0 0x17a3e0
0x33bdcc 0x33bdd8 - stub
err:msi:ITERATE_DuplicateFiles Failed to copy file Lc:\\Program Files\\Common
Files\\InstallShield\\Driver\\9\\Intel 32\\IDriver.exe -> Lc:\\Program
Files\\Common Files\\InstallShield\\Driver\\9\\Intel 32\\ last error 80
fixme:msi:ITERATE_DuplicateFiles We should track these duplicate files as well
fixme:msi:ACTION_HandleStandardAction unhandled standard action
LRemoveRegistryValues
fixme:msi:ACTION_HandleStandardAction unhandled standard action LRemoveFolders
fixme:advapi:LookupAccountNameW (null) Leric (nil) 0x34ce20 (nil) 0x34ce1c
0x34ce28 - stub
fixme:advapi:LookupAccountNameW (null) Leric 0x606958 0x34ce20 0x606970
0x34ce1c 0x34ce28 - stub
fixme:msi:MSI_GetProductInfo LInstallSource
fixme:advapi:LookupAccountNameW (null) Leric (nil) 0x34ce20 (nil) 0x34ce1c
0x34ce28 - stub
fixme:advapi:LookupAccountNameW (null) Leric 0x60e338 0x34ce20 0x60e350
0x34ce1c 0x34ce28 - stub
err:msidb:TABLE_fetch_stream fetching stream LBinary.0 error = 1627
err:msi:MSI_ViewFetch failed to get stream
err:msi:deformat_environment Unknown environment variable LALLUSERSPROFILE
fixme:x11drv:X11DRV_SetWindowRgn not supported on other thread window 0x10040
fixme:x11drv:X11DRV_SetWindowRgn not supported on other thread window 0x10040
fixme:x11drv:X11DRV_SetWindowRgn not supported on other thread window 0x10040",23,"0"
"WINE-22414","Grand Theft Auto: Vice City - full screen window does not take focus","The game will change your resolution but won't start and give an unhandled exception window (which you can't see it's all black).

Running it in a virtual desktop however almost works. In a virtual desktop you'll only see the blue screen until you click inside at which point the splash screen appears. Seems fine after that (haven't tested too much).",684,"1"
"WINE-2212","Navigon Mobile Navigator with flickering fonts in menu","Environment:
Hardware: i386 AMD Athlon Matrox G400
OS: Debian Linux testing kernel 2.6.5 XFree 4.3.0.1 (16 bit color depth)

Mobile Navigator Notebook is a door-to-door GPS navigation software
(www.navigon.de).
The installation with the installer does not work at all so I copied an
installed version from my Windows machine and tried to get it running (requires
msvcp60.dll).
When I start the programm the splash screen appears for some seconds. Then a
warning is displayed that you should not operate the software while driving.
This warning message looks ok but when the main menu appears there are only
empty flickering areas. When I click on such a button the button text is visible.


The programm is pretty unusable this way. I hope you find a remedy for this
problem. For more informatio please email me.",514,"1"
"WINE-36450","EnumFontFamilies should report unsubstituted font names","I'm stuck and I think someone else should work on this. My last attempt is here:
http://source.winehq.org/patches/data/104492

It was rejected because although the new GDI tests worked it broke the GDI+ tests:
http://www.winehq.org/pipermail/wine-devel/2014-May/104234.html",552,"1"
"WINE-43642","Internet Download Manager TDI Driver 'idmtdi.sys' crashes on unimplemented function ntoskrnl.exe.IoReleaseRemoveLockAndWaitEx","Created attachment 59067
Every open Fl Studio 12.0.4 it appears and some windows app also appears when try to configure wine (winecfg in terminal)

Can't run fl studio 12.0.4 at fullscreen.",320,"1"
"WINE-27728","Multimine crashes when closing the Join Server dialog after server closes","Created attachment 35482
Terminal output when Multimine crashes after following the above steps.

After doing the following steps Multimine crashes and a backtrace and a memory map appear on the terminal. If you follow the steps correctly a dialog should pop up saying The program multimine.exe ... needs to close.
My distribution is openSUSE 11.3.
My kernel version is 2.6.34.8-0.2-default #1 SMP 2011-04-06 18:11:26 +0200
The crash happens using the default settings in winecfg.
This version of Wine is from the wine-32bit-1.2-0.1.1.i586.rpm package available from http://download.opensuse.org/update/11.3/
To reproduce this:
1. Start two instances of Multimine
With the first multimine:
2. Select Game>Create Server
3. Click on Start Server
With the second multimine:
3. Select Game>Join Server
4. Click Join
5. Select Game>Exit from the menu of the first Multimine
6. Without acknowledging the Server Closed dialog select Game>Exit from the second Multimine
7. Close (don't kill) the Join Server dialog using the window manager.",53,"0"
"WINE-18786","Minitab doesn't run anymore","According to the App DB Minitab 15.1 and Minitab 14.1 can be run with wine 0.9.54 or 0.9.55 installing dcom98 but it doesn't help anymore in fact if you install it then would not be able to install neither Minitab 14.1 nor Minitab 15.1. Both versions of Minitab install successfully with default settings but they can't be run in any way. For Minitab 15.1 an error window from HASP Alladin software is shown. This is a regression since it was possible to make this two applications be run in an older version of wine.",187,"0"
"WINE-40920","Into The Stars (UE4 game) crashes while loading with SwapChain->GetFullscreenState error","Created attachment 55026
Terminal output Wine 1.9.13-144-g9729d15 Windows 7 mode

The Unreal Engine 4 game Into The Stars crashes while loading in a clean Windows 7 prefix. 

I am attempting to run the game on an Nvidia GTX 970 using the proprietary drivers (367.27) in Wine 1.9.13-144-g9729d15.",30,"0"
"WINE-10686","Marangatu fails with Object doesn't support this action","Created attachment 9523
Full terminal log

The eset.exe fails to start bringing up a message box saying that Runtime Error 445 Object doesn't support this action and then Wine pagefaults. Full terminal output and error message attached.",2322,"1"
"WINE-16610","libport compilation fails because widl isn't there","Hi there

this is an issue introduced through commit id dc1a9f19c1f4c462f1e68e0def50e9c09812bc71.

See this (changes to libport):
http://source.winehq.org/git/wine.git/?a=commith=dc1a9f19c1f4c462f1e68e0def50e9c09812bc71

The usual ./configure && make clean && make depend && make now fails very early when doing make inside libs/port.

Error states that widl isn't found. Manually building it also fails. I first had to do a manual make in libs/wpp and then tried tools/widl which fails with this message:
gcc: ../../libs/port/libwine_port.a: No such file or directory

To me this looks like some circular dependency thing going on. libs/port needs widl and widl in turn needs libs/port.

Thanks to arethusa / scguy318 for bisecting this.

Greets
Tobias",1,"0"
"WINE-35635","VMXBuider 0.8 (VB6 app) fails to create new VM reporting Run-time error '445' - filesys_get_Drives","With problem described in bug 8539 fixed next one is missing IDriveCollection support:

---
fixme:scrrun:filesys_QueryInterface Unsupported interface {7fd52380-4e07-101b-ae2d-08002b2ec713}
fixme:scrrun:filesys_QueryInterface Unsupported interface {37d84f60-42cb-11ce-8135-00aa004bb851}
fixme:scrrun:filesys_get_Drives 0x7d510ef4 0x33f260
fixme:scrrun:filesys_QueryInterface Unsupported interface {df0b3d60-548f-101b-8e65-08002b2bd119}
---",4,"0"
"WINE-17784","Runscape (web-based Java game) fails to terminate upon user request","runescape.exe (from URL) is a very simple IE engine front-end used as a client for a web-based Java game. After launching Java when the user terminates the application it disappears from the screen but Wine is still running it.

To reproduce:
1. wine jre-6u12-windows-i586-p.exe
2. wine runescape.exe 
3. Select click here to play
4. Close the window once the applet has loaded
5. Note that 'runescape.exe' and 'wineserver' are still running processes",1730,"1"
"WINE-33447","Wine GUI on Mac display Traditional Chinese instead when host language is Simplified Chinese","Step to reproduce:

1. Install Wine from macport or build from wine-git

2. Create a fresh MacOS user set Mac UI language to Simplified Chinese.
$ locale
LANG=zh_CN.UTF-8
LC_COLLATE=zh_CN.UTF-8
LC_CTYPE=zh_CN.UTF-8
LC_MESSAGES=zh_CN.UTF-8
LC_MONETARY=zh_CN.UTF-8
LC_NUMERIC=zh_CN.UTF-8
LC_TIME=zh_CN.UTF-8
LC_ALL=

3. start winecfg/regedit/notepad

Expect result:
The default GUI language should be Simplified Chinese

Actual result:
The default GUI language is Traditional Chinese. I've tried many way to modified locale related environment value but still can't find any way to display Simplified Chinese in Wine GUI. locale things on Mac seems different as Linux.
+font log show that Wine do have the correct codepage (936 for Simplified Chinese 950 for Traditional Chinese) not sure why it still display Traditional Chinese.

Will attach some screenshot.",682,"1"
"WINE-44845","Bankperfect plugin installater Echéancier hangs during install","Created attachment 60898
self-install-plugin that can be used without bankperfect installed

When trying to install free auto-install-plugins in Bankperfect (just an extraction in the 'Scripts' subfolder of Bankperfect) the installer block on files (especially .png ones)

It worked on ubuntu artful but no more on Bionic Beaver.

In attachment an exemple from http://www.chelly.net/?page=bp_plugins named Echéancier

Tried in win64 and win32. Same behavior.",51,"0"
"WINE-12440","Screen/Graphics corruption in Sammy's Science House","Created attachment 11983
Wine 0.9.57 screenshot and Wine 0.9.58 screenshot

Screen corruption in Sammy's Science House distributed by EdMark.  The game played fine with wine 0.9.57.  The corruptions make the game unplayable.  Attached are 2 screenshots.",405,"1"
"WINE-2486","Anchors property not emulated with Wine!","Hi all

I created a simple application with Delphi and realised that if I set the
Anchors property to auto-align a component to 'grow' each time a the window
was Maximized or Resized Wine couldn't do this... In result emulating my
program with Wine I could not Maximize or Resize the form!!!

The Anchors property on Delphi has the capability to set an anchor in
four ways (Top Left Right Bottom) so that if I set a anchor at the top
and at the bottom resizing the window vertically would automatically resize
the component to fit the window!


I will try this on the new realesed version but I don't think it will work.




Thank you
Love Wine",383,"1"
"WINE-25153","Windows Live Essentials beta (webc variant) doesn't detect .NET Framework 3.0 installation (Mono/Registry)","Created attachment 31904
Terminal output

This particular installer isn't satisfied with winetricks mono26 win7 even if the registry key from bug 24875 is added. It just says it needs .NET 3 and refuses to proceed any further without it.",463,"1"
"WINE-1105","Ctrl-Up/Down in ListViews","Bug comments restored from Gmane.org: 
 
This can be viewed in any listview in report mode for instance by putting an 
open dialog in listview mode or using WinZip. 
 
Ctrl+Up/Down Arrow does not seem to work. More precisely the current position 
of the cursor is not shown in any way although a slight flicker gives us a hint 
that the cursor really is moving.",1070,"1"
"WINE-946","Regression installing PMMail 2000","Bug comments restored from Gmane.org: 
 
PMMail 2000 Installs fine with a CVS date 2002-05-23 but with current CVS does 
not.2002-08-04 I discovered this while trying to verify bug 578. 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-08-06 
18:09 ------- 
I have narrowed it down to this patch  
 
http://www.winehq.com/hypermail/wine-cvs/2002/07/0234.html 
 
It affects  loader/pe_image.c and  memory/virtual.c so component could be either 
kernal or loader I guess. 
 
I am assigning it Alexandre Julliard since it was his patch that broke the app",4,"0"
"WINE-22320","Mono & HTML-Kit's installers do not appear in the taskbar","Created attachment 27297
Diff after manually reverting the patch

These installers do not get a button in the taskbar while they're running. I tested this in several versions and found that this is a regression that happened sometime between 0.9.54 and 1.0.1. However I was left with several skipped commits at the end of my regression test. Of those this looks like the most likely culprit:

commit cb3ff54789c652b02d852f40db71cafd9fd67ca9
Author: Dmitry Timoshkov 
Date:   Tue Mar 25 16:52:41 2008 +0800

    winex11.drv: Don't add owned windows to the taskbar.

The winex11 code has changed quite a bit since then but after reverting what I think is the modern equivalent the taskbar buttons appear again (diff is attached). It can be reproduced with winetricks mono26 or with HTML-Kit's installer from the download link.

Both installers produce the same few lines of terminal output on startup:

fixme:reg:GetNativeSystemInfo (0x33fe40) using GetSystemInfo()
fixme:msg:ChangeWindowMessageFilter c057 00000001
fixme:win:DisableProcessWindowsGhosting : stub",49,"0"
"WINE-10967","Axis & Allies does not start","Launch of game fails with the following error: LIB_InitVideo: ERROR 0x80004001 SetDisplayMode Failed!",165,"0"
"WINE-11371","Not possible to open documents with Teach2000","Created attachment 10481
Log crash Teach2000

Teach2000 crashes when opening or saving a file. Teach2000 documents (*.t2k) are xml files.

Steps to reproduce:
Install Teach2000 (Teach2000 can be downloaded here: http://www.digischool.nl/teach2000/teach822.exe)

Start Teach2000.exe

Go to menu [File][Open] and enter C:\Program Files\Teach2000\Examples\Dutch.t2k

Click OK.

Exp: Dutch.t2k is loaded.
Act: Teach2000 closes with Segmentation fault.

More about Teach2000 in AppDB
http://appdb.winehq.org/objectManager.php?sClass=application&iId=5339",81,"0"
"WINE-28672","VirtualDub: crash when using directx for display panes","Latest wine updates are causing constant crashes in VirtualDub these happens with several file types since wine-1.3.28 and I've been able to load back those files after disabling directx usage.
Running wine from console (when using directx as I used to do) gives me a single error report (among several fixme messages as usual) when VD has loaded the file and is about to show it:

err:d3d:context_create wglSwapIntervalEXT failed to set swap interval 1 for context 0x20b1c8 last error 0x591

then the application crashes and shows a dialog box with an alert An integer division by zero occurred in module 'VirtualDub' which I believe is not really related to the crash.
The error message (d3d error) points me to a video issue which in fact disappears when disabling directx for display panes.
These crashes appeared when upgrading from 1.3.26 to 1.3.28 (there was no 1.3.27 wine binary for my lucid lynx) and still happen with 1.3.29.",1925,"1"
"WINE-24200","msi: properly handle msidbComponentAttributes64bit attribute to support x64 installers that mix architectures in a single MSI package (32-bit and 64-bit components filesystem registry)","Hello

one of the main problems with current Wine msi is there are x64 installers that mix architectures in a single MSI package: 64-bit and 32-bit components (without a separate 32-bit installer for 32-bit components).

Basically 'msidbComponentAttributes64bit' is not handled.

Example: mscoree.dll -> .NET bootstrapper

Component table:

--- snip 32-bit ---
MSCOREE_DLL_____X86.3643236F_FC70_11D3_A536_0090278A1BB8	{173A6EB3-6403-11D4-A53F-0090278A1BB8}	DD_SystemFolder_X86.3643236F_FC70_11D3_A536_0090278A1BB8	8		FL_mscoree_dll_____X86.3643236F_FC70_11D3_A536_0090278A1BB8
--- snip 32-bit ---

Attributes = 8

--- snip 64-bit ---
MSCOREE_DLL_____A64.3643236F_FC70_11D3_A536_0090278A1BB8	{70B495DC-D747-4182-B6D7-86C8A2244B25}	SystemFolder.3643236F_FC70_11D3_A536_0090278A1BB8 264	FL_mscoree_dll_____A64.3643236F_FC70_11D3_A536_0090278A1BB8
--- snip 64-bit ---

Attributes = 264 (256 = msidbComponentAttributes64bit + 8)

When it comes to InstallFiles action:

--- snip 32-bit component ---
001b:trace:msi:msi_get_property returning LC:\\windows\\system32\\ for property LDD_SystemFolder_X86.3643236F_FC70_11D3_A536_0090278A1BB8 
...
001b:Call KERNEL32.MultiByteToWideChar(00000000000000007fffe7ce1110 FL_mscoree_dll_____X86.3643236F_FC70_11D3_A536_0090278A1BB8ffffffff7fffe7d4ba007fff0000003c) ret=7fffed8ff38c 
...
001b:trace:msi:resolve_folder Working to resolve LDD_SystemFolder_X86.3643236F_FC70_11D3_A536_0090278A1BB8 
...
001b:trace:msi:cabinet_copy_file extracting LC:\\windows\\system32\\mscoree.dll
001b:Call KERNEL32.CreateFileW(7fffe7d0b980 LC:\\windows\\system32\\mscoree.dllc000000000000000000000007fff000000027fff0000008000000000) ret=7fffed8ff409
001b:Ret  KERNEL32.CreateFileW() retval=000000ac ret=7fffed8ff409 
--- snip 32-bit component ---

--- snip 64-bit component ---
001b:trace:msi:msi_get_property returning LC:\\windows\\system32\\ for property LSystemFolder.3643236F_FC70_11D3_A536_0090278A1BB8
...
001b:Call KERNEL32.MultiByteToWideChar(00000000000000007fffe7d247a0 FL_mscoree_dll_____A64.3643236F_FC70_11D3_A536_0090278A1BB8ffffffff7fffe7d15ab00000003c) ret=7fffed8ff38c 
...
001b:trace:msi:resolve_folder Working to resolve LSystemFolder.3643236F_FC70_11D3_A536_0090278A1BB8 
...
001b:trace:msi:cabinet_copy_file extracting LC:\\windows\\system32\\mscoree.dll
001b:Call KERNEL32.CreateFileW(7fffe7d15b40 LC:\\windows\\system32\\mscoree.dllc000000000000000000000007fff000000020000008000000000) ret=7fffed8ff409
001b:Ret  KERNEL32.CreateFileW() retval=000000b0 ret=7fffed8ff40
--- snip 64-bit component ---

The first extracted 32-bit version that gets (incorrectly) extracted to system32 folder (remember: we're 64-bit install here) and subsequently gets overwritten with 64-bit version later.

For the registry the same applies: In order to create registry values in 64bit HKLM for components marked with msidbComponentAttributes64bit there is nothing to change in 64-bit installs.

For 32-bit components (attrs < 256) the registry stuff must go to Wow6432Node.
Ideally Wine's msi should also support something like msidbComponentAttributesDisableRegistryReflection to allow 32-bit components to write into 64bit HKLM but that's not required for now.

Regards",973,"1"
"WINE-7169","All full-screen windows are displaced when using XVidMode","When using XVidMode instead of XRandr full-screen games are placed at the
bottom left corner sometimes badly distorted. Tested with several games.

To reproduce set [HKCU\Software\Wine\X11 Driver] UseXRandr=N and start any
game in full-screen. It should be placed at the top-left corner of the screen.
It seems initially it's being set there but then window is moved to the bottom
left corner and the whole screen starts to flicker.

Games tested:
HL2: http://appdb.winehq.org/appview.php?iVersionId=2890
Moto Racer 2: http://appdb.winehq.org/appview.php?iAppId=3680
Max Payne 2: http://appdb.winehq.org/appview.php?iAppId=2166
and few others.

Regression testing pointed to this patch:
f6702ec4afb4098cbb67d6bd670a9f0527191f80 is first bad commit
commit f6702ec4afb4098cbb67d6bd670a9f0527191f80
Author: Dmitry Timoshkov
Date:   Tue Jan 9 23:57:33 2007 +0800

    winex11.drv: Force the fullscreen state update once the window is mapped.

:040000 040000 f83b3a76eeecd52a04ed04201c49ac15244b0a25
d57c3162633300eabdb9fea65d530eb91cd929f5 M      dlls",393,"1"
"WINE-19740","Google Earth: View in Google Maps doesn't work (dogfood)","To recreate:

1. Open Google Earth.
2. Fly somewhere.
3. Go to File --> View in Google Maps

Nothing happens.

Printed in the console:
fixme:shdocvw:navigate_url Unsupported args (Flags 0x34f20f0:16387 TargetFrameName 0x34f2100:16392)
QAxBase: Error calling IDispatch member Navigate: Exception thrown by server",776,"1"
"WINE-13378","Xplorer2 lite crashes in SHChangeNotify when deleting directory","I've been playing with alternate shells lately and
an article on the ten best windows apps listed Xplorer2
http://blogs.zdnet.com/Bott/?p=402&page=3
so I gave the Lite version a try http://www.zabkat.com/x2lite.htm

Seemed ok until I tried deleting a directory.
Picak a directory to delete by 
selecting it in the left pane then click the big 'X' icon
and confirm.  Bammo!  I'll attach a log.",786,"1"
"WINE-42211","redefinition of typedef 'REFERENCE_TIME'","Created attachment 56851
redefinition of typedef 'REFERENCE_TIME'

my system: puppy linux 4.31

command: gcc --version
gcc (GCC) 4.2.2

command: uname -r
2.6.30.5

command: ldd --version
ldd (GNU libc) 2.6.1


Error when compiling:
redefinition of typedef 'REFERENCE_TIME'",5,"0"
"WINE-4610","total media time is invalid","While testing vlc-0.8.4a-win32 (http://appdb.winehq.org/appview.php?versionId=4271):

Run from the App-Directory: wine vlc.exe
(I used streaming to udp/127.0.0.1 as transport and a native vlc as output.
The Bug exists also when using local output but ddraw crashed wine and
ESD-Audio is unusable).

Tested with various avi and mp3-files:

The total Time is sometimes negativ or much to large (>10000 hours) and changes
often but not every second (when the actual time is updated)
example: -12598:-30:-59

The Position-Slider stay on the left Position.


-- 
By by ... Detlef",454,"1"
"WINE-30914","Osu! Doesn't start","When I try to start osume.exe It crashes and sends me this errors:
 Unhandled Exception: System.InvalidProgramException: Invalid IL code in #UH.#fs:#eo (): IL_0010: ldelem.ref and
 when I try to start osu!.exe the same happens with a texttbox that says GetThreadContext failed.",659,"1"
"WINE-31093","League of Legends / Pando downloader crashes with builtin msvcp90","If bug 24020 were fixed this would be a purist bug.

Not sure why but with today's git and builtin msvcp90 the LOL downloader
crashes and starts the bugsplat reporter (which puts up
a dialog saying it was expecting argument 'c').

To reproduce work around bug 22152 as usual with
   GC_DONT_GC=1 bug LeagueofLegends.exe 

winetricks vcrun2008 makes the problem go away.  Setting msvcp90 to builtin
makes it come back.",24,"0"
"WINE-5939","MS Money 2004 trial doesn't install many files","The trial version of MS Money 2004 is freely downloadable
and seems to install but the main .exe fails to get installed.
There are lots of messages like
err:msi:ACTION_InstallFiles compressed file wasn't extracted (Lc:\\Program
Files\\Microsoft Money\\System\\compdll.dll)
...
err:msi:ACTION_InstallFiles compressed file wasn't extracted (Lc:\\Program
Files\\Microsoft Money\\System\\msmoney.exe)",7,"0"
"WINE-39119","Heroes of the Storm 13.0.37117 crashes on exit needing wevtapi.dll.EvtClose","After closing the application (Heroes of the Storm patch 13.0.37117) it will throw up a fatal error. The application itself does not Wine. However prior to this latest Heroes of the Storm patch it did not throw up this error and as far as I can tell it does not generate this error in Windows.

Wine: 1.7.49

I also tested it with a fresh wine prefix to rule out any issues from dll overrides. This did not solve the issue.

While running the application it behaves as before. It is just when closing the application that it throws up this error. The error message itself is just Fatal exception occured with a typical Blizzard exception handler error code but that is probably less than useful information since it is being run in Wine and the error it generates assumes Windows.",113,"0"
"WINE-37851","Call of Duty 4: colors and textures are not rendered correctly","Created attachment 50412
Console output from COD4

Game Call of Duty 4 reports all the time the following two lines on the console output
err:d3d:wined3d_debug_callback 0x131d37a8: GL_INVALID_VALUE error generated. Size and/or offset out of range..
err:d3d_surface:wined3d_volume_upload_data >>>>>>>>>>>>>>>>> GL_INVALID_VALUE (0x501) from glTexSubImage3D @ volume.c / 114

Within the game some textures only look black (e.g.: grass trees).",101,"0"
"WINE-16960","UnrealTournament video issue: wined3d: Add support for EXT_vertex_array_bgra.","Created attachment 18736
video issues in UnrealTournament

Hello
I have found a regression in wine-1.1.13 that causes video
issues in UnrealTournament.

I have run a regression test:
b1812c690c52c568222963da77a9c427b704197e is first bad commit
commit b1812c690c52c568222963da77a9c427b704197e
Author: Henri Verbeet 
Date:   Thu Jan 8 10:19:17 2009 +0100

    wined3d: Add support for EXT_vertex_array_bgra.
    
    This allows us to skip BGRA->RGBA color conversion for vertex attributes if
    this extension is present.

:040000 040000 a801fc4b8945a58ea5cbe84fca7b2f5a41a7d364 9661beec58147589793e11944d7c14c045dafdf1 M	dlls

CCing the author did not work:
CC: 	hverbeet@codeweavers.com did not match anything",7,"0"
"WINE-26765","x86_64 OS should not be selectable on a 32-bit system","winecfg currently allows a user to select any Windows version that has been added to Wine but 2008R2 does not support 32-bit processors.

Maybe this can be solved by defining VER_PLATFORM_WIN64_NT ?

Any app expecting a 64-bit processor should fail but this is bound to come up at some point in the future.

If/when other architectures are supported the list will change again.

Not sure how big a headache this is to resolve but it is only a trivial issue AFAICT.

I'm sure we've all seen the list before:
http://en.wikipedia.org/wiki/Comparison_of_Windows_versions#NT_Kernel-based",1025,"1"
"WINE-35691","IPLA 0.9 installer aborts with 'Windows Media Player version 9 or newer needed' (wmp.dll version resource missing)","Hello folks

another way to check for WMP version (same category as bug 35677 and bug 35688).

The installer message is polish translator tells it's something along:

... Windows Media Player version 9 or newer needed. We recommend installing version 11

--- snip ---
$ WINEDEBUG=+tid+seh+relay wine ./iplasetup.exe >>log.txt 2>&1
...
0025:Call version.GetFileVersionInfoSizeA(00409f48 C:\\windows\\system32\\wmp.dll0033fa4c) ret=00401ed9 
...
0025:Call KERNEL32.lstrcpynA(0040a74800422e00 Do zainstalowania programu wymagany jest Windows Media Player w wersji 9 lub nowszej. Zalecamy instalacj\xea wersji 11.00000400) ret=0040590f
0025:Ret  KERNEL32.lstrcpynA() retval=0040a748 ret=0040590f
0025:Call user32.MessageBoxIndirectA(004091d0) ret=0040521e 
--- snip ---

$ sha1sum iplasetup.exe 
cbd5578e1c8a3439ecc126d246fcb271825c2e37  iplasetup.exe

$ du -sh iplasetup.exe 
8.2M	iplasetup.exe

$ wine --version
wine-1.7.13-100-gfcae016

Regards",0,"0"
"WINE-38736","Volume Shadow Copy Service (VSS) Backup/Restore Test Tool from Windows SDK 8.1 needs api-ms-win-security-lsalookup-l1-1-0.dll","Hello folks

as the summary says.

Prerequisite for Windows SDK 8.1 install:

* new 32-bit WINEPREFIX
* 'winetricks -q dotnet40 corefonts'
* change WinVer to 'Vista'
* install .NET Framework 4.5 from 'winetricks' cache or download (to avoid .NET Framework 2.x 3.x install which is not needed here)

Run the SDK installer with WinVer set to 'Windows 8.1' and 'dwrite' component disabled to get all Windows 8+ components installed

--- snip ---
$ WINEDLLOVERRIDES=dwrite=d wine ./sdksetup.exe
--- snip ---

Run the tool:

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/Windows Kits/8.1/bin/x86

$ wine ./betest.exe 
fixme:wer:WerSetFlags (2) stub!
fixme:heap:RtlSetHeapInformation (nil) 1 (nil) 0 stub
fixme:process:SetProcessShutdownParameters (00000380 00000000): partial stub.
fixme:ntdll:WinSqmIsOptedIn () stub
fixme:ole:RemUnknown_QueryInterface No interface for iid {00000019-0000-0000-c000-000000000046}
err:module:import_dll Library api-ms-win-security-lsalookup-l1-1-0.dll (which is needed by LC:\\Program Files\\Windows Kits\\8.1\\bin\\x86\\betest.exe) not found
err:module:LdrInitializeThunk Main exe initialization for LC:\\Program Files\\Windows Kits\\8.1\\bin\\x86\\betest.exe failed status c0000135
--- snip ---

Windows 7 API set:

http://www.geoffchappell.com/studies/windows/win32/apisetschema/ms-win-security-lsalookup-l1-1-0.htm

--- quote ---
API-MS-Win-Security-LSALookup-L1-1-0

All the functions in the API-MS-Win-Security-LSALookup-L1-1-0 set are exports from SECHOST version 6.1 and higher and are not documented (though they are each declared in one or another SDK header file):

    LookupAccountNameLocalA
    LookupAccountNameLocalW
    LookupAccountSidLocalA
    LookupAccountSidLocalW
    LsaLookupClose
    LsaLookupFreeMemory
    LsaLookupGetDomainInfo
    LsaLookupManageSidNameMapping
    LsaLookupOpenLocalPolicy
    LsaLookupTranslateNames
    LsaLookupTranslateSids

The Windows 7 schema redirects this API Set to SECHOST. 
--- quote ---

$ sha1sum sdksetup.exe 
4540251f0ca62da5fd8e68cd4e3129930e7c5ae9  sdksetup.exe

$ du -sh sdksetup.exe 
976K	sdksetup.exe

$ wine --version
wine-1.7.44-173-g42cbc05

Regards",200,"0"
"WINE-12407","Call of Duty 2 1.00 crashes Wine on hit by enemy (Singleplayer)","I use Wine 0.9.58 from the repository on my Xubuntu Gutsy machine. The game installs and starts fine but when I play the application frequently crashes when taking enemy fire or being killed. If a grenade or explosion sets off besides me the application sometimes shows the Respawn screen but then disappears completely. I can't reproduce this reliably. Sometimes I can play entire sections w/o any problem sometimes I take one hit from the very first enemy and Wine crashes. It seems to be connected to display overlay for damage or something. As long as I walk around and touch nothing everything is fine. But when I get shot at or stuff is blowing up around me the HUD becomes brown blocks (Minimap compass etc. become browinsh squares) for a fraction of a second and more often than not the game crashes.

Specs:
Xubuntu 7.10 Gutsy Gibbon
Kernel 2.6.22-14-generic
2GB RAM Pentium 4 3GhZ
Graphics: ATi Catalyst 8.3 on RadeOn X850 AGP (256 MB)
CoD2ver: 1.00 (Retail DVD)

Game Resolution used: 640x480@32Bit:60Hz
Standard Resolution: 1280x1024@32Bit:75Hz

DirectX9 installed through Wine-Doors 0.2
(the crash is not influenced by binary DirectX installation it still happens on both DX7 and DX9 mode Wine native DX7 has the same bug)

Here is a dump of the output of Wine. I started a mission killed a couple of enemies and then got blown up by a grenade. As I was dead the brownish respawn screen showed but right before one of these War quotes is usually displayed Wine crashed.

http://www.pastebin.ca/975252",291,"1"
"WINE-29306","Telltale's games launcher unusable (can't click on buttons)","Created attachment 37898
terminal output

The launcher used by several games from Telltale Games used to work reasonably well in Wine with only Gecko installed (at least those games could be started).
Now the launcher is unusable mainly because none of the buttons in the launcher can be activated thus the games cannot be started. Additionally the launch button appears off-screen only the left part of the button can be seen.

Workaround: winetricks ie8

Steps to reproduce the problem with the demo:
1. Install the demo for Strong Bad Episode 1.
2. Launch the demo by Homestar101.exe and wait for a couple of seconds until the launcher is fully loaded. You can notice that the green  button is off screen. The biggest problem is that that button is unclickable (as well as other buttons in the launcher).

This is due to

a289b8e0a40a29a0e2aa0fdc959766a189b0135d is the first bad commit
commit a289b8e0a40a29a0e2aa0fdc959766a189b0135d
Author: Jacek Caban 
Date:   Tue Dec 6 10:42:09 2011 +0100

    jscript: Added bytecode version of member expression.

:040000 040000 5f8a80fef79e714ade1b65dd6fafc914b19c7b1a d5ca7a6c5e306c05540d2014ea3451410cc0c4c3 M	dlls

The patch cannot be reverted on wine-1.3.34-202-gb0f704d but
git checkout a289b8e0a40a29a0e2aa0fdc959766a189b0135d  >>the launcher is unusable
git reset --hard HEAD^   >>buttons work in the launcher",2,"0"
"WINE-20509","gdb proxy mode: random reply to Offsets query","0) In gdb proxy mode the replies to query packets are constructed in programs/winedbg/gdbproxy.c:packet_query(). The reply to qOffsets is based on gdbctx->wine_segs (that reply has the form: Text=[...]Data=[...]Bss=[...]).

1) As far as I can see gdbctx->wine_segs is never properly set so the reply seems to be (basically) random.

2) If the above is correct the code needs a patch. I have no idea to what value(s) gdbctx->wine_segs should be set so I can't draft that patch.",542,"1"
"WINE-28355","Photoshop CS2 stopped working unable to focus on any tool windows after a new file is created or opened","CS2 was installed and worked in the beginning (about 1 day) but after a reboot CS2 started to have problems when a new file is created or opened. It works very well when there is no file opened|created all tools are working everything looks normal until a new file is opened or created. When this happens Photoshop tool windows are unable to get focused (not clickable). When you click on tool windows - nothing happens. You can't access main menu as well. It's locked for the mouse but you can access main menu with key shortcuts but they're either disabled (like no file is opened) or not working (you click on them and nothing happens)

Linux c3po 2.6.39-gentoo-r3 #1 SMP Mon Aug 29 03:38:36 MSD 2011 x86_64 Intel(R) Xeon(TM) CPU 2.80GHz GenuineIntel GNU/Linux
Wine 1.3.27
Photoshop CS2 
KDE 4.6

Currently I'm unable to run any version of photoshop. I tried to reinstall CS2 but the same problem persisted. I tried to clean KDE cashes  CS2 configs - nothing helps. CS2 just won't work after a file is opened.",673,"1"
"WINE-3914","missing MSVCRT.DLL","When installing Microsoft Flight Simulator 98 with the Windows 98 emulated
version MSVCRT.DLL is missing.",23,"0"
"WINE-23207","Mount&Blade: Warband Demo v1.123 crashes quickly in user32.GetSysColor (needs DECLSPEC_HOTPATCH entry for hooking code)","The game installs ok but crashes with

Unhandled exception: page fault on read access to 0x002d5987 in 32-bit code (0x7ec65f27).

Backtrace:
=>0 GetSysColor+0x17(nIndex=0x0005) [dlls/user32/sysparams.c:2917] in user32
  1 0x002583f4 in skinmagic (+0x183f3)
  2 ButtonWndProc_common+0xdf2(hWnd=0x7ebf0000 uMsg=0x7ff7 wParam=0 lParam=0 unicode=0) [dlls/user32/button.c:265] in user32
  3 LoadBitmapW+0x27(instance=(nil) name=*** invalid address 0x7ff7 ***) [dlls/user32/cursoricon.c:2632] in user32
  ...
  13 CreateWindowExA+0xbe(exStyle=0 className=BUTTON windowName= style=0x40000000 x=0 y=0 width=0x000a height=0x000a parent=0x10064 menu=(nil) instance=0x400000 data=0x0(nil)) [dlls/user32/win.c:1472] in user32

Running with +relay works around the problem and lets the game play
(at least as far as I tried which wasn't too far).  Weird.",364,"1"
"WINE-700","Lockup in MULTIMEDIA_PlaySound() using MSDevStudio 6","CVS 2002 May 17
First occurence of bug due to CVS checkin of dlls/winmm/mmsystem.c revision 1.52.

When selecting a menu-item in the File (or any other) pulldown-menu in MSVC++ 6.0
the loop in MULTIMEDIA_PlaySound() never ends on my system
(Debian unstable no soundcard) as well as on another system
(Debian unstable soundblaster installed).  

Here's a log when running wine --debugmsg +mmsys msdev.com

fixme:win32:PE_CreateModule Security directory ignored
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:ole:CoRegisterMessageFilter stub
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
trace:mmsys:WINMM_LibMain 0x416a3000 0x1 (nil)
trace:mmsys:MULTIMEDIA_CreateIData Created IData (0x403d5a88) for pid 080b12d0
trace:mmsys:MMDRV_Install ('wineoss.drv' 'wineoss.drv' mapper=N)
trace:mmsys:MMDRV_Install Got 32 bit func 'auxMessage'
trace:mmsys:MMDRV_Install Got 32 bit func 'mixMessage'
trace:mmsys:MMDRV_Install Got 32 bit func 'midMessage'
trace:mmsys:MMDRV_Install Got 32 bit func 'modMessage'
trace:mmsys:MMDRV_Install Got 32 bit func 'widMessage'
trace:mmsys:MMDRV_Install Got 32 bit func 'wodMessage'
trace:mmsys:MMDRV_Install wineoss.drv => No description
trace:mmsys:MMDRV_InitPerType DRVM_INIT => 00000000
trace:mmsys:MMDRV_InitPerType Got 0 dev for (wineoss.drv:Aux)
trace:mmsys:MMDRV_InitPerType DRVM_INIT => 00000001
trace:mmsys:MMDRV_InitPerType Got 0 dev for (wineoss.drv:Mixer)
trace:mmsys:MMDRV_InitPerType DRVM_INIT => 00000000
trace:mmsys:MMDRV_InitPerType Got 0 dev for (wineoss.drv:MidiIn)
trace:mmsys:MMDRV_InitPerType DRVM_INIT => 00000000
trace:mmsys:MMDRV_InitPerType Got 0 dev for (wineoss.drv:MidiOut)
trace:mmsys:MMDRV_InitPerType DRVM_INIT => 00000000
trace:mmsys:MMDRV_InitPerType Got 0 dev for (wineoss.drv:WaveIn)
trace:mmsys:MMDRV_InitPerType DRVM_INIT => 00000000
trace:mmsys:MMDRV_InitPerType Got 0 dev for (wineoss.drv:WaveOut)
trace:mmsys:MMDRV_Install ('wavemapper' 'msacm.drv' mapper=Y)
trace:mmsys:MMDRV_Install Got 32 bit func 'widMessage'
trace:mmsys:MMDRV_Install Got 32 bit func 'wodMessage'
trace:mmsys:MMDRV_Install msacm.drv => No description
trace:mmsys:MMDRV_InitPerType DRVM_INIT => 00000000
trace:mmsys:MMDRV_InitPerType Got 1 dev for (wavemapper:WaveIn)
trace:mmsys:MMDRV_InitPerType Setting min=0 max=0 (ttop=0) for (wavemapper:WaveIn)
trace:mmsys:MMDRV_InitPerType WaveIn:Trans[-1] -> wavemapper
trace:mmsys:MMDRV_InitPerType DRVM_INIT => 00000000
trace:mmsys:MMDRV_InitPerType Got 1 dev for (wavemapper:WaveOut)
trace:mmsys:MMDRV_InitPerType Setting min=0 max=0 (ttop=0) for (wavemapper:WaveOut)
trace:mmsys:MMDRV_InitPerType WaveOut:Trans[-1] -> wavemapper
trace:mmsys:MMDRV_Install ('midimapper' 'midimap.drv' mapper=Y)
trace:mmsys:MMDRV_Install Got 32 bit func 'modMessage'
trace:mmsys:MMDRV_Install midimap.drv => No description
trace:mmsys:MMDRV_InitPerType DRVM_INIT => 00000000
trace:mmsys:MMDRV_InitPerType Got 1 dev for (midimapper:MidiOut)
trace:mmsys:MMDRV_InitPerType Setting min=0 max=0 (ttop=0) for (midimapper:MidiOut)
trace:mmsys:MMDRV_InitPerType MidiOut:Trans[-1] -> midimapper
trace:mmsys:MULTIMEDIA_PlaySound pszSound='0x403d68cc' hmod=0000 fdwSound=00000003
trace:mmsys:WINMM_LibMain 0x416a3000 0x2 (nil)
trace:mmsys:proc_PlaySound SoundName='LMenuPopup' !
trace:mmsys:get_mmioFromProfile searching in SystemSound List !
trace:mmsys:get_mmioFromProfile searching in SystemSound List !
trace:mmsys:WINMM_LibMain 0x416a3000 0x3 (nil)
trace:mmsys:MULTIMEDIA_PlaySound pszSound='0x403db994' hmod=0000 fdwSound=00000003",11,"0"
"WINE-36386","d3dx9_36/tests/texture.c crashes under valgrind on i965/mesa 10.1.1","Created attachment 48438
valgrind log/backtrace

Backtrace:
=>0 0x0400ad42 _vgr20180ZZ_libcZdsoZa_memcpy+0xf2() in vgpreload_memcheck-x86-linux.so (0x04d6f318)
  1 0x0737df14 in i965_dri.so (+0xf1f13) (0x81cd3000)
  2 0x073844bd in i965_dri.so (+0xf84bc) (0x04390960)
  3 0x07384800 in i965_dri.so (+0xf87ff) (0x04390960)
  4 0x07557e0f in i965_dri.so (+0x2cbe0e) (0x0a248408)
  5 0x0736d78a in i965_dri.so (+0xe1789) (0x00000de1)
  6 0x07371dea in i965_dri.so (+0xe5de9) (0x04d6fa48)
  7 0x06dcfbd6 glTexSubImage2D+0x65() in libgl.so.1 (0x04d6fa48)
  8 0x05dccd22 wined3d_adapter_init.constprop+0x1451() in wined3d (0x04d6fa48)
  9 0x05dd2d79 wined3d_init+0x38(wined3d=0x481e2d8 flags=0xc) [/home/austin/wine-valgrind-known/dlls/wined3d/directx.c:5272] in wined3d (0x04d6fa78)
  10 0x05e58927 wined3d_create+0x66(flags=) [/home/austin/wine-valgrind-known/dlls/wined3d/wined3d_main.c:105] in wined3d (0x04d6fab8)
  11 0x05d4e4af d3d9_init+0x3e(d3d9=0x481e2b8 extended=0) [/home/austin/wine-valgrind-known/dlls/d3d9/directx.c:647] in d3d9 (0x04d6faf8)
  12 0x05d41ab1 Direct3DCreate9+0x6b(sdk_version=) [/home/austin/wine-valgrind-known/dlls/d3d9/d3d9_main.c:45] in d3d9 (0x04d6fb38)",380,"1"
"WINE-22780","Trackmania United Forever crashes with complex shaders enabled","Created attachment 28107
Log

TMU crashes with recent Wine versions (at least 1.1.42-44)

When I select SM 2.0 or any enhanced graphical options (such as 'Blur') the game crashes in a few seconds.",670,"1"
"WINE-18769","Meta Editor (metatrader) won't compile","Metatrader a forex trading program has an editor (called meta editor) for compiling files that is launched from inside the app. That program can no longer compile files the compile process simply freezes and gives no error. Meta editor must then be forced closed. This happens in 1.1.22 after downgrading back to 1.0.1 the problem goes away.",213,"0"
"WINE-17094","Mr. Robot graphics fail to render","Mr. Robot's main graphics fail to render in horrendous ways - some things render without textures (e.g. white blocky things) others render completely transparently without textures.

Wine keeps spitting the following:

fixme:d3d:state_pscale >>>>>>>>>>>>>>>>> GL_INVALID_VALUE (0x501) from glPointSize(...) @ state.c / 1457

Ubuntu 8.10 amd64 wine-1.1.12-884-g666b994",867,"1"
"WINE-23671","Adobe Acrobat 9.0.0 Pro Extended Crashes On Startup from Fresh Install","Created attachment 29622
wine start C:\\Program\ Files\\Adobe\\Acrobat\ 9.0\\Acrobat\\Acrobat.exe

Downloaded Adobe Acrobat 9.0.0 Pro Extended directly from Adobe. I immediately turned off my WLAN switch for testing purposes. Installed successfully. Open Adobe Acrobat via commandline Acrobat.exe crashes after clicking Edit -> Preferences. Happens everytime the app is opened. Based on the CLI output looks like it is related to the WLAN not being on but it should not crash the app!?

lsb_release -rd
Description:	Ubuntu 10.04 LTS
Release:	10.04

apt-cache policy wine1.2
wine1.2:
  Installed: 1.2~rc7-0ubuntu2
  Candidate: 1.2~rc7-0ubuntu2
  Version table:
 *** 1.2~rc7-0ubuntu2 0
        500 http://ppa.launchpad.net/ubuntu-wine/ppa/ubuntu/ lucid/main Packages
        100 /var/lib/dpkg/status
     1.1.42-0ubuntu4 0
        500 http://us.archive.ubuntu.com/ubuntu/ lucid/universe Packages",415,"1"
"WINE-27413","Segmentation fault in Kudos 2 Demo","Created attachment 35059
Terminal output

Downloaded demo here: http://www.positech.co.uk/kudos2/Kudos2DemoInstaller.exe

On attempting to start a new game the application exits. Terminal reads 'Segmentation fault.' Full terminal output attached. 

On an aside this game along with others by Positech show nothing for me graphically unless I edit the CONFIG.MUF file in the game's data directory and set IsWindowed to 1 - that might be useful for anyone looking into this as well.",1057,"1"
"WINE-1321","Files do not retain their timestamps with CopyFile","Bug comments restored from Gmane.org: 
 
When using the CopyFile api the copied file does not retain its timestamps as
they do under Windows.


------- Additional Comments From mike  theoretic.com  2003-03-30 15:40 -------
Confirming we should do this. Patches are welcome I don't think it'd be hard.
MSDN doesn't seem to mention behaviour here but I expect the reporter is right :)",720,"1"
"WINE-530","Package the regression tests for Windows","We need to make available a package that allows Windows developpers to:
 * run the perl tests without requiring that they have a C compiler (so we need
to package winetest.exe but it is probably best not to include perl itself)
 * run the C tests provided that they have Visual C++ or Cygwin/Mingw. Perl
should not be required for this
 * not have to download the whole Wine sources
 * make it possible to write new tests in this environment

This package should then be made available on WineHQ.",811,"1"
"WINE-3631","Static destructors or atexit not called if app is compiled with mingw32","Muschick Christian  reports that when this app is
compiled with mingw32 it runs properly on Windows but not on Wine. (When it is
compiled with a Windows compiler it runs properly on both.)

#include 

class Foo
{
public:
    ~Foo()
        {
            std::cout << Destructor\n
        }
}

Foo foo

void f()
{
    std::cout << f\n
}

int main(int c char ** p)
{
    std::cout << main\n
    atexit(f)
    return 0
}",0,"0"
"WINE-18808","Microsoft FlightSimulator 9 (2004): surface errors and missing textures","Created attachment 21600
log using wine 1.1.23

I could not find any other matching bug so I'm opening a new one:

Microsoft FlightSimulator 9 (2004) uses DirectX 9. It works since wine 1.1.23 but there are severe graphics-related bugs:

Terrain and Objects are transparent or get black. Sometimes they are newly textured after a while or game crashes.

This is wines output:
 fixme:d3d:context_check_fbo_status FBO status GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT_EXT (0x8cd6) [...]
and:
 err:d3d_surface:IWineD3DSurfaceImpl [...] Surface does not have any up to date location
 fixme:d3d:IWineD3DDeviceImpl_UpdateSurface >>>>>>>>>>>>>>>>> GL_INVALID_VALUE (0x501) from glTexSubImage2D @ device.c / 6010

I attached a full log.

My GFX-card is a Nvidia Geforce 8800GTX with Nvidia driver 180.44. Clean wineprefix. wine-windows-version set to Xp also tested 98. I could not find a demo of version 9 but will test FS 10 (X) later on.

Thanks.",384,"1"
"WINE-30200","Writing 00x integers instead of 0x","On Wine 1.4 ArcView 3.3 writes in textual .apr file hex enumerations in the form 00xNNN instead of 0xNNNN. No error while saving but later it cannot open it again. Opening error is:

ERROR Can't convert characters in h:\proj1.apr at position 1947 to an integer.
------------------- TRACEBACK -------------------------
Module AVFile Message 4: file .\err.c  line 645
Module ODB  Message 1: file ..\avfile\odb.c line 871
Module ODB  Message -1: file ..\avfile\odb.c line 1249
Module ODB  Message -1: file ..\avfile\odb.c line 1387
Module CBlok Message -1: file ..\avenue\cblok.c line 1552
Module CBlok Message -1: file ..\avenue\cblok.c line 1552
Module Script Message -1: file ..\avenue\script.c line 151
Module Err  Message -1: file .\err.c  line 2009
------------------------------------------------------
FATAL ERROR aborted from error window

I had no such a problem with Wine 1.2.3",270,"1"
"WINE-18868","Volvo - The Game: extremely slow install","Created attachment 21688
log with 1.23 version of wine

i used clean installation of wine 1.1.23. all what was changed in default .wine was that i set with winecfg audiodriver to alsa and virtual screen to 1024x768

when game installation is launched it starts normally for first ~25% then it takes several minutes to reach about half of the installation only then it continues in normal speed again. installation itself works its only very sluggish

attached log is ordinary because i didn't knew what exactly will be needed. if you want some additional information let me know (or try application yourself its free to download and try)",710,"1"
"WINE-28499","Enterprise Architect docked window icons fail no longer have a transparent background","Created attachment 36560
Screenshot of the Docked Window heading.

All Docked window icons have a pink background instead of being transparent.",2,"0"
"WINE-501","Convert HRSRC to a void* (references: 86)","See bug 90 for instructions.
Approximate number of references: 86",180,"0"
"WINE-646","_lcreat() is incomplete.","dlls/kernel/tests/file.c fails in test__lcreat()

A file is created readonly but it is possible to write it.",4,"0"
"WINE-28291","Heroes III: sound stops and program hangs at exit","Created attachment 36255
runtime log

This bug has been present since 1.3.25 and is probably due to the rewrite of the sound drivers.

When starting up the game one sees a short intro (which i click to skip) and then the default 'home' screen with options 'new game' etc.
In the background music is playing but after a while it suddenly stops.
This silence persists throughout the whole game.
In pre-1.3.25 versions the game worked perfectly well.
When trying to quit the game it hangs and does not respond.

AFAICT the important error messages are the 'err:ntdll:RtlpWaitForCriticalSection' messages that begin to appear after the sound stops and probably state that the sound thread is 'deadlocked' in a way. The hang upon shutdown is probably also just the same thread that simply doesn't want to exit. (The 'err:ntdll:RtlpWaitForCriticalSection' stuff still continues to show repeatedly when that point is reached)

For completeness I attach a full log up until the hang.

My guess would be that the very source is the 'err:dplay:DPLAYX_ConstructData' message which is followed by a buffer overflow or smth like that since the static data couldn't be mapped to memory space. Data on the stack tends to overflow whenever a limit is reached.",35,"0"
"WINE-30986","Severe frame rate regression in 3D games when changing cursor graphic (esp with animated cursors)","While playing Diablo 3 (D3) frame rates decrease significantly when the game uses an animated cursor.  In World of Warcraft (WoW) you can see a brief hiccup in animation when you mouse over something that changes the cursor shape.  It's not as severe in WoW but WoW does not use animated cursors like D3 does.

A git bisect led to:

c2c0743ccfd4a945df3b88231d62731e14da3324 is the first bad commit
commit c2c0743ccfd4a945df3b88231d62731e14da3324
Author: Henri Verbeet 
Date:   Fri Jun 22 15:57:29 2012 +0200

    wined3d: Properly retrieve the display mode in wined3d_device_set_cursor_properties().

:040000 040000 5e0f894018153ba040091ace29474ccd9cfd0288 705cc9dc4e980c64ae3edfda864a3c47a6a9beb4 M      dlls",23,"0"
"WINE-2795","Cannot open AVI.","Error executing a Delphi application.",401,"1"
"WINE-19714","browsing Help | Contents entries causes the app to crash","After a clean install of wine-1.1.27 the app Mozart9 installed without incident.
When accessing Helpin the app the new gecko was *not* downloaded and
the program exited with the popup: The program Mozart32.exe has encountered
a serious problem and needs to close...

With wine-1.1.26 gecko was downloaded and installed in this case. After seeing the
error I followed the instructions for installing Gecko manually and tied running
IE I.E. iexplore.exe which worked well.  However now when accessing Help from
the app an attempt to browse the contents window for a particular topic causes the
program to exit with a serious error

Bug: An attempt to browse the Help | Contents window entries cause the app to crash.

This did not occur in wine-1.1.26.  I've attached the console output.",2,"0"
"WINE-39932","bat-script with quotes cann't be called using CreateProcess","Created attachment 53340
executable with source code to reproduce the problem

This problem exists in software to configure HMI panels from OWEN and Xinje. 

http://www.owen.ru/catalog/graficheskaya_panel_operatora_s_sensornim_upravleniem_owen_sp270/93620873 (Russian)

To reproduce this problem easily minimal test program is created. See attached archive cmd_call_batch.tar.xz.

Here are technical details of the problem. To appear following conditions need to be met: 
- bat-script is called using CreateProcess
- name of bat-script is quoted
- some parameters of bat-scrits are quoted.

For example

test2.bat param1 param2

wine runs bat-script using cmd. 
cmd /c test2.bat param1 param2
On Windows cmd fails if name of bat-script and parameters both are quoted. To avoid this problem attached patch always removes quotes from bat-script's name before cmd is called.",1151,"1"
"WINE-35574","gdi32:fonts test_EnumFontFamiliesEx_default_charset() fails on Windows 7 in the Japanese and Hebrew locales","In the Japanese locale the conformance test errors are:
font.c:3001: 'MS Shell Dlg' has 10 charsets.
font.c:3003: Test failed: (MS Shell Dlg) got charset 0 expected 128

And in the Hebrew one they are:
font.c:3001: 'MS Shell Dlg' has 10 charsets.
font.c:3003: Test failed: (MS Shell Dlg) got charset 0 expected 177

(the Hebrew locale also has a lot of errors in this test)


There are three VMs running the tests in a Japanese or Hebrew locale: fg-win7u64-1spie9-he fg-win7u64-1spie9-ja newtb-w7u:
http://test.winehq.org/data/tests/gdi32:font.html

The corresponding tests where introduced by:

commit 6834a44dc4c3c7e8c377a2fd56d11e93edd37b2f
Author: Dmitry Timoshkov 
Date:   Mon Jun 17 19:01:39 2013 +0900

    gdi32/tests: Add a test for default font height scaling with screen resolution changes.",576,"1"
"WINE-15184","Septerra Core crashes due to failed assert","Created attachment 15933
error log

Septerra Core crashes due to a failed assert after a short while.  Might be related to sound the dialog and animation are out of sync.  The time of the crash seems a bit random and it will crash even when no dialog is playing.  The debug info from the crashes are the same regardless of the circumstances.
System is Debian 4.0
Septerra Core is version 1.00 installed under Wine.
.wine directory was deleted and recreated with winecfg prior to installation of Septerra Core.",1277,"1"
"WINE-36603","valgrind shows uninitialized memory use in winspool.drv/tests/info.c","==21038== Conditional jump or move depends on uninitialised value(s)
==21038==    at 0x5550802: get_special_root_hkey (registry.c:282)
==21038==    by 0x5552E61: RegQueryValueExW (registry.c:1355)
==21038==    by 0x49F9199: OpenPrinterW (info.c:2551)
==21038==    by 0x49F901C: OpenPrinterA (info.c:2495)
==21038==    by 0x49978C8: test_EnumForms (info.c:808)
==21038==    by 0x49A2438: func_info (info.c:3031)
==21038==    by 0x49A32B1: run_test (test.h:584)
==21038==    by 0x49A369F: main (test.h:654)
==21038==  Uninitialised value was created by a stack allocation
==21038==    at 0x49F9091: OpenPrinterW (info.c:2532)
==21038== 

==21038== Conditional jump or move depends on uninitialised value(s)
==21038==    at 0x5550802: get_special_root_hkey (registry.c:282)
==21038==    by 0x5552E61: RegQueryValueExW (registry.c:1355)
==21038==    by 0x49F0C6E: get_dword_from_reg (info.c:493)
==21038==    by 0x49F91CA: OpenPrinterW (info.c:2553)
==21038==    by 0x49F901C: OpenPrinterA (info.c:2495)
==21038==    by 0x49978C8: test_EnumForms (info.c:808)
==21038==    by 0x49A2438: func_info (info.c:3031)
==21038==    by 0x49A32B1: run_test (test.h:584)
==21038==    by 0x49A369F: main (test.h:654)
==21038==  Uninitialised value was created by a stack allocation
==21038==    at 0x49F9091: OpenPrinterW (info.c:2532)
==21038== 

==21038== Conditional jump or move depends on uninitialised value(s)
==21038==    at 0x5550802: get_special_root_hkey (registry.c:282)
==21038==    by 0x5552827: RegSetValueExW (registry.c:1212)
==21038==    by 0x49F0D7E: set_reg_DWORD (info.c:510)
==21038==    by 0x49F91F0: OpenPrinterW (info.c:2554)
==21038==    by 0x49F901C: OpenPrinterA (info.c:2495)
==21038==    by 0x49978C8: test_EnumForms (info.c:808)
==21038==    by 0x49A2438: func_info (info.c:3031)
==21038==    by 0x49A32B1: run_test (test.h:584)
==21038==    by 0x49A369F: main (test.h:654)
==21038==  Uninitialised value was created by a stack allocation
==21038==    at 0x49F9091: OpenPrinterW (info.c:2532)
==21038== 


I do have a network printer available to wine.",13,"0"
"WINE-8476","Upon starting Platinum ERwin 3.5.2 thinks there's no printer installed if there is no default printer","Platinum ERwin 3.5.2 relies on the fact that Windows always selects a printer as
default even if the user doesn't specify one.

To reproduce the bug you just have to not have (!) any default printers in
CUPS and then launch ERwin. When you go to File > Print Setup you'll see that
the Printer combo box has a blank first line that is selected by default (see
Bug #8475). You can then select a valid installed printer and it will print
normally though.

The first attachment to Bug #8475 fixes this issue. Beware however of Bug #4097.",144,"0"
"WINE-23759","Many .NET gui apps report unhandled exception on launch due to gdiplus GdipTranslateLineTransform stub (no menu bar and status bar with built-in gdiplus)","Created attachment 29776
wine error message and stack

I try to run the installer of flarmcfgtool:
http://www.segelflug-software.de/flarmcfg/
Before I have installed the Windows versionn of Mono:
http://www.go-mono.com/mono-downloads/download.html
The install runs fine. When I start the application I get a fixme (see attachment)",626,"1"
"WINE-33516","Galactic Civilizations II page faults and crashes when a new campaign is started.","Created attachment 44361
stderr output of optirun wine GalCiv2.exe

I'm trying to run Galactic Civilizations II v1.53 (the latest) I got the game installed through GameStop with the environment variable export WINEARCH=win32. The game starts up with some errors about screen resolution color depth and ActiveX acceleration not being active but reading other bug reports this is normal.

When I start a new game I click next a few times until everything is set up and when I click next the last time the program crashes with a page fault.

I've seen two other bug reports with similar problems (16235 and 19293) but they are quite old. The first is closed with status FIXED and the second has status UNCONFIRMED.

I've tried running the program both with and without optirun but they give the same result. I've also tried the demo and there the problem isn't present.",0,"0"
"WINE-1210","Problem installing Wine 20021219","Bug comments restored from Gmane.org:

Hi

I try to install wine-20021219 but I got this :

[...]
Preparing to install default Wine registry entries...
Installing default Wine registry entries...

FIXME:pthread_cond_init
Could not stat /mnt/fd0 (No such file or directory) ignoring drive A:
Could not stat /cdrom (No such file or directory) ignoring drive D:
./tools/wineinstall: line 634: 22743 Segmentation fault      $REGEDIT $DEFREG
>/dev/null
Registry install failed.




It would be great if you could help me with this !

Best regards

Pierre.",345,"1"
"WINE-40741","Wings of Vi - black screen on launch","Created attachment 54645
WINE output

Launching the game - sound works but all I get is a black screen.

in Steam forums someone reported that the game works on wine 1.7.42 didn't test that nor it is in appdb so I'm not marking it as regression.",76,"0"
"WINE-17912","Various visual glitches on Last Remnant","Created attachment 20237
Not propably best pic Visuals looks diffrent from Windows screenshots.

Various visual glitches on Last Remnant like shadows not working some things render wrong etc.. This could be cause of slowdown in game when playing higher settings and cause of the random crashes.",108,"0"
"WINE-25570","Crash when attempting to log in to Desura client","Created attachment 32559
Wine 1.3.9 terminal log

A digital distribution service like Steam
Ubuntu 10.10
When trying to log on it crashes.
Terminal log attached.",219,"0"
"WINE-36109","Magic & Mayhem 2: The Art of Magic sometimes fails to run without native dplay","Created attachment 48291
MM2 demo error message+log

Attaching the error message and logs. The bug doesn't happen on Linux. A demo is available.

Mac OS X 10.9.2 ATI HD 2600 Pro Mac Driver/X11",136,"0"
"WINE-28701","Adobe Acrobat Pro 8 tray tool needs msvcr80.dll.freopen_s","Hello

--- snip ---
~/.wine/drive_c/Program Files/Adobe/Acrobat 8.0/Acrobat$ wine ./acrotray.exe 
wine: Call from 0x7ed484a9 to unimplemented function msvcr80.dll.freopen_s aborting
wine: Unimplemented function msvcr80.dll.freopen_s called at address 0x7ed484a9 (thread 0009) starting debugger...
...
--- snip ---

Regards",33,"0"
"WINE-21124","Text cursor and some of mouse cursors are not solid in Word 2003","Cursors instead appear dotted as in screenshot",160,"0"
"WINE-41037","Unimplemented function vcruntime140.dll.__std_type_info_name is needed by Battle.net","Now this bug: https://bugs.winehq.org/show_bug.cgi?id=40905 and bug: https://bugs.winehq.org/show_bug.cgi?id=41033 have been fixed. The next problem when I launched comes from:

wine: Call from 0x7b43bfac to unimplemented function vcruntime140.dll.__std_type_info_name aborting

Furthermore I can now launch Battle.net if I installed vcrun2015 with winetricks (so a workaround exists) but just to say without vcrun2015 it's actually not working.",3,"0"
"WINE-4275","Earth 2160 crashs at start","This is Earth 2160 v1.1. 
I start Earth and for a second I can see a black screen than a msgbox pops up
with: An error has occurred during initialization of Direct3D. This can be
caused by your graphics card configuration or driver. Try to start the program
in Safe Mode (- safe mode execution parameter).

FAQ says: Your graphics card does not support 1.2 or higher Per-Pixel Shader!
Unfortunately you need a new graphics card.

So this seems to be just another pixel shader issue nethertheless i provide a log.",416,"1"
"WINE-10514","BatteryFormulaRacing: Crash on Unimplemented function wsock32.dll.AcceptEx","Hi a user submitted this application into the appdb with garbage test results. I tried it and it crashes/hangs with the the message of the summary.",0,"0"
"WINE-33740","Sound Recorder displays error when seeking MP3 stream to the end","I've been using Microsoft Sound Recorder (sndrec32.exe from Windows XP or below)
to play wave file that uses MPEG1 Layer-3 codec (MP3) which played fine
and I'm able to seek on the stream to mostly anywhere on the timeline.

But if I dragged the playhead and drop it at the very right end of timeline
or used FF button while playing Sound Recorder will show an error:

    Another application is playing audio. You can either interrupt the
     application or wait until it is done. Then try using Sound Recorder again.

Then this instance of Sound Recorder will not play any audio again (no matter
I loaded another wave file both PCM and non-PCM when trying to play
it shows the same error)

When I exited Sound Recorder these lines will be printed on WINE console:

fixme:winmm:MMDRV_Exit Closing while ll-driver open
fixme:winmm:MMDRV_Exit Closing while ll-driver open


Note: If I restarted Sound Recorder it will be able to play MP3
      (and all other audio codec) again.
      
      Also other instances of Sound Recorder that're running in parallel
      won't be affected.

Wine's Windows version: Windows ME
Wine Audio Driver: ALSA 44100Hz 16bit (Full Hardware Acceleration)
Wine installed without XInput2 OpenCL GStreamer and OSS support.
System: Debian GNU/Linux 5.0 Lenny (i386: Intel Pentium 4 2.66GHz)",1468,"1"
"WINE-1507","X error of failed request: BadValue (integer parameter out of range for operation)","Hello
Running wine winword.exe when trying to open a existing word document i got the 
following error message:

fixme:hook:NotifyWinEvent (327730x10042-41)-stub!
X Error of failed request:  BadValue (integer parameter out of range for operati
on)
  Major opcode of failed request:  1 (X_CreateWindow)
  Value in failed request:  0x0
  Serial number of failed request:  2300
  Current serial number in output stream:  2303
Wine failed with return code 1

thank you for your help",1,"0"
"WINE-16790","Lineage 2: Graphics bug with camera position","graphics bug in lineage 2 in wine 1.0.1 the bug appears as blue and black lines non-transparent 
in versions 1.1.10 1.1.11 1.1.12 like in the screens in the zip-file
on the login-screen the bug didn't change with the wine-versions.

ingame the position of the camera changes the bug like shown in the screens.

My system is an Acer Aspire 5920G with Intel Core2Duo T7300 Nvidia Gefore 8600M GT
Nvidia Driver Version is 177.80",0,"0"
"WINE-18764","Wine update breaks gecko's js3250.dll","Created attachment 21520
js3520.dll error

Every time I update a version of wine (including reinstalling the same version as that installed) without removing the .wine directory first I get the attached error when trying to navigate within DVD Profiler. DVD Profiler requires Gecko to run as its interface is html/javascript based.

If I delete the .wine directory and reinstall the software (thereby recreating a fresh .wine) the error is gone.

I can't see anything different in the registries etc. that can trigger this and this has happened reliably for many version releases.",236,"1"
"WINE-27506","Alpha Protocol wants d3dx9_36.dll.D3DXSHRotate (purist)","Only occurs if you force builtin.",467,"1"
"WINE-2005","make depend problem with KDE 3.2 (arts 1.2.0)","The artsc-config --cflags returns the following string on my machine

    -I/opt/kde/include/artsc -pthread -I/usr/local/include/glib-2.0   
    -I/usr/local/lib/glib-2.0/include

and the makedep program is unhappy with the -pthread flag.  I was able to work
around this problem by modifying the dlls/winmm/Makefile and removing the
offending flag.",0,"0"
"WINE-7343","Joystick axes in Pacific Fighters don't work with the joydev joystick driver","Since wine-0.9.30 joystick axes don't work in Pacific Fighters - the game 
shows they are always centered (but buttons work). I am sure I am using the 
joydev driver NOT the event driver as I deleted all /dev/input/eventX 
devices. My joystick has 4 axes + 2 for hat and 7 buttons (is is a bug in the 
joydev driver...).",1,"0"
"WINE-6813","RichEdit:Performance issue in opening large files","There is a performance issue in CRichEditCtrl under Wine. The application 
reads data from a *.dat file and displays it in the CRichEdit editor. When I 
try to open large data files it takes a lot of time(around 4-5 minutes) to 
open the file.",1010,"1"
"WINE-22907","CamStudio displays an error when record button is pressed  (ICOpen with fccHandler = 0 is not supported)","The CamStudio screen casting software for Windows does not run on Wine despite installing it without any problems.

The main purpose of this report is to let the Wine developers know that CamStudio - after installing - does not work under Wine at all (with AND without the use of winetricks).

Having read the test page for CamStudio it recommends using winetricks to add mfc42.  I did that and CamStudio now opens after installing but it won't record (it's effectively useless).  It comes up with the following error message:

Error Creating AVI File.

Before dismissing this bug report please remember that I tried CamStudio without winetricks first and it does not run at all after installing.",1975,"1"
"PACKAGING-40217","Ubuntu vivid / wily use libgnutls 28 instead of 26","The Ubuntu builds use the correct build dependencies for libgnutls but the Recommends entry is wrong:

{{ =      libgnutls-deb0-28\n                if debian_version >= 8 else  }}
{{ =      libgnutls26\n                      if debian_version < 8 else  }}

Ubuntu vivid/wily also use libgnutls 28 so we need to change this construct to be compatible with launchpad and recommend the correct version.",17,"0"
"WINE-9864","RipIt4Me: no longer able to load IFOs","RipIt4Me version 1.7.1.0 on Ubuntu 7.0.4-x86_64 with wine-0.9.46 no longer works since update from wine-0.9.45:

While running in Wizard Mode reads DVD fine at first then upon clicking 'Next' gets to Step 2 (Create PSL).  Clicking on this yields the following error:
Failed to load the IFOs!!! Please report this error on the forum!  In the meantime you can use the Wizard mode skip Step2 and Step3 (the PSL and ripping steps) and try the cleanup once more.  Refer to FAQ 11 for more details!

After clicking 'OK' on the error message another subsequently appears:
There does not seem to be a DVD in your selected drive

Worked flawlessly under previous wine version.

URL to RipIt4Me program:
http://www.videohelp.com/tools/RipIt4Me

See also appDB entry for RipIt4Me 1.7.x:
http://appdb.winehq.org/objectManager.php?sClass=version&iId=9226",829,"1"
"WINE-24185","Deadlock in vectored exception handling","When running MapSource (a Garmin GPS map manager) I noticed that the application will hang soon after starting. The hang occurs at random time when MapSource is drawing the map on the screen. The log output clearly indicates a classic deadlock:

err:ntdll:RtlpWaitForCriticalSection section 0x7efec6e0 /var/tmp/portage/app-emulation/wine-1.3.0/work/wine-1.3.0/dlls/ntdll/exception.c: vectored_handlers_section wait timed out in thread 001b blocked by 0009 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x7e9f3d80 /var/tmp/portage/app-emulation/wine-1.3.0/work/wine-1.3.0/dlls/gdi32/gdiobj.c: gdi_section wait timed out in thread 0009 blocked by 001b retrying (60 sec)

Some deeper investigation revealed that the GDI's DIB exception handler is involved in this problem. Here's the scenario:

1. Thread A calls a GDI function. The function takes the gdi_section.
2. Thread B raises an exception (could be a C++ exception). The call_vectored_handlers() function is called to call the handlers. The vectored_handlers_section is entered.
3. Thread B execues the X11DRV_DIB_FaultHandler() which eventually leads to a call to GetObjectW() and in turn GDI_GetObjPtr(). The last one blocks on gdi_section.
4. Thread A throws an Access Violation exception in the DIB functions. The call_vectored_handlers() function is called but this time it blocks on vectored_handlers_section

A possible solution would be to replace the vectored_handlers_section by a RW lock. This would ensure that multiple exception handlers are called simultaneously while still maintaining consistency in case the vectored exception handler list needs to be changed.",45,"0"
"WINE-27280","BHDCInstall_per can not install (unimplemented function cfgmgr32.dll.CM_Get_Device_ID_List_SizeA )","Created attachment 34888
Log: install BHDCInstall_per.exe

1. Download BHDCInstall_per
http://www.icbc.com.cn/ICBC/html/download/dkq/BHDCInstall_per.exe

2. install
$ wine BHDCInstall_per.exe &> bhdcinstall.log

An unhandled exception dialog says:
 Error Number: 0x80040707
Description: DLL function call crashed: HHInst_x86.Install
Setup will now terminate. 

Log:

wine: Call from 0x7b839bb2 to unimplemented function cfgmgr32.dll.CM_Get_Device_ID_List_SizeA aborting",2,"0"
"WINE-11507","nwn2 dm toolkit missing graphical elements","This is dotnet fw 2 program.

Starting program gives these errors:
fixme:process:IsWow64Process (0xffffffff 0x34f8dc) stub!
fixme:virtual:NtAllocateVirtualMemory MEM_WRITE_WATCH type not supported
err:ole:CoGetObjectContext apartment not initialised
fixme:shell:URL_ParseUrl failed to parse Lmsvcm80
fixme:shell:URL_ParseUrl failed to parse LSystem.Windows.Forms
fixme:shell:URL_ParseUrl failed to parse LSystem
fixme:shell:URL_ParseUrl failed to parse LNWN2Toolset
fixme:shell:URL_ParseUrl failed to parse LSystem.Drawing
fixme:shell:URL_ParseUrl failed to parse LOEIShared
fixme:win:WIN_CreateWindowEx Parent is HWND_MESSAGE
fixme:shell:URL_ParseUrl failed to parse LAccessibility
fixme:shell:URL_ParseUrl failed to parse LDotNetMagic2005
fixme:win:EnumDisplayDevicesW ((null)00x7cf07fcc0x00000000) stub!",407,"1"
"WINE-31640","hugin's enfuse.exe crashes without native vcomp100.dll (purist)","Andre Hentschel suggested this test case.

Download and run the installer from http://sourceforge.net/projects/hugin/files/hugin/hugin-2011.2/HuginSetup_2011.2.0_32bit_Windows.exe/download
Then:
cd ~/.wine/drive_c/Program Files/Hugin/bin
rm vcomp100.dll
wget http://www.realworldimagery.com/Samples/peopl911.tif
mv peopl911.tif a.tif
wget http://www.realworldimagery.com/Samples/VEHIC200.tif
mv VEHIC200.tif b.tif
wine enfuse.exe --output=c.tif a.tif b.tif

Result:
unimplemented function vcomp100.dll._vcomp_fork

FWIW winedump -j import says it needs the following symbols from vcomp100:

omp_get_dynamic
omp_get_max_threads
omp_get_nested
omp_get_num_procs
omp_get_num_threads
omp_get_thread_num
omp_set_dynamic
omp_set_nested
_vcomp_fork
_vcomp_for_static_end
_vcomp_for_static_simple_init

Let's make this bug about the 32 bit version of enfuse.exe.
Once that's working let's do another bug for the 64 bit version
and/or similar bugs for enblend.exe.",1063,"1"
"WINE-15227","orb installer crashes when showing eula","Created attachment 15990
console output

Orb installer becomes unresponsive and gives a backtrace while showing its EULA.

(wine Orb20SetupUs.exe)

Regression caused by:

[59195ed2ec9dbec80e558c0ccdf35d24eec15c01] richedit: Added in support for streaming in and out nested tables. (Dylan Smith   2008-08-07 18:31:46)

Doesn't revert cleanly on current git. At least not without reverting other riched patches first.",2,"0"
"WINE-44270","Exception when organizing favorites in Windows Media Player 6.4 (unimplemented function shdocvw.dll.DoOrganizeFavDlg)","Created attachment 60082
Backtrace from Organize Favorites error

Exception in Windows Media Player 6.4 when attempting to organize favorites (Favorites > Organize Favorites).  Tested on two systems.

Xubuntu  16.04.3 x86_64 AMD Phenom 9550 GeForce GTX 750Ti with Nvidia 384.90 driver.
wine-devel 3.0~rc4~xenial from dl.winehq.org

Xubuntu  17.04 x86 Intel Pentium D 3.46GHz GeForce 8600 GT with Nvidia 340.102 driver.
wine-devel 3.0~rc4~zesty from dl.winehq.org",23,"0"
"WINE-13407","The Bat! Voyager fails to accept the master password","Introduction: 
I am trying to use The Bat! Voyager mail client (http://www.ritlabs.com/download/the_bat/voyager_install_4-0-18-4.exe) under Ubuntu 8.04 desktop via Wine 1.0-rc2. (Although my systemm is an AMD Athlon 64 my Linux is just plain Ubuntu 8.04 - not a 64bit version.) The problem I am describing here is a show stopper for me.

Background: 
The Bat! mail client will due to being developed in Delphi RDS never be ported to Linux. For me it is however the only obstacle in a transition from Windows to Linux due to the fact that there is no comparably robust and sophisticated e-mail client for Linux to be found (and my e-mail base is almost 1.5 GB in size).

Your testing problem:
One needs a valid user license for The Bat! Professional in order to be able to activate and use Voyager. There is a small number of activations allowed and activations are bound to drive serial numbers.

Details:
Voyager does not use Registry - the idea is to have both the program configuration and e-mail database on the same drive (for instance an USB-drive). I installed and activated Voyager under Windows XP Home SP2 on a virtual drive powered by TrueCrypt (http://www.truecrypt.org/). There is a Linux version of TrueCrypt and I can mount the same drive under Ubuntu.

The first thing Voyager asks for after being started is the mail database encryption password (=the master password). When being started under Ubuntu via Wine right before this dialog comes up the following lines are being logged in the console window (there are only a few so I am not making a separate attachment here)...


Console log:
fixme:reg:GetNativeSystemInfo (0x11579e1) using GetSystemInfo()
fixme:imagehlp:CheckSumMappedFile (0x1bc0000 6544892 0x11869fa 0x11869fe): stub
fixme:system:SystemParametersInfoW Unimplemented action: 95 (SPI_GETSNAPTODEFBUTTON)


Whatever I enter Voyager does not accept my input reporting an unacceptable password being entered. The last logged line (Unimplemented action: 95) is being repeated for every repeated try of a password entry.

Although Voyager tests internaly also for the drive serial number I do not think this is the problem since I defined an appropriate drive letter and attached a serial number to it in a Wine configuration.

Am I doing something wrong? Could I do some more testing try something in a different way? Can you do anything? Thanks a lot!",2044,"1"
"WINE-16378","Mia's Math sound regressions","On an Ubuntu Intrepid system with pulseaudio 0.9.10-2ubuntu9:

In wine-1.0.1 1.1.0 sound in this game is fine.
In wine-1.1.6 ... 1.1.9 it's a little worse and breaks up once in a while. 
Still usable though.

In wine-1.1.10 it's much worse it's as if it's looping each
eighth of a second for a second.  Sure makes the game go slow.  
So slow that you can't get past the first screen.  Unusable.
I'll attach a +dsound log.",603,"1"
"WINE-910","foreground is the same as background color in winmx / search result","Bug comments restored from Gmane.org: 
 
when doing some searches using winmx 
the foreground color of the results (filenames i suppose) is the same as the 
background. you can change de bg color but still the same bug. 
 
steps to reproduce 
install launch winmx 
go to search pane 
type something to search for 
you cant see the filenames but the others info (in others color are shown) 
 
to change the bg color : 
click on settings 
colors/search window 
and modify the background color 
 
 
------- Additional Comments From flucchini  iol.it  2002-08-13 13:28 ------- 
It doesn't seem to be a color problem but a column index problem in all WinMX 
application. 
In fact in place of the filename it shows the size field right-aligned and all 
othe fields shifted left consequently. 
Same problem can be noted also in the download tab. 
 
 
------- Additional Comments From tazdev  altern.org  2003-01-02 15:45 ------- 
no more display problem of the results with last cvs (20030102) 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2003-03-26 
15:22 ------- 
Closing",163,"0"
"WINE-40915","Max Payne demo installer displays highlighted text","This is only a minor cosmetic issue.
When you launch the installer text on the welcome screen is highlighted by default.
There is nothing printed in the terminal.

Regression introduced by

commit 73ee2a8b4f7d13701c756721b2b9b92b4ddabd0d
Author: Piotr Caban 
Date:   Tue Feb 16 14:49:10 2016 +0100

    user32: Select text control content while setting dialog focus.


MaxPayneDemo1-05.exe  (131M)
sha1: 1fd7c81fd0e4ae18e1789271c19744cccc7d5f32

wine-1.9.13-114-gb1930ee",4,"0"
"WINE-1793","Some apps print backward and upside down","There was a bug in Win.  which caused some programs to print backwards and upside down.  
This was fixed by Microsoft but not before many programs were written to generate printing 
that was backwards and upside down.  The Wine Postscript driver does not support this ability 
to handle backwards printing.",829,"1"
"WINE-10749","AVP2 rendering extremely slow (drawPrimitive using software emulation)","Created attachment 9590
hack to improve performance greatly

Aliens vs Predator 2 game (DirectX8 I think) is slower in wine by a factor of 5-10 at least often giving seemingly just a few fps even on lowest settings whereas on windows it runs great on highest settings. Basically unusable.

The cause is certainly this:

fixme:d3d_draw:drawPrimitive Using software emulation because manual fog coordinates are provided

I'm sure because a hack that disabled this software emulation makes the game run in much more acceptable speed. I'm at the moment unaware what side effects it causes but the game looks mostly allright with it (I didn't manage to go beyond the very first room though because of mouse input bug).",872,"1"
"WINE-18041","Teamviewer 4 crash on Add group of Partner List","Created attachment 20435
Console output

If I open the Partner List in Teamviewer (icon at the right bottom corner) and click on the first toolbar icon (Add Group) then the application hangs. Always.

To reproduce just download the free for personal use version of Teamviewer and follow the steps above.",158,"0"
"WINE-31689","Recent devel versions of WINE report Not enough memory on open or save document attempts in MS Office 2003","When using recent versions of wine (beginning from version 1.5.10 at least) with MS Office 2003 on Linux I encounter the problem with opening and saving documents.

The problem is that on any attempt to open or save any document in Word 2003 or Excel 2003 I see an error message stating Not enough memory and suggesting
to save document. (I've tested only Word and Excel but the same problem could appear in othe Office 2003 apps).

I've made git bisec and it gave me the following:

4d7f510bef0891004bf5f1570148eeaf9ef73ee0 is the first bad commit
commit 4d7f510bef0891004bf5f1570148eeaf9ef73ee0
Author: Alexandre Goujon 
Date:   Sat Jul 28 16:14:15 2012 +0200

    kernel32: Reimplement GetLogicalDrives using Nt{Open Query}DirectoryObject.

:040000 040000 9beeb146ebfe6c1ed40103803560b9c06c706f46 e2eebf8851f2cc03521d45a030e8104ada32adc7 M      dlls


I've tried to revert this commit and it fixed the problem.

I use Mageia 2 x86_64 Linux.",2,"0"
"WINE-1171","regression of sound from vvresion 20020411","Bug comments restored from Gmane.org:

The ability of using window program sound from MMSSTV and TRUETTY has 
disappeared from the latest version. Using Mandrake 8.1 on one box and 
Mandrake 9.0 on another. Same problem exists on both machines. Uninstalled the 
20020904-7 and went back to the 20020411 version and everything works again on 
both machines.


------- Additional Comments From mcbridematt  hotmail.com  2002-12-02 02:55
-------
Found the same problems with Total Annihilation on a RH 7.3 Box. Cavedog Intro
movie sound plays finally :-) but anything other than that has called it a day.
(It thinks my DirectX is too old first time it's said that)",374,"1"
"WINE-33721","YNAB 4 won't start","Created attachment 44658
error report from wine

The program YNAB 4.exe has encountered a serious problem and needs to close. We are sorry for the inconvenience.",1,"0"
"WINE-37451","python 3.1.1: test_test_decimal failed","Created attachment 49821
terminal output.txt

0. Download python from https://www.python.org/ftp/python/3.1.1/python-3.1.1.msi
sha1sum python-3.1.1.msi
dcf93cb7d5432aa6e47479351f3cbeefddb0bd62  python-3.1.1.msi

1. Install it

2. wine python.exe -m test.test_decimal

FAIL: test_create_decimal_from_float (__main__.DecimalPythonAPItests)",305,"1"
"WINE-18168","cmd fails when passing environment variables in a batfile","This is a BDE installaation file:
set SysDir=%windir%\system

if %OS%==Windows_NT (set SysDir=%SysDir%32)

%sysdir%\regsvr32.exe /S bdeinst.dll


While processing the line with set SysDir=%SysDir%32 cmd fails with the following error:

Z:\home\vyaltseva3\MDPROJECT>set SysDir=C:\windows\system
Z:\home\vyaltseva3\MDPROJECT>if Windows_NT==Windows_NT 
Z:\home\vyaltseva3\MDPROJECT>set SysDir=C:\windows\system32
wine: Unhandled page fault on read access to 0x00000000 at address 0x7ee214cb (thread 001c) starting debugger...
Unhandled exception: page fault on read access to 0x00000000 in 32-bit code (0x7ee214cb).
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:0033 GS:003b
 EIP:7ee214cb ESP:00331820 EBP:00331cd8 EFLAGS:00210202(   - 00      - -RI1)
 EAX:00154bf8 EBX:7ee26ff4 ECX:00000000 EDX:00000000
 ESI:00000000 EDI:0000000c
Stack dump:
0x00331820:  00110000 00000000 00004000 00000003
0x00331830:  7ee24e30 ffffffff 00000000 00000000
0x00331840:  00000000 00000000 7ee253f3 7ee66704
0x00331850:  7ee251d0 7ee25410 00331cb0 00331ca4
0x00331860:  00154bf8 00000000 00000006 00000014
0x00331870:  00230c2e 0000001c 00000003 00154bf8
Backtrace:
=>0 0x7ee214cb WCMD_execute+0xcb() in cmd (0x00331cd8)
  1 0x7ee1627b in cmd (+0x1627b) (0x00331d38)
  2 0x7ee16616 WCMD_if+0x186() in cmd (0x00331f78)
  3 0x7ee221ec WCMD_execute+0xdec() in cmd (0x00332438)
  4 0x7ee225ab WCMD_process_commands+0x9b() in cmd (0x00332478)
  5 0x7ee12173 WCMD_batch+0x123() in cmd (0x003364c8)
  6 0x7ee21349 WCMD_run_program+0xba9() in cmd (0x0033f0d8)
  7 0x7ee21777 WCMD_execute+0x377() in cmd (0x0033f598)
  8 0x7ee225ab WCMD_process_commands+0x9b() in cmd (0x0033f5d8)
  9 0x7ee22f6e wmain+0x8de() in cmd (0x0033fee8)
  10 0x7ee23692 in cmd (+0x23692) (0x0033ff08)
  11 0x7b877dc0 in kernel32 (+0x57dc0) (0x0033ffe8)
  12 0xb7f53da7 wine_switch_to_stack+0x17() in libwine.so.1 (0x00000000)
0x7ee214cb WCMD_execute+0xcb in cmd: movzwl	0x0(%ecx%edx1)%eax",191,"0"
"WINE-41908","WeChat can't display and send emoticons.","Created attachment 56290
A log with tidrelayole channel.

0. In order to reproduce this bug you need to install WeChat in your phone and Wine.
A Google Play link: https://play.google.com/store/apps/details?id=com.tencent.mm
1. Run `winetricks -q riched20` for bug 5162
2. Run `export LC_ALL=zh_CN.UTF-8` to set a Chinese locale because WeChat has a strange crash when with English locale
3. $ wine WeChatSetup.exe
4. Run WeChat in Wine it will display a QRCode. Scan it with WeChat Android to login it
5. Select a friend in 'Contacts' and try to send a emoticon to that friend.

Expected: Emoticon is displayed and sent out.
Actually: Nothing was displayed and it warned 不能发送空白消息(Can't send a empty message).

--snip--
fixme:ole:OleCreateStaticFromData 0x80a8610{00000112-0000-0000-c000-000000000046}000000020x80a88300x1ee1180x80d47e00x32f1d8: semi-stub
fixme:ole:OleCreateFromDataEx (0x80a8610 {00000112-0000-0000-c000-000000000046} 00000000 00000002 1 0x32ecf8 0x80a8830 (nil) (nil) 0x1ee118 0x80d47e0 0x32f1d8): stub
--snip--",174,"0"
"WINE-25180","Clonk Endeavour's intro video is not rendered correctly (iccvid does not support non-multiple of 4 video width)","The intro has several problems.
For example it should be rendered in mostly color just like when playing with Totem.",3040,"1"
"WINE-8839","Mandriva 2007: Running binary gives floating point exception and core dump","Downloaded and installed wine-0.9.40-mdv2007.i586.rpm on a currently patched
Mandriva Linux 2007 system. System runs an AMD K6 processor Model 8 at 1.2 GHz
with one GB of memory. Install appeared successful using rpm -ivh. When run
wine gives the error message

Floating point exception (core dumped)",5,"0"
"WINE-38510","STDU (Scientific and Technical Documentation Utility) Viewer v1.6.375 crashes when opening PDF file (typelib information for marshaller from registry-free COM server)","Created attachment 51375
crash log

STDU (Scientific and Technical Documentation Utility) Viewer is intended to combine a variety of document text and graphics format viewers into one. The program includes a modern tabbed interface search rotate thumbnail view etc. The program can also export pages to an image file create bookmarks and more.


http://www.portablefreeware.com/index.php?id=2045

It crashes when I open a pdf file. Have not tried other formats.",59,"0"
"WINE-26572","The 4th Coming: Deadlocks or crashes with out of GDI object handles errors","Created attachment 33837
Log output when deadlock occurs

When I try to enter the game world in T4C (The 4th Coming) it usually deadlocks with in RtlpWaitForCriticalSection.

Sometimes it does not deadlock (setting the CPU affinity to one core in wine's task manager helps).

In the second case it shows a progress bar and eventually enters the game world but the window gets destroyed quickly and the game causes lots of out of GDI object handles error messages.

PS: This is not the original English version but the German version of the game. When I find a way to download the English version (download link seems to be broken) I'll try that version as well.",208,"0"
"WINE-29544","StarCraft BroodWar crashes when I try to click on map","Since Wine 1.3.29 StarCraft BroodWar crashes when I try to click on map and I must to kill SC process.
My distribution: Fedora 16.
That is full text of bug log:
err:seh:setup_exception_record stack overflow 1200 bytes in thread 0009 eip 6806d634 esp 00230e80 stack 0x230000-0x231000-0x330000


StarCraft BroodWar works very good with Fedora 14 and Wine 1.3.24.",23,"0"
"WINE-28556","ICQ 7 installer error message","Created attachment 36673
Wine 1.3.29 console output

ICQ 7 installs correctly but the installer pops up with an error message:

Service failed to run

Not clear how this affects the app as I don't have an account so it may simply be a minor annoyance.

vcrun2008 needed to get this far.",1174,"1"
"WINE-8356","DVDFab Platinum crashes due to bug in Activation contexts (CreateActCtxA)","Hello

as it says ... crashes due to bug in CreateActCtxA() due to wrong evaluation of
 pointer vs. resource index in ACTCTX_FLAG_RESOURCE_NAME_VALID flag case.

--- snip ---
002c:Call KERNEL32.CreateActCtxA(0034f608) ret=006d535a
trace:actctx:CreateActCtxA 0x34f608 00000088
trace:seh:raise_exception code=c0000005 flags=0 addr=0x60194473
trace:seh:raise_exception  info[0]=00000000
trace:seh:raise_exception  info[1]=000003e8
trace:seh:raise_exception  eax=000003e8 ebx=7b8ab884 ecx=00000000 edx=000003e8
esi=00000000 edi=ffffffff
trace:seh:raise_exception  ebp=0034f508 esp=0034f4cc cs=0073 ds=007b es=007b
fs=0033 gs=003b flags=00210246
trace:seh:call_stack_handlers calling handler at 0x73358a code=c0000005 flags=0 
...
--- snip ---

Offending code:

--- snip dlls/kernel32/actctx.c ---
HANDLE WINAPI CreateActCtxA(PCACTCTXA pActCtx)
{
  ...
  if (actw.dwFlags & ACTCTX_FLAG_RESOURCE_NAME_VALID)
    {
        if (!((ULONG_PTR)pActCtx->lpResourceName >> 16))
        { 
              len = MultiByteToWideChar(CP_ACP 0 pActCtx->lpResourceName -1
NULL 0)  /* boom */
   ...
}

--- snip dlls/kernel32/actctx.c ---

Fix: remove the negation. It evaluates already != 0 if pointer value (highword set).

--- snip dlls/kernel32/actctx.c ---
HANDLE WINAPI CreateActCtxA(PCACTCTXA pActCtx)
{
  ...
  if (actw.dwFlags & ACTCTX_FLAG_RESOURCE_NAME_VALID)
    {
        if (((ULONG_PTR)pActCtx->lpResourceName >> 16))
        { 
   ...
}

--- snip dlls/kernel32/actctx.c ---

Regards",1,"0"
"WINE-23317","SEC_E_INTERNAL_ERROR (0x80090304) returned by InitializeSecurityContextW","Hello

I am working on a product called EdT (http://www.index-education.com/fr/telecharger-edt.php).
Sorry the product is available in French and Italian but not in English.
The product contains an internal mailer that can use TLS when sending e-mails to a SMTP server. For testing we used smtp.gmail.com.
This works fine on Windows but fails on Wine (Wine 1.2-rc 4 Ubuntu 9.10).

Here is the TLS handshake after the command STARTTLS was sent :
>> 81 bytes
<< 1388 bytes
>> 65536 bytes
<< 273 bytes
>> 182 bytes
<< 7 bytes
-> InitializeSecurityContextW returns SEC_E_INTERNAL_ERROR (0x80090304)

With WINEDEBUG I can have more information:

0009:Call secur32.InitializeSecurityContextW(015b5448015b5450000000000000801c00000000000000000031e10400000000000000000031e1100031e1600031e154) ret=0050d193
GNUTLS ERROR: A record packet with illegal version was received.
0009:Ret  secur32.InitializeSecurityContextW() retval=80090304 ret=0050d193

Note that the TLS handshake is not the same on Windows and Wine here is what happens on Windows
>> 113 bytes
<< 1400 bytes
<< 267 bytes
>> 182 bytes
<< 43 bytes

There is not the big 65536 bytes buffer to send. And 65536 is exactlty the size of the buffer passed to InitializeSecurityContextW as if cbBuffer of the destination SecBuffer was not updated (we don't use ISC_REQ_ALLOCATE_MEMORY but allocate the buffer before invoking InitializeSecurityContextW).

This bug looks similar to
  http://bugs.winehq.org/show_bug.cgi?id=16200
but I am not sure it is the same problem.

I hope this helps.
Regards

Michel",91,"0"
"WINE-15755","Some applications do not correctly detect administrative privileges","With 1.1.7 when trying to launch the installer a message box displays with the message You don't have permission to install games from Big Fish Games on this computer. Please login with an administrator account and try again. The only emitted standard error messages are:

fixme:advapi:CheckTokenMembership ((nil) 0x12be08 0x33ee14) stub!
fixme:advapi:CheckTokenMembership ((nil) 0x12be08 0x33ee14) stub!
fixme:advapi:CheckTokenMembership ((nil) 0x12be08 0x33ee14) stub!
fixme:advapi:CheckTokenMembership ((nil) 0x12be08 0x33ee14) stub!",381,"1"
"WINEHQ_BUGZILLA-43016","Missing component comsvcs","Can someone add component comsvcs which will also cover mtxdm.",0,"0"
"WINE-23912","dvdflick has an error on startup: Object doesn't support this property or method","Created attachment 30022
terminal output

Regression caused by:
baef9a7e92d93bde21303d8f81c7d80dee9b1780 is the first bad commit
commit baef9a7e92d93bde21303d8f81c7d80dee9b1780
Author: Huw Davies 
Date:   Thu Jul 29 13:20:21 2010 +0100

    oleaut32: Don't invoke a function that has the restricted attribute or is part of an interface that's marked as restricted.

:040000 040000 b3bd2113fdf40b71ba94ba11f68607422777a388 b3e20e99539ff392dd8edce0af67d4c2491fae57 M	dlls

easy to reproduce. Download app install and run. I'm not sure what it breaks if anything. The app itself is kinda useless see bug 15225.",551,"1"
"WINE-16503","Gears of War fails on startup","Created attachment 17931
log

Gears of War 1.0 with crack pagefaults. See log. Without crack it cries about it's mommy...err disk",1966,"1"
"WINE-42708","Soul Reaver GOG Cinematics stopped working","Created attachment 57684
terminal output

Video playback for Legacy of Kain: Soul Reaver (GOG version) does no longer work. It worked with Wine 1.6.2 from the Stable branch of Debian (8 Jessie) 64 bit while now the screen is black (or for the introduction with a darkened game menu as if a fade to black failed) while the audio plays normally.",53,"0"
"WINE-26978","tokenadmin.exe crash : Unimplemented function winscard.dll.SCardListReadersA","Created attachment 34407
LOG: tokenadmin.exe crash

tokenadmin.exe is a smart card reader manager from ICBC online bank.

1. donwload http://www.icbc.com.cn/icbc/html/download/dkq/SafeSign_ICBC_Per.exe

2. install SafeSign_ICBC_Per.exe with wine

$ LANG=en_US.utf8 wine SafeSign_ICBC_Per.exe

3. run tokenadmin.exe
$ cd $WINEPREFIX/drive_c/Program Files/ICBCEbankTools/G&D/Management Utility
$ wine tokenadmin.exe

see LOG: tokenadmin.exe crash",1790,"1"
"WINE-30496","Serif WebPlus X2 and X5 crash on startup in mshtml","Hello

after working around bug 30495 ('winetricks -q windowscodecs') Serif WebPlus X2 crashes in mshtml:

--- snip ---
Unhandled exception: page fault on write access to 0x00000073 in 32-bit code (0x7cc07c9b).
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:0063 GS:006b
 EIP:7cc07c9b ESP:0033dd00 EBP:0033dd88 EFLAGS:00010246(  R- --  I  Z- -P- )
 EAX:0000000b EBX:7ccef8c8 ECX:7ccebb20 EDX:00000000
 ESI:00000000 EDI:06573800
Stack dump:
0x0033dd00:  06c3fe60 06c6d368 065738a0 00000000
0x0033dd10:  0000000d 06573800 06c3fe60 6a098c68
0x0033dd20:  0033ddb0 00000000 00010002 065737f0
0x0033dd30:  00000000 06bf5518 0033ddb0 6aece958
0x0033dd40:  06c3fe60 0033ddb0 0033ddd8 6a0a9b05
0x0033dd50:  06c3fe60 06c3fea0 00000000 00000000
Backtrace:
=>0 0x7cc07c9b fire_event+0x4a8(doc=0x6c3a9d0 eid=EVENTID_LOAD set_event=0x1 target=0x6c3fea0 nsevent=0x6c6d328) [/home/focht/projects/wine/wine-git/dlls/mshtml/htmlevent.c:1068] in mshtml (0x0033dd88)
  1 0x7cc5bcf0 handle_load+0x281(iface=0x6c31930 event=0x6c6d328) [/home/focht/projects/wine/wine-git/dlls/mshtml/nsevents.c:271] in mshtml (0x0033ddd8)
  2 0x6a06cc96 in xul (+0x42cc95) (0x06c31930)
  3 0x06c31918 (0x7ccedf14)
  4 0x7cc5b4ba nsDOMEventListener_QueryInterface+0x1c2(iface=0x7cc5ba6e riid=0x7cc5b2f7 result=0x7cc5b4ba) [/home/focht/projects/wine/wine-git/dlls/mshtml/nsevents.c:101] in mshtml (0x7cc5b2f7)
  5 0x7cc5b572 nsDOMEventListener_AddRef+0xb7(iface=0x7cc5b2f7) [/home/focht/projects/wine/wine-git/dlls/mshtml/nsevents.c:111] in mshtml (0x7cc5b2f7)
  6 0x7cc5ba6e handle_docobj_load+0x208(doc=0x7cc5b4ba) [/home/focht/projects/wine/wine-git/dlls/mshtml/nsevents.c:228] in mshtml (0x7cc5b2f7)
  7 0x7cc5b2f7 impl_from_nsIDOMEventListener+0x7(iface=0x7cc5b572) [/home/focht/projects/wine/wine-git/dlls/mshtml/nsevents.c:77] in mshtml (0x7cc5b2f7)
  8 0x7cc5b4ba nsDOMEventListener_QueryInterface+0x1c2(iface=0x7cc5bd0f riid=(nil) result=(nil)) [/home/focht/projects/wine/wine-git/dlls/mshtml/nsevents.c:101] in mshtml (0x7cc5b2f7)
  9 0x7cc5b572 nsDOMEventListener_AddRef+0xb7(iface=(nil)) [/home/focht/projects/wine/wine-git/dlls/mshtml/nsevents.c:111] in mshtml (0x7cc5b2f7)
  10 0x7cc5bd0f handle_load+0x2a0(iface=(nil) event=(nil)) [/home/focht/projects/wine/wine-git/dlls/mshtml/nsevents.c:276] in mshtml (0x7cc5b2f7)
  11 0x00000000 (0x7cc5b2f7)
0x7cc07c9b fire_event+0x4a8 [/home/focht/projects/wine/wine-git/dlls/mshtml/htmlevent.c:1068] in mshtml: movl	%edx0x68(%eax)
1068	    doc->basedoc.window->event = prev_event
--- snip ---

Some time ago I tested the X5 version and remembered a similar crash.
Indeed the same problem.

====
X2
====

Download: http://www.softwareload.de/shop/downloadext/free/link/lid/33282/

$ du -sh 57723_Serif_Web_Plus_X2_Demo.zip 
289M    57723_Serif_Web_Plus_X2_Demo.zip

$ sha1sum 57723_Serif_Web_Plus_X2_Demo.zip 
d82fb1d12cdd9249c7a99bff0303fc5a44773c59  57723_Serif_Web_Plus_X2_Demo.zip

$ sha1sum DE-TRL-TO-WPX2-1008-Setup.exe 
9c3a53157729b6e2b0f7c16955e7a909fbfa4af0  DE-TRL-TO-WPX2-1008-Setup.exe

====
X5
====

Download: http://www.softwareload.de/shop/downloadext/free/link/lid/39145/

$ du -sh WebPlus-X5_DEMO_SWL.zip 
372M	WebPlus-X5_DEMO_SWL.zip

$ sha1sum WebPlus-X5_DEMO_SWL.zip 
3cae247b1e0ebc5c8c8abd5bb25abd08297810bf  WebPlus-X5_DEMO_SWL.zip

$ sha1sum DE-TRL-TO-WPX5-0611-Setup.exe 
7592e63351035c4ec067c6443524f49384d1f2a2  DE-TRL-TO-WPX5-0611-Setup.exe

$ wine --version
wine-1.5.2-191-gd080774

Regards",831,"1"
"WINE-19507","Harry Potter a. t. Half-Blood Prince Demo Installer in infinite loop","Created attachment 22694
Errors thrown when installing Harry Potter a t Half-Blood Prince

The program causing the problem is the demo of Harry Potter and the Half-Blood Prince which can be downloaded at http://harrypotter.ea.com/#/Downloads/demo.

In order to check what went wrong with the installer I unzipped the File and manually started the actual installer (EASetup.exe).

The installer works fine until the actual install when right before copying the first files it gets stuck displaying Status: Removing files. In the meantime the console keeps printing:
fixme:mscoree:LoadLibraryShim (0x1272ab0 Lfusion.dll (nil) (nil) 0xbfd3a0): semi-stub
fixme:fusion:get_assembly_directory Ignoring assembly architecture

If a native fusion.dll is used the installer works.

I have tried this with 1.1.26 and the git version wine-1.1.26-231-gfe9d360 and a clean .wine directory.

Attached is a the console output.

MfG
Karl",321,"1"
"WINE-8024","Fuqid hangs on startup","If somebody is running freenet 0.5 and Fuqid 1.5
I'd like confirmation about this.

Fuqid 1.5 works perfectly on wine 0.9.22 on ubuntu 6.10.
However on any latter wine (I tested 0.9.twentysomething and
the last 0.9.30 and one other I cannot remember)
Fuqid hangs after displaying the window Fuqid is starting up

If somebody is interested in this I can do a binary search to see which version
broke Fuqid to isolate the problem",8,"0"
"WINE-10340","Pro evolution soccer 2008","During the game of the master league legue or other the game blocker while save or load data! I hope in solution thank you",1374,"1"
"WINE-41705","Build fails in dpnet: redefinition of typedef 'SOCKADDR'","After a long time i tried again to build wine on my OpenPandora. The build fails with:

$ make
gcc -c -o address.o ../../../wine-git/dlls/dpnet/address.c -I. -I../../../wine-git/dlls/dpnet \
  -I../../include -I../../../wine-git/include -D__WINESRC__ -D_REENTRANT -fPIC -Wall -pipe \
  -fno-strict-aliasing -Wdeclaration-after-statement -Wempty-body -Wignored-qualifiers \
  -Wstrict-prototypes -Wtype-limits -Wvla -Wwrite-strings -Wpointer-arith -gdwarf-2 -g -DPANDORA -DHAVE_GLES -O3 -pipe -march=armv7-a -mtune=cortex-a8 -mfpu=neon -mfloat-abi=softfp -ftree-vectorize -ffast-math -fsingle-precision-constant -fsigned-char -marm
In file included from ../../../wine-git/include/winsock2.h:47
                 from ../../../wine-git/dlls/dpnet/dpnet_private.h:29
                 from ../../../wine-git/dlls/dpnet/address.c:37:
../../../wine-git/include/winsock.h:408: error: redefinition of typedef 'SOCKADDR'
../../../wine-git/include/dpaddr.h:30: error: previous declaration of 'SOCKADDR' was here
Makefile:177: recipe for target 'address.o' failed
make: *** [address.o] Error 1

Please note: The build platform is arm:
$ uname -a
Linux arm-dev 3.2.83 #1314 Sun Oct 23 23:01:12 EEST 2016 armv7l GNU/Linux

$ gcc --version
arm-angstrom-linux-gnueabi-gcc (GCC) 4.3.6

The exactly same source builds fine on x86/x86_64.",6,"0"
"WINE-15077","Myth II 1.6 fails with Wine 1.1.3 (regression from 1.1.2)","Created attachment 15752
Output of Myth II Soulblighter 1.6 correct execution in Wine 1.1.2

Myth II Soulblighter 1.6 (http://projectmagma.net/downloads/myth2_16/) in classic mode worked correctly in Wine 1.1.2.

After upgrading to 1.1.3 it doesn't start anymore.

I attach the output of running it up to the menu and exiting successfully in Wine 1.1.2 and the output of trying to run it (crashing) in Wine 1.1.3.",27,"0"
"WINE-31817","Tencent RTX Client 2010 installer fails to register Shell extension handler 'RTXShlMenu.dll' (missing 'HKCR\\*\\shellex\\ContextMenuHandlers' and 'HKCR\\folder\shellex\ContextMenuHandlers' registry keys)","wine-1.5.13-431-ga6adbf5

Download: http://c.uzzf.com//cl/rtxclient2010_ins.zip

1. winetricks vcrun6sp6
(workaround bug 27109 and bug 657)

2. install RTX
$ wine rtxclient2010formal.exe 

while installing a popup menu says RTXShlMenu.dll fail to register.

Full log:
--- 
fixme:advpack:write_predefined_strings SYS_MOD_PATH needs more work
Failed to register DLL C:\Program Files\Tencent\RTXC\RTXShlMenu.dll
fixme:atl:AtlModuleInit SEMI-STUB (0x3eb418 0x3ea2e8 0x3c0000)
err:ole:CoReleaseMarshalData IMarshal::ReleaseMarshalData failed with error 0x8001011d
err:ole:CoRevokeClassObject COM was not initialized
---

After installing we can reproduce the failure by:

$ cd ~/.wine/drive_c/Program\ Files/Tencent/RTXC/
$ regsvr32 RTXShlMenu.dll 
Failed to register DLL RTXShlMenu.dll",1162,"1"
"WINE-6566","Musicbrainz Tagger doesn't work after version 0.9.16 of Wine","Fails with the error Could not obtain OLE control window handle (Programs own
popup error rather than Wine). I'm currently doing regression testing on it to
find out what broke it.",27,"0"
"WINE-26005","Flowcode v4 : double click on component macros crashes","Flowcode v4 crashes when double-click on a macros name of component as LED or 7 seg. display.

Same error with one-click on init macro for a LCD display.

logs :
err:variant:SafeArrayCopy not copying an array of 0 elements
err:seh:raise_exception Unhandled exception code e06d7363 flags 1 addr 0x7b83a772",471,"1"
"WINE-28429","Internet Explorer 3.02 crashes on startup - unimplemented function urlmon.dll.RegisterMediaTypes","If I try to run IE3 for Windows 95 without first setting a native override for urlmon I get:

wine: Call from 0x7b83b4c2 to unimplemented function urlmon.dll.RegisterMediaTypes aborting
wine: Unimplemented function urlmon.dll.RegisterMediaTypes called at address 0x7b83b4c2 (thread 0023) starting debugger...

Installation and testing instructions:

1. Change the reported Windows version to Windows 95.
2. Add global nativebuiltin overrides for these:
iexplore.exe jscript mshtml shdocvw
3. Add a shell32=disabled override for infinst2.exe only.
4. Run the installer leave all settings at default and allow it to restart at the end.
5. On the first run disable the default browser check. It will then crash from an unimplemented function in (native) shdocvw.
6. Run the browser a second time and the urlmon crash should occur.",2,"0"
"WINE-9922","'make test' hangs with *** glibc detected *** urlmon_test.exe.so: double free","Alexandre and I have both seen this.  He says it's a race.

Here's the log:

../../../tools/runtest -q -P wine -M urlmon.dll -T ../../.. -p urlmon_test.exe.so protocol.c && touch protocol.ok
protocol.c:370: Test failed: unexpected call ReportProgress_FINDINGRESOURCE
protocol.c:375: Test failed: szStatustext != www.winehq.org
protocol.c:383: Test failed: unexpected call ReportProgress_CONNECTING
protocol.c:386: Test failed: Unexpected szStatusText
*** glibc detected *** urlmon_test.exe.so: double free or corruption (fasttop): 0x7c02b4c0 ***
======= Backtrace: =========
/lib/tls/i686/cmov/libc.so.6[0x601c0d65]
/lib/tls/i686/cmov/libc.so.6(cfree+0x90)[0x601c4800]
/usr/lib/i686/cmov/libcrypto.so.0.9.8(CRYPTO_free+0x3a)[0x644d44aa]
/usr/lib/i686/cmov/libcrypto.so.0.9.8(X509_VERIFY_PARAM_free+0x6f)[0x6457996f]
/usr/lib/i686/cmov/libssl.so.0.9.8(SSL_free+0x64)[0x644831d4]
/home/dank/wine-git/loader/../dlls/wininet/wininet.dll.so(NETCON_close+0xa1)[0x60a42a41]
/home/dank/wine-git/loader/../dlls/wininet/wininet.dll.so[0x60a3202a]
/home/dank/wine-git/loader/../dlls/wininet/wininet.dll.so(WININET_Release+0x4d)[0x60a3a38d]
/home/dank/wine-git/loader/../dlls/wininet/wininet.dll.so(InternetQueryDataAvailable+0x69)[0x60a3d4a9]
/home/dank/wine-git/loader/../dlls/urlmon/urlmon.dll.so[0x6063e1fe]
/home/dank/.wine/dosdevices/z:/home/dank/wine-git/dlls/urlmon/tests/urlmon_test.exe.so[0x6060b589]
/home/dank/.wine/dosdevices/z:/home/dank/wine-git/dlls/urlmon/tests/urlmon_test.exe.so(func_protocol+0x407)[0x6060bea7]
/home/dank/.wine/dosdevices/z:/home/dank/wine-git/dlls/urlmon/tests/urlmon_test.exe.so[0x606136f8]
/home/dank/.wine/dosdevices/z:/home/dank/wine-git/dlls/urlmon/tests/urlmon_test.exe.so(main+0x14d)[0x60613d8d]
/home/dank/.wine/dosdevices/z:/home/dank/wine-git/dlls/urlmon/tests/urlmon_test.exe.so[0x60613e5b]
/home/dank/wine-git/loader/../dlls/kernel32/kernel32.dll.so[0x60416cbe]
/home/dank/wine-git/loader/../libs/wine/libwine.so.1[0x600259d7]",16,"0"
"WINE-22129","CDBurnerXP: most large icons are missing","Created attachment 26986
Terminal output

Almost all of the large icons in CDBurnerXP's interface are missing. The toolbar below the menu bar is completely empty aside from separators and the icons next to burn erase etc. are also missing with the exception of the icon next to the drive selection dropdown menu. With native gdiplus they are all visible.

This is a .NET app so winetricks dotnet20 was used prior to installation.

(There are smaller icons missing from the interface as well but native gdiplus has no effect on them so presumably it's another bug.)",7,"0"
"WINE-22773","VLC Media Player 1.0.5 doesn't show fullscreen videos correctly","Created attachment 28092
Terminal output

After starting a video and double-clicking it to enter fullscreen mode it usually blanks part of the screen while leaving a transparent window where other apps or the desktop can be seen instead of the video. Sometimes there's no window and the screen goes completely black except for the video controller at the bottom. This worked in 1.0.1 so I did a regression test:

c1bbab7c54618935d74b7d2b70421253018f5594 is first bad commit
commit c1bbab7c54618935d74b7d2b70421253018f5594
Author: Stefan Dösinger 
Date:   Thu Aug 7 14:09:19 2008 -0500

    ddraw: Send the ddraw output to the clipper window if any.

:040000 040000 4a60a1c2a59103c9cad3185898bbc59553289b35 f18be73670fd3c5b13d36a1b959fde64c8808fe7 M        dlls

Reverting this patch from wine-1.1.44-322-g5cc00e8 works around the problem.

Intel GMA 950 tested with driver versions 2.9.0 and 2.9.1.",417,"1"
"WINE-12753","CIRCAD 5.3b: does not start","Created attachment 12412
what the command wine C:\Program Files\OmniGlyph\OmniGlyph.exe dumps to the bash

I'm using Ubuntu 64bit 7.04.

The windows installer runs just fine and gets its job done.
But the app doesn't either start all I can see is a Initialiazing Direct Draw gray box then it crashes.

Tried to run the app from command-line and got an unhandled page fault and some dumps (attached).",244,"1"
"WINE-14740","Combat Arms 3.7 installer html-based UI layout is distorted","The installer shows only a white window with the buttons Agree or Disagree. After that a second window pops up completely blank and without buttons. Pressing ESC on the keyboard quits the installer.

The registration and the game is free to use and play.",1958,"1"
"WINE-38806","Starcraft Campaign Editor does not scroll to bottom after copying a trigger","To reproduce click Scenario Triggers then click Copy twice. On Windows the trigger list scrolls to the bottom but on Wine it only scrolls to the top of the last trigger.",24,"0"
"WINE-25636","Mirror's Edge crashes when loading the first mission","Mirror's Edge crashes when loading the first mission that occurs after training. Training works fine but an XIO error crashes the game after loading the first mission:

XIO:  fatal IO error 11 (Resource temporarily unavailable) on X server :0
      after 2129 requests (2129 known processed) with 0 events remaining.

I'm launching from Steam. I attempted to bisect and tested 1.3.0 1.3.5 1.3.10 and today's HEAD 12880784fe but all of these produce the same results. I didn't go back further because my understanding is that if I go back much further Steam won't work anymore.

I am using nvidia 260.19.29 GeForce GTX 285 Linux 2.6.36.2.

Let me know what WINEDEBUG flags to use and I'll post logs. This may be the same as bug 23055.",38,"0"
"WINEHQ.ORG-17110","Typos in documentation Configuring Wine","3.1.4 -Drive Settings
existing text in paragraph 2: You can change where this drives points to by changing what's in the Path: box.

drives should read drive

correction: You can change where this drive points to by changing what's in the Path: box.

3.1.6
Wine supports the newer MSStyles typ of themese.
Wine supports the newer MSStyles type of themes.

3.2
There's actually more of a chance you'll need to dip into the registry to change an applications' settings than Wine itself
-should be application's

para 2
To counter this there's several things to consider. 
To counter this there are several things to consider. 


Aside from these minor typos it's a very well-written document and very easy to follow.

Regards

Andrew Singleton",763,"1"
"WINE-37122","PVS-Studio Error: One counter for two loops","PVS-Studio identifies a V535 Error one counter for two loops. The variable 'i' is being used for this loop and for the outer loop. Check lines: 980 1003. iphlpapi_main.c 1003

...
for (i = 0 i < num_v6addrs i++)    //<==
{
    ...
    for (i = 0 i < 8  i++) //<==
    {
        ...
    }
    ...
    if (i < num_v6addrs - 1)
    {
        prefix->Next = (IP_ADAPTER_PREFIX *)ptr
        prefix = prefix->Next
    }
}
...

This fragment is suspicious: a nested loop is organized through the i variable which is also used in the external loop.

details on the V535 error here: http://www.viva64.com/en/d/0124/",69,"0"
"WINE-11085","Crash in UploadGlyph in Photoshop CS Turbo Lister Dragon Naturally Speaking 9","To repeat: install with the recipe from bug 4286 i.e.

wget http://download.ebay.com/turbo_lister/setupUS.exe
wget http://kegel.com/wine/winetricks
wineserver -k
rm -rf .wine
sh winetricks mdac25 msxml3 
wine setupUS.exe 
cd .wine/drive_c/Program\ Files/eBay/Turbo\ Lister/
wine Tl.exe 

Select load a sample file.  Gecko download option
box is presented but then wine crashes immediately with

Unhandled exception: page fault on read access to 0x00000000 in 32-bit code (0xb7d1c34c).
Backtrace:
=>1 0xb7d1c34c memcpy+0x1c() in libc.so.6 (0x0033bf18)
  2 0x7e3828c5 UploadGlyph+0x395(physDev=? glyph=0x31 format=0x1) [dlls/winex11.drv/xrender.c:803] in winex11 (0x0033c128)
  3 0x7e384a65 X11DRV_XRender_ExtTextOut+0x5a5(physDev=0x162a20 x=0xffe12c3f y=0xffff7934 flags=0x1014 lprect=0x33c750 wstr=0x170950 count=0x1e lpDx=0x1708d0) [dlls/winex11.drv/xrender.c:1259] in winex11 (0x0033c4b8)
  4 0x7e3697dd X11DRV_ExtTextOut+0x5d(physDev=0x162a20 x=0xffe12c3f y=0xffff7934 flags=0x1014 lprect=0x33c750 wstr=0x170950 count=0x1e lpDx=0x1708d0) [dlls/winex11.drv/text.c:55] in winex11 (0x0033c578)
  5 0x7eb372c2 ExtTextOutW+0xac2(hdc=0x475c x=0xffe12c3f y=0xffff7934 flags=0x1014 lprect=0x33d170 str=0x33c89c count=0x1e lpDx=0x0) [dlls/gdi32/font.c:2225] in gdi32 (0x0033c798)
  6 0x7ec390a2 DrawTextExW+0xab2(hdc=0x475c str=0x33d1d8 i_count=0xffffffff rect=0x33d170 flags=0x25 dtp=0x33d130) [dlls/user32/text.c:957] in user32 (0x0033d0f8)
  7 0x7ec39fcf DrawTextW+0x6f(hdc=0x475c str=0x33d1d8 count=0xffffffff rect=0x33d170 flags=0x25) [dlls/user32/text.c:1090] in user32 (0x0033d148)
  8 0x0043ac8e in tl (+0x3ac8e) (0x00000000)",2,"0"
"WINE-33286","Extech RHT10 needs setupapi.dll.CM_Get_Device_ID_ExA called","Created attachment 44036
Backtrace file

I am trying to use an Extech RHT10 usb data logger.

paul@Workstation-1:~$ lsusb
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 004 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 005 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 002 Device 003: ID 10c4:0003 Cygnal Integrated Products Inc. CommandIR

paul@Workstation-1:~$ dmesg | grep tty 
[    0.000000] console [tty0] enabled
[   19.344103] usb 2-2: MCT U232 converter now attached to ttyUSB0
[  919.736288] mct_u232 ttyUSB0: MCT U232 converter now disconnected from ttyUSB0

It is suggested that it has driver installation problems.

See http://www.planetextech.com/forum/topics/rht10-and-th10-datalogger-not

I downloaded current version of software
http://www.extech.com/instruments/resources/binary/RHT10_V5.6.zip

When trying to install DataLoggerUSBXP.exe

The attached error occurs.",7,"0"
"WINE-27056","WebcamMax: Crash at installation","Created attachment 34487
Terminal output on wine-1.3.19-49-g92e05ed

Steps to reproduce:
1) remove ~/.wine
2) winetricks gecko
3) wine WebcamMax-7.2.8.2.MultiLanguage.Setup.exe
4) next->next->next...

Behaviour:
Crash.

Expected behaviour:
No crash.

Workaround:
winetricks wininet",547,"1"
"WINE-40537","ddraw:ddraw1 causes Windows XP to crash","Since 2016/04/22 running ddraw:ddraw1 on my EeePC (Intel GMA 950) crashes Windows XP. So the crash is caused by one of these two commits:

commit 7cabef1457fe0aae4319339fdc46b059b41fc3bf
Author:     Henri Verbeet 
AuthorDate: Thu Apr 21 17:05:09 2016 +0200
Commit:     Alexandre Julliard 
CommitDate: Fri Apr 22 12:22:45 2016 +0900

    ddraw: Require exclusive mode only for primary surface flips.
    
    Signed-off-by: Henri Verbeet 
    Signed-off-by: Alexandre Julliard 

commit 1736431c683ade50a8e539331158dc5570cd300c
Author:     Henri Verbeet 
AuthorDate: Thu Apr 21 17:05:08 2016 +0200
Commit:     Alexandre Julliard 
CommitDate: Fri Apr 22 12:22:42 2016 +0900

    ddraw: Allow DDSCAPS_FLIP without DDSCAPS_PRIMARYSURFACE.
    
    Signed-off-by: Henri Verbeet 
    Signed-off-by: Alexandre Julliard",262,"1"
"WINE-906","Quicken Deluxe 99 dosen't work with Red Carpet release of Wine","Bug comments restored from Gmane.org: 
 
Wine version: 20020411-6 (obtained a couple of nights ago from Ximian)  
 
I had to rebuild my system from a HD failure last week. Latest Wine 
version doesn't seem to work with Quicken Deluxe 99:  
 
Program installs ok. I can open up my restored data files. I open the register  
and begin to enter a new entry. I enter the date press TAB enter the check  
number and press TAB. Quicken freezes up. I can quit the program by going back  
to the shell I launched Wine from and pressing control-c. I also note that CPU  
utilization JUMPS when this happens from 8% to more than 50% (using top to  
monitor).  
 
Also I notice that if I use the mouse and not the TAB key I can get by that  
point and continue entering data. When I get to entering the check amount  
Quicken tells me to enter a number in nnn.nn format. Well I did! Furthermore  
even opening the little Quicken calculator doesn't work. No numeric entry in a  
currency field is understood. 
 
 
------- Additional Comments From andi  rhlx01.fht-esslingen.de  2002-07-22 12:22 
------- 
Please try with a current Wine version. 
The number field sounds like it may be oleaut32 related. 
We've had quite a few oleaut32 fixes in between. 
Thanks ! 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-22 
12:34 ------- 
Jeff Part of the problem that the developers with of wine face is that we need 
bug reports for programs that we do not have access to. So bug reports for any 
program are nesessary and appreciated. However at this point the ximian release 
of wine is 3 releases behind. Winehq releases a new version of wine usually 
about once a month.  
 
Development in wine is very active and this bug might be fixed in a more current 
release. For that reason it is recomended that you install from tarball or 
better yet CVS. 
 
Building Wine from source is harder to do than installing from Ximian. I know 
that for sure since I use ximian. Its one sweet package manager. That being said 
though the amount of extra effort is not IMO that much.  
 
 
If ugrading your wine does not fix the problem a trace (wine --debugmsg +dialog 
...) would be usefull. 
 
 
------- Additional Comments From JeffMay  earthlink.net  2002-07-22 14:00 ------- 
Thanks for the additional comments. Tonight when I get home I shall give a later 
version a try. I 
wonder if  
it's related to recent kernels I found these in the wine-users lists: 
 
http://www.winehq.com/hypermail/wine-users/2002/07/0118.html 
He's got one of the same symptoms I've seen I am using Quicken more than five 
years with most 
of the  
features working at least usable. Now since I upgrade SuSE 8.0 can not use 
quickenw because not let 
me type  
in numbers:(( Always get error please type in number in nnnn.nn format. Certainly I did 
but error 
message  
come back again again... 
 
Another one: http://www.winehq.com/hypermail/wine-users/2002/07/0124.html 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-22 
15:27 ------- 
Thankyou for the additional information. If you still see this with the latest 
release of wine at least we have a couple of places to look at. I think that 
this one is the most interesting This is from Steve Varadi first post 
 
> fixme:shdocvw:WBOC_GetControlInfo stub: LPCONTROLINFO = 0x4209df18 
 
If I recall correctly shdocvw defaulted to native builtin and only recently 
(within the last couple of months) changed to  the following. 
 
shdocvw     = builtin native 
 
 
This looks like a regression as well. In his next postSteve Varadi wrote the 
following 
 
> This way Quickenw is unusable. I never experiented this kind of problem with 
> Quicken. It was working more than five years for me under wine. 
 
> Could anyone give some hints what went wrong?? 
 
So I think that using a native shdocvw.dll might solve your problem but it 
won't fix wine.  
 
 
------- Additional Comments From JeffMay  earthlink.net  2002-07-23 19:35 ------- 
Additional information: I was asked to replace the builtin shdocvw.dll with a 
native version which I did.  No change in behavior.  I then ran wine -debugmsg 
+dialog QW.EXE from the Quicken program directory.  Here is a copy of the 
generated log: 
 
---------------------------------SNIP------------------------------------------ 
Wine cannot find certain functions that it needs inside the FreeType 
font library.  To enable Wine to use TrueType fonts please upgrade 
FreeType to at least version 2.0.5. 
http://www.freetype.org 
trace:dialog:DIALOG_GetCharSizeFromDC dlg base units: 8 x 16 
trace:dialog:DIALOG_Init base units = 816 
err:wave:wodOpen fragment size set failed size is now 4096 
Your Open Sound System driver did not let us configure small enough sound 
fragments. 
This may cause delays and other problems in audio playback with certain 
applications. 
trace:dialog:DIALOG_ParseTemplate32 DIALOG 10 10 232 132 0 
trace:dialog:DIALOG_ParseTemplate32  STYLE 0x80c800c0 
trace:dialog:DIALOG_ParseTemplate32  EXSTYLE 0x00000000 
trace:dialog:DIALOG_ParseTemplate32  CAPTION LProduct Registration 
trace:dialog:DIALOG_ParseTemplate32  FONT 8 LMS Sans Serif 0 FALSE 
trace:dialog:DIALOG_GetCharSizeFromDC dlg base units: 7 x 14 
trace:dialog:DIALOG_CreateIndirect units = 714 
trace:dialog:DIALOG_CreateControls  BEGIN 
trace:dialog:DIALOG_GetControl32     LQWIconDisplay L 1038 8 8 20 20 
50020000 00000000 00000000 
trace:dialog:DIALOG_GetControl32     LStatic L 1042 36 8 188 16 
50020000 00000000 00000000 
trace:dialog:DIALOG_GetControl32 LStatic L- Technical support 65535 36 
30 188 8 50020000 00000000 00000000 
trace:dialog:DIALOG_GetControl32     LStatic L- Free online software updates 
including changes  65535 36 40 188 8 50020000 00000000 00000000 
trace:dialog:DIALOG_GetControl32     LStatic L  required by the new 1998 tax 
laws 65535 36 48 188 8 50020000 00000000 00000000 
trace:dialog:DIALOG_GetControl32     LStatic L- Online stock quotes and other 
services 65535 36 58 188 8 50020000 00000000 00000000 
trace:dialog:DIALOG_GetControl32     LStatic L- and special offers made only 
to registered users 65535 36 68 188 8 50020000 00000000 00000000 
trace:dialog:DIALOG_GetControl32     LStatic L 1041 36 86 188 16 
50020000 00000000 00000000 
trace:dialog:DIALOG_GetControl32 LQC_BUTTON L&Register 32767 32 108 
68 15 50030049 00000000 00000000 
trace:dialog:DIALOG_GetControl32 LQC_BUTTON LCancel 32766 132 108 68 
15 50010048 00000000 00000000 
trace:dialog:DIALOG_CreateControls  END 
trace:dialog:EndDialog 1004e 0 
trace:dialog:DIALOG_ParseTemplate32 DIALOG 0 0 172 73 0 
trace:dialog:DIALOG_ParseTemplate32  STYLE 0x90c000c0 
trace:dialog:DIALOG_ParseTemplate32  EXSTYLE 0x00000000 
trace:dialog:DIALOG_ParseTemplate32  CAPTION LQuicken 99 for Windows 
trace:dialog:DIALOG_ParseTemplate32  FONT 8 LMS Sans Serif 0 FALSE 
trace:dialog:DIALOG_GetCharSizeFromDC dlg base units: 7 x 14 
trace:dialog:DIALOG_CreateIndirect units = 714 
trace:dialog:DIALOG_CreateControls  BEGIN 
trace:dialog:DIALOG_GetControl32     LStatic L 1001 14 40 144 15 
50020008 00000000 00000000 
trace:dialog:DIALOG_GetControl32     LStatic L 1000 14 17 143 13 
50020000 00000000 00000000 
trace:dialog:DIALOG_CreateControls  END 
err:wave:wodOpen fragment size set failed size is now 4096 
Your Open Sound System driver did not let us configure small enough sound 
fragments. 
This may cause delays and other problems in audio playback with certain 
applications. 
Wine failed with return code  
---------------------------------SNIP------------------------------------------ 
 
I had to do a CTRL-C to get the program to stop.  It entered the 
processor-cycle-eating loop just after I pressed TAB to exit from the Num column. 
 
As for the Freetype warning I indeed have Ximian freetype-2.0.1-4.1 package 
installed.  I downloaded the 2.1.2 sources directly from the Freetype group and 
installed them (./configure  make  su -c make install) but Wine doesn't seem 
to be able to find the newer stuff. 
 
If it makes any diference here's my .wine/config file: 
 
---------------------------------SNIP------------------------------------------ 
WINE REGISTRY Version 2 
 All keys relative to \\Machine\\Software\\Wine\\Wine\\Config 
 
 
 MS-DOS drives configuration 
 
 Each section has the following format: 
 [Drive X] 
 Path=xxx       (Unix path for drive root) 
 Type=xxx (supported types are 'floppy' 'hd' 'cdrom' and 'network') 
 Label=xxx      (drive label at most 11 characters) 
 Serial=xxx     (serial number 8 characters hexadecimal number) 
 Filesystem=xxx (supported types are 'msdos'/'dos'/'fat' 'win95'/'vfat' 
'unix') 
   This is the FS Wine is supposed to emulate on a certain 
   directory structure. 
   Recommended: 
   - win95 for ext2fs VFAT and FAT32 
   - msdos for FAT16 (ugly upgrading to VFAT driver strongly recommended) 
   DON'T use unix unless you intend to port programs using Winelib ! 
 Device=/dev/xx (only if you want to allow raw device access) 
 
 
[Drive A] 
Type = floppy 
Path = /mnt/floppy 
Label = /mnt/floppy 
Device = /dev/fd0 
 
[Drive C] 
Path = /home/jcmay/.wine/fake_windows 
Type = hd 
Label = /home/jcmay/.wine/fake_windows 
Filesystem = win95 
 
[Drive D] 
Type = cdrom 
Path = /mnt/cdrom 
Label = /mnt/cdrom 
FileSystem = win95 
Device = /dev/hdd 
 
[Drive E] 
Type = cdrom 
Path = /mnt/cdrom1 
Label = /mnt/cdrom1 
FileSystem = win95 
Device = /dev/scd0 
 
[Drive X] 
Type = hd 
Path = /tmp 
Label = Tmp Drive 
FileSystem = win95 
 
[Drive Y] 
Type = network 
Path = ${HOME} 
Label = Home 
FileSystem = win95 
 
[Drive Z] 
Type = network 
Path = / 
Label = Root 
FileSystem = win95 
 
[wine] 
Windows = C:\\Windows 
System = C:\\Windows\\System 
Temp = X:\\ 
Path = C:\\WindowsC:\\Windows\\SystemX:\\Y:\\ 
GraphicsDriver = x11drv 
 Wine doesn't pass directory symlinks to Windows programs by default. 
 Enabling this may crash some programs that do recursive lookups of a whole 
 subdir tree in case of a symlink pointing back to itself. 
ShowDirSymlinks = 1 
ShellLinker = wineshelllink 
 
#  
 
[DllOverrides] 
* = builtin native so 
shdocvw = native 
 
[x11drv] 
 Number of colors to allocate from the system palette 
AllocSystemColors = 100 
 Use a private color map 
PrivateColorMap = N 
 Favor correctness over speed in some graphics operations 
PerfectGraphics = N 
 Color depth to use on multi-depth screens 
ScreenDepth = 16 
 Name of X11 display to use 
Display = :0.0 
 Allow the window manager to manage created windows 
Managed = N 
 Use a desktop window of 640x480 for Wine 
Desktop = 800x600 
 Use XFree86 DGA extension if present 
 (make sure /dev/mem is accessible by you !) 
UseDGA = N 
 Use XShm extension if present 
UseXShm = N 
 Enable DirectX mouse grab 
DXGrab = N 
 Create the desktop window with a double-buffered visual 
 (useful to play OpenGL games) 
DesktopDoubleBuffered = N 
 Code page used for captions in managed mode 
 0 means default ANSI code page (CP_ACP == 0) 
TextCP = 0 
 Use this if you have more than one port for video on your setup  
 (Wine uses for now the first 'input image' it finds). 
 XVideoPort = 43 
 Run in synchronous mode (useful for debugging X11 problems) 
Synchronous = Y 
 
[fonts] 
Read documentation/fonts before adding aliases 
See a couple of examples for russian users below 
Resolution = 96 
Default = -adobe-helvetica- 
DefaultFixed = fixed 
DefaultSerif = -adobe-times- 
DefaultSansSerif = -adobe-helvetica- 
 
 default TrueType fonts with russian koi8-r encoding 
Default = -monotype-arial-*-*-*--*-*-*-*-*-*-koi8-r 
DefaultFixed = -monotype-courier new-*-*-*--*-*-*-*-*-*-koi8-r 
DefaultSerif = -monotype-times new roman-*-*-*--*-*-*-*-*-*-koi8-r 
DefaultSansSerif = -monotype-arial-*-*-*--*-*-*-*-*-*-koi8-r 
 default cyrillic bitmap X fonts 
Default = -cronyx-helvetica- 
DefaultFixed = fixed 
DefaultSerif = -cronyx-times- 
DefaultSansSerif = -cronyx-helvetica- 
 
[serialports] 
Com1 = /dev/ttyS0 
Com2 = /dev/ttyS1 
 
[parallelports] 
Lpt1 = /dev/lp0 
 
[spooler] 
LPT1: = |lpr 
LPT2: = |gs -sDEVICE=bj200 -sOutputFile=/tmp/fred -q - 
LPT3: = /dev/lp3 
 
[ports] 
read = 0x7790x3790x280-0x2a0 
 write = 0x7790x3790x280-0x2a0 
 
[spy] 
Exclude = WM_SIZEWM_TIMER 
 
[registry] 
These are all booleans.  Y/y/T/t/1 are true N/n/F/f/0 are false. 
Defaults are read all write to Home 
 Global registries (stored in /etc) 
LoadGlobalRegistryFiles = Y 
 Home registries (stored in ~user/.wine/) 
LoadHomeRegistryFiles = Y 
 Load Windows registries from the Windows directory 
LoadWindowsRegistryFiles = Y 
 TRY to write all changes to home registries 
WritetoHomeRegistryFiles = Y 
 Registry periodic save timeout in seconds 
 PeriodicSave = 600 
 Save only modified keys 
SaveOnlyUpdatedKeys = Y 
 
[Tweak.Layout] 
 supported styles are 'Win31'(default) 'Win95' 'Win98' 
WineLook = Win98 
 
[Console] 
Drivers = tty 
XtermProg = nxterm 
InitialRows = 25 
InitialColumns = 80 
TerminalType = nxterm 
 
[Clipboard] 
ClearAllSelections = 0 
PersistentSelection = 1 
 
 List of all directories directly contain .AFM files 
 
[afmdirs] 
1 = /usr/share/ghostscript/fonts 
2 = /usr/share/a2ps/afm 
3 = /usr/share/enscript 
4 = /usr/X11R6/lib/X11/fonts/Type1 
 
[WinMM] 
Drivers = wineoss.drv 
WaveMapper = msacm.drv 
MidiMapper = midimap.drv 
 
#  
 
######################################### 
# Application dependent sections follow # 
######################################### 
 
[AppDefaults\\_INS5576._MP\\x11drv] 
 Lotus Notes R5 installer 
 I'm quite not sure this will run on some other machine than mine but it  
 can't hurt 
Managed = N 
Desktop = N 
 
[AppDefaults\\nlnotes.exe\\x11drv] 
Desktop = 800x600 
 
[AppDefaults\\notes.exe\\DllOverrides] 
msvcrt = native 
msvcrt40 = native 
crtdll = native 
imagehlp = native 
rnaph = native 
 
[AppDefaults\\nlnotes.exe\\DllOverrides] 
msvcrt = native 
msvcrt40 = native 
crtdll = native 
imagehlp = native 
rnaph = native 
 
[AppDefaults\\nhldaemn.exe\\DllOverrides] 
msvcrt = native 
msvcrt40 = native 
crtdll = native 
imagehlp = native 
rnaph = native 
---------------------------------SNIP------------------------------------------ 
 
Thanks to everyone for their consideration and help. 
 
Jeff 
 
 
------- Additional Comments From JeffMay  earthlink.net  2002-07-24 19:59 ------- 
Additional clue: I just noticed that when Wine locks up after pressing TAB to 
leave the NUM column and after I press CTRL-C to exit Wine reports: 
 
/usr/bin/wine: [: too many arguments 
Wine failed with return code 
/usr/bin/wine: [: too many arguments 
/usr/bin/wine: [: -ge: unary operator expected 
 
 
------- Additional Comments From JeffMay  earthlink.net  2002-07-31 07:34 ------- 
Latest update... (sorry it's been so long family emergency came up over the weekend) 
 
The bug still exists but has a work-around. I updated my Wine configuration to use 
only native DLLs. 
I then  
ran Quicken noting on the can't find xxxxx.DLL messages. My wife's machine runs 
Windows 
98 so I was able  
to experimentally move the missing DLLs to the .wine/fake_windows/Windows/System 
directory. 
Everything now  
seems to work. When I get back home tonight I'll make a list of the required DLLs 
there was about 
six that  
needed to be brought in. 
 
Jeff (*whew*) 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-31 
11:10 ------- 
So we need to know which dll's these were. That should help a little 
 
 
------- Additional Comments From JeffMay  earthlink.net  2002-07-31 19:51 ------- 
Here are the native DLLs I had to employ to make Quicken work right: 
 
ADVAPI32.DLL 
COMCTL32.DLL 
COMDLG32.DLL 
GDI32.DLL 
MSVCRT.DLL 
SHLWAPI.DLL 
USER32.DLL 
 
 
 
Jeff",334,"1"
"WINE-10085","Adobe Bridge CS2 complains that it can't start due to licensing restrictions (affects photoshop)","I'm testing the Adobe Bridge that comes with the Photoshop CS2 trial. On Windows during the 30 days or trial this application works. It shows the same message when these 30 days passes.",2575,"1"
"WINE-29234","Anarchy Online crashes every time you zone","Every time you attempt to zone from any area to any other area causes the game client to crash.  Worked fine in 1.3.33.",19,"0"
"WINE-27168","chromium-based apps can't load https sites","When trying to use the Eve in-game browser to visit any secure site (I've tried lots) the following error is returned:

Error loading requested URL
Unable to process the website's SSL certficate
Error Code: -202 

Running Wine 1.3.20 on Ubuntu Natty 32-bit compiled from source. The same issue was present on Ubuntu Maverick 32-bit via a precompiled Wine binary. For the version I compiled myself I installed all the prereqs I could find... the only things the configure script complained about were OpenCL OSS and something about gstreamer (plugins?).

Not sure what sort of logs or other info would be relevant but let me know and I'll post whatever is needed.",888,"1"
"WINE-30785","MS Office 2007 reports msxml5 as not installed (WoW64)","Installed just Word Excel & Powerpoint.
It opens runs and all.
At closing things get crazy: MS Office tells that msmxl 5 is not installed then crashes.
I've read that msmxl 5 is part of MS Office 2007 something went wrong during the install?
Have not tried a full install though I just want those components.
Tell me what test do I have to run if during install or something else...",2313,"1"
"WINE-33880","Need For Speed: World launcher fails","Created attachment 44953
Full error as presented by the .NET error dialog

The Need For Speed: World launcher worked fine on 1.6rc1.  This is a regression.

System.OutOfMemoryException: Out of memory.
   at System.Drawing.Text.PrivateFontCollection.AddMemoryFont

Microsoft.NET Framework 2.0",22,"0"
"WINE-28744","CCleaner does not display checkboxes and icons in the 'cleaner' treeview","Created attachment 36927
+tid+treeview+imagelist log

On the default 'cleaner' screen of CCleaner the treeview to the left is missing two things:

- Small icons next to each heading
- Checkboxes to choose which information to clean (displayed after double-clicking one of the headings)

This was working in 1.3.29 a regression test indicated:

1bc331f31f44a382a7f909d79da794d28c233fd7 is the first bad commit
commit 1bc331f31f44a382a7f909d79da794d28c233fd7
Author: Nikolay Sivov 
Date:   Sat Oct 1 23:29:10 2011 +0400

    comctl32/treeview: Free checkbox imagelist when control is about to be killed.

:040000 040000 482c689e60b00a1a0cfc93572ccdbf1a5f643663 fec87e18803b66f45a814b837567c9ce00d0ea63 M    dlls

Reverting the patch fixed the problem.",106,"0"
"WINE-10437","Altium Designer crash","I'll describe all my movements - step by step.
1. I installed latest (at the moment) wine-0.9.49 from sources on Fedora8.
2. I installed my application of interest - Altium Designer 6.7
3. Tried to run it wihtout luck.
4. Found in appDB some hints and installed using winetricks dcom98 fakeie6 mdac28 corefonts tahoma cc580. All installations went well.
5. I tried to run Altium Designer again and it started but crashed when trying to open any file. 
6. AppDB tells that it was tested with wine-0.9.35. I decided to try it.
7. Uninstalled wine-0.9.49 and installed wine-0.9.35 from sources.
8. I did not change drive_c as it was installed previously with 0.9.49. Now tried to run Altium Designer. And oh wonder! I can use it wihout any visible problems.
9. I decided to find out - which version of wine caused the problem. I tried one by one all versions from 0.9.35 to 0.9.43. Works just fine except some minor problems which I can live with. The version which causes problem is 0.9.44. All subsequent versions also have this problem.

Now to the description of behavior.
1. Starting the application like that wine c:\Program Files\Altium Designer 6\DXP.exe
2. I see splash screen and log of different components loading on it.
3. Application windows is opening and I can select to open or create new file.
4. On whatever type of file this operation causes applcation to freese for 20 seconds then I see in the wine log endless list of 
err:region:CombineRgn Invalid rgn=(nil)
err:region:CombineRgn Invalid rgn=(nil)
err:region:CombineRgn Invalid rgn=(nil)
err:region:CombineRgn Invalid rgn=(nil)
err:region:CombineRgn Invalid rgn=(nil)
err:region:CombineRgn Invalid rgn=(nil)
err:region:CombineRgn Invalid rgn=(nil)
err:region:CombineRgn Invalid rgn=(nil)

This continues for 3-4 minutes.
After that I see in the wine log following:

And this all ends with at this point.
5. I tried to look at the sources but as I am very new to wine I could only get to the source of this endless CombineRgn errors. It comes from /dlls/gdi32/region.c file. Particularly function CombineRgn makes it. I could not find a function which calls this function. 
This behavior is with all versions of wine from 0.9.44 to 0.9.49.
So at this point I ask community to help solve this bug in wine.",258,"1"
"WINE-24080","HL2+Portal crashes","Created attachment 30291
Full log

Half-Life 2 (and Portal) starts up find but just exits when I try to start a game. The menu background map is rendered correctly though. On the console the only hint is

wine client error:34: write: Bad file descriptor

You will find the full log attached. I tried to produce a debug log but that was quickly at 1gb before the steam window was even up and running... I tried WINEDEBUG=+relay+seh+tid as mentioned in the FAQs. Please tell me what else I can try to get a usable log.

Some notes:
- wine 1.2.0 from Fedora 13
- SELinux is disabled on this system
- same results with both pulseaudio on and completely off (using alsa)
- GeForce 7950 with 195.36.31 drivers
- other steam games (Torchlight) work great
- reinstalled everything on a clean WINEPREFIX which now only has steam",1,"0"
"WINE-4430","Maya PLE install crashes in GdiAlphaBlend","This is a continuation of bug 4423 now that Mike's patch
fixes the msi problem.
The official registration/download URL for Maya PLE is
http://www.alias.com/glb/eng/products-services/maya/maya_ple/get_maya_ple.jsp

Maya's installer crashes after putting up an initial dialog.

The log is interesting - the call stack is kind of deep.
Maybe some message is being handled synchronously when
it should be deferred.  I'll attach the log.",3,"0"
"WINE-28261","Original War: the user interface appears incorrectly (ddr=opengl)","Created attachment 36212
terminal output

I'm not sure if this is indeed a regression because the reported problems existed with previous Wine versions as well after one set directdrawrenderer to opengl in the registry.
Now that Opengl is the default ddr method the problem is reproducible 'out-of-the-box'.

Symptoms:
- the leftmost as well as the rightmost parts of the UI at the bottom of the screen appear without decorations (they're surrounded by solid black rectangles).
- under the character portrait text is drawn over making it unreadable.
- if you open up then close the in-game help window (by clicking on the '?' icon in the top row) the whole user interface becomes unusable (black).
- the screen gets messed up as you try to scroll the screen (this is reproducible only in the demo...the full game which is a newer version not affected).

Workaround: ddr=gdi

The result of the regression test:

94ae743ea668e49d40ae4e2dc5fe1f5d9be018cb is the first bad commit
commit 94ae743ea668e49d40ae4e2dc5fe1f5d9be018cb
Author: Henri Verbeet 
Date:   Tue Aug 30 20:12:31 2011 +0200

    ddraw: Make the OpenGL renderer the default one.

:040000 040000 fbce2dc172258a4a7eabc65b6f86bd58522b4667 dfb3b24196ac3ad09100758a48b2d4ef7e45e26b M	dlls

Fedora 15 x86
Nvidia gfx card / driver 280.13",46,"0"
"WINE-13701","MBAC Ver. B Trial crash","Created attachment 13704
Crash log of the bug

Melty Blood Act Cadenza Version B. (the trial version) freezes/crashes when trying to start a fight. Note that I have tested the full version and this bug IS NOT PRESENT there. It only applies to the trial version. 

Crash log included.

The game is downloadable from http://e56.info/mbacwin/mbacwin.cgi?trial.",81,"0"
"WINE-16646","Digital download World of Goo 1.2 crashes wine","Created attachment 18236
Full output

I recently bought the digital download of World of Goo on the developers website. I downloaded the latest and only version available 1.2.

It installs fine however will not run and crashes wine.

I have included the full console output using the latest version of wine via GIT.",0,"0"
"WINE-27152","Lemony Snickets installs in the wrong location (C:\Activision rather than C:Program files\Activison)","Created attachment 34684
+msi+msidb bzip2 -9ed

Regression introduced by:
4668091528e4d124632544b36d0ab10cc890f292 is the first bad commit
commit 4668091528e4d124632544b36d0ab10cc890f292
Author: Hans Leidekker 
Date:   Mon May 2 16:03:55 2011 +0200

    msi: Rewrite the folder resolution code to keep track of the parent-child relationship.

:040000 040000 8f4d38cbc4a97e8ea92819c04ea0cf56473f2827 9489ead3dc73fa46eb09be7e2380db31e91a2c7b M	dlls

after this commit it installs the game in C:\Activision\Lemony Snicket's A Series of Unfortunate Events Demo and an empty folder in C:\Program Files\Activision\Lemony Snicket's A Series of Unfortunate Events Demo.

Interestingly during the regression test one of the commits (not sure which) installed the game into $HOME (presumably because of it mapping to %My Documents%.",4,"0"
"WINE-4374","Multiplayer crashes Heroes 4","When creating a network game in Heroes of Might and Magic IV either TCP/IP or
IPX the game crashes.  The problem seems to be OLE-related.",3281,"1"
"WINE-24854","visual c++ 2010's nmake.exe needs native msvcr100.dll","Running nmake.exe in a new wineprefix aborts with

wine: Call from 0x7b836883 to unimplemented function msvcr100.dll._vcwprintf aborting

mscodescan.pl finds the following unimplemented imports which we might also need:

  msvcr100:_itow_s
  msvcr100:_putwch
  msvcr100:_vcwprintf
  msvcr100:_waccess_s
  msvcr100:_wcserror_s
  msvcr100:_wdupenv_s
  msvcr100:_wgetenv_s
  msvcr100:_wputenv_s
  msvcr100:_wsopen_s
  msvcr100:wcstok_s",193,"0"
"WINE-28600","Gameshadow crashes into msxml3","Created attachment 36746
crash log

prerequisite: winetricks mfc42 wsh56vb

after installation the app crashes with the attached console output",30,"0"
"WINE-5823","Thief Direct3D renders VERY slowly with blocks of colour drawn","As of version 0.9.16:
 In Thief: The Dark Project (Gold) Direct3D renders very slowly - roughly one
frame a minute - and is sporadically overdrawn with solid blocks of Red Yellow
Cyan Magenta
Runs very well under 0.9.15.
Gfx card is Nvidia TNT2 with 16MB vram.
As of 0.9.16 noticed new TRACE output from dlls/wined3d/device.c 
..IWineD3DDeviceImpl_GetAvailableTextureMem: stub emulating 64MB for now
This code hasn't changed since 0.9.15 it's just started being called!
Might not be helpful but recompiling with static unsigned int
emulated_textureram = 16*1024*1024 - to match my GFX card's actual VideoRam
doesn't fix.


To reproduce - simply start/load game - menu system runs as normal loads game
then game engine runs as described.

On x86 Gentoo Linux Xorg-7.0",214,"0"
"WINE-44475","Microsoft SQL Server 2008 Express Edition installer fails install .NET assemblies into GAC","Hello folks

continuation of bug 34627

Download:

https://download.microsoft.com/download/c/2/8/c28cc7df-c9d2-453b-9292-ae7d242dfeca/SQLEXPR32_x86_ENU.exe

Prerequisite: 

* 'winetricks -q mspatcha' (bug 12501)
* 'winetricks -q dotnet40' (needed since it's run without Visual Studio main installer)

Microsoft SQL Server 2008 Express Edition is an optional part of Visual Studio 2010 Express full installer.
The (sub) installer for Microsoft SQL Server 2008 Express Edition fails.
A C++/managed CLR exception is thrown complaining about missing .NET assemblies.

To reproduce kill everything at the point of the crash dialog to avoid rollback ('wineserver -k'). Restart the bootstrap installer again from:

'C:\\Program Files\\Microsoft SQL Server\\100\\Setup Bootstrap\\Release\\x86\\'

--- snip ---
$ wine ./setup100.exe
...
0009:fixme:shell:URL_ParseUrl failed to parse LWindowsBase
0009:fixme:shell:URL_ParseUrl failed to parse LMicrosoft.SqlServer.Chainer.Infrastructure
0009:fixme:shell:URL_ParseUrl failed to parse LSystem
0009:fixme:console:GetConsoleProcessList (0xdb8bd41): stub
0009:fixme:shell:URL_ParseUrl failed to parse LMicrosoft.SqlServer.Configuration
0009:fixme:shell:URL_ParseUrl failed to parse LSystem.Xml
0009:fixme:shell:URL_ParseUrl failed to parse LMicrosoft.NetEnterpriseServers.ExceptionMessageBox
0009:fixme:msi:MsiProvideAssemblyW LMicrosoft.NetEnterpriseServers.ExceptionMessageBox Version=10.0.0.0 Culture=neutral PublicKeyToken=89845dcd8080cc91 processorArchitecture=MSIL LC:\\Program Files\\Microsoft SQL Server\\100\\Setup Bootstrap\\Release\\x86\\setup100.exe.config 00000000 00000000 0x33c740 0x33c73c
0009:fixme:msi:MsiProvideAssemblyW LMicrosoft.NetEnterpriseServers.ExceptionMessageBox Version=10.0.0.0 Culture=neutral PublicKeyToken=89845dcd8080cc91 processorArchitecture=MSIL (null) 00000000 00000000 0x33c740 0x33c73c

Unhandled Exception: System.IO.FileNotFoundException: Could not load file or assembly 'Microsoft.NetEnterpriseServers.ExceptionMessageBox Version=10.0.0.0 Culture=neutral PublicKeyToken=89845dcd8080cc91' or one of its dependencies. File not found.
   at Microsoft.SqlServer.Chainer.Setup.Setup.PreloadAssemblies()
   at Microsoft.SqlServer.Chainer.Setup.Setup.Main() 
--- snip ---

Trace log of the part where it tries to preload/locate the .NET assemblies from GAC:

--- snip ---
...
0071:0072:Call KERNEL32.CreateProcessW(003361e0 LC:\\Program Files\\Microsoft SQL Server\\100\\Setup Bootstrap\\Release\\x86\\setup100.exe0032c3c4 L\C:\\Program Files\\Microsoft SQL Server\\100\\Setup Bootstrap\\Release\\x86\\setup100.exe\   /ACTION=INSTALL /MEDIASOURCE=\c:\\bd487f1735de2c1c339b6b49ac55\\\\\ /ACTION=INSTALL /WORKFLOW=INSTALL /TIMESTAMP=20180205_120409 /LOGMARKER= /MEDIASOURCE=\c:\\bd487f1735de2c1c339b6b49ac55\\\\\ /INSTALL...0000000000000000000000010000002000000000000000000032c35c0032c3a8) ret=01011bfc
...
0156:0157:Call KERNEL32.__wine_kernel_init() ret=7bc6a1b2
...
0145:0146:Call KERNEL32.lstrlenW(00178738 LMicrosoft.NetEnterpriseServers.ExceptionMessageBoxfileVersion=\10.0.2531.0\version=\10.0.0.0000\culture=\neutral\publicKeyToken=\89845DCD8080CC91\processorArchitecture=\MSIL\) ret=79179ec4
0145:0146:Ret  KERNEL32.lstrlenW() retval=000000b3 ret=79179ec4
..
0156:0157:Call shlwapi.UrlGetPartW(0018ad20 LMicrosoft.NetEnterpriseServers.ExceptionMessageBox0018c1c00033cf100000000100000000) ret=79181013
0156:0157:fixme:shell:URL_ParseUrl failed to parse LMicrosoft.NetEnterpriseServers.ExceptionMessageBox
0156:0157:Ret  shlwapi.UrlGetPartW() retval=00000001 ret=79181013
...
0156:0157:Call KERNEL32.GetFileAttributesW(0033ae2c LC:\\windows\\Microsoft.Net\\assembly\\GAC_MSIL\\policy.10.0.Microsoft.NetEnterpriseServers.ExceptionMessageBox) ret=791de214
0156:0157:Ret  KERNEL32.GetFileAttributesW() retval=ffffffff ret=791de214
...
0156:0157:Call KERNEL32.GetFileAttributesW(0033c4bc LC:\\windows\\assembly\\GAC\\Microsoft.NetEnterpriseServers.ExceptionMessageBox\\10.0.0.0__89845dcd8080cc91\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll) ret=791de214
0156:0157:Ret  KERNEL32.GetFileAttributesW() retval=ffffffff ret=791de214
--- snip ---

'Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll' is indeed nowhere present in the WINEPREFIX.

The app installer log itself mentions the assemblies in question but nothing suspicious:

--- snip ---
...
1: {D441BD04-E548-4F8E-97A4-1B66135BAAA8} 2: {DABDC208-7DD5-4A0A-B5E9-53C857F7802D} 3: <\Microsoft.NetEnterpriseServers.ExceptionMessageBoxfileVersion=10.0.2531.0version=10.0.0.0000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=MSIL
1: {D441BD04-E548-4F8E-97A4-1B66135BAAA8} 2: {A72EDA2D-14E7-40C7-BAA8-25961F369C5A} 3: <\Microsoft.SqlServer.CustomControlsfileVersion=10.0.2531.0version=10.0.0.0000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=MSIL
1: {D441BD04-E548-4F8E-97A4-1B66135BAAA8} 2: {4CC7BE4F-04E1-4302-95CD-C0C29B6598B9} 3: <\Microsoft.SqlServer.WizardFrameworkLitefileVersion=10.0.1600.22version=10.0.0.00000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=MSIL
...
File: Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll Directory: GAC_32
File: Microsoft.SqlServer.Configuration.Repl_ConfigExtension.dll Directory: CurrentSetupBootstrap_32
File: Microsoft.SqlServer.CustomControls.dll Directory: GAC_32
File: Microsoft.SqlServer.WizardFrameworkLite.dll Directory: GAC_32
...
File: Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll  Directory: GAC_32  Size: 132968
File: Microsoft.SqlServer.Configuration.Repl_ConfigExtension.dll  Directory: CurrentSetupBootstrap_32  Size: 51048
File: Microsoft.SqlServer.CustomControls.dll  Directory: GAC_32  Size: 42840
File: Microsoft.SqlServer.WizardFrameworkLite.dll  Directory: GAC_32  Size: 594968
...
Action start 11:44:49: MsiPublishAssemblies.
Application Context: Assembly Name:Microsoft.SqlServer.GridControlfileVersion=10.0.2531.0version=10.0.0.0000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=x86
Application Context: Assembly Name:Microsoft.NetEnterpriseServers.ExceptionMessageBoxfileVersion=10.0.2531.0version=10.0.0.0000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=MSIL
Application Context: Assembly Name:Microsoft.SqlServer.CustomControlsfileVersion=10.0.2531.0version=10.0.0.0000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=MSIL
Application Context: Assembly Name:Microsoft.SqlServer.WizardFrameworkLitefileVersion=10.0.1600.22version=10.0.0.00000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=MSIL
Action ended 11:44:49: MsiPublishAssemblies. Return value 1. 
...
--- snip ---

The problem becomes visible when doing full trace and additional debugging.

--- snip ---
$ WINEDEBUG=+pid+seh+relay+msi wine ./SQLExpr32_x86_enu.exe >>log.txt 2>&1
...
00c7:00c8:trace:msi:ACTION_CostFinalize Calculating file cost
...
00c7:00c8:trace:msi:set_target_path file LRepairWizard_XML_32 resolves to LC:\\Program Files\\Microsoft SQL Server\\100\\Setup Bootstrap\\Release\\x86\\RepairWizard.xml
00c7:00c8:Call KERNEL32.GetFileAttributesW(0524e268 LC:\\Program Files\\Microsoft SQL Server\\100\\Setup Bootstrap\\Release\\x86\\RepairWizard.xml) ret=7d173b71
00c7:00c8:Ret  KERNEL32.GetFileAttributesW() retval=ffffffff ret=7d173b71
...
00c7:00c8:Call KERNEL32.GetTempFileNameW(05262cd0 LC:\\users\\focht\\Temp\\7d1f0bf8 Lmsi0000000205252740) ret=7d173875
00c7:00c8:Ret  KERNEL32.GetTempFileNameW() retval=00000002 ret=7d173875
00c7:00c8:Call KERNEL32.CreateDirectoryW(05252740 LC:\\users\\focht\\Temp\\msi2.tmp00000000) ret=7d17389b
00c7:00c8:Ret  KERNEL32.CreateDirectoryW() retval=00000001 ret=7d17389b
...
00c7:00c8:trace:msi:set_target_path file LRepl_ExceptionMessageBox_dll_32 resolves to LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll
....
00c7:00c8:trace:msi:set_target_path file LREPL_Microsoft_SqlServer_Configuration_Repl_ConfigExtension_dll_32 resolves to LC:\\Program Files\\Microsoft SQL Server\\100\\Setup Bootstrap\\Release\\x86\\Microsoft.SqlServer.Configuration.Repl_ConfigExtension.dll
00c7:00c8:Call KERNEL32.GetFileAttributesW(0524e3e0 LC:\\Program Files\\Microsoft SQL Server\\100\\Setup Bootstrap\\Release\\x86\\Microsoft.SqlServer.Configuration.Repl_ConfigExtension.dll) ret=7d173b71
00c7:00c8:Ret  KERNEL32.GetFileAttributesW() retval=ffffffff ret=7d173b71
...
00c7:00c8:trace:msi:calculate_install_state installing LRepl_ExceptionMessageBox_dll_32 (missing)
...
00c7:00c8:trace:msi:msi_resolve_file_source Working to resolve source of file LRepl_ExceptionMessageBox_dll_32
00c7:00c8:trace:msi:msi_resolve_source_folder working to resolve LGAC_32
...
00c7:00c8:trace:msi:msi_resolve_source_folder    already resolved to Lc:\\bd487f1735de2c1c339b6b49ac55\\PCUSOURCE\\x86\\setup\\1033\\Windows\\Gac\\
...
00c7:00c8:Call KERNEL32.GetFileAttributesW(05468fc8 Lc:\\bd487f1735de2c1c339b6b49ac55\\PCUSOURCE\\x86\\setup\\1033\\Windows\\Gac\\_yafabdp.dll) ret=7d1a61f3
00c7:00c8:Ret  KERNEL32.GetFileAttributesW() retval=00000020 ret=7d1a61f3
...
00c7:00c8:trace:msi:msi_resolve_file_source file LRepl_ExceptionMessageBox_dll_32 source resolves to Lc:\\bd487f1735de2c1c339b6b49ac55\\PCUSOURCE\\x86\\setup\\1033\\Windows\\Gac\\_yafabdp.dll
00c7:00c8:trace:msi:ACTION_InstallFiles copying Lc:\\bd487f1735de2c1c339b6b49ac55\\PCUSOURCE\\x86\\setup\\1033\\Windows\\Gac\\_yafabdp.dll to LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll
00c7:00c8:trace:msi:copy_install_file Copying Lc:\\bd487f1735de2c1c339b6b49ac55\\PCUSOURCE\\x86\\setup\\1033\\Windows\\Gac\\_yafabdp.dll to LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll
00c7:00c8:Call KERNEL32.CopyFileW(05468fc8 Lc:\\bd487f1735de2c1c339b6b49ac55\\PCUSOURCE\\x86\\setup\\1033\\Windows\\Gac\\_yafabdp.dll0524e328 LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll00000000) ret=7d1a5bcc
00c7:00c8:Ret  KERNEL32.CopyFileW() retval=00000001 ret=7d1a5bcc
00c7:00c8:Call KERNEL32.SetFileAttributesW(0524e328 LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll00000080) ret=7d1a5bfa
00c7:00c8:Ret  KERNEL32.SetFileAttributesW() retval=00000001 ret=7d1a5bfa
...
00c7:00c8:Call KERNEL32.WideCharToMultiByte(00000000000000000539c958 LAction start 12:08:59: MsiPublishAssemblies.ffffffff00000000000000000000000000000000) ret=7d1c6352
...
00c7:00c8:trace:msi:ACTION_MsiPublishAssemblies publishing LRepl_ExceptionMessageBox_dll_32
...
00c7:00c8:Call advapi32.RegCreateKeyW(800000007d1fabc0 LInstaller\\Assemblies\\Global0033e7f8) ret=7d187623
...
00c7:00c8:Call advapi32.RegSetValueExW(0000047c056a5ab8 LMicrosoft.NetEnterpriseServers.ExceptionMessageBoxfileVersion=\10.0.2531.0\version=\10.0.0.0000\culture=\neutral\publicKeyToken=\89845DCD8080CC91\processorArchitecture=\MSIL\00000000000000070033e79200000056) ret=7d1878d3
...
00c7:00c8:Call KERNEL32.WideCharToMultiByte(000000000000000005265aa0 LAction ended 12:08:56: InstallFiles. Return value 1.ffffffff00000000000000000000000000000000) ret=7d1c6352
...
00c7:00c8:Call KERNEL32.DeleteFileW(0524e328 LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll) ret=7d1c1b09
00c7:00c8:Ret  KERNEL32.DeleteFileW() retval=00000001 ret=7d1c1b09
... 
--- snip ---

Although Wine MSI does publish(!) the assemblies in registry the global shared assemblies are never installed into GAC.

Debug session of install files action (attach with debugger to sub-process):

--- snip ---
Wine-dbg>bt

Backtrace:
=>0 0x7d12b5a0 ACTION_InstallFiles+0x308(package=0x69a1440) [/home/focht/projects/wine/wine.repo/src/dlls/msi/files.c:415] in msi (0x0033e888)
  1 0x7d106c2f ACTION_HandleStandardAction+0x154(package=0x69a1440 action=InstallFiles) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:7874] in msi (0x0033ea58)
  2 0x7d106dc7 ACTION_PerformAction+0x67(package=0x69a1440 action=InstallFiles script=0xffffffff) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:7902] in msi (0x0033ea98)
  3 0x7d0f4fd7 ITERATE_Actions+0xf2(row=0x699f140 param=0x69a1440) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:513] in msi (0x0033eae8)
  4 0x7d1443b2 MSI_IterateRecords+0x82(view=0x699ecb8 count=0x0(nil) func=0x7d0f4ee4 param=0x69a1440) [/home/focht/projects/wine/wine.repo/src/dlls/msi/msiquery.c:188] in msi (0x0033eb18)
  5 0x7d0f524b ACTION_ProcessExecSequence+0xe8(package=0x69a1440) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:578] in msi (0x0033eb58)
  6 0x7d1012a9 ACTION_ExecuteAction+0x342(package=0x69a1440) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:5638] in msi (0x0033eb98)
  7 0x7d101506 ACTION_INSTALL+0x76(package=0x69a1440) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:5695] in msi (0x0033ebb8)
  8 0x7d106c2f ACTION_HandleStandardAction+0x154(package=0x69a1440 action=INSTALL) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:7874] in msi (0x0033ed88)
  9 0x7d106dc7 ACTION_PerformAction+0x67(package=0x69a1440 action=INSTALL script=0xffffffff) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:7902] in msi (0x0033edc8)
  10 0x7d10735f MSI_InstallPackage+0x3ad(package=0x69a1440 szPackagePath=c:\4d5a3e54918d6b5956e0665f28e2\PCUSOURCE\x86\setup\1033\SqlSupport.msi szCommandLine=ADDLOCAL = SupportFiles REBOOT = ReallySuppress MEDIAPACKAGEPATH = \x86\setup\1033\) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:8047] in msi (0x0033ee28)
  11 0x7d139588 MsiInstallProductW+0xbd(szPackagePath= szCommandLine=) [/home/focht/projects/wine/wine.repo/src/dlls/msi/msi.c:251] in msi (0x0033ee68)
  12 0x066efe74 (0x0033eec0) 

...

Wine-dbg>info locals

0x7d12b5a0 ACTION_InstallFiles+0x308: (0033e888)
  	MSIPACKAGE* package=0x69a1440 (parameter [EBP+8])
  	MSIMEDIAINFO* mi=0x5570ab8 (local [EBP-20])
  	UINT rc=0 (local [EBP-12])
  	MSIFILE* file=0x68e9ba8 (local [EBP-16])
  	WCHAR* source=c:\4d5a3e54918d6b5956e0665f28e2\PCUSOURCE\x86\setup\1033\Windows\Gac\_yafabdp.dll (local [EBP-40]) 

Wine-dbg>s

msi_is_global_assembly () at /home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:2187
2187	{

Wine-dbg>n
2188	    return comp->assembly 

Wine-dbg>p *comp
{entry={next=0x68d7b98 prev=0x68d77a8} Component=Repl_ExceptionMessageBox_dll_32 ComponentId={DABDC208-7DD5-4A0A-B5E9-53C857F7802D} Directory=GAC_32 Attributes=0x800 Condition=0x0(nil) KeyPath=Repl_ExceptionMessageBox_dll_32 Installed=INSTALLSTATE_ABSENT ActionRequest=INSTALLSTATE_LOCAL Action=INSTALLSTATE_LOCAL ForceLocalState=0 Enabled=0x1 Cost=0x20768 RefCount=0x1 FullKeypath=<\Microsoft.NetEnterpriseServers.ExceptionMessageBoxfileVersion=10.0.2531.0version=10.0.0.0000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=MSIL AdvertiseString=0x0(nil) assembly=0x68d7488 num_clients=0x1 anyAbsent=0 hasAdvertisedFeature=0 hasLocalFeature=0x1 hasSourceFeature=0}

Wine-dbg>p *comp->assembly
{feature=SupportFiles manifest=Repl_ExceptionMessageBox_dll_32 application=0x0(nil) attributes=0 display_name=Microsoft.NetEnterpriseServers.ExceptionMessageBoxfileVersion=10.0.2531.0version=10.0.0.0000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=MSIL tempdir=C:\users\focht\Temp\msi2.tmp installed=0 clr_version={0 0 0 0}}
 
Wine-dbg>p *file

{entry={next=0x68e9f10 prev=0x68e9980} File=Repl_ExceptionMessageBox_dll_32 Component=0x68d7968 FileName=Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll ShortName=_yafabdp.dll LongName=Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll FileSize=0x20768 Version=10.0.2531.0 Language=0 Attributes=0 Sequence=0x8a state=msifs_installed TargetPath=C:\users\focht\Temp\msi2.tmp\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll IsCompressed=0 hash={dwFileHashInfoSize=0 dwData={0 0 0 0}} disk_id=0x1} 
--- snip ---

Source:

https://source.winehq.org/git/wine.git/blob/f9181daa1ddc2c10d3b6ddd4610bc1421cfd0f42:/dlls/msi/files.c#l437

--- snip ---
...
 437     LIST_FOR_EACH_ENTRY( file &package->files MSIFILE entry )
 438     {
 439         MSICOMPONENT *comp = file->Component
 440 
 441         if (!msi_is_global_assembly( comp ) || comp->assembly->installed ||
 442             (file->state != msifs_missing 
 443 
 444         rc = msi_install_assembly( package comp )
 445         if (rc != ERROR_SUCCESS)
 446         {
 447             ERR(Failed to install assembly\n)
 448             rc = ERROR_INSTALL_FAILURE
 449             break
 450         }
 451         file->state = msifs_installed
 452     }
--- snip ---

'file->state' was already set to 'installed' in the file install part (main loop of 'ACTION_InstallFiles') hence the global .NET assembly installation part is not executed due to line 441/442 or condition. 

With that part fixed the installer succeeds.

--- snip ---
...
00c6:00c7:Call KERNEL32.CreateFileW(0644a3a8 LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll800000000000000100000000000000030800000000000000) ret=603be944
00c6:00c7:Ret  KERNEL32.CreateFileW() retval=000003fc ret=603be944
...
00c6:00c7:trace:msi:msi_install_assembly installing assembly LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll 
...
00c6:00c7:Call KERNEL32.CopyFileW(066efe40 LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll066f0320 LC:\\windows\\assembly\\GAC_MSIL\\Microsoft.NetEnterpriseServers.ExceptionMessageBox\\10.0.0.0__89845dcd8080cc91\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll00000000) ret=7d41bc50
00c6:00c7:Ret  KERNEL32.CopyFileW() retval=00000001 ret=7d41bc50
...
--- snip --

Interestingly these .NET assemblies get installed in 'c:\windows\Microsoft.NET\assembly' (GAC location prior .NET 4.0) - despite only .NET 4.0 Framework/CLR being present in the prefix.

--- snip ---
$ tree --charset=ANSI windows/assembly/
windows/assembly/
|-- GAC_32
|   `-- Microsoft.SqlServer.GridControl
|       `-- 10.0.0.0__89845dcd8080cc91
|           `-- Microsoft.SqlServer.GridControl.dll
`-- GAC_MSIL
    |-- Microsoft.NetEnterpriseServers.ExceptionMessageBox
    |   `-- 10.0.0.0__89845dcd8080cc91
    |       `-- Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll
    |-- Microsoft.SqlServer.CustomControls
    |   `-- 10.0.0.0__89845dcd8080cc91
    |       `-- Microsoft.SqlServer.CustomControls.dll
    `-- Microsoft.SqlServer.WizardFrameworkLite
        `-- 10.0.0.0__89845dcd8080cc91
            `-- Microsoft.SqlServer.WizardFrameworkLite.dll

10 directories 4 files
--- snip ---

This seems ok the 'Target Runtime' property in these assemblies is indeed set to v2.0.5027 (can be also viewed using 'ILSpy' 'Reflector' etc.).

$ sha1sum SQLEXPR32_x86_ENU.exe 
5f6c9597a592df4a5d969259a8e1592ecf838515  SQLEXPR32_x86_ENU.exe

$ du -sh SQLEXPR32_x86_ENU.exe 
62M	SQLEXPR32_x86_ENU.exe

$ wine --version
wine-3.1

Regards",7,"0"
"WINE-16409","Ableton Live 7.0.12 crashes on startup","I saw this plea:
http://www.kvraudio.com/forum/viewtopic.php?p=3286380
so I tried Ableton again this time on Ubuntu Intrepid on
my Compaq r3000.  Sadly it crashes on startup.
In winedbg the crash looks like this:

First chance exception: page fault on read access to 0x00000000 in 32-bit code (0x7e4444a7).
Backtrace:
=>1 0x7e4444a7 IDirectSoundCaptureBufferImpl_GetCurrentPosition+0x1b7(iface=0x1b4648 lpdwCapturePosition=(nil) lpdwReadPosition=0x33f3c0) [dlls/dsound/capture.c:931] in dsound (0x0033f3a4)
  2 0x00cdd628 in live 7.0.12 (+0x8dd628) (0x0033f3c4)
...
0x7e4444a7 IDirectSoundCaptureBufferImpl_GetCurrentPosition+0x1b7 [/home/dank/wine-git/dlls/dsound/capture.c:931] in dsound: movl       0x0(%eax)%ecx
931             pos = (DWORD_PTR)This->device->pwave[This->device->index].lpData - (DWORD_PTR)This->device->buffer",1382,"1"
"WINE-23427","Microsoft Visual C++ 2010 Redistributable Package crashes during installation","Created attachment 29221
Backtrace with wine-1.2-rc5-37-gdb68b1e

After extracting some files the installer crashes immediately.",102,"0"
"WINE-25827","msi install/package tests fail on clang","Created attachment 32917
+relay+seh+tid+msi+msidb

../../../tools/runtest -q -P wine -M msi.dll -T ../../.. -p msi_test.exe.so install.c && touch install.ok
fixme:ntdll:NtQueryInformationToken QueryInformationToken( ... TokenElevationType ...) semi-stub
fixme:storage:create_storagefile Storage share mode not implemented.
wine: Unhandled page fault on write access to 0x7d373834 at address 0x7bc52782 (thread 0009) starting debugger...
err:seh:raise_exception Unhandled exception code c0000005 flags 0 addr 0x7bc52782
make: *** [install.ok] Error 5


FWIW Hans had looked at this one a while back and thought it may be ole related.

+relay+seh+tid+msi+msidb attached (for install.c)",71,"0"
"WINE-30174","winUAE crashes when trying to create emulation window","Created attachment 39377
Snippet of WINEDEBUG=+all log.

When using winUAE launching a game does not work because it crashes when opening the emulation window.

See attached log snippet from WINEDEBUG=+all for more information. 

winUAE used to work a year ago (in the devel branch).",449,"1"
"WINE-24093","Demoscene fr-041 debris shows garbage instead of black strip","Created attachment 30317
Image showing the problem

Demoscene fr-041 debris shows garbage instead of black strip. Attachment shows that better. It can be seen since cca 15th sec of run. I used app's default setting except Wait for VSync which were disabled... It looks like as time passes it's getting worse.


1. I did a regression test between 1.3.0 and 1.3.1:

commit 6e30387f81235578e67afc54a8d6695f0413a8f5
Author: Henri Verbeet 
Date:   Wed Aug 4 11:10:23 2010 +0200

    wined3d: Replace color_fill_fbo() with device_clear_render_targets().

:040000 040000 2a79c4e1934776671edc137577435af40286a97c a031df0049d1334b901fff0588ef457670b30490 M      dlls


2. No other bug report suffers from this commit.

3. Revert of this patch after git checkout makes that problem go away.

4. Adding author of this patch to CC.


--private keyword: bisected",2,"0"
"WINE-6483","Vokabeltrainer shows an wine-error dialog","The application Vokabeltrainer works great with some native dlls but with or 
without native dlls the implemented dictionary does not work cause of the 
race condition. So I deactivated the native dlls for a cleaner bug report.",386,"1"
"WINE-2280","BACKSPACE and LEFT ARROW not responding with FirstClass v7.112","The BACKSPACE and LEFT ARROW keys do not work while editting a message using
firstclass v7.112 available from www.firstclass.com with Wine 2004-05-05.

These keys appear to work elsewhere withing firstclass and within other programs.",1452,"1"
"WINE-32127","Oblivion Launcher crash on start","Created attachment 42377
Back-trace

Immediately after clicking the icon to start the launches the crash happens. Please refer to the back-trace for additional information.",962,"1"
"WINE-36623","valgrind shows some leaks in ddraw/tests/ddraw7.c","All of the form:
==31752== 20 bytes in 1 blocks are definitely lost in loss record 194 of 1726
==31752==    at 0x7BC4C75D: notify_alloc (heap.c:255)
==31752==    by 0x7BC50FA1: RtlAllocateHeap (heap.c:1716)
==31752==    by 0x4A75A4B: DirectDrawCreateClipper (ddraw.c:3274)
==31752==    by 0x4A75C0D: ddraw7_CreateClipper (ddraw.c:3309)
==31752==    by 0x4DA2139: test_clipper_blt (ddraw7.c:710)
==31752==    by 0x4DC439D: func_ddraw7 (ddraw7.c:7183)
==31752==    by 0x4DF1F84: run_test (test.h:584)
==31752==    by 0x4DF2373: main (test.h:654)
==31752== 

There's a similar issue in ddraw4 in bug 36343.",1718,"1"
"WINE-25958","DreamStation 1 free music tracker visually freezes under some conditions","When you open a file and play it everything works fine except that all movable parts of the application freeze when you mouseover the main application area. Once you move mouse to certain areas like application top text menu application external window or somewhere outside of the application's window or start adjusting any settings while the song is playing it unfreezes! When you finish changing settings/mouseover the main program area it freezes again. 
Only visual audio keeps playing with no problems!
Tested also with wine 1.1.42 (in addition to 1.3.12) on different machines but both running KDE.

Application official download link: http://www.audio-simulation.com/downloads/DS1Install_R004.exe",743,"1"
"WINE-23107","Unimplemented call _snprintf_s in CSPro 4.0","Running this application with bundled msvcr80 causes crashes in some cases like scrolling listboxes. Setting to builtin msvcr80 only blocks application completely on start the reason is a missed call _snprintf_s.",1,"0"
"WINE-14075","Beyond Divinity: screen corruption","Background is not drawn correctly in BeyondDivinity.",1341,"1"
"WINE-43586","Dead Space: no shadows in game","Created attachment 58998
no shadows screenshot

Shadows were present until version 2.6
They present in v2.5 
v2.6 and later — they don't.

(Tested on Nvidia 384.59+Kubuntu 17.04)",21,"0"
"WINE-35365","Multiple applications fail to install (IE7 MS .NET Framework 4.0)","Created attachment 47169
backtrace in wine1.7.10.txt

With a clean wine-prefix winetricks -q ie7 fails
I ran a bisect and found that:

5cf3c1f4a64a0c9ec2fe97e738819f2d894eee98 is the first bad commit
commit 5cf3c1f4a64a0c9ec2fe97e738819f2d894eee98
Author: Dmitry Timoshkov 
Date:   Mon Dec 30 18:21:15 2013 +0900

    wuapi: Remove unused IUnknown *outer parameter from object constructors.


Reverting this patch fixes this problem.",3,"0"
"WINE-2699","richedit behaves incorrectly with ES_DISABLENOSCROLL style losing functionality","Fully reproducible. A richedit control with the style ES_DISABLENOSCROLL (same
#define value as ES_NUMBER) accepts no keyboard input at all. This alone may
account for a large number of richedit-based applications that just won't work
under Wine.

I have determined that toggling this single style flag makes a richedit control
unusable. I compiled two bare bone applications with MSVC++. The only difference
between the applications was the ES_NUMBER style for the richedit resource (same
value as ES_DISABLENOSCROLL in order to disable scroll bars instead of hiding them).

Under Wine 20050111 (running on Slackware 10/GNOME) the test application with
richedit style ES_DISABLENOSCROLL did not accept any input while the other test
application without this flag functioned normally.",9,"0"
"WINE-6217","Alien Shooter runs slow","On Sempron 16 GHz The game runs at normal speed only in 640x480. Demo can be 
downloaded from http://www.sigma-team.net/AlienShooterDemo.exe and trial 
requiring imagehlp.dll override from 
http://www.reflexive.com/index.php?PAGE=Download_Landing&AID=134",1047,"1"
"WINEHQ.ORG-1368","Integrate AppDB into the site","This bug lost its description. I think this bug was about me taking the WineHQ
site design and applying it to the AppDB site so they match look and feel.
",162,"0"
"WINE-746","wrc gives segfault when creating kernel.res","When building either the 0509 release or building from the latest CVS I get the
following error:

LD_LIBRARY_PATH=../../library:../../unicode:$LD_LIBRARY_PATH
../../tools/wrc/wrc  -I. -I. -I../../include -I../../include  -o kernel.res -r
kernel.rc
make[2]: *** [kernel.res] Segmentation fault (core dumped)
make[2]: Leaving directory `/usr/local/wine/dlls/kernel'
make[1]: *** [kernel] Error 2
make[1]: Leaving directory `/usr/local/wine/dlls'
make: *** [dlls] Error 2

My system config follows:

>Release:       libc-2.2.4
>Environment:
        
Host type: i386-redhat-linux-gnu
System: Linux saul 2.4.12 #3 Thu Oct 11 16:25:20 EDT 2001 i686 unknown
Architecture: i686

Addons: c_stubs glibc-compat linuxthreads
Build CFLAGS: -march=i386 -D__USE_STRING_INLINES -fstrict-aliasing
-freorder-blocks -DNDEBUG=1 -g -O3
Build CC: gcc
Compiler version: 2.96 20000731 (Red Hat Linux 7.1 2.96-101)
Kernel headers: 2.4.0-0.26
Symbol versioning: yes
Build static: yes
Build shared: yes
Build pic-default: no
Build profile: yes
Build omitfp: no
Build bounded: no
Build static-nss: no
Stdio: libio",791,"1"
"WINE-6045","The 16 bit file open and save dialog use the filter data for the filename data","With a simple delphi 1 program if you set the property of the filename then both
the filter and filename get the same string.
Setting the filename on filesave dialog to suggest.txt and filter to *.txt
shows *.txt under wine in both the filter and filename edit box. Under win 95
then name has suggest.txt and filter edit has *.txt.
Is it possible to add to the wine tests any 16bit program? If anybody want to
look at it I can post traces and or delphi source and exe to a URL.",504,"1"
"WINE-2891","Tooltip window steals focus and creates a normal window","When I am using the paradise poker client (http://paradisepoker.com) and hovers
over an user button the tooltip pops up and steals focus which is really
annoying. It also gets shown as a normal window without decorations which makes
it shown in the toolbar. I think it should be an override redirect window
instead of a normal
window.
It worked before 20050310 release (except the bug that made it not autohide).",1138,"1"
"WINE-24328","Filter Forge 2 demo fails to launch with error:  ::GetScrollInfo failed. (ExeCryptor protection)","Created attachment 30664
Screenshot of error message

Filter Forge 2 demo installs without an error message but when attempting to launch it and clicking Use Trial - 30 days left an error message pops up  ::GetScrollInfo failed. (screenshot attached) and the program crashes.
Demo is available for download here: http://www.filterforge.com/download/
Regular Terminal output and terminal output with WINEDEBUG=+relay+seh+tid attached also.",1196,"1"
"WINE-27831","Tic Tac Toe Game (vbscript) cannot be played (colon used for placing multiple statements on the same line in select case statements)","To view page you need to
~/wine-git/wine iexplore file://c:/Game.htm

None of the blank squares can be populated(clicking) and thus the game cannot be played.

Didn't quite know what to pick for the severity so I picked minor.",965,"1"
"WINE-2244","Problems with trees selection of long paths","Deadalus is a FREE n64 emulator that I have seen this problem with:
when you start the program it opens a tree that asks you ro chose a rom dir
create in your home a long dir (40-50 char dirs have been tested) like 
mkdir ~\1234567890123456789012345678901234567890
then run wine daedalus and chose that dir:
f:\1234567890123456789012345678901234567890

p.s. if you have not crashed due to shorter dir select view->directory to repeat
the test
p.s.s as long dirs crash so do long paths with several directories in them

you will get a crash like this:
Unhandled exception: page fault on read access to 0x00390040 in 32-bit code
(0x40d32f71).
In 32-bit mode.
0x40d32f71 (.L107+0x16 [brsfolder.c] in SHELL32.DLL): call      *0x8(%edx)
Unable to open file brsfolder.c
Wine-dbg>bt
Backtrace:
=>0 0x40d32f71 (.L107+0x16 [brsfolder.c] in SHELL32.DLL) (ebp=406be0a0)
  1 0x40d33458 (BrsFolderDlgProc+0x458(hWnd=0x20026 msg=0x4e wParam=0x3741
lParam=0x406be330) [brsfolder.c:388] in SHELL32.DLL) (ebp=406be0c0)
  2 0x407f4c87 (WINPROC_wrapper+0x17 in USER32.DLL) (ebp=406be0e4)
  3 0x407f4ce4 (WINPROC_CallWndProc+0x54(proc=0x40d33000 hwnd=0x20026
msg=0x4e wParam=0x3741 lParam=0x406be330) [winproc.c:229] in USER32.DLL)
(ebp=406be118)
  4 0x407fac94 (CallWindowProcW+0x94(func=0x4088c54c hwnd=0x20026 msg=0x4e
wParam=0x3741 lParam=0x406be330) [winproc.c:3144] in USER32.DLL) (ebp=406be14c)
  5 0x407cf700 (DefDlgProcW+0x60(hwnd=0x20026 msg=0x4e wParam=0x3741
lParam=0x406be330) [defdlg.c:458] in USER32.DLL) (ebp=406be17c)
  6 0x407f4c87 (WINPROC_wrapper+0x17 in USER32.DLL) (ebp=406be1a0)
  7 0x407f4ce4 (WINPROC_CallWndProc+0x54(proc=0x407cf6a0 hwnd=0x20026
msg=0x4e wParam=0x3741 lParam=0x406be330) [winproc.c:229] in USER32.DLL)
(ebp=406be1d4)
  8 0x407fac94 (CallWindowProcW+0x94(func=0x407cf6a0 hwnd=0x20026 msg=0x4e
wParam=0x3741 lParam=0x406be330) [winproc.c:3144] in USER32.DLL) (ebp=406be208)
  9 0x4080c050 (call_window_proc+0xb0(hwnd=0x20026 msg=0x4e wparam=0x3741
lparam=0x406be330 unicode=0x1 same_thread=0x1) [message.c:1456] in USER32.DLL)
(ebp=406be264)
  10 0x4080cede (SendMessageTimeoutW+0x13e(hwnd=0x20026 msg=0x4e
wparam=0x3741 lparam=0x406be330 flags=0x0 timeout=0xffffffff
res_ptr=0x406be2ec) [message.c:1920] in USER32.DLL) (ebp=406be2c8)
  11 0x4080d0f5 (SendMessageW+0x35(hwnd=0x20026 msg=0x4e wparam=0x3741
lparam=0x406be330) [message.c:2001] in USER32.DLL) (ebp=406be2f4)
  12 0x4073a083 (TREEVIEW_SendRealNotify+0x33(infoPtr=0x403ae678 wParam=0x3741
lParam=0x406be330) [treeview.c:451] in COMCTL32.DLL) (ebp=406be318)
  13 0x4073a2d3 (TREEVIEW_SendTreeviewNotify+0xb3(infoPtr=0x403ae678
code=0xfffffe36 action=0x0 mask=0x14 oldItem=0x403b2418 newItem=0x0)
[treeview.c:532] in COMCTL32.DLL) (ebp=406be3ac)
  14 0x4073b895 (TREEVIEW_RemoveItem+0x35(infoPtr=0x403ae678
wineItem=0x403b2418) [treeview.c:1417] in COMCTL32.DLL) (ebp=406be3d8)
  15 0x4073b70a (TREEVIEW_RemoveAllChildren+0x2a(infoPtr=0x403ae678
parentItem=0x403b2198) [treeview.c:1376] in COMCTL32.DLL) (ebp=406be3f4)
  16 0x4073b937 (TREEVIEW_RemoveItem+0xd7(infoPtr=0x403ae678
wineItem=0x403b2198) [treeview.c:1418] in COMCTL32.DLL) (ebp=406be410)
  17 0x4073b70a (TREEVIEW_RemoveAllChildren+0x2a(infoPtr=0x403ae678
parentItem=0x403b1cd0) [treeview.c:1376] in COMCTL32.DLL) (ebp=406be42c)
  18 0x4073b937 (TREEVIEW_RemoveItem+0xd7(infoPtr=0x403ae678
wineItem=0x403b1cd0) [treeview.c:1418] in COMCTL32.DLL) (ebp=406be448)
  19 0x4073b70a (TREEVIEW_RemoveAllChildren+0x2a(infoPtr=0x403ae678
parentItem=0x403aebf0) [treeview.c:1376] in COMCTL32.DLL) (ebp=406be464)
  20 0x4073b99e (TREEVIEW_RemoveTree+0x1e(infoPtr=0x403ae678) [treeview.c:1437]
in COMCTL32.DLL) (ebp=406be47c)
  21 0x40740b95 (TREEVIEW_Destroy+0x25(infoPtr=0x403ae678) [treeview.c:4787] in
COMCTL32.DLL) (ebp=406be490)
  22 0x40741c6d (TREEVIEW_WindowProc+0x9ed(hwnd=0x1002b uMsg=0x2 wParam=0x0
lParam=0x0) [treeview.c:5250] in COMCTL32.DLL) (ebp=406be4ac)
  23 0x407f4c87 (WINPROC_wrapper+0x17 in USER32.DLL) (ebp=406be4d0)
  24 0x407f4ce4 (WINPROC_CallWndProc+0x54(proc=0x40741280 hwnd=0x1002b
msg=0x2 wParam=0x0 lParam=0x0) [winproc.c:229] in USER32.DLL) (ebp=406be504)
  25 0x407fab95 (CallWindowProcA+0xb5(func=0x40741280 hwnd=0x1002b msg=0x2
wParam=0x0 lParam=0x0) [winproc.c:3101] in USER32.DLL) (ebp=406be538)
  26 0x4080c0bf (call_window_proc+0x11f(hwnd=0x1002b msg=0x2 wparam=0x0
lparam=0x0 unicode=0x0 same_thread=0x1) [message.c:1461] in USER32.DLL)
(ebp=406be594)
  27 0x4080d0b4 (SendMessageTimeoutA+0x1c4(hwnd=0x1002b msg=0x2 wparam=0x0
lparam=0x0 flags=0x0 timeout=0xffffffff res_ptr=0x406be624) [message.c:1968]
in USER32.DLL) (ebp=406be600)
  28 0x4080d135 (SendMessageA+0x35(hwnd=0x1002b msg=0x2 wparam=0x0
lparam=0x0) [message.c:2012] in USER32.DLL) (ebp=406be62c)
  29 0x407ef31b (WIN_SendDestroyMsg+0x8b(hwnd=0x1002b) [win.c:1446] in
USER32.DLL) (ebp=406be680)
  30 0x407ef369 (WIN_SendDestroyMsg+0xd9(hwnd=0x20026) [win.c:1458] in
USER32.DLL) (ebp=406be6c8)
  31 0x407ef4dc (DestroyWindow+0x10c(hwnd=0x20026) [win.c:1548] in USER32.DLL)
(ebp=406be6e8)
  32 0x407d2aef (DIALOG_DoDialogBox+0x4f(hwnd=0x20026 owner=0x10021)
[dialog.c:797] in USER32.DLL) (ebp=406be728)
  33 0x407d2c8c (DialogBoxParamW+0x5c(hInst=0x40d20000 name=0x40d75000
owner=0x10021 dlgProc=0x40d33000 param=0x406be760) [dialog.c:833] in
USER32.DLL) (ebp=406be744)
  34 0x40d3356a (SHELL32.DLL.SHBrowseForFolder+0xca in SHELL32.DLL) (ebp=406be78c)
  35 0x0043b8a4 (Daedalus.exe..text+0x3a8a4 in Daedalus.exe) (ebp=00000001)


if you make a dir that is 20-30 char long you may get this (happens about 50% of
the tries):

Backtrace:
=>0 0x401d8777 (HEAP_CreateFreeBlock+0x1a7(subheap=0x40360000 ptr=0x403ad2e8
size=0x28) [heap.c:417] in NTDLL.DLL) (ebp=406bf43c)
  1 0x401d87ff (HEAP_MakeInUseBlockFree+0x4f(subheap=0x40360000
pArena=0x403ad2e8) [heap.c:468] in NTDLL.DLL) (ebp=406bf468)
  2 0x401d9a14 (RtlFreeHeap+0xd4(heap=0x40360000 flags=0x2 ptr=0x403ad2f0)
[heap.c:1204] in NTDLL.DLL) (ebp=406bf490)
  3 0x40d33665 (SHELL32.DLL.SHBrowseForFolder+0x1c5 in SHELL32.DLL) (ebp=406bf4d0)
  4 0x0043cf9b (Daedalus.exe..text+0x3bf9b in Daedalus.exe) (ebp=ffffffff)
*** Invalid address 0xffffffff (MSVCP60.DLL..reloc+0x87ee1fff)


direct download at:
http://daedalus.boob.co.uk/cgi/load.cgi?files/daedalus_0.07b.zip (286kb)",496,"1"
"WINE-31932","No video in SlingPlayer 1.3","Created attachment 42058
wine-1.5.14-265-g8780fa6 console output

Due to commit cc7bf355c50b17b2e04f754c80464289df2a9ee7 there is no video in SlingPlayer 1.5. Audio works fine.

cc7bf355c50b17b2e04f754c80464289df2a9ee7 is the first bad commit
commit cc7bf355c50b17b2e04f754c80464289df2a9ee7
Author: Alexandre Julliard 
Date:   Tue Oct 9 15:21:21 2012 +0200

    user32: Add support for setting the window surface visible region.

:040000 040000 ca9c6946038c5e8346d67e4ce02f576034fbdaf1 230c7328031dd70f529463ac959a43dbe35b040b M	dlls
:040000 040000 f31ee15864da2825f030f94bba46c5e07fa0cede bde3439027c457a464fc77b95f1da4ea8f4ad161 M	include

Reverting this commit fixes the issue.",275,"1"
"WINE-19596","Sony Ericsson PC Suite 5 fails to install","Created attachment 22850
wine-1.1.26-390-g31dab8f console output

PC Suite 5 installer fails with the message:

Error Number: 0x80040707
Description: DLL function call crashed: ISRT._WaitOnDialog

Setup will now terminate.

Clicking on OK prints this line in the console:
err:seh:setup_exception_record stack overflow 1836 bytes in thread 0028 eip 7bc3ba6e esp 00240c04 stack 0x240000-0x241000-0x340000
The installer remains in memory.

Pressing CTRL+C to kill the installer then prints the rest of the output:
wine: Unhandled page fault on read access to 0x00000001 at address 0x7e85463a (thread 0029) starting debugger...

winetricks vcrun6 required to get this far.",598,"1"
"WINEHQ.ORG-3643","Unable to open API Status on http://www.winehq.org/site/status","Win API Stats
Warning: mysql_num_fields(): supplied argument is not a valid MySQL result
resource in /home/winehq/opt/tools/winapi_stats.php on line 117 Warning:
mysql_fetch_array(): supplied argument is not a valid MySQL result resource in
/home/winehq/opt/tools/winapi_stats.php on line 128

last modified: Fri Sep 30 7:41:23 CDT 2005",1,"0"
"WINE-20112","Cannot install Directx on Fedora 11 with 64-bit wine","Background:
Using Steam I'm trying to start Secret of Monkey Island Special Edition. Before it can start for the first time the program tries to install DirectX. This is not successful so the game cannot be loaded.

Have tried installing the DirectX setup files manually and via winetricks but with no luck.

Using wine package 1.1.29-3.fc11 @updates-testing

Error returned:
Trying to load PE image for unsupported architecture (AMD-64)
wine: could not load LC:\\windows\\temp\\DX1a3d.tmp\\infinst.exe: Bad EXE format for 

Investigation details:
The problem seems to be related to wine choosing the correct binary to begin with then being unable to run a 64-bit binary which is also part of the install (i.e. it uses wine32 all of the time when some of the time it should be using wine64).

Looking at the behaviour of wine it correctly identifies that DXSETUP.exe is a 32-bit file and uses wine32 as expected. However there is an executable file that is supposed to run as part of the install:

infinst.exe: PE32+ executable for MS Windows (GUI) Mono/.Net assembly

This is a 64-bit file so wine32 chokes on it and the install fails.
Is this restricted to Fedora 11 or is it common to any wine environment where wine32 and wine64 are present?

The infinst.exe application can be run successfully using wine64 infinst.exe and simply returns:
fixme:heap:HeapSetInformation 0x7f98ba590000 0 0x7f98bcd4fd10 4

If wine32 infinst.exe is run it returns:
Trying to load PE image for unsupported architecture (AMD-64)
Trying to load PE image for unsupported architecture (AMD-64)
wine: could not load LH:\\Download\\Windows\\DX\\infinst.exe: Bad EXE format for 

Additional information:
The temporary folder (shown above) that is created when the files are extracted disappear too quickly to be looked at in detail. I got a better look at infinst.exe by extracting all the cab files with:

#!/bin/sh
for file in *.cab
do
cabextract $file
done",929,"1"
"WINE-26535","Escaped spaces in desktop entries","I found a small bug in the desktop entry creation of Wine 1.2.2. I installed a program that creates links in the start menu and on the desktop. While it works to run the program from the start menu clicking on the Desktop entry fails. The problem is that the command line in the desktop entry escapes spaces that shouldn't be escaped.

The command in the desktop entry is:

env WINEPREFIX=/home/markus/.wine wine C:\\Programme\\Java\\jre6\\bin\\javaw.exe -jar\ \C:\\Programme\\Fuego\\gogui.jar\\ -program\ \C:\\Programme\\Fuego\\fuego.exe\\ -register

Running this command in a terminal shows the error:

Unrecognized option: -jar C:\Programme\Fuego\gogui.jar -program C:\Programme\Fuego\fuego.exe -register

The problem is that because spaces are inadvertedly escaped javaw.exe is invoked with the argument line merged into a single argument.

When I click on the corresponding lnk file in c:\users\Public\Desktop the program starts without problems. Therefore I think that the program installs correctly but Wine makes a mistake when creating the desktop entry from the lnk file.",0,"0"
"WINE-21310","motocross madness crashing","Hi

sorry for reporting something out of the ordinary and I'm waisting some of your time

my personnal aim is to run Microsoft's Motocross Madness (the 1st one) within a virtual computer (sorry... I'm a great fan of this game and as years passes more and more GPUs and OSs are uncompatible)

because it has a check for a 3D card before launching it's impossible to use in a windows virtual machine... but thanks to you Wine devs I'm able to use it within an Ubuntu VM

actually I was able :(

emulation as never been perfect : perfct menus but ingame textures are completely wrong (a mix of very flashy colors for the area and only black for the player) but the game was launching and somebody knowing the game could play it

but since the last Wine upgrade the game can't launch (black screen then a windows like text box telling me to report the crash if it doesn't crash the same in a real windows OS

I'm sorry if this is irrelevent and if my explanations are quite confused

Any help or tip is welcomed and if I can give you more details just tell me what to look for and I'll send it to you

PS : I had to roll back Wine version synaptics only offered me 1.0.6 version : I did and the game went back to buggy but working emulation )",97,"0"
"WINE-31989","Garmin ANT Agent 2.3.3 doesn't recognize 'ANT' USB stick crashes on unimplemented function cfgmgr32.dll.CM_Get_Device_ID_ExA","Created attachment 42156
ant agent backtrace (crash)

I tried Garmin ANT Agent 2.3.3 with wine 1.5.15. Installation went fine and program runs however it fails to see usb ant stick (physical usb-ant adapter).

I tried to make it work with wine by copying registry files from Win 7 pro 64 as specified on http://wiki.winehq.org/USB 

After copying those registry values program crashes. Wine says

Unhandled exception: unimplemented function cfgmgr32.dll.CM_Get_Device_ID_ExA called in 32-bit code (0x7b83a372).

I did not try to apply any patches.

ANTAgent_233.exe is available from

http://www8.garmin.com/support/download_details.jsp?id=3741",446,"1"
"WINE-5265","Marco Polo Großer Reiseplaner 2005/2006 - Setup stops","I'm trying to use Marco Polo Großer Reiseplaner 2005/2006 with Wine 0.9.13 on
Gentoo Linux. To use it I ran travel\setup.exe from the DVD and the setup just
stops before the real thing starts. Please see
http://www.myimg.de/?img=BildschirmfotoWinedesktopSeaa8.png

In the terminal window from which I started wine I get:

alexander@blatt ~ $ wine 'D:\travel\setup.exe'
fixme:ole:ITypeInfo_fnRelease destroy child objects
err:ole:get_unmarshaler_from_stream Failed to read common OBJREF header 0x00000001
fixme:ole:NdrClearOutParameters (0x7d7ce5200x7d1442120x7d7ce654): stub
fixme:win:SetWindowTextA setting text TITLE_CAPTIONBAR of other process window
(nil) should not use SendMessage
fixme:win:SetWindowTextA setting text Gro\xdfer Reiseplaner 2005/2006 -
InstallShield Wizard of other process window (nil) should not use SendMessage
fixme:win:SetWindowTextA setting text TITLE_CAPTIONBAR of other process window
(nil) should not use SendMessage
fixme:win:SetWindowTextA setting text Gro\xdfer Reiseplaner 2005/2006 -
InstallShield WizarH of other process window (nil) should not use SendMessage

As you saw on the screenshot I setup wine to use a Desktop size of 640×480. I
also set the Windows version to Windows 98. But the error also happens when I
remove my ~/.wine directory and just use the default settings.

Meanwhile I downgraded to 0.9.12. and there the installer works just fine.",78,"0"
"WINE-140","createprocess does not look for the aplication in the right places","http://msdn.microsoft.com/library/psdk/winbase/prothred_9dpv.htm states that
executables are searched for in the following order:

1.The directory from which the application loaded. 
2.The current directory for the parent process. 
3.Windows 95/98: The Windows system directory. Use the GetSystemDirectory
function to get the path of this directory.
  Windows NT/2000: The 32-bit Windows system directory. Use the
GetSystemDirectory function to get the path of this directory. The name of this
directory is System32. 
4.Windows NT/2000: The 16-bit Windows system directory. There is no Win32
function that obtains the path of this directory but it is searched. The name
of this directory is System. 
5.The Windows directory. Use the GetWindowsDirectory function to get the path of
this directory. 
6.The directories that are listed in the PATH environment variable.

Wine doesn't do this. The installer for IBM's C++ compiler does the following

D:/setup/SETUP.exe runs D:/runtime/rtsetup.exe -s which runs rtsetup.exe with
other cmd line options. The last createprocess fails if wine is stared from
/mnt/cdrom/setup but works if wine is run from /mnt/cdrom/runtime using
../setup/SETUP.exe as the program.",526,"1"
"WINE-38137","WBaduk: Could not obtain OLE control window handle regression","Created attachment 50855
wine log

Greetings and a big thanks to the wine team

WBaduk is a windows client to play the game of go on wbaduk go servers.

It used to work like a charm with wine 1.2 (ubuntu lucid package version 1.2.2-0ubuntu2~lucid1) except for a harmless Floating point exception popup when logging in.

It's unuseable however with the latest ubuntu dev build (1.7.34 ubuntu trusty):
We can login no problem but keep getting

       Could not obtain OLE control window handle 

popups when trying to observe a game.


Here's the steps I used to reproduce:
- Installed wine 1.7.34 on ubuntu trusty from the wine ppa.

- Download wbaduk (21Mb) from www.wbaduk.com using the download button on
  the top left. Currently it points to:
    http://www.wbaduk.com/download/WBaduk_20140410A.exe

- Installed in brand new account (no previous .wine directory)
    $ wine WBaduk_20140410A.exe

- And run:
    $ wine '.wine/drive_c/Program Files/WBaduk/OrO20.exe'

- Login with test account username: grumly2 pass: foobar
  Pick any server.

- Left click on any of the active games in the list on the left
  and choose observe after joining from the menu.

- Wbaduk tries to join the game but we keep getting

     Could not obtain OLE control window handle 

  popups forever. Terminal output looks like:

     ...
     fixme:ieframe:PersistStreamInit_InitNew (0x5ea3c28)
     fixme:ieframe:OleControl_OnAmbientPropertyChange Unknown dispID -701
     fixme:ieframe:OleControl_OnAmbientPropertyChange Unknown dispID -703
     fixme:ieframe:OleControl_OnAmbientPropertyChange Unknown dispID -704
     fixme:ieframe:OleControl_OnAmbientPropertyChange Unknown dispID -702


It's also broken with the default wine ubuntu packages on ubuntu precise and trusty (wine 1.4)

If there's some useful info missing please let me know.",449,"1"
"WINE-28343","UFO: Extraterrestrials Gold - crash at start unless native d3dx9_26 (or d3dx_36) is used","Created attachment 36322
WINEDEBUG=+tid+allerr+allwarn+alltrace-all output

UFO:ET not only require native dsound/dmusic as reported in bug #25728 but also crashes unless native MS d3dx9_26 or d3dx9_36 are used. I had first ran into this bug with Wine 1.3.11 and it pertained till version 1.3.24. Can't test with later version due-to dsound/dmusic override workaround is no longer working as reported in bug #28340.

What's interesting is that is is sufficient to install native dsound/dmusic and only one of native d3dx_26/d3dx_36 to get the game working. With native d3dx_26 and wine's built-in d3dx_36 the game seems to start up faster than with wine's built-in d3dx_26 and native d3dx_36.

I attach essential WINEDEBUG logs recorded with Wine 1.3.24 + MS native dsound/dmusic + wine's built-in d3dx_26/d3dx_36.

Most promising line are:

fixme:d3dx:D3DXGetImageInfoFromFileInMemory (0x8a00c0 49280 0x34f8a0): partially implemented
fixme:d3dx:D3DXGetImageInfoFromFileInMemory Invalid or unsupported image file
fixme:d3dx:D3DXCreateEffectEx (0x14a2a8 0x8c44a0 1192 (nil) 0x8c4958 (nil) 0 (nil) 0x8c1770 0x8c1764): semi-stub
fixme:d3dx:d3dx9_base_effect_init HLSL ascii effects not supported yet
fixme:d3dx:get_format_info Unknown format 0x35545844

From relay trace it looks like that the last d3d function called prior to the crash is d3dx9_36.D3DXCreateTextureFromFileInMemoryEx().",499,"1"
"WINE-42256","PhotoFiltre 6 and 7 don't erase the mouse selection when dragging it","Created attachment 56944
Screenshot showing the issue

As the title says the program doesn't properly refresh after drawing the new selection so the old one is still around. Works fine on win7.

According to my tests it uses LineDDA and SetPixelV to draw these lines.
Also it's probably only done in WM_MOUSEMOVE. I didn't get a WM_PAINT on windows while dragging the selection.",224,"1"
"WINE-21283","sPlan 7.0: Non properly text rotation","Overview: 
When trying to rotate text - letters in the text field correctly displace their position but rotating themselfs in the opposite direction. Also text field becomes cutted mostly when it is vertically rotated. In this case it becomes  mostly invisible.

Steps to Reproduce:
Place a text field and rotate it.

Actual Results:
Text rotated non properly.

Expected Results:
Text should rotate and be completely visible.

Software version:
wine-1.1.35
Ubuntu Linux 9.10 Karmic
sPlan 7.0 Demo

---

Forgive me for my poor english and description.
Here are self explaining screenshots with a problem:

1) Made in windows. This is what text fields should look like:
http://img145.imageshack.us/img145/2348/splan7demowindows.png

2) Made in wine:
http://img85.imageshack.us/img85/2821/splan7demowine.png


Demo version of Splan 7.0:
http://www.abacom-online.de/demos/splan70(demo).exe

In attachment there is what wine says to me when i start it.",1140,"1"
"WINE-29507","Rainbow Six Rogue Spear - Mouse pointer movement very slow during mission briefing","Rainbow Six Rogue Spear - installs and gameplay runs great under os version win 98 but the mouse pointer moves painfully slow during the briefing/mission setup on one of my computers.",72,"0"
"WINE-25874","tray icon in gnome panel corruption","Created attachment 32975
Image of the Gnome Panel

when I start a windows app which ship a try icon the icon copy the icon from the icon from its right side as background and then it places the current app-icon on top.

This appears by me on Ubuntu 10.04 Lucid Lynx with Gnome Panel 2.30.2 and the nofication-area panel applet has version 2.30.2",0,"0"
"WINE-6402","Virtual memory allocation fails with Adobe Acrobat 5's Paper Capture plugin","Running Adobe Acrobat 5's PaperCapture plugin it issues an error saying:

Insufficient memory to perform operation

This is displayed in a small popup-dialog and the plugin fails.

It seems that several calls to kernel32.VirtualAlloc()
ntdll.NtAllocateVirtualMemory() and related functions are executed right before
the error message is issued. See the log-output generated with WINEDEBUG=+all.

Is this maybe related to bug #4329?

The plugin actually runs as a seperate server-application capserve.exe. The
error can also be reproduced runnning wine capserve.exe without starting Acrobat.

System environment: wine 0.9.22 gcc 3.3.6 kernel 2.6.15 (Debian) dual-boot
WinXP (but not used with Wine).

The PaperCapture plugin is available for free at
http://www.adobe.com/support/downloads/detail.jsp?ftpID=1907 it needs the
commercial Adobe Acrobat 5 to run (at least to install and then run
capserve.exe individually).",126,"0"
"WINE-29677","Anno 2070 does not start","Created attachment 38490
WINEDEBUG=+ddraw+d3d

The game start with a black screen and then crashes.

I have no idea how to interpret the output.",455,"1"
"WINE-25975","Edge of Chaos window display does not update","Running the regression test but I'm caught in the middle of a crash-on-startup which was fixed but no idea when.

The video output of the game never updates by itself. It does update once if I click the window to move it (super+click ...). Every time I do that it complains:

err:x11settings:X11DRV_ChangeDisplaySettingsEx No matching mode found 1680x1050x32 @0! (XRandR)
fixme:win:EnumDisplayDevicesW ((null)00x33e9100x00000000) stub!

Last known working version: wine-1.3.0
First known broken version: wine-1.3.5",68,"0"
"WINE-12220","Joystick POV (hatswitch) doesn't work","This bug was already reported in the past and assumed solved with version 0.9.43 but it's still present. Joystick hatswitch is seen by wine as 2 axis and not as a POV despite any modification in the registry of windows (as suggested here http://wiki.winehq.org/UsefulRegistryKeys ). The bug can be verified using a little windows utility joytester (available for download here http://www.softpedia.com/get/System/System-Miscellaneous/Joystick-Tester.shtml ) and therefore it's not related to a specific application. My joystick is Microsoft SideWinder Precision 2 connected via USB and the POV is correctly detected under linux (UBUNTU 7.10) and tested with jscalibrator. This bug prevents from using any kind of game under wine that needs the use of an hatswitch especially flight simulation programs.",1099,"1"
"WINE-29382","Internet Explorer 8's developer tools window hangs after changing document mode","Created attachment 38029
Terminal output

IE8 has a feature that allows changing the display of the current page to match IE7 or quirks mode accessible from the developer tools window. This works once but the window becomes unresponsive afterward. That didn't happen in 1.3.20:

38a797990c8f55e96baa15c82004eff3abf96f7b is the first bad commit
commit 38a797990c8f55e96baa15c82004eff3abf96f7b
Author: Alexandre Julliard 
Date:   Wed May 18 11:35:17 2011 +0200

    oleaut32: Reallocate in BSTR_UserUnmarshal to avoid changing the pointer if the string didn't change.

:040000 040000 6243ab6decb7555fbfdbb09bf490094a411b6565 92a9d6d153648c49e5b3a9ad89c904917e51a8e7 M    dlls

Reverting the patch fixed the problem. Steps to reproduce:

1. winetricks ie8
2. Start IE8 and press F12
3. After the developer tools window appears press Alt+7

It should reload the current page's HTML source but instead it just shows loading... and the window cannot be interacted with any further.",60,"0"
"WINE-29832","Mario Forever crashes","Created attachment 38742
Crash with error

Crash with error",1796,"1"
"WINE-34318","Multiple games and applications need ntdll.dll.EtwRegisterTraceGuidsW (Process Hacker 2.x Far Cry 4)","Follow up to bug 25994. You'll need native winsta.dll to workaround bug 34317.",919,"1"
"WINE-30848","Windows 8 release preview upgrade assistent crashes due to unimplemented function ntdll.dll.NtQuerySystemEnvironmentValueEx","http://windows.microsoft.com/de-DE/windows-8/release-preview

sha1sum Windows8-ReleasePreview-UpgradeAssistant.exe 
323bdd977a4b301c0883fa712bcc6e3f1a09f095  Windows8-ReleasePreview-UpgradeAssistant.exe

md5sum Windows8-ReleasePreview-UpgradeAssistant.exe 
264ffdc66ca73347d96b39a494b26cc5  Windows8-ReleasePreview-UpgradeAssistant.exe

Size: 5.1 MB


See also bug 200001 and bug 30344",2,"0"
"WINE-3660","Microsoft Office  2000 does not install.","All versions of Microsoft Office do not install. The installer reported while 
installing Word 2000: 
 
Error 1918: Error installing ODBC driver: Microsoft Text Driver (*.txt 
*.csv) ODBC Error 0: Verify the Microsoft Text Driver (*.txt *.csv) exists 
and is installable. 
 
Here is the console log. (Using Wine 0.9 on Ubuntu 5.10 with the latest 
wine-config-sidenet) 
(Start of install) 
fixme:shell:DllCanUnloadNow stub 
fixme:shell:DllCanUnloadNow stub 
fixme:shell:DllCanUnloadNow stub 
fixme:shell:DllCanUnloadNow stub 
(Entering licence key) 
fixme:imm:ImmGetContext (0x10084): stub 
fixme:imm:ImmGetContext (0x20096): stub 
fixme:imm:ImmSetOpenStatus Semi-Stub 
fixme:imm:ImmReleaseContext (0x20096 0x7fdf9658): stub 
fixme:imm:ImmGetContext (0x20092): stub 
fixme:imm:ImmSetOpenStatus Semi-Stub 
fixme:imm:ImmReleaseContext (0x20092 0x7fdf9658): stub 
fixme:imm:ImmGetContext (0x2008e): stub 
fixme:imm:ImmSetOpenStatus Semi-Stub 
fixme:imm:ImmReleaseContext (0x2008e 0x7fdf9658): stub 
fixme:imm:ImmGetContext (0x2008a): stub 
fixme:imm:ImmSetOpenStatus Semi-Stub 
fixme:imm:ImmReleaseContext (0x2008a 0x7fdf9658): stub 
fixme:imm:ImmGetContext (0x2008e): stub 
fixme:imm:ImmSetOpenStatus Semi-Stub 
fixme:imm:ImmReleaseContext (0x2008e 0x7fdf9658): stub 
fixme:imm:ImmGetContext (0x2008a): stub 
fixme:imm:ImmSetOpenStatus Semi-Stub 
fixme:imm:ImmReleaseContext (0x2008a 0x7fdf9658): stub 
fixme:imm:ImmGetContext (0x20086): stub 
fixme:imm:ImmSetOpenStatus Semi-Stub 
fixme:imm:ImmReleaseContext (0x20086 0x7fdf9658): stub 
(Starting a full install) 
fixme:powermgnt:SetThreadExecutionState (0x80000001): stub harmless. 
fixme:odbc:SQLInstallDriverExW LMicrosoft Text Driver (*.txt *.csv) (null) 
0x                                           7de6d156 260 0x7de6d35e 1 
0x7de6d774 
fixme:odbc:SQLInstallDriverExW LMicrosoft Text Driver (*.txt *.csv) 
fixme:odbc:SQLInstallDriverExW LDriver=dummy.dll 
fixme:odbc:SQLInstallerError 
fixme:powermgnt:SetThreadExecutionState (0x80000000): stub harmless. 
(Ends here)",2,"0"
"WINE-168","Mouse and Keyboard input die upon entering game Snood","I'm trying to run a game called Snood under Wine version 20010112 patched up 
to the CVS release on Jan 29 2001 using the latest patch from transgaming.com. 
(Snood is available from www.snood.com). The install uses the latest install 
shield and doesn't work yet however I've taken an installation from another 
computer and loaded this into my wine directory. If I attempt to run the 
Snood.exe program using anything other than an artificial windows desktop then 
the main window that is presented (after you close the shareware registration 
window message) is entirely black and while the menus work fine there is no 
way to get graphics. With a virtual desktop however the graphics appear fine. 
However after closing the shareware registration window message the main 
window then has it's borders disappear (they are still there they just go 
black). When you click on the button for new game it usually brings you into 
the game. You then will usually be able to fire one shot. At this point in 
time you will notice a slowdown in the game and then any key/button presses 
will cease to be passed on to the program. It still captures pointer motions 
it just no longer recognizes button presses. I'm sorry for the length of this 
report however it's an odd bug to me it seems. If I can provide any further 
information for you please don't hesitate to email me at either 
akmed@iname.com or the address that forwards to mm4692@albany.edu. Attempting 
to use the base 20010112 installation only freezes the game altogether not 
allowing it to enter in to any sort of useable state. Thank you for your time. 
Even hints as to how I might further debug this would be appreciated. I 
attempt to turn DXGrab both on and off however neither mode works and in both 
methods I can move the mouse outside of the window. I'm using XFree 4.0.2 
compiled from source. I'm using a Voodoo Banshee video card and a PS/2 port 
mouse along with a standard US 104 ps/2 keyboard. Thank you

-Mike McLaughlin",1052,"1"
"WINE-14578","Thief System Shock 2 - video intros hang/crash in the end","After recent fixes videos now start playing in Wine with builtin quartz.dll. But some new problems now appeared.

There was a regression - some crashes because of quartz: Fix reference leak in avi splitter on end of stream. (28d6203ca9bd0ba17ce38e309f340b518f954c08) patch. So far it appears to have been fixed by recently submitted quartz: Fix handling of zero byte samples and endofstreams.

The latter patch although fixing the crash seems to introduce hangs of intro videos in Thief (i.e. it works before fix reference leak it crashes after fix reference leak and it doesn't crash but hangs after also applying fix handling of zero byte samples. Very likely it simply exposes a previously hidden underlying problem. Because for example system shock 2 (also a Looking Glass game with similar engine) has some videos for which I can't find a working Wine version probably they always had this hang problem. I've analyzed +quartz logs for differences and it looks to me that the critical difference is lack of AVISplitter_SendEndOfFile on the video (0) stream in NON-working cases which possibly makes game unaware that video ended. Non-working cases have either END OF STREAM detected on stream 1 only or not at all.

+quartz log of Thief session in Wine build that works fine has:
err:quartz:AVISplitter_next_request END OF STREAM ON 1
trace:quartz:AVISplitter_SendEndOfFile End of file reached
[...]
err:quartz:AVISplitter_next_request END OF STREAM ON 0
trace:quartz:AVISplitter_SendEndOfFile End of file reached

+quartz log of Thief session in Wine build that hangs has no SendEndOfFile at all.

+quartz log of System Shock 2 in Wine build that works for Thief (but SS2 still hangs) has
err:quartz:AVISplitter_next_request END OF STREAM ON 1
trace:quartz:AVISplitter_SendEndOfFile End of file reached

System Shock 2 with 28d6203ca9bd0ba17ce38e309f340b518f954c08 and fix zero size samples patch - can't compare because it now crashes (assert failed) :/

filesource.c:1250: FileAsyncReader_WaitForNext: Assertion `rtStop == rtSampleStop' failed.

This pattern shows when watching videos outside the game in the graphedit tool as well.",2,"0"
"WINE-4952","joystick with POV and JoystickAImpl_SetProperty-proprange","There is a bug in dlls/dinput/joystick_linux.c . POV doesn't work when
application calls JoystickAImpl_SetProperty-proprange on POV. Function
calculate_pov doesn't expect that lMin and lMax can be changed. I know it is
strange to set proprange on POV but at least Il-2 Sturmovik demo 2.0 is doing it.

I have solved it with following small patch which ignores set proprange on POV
(it was easier than change constants in calculate_pov :-) but than get
proprange will not return previously set values if there would be application
which will call it.

Pavel Semerad

--- ./dlls/dinput/joystick_linux.c.pov  2006-03-15 15:50:31.000000000 +0100
+++ ./dlls/dinput/joystick_linux.c      2006-03-28 16:06:01.000000000 +0200
             if (ph->dwHow == DIPH_DEVICE) {
                 TRACE(proprange(%ld%ld) all\npr->lMinpr->lMax)
                 for (i = 0 i user_df->dwNumObjs i++) {
+                    if (i >= 8 
                     This->props[i].lMin = pr->lMin
                     This->props[i].lMax = pr->lMax
                 }
@@ -11566 +11577 @@ static HRESULT WINAPI JoystickAImpl_SetP
                 int obj = find_property(This ph)
                 TRACE(proprange(%ld%ld) obj=%d\npr->lMinpr->lMaxobj)
                 if (obj >= 0) {
+                    if (obj >= 8 
                     This->props[obj].lMin = pr->lMin
                     This->props[obj].lMax = pr->lMax
                     return DI_OK",509,"1"
"WINE-6608","Dawn Of War Installer Fails","The Dawn of War installer (for the full game) fails to install. It stalls when
the progress bar for installing appears. When it starts copying files it will hang.",9,"0"
"WINE-3502","Foobar2000 DirectSound output causes terrible background noise","When switching the audio output from wavemixer to DirectSound in foobar the
audio gets lot more background noise.",313,"1"
"WINE-8930","Test Drive: Unlimited Installer doesnt finish","The Installer is close to finish. It seems that it extracts the cab files
properly but fails later when trying to copy the data from the folders.

Get following message from the Installer:
Please input the Disc: 1

And in the Console:
err:msi:MSI_ViewFetch Error fetching data for 1

This is a single DVD install.",141,"0"
"WINE-3529","ebay TurboLister installer fails with MSI crash","If needed add the following key to system.reg to bypass IE installation check:
[Software\\Microsoft\\Internet Explorer]
Version=6.0.2900.2180

wget http://download.ebay.com/turbo_lister/setupUS.exe
wine setupUS.exe

Installer fails with a crash:

trace:msi:msiobj_release object 0x7f26ce10 destroyed
wine: Unhandled exception (thread 003c) starting debugger...
trace:process:CreateProcessW app (null) cmdline Lwinedbg --auto 10 592
trace:process:find_exe_file looking for Lwinedbg
trace:process:find_exe_file Trying built-in exe
Lc:\\windows\\system32\\winedbg.exe
trace:process:CreateProcessW starting Lc:\\windows\\system32\\winedbg.exe as
Winelib app
WineDbg starting on pid 0xa
Unhandled exception: page fault on read access to 0x0000001c in 32-bit code
(0x7da25636).
In 32 bit mode.
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:003b GS:0033
 EIP:7da25636 ESP:7df0d658 EBP:7df0eb24 EFLAGS:00010206(   - 00      - RIP1)
 EAX:7bd670a0 EBX:00000000 ECX:00000014 EDX:7bc70024
 ESI:7da34d10 EDI:7d4f03a0
Stack dump:
0x7df0d658:  7bd670a0 7da37b48 7da23baf 7da34d10
0x7df0d668:  00000000 7df0eb24 7bbcf48c 00000001
0x7df0d678:  7da239aa 7da37b48 7da234fe 00000001
0x7df0d688:  7b37e9a0 31327645 30333333 36383732
0x7df0d698:  00000000 00000000 00000000 00000000
0x7df0d6a8:  00000000 00000000 00000000 00000000
Backtrace:
=>1 0x7da25636 in msi89ca.tmp (+0x5636) (0x7df0eb24)
  2 0x7b34740f DllThread+0x2b3(info=0x7f276980)
[/home/dank/wine/dlls/msi/custom.c:436] in msi (0x7df0eb50)
  3 0x7bbe639f THREAD_Start+0xf3(ptr=0x7f278060)
[/home/dank/wine/dlls/kernel/thread.c:104] in kernel32 (0x7df0ec1c)
  4 0x7bedc374 start_thread+0x15c(info=0x7f278078)
[/home/dank/wine/dlls/ntdll/thread.c:231] in ntdll (0x7df0f458)
  5 0x00deb1d5 start_thread+0x85 in libpthread.so.0 (0x7df0f4cc)
  6 0x00c4d2da __clone+0x5a in libc.so.6 (0x00000000)
0x7da25636: call        *0x8(%ecx)
fixme:winedbg:be_i386_is_func_call Unsupported yet call insn (0x10) at 0x7da25636",96,"0"
"WINE-30384","Add support for network connectivity checks using Network List Manager (NLM) API (Vista+)","Hello

feature bug (for now).
There are applications that make use of Network List Manager (NLM) introduced with Windows Vista/Windows 7 to check for network connectivity.
A symptom are messages like this in terminal:

--- snip ---
err:ole:CoGetClassObject class {dcb00c01-570f-4a9b-8d69-199fdba5723b} not registered
...
err:ole:create_server class {dcb00c01-570f-4a9b-8d69-199fdba5723b} not registered
fixme:ole:CoGetClassObject CLSCTX_REMOTE_SERVER not supported
err:ole:CoGetClassObject no class object {dcb00c01-570f-4a9b-8d69-199fdba5723b} could be created for context 0x17
--- snip ---

MSDN overview: http://msdn.microsoft.com/en-us/library/ee264321%28v=vs.85%29.aspx

Network List Manager: http://msdn.microsoft.com/en-us/library/aa370803%28v=vs.85%29.aspx

Example applications: newer EA Download Manager versions some EA Games (Battlefield 3 FIFA12) Windows Live Essentials 2011

It seems plausible that they use an API that ought to be available on this platform.
Failure doesn't seem critical they use other means to detect network state.
Though I didn't test all of them.

This bug can serve as collector for apps that spam terminal with {dcb00c01-570f-4a9b-8d69-199fdba5723b} (CLSID_NetworkListManager) messages.
Maybe there will be one where this missing functionality is actually breaking the app.

Regards",738,"1"
"WINE-10874","Jumpstart  Mystery Club vol.1 fails to start","Created attachment 9773
crash output when ALT+TABing away from atDesktop window

The application installs fine but does not start properly.

Attempting to start the application results in a screen resize (expected) and a new window entitled atDesktop at this point the application appears to be completely hung.

Switching to another window via ALT+TAB results in a page fault (trace attached).  Then two more windows are created both entitled Signin 2002 but none of the windows have any display and can not be closed.

At this point a wineserver -k appears to be needed.",305,"1"
"WINE-19648","Lotus Organizer 97 - No text on tabs","Created attachment 22933
Screenshot

The text on the tabs of the organizer on Organizer 97 does not appear.

winetricks allfonts makes no difference not sure what else to try.
No console output.

The attached screenshot with associated scribble shows where the text should be.",2141,"1"
"WINE-24921","mail.ru agent 5.7: X Error of failed request:  BadAlloc","Created attachment 31555
WINEDEBUG=+win+event+x11drv

run mail.ru agent version 5.7  error BadAlloc",407,"1"
"WINE-38980","World of Warships/Planes/Tanks client in torrent download mode crashes spuriously on high bandwidth load (i/o completion ports)","Hello folks

while checking out some 'World of Warships/Planes/Tanks' issues I've seen this turn off torrent downloader to avoid crash note multiple times in WineHQ appdb entries and also on various Internet sites.

Although this workaround solves the actual client download/updater problem it seems no one bothered to report this here for some years?

I could reproduce crashes with all 'World of WarXXX' clients using the torrent download mode.
The crash is caught before any registered JIT debugger ('AeDebug') as the client installs a top level exception filter.
Upon failure it simply displays a message box with the option to restart the download client.

Client log file:

--- snip ---
...
26/07/2015 19:46:31  		Loading localized resources...
26/07/2015 19:46:32  		Loading configuration...
26/07/2015 19:46:32  		Setup language: content_lang=en 
26/07/2015 19:46:32  		Start WoWSLauncher.exe params=C:\Games\World_of_Warships\WoWSLauncher.exe
26/07/2015 19:46:32  		Session id=a01bae86c620733b0ed98078ba6a9bbff72bfd12
26/07/2015 19:46:32  		Info for WoWSLauncher.exe: Version: 0.3.13.242 Comment: Built: 20150622 142954 Revision: #586733 (stable_3.13.3)
26/07/2015 19:46:32  		Create update folder: path=C:\Games\World_of_Warships\Updates
26/07/2015 19:46:32  		Try access patch folder: path=C:\Games\World_of_Warships\Updates
26/07/2015 19:46:32  		Create temp folder: path=C:\Games\World_of_Warships\UpdatesData\temp
26/07/2015 19:46:32  		Try access temp folder: path=C:\Games\World_of_Warships\UpdatesData\temp
26/07/2015 19:46:32  		Save configuration: path=C:\Games\World_of_Warships\WoWSLauncher.cfg
26/07/2015 19:46:33  		Start update process
26/07/2015 19:46:33  		Clear old/temp files
26/07/2015 19:46:33  		Obtain patch information. target: launcher...
26/07/2015 19:46:33  		Create update work folder: path=C:\Games\World_of_Warships\UpdatesData\launcher\
26/07/2015 19:46:33  		Try access patch work folder: path=C:\Games\World_of_Warships\UpdatesData\launcher\
26/07/2015 19:46:33  		System update. Cleaning up system update folder.
26/07/2015 19:46:33  		send http request. url: http://update.worldofwarships.eu?target=launcher&client_ver=unknown&launcher_ver=040.000242&protocol_ver=3&install_id=a01bae86c620733b0ed98078ba6a9bbff72bfd12&lang=en
26/07/2015 19:46:33  		http request complete.
26/07/2015 19:46:33  		target is up to date
26/07/2015 19:46:33  		Update complete: target=launcher
26/07/2015 19:46:33  		Obtain patch information. target: client...
26/07/2015 19:46:33  		Create update work folder: path=C:\Games\World_of_Warships\UpdatesData\client\
26/07/2015 19:46:33  		Try access patch work folder: path=C:\Games\World_of_Warships\UpdatesData\client\
26/07/2015 19:46:33  		patch is available. version_from: 0.unknown version_to: 40.105823
26/07/2015 19:46:33  		patch file. name: wows_40.103115_client.patch size: 3105783438
26/07/2015 19:46:33  		patch file. name: wows_40.103116_40.103115_client.patch size: 1487947994
26/07/2015 19:46:33  		patch file. name: wows_40.103886_40.103116_client.patch size: 37739650
26/07/2015 19:46:33  		patch file. name: wows_40.103887_40.103886_client.patch size: 2224
26/07/2015 19:46:33  		patch file. name: wows_40.105234_40.103887_client.patch size: 33520274
26/07/2015 19:46:33  		patch file. name: wows_40.105823_40.105234_client.patch size: 230571882
26/07/2015 19:46:33  		send http request. url: http://update.worldofwarships.eu?target=client&client_ver=unknown&launcher_ver=040.000242&protocol_ver=3&install_id=a01bae86c620733b0ed98078ba6a9bbff72bfd12
26/07/2015 19:46:34  		http request complete.
26/07/2015 19:46:34  		patch is available. version_from: 0.unknown version_to: 40.105823
26/07/2015 19:46:34  		patch file. name: wows_40.103115_client.patch size: 3105783438
26/07/2015 19:46:34  		patch file. name: wows_40.103116_40.103115_client.patch size: 1487947994
26/07/2015 19:46:34  		patch file. name: wows_40.103886_40.103116_client.patch size: 37739650
26/07/2015 19:46:34  		patch file. name: wows_40.103887_40.103886_client.patch size: 2224
26/07/2015 19:46:34  		patch file. name: wows_40.105234_40.103887_client.patch size: 33520274
26/07/2015 19:46:34  		patch file. name: wows_40.105823_40.105234_client.patch size: 230571882
26/07/2015 19:46:34  		Getting torrent files via http...
26/07/2015 19:46:34  		send http request(attempt: 1). url: http://wg.gcdn.co/wows_a/eu/patches/4.0_QRWpTV0q/wows_40.103115_client.patch.torrent
26/07/2015 19:46:34  		http request complete.
26/07/2015 19:46:34  		torrent file created. name: wows_40.103115_client.patch.torrent
26/07/2015 19:46:34  		send http request(attempt: 1). url: http://wg.gcdn.co/wows_a/eu/patches/4.0_QRWpTV0q/wows_40.103116_40.103115_client.patch.torrent
26/07/2015 19:46:34  		http request complete.
26/07/2015 19:46:34  		torrent file created. name: wows_40.103116_40.103115_client.patch.torrent
26/07/2015 19:46:34  		Getting patch files via ptp...
26/07/2015 19:46:34  		Initializing P2P session extensions=true
26/07/2015 19:47:55  ERROR:	Unexpected exception: code=EXCEPTION_ACCESS_VIOLATION flags=0 addr=0
26/07/2015 19:48:06  		restart launcher: cmd=-restart 
--- snip ---

The client makes extensive use of I/O Completion Ports (IOCP) with a considerable number of worker threads (thread pool) for servicing them.

Although the crash occurs kind of randomly the crash site seems not.

--- snip ---
...
00556EAB  8B4D 00         MOV ECXDWORD PTR SS:[EBP]
00556EAE  F7D9            NEG ECX
00556EB0  1BC9            SBB ECXECX
00556EB2  F7C1 70E64100   TEST ECX41E670
00556EB8  0F84 9C000000   JE WoWSLaun.00556F5A
00556EBE  8D5424 34       LEA EDXDWORD PTR SS:[ESP+34]
00556EC2  52              PUSH EDX
00556EC3  8D8E 4C020000   LEA ECXDWORD PTR DS:[ESI+24C]
00556EC9  E8 92C5F4FF     CALL WoWSLaun.?address@endpoint@detail@ip@asio@boost@@QB
00556ECE  837C24 34 01    CMP DWORD PTR SS:[ESP+34]1
00556ED3  0F94C0          SETE AL
00556ED6  0FB6C8          MOVZX ECXAL
00556ED9  51              PUSH ECX
00556EDA  57              PUSH EDI
00556EDB  8D4E 48         LEA ECXDWORD PTR DS:[ESI+48]
00556EDE  E8 6DBCFFFF     CALL WoWSLaun.00552B50
00556EE3  8B16            MOV EDXDWORD PTR DS:[ESI]
00556EE5  8B42 70         MOV EAXDWORD PTR DS:[EDX+70]
00556EE8  57              PUSH EDI
00556EE9  55              PUSH EBP
00556EEA  8BCE            MOV ECXESI
00556EEC  FFD0            CALL EAX              NULL -> *boom*
00556EEE  8B16            MOV EDXDWORD PTR DS:[ESI]
00556EF0  8B42 1C         MOV EAXDWORD PTR DS:[EDX+1C]
00556EF3  6A 00           PUSH 0
00556EF5  55              PUSH EBP
00556EF6  8BCE            MOV ECXESI
00556EF8  FFD0            CALL EAX
00556EFA  8A86 B4030000   MOV ALBYTE PTR DS:[ESI+3B4]
...
--- snip ---

I partially reconstructed the call chain for the crash site:

--- snip ---

...

...
WoWSLaun.private: unsigned int __thiscall boost::asio::detail::win_iocp_io_service::do_one(BOOLclass boost::system::error_code &)
...
WoWSLaun.public: unsigned int __thiscall boost::asio::detail::win_iocp_io_service::run(class boost::system::error_code &)
..
WoWSLaun.public: unsigned int __thiscall boost::asio::io_service::run(class boost::system::error_code &)
...
WoWSLaun.unsigned int __stdcall boost::asio::detail::win_thread_function(void *)
--- snip ---

I found some hints in the launcher about the Boost library version used:

--- snip ---
e:\work\5c6ecc6fb8b7976a\libraries\boost_1_54_0\boost/exception/detail/exception_ptr.hpp class boost::exception_ptr __cdecl boost::exception_detail::get_static_exception_object(void)   -   e:\work\5c6ecc6fb8b7976a\libraries\boost_1_54_0\boost/exception/detail/exception_ptr.hpp
...
--- snip ---

Which leads to:

http://www.boost.org/doc/libs/1_54_0/boost/asio/detail/impl/win_iocp_io_service.ipp

There is a number of internal calls in between the crash site and Boost IOCP code ('op->complete()' -> 'win_iocp_operation' + function pointer call hierarchy).

Debugging/relay tracing a problem which seems to occur at random times in a multi-Gigabyte download also requiring high download speeds is not really funny :|

Anyway it's now documented here for reference.

It would be interesting to know if this torrent download problem occurs on Windows too albeit much less frequent.
Reading up some forums I got the impression...

$ sha1sum WoWS_internet_install_eu.exe
e9d3fcc8d4d8a2a88678fa75840d4e76a71b7977  WoWS_internet_install_eu.exe

$ du -sh WoWS_internet_install_eu.exe
6.7M	WoWS_internet_install_eu.exe

$ wine --version
wine-1.7.47-196-g4e6e9a1

Regards",659,"1"
"WINE-25865","EVE Online crashes if a character portrait requests fails","Created attachment 32965
EVE's log server output showing the failure

EVE Online crashes somewhere between 30 seconds and 30 minutes of gameplay.

This crash happens when a character portrait image request fails. 

It can be reproduced instantly on login by overriding the image server dns so it always fails:
echo 127.0.0.1       images.cdn1.eveonline.com >> /etc/hosts

I tried this on my Windows Vista laptop and when I did the same hosts file thing the game played normally with all character portraits being replaced by the default.",21,"0"
"WINE-5558","Dungeon Keeper 2 1.7 fails to run since 0.9.16","The game fails to start any way I try it in wine 0.9.16.
At startup the game opens a window or tries to change my monitor to fullscreen
then just exits with some messages.
Attached are outputs of two ways that I tried running dk2 under 0.9.16 as well
as a log output of the game running (successfully) under 0.9.15.",318,"1"
"WINE-11552","Adobe Photoshop CS2 Open File Dialog looks different from windows","The File Open dialog (CTRL-O) looks weird. I have Screenshots of the dialog from both Linux and Windows to make this evident:


http://download.erasmix.net/CS2-WINE/Screenshot-7-1.png (Linux)
http://download.erasmix.net/CS2-WINE/Screenshot-7-2.png (Windows)",123,"0"
"WINE-33262","Torchlight 2 does not start with builtin msvcr90","Torchlight 2 shows the error message An error has occured on startup. Settings where unable to save. It is recommended that you restart Torchlight. Attempted to save settings at C:\users\$user\Meine Dokumente\My Games\Runic Games\Torchlight 2\ Windows Error: No such file or directory on startup. I have checked that the directory exists and is accessible.

A git bisect reveals:

5d88f780dd4bbbde0ff27075b58321d7347f6d4b is the first bad commit
commit 5d88f780dd4bbbde0ff27075b58321d7347f6d4b
Author: Piotr Caban 
Date:   Mon Feb 18 10:26:01 2013 +0100

    msvcr90: Prefer builtin version.

:040000 040000 09577625ae5788cd73d4a3cd6c5c6f82ea7d9807 aef32f8a1984759761461627f3e53a1e9d81204c M      dlls

A debug trace for +msvcrt can be found here:

http://dl.dropbox.com/u/898079/msvcrt_trace.log

Setting msvcr90 to native in winecfg helps work around this problem.",2,"0"
"WINE-11799","ArcRail demo says No direct 3d switching to sw rasterizer forever","The game installs ok but when you start it
it complains over and over No direct 3d switching to sw rasterizer
and can't be played.",1337,"1"
"WINE-22501","Bioshock won't run without native msvcp80.dll","Workaround is winetricks vcrun2005

This is not easy to fix but we should have a bug for it nonetheless
even if we mark it WONTFIX.",370,"1"
"WINE-12319","Can't connect to Battle.net in Starcraft anymore","Created attachment 11778
After attempting to login to Battle.net

While Starcraft's Battle.net interface in Wine is slightly less than perfect (see bug 2467 and bug 2082 for example) it has still been usable and once you actually get in game things are flawless. Quite recently that changed in that it's no longer possible to connect to Battle.net. Now when attempting to connect to Battle.net after entering one's account information the attached screen is displayed claiming that Battle.net is not responding. Dismissing this dialog brings one back to the multiplayer menu (in typical Blizzard fashion rapid repeated attempts to reconnect will simply fail silently sending one directly back to the multiplayer menu again). This is not an intermittent error as the error message might suggest.

A git bisect reveals the following:

41ea8f0e8a6fab93fa08da16ecc24260dbad327c is first bad commit
commit 41ea8f0e8a6fab93fa08da16ecc24260dbad327c
Author: Lei Zhang 
Date:   Tue Mar 25 19:09:38 2008 -0700

    user32: Tweak how the edit control handles WM_GETDLGCODE.

:040000 040000 5583dc91d4f658340fcab6169c5be12b18c5d862 114715be44f79ddf45a9c61a01b90ee624504c1a M      dlls",2,"0"
"WINE-12314","Photoshop CS2 tab doesn't really really hide windows","According to a private email from e.jaeger
sometimes pressing tab key for hiding floating panels and toolboxes and 
press tab key again for showing them didn't work. As i discovered they 
will be shown but outside the desktop on bottom left (they get visible 
when i moving my gnome panel into another place)",165,"0"
"WINE-21844","Homeworld 2: no sound","Created attachment 26443
ALSA / PCM Sound Volume error

When running Homeworld 2 with Complex Mod 7.4.4 from terminal using this command:
env WINEPREFIX=/home/linards/.PlayOnLinux/wineprefix/HW2 wine C:\Program Files\Sierra\Homeworld2\Bin\Release\Homeworld2.exe -mod Complex744.big -hardwarecursor

Sound is not working and game is not launched.

If the shortcut in desktop is clicked these errors are ignored and game is launched properly ( without sound ).",108,"0"
"WINE-7929","C&C 3 network does not work","When I enter the network lobby on two computers they are not able to see each 
other nor able to see each others' hosted games.

There are no apparent error messages on the console but enabling a winsock 
trace shows errors about reasources being temporarily unavailable.",2020,"1"
"WINE-42825","Propellerhead Reason 5 drawn mostly in black and white","Created attachment 57899
Screenshot of a fresh installation of Reason 5

Propellerhead Reason 5 running on Wine versions after 2.1 draws its custom UI elements in black and white sometimes with dithering. Standard UI elements (such as scrollbars buttons and menus) are drawn correctly.

A few other possibly related rendering issues exist such as parts of the UI being drawn in the wrong place. These are not as easily reproducible.

I did a bisection and the issues seem to have begun with commit 35ae7c8f5939c0ba77b4023a14596706852f5acd.

Tested on a fresh 64bit wineprefix and later bisected on a mostly fresh 64bit wineprefix.",5,"0"
"WINE-25851","ZaraRadio 1.6.x crashes on startup","Created attachment 32939
Zararadio error

Software Zararadio doesn't start up. But it was working very well on Ubuntu 9.04.
On 9.10 10.10 have this error all the time.

Could you check and give a solution! Thanks",1496,"1"
"WINEHQ_BUGZILLA-6530","enter bug should mention attachments are possible after bug creation","The enter bug page should mention that attaching a file is possible after
creation of the report otherwise people paste much stuff in the text area.",140,"0"
"WINE-15841","Counter-Strike: Source (Steam) crashes when joining game","Created attachment 16972
Counterstrike Source Crash Log/Backtrace

Counterstrike crashes whenever I join a game on a server. It causes a fault when dealing with the sound driver. The log is attached.",2014,"1"
"WINE-44953","Adobe Premiere Elements 14 (trial) crashes inside winmm.dll","Created attachment 61059
backtrace

As the title says.

This is after working around bug 44944 for the installer.",22,"0"
"WINE-7062","EVE Online crashes while creating a new character","EVE Online crashes in the new character creation when you switch from the
appearance to the name choosing part.",8,"0"
"WINE-42194","Magic: The Gathering Online 4.0 fails to connect to login server","Created attachment 56827
-all +winsock

app tries to set IPV6_V6ONLY on v4 socket",1,"0"
"WINE-20654","Memory leak in RtlGetFullPathName_U (found by chromium unit_tests)","chromium leaks in unit_tests.exe's FileUtilTest.GetTempDirTest
(and others):

520 bytes in 1 blocks are definitely lost in loss record 933 of 1151 
   at notify_alloc (heap.c:214)
   by RtlAllocateHeap (heap.c:1421)
   by get_full_path_helper (path.c:643)
   by RtlGetFullPathName_U (path.c:798)
   by GetFullPathNameW (path.c:242)
   by GetTempPathW (path.c:598)
   by file_util::GetTempDir (file_util_win.cc:427)
   by `anonymous namespace'::FileUtilTest_GetTempDirTest_Test::TestBody (file_util_unittest.cc:1047)

A patch was sent on 9 Nov http://source.winehq.org/patches/data/55056 
but was rejected (it *was* kind of ugly).

This also affects a number of other Win32 api functions not just GetTempPath.",59,"0"
"WINE-31747","Colobot demo crashes when changing rendering settings","Created attachment 41747
terminal output

The game crashes when I change any of the available settings (screen resolution graphical driver full-screen/windowed mode) on the Options -> Device screen.
The game displays the following error message before crashing:
A DDraw object has a non-zero reference 
count (meaning it was not properly cleaned up).
COLOBOT will now exit.

Steps to reproduce the problem:
1. Install then start the demo with colobot.exe
2. Create a new player and go to  in the main menu
3. Select the  page and remove the checkmark from the 'Full screen' checkbox. Click on ...the game crashes at this point. Changing anything on this page results in the same crash.

According to my testing the problem appeared in Wine 1.4-rc1 and is still present in wine-1.5.13-144-ge3a2e3a.
The result of the regression test:

992dbc10786b79959d8b0a790974f6630aa81e3b is the first bad commit
commit 992dbc10786b79959d8b0a790974f6630aa81e3b
Author: Henri Verbeet 
Date:   Tue Jan 17 21:13:35 2012 +0100

    ddraw: Maintain D3D state across cooperative level changes.

:040000 040000 9b0a142ccad4726276441d6b1f07d1576b0a9f5d 1cdfa767f8258ffb112b4441d09b0d602f8db3a0 M	dlls

Fedora 17 x86
X.Org X Server 1.12.3
Nvidia 250 / driver 304.37",11,"0"
"WINE-4703","Orcad capture hangs when copying/pasting","Orcad 9.2.2 Capture (the schematics capture program) hangs when I copy to the
clipboard any text from other windows apps running with wine such as Layout

The program just dissapears no trace of any wineserver still running with this
debugging output:
fixme:win:LockWindowUpdate (0x40066) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
X Error of failed request:  BadAtom (invalid Atom parameter)
  Major opcode of failed request:  17 (X_GetAtomName)
  Atom id in failed request:  0x0
  Serial number of failed request:  2971
  Current serial number in output stream:  2973



Wine failed with return code 1",147,"0"
"WINE-7283","Max Payne 2 doorways look like they lead to infinity/nowhere","This is best seen in the intro just before you get control as it's going through
the corridors most of the doorways showing some weird view into infinity
effect. This is also true for some of the doors in the game too especially the
first through you have to go through.",51,"0"
"WINE-8696","QIP: bottom window buttons are not present","QIP gives warning message on startup and buttons at the bottom of the main
window are not created. wine output is attached.",14,"0"
"WINE-28567","gdiplus/image.ok crashes on win64","This was found by the buildbot before commit but I only notified Vincent 
and not wine-devel so it's in trunk now.

Offending commit is http://source.winehq.org/git/wine.git/commit/5f946531593a0f934cccc22eb1f67f27d268501e

Unhandled exception: page fault on write access to 0xffffffff002302f8 in 64-bit code (0x00002b942145592a).
Backtrace:
=>0 0x00002b942145592a setpixel_32bppPARGB+0xd0(r='h' g='h' b='h' a=-1 row=*** invalid address 0xffffffff002302f8 *** x=0) [/home/bob/wineslave.dir/sandbox/slave/runtests-default-x86_64/build/dlls/gdiplus/image.c:403] in gdiplus (0x000000000022f340)
 1 0x00002b942145a244 convert_pixels+0x40c3(width=0xa height=0x14 dst_stride=0xffffffd8 dst_bits=*** invalid address 0xffffffff002302f8 *** dst_format=0xe200b src_stride=0x20 src_bits=hh...hh src_format=0x21808 src_palette=0x0(nil)) [/home/bob/wineslave.dir/sandbox/slave/runtests-default-x86_64/build/dlls/gdiplus/image.c:737] in gdiplus (0x000000000022f470)
...",1,"0"
"WINEHQ.ORG-3000","Stylesheets reference font-family: fixed should be monospace","Various stylesheets on the winehq.org site reference font-family:fixed. This
should be changed to monospace. 

Monospace is the name for a generic fixed-width font. Fixed while a valid name
actually refers to a specific font on someone's computer just like arial or
helvetica does--and at least on my computer it's a very ugly font. 

There are four styleseets I could find with this problem:
http://winehq.org/winehq_styles.css     (line 23)
http://appdb.winehq.org/apidb.css       (line 26)
http://appdb.winehq.org/application.css (line 9)
http://bugs.winehq.org/css/bugzilla.css (line 26)",151,"0"
"WINE-35933","Evolve Client 1.8.3 (.NET 4.0 app) 'AppsMgr' fails to install downloaded applications/updates after login (support for RPC FC_CALLBACK_HANDLE needed)","Hello folks

the client complains about a failed application installation after successful login.

'EvolveClient.log'

--- snip ---
2014-Apr-05 22:02:48.928060 - System: Microsoft Windows NT 5.1.2600 Service Pack 3
2014-Apr-05 22:02:49.097006 - Running version 1.8.3.
2014-Apr-05 22:02:49.119076 - Running against production backend.
2014-Apr-05 22:03:54.418803 - Testing connection to service...
2014-Apr-05 22:03:54.481578 - StartEvolveService: Attempting to start service: EvoSvc.
2014-Apr-05 22:03:55.090511 - StartEvolveService: Service EvoSvc started.
2014-Apr-05 22:03:55.097808 - Successfully verified connection to service.
2014-Apr-05 22:03:55.232754 - Successfully started crash watchdog.
2014-Apr-05 22:03:55.239605 - Client is running with admin privileges.
2014-Apr-05 22:03:55.246057 - Initializing overlay handler...
2014-Apr-05 22:03:55.271030 - Refreshing games database...
2014-Apr-05 22:03:55.280249 - Could not load games database (0x00000001).
2014-Apr-05 22:03:55.282433 - Desktop resolution is set to [1920 1080]
2014-Apr-05 22:03:55.298575 - Starting game tracker...
2014-Apr-05 22:03:55.299851 - Successfully initialized 32-bit game tracker.
2014-Apr-05 22:03:55.437150 - Successfully initialized overlay handler.
2014-Apr-05 22:05:28.095030 - Logging in as 'winetester2k14'...
2014-Apr-05 22:05:35.526418 - AppsMgr: Downloading application 9 (https://update-cdn.evolvehq.com/apps/9/none-to-1.4.1-noarch.7z) to C:\users\focht\Temp\tmpc419.tmp...
2014-Apr-05 22:05:36.919298 - Successfully downloaded https://update-cdn.evolvehq.com/apps/9/none-to-1.4.1-noarch.7z...
2014-Apr-05 22:05:36.950796 - AppsMgr: Download of application 9 succeeded. Installing...
2014-Apr-05 22:05:36.986576 - AppsMgr: Caught exception while installing application 9: [EvoSvcClientClrThunk.RpcExceptionClr: Exception of type 'EvoSvcClientClrThunk.RpcExceptionClr' was thrown.]
--- snip ---

The client communicates via RPC to the server/service and fails at some point.
Tid 0x51 is the client RPC thread which propagates the failure (exception) to the gui thread 0x2b.

--- snip ---
...
002b:Call KERNEL32.WideCharToMultiByte(0000fde90000000005badaa0 LAppsMgr: Download of application 9 succeeded. Installing...0000003b05bada080000003b0000000000000000) ret=1001f8a9 
...
0051:Call KERNEL32.WideCharToMultiByte(0000fde90000000005badcd8 LC:\\users\\focht\\Temp\\tmpc419.tmp0000001f05badd200000001f0000000000000000) ret=1001f8a9 
...
002b:Call KERNEL32.ReleaseSemaphore(0000041c000000010033e45c) ret=792c5715
002b:Ret  KERNEL32.ReleaseSemaphore() retval=00000001 ret=792c5715
0051:Ret  KERNEL32.WaitForSingleObjectEx() retval=00000000 ret=792c5693
...
0051:Call KERNEL32.CreateEventW(00000000000000010000000100000000) ret=791d4d39
0051:Ret  KERNEL32.CreateEventW() retval=00000600 ret=791d4d39
0051:Call KERNEL32.CreateThread(00000000000fc000791f59c00c4a2b50000000040aa8e0f4) ret=7920a8ff 
0051:Ret  KERNEL32.CreateThread() retval=00000608 ret=7920a8ff 
0051:Call KERNEL32.ResumeThread(00000608) ret=7920a7ea
0051:Ret  KERNEL32.ResumeThread() retval=00000001 ret=7920a7ea
...
0058:Call PE DLL (proc=0x79002e54module=0x79000000 Lmscoree.dllreason=THREAD_ATTACHres=(nil)) 
...
0051:Call rpcrt4.RpcBindingFromStringBindingW(0c489cb0 Lncalrpc:[Evolve]05bada08) ret=10120fb9 
0051:Ret  rpcrt4.RpcBindingFromStringBindingW() retval=00000000 ret=10120fb9 
0051:Call rpcrt4.RpcBindingSetAuthInfoW(0c49832000000000000000060000000a0000000000000000) ret=10120fe1 
0051:Call secur32.AcquireCredentialsHandleW(000000000c4a128a LNTLM00000002000000000000000000000000000000000aa8dff80aa8dff0) ret=7e86f475 
0051:Ret  secur32.AcquireCredentialsHandleW() retval=00000000 ret=7e86f475 
0051:Ret  rpcrt4.RpcBindingSetAuthInfoW() retval=00000000 ret=10120fe1 
...
0051:Call KERNEL32.WideCharToMultiByte(0000fde9000000000aa8e0f8 L1.4.10000000505badcd8000000050000000000000000) ret=1001f8a9 
...
0051:Call KERNEL32.WideCharToMultiByte(0000fde90000000005badcd8 Levolve-core0000000b00000000000000000000000000000000) ret=1001f859 
...
0051:Call KERNEL32.WideCharToMultiByte(0000fde90000000005badcd8 LC:\\users\\focht\\Temp\\tmpc419.tmp0000001f00000000000000000000000000000000) ret=1001f859 
...
0051:Call KERNEL32.CreateFileA(00189f38 \\\\.\\pipe\\lrpc\\Evolvec00000000000000000000000000000030000000000000000) ret=7e87c316 
0051:Ret  KERNEL32.CreateFileA() retval=ffffffff ret=7e87c316
...
0051:Call KERNEL32.WaitNamedPipeA(00189f38 \\\\.\\pipe\\lrpc\\Evolveffffffff) ret=7e87c3ed 
0051:Ret  KERNEL32.WaitNamedPipeA() retval=00000000 ret=7e87c3ed 
...
0051:Call KERNEL32.RaiseException(000006ba000000000000000000000000) ret=7e885d1a
0051:trace:seh:raise_exception code=6ba flags=0 addr=0x7b83ac17 ip=7b83ac17 tid=0051
0051:trace:seh:raise_exception  eax=7b826c7d ebx=7b8bb000 ecx=0aa8d820 edx=7b83ab88 esi=0aa8d870 edi=0aa8d830
0051:trace:seh:raise_exception  ebp=0aa8d808 esp=0aa8d7a4 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000246
0051:trace:seh:call_vectored_handlers calling handler at 0x791f5a7c code=6ba flags=0
...
0051:Call KERNEL32.RaiseException(e06d736300000001000000030aa8c818) ret=78ac872d
0051:trace:seh:raise_exception code=e06d7363 flags=1 addr=0x7b83ac17 ip=7b83ac17 tid=0051
0051:trace:seh:raise_exception  info[0]=19930520
0051:trace:seh:raise_exception  info[1]=0aa8e0d0
0051:trace:seh:raise_exception  info[2]=108bff3c
0051:trace:seh:raise_exception  eax=7b826c7d ebx=7b8bb000 ecx=19930520 edx=0aa8c764 esi=0aa8c804 edi=0aa8c7d0
0051:trace:seh:raise_exception  ebp=0aa8c7a8 esp=0aa8c744 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000283
0051:trace:seh:call_vectored_handlers calling handler at 0x791f5a7c code=e06d7363 flags=1
...
0051:Call KERNEL32.RaiseException(e043435200000001000000050aa8b704) ret=791cac08
0051:trace:seh:raise_exception code=e0434352 flags=1 addr=0x7b83ac17 ip=7b83ac17 tid=0051
0051:trace:seh:raise_exception  info[0]=80131500
0051:trace:seh:raise_exception  info[1]=00000000
0051:trace:seh:raise_exception  info[2]=00000000
0051:trace:seh:raise_exception  info[3]=00000000
0051:trace:seh:raise_exception  info[4]=79140000
0051:trace:seh:raise_exception  eax=7b826c7d ebx=7b8bb000 ecx=80131500 edx=0aa8b614 esi=0aa8b6c0 edi=0aa8b680
0051:trace:seh:raise_exception  ebp=0aa8b658 esp=0aa8b5f4 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000283
0051:trace:seh:call_vectored_handlers calling handler at 0x791f5a7c code=e0434352 flags=1
...
0051:Call KERNEL32.MultiByteToWideChar(0000fde9000000000aa8c49c AppDomainUnloadedException0000001b0000000000000000) ret=79216b79 
...
0051:Call user32.PostMessageW(000100660000c0420000000000000000) ret=04c92ccf
002b:Ret  winex11.drv.MsgWaitForMultipleObjectsEx() retval=00000000 ret=7ec6d037
0051:Ret  user32.PostMessageW() retval=00000001 ret=04c92ccf 
...
002b:Call window proc 0xc706a2 (hwnd=0x10066msg=DispatcherProcessQueuewp=00000000lp=00000000) 
...
002b:Call KERNEL32.RaiseException(e043435200000001000000050033e530) ret=791cac08
002b:trace:seh:raise_exception code=e0434352 flags=1 addr=0x7b83ac17 ip=7b83ac17 tid=002b
002b:trace:seh:raise_exception  info[0]=80131500
002b:trace:seh:raise_exception  info[1]=00000000
002b:trace:seh:raise_exception  info[2]=00000000
002b:trace:seh:raise_exception  info[3]=00000000
002b:trace:seh:raise_exception  info[4]=79140000
002b:trace:seh:raise_exception  eax=7b826c7d ebx=7b8bb000 ecx=80131500 edx=0033e444 esi=0033e4ec edi=0033e4b0
002b:trace:seh:raise_exception  ebp=0033e488 esp=0033e424 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000283
002b:trace:seh:call_vectored_handlers calling handler at 0x791f5a7c code=e0434352 flags=1 
...
002b:Call KERNEL32.WideCharToMultiByte(0000fde90000000005badcd8 LAppsMgr: Caught exception while installing application 9: [EvoSvcClientClrThunk.RpcExceptionClr: Exception of type 'EvoSvcClientClrThunk.RpcExceptionClr' was thrown.]000000a605bade30000000a60000000000000000) ret=1001f8a9 
--- snip ---

Using a managed .NET debugger I got this (the order of exceptions match the trace log):

--- snip ---
(29.52): Unknown exception - code 000006ba (first chance)
(29.52): C++ EH exception - code e06d7363 (first chance)
(29.52): CLR exception - code e0434352 (first chance)
...
OS Thread Id: 0x52 (24)
Child SP IP       Call Site
0aa9b830 7b83ac17 [HelperMethodFrame: 0aa9b830] 
0aa9b880 0ebda650 EvoSvcClientClrThunk.IEvoMasterClr.InstallApplication(Int32 System.String System.String System.String Boolean)
0aa9e218 0ebda401 EvolveClient.Apps.AppsMgr+c__DisplayClass2f.b__2d()
0aa9e224 0e63e0ed EvoCore.Util.AsyncHelper+c__DisplayClass2.b__1()
0aa9e228 0e63e040 System.Threading.Tasks.Task`1[[System.__Canon mscorlib]].InvokeFuture(System.Object)
0aa9e254 0e63dfb4 System.Threading.Tasks.Task.InnerInvoke()
0aa9e260 0e63df05 System.Threading.Tasks.Task.Execute()
0aa9e290 0e63dd88 System.Threading.Tasks.Task.ExecutionContextCallback(System.Object)
0aa9e298 05185d89 System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
0aa9e2bc 0e63d9d0 System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
0aa9e2f4 0e63d79e System.Threading.Tasks.Task.ExecuteEntry(Boolean)
0aa9e304 0e63d698 System.Threading.Tasks.Task.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem()
0aa9e308 0623c326 System.Threading.ThreadPoolWorkQueue.Dispatch()
0aa9e354 0623bd9c System.Threading._ThreadPoolWaitCallback.PerformWaitCallback()
0aa9e714 791421db [DebuggerU2MCatchHandlerFrame: 0aa9e714] 
(29.2a): CLR exception - code e0434352 (first chance)
...
OS Thread Id: 0x2a (0)
Child SP IP       Call Site
0033e60c 7b83ac17 [HelperMethodFrame: 0033e60c] 
0033e65c 0ebdb445 EvolveClient.Util.ExceptionHelper.b__0(System.Exception)
0033e660 0ebdb383 System.AggregateException.Handle(System.Func`2)
0033e678 0ebdb192 EvolveClient.Util.ExceptionHelper.ExtractFirstException(System.AggregateException)
0033e6a4 0ebdae2f EvolveClient.Apps.AppsMgr+c__DisplayClass2f.b__2e(System.Threading.Tasks.Task`1)
0033e6d8 0e62284d EvoCore.Util.AsyncHelper+c__DisplayClass2.b__0(System.Threading.Tasks.Task`1)
0033e6dc 0e622820 System.Threading.Tasks.Task`1+c__DisplayClass17[[System.__Canon mscorlib]].b__16(System.Object)
0033e6e0 0e63dfb4 System.Threading.Tasks.Task.InnerInvoke()
0033e6ec 0e63df05 System.Threading.Tasks.Task.Execute()
...
0033f270 03a22c40 EvolveClient.App.Main()
...
--- snip ---

Going back in time everything seemed ok the RPC server/service is started on demand:

--- snip ---
002b:Call KERNEL32.CreateFileA(001c7c28 \\\\.\\pipe\\lrpc\\Evolvec00000000000000000000000000000030000000000000000) ret=7e87c316
002b:Ret  KERNEL32.CreateFileA() retval=ffffffff ret=7e87c316
002b:Call KERNEL32.WaitNamedPipeA(001c7c28 \\\\.\\pipe\\lrpc\\Evolveffffffff) ret=7e87c3ed
002b:Ret  KERNEL32.WaitNamedPipeA() retval=00000000 ret=7e87c3ed 
...
002b:Call KERNEL32.RaiseException(000006ba000000000000000000000000) ret=7e885d1a
002b:trace:seh:raise_exception code=6ba flags=0 addr=0x7b83ac17 ip=7b83ac17 tid=002b
002b:trace:seh:raise_exception  eax=7b826c7d ebx=7b8bb000 ecx=0033dca0 edx=7b83ab88 esi=0033dcf0 edi=0033dcb0
002b:trace:seh:raise_exception  ebp=0033dc88 esp=0033dc24 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000246
002b:trace:seh:call_vectored_handlers calling handler at 0x791f5a7c code=6ba flags=0 
...
002b:Call KERNEL32.WideCharToMultiByte(0000fde90000000005ba4b38 LStartEvolveService: Attempting to start service: EvoSvc.0000003800000000000000000000000000000000) ret=1001f859 
...
002b:Call advapi32.OpenServiceW(001b4ab8010b96cc LEvoSvc00000014) ret=063e4b38 
002b:Ret  advapi32.OpenServiceW() retval=001b3220 ret=063e4b38
...
002b:Call advapi32.StartServiceA(001b32200000000000000000) ret=063e50d6 
002b:Ret  advapi32.StartServiceA() retval=00000001 ret=063e50d6
...
002b:Call advapi32.QueryServiceStatusEx(001b322000000000001c8280000000240033e45c) ret=063e4da8 
002b:Ret  advapi32.QueryServiceStatusEx() retval=00000001 ret=063e4da8
...
002b:Call KERNEL32.WideCharToMultiByte(0000fde90000000005ba4140 LStartEvolveService: Service EvoSvc started.0000002b00000000000000000000000000000000) ret=1001f859 
...
002b:Call KERNEL32.CreateFileA(001c81c0 \\\\.\\pipe\\lrpc\\Evolvec00000000000000000000000000000030000000000000000) ret=7e87c316
002b:Ret  KERNEL32.CreateFileA() retval=0000040c ret=7e87c316
002b:Call KERNEL32.SetNamedPipeHandleState(0000040c0033dadc0000000000000000) ret=7e87c34c
002b:Ret  KERNEL32.SetNamedPipeHandleState() retval=00000000 ret=7e87c34c
...
002b:Call KERNEL32.WideCharToMultiByte(0000fde90000000005ba4b50 LSuccessfully verified connection to service.0000002c00000000000000000000000000000000) ret=1001f859 
...
002b:Call KERNEL32.CreateThread(00000000000000007e87879c0b27e3100000000000000000) ret=7e878a75
002b:Ret  KERNEL32.CreateThread() retval=0000040c ret=7e878a75
002b:Call KERNEL32.CloseHandle(0000040c) ret=7e878a9f
002b:Ret  KERNEL32.CloseHandle() retval=00000001 ret=7e878a9f
--- snip ---

At one point the RPC server/service is gone (handle has been recycled).

The service log 'EvoSvc.log' gives an indication:

--- snip ---
2014-Apr-05 22:35:16.891855 - EvoSvc.exe version 1.8.3.
2014-Apr-05 22:35:16.895119 - Evolve Service was successfully enabled in the Windows Firewall.
2014-Apr-05 22:35:16.895356 - Evolve Client was successfully enabled in the Windows Firewall.
2014-Apr-05 22:35:16.895507 - Loading Evolve configuration...
2014-Apr-05 22:35:16.896747 - Successfully loaded the Evolve configuration file.
2014-Apr-05 22:35:16.896855 - Running against production backend.
2014-Apr-05 22:35:16.897441 - Starting RPC server...
2014-Apr-05 22:35:16.898106 - Successfully started RPC server.
2014-Apr-05 22:35:17.438990 - Started client crash watchdog.
2014-Apr-05 22:35:17.447499 - Making sure video codecs are properly registered with Windows Media Player...
2014-Apr-05 22:35:17.447701 - No need to register .mkv with Windows Media Player.
2014-Apr-05 22:35:17.454154 - New UI client connected. Sending state...
2014-Apr-05 22:35:17.454289 - Successfully sent state to new UI client.
2014-Apr-05 22:35:17.454656 - UI notification callback failed: 0x000006A6.
2014-Apr-05 22:35:17.454917 - UI disconnected. Leaving any lobbies currently in progress...
2014-Apr-05 22:35:17.455198 - Stopped client crash watchdog.
2014-Apr-05 22:35:17.455331 - Waiting 5 seconds for the client to reconnect before shutting down...
2014-Apr-05 22:35:22.456395 - Shut down timer expired. Shutting down service...
2014-Apr-05 22:35:22.457218 - StopService: Telling service to stop...
2014-Apr-05 22:35:22.457370 - Received SERVICE_CONTROL_STOP. Initiating shutdown...
2014-Apr-05 22:35:22.458790 - Shutting down...
2014-Apr-05 22:35:22.458888 - Shutting down RPC server...
2014-Apr-05 22:35:22.460563 - Successfully updated the LAN Bridger configuration file.
2014-Apr-05 22:35:22.461665 - Thread Pool: Created worker threads successfully.
2014-Apr-05 22:35:22.461766 - Thread Pool: Shutting down worker threads...
2014-Apr-05 22:35:22.462340 - Thread Pool: Shut down worker threads successfully.
2014-Apr-05 22:35:22.463509 - Successfully updated the LAN Bridger configuration file.
2014-Apr-05 22:35:22.463976 - RPC server shut down.
2014-Apr-05 22:35:22.464339 - Thread Pool: Shutting down worker threads...
2014-Apr-05 22:35:22.464440 - Thread Pool: Shut down worker threads successfully.
--- snip ---

$ sha1sum EvolveSetup.exe 
0c9f92f1ed5f97bced68c1185525dfe78900f795  EvolveSetup.exe

$ du -sh EvolveSetup.exe 
3.2M	EvolveSetup.exe

$ wine --version
wine-1.7.16-1-gb772260

Regards",336,"1"
"WINE-22470","Excel 2003 cannot launch","I have installed Microsoft Office 2003 Professional in Wine. However I cannot get it to launch excel and am getting the error Not Enough memory to run Microsoft Office Excel. Please Close Other applications and try again.",40,"0"
"WINE-14677","Mail.ru Agent ICQ client doesn't start","Program can not be started
Link to download agent (program like ICQ client)
http://exe.agent.mail.ru/magentsetup.exe
:(",1193,"1"
"WINE-21542","SOFTPUB_LoadCatalogMessage should use catalog members instead of file ones for retrieving msg data","Hello

recent wintrust refactoring patch series broke PowerShell 1.x/2.x installers by revealing a previously hidden bug...

--- snip ---
0036:Call wintrust.SoftpubInitialize(001e86f8) ret=7974e691
0036:trace:wintrust:SoftpubInitialize (0x1e86f8)
0036:trace:wintrust:SoftpubInitialize returning 00000000
0036:Ret  wintrust.SoftpubInitialize() retval=00000000 ret=7974e691
0036:Call wintrust.SoftpubLoadMessage(001e86f8) ret=7974e691
0036:trace:wintrust:SoftpubLoadMessage (0x1e86f8)
0036:Call KERNEL32.CreateFileW(0033b53c LC:\\windows\\system32\\catroot\\{f750e6c3-38ee-11d1-85e5-00c04fc295ee}\\KB968930xp.cat800000000000000100000000000000030000008000000000) ret=7974bf32
0036:Ret  KERNEL32.CreateFileW() retval=0000007c ret=7974bf32
0036:Call crypt32.CryptSIPRetrieveSubjectGuid(0033b53c LC:\\windows\\system32\\catroot\\{f750e6c3-38ee-11d1-85e5-00c04fc295ee}\\KB968930xp.cat0000007c001640dc) ret=7974bf70
...
0036:Call KERNEL32.GetFileSize(0000007c00000000) ret=686fa459
0036:Ret  KERNEL32.GetFileSize() retval=0000e8d2 ret=686fa459
...
0036:Ret  crypt32.CryptSIPRetrieveSubjectGuid() retval=00000001 ret=7974bf70 
...
0036:Call crypt32.CryptSIPLoad(001640dc00000000001ed4c0) ret=7974b4f9
...
0036:Ret  crypt32.CryptSIPLoad() retval=00000001 ret=7974b4f9
0036:trace:wintrust:SOFTPUB_GetSIP returning 0
...
0036:Call wintrust.CryptSIPGetSignedDataMsg(001e8780001e8730000000000033b18800000000) ret=686fb39a
0036:trace:wintrust:CryptSIPGetSignedDataMsg (0x1e8780 0x1e8730 0 0x33b188 (nil))
0036:trace:wintrust:WINTRUST_GetSignedMsgFromCatFile (0x1e8780 0x1e8730 0 0x33b188 (nil))
0036:Call KERNEL32.GetFileSize(0033b53c00000000) ret=7974418b
0036:Ret  KERNEL32.GetFileSize() retval=ffffffff ret=7974418b
0036:trace:wintrust:CryptSIPGetSignedDataMsg returning 1
0036:Ret  wintrust.CryptSIPGetSignedDataMsg() retval=00000001 ret=686fb39a
0036:Call KERNEL32.GetProcessHeap() ret=7974e07e
0036:Ret  KERNEL32.GetProcessHeap() retval=00110000 ret=7974e07e
0036:Call ntdll.RtlAllocateHeap(0011000000000008ffffffff) ret=7974e095
0036:Ret  ntdll.RtlAllocateHeap() retval=00000000 ret=7974e095
0036:Call KERNEL32.CloseHandle(0000007c) ret=7974bfff
0036:Ret  KERNEL32.CloseHandle() retval=00000001 ret=7974bfff
0036:trace:wintrust:SoftpubLoadMessage returning 1 (0000000e)
0036:Ret  wintrust.SoftpubLoadMessage() retval=00000001 ret=7974e691
0036:trace:wintrust:WINTRUST_DefaultVerify returning 0000000e
0036:trace:wintrust:WINTRUST_DefaultClose ((nil) {00aac56b-cd44-11d0-8cc2-00c04fc295ee} 0x33b4e8)
0036:Call wintrust.SoftpubCleanup(001e86f8) ret=7974eb81 
...
--- snip ---

SoftpubLoadMessage -> (WTD_CHOICE_CATALOG) SOFTPUB_LoadCatalogMessage -> SOFTPUB_GetMessageFromFile

WINTRUST_GetSignedMsgFromCatFile -> GetFileSize() gets passed invalid file handle (stack garbage) -> following alloc fails and error is propagated to top ...

--- snip dlls/wintrust/softpub.c ---
static DWORD SOFTPUB_LoadCatalogMessage(CRYPT_PROVIDER_DATA *data)
{
    DWORD err
    HANDLE catalog = INVALID_HANDLE_VALUE

    if (!data->pWintrustData->u.pCatalog)
    {
        SetLastError(ERROR_INVALID_PARAMETER)
        return FALSE
    }
    catalog = CreateFileW(data->pWintrustData->u.pCatalog->pcwszCatalogFilePath
     GENERIC_READ FILE_SHARE_READ NULL OPEN_EXISTING FILE_ATTRIBUTE_NORMAL
     NULL)
    if (catalog == INVALID_HANDLE_VALUE)
        return GetLastError()
    if (!CryptSIPRetrieveSubjectGuid(
     data->pWintrustData->u.pCatalog->pcwszCatalogFilePath catalog
     &data->u.pPDSip->gSubject))
    {
        err = GetLastError()
        goto error
    }
    err = SOFTPUB_GetSIP(data)
    if (err)
        goto error
    err = SOFTPUB_GetMessageFromFile(data data->pWintrustData->u.pFile->hFile
     data->pWintrustData->u.pFile->pcwszFilePath)
    if (err)
        goto error
...
}
--- snip dlls/wintrust/softpub.c ---

This is a catalog type file hence the pFile members can't be used for SOFTPUB_GetMessageFromFile() e.g.

data->pWintrustData->u.pFile->hFile and data->pWintrustData->u.pFile->pcwszFilePath

will be invalid upon entry.

You must use catalog file handle and data->pWintrustData->u.pCatalog->pcwszCatalogFilePath just like you do with CryptSIPRetrieveSubjectGuid() for SOFTPUB_GetMessageFromFile().
 
Regards",4,"0"
"WINE-20866","Houaiss Portuguese Dictionary (blocked window)","Hello friends. I appologize for disturbing you I hope I'm not doing anything wrong by posting this thing here but I decided to try.
I've been using Debian for about a year and I've got a bit of a problem with an electronic dictionary which is very dear to me since I work with texts...
It's the Houaiss Portuguese Dictionary made for Windows.
All the other dictionaries I use run perfectly well in Wine but this one has got some kind of strange bug. Sometimes when I open it it appears as a minimized window at the panel below. If you then click on it to maximize it instead of a full screen window what you get is only a very narrow strip of window. If you click on its right-hand upper corner in order do maximize it nothing happens. All you can do is close it. Then if you run the programm again the same thing will happen no matter how many times you try. If you uninstall the software and re-install it completely usually the same thing happens!
A friend of mine wrote a script for me which has helped since with it I usually can make it work again but it's always a little bit annoying since it doesn't work immediately and you have to run the scrip a thousand times before the moody dictionary decides to work.
The scrip I've been using to fix the problem runs as follows:

#!/bin/sh
cp -a ~/.wine_working/* ~/.wine
echo old good wine restored...

I'm no expert al all as you can see so if you could help me (and probably other portuguese speakers who use this dictionary) to definetely solve this problem I'd really appreciate!
I thank you very much for your attention and help!

Zac",797,"1"
"WINE-32473","Acoustica Mixcraft 6 crashes when loading project containing video (DirectShow Editing Services missing 'AMTimeline' class '{78530b75-61f9-11d2-8cad-00a024580902}' 'qedit.dll')","Created attachment 42836
The log file it suggests adding

When loading a Mixcraft project with a video (made in Windows as Mixcraft says codecs for the .avi file aren't supported) the project begins loading and when the video preview appears it crashes.",1618,"1"
"WINE-28951","Nitro PDF Reader crashes in Preferences->Commenting menu","Created attachment 37217
plain terminal output

The application crashes when clicking on the Commenting option in the Preferences menu.
Other options in the Preferences menu don't trigger the crash.

Steps to reproduce the problem:
Before launching the application you might need to set a virtual desktop to avoid bug #26605 .
When the application is fully loaded click on the File tab and select Preferences. Click on the Commenting option  >>first comes an error reporting dialog then kicks in the Wine crash dialog. I couldn't get a meaningful backtrace even with Wine's crash dialog disabled.

Native msvc* dlls don't help.",1172,"1"
"WINE-23243","Fleet Operations 3.1.x (Star Trek Armada II) has performance problems","After you press the Launch button the red progress bar finishes and then it needs 5 minutes instead of 30 seconds on Windows to continue.",160,"0"
"WINE-27184","Unhandled Exception in CoreAudio (AudioRenderClient_ReleaseBuffer)","Created attachment 34730
Unhandled Exception in Coreaudio (AudioRenderClient_ReleaseBuffer)

Running the game Hector from Telltale Games generates the attached unhandled exception in MacOS 10.6 (CoreAudio)",228,"1"
"WINE-38455","valgrind shows an invalid read in dlls/wshom.ocx/tests/wshom.c","==17941== Invalid read of size 4
==17941==    at 0x402C9D2: memcpy (vg_replace_strmem.c:933)
==17941==    by 0x48849C8: SysAllocStringLen (oleaut.c:329)
==17941==    by 0x53D60E3: WshShell3_RegRead (shell.c:1379)
==17941==    by 0x41FFE0A: IWshShell3_RegRead (wshom.h:4212)
==17941==    by 0x41FFE0A: test_registry (???:0)
==17941==    by 0x4201447: func_wshom (wshom.c:540)
==17941==    by 0x4202188: run_test (test.h:584)
==17941==    by 0x42025C1: main (test.h:666)
==17941==  Address 0x7f0118ec is 12 bytes inside a recently re-allocated block of size 14 alloc'd
==17941==    at 0x7BC49E0E: notify_alloc (heap.c:254)
==17941==    by 0x7BC4E044: RtlAllocateHeap (heap.c:1715)
==17941==    by 0x53D6032: WshShell3_RegRead (shell.c:1362)
==17941==    by 0x41FFE0A: IWshShell3_RegRead (wshom.h:4212)
==17941==    by 0x41FFE0A: test_registry (???:0)
==17941==    by 0x4201447: func_wshom (wshom.c:540)
==17941==    by 0x4202188: run_test (test.h:584)
==17941==    by 0x42025C1: main (test.h:666)
==17941==",1,"0"
"WINE-22346","Palm Pilot: hotsync.exe could not load 'USER.DLL' required by 'COMUT16' error=2","Hotsync.exe for Palm Pilot does not work anymore are of version 1.1.41.
reports:
Could not load 'USER.DLL' required by 'COMUT16' error=2

Also the application itself notes that COM2 is no longer available.",58,"0"
"WINE-22280","Splinter Cell Conviction fails at startup because KERNEL32.SetThreadPriorityBoost fails","The Assassin's Creed installer runs 
Program Files/Ubisoft/Assassin's Creed/Detection/Detection.exe
at the end.  This is supposed to pop up a screen showing
whether various components of your system meet minimum spec for the game.
It crashes on wine after calling KERNEL32.SetThreadPriorityBoost.
That function always returns FALSE on wine.  Changing it to return TRUE
lets Detection.exe work properly.",1149,"1"
"WINE-5288","Visual Studio MSDN (2001/October) does not run","When i execute msdn it throws me :

wine hh.exe f:\\Microsoft\ Visual\ Studio\\MSDN\\2001OCT\\1033\\MSDN130.COL
err:ole:CoGetClassObject class {5d02926a-212e-11d0-9df9-00a0c922e6ec} not registered
err:ole:CoGetClassObject no class object {5d02926a-212e-11d0-9df9-00a0c922e6ec}
could be created for for context 0x1
fixme:ole:CoCreateInstance no classfactory created for CLSID
{5d02926a-212e-11d0-9df9-00a0c922e6ec} hres is 0x80040154",77,"0"
"WINE-10225","SafeDisc 2.x triggers async device ioctl status code propagation bug in wine server","Created attachment 8843
relevant trace which shows ioctl status code propagation bug

Hello

while testing my proof-of-concept patch which makes SafeDisc v2 (yuck!) finally work I stumbled across a nasty ioctl status code propagation (completion) bug in wine server.
Wasted several hours on it .. I was suspecting SD issue whole time but its a wine server bug :(

Attached is relevant trace (WINEDEBUG=+seh+tid+relay+ntoskrnl+server wine ./BfVietnam.exe)

Before the bug is triggered the SafeDisc security driver makes several device ioctl requests which return 0xC0000001 (unsuccessful) on purpose e.g. reading debug Drx registers with index that does not exist.
This is intended to fool reversers :-)

The next operation - checking IDT entries should succeed - but does not (as seen from calling client).
The kernel driver completes the operation successfully and returns irp.IoStatus.u.Status == 0 with xxxx bytes in output buffer.
I verified it several times by debugging the kernel driver.

Upon driver ioctl call return get_next_device_request() is triggered again in ntoskrnl event loop which sets the return data (and status code) -> set_ioctl_result().
This queues an APC waking up the client (alertable state).

The client process device ioctl completes with 0 (FALSE) which is wrong.
Further debugging showed that ioctl_completion APC (dlls/ntdll/file.c) returns the errornous status code in get_ioctl_result() when woken up by server.
This error is then propagated in server_ioctl_file() to result in wrong NtDeviceIoControlFile() return code.

What puzzled me is that ioctl->status is correctly set by set_ioctl_result() (=0) but get_ioctl_result() - called within client context - yields the previous error code (0xC0000001 of failed request).

This is either a problem of global vs. thread local error status (global_error vs. current->error/thread) or the ioctl call data is the wrong one.

The following patch works for me letting SD 2.x continue - though i'm not sure if it's right:

--- snip ---

diff --git a/server/device.c b/server/device.c
index 46b2796..8fe8f7c 100644
--- a/server/device.c
+++ b/server/device.c
@@ -5287 +5287 @@ DECL_HANDLER(get_ioctl_result)
                 ioctl->out_data = NULL
             }
         }
-        set_error( ioctl->status )
+
         list_remove( 
         release_object( ioctl )  /* no longer on the device queue */
     }

--- snip ---

Regards",1,"0"
"WINE-40133","No Limits 2 help system needs GetOverhangMetrics()","Install the program on the main menu click Help. Tip dialog does not show any text and without GetOverhangMetrics() does not show scrollbars too.",350,"1"
"WINE-9422","Visio 2003 failing with the message iopl not enabled","Created attachment 7748
Log trace of failed run under 0.9.43

This may or may not be related to bug #5163.

On 0.9.36 I have a working installation of visio 2003.
After upgrading to 0.9.42 visio ceases to work failing with the message iopl not enabled.
Ditto for 0.9.43.
After reverting back to 0.9.36 visio 2003 again works.

Word and Excel 2003 seem to work happily on all of these versions of wine.",864,"1"
"WINE-33635","wine cmd executes text inside comments as commands.","Created attachment 44521
script to reproduce bug

When command script has :: style comments and symbol | appear inside that comment wine cmd executes that text as commands (think it recognizes it as generic commands with pipe redirection).

For example if you create command script like that and start it you will see empty file cmd_output error can't find another test and started notepad:

  :: some text that is ignored | dir >cmd_output | another test | notepad


Note when I replace :: to rem this error goes out.",14,"0"
"WINE-24707","RobotZ DX freezes just after you start a level","Created attachment 31217
~/wine-git/wine RobotzDX.exe &> log.txt

After you start the level in just a few seconds it becomes unplayable and requires to be killed.",732,"1"
"WINE-12298","Notation Composer: crashes when opening menus when using ALSA","Created attachment 11746
Backtrace

I am trying to run the demo version of Notation Composer 2.3.3 (a midi notation program). It starts just fine but crashes when I start opening menus like File Help and so on. If I use the menus sparingly I am able to open a midi file and use some of the basic program functions like playing the file or editing the score (although my toolbar lacks icons and playback bogs the program down... topics for separate bug reports probably but perhaps that info will be useful here).

The demo can be downloaded here: http://notation.com/download/NotationComposer233TrialSmallSetup.exe

Note that I had to use winetricks and download the vcrun6 package since the install program requires mfc42.dll. Without it the trial period expires upon the first run.

Here are some details about my setup:

Wine version:               0.9.58
Windows version:            XP
Distro:                     Slackware(-current)
Kernel version:             2.6.24.3-smp
CPU:                        Intel Core 2 Duo E6750
GCC version:                4.2.3
glibc version:              2.7
xorg-server version:        1.4.0.90
Video card driver version: NVidia GeForce 8600GT 169.12
Notable configure opts:     --with-x --enable-opengl

I ran the program with:
$ wine C:\Program Files\Notation\Composer\Composer.exe > backtrace.txt 2>&1

To recreate the problem: get mfc42.dll (with winetricks vcrun6 thx Dan) install the program and start opening menus. The faster they are opened the sooner the program crashes.

A debug log is available if needed. The page fault occurs at about 1500 lines from the bottom so let me know how many lines you need.

Thanks!",826,"1"
"WINE-329","mouse double-click doesn't work in Starcraft","With the latest 8/24/01 Wine version mouse double-clicks do not work any more
in Starcraft. I ran wine on a dedicated X server 640x480 24-bit color no WM.
On the other hand the game works fine except for the double clicks.",823,"1"
"WINE-43810","Playkey needs api-ms-win-crt-stdio-l1-1-0.dll.__stdio_common_vsprintf_p","Created attachment 59350
log report

Playkey.exe crushes in wine (fedora 26)",12,"0"
"WINE-27404","Zeq2Msvcrt and Mabinogi need msvcr90.dll._crt_debugger_hook","svn co -r 1526 http://zeq2.com/SVN/Build/
...
$ wine ZEQ2Msvc.exe 
fixme:actctx:parse_depend_manifests Could not find dependent assembly LMicrosoft.VC90.CRT (9.0.21022.8)
fixme:wgl:X11DRV_wglChoosePixelFormatARB unused pfAttribFList
wine: Call from 0x7b83b2f2 to unimplemented function msvcr90.dll._crt_debugger_hook aborting
wine: Unimplemented function msvcr90.dll._crt_debugger_hook called at address 0x7b83b2f2 (thread 0009) starting debugger...",554,"1"
"WINE-1915","Delta Force Black Hawk Down demo crashes","The demo installed well and start but the mouse movement and clicking has very
slow react time.
The demo can be grabbed at
http://download1.nvidia.com/downloads/BlackHawkDown_Beta/DFBHDD_D.exe
.",1531,"1"
"WINE-12049","Regression running Splinter Cell:Pandora Tomorrow","Created attachment 11407
Log of an error

When trying to run latest git version of splinter cell:Pandora tomorrow with wine I get the following error.

Assertion failed: RenDev [File:WinViewport.cpp] [Line: 805]

History: UWindowsViewport::OpenWindow <- UGameEngine::Init <- InitEngine

It looks as it's (the error) caused by wine libraries not the wine program itself - everything worked fine until the system update (i'm running Debian unstable). I've attached the log.",176,"0"
"WINE-1604","No output text from programs run in a wcmd console","Any program run from a wcmd console produces no text output.
Output redirection from a program run directly from wine produces an empty file.
This problem was not in 20030618 it is in both RH8 and RH9",810,"1"
"WINE-9447","Supreme Commander's FMVs do not skip frames","This bug causes the videos to move slower than they're supposed to and desync with sound (if you've made the changes needed to get sound from the game - see the AppDB for details.) Affects mission briefings in the campaign and messages recieved during campaign missions.",2727,"1"
"WINE-10453","Graphics bug in Supreme Commander","Created attachment 9159
Screenshot of the problem at the bisected point.

Sometime after 0.9.48 Supcom started exhibiting this problem where when using GLSL & fbo it seems as if some bloom-type filter is getting applied a bit too generously. I did a git bisect and it turned up this patch:

commit 948292dbc3930a95252fb5e03321f94a1f475db9
Author: Stefan Dösinger 
Date:   Thu Nov 1 01:38:50 2007 +0100

    wined3d: Move texture -> drawable blits to LoadLocation.

There's a related-looking error in the console output:

err:d3d_surface:IWineD3DSurfaceImpl_LoadLocation Reading back render target but SFLAG_INDRAWABLE not set

The bug also seems to get worse with the latest versions with the latest git the game is mostly a white screen. Compared to the less bugged version the console output from the latest git also contains a bunch of the following lines:

err:d3d_surface:surface_prepare_system_memory Surface without memory or pbo has SFLAG_INSYSMEM set!

as well as these at the end of the bunch.

err:d3d_shader:shader_glsl_load_psamplers Trying to load sampler Psampler8 on unsupported unit 8
err:d3d_shader:shader_glsl_load_psamplers Trying to load sampler Psampler9 on unsupported unit 9
err:d3d_shader:shader_glsl_load_psamplers Trying to load sampler Psampler10 on unsupported unit 10",50,"0"
"WINE-23000","Delphi Apps can't open/save files in vista+ mode","When clicking open/save/save as in Borland Delphi Apps i get the message:

err:ole:COMPOBJ_DllList_Add couldn't find function DllGetClassObject in LC:\\windows\\system32\\comdlg32.dll
err:ole:CoGetClassObject no class object {dc1c5a9c-e88a-4dde-a5a1-60f82a20aef7} could be created for context 0x1

Just tried again in 1.2-rc2 and same result. Back in 1.1.40 i guess i found that the class is the filedlg class (of course) which is not implemented in wine.
So we just would have to implement the class stuff.",304,"1"
"WINE-27004","Warcraft III fails to select units by mouse drag","Created attachment 34432
output on console probably nothing that can help

wine 1.3.19 fails to select units in Warcraft III when I try to drag left mouse button. Selecting in game is still possible by ctrl+click double click etc so it appears to be only mouse drag related problem It is regression compared to 1.3.18(and probably earlier) wine versions. I tried it with and without compiz.",76,"0"
"WINE-18705","Heavy Load first chance exception in NtQuerySystemInformation","Heavy Load from 
https://www.jam-software.de/customers/downloadTrial.php?article_no=402&language=EN&PHPSESSID=f090f4a84cbe361493cc2ad36f62d15c
crashes with the attached exception and backtrace 

Attached is all my machine information and the application which is freeware.",545,"1"
"WINE-24470","winegcc: 32-bit libs are not found with -m32 on 64-bit host","Use a 64-bit Linux and save following as main.c:

#include 
int main(int argc char **argv)
{
MessageBoxA(0testapp0)
return 0
}

in the folder containing that file type:
winegcc main.c -m32 -o main.exe.so

you can verify the normal behaviour with:
winegcc main.c -o main64.exe.so

but you will get a 64-bit winelib app.

this worked before so i added regression.
other projects like lmms depend on that so setting keyword regression

see also Bug 24402",37,"0"
"WINE-8440","Heavy Weather runs too slow / possible serial port baud rate issues?","When running HeavyWeather inside of wine - the app starts - but when the app
comes up - it uses 100% of the CPU.  And it's really really slow.  When the GUI
comes up - it makes requests via the serial port to get the data for about 15
different fields that are displayed.  With an older version of wine (same
hardware) - this took about 2 seconds to get all 15 fields.  

Now it takes about 5 seconds _per field_ to get the data.  Eventually all of
the fields fill in - but CPU usage stays locked at 100% - and any interaction
that I try to have with the application is really slow.

The application then crashes within 3 to 4 minutes.

While the application is running this is printed out on the terminal:

err:file:GetOverlappedResult PENDING status after waiting!
err:file:GetOverlappedResult PENDING status after waiting!
err:file:GetOverlappedResult PENDING status after waiting!


The trace (that I'll attach shortly) indicates a really slow baud rate has been
selected:

000d:trace:comm:dump_dcb bytesize=8 baudrate=2400 fParity=0 Parity=0 stopbits=1


The application doesn't provide any configuration for baud rate.

It's basically unusable in its present form - and this is a regression - it used
to run much better in wine.

On the mailing list Detlef Riekenberg indicated:

>If the App has no options to configure the Serial Port
>it may use the default COM-Settings.
>
>Old Wine versions returned always 38400 as Baud-Rate and
>Hardware-Handshake for the Flow-Control.
>This was fixed recently.

Not sure if that has anything to do with the slowdown.",292,"1"
"WINE-4490","AOL AIM crashes on start","Running Slackware 10.1 with kernel 2.6.15 on a 1GB Dell Inspiron 9300 notebook.
 Trying to run AOL AIM 5.9.3861 under wine 0.9.6 and 0.9.7 unsuccessfully. 
Works fine under 0.9.5 however.  The program loads and then crashes with the
following message dump.

wine: Unhandled page fault on read access to 0x00000002 at address 0x7fc3e900
(thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: page fault on read access to 0x00000002 in 32-bit code
(0x7fc3e900).
In 32 bit mode.
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:003b GS:0033
 EIP:7fc3e900 ESP:7fbaa4b4 EBP:7fbaa54c EFLAGS:00210202(   - 00      - -RI1)
 EAX:00000001 EBX:7fc94714 ECX:00000001 EDX:00000002
 ESI:ffffffff EDI:00000002
Stack dump:
0x00000000:  00000000 00000000 00000000 00000000
0x00000010:  00000000 00000000 00000000 00000000
0x00000020:  00000000 00000000 00000000 00000000
0x00000030:  00000000 00000000 00000000 00000000
0x00000040:  00000000 00000000 00000000 00000000
0x00000050:  00000000 00000000 00000000 00000000
Backtrace:
=>1 0x7fc3e900 INSTR_EmulateInstruction(rec=0x7fbaa968 context=0x7fbaa69c)
[/home/nmok/progs/src/wine-0.9.7/dlls/kernel/instr.c:4                         
                                                                    54] in
kernel32 (0x7fc3e900)
  2 0x7fc3fd1a INSTR_vectored_handler(ptrs=0x7fbaa5a4)
[/home/nmok/progs/src/wine-0.9.7/dlls/kernel/instr.c:890] in kernel32 (0x7f    
                                                                               
         c3fd1a)
  3 0x7ff9499a call_vectored_handlers+0x5a(rec=0x7fbaa968 context=0x7fbaa69c)
[/home/nmok/progs/src/wine-0.9.7/dlls/ntdll/excepti                            
                                                                 on.c:238] in
ntdll (0x7ff9499a)
  4 0x7ff94b67 raise_exception(rec=0x7fbaa968 context=0x7fbaa69c
first_chance=0x1) [/home/nmok/progs/src/wine-0.9.7/dlls/ntdll/e                
                                                                            
xception.c:340] in ntdll (0x7ff94b67)
  5 0x7ff94df3 __regs_RtlRaiseException+0x23(rec=0x7fbaa968 context=0x7fbaa69c)
[/home/nmok/progs/src/wine-0.9.7/dlls/ntdll/excep                              
                                                               tion.c:383] in
ntdll (0x7ff94df3)
  6 0x7ffb5635 raise_segv_exception(rec=0x7fbaa968 context=0x7fbaa69c)
[/home/nmok/progs/src/wine-0.9.7/dlls/ntdll/signal_i386.c:                     
                                                                        1046] in
ntdll (0x7ffb5635)
  7 0xdeadbabe (0xdeadbabe)
fixme:dbghelp:sffip_cb NIY on 'E:\script56\obj\l6x86\bbtopt\vbscript.pdb'
  8 0x6b62f042 in vbscript (+0x2f042) (0x6b62f042)
  9 0x6b62d316 in vbscript (+0x2d316) (0x6b62d316)
0x7fc3e900 INSTR_EmulateInstruction+0x90
[/home/nmok/progs/src/wine-0.9.7/dlls/kernel/instr.c:454] in kernel32: movb   
0x0(%edi)                                                                     
                        %dl
454             switch(*instr)
Modules:
Module  Address                 Debug info      Name (164 modules)
PE      0x00400000-0040f000     Deferred        aim
PE      0x10000000-10015000     Deferred        aimtoday
PE      0x11000000-11006000     Deferred        oscmain.ocm
PE      0x11080000-1108c000     Deferred        proto.ocm
PE      0x11100000-11111000     Deferred        osclogin.ocm
PE      0x11280000-112b5000     Deferred        buddyui.ocm
PE      0x11380000-113c2000     Deferred        icbmui.ocm
PE      0x11480000-114a5000     Deferred        locateui.ocm
PE      0x11500000-1150a000     Deferred        browse.ocm
PE      0x11680000-116a2000     Deferred        miscui.ocm
PE      0x11880000-11888000     Deferred        popup.ocm
PE      0x11a80000-11a8e000     Deferred        startup.ocm
PE      0x11b00000-11b1c000     Deferred        chatui.ocm
PE      0x11d80000-11d95000     Deferred        oscsrch.ocm
PE      0x11e00000-11e05000     Deferred        stats.ocm
PE      0x11e80000-11e8d000     Deferred        rvapps.ocm
PE      0x11f00000-11f17000     Deferred        ticker.ocm
PE      0x12000000-12032000     Deferred        ate32
PE      0x12080000-120a0000     Deferred        ateima32
PE      0x12180000-121b0000     Deferred        oscore
PE      0x12200000-12225000     Deferred        oscarui
PE      0x12280000-122be000     Deferred        wndutils
PE      0x12300000-12307000     Deferred        oscres
PE      0x12400000-1243c000     Deferred        inetsocket
PE      0x12480000-1249b000     Deferred        aimax
PE      0x12500000-1250f000     Deferred        alertui.ocm
PE      0x12600000-12608000     Deferred        ntp.ocm
PE      0x12680000-12693000     Deferred        oscmail.ocm
PE      0x12800000-1281c000     Deferred        aimapi
PE      0x12880000-128af000     Deferred        aimcoresvcs
PE      0x12900000-12939000     Deferred        aimsecondarysvcs
PE      0x12980000-12af1000     Deferred        aimres
PE      0x1c000000-1c006000     Deferred        idlemon
PE      0x20000000-2001b000     Deferred        aim_xmlp
PE      0x30000000-30023000     Deferred        dunzip32
PE      0x40000000-40023000     Deferred        xprt
PE      0x40040000-40048000     Deferred        xpcs
PE      0x40080000-40086000     Deferred        xptl
PE      0x40100000-4012d000     Deferred        coolbos
PE      0x40140000-4015c000     Deferred        coolbucky
PE      0x40240000-40252000     Deferred        coolsocket
PE      0x40280000-4028e000     Deferred        coolsecnss
PE      0x402c0000-402cf000     Deferred        coolhttp
PE      0x5e380000-5e3a5000     Deferred        msoss
PE      0x63980000-63998000     Deferred        sb
PE      0x65340000-653d2000     Deferred        oleaut32
PE      0x65f00000-65fc2000     Deferred        ole32
PE      0x6b600000-6b671000     Export          vbscript
PE      0x6b700000-6b790000     Deferred        jscript
PE      0x70100000-70153000     Deferred        rpcrt4
PE      0x70200000-70295000     Deferred        wininet
PE      0x702b0000-7032a000     Deferred        urlmon
PE      0x70bd0000-70c35000     Deferred        shlwapi
PE      0x70c50000-70efd000     Deferred        mshtml
PE      0x71000000-71149000     Deferred        shdocvw
PE      0x71450000-714ae000     Deferred        crypt32
PE      0x71840000-718c4000     Deferred        shdoclc
ELF     0x7bf00000-7bf03000     Deferred        
PE      0x7c340000-7c396000     Deferred        msvcr71
ELF     0x7c551000-7c5b0000     Deferred        winedos
  \-PE  0x7c560000-7c5b0000     \               winedos
PE      0x7ca00000-7ca1a000     Deferred        rsaenh
ELF     0x7ca6d000-7ca81000     Deferred        vwin32
  \-PE  0x7ca70000-7ca81000     \               vwin32
ELF     0x7ca9e000-7cac3000     Deferred        mlang
  \-PE  0x7cab0000-7cac3000     \               mlang
ELF     0x7cc06000-7cc19000     Deferred        libresolv.so.2
PE      0x7ce60000-7ce8b000     Deferred        nssckbi
PE      0x7ce90000-7ceaa000     Deferred        smime3
PE      0x7ceb0000-7cecb000     Deferred        ssl3
PE      0x7ced0000-7ced6000     Deferred        plds4
PE      0x7cee0000-7cf07000     Deferred        nspr4
PE      0x7cf10000-7cf17000     Deferred        plc4
PE      0x7cf20000-7cf7c000     Deferred        softokn3
PE      0x7cf80000-7cfd5000     Deferred        nss3
ELF     0x7d06d000-7d086000     Deferred        rasapi32
  \-PE  0x7d070000-7d086000     \               rasapi32
PE      0x7d0c0000-7d0ec000     Deferred        rtvideo
PE      0x7d7a0000-7d7b4000     Deferred        xmltok
ELF     0x7d7b5000-7d7c9000     Deferred        avicap32
  \-PE  0x7d7c0000-7d7c9000     \               avicap32
ELF     0x7d7c9000-7d7f0000     Deferred        devenum
  \-PE  0x7d7e0000-7d7f0000     \               devenum
PE      0x7d810000-7d81d000     Deferred        xmlparse
ELF     0x7d94f000-7d973000     Deferred        msacm32
  \-PE  0x7d960000-7d973000     \               msacm32
ELF     0x7d973000-7d98b000     Deferred        msacm
  \-PE  0x7d980000-7d98b000     \               msacm
ELF     0x7d98b000-7d9d0000     Deferred        wineoss
  \-PE  0x7d9a0000-7d9d0000     \               wineoss
ELF     0x7de2b000-7df2c000     Deferred        libcrypto.so.0
ELF     0x7df2c000-7df5d000     Deferred        libssl.so.0
ELF     0x7df5d000-7df79000     Deferred        libcups.so.2
ELF     0x7df7b000-7df90000     Deferred        midimap
  \-PE  0x7df80000-7df90000     \               midimap
ELF     0x7e031000-7e060000     Deferred        uxtheme
  \-PE  0x7e040000-7e060000     \               uxtheme
ELF     0x7ea06000-7ea23000     Deferred        ximcp.so.2
ELF     0x7ea23000-7ea2b000     Deferred        libxrender.so.1
ELF     0x7ea39000-7ea42000     Deferred        libxcursor.so.1
ELF     0x7ea9f000-7f25d000     Deferred        libglcore.so.1
ELF     0x7f25d000-7f2e0000     Deferred        libgl.so.1
ELF     0x7f2e0000-7f3aa000     Deferred        libx11.so.6
ELF     0x7f3aa000-7f3b8000     Deferred        libxext.so.6
ELF     0x7f3b8000-7f3d0000     Deferred        libice.so.6
ELF     0x7f3d0000-7f44d000     Deferred        winex11
  \-PE  0x7f3e0000-7f44d000     \               winex11
ELF     0x7f44d000-7f45f000     Deferred        libz.so.1
ELF     0x7f45f000-7f4c9000     Deferred        libfreetype.so.6
ELF     0x7f4c9000-7f4d2000     Deferred        libgcc_s.so.1
ELF     0x7f4d2000-7f4d8000     Deferred        libnss_dns.so.2
PE      0x7f4e0000-7f515000     Deferred        xprt5
ELF     0x7f517000-7f535000     Deferred        iphlpapi
  \-PE  0x7f520000-7f535000     \               iphlpapi
ELF     0x7f535000-7f55d000     Deferred        ws2_32
  \-PE  0x7f540000-7f55d000     \               ws2_32
ELF     0x7f55d000-7f576000     Deferred        wsock32
  \-PE  0x7f560000-7f576000     \               wsock32
ELF     0x7f576000-7f5f6000     Deferred        winmm
  \-PE  0x7f580000-7f5f6000     \               winmm
ELF     0x7f5f6000-7f612000     Deferred        imm32
  \-PE  0x7f600000-7f612000     \               imm32
ELF     0x7f612000-7f63b000     Deferred        winspool
  \-PE  0x7f620000-7f63b000     \               winspool
ELF     0x7f63b000-7f6d0000     Deferred        comdlg32
  \-PE  0x7f650000-7f6d0000     \               comdlg32
ELF     0x7f6d0000-7f780000     Deferred        comctl32
  \-PE  0x7f6e0000-7f780000     \               comctl32
ELF     0x7f780000-7f7e1000     Deferred        msvcrt
  \-PE  0x7f790000-7f7e1000     \               msvcrt
ELF     0x7f7e1000-7f8a5000     Deferred        shell32
  \-PE  0x7f800000-7f8a5000     \               shell32
ELF     0x7f8a5000-7f8e1000     Deferred        advapi32
  \-PE  0x7f8b0000-7f8e1000     \               advapi32
ELF     0x7f8e1000-7f96a000     Deferred        gdi32
  \-PE  0x7f8f0000-7f96a000     \               gdi32
ELF     0x7f96a000-7fa88000     Deferred        user32
  \-PE  0x7f980000-7fa88000     \               user32
ELF     0x7fa88000-7faa0000     Deferred        version
  \-PE  0x7fa90000-7faa0000     \               version
ELF     0x7fbb4000-7fbb8000     Deferred        iso8859-1.so
ELF     0x7fbb8000-7fbbb000     Deferred        xlcdef.so.2
ELF     0x7fbbb000-7fbc0000     Deferred        libxxf86vm.so.1
ELF     0x7fbc3000-7fbc6000     Deferred        libxrandr.so.2
ELF     0x7fbf2000-7fcf0000     Stabs           kernel32
  \-PE  0x7fc10000-7fcf0000     \               kernel32
ELF     0x7fe02000-7fe0a000     Deferred        libsm.so.6
ELF     0x7fe0a000-7fe20000     Deferred        libnsl.so.1
ELF     0x7fe23000-7fe37000     Deferred        lz32
  \-PE  0x7fe30000-7fe37000     \               lz32
ELF     0x7fe37000-7fe5a000     Deferred        libm.so.6
ELF     0x7fe5a000-7fe64000     Deferred        libnss_files.so.2
ELF     0x7fe64000-7fe6e000     Deferred        libnss_nis.so.2
ELF     0x7fe71000-7ff67000     Deferred        libwine_unicode.so.1
ELF     0x7ff67000-7ffe0000     Stabs           ntdll
  \-PE  0x7ff80000-7ffe0000     \               ntdll
ELF     0xb7d91000-b7d93000     Deferred        libnvidia-tls.so.1
ELF     0xb7d93000-b7d9c000     Deferred        libnss_compat.so.2
ELF     0xb7d9d000-b7da1000     Deferred        libdl.so.2
ELF     0xb7da1000-b7ebd000     Deferred        libc.so.6
ELF     0xb7ebd000-b7ecf000     Deferred        libpthread.so.0
ELF     0xb7ee0000-b7ee6000     Deferred        libxxf86dga.so.1
ELF     0xb7ee6000-b7f00000     Deferred        libwine.so.1
ELF     0xb7f01000-b7f18000     Deferred        ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
00000008 (D) C:\program files\aim\aim.exe
        00000012    0
        00000011    0
        00000010    0
        00000009    0 <==
WineDbg terminated on pid 0x8",2633,"1"
"WINE-36216","Hearthstone fails to start says the game timed out","(not related to bug 36178)

The game is started from the Battle.net client gets to the login screen. Then the game says:

Closed
Your game timed out as it was requesting data from the Hearthstone utility service. Please relaunch Hearthstone to reconnect.


This error sometimes happened before but now it's impossible to get into the game. Looking at some wireshark logs theres a lot of crypted communication on port 1119 between hearthstone and the battle.net agent then it stops for a few seconds and the game says it timed out.",357,"1"
"WINE-5341","SourceInsight: Missing dock button","Under Windows the references window in SourceInsight has four buttons: Close
Maximise Minimise and Dock. The Dock button is missing under Linux which means
that the reference window cannot be docked into the main frame.
Note that these are NOT the window-manager's title buttons (see screenshot:
http://appdb.winehq.org/appimage.php?id=2726).",2458,"1"
"WINE-25576","Microsoft Flight Simulator X: Demo/Deluxe Edition menu blank without native ie7","Created attachment 32563
good screenshot

Terminal output/screenshots attached.

The demo has the same problem but not on the first run.",787,"1"
"WINE-24153","Adobe Audition 3 parts of interface not drawn","Adobe Audition 3 trial now installs and starts in an empty .wine but
large chunks of the interface aren't drawn.  There are a few messages in the log:

fixme:gdiplus:GdipDrawString not implemented for given parameters
fixme:gdiplus:GdipDrawImagePointsRect Color transforms not implemented

I was not able to find a usable workaround in a quick test despite
trying winetricks gdiplus and winetricks msxml3 the app aborted with
a To continue working... dialog and then a pure virtual call error dialog.",411,"1"
"WINE-2673","Bad colors in game Heroes Of Might and Magic IV","Heroes of Might and Magic IV version 3.0c have big problem with color palette
(?] in game map. This problem exists in newest Wine versions 20041201 and
20050111 in older versions of Wine this game worked without this problem only
with some minor problems in sound and graphics. In newest versions of Wine works
faster without sound problems but with this problem is not playable.

Color in game map are wrong in big rectangle in center of map and all minimap
in right upper corner. Arround this rectangle are color good under cursor too.

I thing this can be bug in any DirectX feature implemented to two last versions.

Now i tested Wine and this game at my desktop with Gentoo graphics resolution
1280x1024 24bit (nVidia GeForce 2Ti driver version 1.0.6629 XFree 4.3.0.1
kernel 2.6.9 vanilla).

I can send screenshot if you need.",224,"1"
"WINE-22442","Sega Rally Revo - direct2drive version: will not launch","Created attachment 27484
Output of  'wine SEGA Rally Revo Launcher.exe &> log'

AFAICT one needs to launch SEGA Rally Revo Launcher.exe to configure the game
for the current hardware set  without the data created by the launcher exe the
main game executable (Sega Rally Revo.exe) crashes upon start.

Note: the launcher crash here spawns the microsoft .NET error reporting GUI..",1186,"1"
"WINE-33899","Mouse moves screen in fullscreen.","Hello Everyone

There is a problem with fullscreen when not in emulated desktop that
causes the mouse to be able to move the screen. I tested the demo of
Teenage Mutant Ninja Turtles and it has this issue. This also effects
Devil May Cry 3 and other games.",1369,"1"
"WINE-13787","Logitech Harmony Remote Software displays blank dialogs","This appears to be a regression from earlier versions(9.61 and earlier). 

V 7.4.1 starts up with a blank splash and blank popup dialog.  If you open and close the dialogs you get a flash of the controls on the form.  You can actually selection the options and click the button if you know exactly where it is in the blank screen.  This dialog downloads an update to the 7.4.1 software.

I'm reporting this because for the first time the main part of the software appears to function once you get past this download dialog.",192,"0"
"WINE-36774","Adobe Creative Cloud: Adobe Application Manager crashes after signing in","Created attachment 48836
Error details

When I try to install adobe dreamweaver cc (but also other version) precisely when I click: install or try then Adobe asks me to sign in and then wine gives me an error saying something like (I translated it from italian): the PDapp.exe programm has encountered an error and has to be closed then I click show details and the result is reported in the attachment.

Can you help me?

Thank you",72,"0"
"WINE-11582","Macromedia Flash 5 Trial hangs when you click Try (ShowWindow operations should avoid potentially blocking inter-thread SendMessage if show command is no-op)","Can't try this trial out very well.  It installs
but when you start it the Try button just
locks the app.",2473,"1"
"WINE-25107","When panning on SeaClear bits of the chart get 'left behind'","Originally reported at https://bugs.launchpad.net/ubuntu/+source/wine1.2/+bug/672739
When panning a chart around in the program bits of the chart are not redrawn correctly and instead the edge is repeated.  There also seems to be a problem with the display of the sidebar.

Regression testing shows 

7864ade5a8306c0078e16ae6d7e40bdece29395b is the first bad commit
commit 7864ade5a8306c0078e16ae6d7e40bdece29395b
Author: Dmitry Timoshkov 
Date:   Tue Sep 14 14:24:11 2010 +0900

    winex11.drv: Avoid copying invalid window bits.

:040000 040000 095ed4273818c8096ed3ff1ca095f535c984ac4a 9ff019bebb41eaf474ea7449b9a38c46916802c5 M	dlls

Reverting this commit seems to solve the problem for me",83,"0"
"WINE-41394","3DMark2001se 'Car chase' speed regression on mesa/nouveau","After upgrading wine to ver. 1.9.18 I noticed strange speed regression. After bisecting wine I found this commit was source of it:

first bad commit: [b62f4139eda58e8e25cbc58864fcea2599a20e97] wined3d: Swizzle D3DCOLOR attributes in the GLSL FFP replacement when necessary

I'm using nv92 (GeForce 8800 GS) video card with relatively new kernel (4.8.0-rc7-x64+) and 32-bit Slackware OS with many manual updates including git Mesa drivers. Initially I blamed mesa for speed regression or my specific build of it but after testing Mesa 12.0.3 and seeing same very low speed there I tried wine bisect first. May be there is interplay between some bugs or nouveau simply can't handle slightly different kind of load. But most other tests in this benchmark works fine and older 3DMark2000 also speedy.

I tried to make apitrace of this issue but under apitrace both good and bad commits played 'car chase' scene (low/high detail) smoothly. Without apitrace running bad commit mostly slows down to 0-1 fps even on low detail scene.

Compressed traces are at 
https://cloud.mail.ru/public/75Mf/fFuSprBh9

Bug still present in current git head (post 1.9.19).",153,"0"
"WINE-3306","wininet: bad Host header generated if referer doesn't 'crack'","If a 'referer' is passed into HttpOpenRequest in a form that InternetCrackUrlW
fails to crack the host header will be generated from an uninitialized local
variable.

There are two things wrong here.

Firstly the return from InternetCrackUrlW isn't tested for success before using
the results.

Secondly the Host header should not be derived from the Referer header.  The
Host header should be derived from the URL that is being requested if the URL
contains a host or from the server if not.

From the HTTP spec (RFC 2616):

The Host request-header field specifies the Internet host and port
   number of the resource being requested as obtained from the original
   URI given by the user or referring resource (generally an HTTP URL
   as described in section 3.2.2).

This does seem ambiguous but it should be read: ...as obtained from the
original URI (given by the user or referring resource (generally an HTTP URL
   as described in section 3.2.2))

It's just noting where the original URI came from.

I'll submit a patch that prevents this particular problem but haven't yet
considered the implications if going through a proxy.",869,"1"
"WINE-13818","Yahoo! Messenger 9.0 beta installer crashes in ntdll when changing window focus","Created attachment 13865
Yahoo! Messenger installer backtrace

With Wine version wine-1.0-rc4-29-g035f1dd after the installer finishes downloading installation files if I change the focus between the installer window and another window around the 6% mark the installer crashes in HEAP_CreateFreeBlock in ntdll. If I do not remove focus from the installer window during the installation no crashes occur. Backtrace is attached.",199,"0"
"WINE-22782","Battlefield 1942: missing some textures inside vehicles","Created attachment 28110
screenshot of missing textures at top of screen and at bottom

Somewhere maybe around 1.1.38 this was working but now the textures of the inside of vehicles eg tanks was correct now they are partly missing so that the ground and sky can be seen. (see screenshot)

I should be able to complete a regression test in the next few days.

wine-1.1.44-322-g5cc00e8 geforce 8 195.36.15.",1875,"1"
"WINE-11636","eFax messenger terminates","eFax Messenger ran acceptably under 0.9.52 allowing for viewing and printing of local fax files.  However with 0.9.53 the application starts and then shortly after displaying the main window terminates.  This holds true with 0.9.54 and I have not yet tested with 0.9.55.  However reverting to 0.9.52 allows the application to run again.",4,"0"
"WINE-39092","Regression introduced with xaudio2_8","Created attachment 52084
Log of game crashing on git master

Game ラクエンイセキのリムリリム fails to start after commit 929ab3e527b25bcfea375e4373230748868d8714. Reverting commit in git master fixes issue.",164,"0"
"WINE-7365","wine-2006-2-8 build error(widl)","make[2]: Entering directory `/home/hys545/wine/tools/widl'
gcc -c -I. -I. -I../../include -I../../include    -Wall -pipe
-fno-strict-aliasing -Wdeclaration-after-statement -Wwrite-strings
-Wpointer-arith  -O2 -g -pipe -m32 -march=i386 -mtune=pentium4  -o parser.yy.o
parser.yy.c
In file included from parser.l:55:
parser.y:124: error: expected identifier or ¡®(¡¯ before numeric constant
parser.y:125: error: expected ¡®¡¯ before ¡®attr_list_t¡¯
parser.l: In function ¡®parser_lex¡¯:
parser.l:131: error: ¡®YYSTYPE¡¯ has no member named ¡®str¡¯
parser.l:142: error: ¡®YYSTYPE¡¯ has no member named ¡®uuid¡¯
parser.l:146: error: ¡®YYSTYPE¡¯ has no member named ¡®num¡¯
parser.l:150: error: ¡®YYSTYPE¡¯ has no member named ¡®num¡¯
parser.l: In function ¡®kw_token¡¯:
parser.l:323: error: ¡®YYSTYPE¡¯ has no member named ¡®str¡¯
parser.l:326: error: ¡®YYSTYPE¡¯ has no member named ¡®str¡¯
parser.l: In function ¡®attr_token¡¯:
parser.l:337: error: ¡®YYSTYPE¡¯ has no member named ¡®str¡¯
make[2]: *** [parser.yy.o] error 1
make[2]: Leaving directory `/home/hys545/wine/tools/widl'
make[1]: *** [widl] ¿À·ù 2
make[1]: Leaving directory `/home/hys545/wine/tools'
make: *** [tools] ¿À·ù 2",0,"0"
"WINE-39566","Missing player model on Raiden III","Created attachment 52715
Console output

Most of the game seems to render fine but occasionally models lose their textures and become white and most obviously the player's ship is completely invisible (see screenshot).

I realise this may be a driver issue so would appreciate feedback from others. I've tried StrictDrawOrdering but that didn't help.

I'm running Raiden III Digital Edition (2.0.0.3) from GOG.com.

My specs:

Wine 1.7.54 (64bit)
Linux Mint 17.2 (3.19.0-26-generic)
Proprietary nVIDIA drivers (352.55)
GeForce GTX 960

I'm attaching a screenshot and a sanitised log. The original log file was almost 200k lines long after roughly 15 seconds of gameplay!",983,"1"
"WINE-28720","Kindle for PC needs msvcp90.dll.??0?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@ID@Z","Moving on to the next crash now that bug 28399 is fixed (in wine-1.3.30-102-g8f8e86e).",0,"0"
"WINEHQ.ORG-2537","broken link","Open Source open process",228,"1"
"WINE-34013","Altium Designer 10 and its installer crash in InternetQueryOptionW","After doing 'winetricks vd=1024x768' to work around bug 34012
continued with Altium Designer install.  Next problem was
it refused to accept my username and password.

+relay+seh+wininet showed that it was crashing in InternetQueryOptionW()
somehow.  The installer caught the crash so there was no backtrace but it
did give the address in the gui and said it was a read from NULL.
Passing that address to winedbg's disasm pointed to str_to_buffer().
The option it was retrieving was INTERNET_OPTION_PROXY_USERNAME 
evidently req->session->appInfo->proxyUsername was null.

This may be a regression introduced by the recent commit
bedf296a27d5689beb693637407829b0bd6d8a1c

The attached patch gets past this problem and on to the next.",19,"0"
"WINE-15772","Victoria: An Empire Under The Sun: Crashes on loading screen","Created attachment 16872
errorlog

Crashes while loading graphics sound already plays during loading screen and intro movie plays normally.",538,"1"
"WINE-43096","rtpMidi cannot install.","rtpMidi cannot install.

this is log.
[0036:0037][2017-05-27T22:59:07]i323: Registering package dependency provider: {80D8C295-E035-4C68-B4F3-0DB34393A2C2} version: 1.2.11.41 package: teVirtualMIDI32MSI
[0036:0037][2017-05-27T22:59:07]i301: Applying execute package: teVirtualMIDI32MSI action: Install path: C:\users\Public\Application Data\Package Cache\{80D8C295-E035-4C68-B4F3-0DB34393A2C2}v1.2.11.41\teVM32Burn.msi arguments: ' ALLUSERS=1 ARPSYSTEMCOMPONENT=1 MSIFASTINSTALL=7 USING_BURN=yes SUPPRESSWHQL=1'
[0036:0037][2017-05-27T22:59:57]e000: Error 0x80070643: Failed to install MSI package.
[0036:0037][2017-05-27T22:59:57]e000: Error 0x80070643: Failed to execute MSI package.
[0031:0032][2017-05-27T22:59:57]e000: Error 0x80070643: Failed to configure per-machine MSI package.
[0031:0032][2017-05-27T22:59:57]i319: Applied execute package: teVirtualMIDI32MSI result: 0x80070643 restart: None
[0031:0032][2017-05-27T22:59:57]e000: Error 0x80070643: Failed to execute MSI package.
[0036:0037][2017-05-27T22:59:57]e000: Error 0x8007000e: Failed to allocate data for message.
[0036:0037][2017-05-27T22:59:57]e000: Error 0x8007000e: Failed to get message over pipe
[0036:0037][2017-05-27T22:59:57]e000: Error 0x8007000e: Failed to pump messages in child process.
[0031:0032][2017-05-27T22:59:57]i319: Applied rollback package: teVirtualMIDI32MSI result: 0x0 restart: None
[0031:0032][2017-05-27T22:59:57]e000: Error 0x800700e9: Failed to write message type to pipe.
[0031:0032][2017-05-27T22:59:57]e000: Error 0x800700e9: Failed to write send message to pipe.
[0031:0032][2017-05-27T22:59:57]e000: Error 0x800700e9: Failed to send BURN_ELEVATION_MESSAGE_TYPE_EXECUTE_PACKAGE_PROVIDER message to per-machine process.
[0031:0032][2017-05-27T22:59:57]e000: Error 0x800700e9: Failed to register the package provider on per-machine package.
[0031:0032][2017-05-27T22:59:57]e000: Error 0x800700e9: Failed to write message type to pipe.
[0031:0032][2017-05-27T22:59:57]e000: Error 0x800700e9: Failed to write send message to pipe.
[0031:0032][2017-05-27T22:59:57]e000: Error 0x800700e9: Failed to send message to per-machine process.
[0031:0032][2017-05-27T22:59:57]e000: Error 0x800700e9: Failed to end session in per-machine process.
[0031:0032][2017-05-27T22:59:57]e000: Error 0x800700e9: Failed to write message type to pipe.
[0031:0032][2017-05-27T22:59:57]e000: Error 0x800700e9: Failed to write send message to pipe.
[0031:0032][2017-05-27T22:59:57]e000: Error 0x800700e9: Failed to send message to per-machine process.
[0031:0032][2017-05-27T22:59:58]i399: Apply complete result: 0x80070643 restart: None ba requested restart:  No",312,"1"
"WINE-12648","With 16 bit display Qtracker crashes just after it puts up GUI","Bug 5671 was about a similar crash in 32 (24) bit mode
which is now fixed.

The app runs fine on Wine on 32 bit graphics screens
and on Windows XP in both 16 and 32 bit graphics screens
but it crashes with a divide by zero error on wine with
16 bit graphics screens.",871,"1"
"WINE-21494","wine(64) regedit foo.reg fails","Backtrace:
=>0 0x00007f0b7ab3cce1 read_i+0x20b() [/home/austin/64-wine-git/dlls/msvcrt/file.c:1779] in msvcrt (0x00007f0b7b3bee30)
  1 0x000000000000002c (0x00007f0b7b3bee30)
  2 0x00007f0b7da01660 in ld-linux-x86-64.so.2 (+0xd6660) (0x00007f0b7b3bee30)
  3 0x0000000000000200 (0x00007f0b7b3bee30)
  4 0x00007f0b7b3bee1c (0x00007f0b7b3bee30)
0x00007f0b7ab3cce1 read_i+0x20b [/home/austin/64-wine-git/dlls/msvcrt/file.c:1779] in msvcrt: Disasm NIY

1779	            if (bufstart[num_read-1] == '\r')


Changing num_read to DWORD_PTR fixes the crash but that causes compiler warnings. Probably an easy fix but my brain is tired...

P.S. easy to test with:
$ WINE=/path/to/64bit/wine sh winetricks nocrashdialog",7,"0"
"WINE-36597","valgrind shows several definite leaks in user32/tests/msg.c","==27824== 28 bytes in 1 blocks are definitely lost in loss record 294 of 1006
==27824==    at 0x7BC4C6DF: notify_alloc (heap.c:255)
==27824==    by 0x7BC50F23: RtlAllocateHeap (heap.c:1716)
==27824==    by 0x5163EB8: DIALOG_get_info (defdlg.c:342)
==27824==    by 0x51697B0: DIALOG_CreateIndirect (dialog.c:675)
==27824==    by 0x5169BF0: CreateDialogIndirectParamAorW (dialog.c:763)
==27824==    by 0x5169C41: CreateDialogIndirectParamA (dialog.c:772)
==27824==    by 0x5169AF4: CreateDialogParamA (dialog.c:737)
==27824==    by 0x4D388A8: test_dialog_messages (msg.c:11563)
==27824==    by 0x4D4745E: func_msg (msg.c:14588)
==27824==    by 0x4DA6978: run_test (test.h:584)
==27824==    by 0x4DA6D67: main (test.h:654)
==27824== 

==27824== 28 bytes in 1 blocks are definitely lost in loss record 296 of 1006
==27824==    at 0x7BC4C6DF: notify_alloc (heap.c:255)
==27824==    by 0x7BC50F23: RtlAllocateHeap (heap.c:1716)
==27824==    by 0x5163EB8: DIALOG_get_info (defdlg.c:342)
==27824==    by 0x51697B0: DIALOG_CreateIndirect (dialog.c:675)
==27824==    by 0x5169BF0: CreateDialogIndirectParamAorW (dialog.c:763)
==27824==    by 0x5169C41: CreateDialogIndirectParamA (dialog.c:772)
==27824==    by 0x5169AF4: CreateDialogParamA (dialog.c:737)
==27824==    by 0x4D38CA5: test_EndDialog (msg.c:11609)
==27824==    by 0x4D47463: func_msg (msg.c:14589)
==27824==    by 0x4DA6978: run_test (test.h:584)
==27824==    by 0x4DA6D67: main (test.h:654)
==27824== 

==27824== 68 bytes in 1 blocks are definitely lost in loss record 504 of 1006
==27824==    at 0x7BC4C6DF: notify_alloc (heap.c:255)
==27824==    by 0x7BC50F23: RtlAllocateHeap (heap.c:1716)
==27824==    by 0x7BC32765: RtlCreateActivationContext (actctx.c:4506)
==27824==    by 0x7B827590: CreateActCtxW (actctx.c:124)
==27824==    by 0x4D261D0: test_create (msg.c:6876)
==27824==    by 0x4D26E87: test_interthread_messages (msg.c:7004)
==27824==    by 0x4D473D9: func_msg (msg.c:14568)
==27824==    by 0x4DA6978: run_test (test.h:584)
==27824==    by 0x4DA6D67: main (test.h:654)
==27824==",28,"0"
"WINE-13421","Lotus Notes 6.5.4 - wrong windows behavior","Created attachment 13332
Screenshot

After a recent update of wine windows with notes behave strangely. They have smaller size and show only the part of notes to be wisable. When minimizing and maximazing the behave correctly but the same problem appears again when switching from another application to the wine window with notes.
I run OpenSuse 10.3 with kde 3.5.9 (release 61.4) and wine wine-1.0-rc1 from suse build system.
Snapshot attached.",160,"0"
"WINE-9204","Photoshop CS fails if you run it twice in a row","If you run Photoshop CS you have to do wineserver -k before
you can run it again.  (I forget what the failure mode is
exactly but it doesn't start up right.)
See http://wiki.winehq.org/AdobePhotoshop for the full
recipe of how to start Photoshop CS successfully.",1,"0"
"WINE-2309","Config file is missing with the June version of WINE binaries","Config file doesnt get created with the June version of WINE binaries.",436,"1"
"WINE-39384","Tencent QQ 7.6 frame manager kernel driver 'QQFrmMgr.sys' crashes on unimplemented function ntoskrnl.exe.CmRegisterCallback","Created attachment 52491
output-log

1. Download from http://dldir1.qq.com/qqfile/qq/QQ7.6/15742/QQ7.6.exe and install it.

2. Using winesevice -k to kill all wine processes after QQ7.6 being started by installer.

3. wine C:\Program Files\Tencent\QQ\Bin\QQScLauncher.exe 
   But it can't be started.

Using this way could fix the bug but it is not perfect:

cd ~/.wine/drive_c/windows/system32/drivers/
chmod 000 QQFrmMgr.sys QQProtect.sys

And then the QQ7.6 could be started. Sometimes I need reboot system to start QQ7.6.",50,"0"
"WINE-31893","Portable Calibre does not run at all (python2.7)","Created attachment 41979
Back trace file

When I try to run Portable Calibre it crash with the attached back trace",191,"0"
"WINE-18569","TeamViewer: App doesn't start probably heap corruption","Created attachment 21230
Result of WINEDEBUG=+relay+seh+tid wine TeamViewer.exe &>/tmp/relay.txt

I installed TeamViewer with the default options. At the end the cursor blinks forever so I ctrl-c it.

I moved to the working directory and tried to launch TeamViewer with: wine TeamViewer.exe
The app doesn't start and I get an error in terminal (check attach)

I went to #winehq irc to find help I did steps below :

I removed my .wine directory and re-installed TeamViewer: same error
I did a trace log with WINEDEBUG=+relay+seh+tid wine TeamViewer.exe &>/tmp/relay.txt and lzma -9 /tmp/relay.txt
You can find the trace log in attachment
Focht thinks it's because of a heap corruption I did WINEDEBUG=+relay+seh+tid+heap wine TeamViewer.exe &>/tmp/relay.txt and TeamViewer launches succesfully but it doesn't lauch with WINEDEBUG=warn+heap wine ./TeamViewer.exe

So I now use WINEDEBUG=+seh+tid+heap wine TeamViewer.exe &>/tmp/relay.txt for a workaround but still looking for a fix.",1010,"1"
"WINE-41655","Error on exiting package created with pyinstaller needs msvcr100.dll._wfindnext32","Created attachment 56045
stacktrace from error

Exiting (closing) a python3 / tkinter application that was packed with pyinstaller on Win7/32 gives Error Message see stacktrace in attachments.",0,"0"
"WINE-42078","Dungeons & Dragons: Chronicles of Mystara needs d3dx11_43.dll.D3DX11CreateShaderResourceViewFromMemory","Created attachment 56580
terminal output

Found this while looking into bug #34288.
I removed the Directx redist package before launching the game.
Using built-in d3dx the game crashes early with

wine: Call from 0x7b43b6ac to unimplemented function d3dx11_43.dll.D3DX11CreateShaderResourceViewFromMemory aborting

Demo is available on Steam.

Wine 2.0-rc3
Fedora 25
OpenGL vendor string: NVIDIA Corporation
OpenGL renderer string: GeForce GT 730/PCIe/SSE2
OpenGL core profile version string: 4.5.0 NVIDIA 375.26",38,"0"
"WINE-28376","djdecks for DX does not work","Created attachment 36386
console

Hi

djdecks for DX does not work...
but the old non DX works...

both are different.
Ubuntu 11.x natty

www.djdecks.be
djDecks DX is a version of djDecks that makes use of DirectX 9 to draw the graphics.
Besides that this build is also the first version of djDecks that is completely written in C++ where the regular version still has a part of Visual Basic code.
http://forum.djdecks.be/viewtopic.php?f=2&t=5719",27,"0"
"WINE-14944","Mission planning menu in Raven Shield is not drawn correctly","Created attachment 15547
Planning menu

When first entered the mission planning menu is not drawn correctly as shown in the attached image it's flashing and showing random images from the game. I can see some hints of the buttons in menu during flashing but no cursor.

If I go back from the game to planning it seems to work.

I have no information if this has been working previously in 2004 when the game was first imported to appdb.

The single player also suffers from this problem (Custom Mission -> Practice Misson) and is downloadable from:
http://www.fileshack.com/file.x?fid=2382

I have the Nvidia binary drivers version legacy-96xx and have GeForce 7600GT if it's related.",747,"1"
"WINE-12859","HideThreadFromDebugger in NtSetInformationThread","Created attachment 12555
Add HideThreadFromDebugger to winternl.h and to NtSetInformationThread

This API exists in the windows NtSetInformationThread for some reason.

The sensible thing to do in wine here seems to be to just ignore this call.

Patch attached is against 0.9.60.",526,"1"
"WINE-16858","Jetmen REVIVAL: Unplayable because of strange bugs","This is a nice Deplhi-coded Windows game. But the game is affected by some strange bugs like bad physic (water falling down in left direction) ship not rendered correctly I can fly through solid etc.

Note that maps are built from 3 bitmaps ([name]Back.bmp representing background [name]DotMap.bmp representing solid location and [name]Middle.bmp representing solid graph) and script-like [name].map (map settings water placement starting positions etc.).

Also I can launch the game only with GDI as DirectDrawRenderer (OpenGL screws up the window so it's unplayable).",904,"1"
"WINE-19723","NordicBet Poker-client fails to install","I have never had any problems earlier installing the client & using wine-1.1.27-1mdv2009.1 makes it impossible to move forward to the next page when executing the exe-file from the desktop when running wine /home/kristoffer/Skrivbord/NordicBet.exe.

The result is that I just see a white window and nothing happens.",1975,"1"
"WINE-38626","Word 2010 image text mode wrapping menu hides after a few seconds","Reproduce:

1) Insert an image in a any Word document
2) Right click the image
3) Try changing the line/text wrap of the image to an item from the submenu
4) If you hover over an item in the submenu it disappears. This should not happen before a click.

If you navigate away (to another native Linux window) before opening the submenu the context menu stays and you can open the submenu in the native application (LOL!). That gives you more time.

A better workaround is to use the lint: Markup -> Text Wrapping icon and then choose from the list.

What's causing this strange behaviour?",1018,"1"
"WINE-26070","user32/class tests show some valgrind warnings","Invalid read of size 2
    at  RtlImageNtHeader (loader.c:2508)
    by  RtlImageDirectoryEntryToData (loader.c:2684)
    by  find_entry (resource.c:189)
    by  LdrFindResource_U (resource.c:303)
    by  find_resourceW (resource.c:139)
    by  FindResourceExW (resource.c:183)
    by  FindResourceW (resource.c:192)
    by  LoadMenuW (menu.c:4359)
    by  WIN_CreateWindowEx (win.c:1372)
    by  CreateWindowExA (win.c:1550)
    by  check_instance_ (class.c:266)
    by  test_instances (class.c:441)
    by  func_class (class.c:995)
    by  run_test (test.h:556)
    by  main (test.h:624)
  Address 0x12345678 is not stack'd malloc'd or (recently) free'd

...

 28 bytes in 1 blocks are definitely lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  DIALOG_get_info (defdlg.c:335)
    by  DIALOG_CreateIndirect (dialog.c:669)
    by  CreateDialogIndirectParamAorW (dialog.c:755)
    by  CreateDialogIndirectParamA (dialog.c:764)
    by  CreateDialogParamA (dialog.c:729)
    by  CreateDialogParamTest (class.c:878)
    by  func_class (class.c:990)
    by  run_test (test.h:556)
    by  main (test.h:624)

...

 42420 bytes in 21 blocks are possibly lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  get_tls_data (test.h:240)
    by  winetest_set_location (test.h:275)
    by  check_instance_ (class.c:263)
    by  thread_proc (class.c:292)
    by  ??? (signal_i386.c:2473)
    by  call_thread_entry_point (signal_i386.c:2499)
    by  start_thread (thread.c:404)
    by  start_thread (in /lib/libpthread-2.11.2.so)
    by  clone (in /lib/libc-2.11.2.so)",2865,"1"
"WINE-39747","Original War: user interface gets corrupted after opening the help screen","Created attachment 53020
screenshot (comparison)

When you start a new game or load a previously saved game the user interface in the game is rendered correctly. After opening and closing the in-built help screen the user interface becomes corrupted so that only the character portrait and the minimap can bee seen everything else is replaced with black rectangles (see attached screenshot).
Plain terminal output doesn't show anything.
I tried and reproduced this bug with Nvidia binary drivers 340.96 because the game doesn't start properly with Nouveau.

Tested with the following game versions:
1.09 (demo version)
1.10 (stock version from GOG.com)
2.0.3.5 (the latest patch)

1.09 and 1.10 versions use DirectDraw renderer exclusively newer patches allow the player to choose between the default ddraw and opengl renderers: the issue occurs only with ddraw.

The problem was introduced by

commit 821c2ed6a3478fadeafe7c64213b5f0af5f19d57
Author: Henri Verbeet 
Date:   Fri Dec 4 11:30:15 2015 +0100

    ddraw: Do not mark surfaces as lost unconditionally when setting the cooperative level.

To reproduce the problem in the demo version:
1. Install and start the demo with OwarDemo.exe
2. In the main menu choose  select the U.S campaign (blue icon) press  to skip the video. The game starts with a conversation press  to skip it.
3. When you gain control over your character press the  icon in the upper menu bar to open the in-game help scene.Close the screen with the checkmark button in the lower right.
4. You should see that the main user interface is missing decoration buttons etc.

Fedora 23
Nvidia binary drivers 340.96

Original_War_Demo_109_Install_ENG\[www.original-war.net\].rar (352 M)
sha1: a87ea7d3a3c5e1aae8eaea04ac19bc7f9974c0eb",2,"0"
"WINE-7447","Call  to unimplemented function shell32.dll.SHGetIconOverlayIndexA","A user submitted this application into AppDB. I gave it a try as well and it
pops up a messagebox with error while the line above is in the console. the app
is japanese so i cannot read any text. The bug is also triggered while trying
to choose open from the menu",504,"1"
"WINE-32966","mshtml: crash in get_frame_by_name( jQuery ) using jQuery 1.3.2","Created attachment 43544
Full log for the jQuery crash

This url crashes in mshtml/htmlwindow.c:407

wine iexplore http://www.w3.org/2008/06/mobile-test/

0025:trace:jscript:jsdisp_get_id not found LjQuery
wine: Unhandled page fault on read access to 0x00000088 at address 0x7fddb8869a04 (thread 0025)

which is:
407 hres = IHTMLElement_get_id(


wine-1.5.23-152-gb8d081b


-- 
By by ... Detlef",840,"1"
"WINE-30869","Word 2010 UI uses wrong font size - leads to huge UI elements","Whole Word UI including ribbon window title and status bar is displayed with huge font size ribbon height is about 2 times larger than it should be.

Regression test shows that's a recently introduced problem from:

cca41207c161250d709ae3f8e0b002ac5c794de9 is the first bad commit
commit cca41207c161250d709ae3f8e0b002ac5c794de9
Author: Dmitry Timoshkov 
Date:   Mon Jun 4 12:05:25 2012 +0900

    gdi32: Fix parameters of some GDI stock fonts.

:040000 040000 78dfe59e027790bf6e171283d317c8214629312d c1aee58caa05e216e80a12b4ecf15f799c715696 M	dlls",4,"0"
"WINE-1840","Support for MSCMS.DLL?","This isn't a bug but rather a request for DLL support.  The MS Color Management
System (mscms.dll) isn't included with WINE.  Applications such as PhaseOne's
Capture One (http://www.c1dslr.com/) require it.  Are there plans to support it?",538,"1"
"WINE-15878","Dogfood:  Gimp 2.6 will not open images.","Created attachment 17033
Gimp start up messages

When using gimp 2.6 image files will not load making the program unusable.  Instead lots of err:module:import_dll Library ... messages are printed.  The problem is visible on program start up as well.  Hence as Mandriva 2008.1 comes with gimp 2.4.5 I can't use this newer version to replace the old version that came with the distribution.",216,"0"
"WINE-32432",".NET 2.0 Framework SDK installer fails on builtin atl80.dll (.spec file contains entries with spelling errors)","Hello folks

found while installing .NET 2.0 Framework SDK ...

--- snip ---
err:module:find_forwarded_export function not found for forward 'atl100.AltCallTermFunc' used by LC:\\windows\\system32\\atl80.dll. If you are using builtin Latl80.dll try using the native one instead. 
--- snip ---

http://source.winehq.org/git/wine.git/blob/9abb9ffe91f034eb53f5788d915d5551a1b38eba:/dlls/atl80/atl80.spec#l50

These entries have spelling errors (AltXXX vs. AtlXXX):

--- snip ---
  49 62 stub AltWinModuleRegisterClassExW
  50 63 stub AltWinModuleRegisterClassExA
  51 64 stdcall AltCallTermFunc(ptr) atl100.AltCallTermFunc
  52 65 stub AltWinModuleInit
  53 66 stub AltWinModuleTerm
--- snip ---

Regards",1,"0"
"WINE-35237","Ivona Voices needs MSVCP110.dll.?setw@std@@YA?AU?$_Smanip@_J@1@_J@Z","Created attachment 46997
Backcktrace auto-reported by wine

Latest version of Ivona Voices (ivona_sapi5_voice_v1.6.63.dll) installs fine but fails when accessed by a speech client. It needs this function:

fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0xc5ca9c 1 C) semi-stub
wine: Call from 0x7bc54610 to unimplemented function MSVCP110.dll.?setw@std@@YA?AU?$_Smanip@_J@1@_J@Z aborting",13,"0"
"WINE-5844","tray minimize","under Gnome:
minimizing from tray and then restoring window will move it to the left and up 
a litle every time

minimizing by clicking minimize button on apps that support minimizing to tray 
will NOT minimize those apps _only to tray_ like they want but also to Window 
List clicking app button in Window List will restore empty window clicking 
tray icon will restore CROPPED horizontally window

http://www.google.com/search?q=wine+tray+minimize
gets you http://www.winehq.com/hypermail/wine-devel/2002/11/1123.html
http://www.winehq.com/hypermail/wine-devel/2002/11/1114.html
so this is AGES old bug

ps:same on Cedega",651,"1"
"WINE-25212","piwigo ploader can't connect to the net","Hello
I try to make an application to work in wine.

It's ploader an utility coming with the Piwigo photo gallery.

It seems to work but have to connect to the web to upload photos and this
don't works.

This windows program is available here:
http://fr.piwigo.org/ext/extension_view.php?eid=270

when launched from wine it first shows locales loading:
wine pLoader.exe 
fixme:msvcrt:MSVCRT__wsetlocale 0 LChinese_People's Republic of China.936
fixme:msvcrt:MSVCRT__wsetlocale 0 LEnglish_United States.1252
(....)
then:

fixme:msvcrt:MSVCRT__wsetlocale 0 LEnglish_United States.1252
fixme:msvcrt:msvcrt_fdtoh wtf
(several times)
fixme:msvcrt:MSVCRT__sopen : pmode 0x01b6 ignored
fixme:msvcrt:msvcrt_fdtoh wtf

it asks for the gallery URL then is issues an error message: can't connect to
xxxx:80 (unknown error). I can connect from windows or some variant of Linux
(there is a linux debian only version not working on my openSUSE).

Adding :80 after the URL gives the same result (http://dodin.org:80/piwigo)

there is an offline option and under this options the program works perfectly
so only the connect problem seems to forgive it's use

the programm is a perl application.
thanks
jdd",1008,"1"
"WINE-36359","valgrind shows a couple possible leaks in dsound/tests/dsound.c","==13912== 28 bytes in 1 blocks are possibly lost in loss record 255 of 889
==13912==    at 0x7BC50A9B: RtlAllocateHeap (heap.c:255)
==13912==    by 0x4E52BB8: apartment_getclassobject (compobj.c:526)
==13912==    by 0x4E55FC6: get_inproc_class_object (compobj.c:2894)
==13912==    by 0x4E58D2F: CoGetClassObject (compobj.c:3032)
==13912==    by 0x4A68893: func_dsound (dsound.c:181)
==13912==    by 0x4A72EC4: run_test (test.h:584)
==13912==    by 0x4A732B3: main (test.h:654)
==13912== 

==13912== 28 bytes in 1 blocks are possibly lost in loss record 256 of 889
==13912==    at 0x7BC50A9B: RtlAllocateHeap (heap.c:255)
==13912==    by 0x4E52BB8: apartment_getclassobject (compobj.c:526)
==13912==    by 0x4E55FC6: get_inproc_class_object (compobj.c:2894)
==13912==    by 0x4E58D2F: CoGetClassObject (compobj.c:3032)
==13912==    by 0x4E594B7: CoCreateInstance (compobj.c:3197)
==13912==    by 0x6166702: get_mmdevenum (dsound_main.c:178)
==13912==    by 0x61673FE: GetDeviceID (dsound_main.c:261)
==13912==    by 0x616427A: DirectSoundDevice_Initialize (dsound.c:760)
==13912==    by 0x6164F04: IDirectSound8Impl_Initialize (dsound.c:398)
==13912==    by 0x4A627B8: IDirectSound_test (dsound.c:95)
==13912==    by 0x4A68A43: func_dsound (dsound.c:202)
==13912==    by 0x4A72EC4: run_test (test.h:584)
==13912==    by 0x4A732B3: main (test.h:654)
==13912==",1239,"1"
"WINE-37669","Resetting a write watch can cause memory access violation in kernel","What happens:
heavy multi-threaded network application in one thread reads/writes from/to
a socket while in another thread .net GC calls GetWriteWatch with flag
WRITE_WATCH_FLAG_RESET on a buffer which was just verified for write access
and passed by ws2_32.recv to recvmsg kernel call. While recvmsg waits for
incoming data GetWriteWatch resets write watches by clearing VPROT_WRITE
access on a buffer passed to recvmsg. That cases recvmsg to return EFAULT
which in turn leads to a .net application raising an exception and dying.

This is basically a .net garbage collector causing races in network code
which reads/writes to a buffer because reading or writing via a network
is much slower than say reading/writing a disk file but essentially this
is a general problem with resetting a write watch while another thread
is being dealing with the affected memory range.",1065,"1"
"WINE-18111","Powerhorse crashes","Created attachment 20548
output on command line on start.

With wine 1.1.18 an application works well - with wine 1.1.19 it crashes immediately after start with the attached backtrace.

the program is a program like emule.

should I make a Regressiontest (my CPU is very slow ...) or can anyone see the reason for the crash?

thanks!

kind regards Alois",3,"0"
"WINE-22574","Blockland v14 freezes on startup","Blockland v14's freezes on startup. No console fuss or any other abnormal things (other than the freeze itself) is visible. The GUI (that was unfortunately frozen) appears to look normal. The console is also unable to be typed into. Closing the console gets Blockland out of your way.",97,"0"
"WINE-38719","64-bit ARM Windows applications from Windows SDK for Windows 10 crash when accessing TEB/PEB members (AArch64 platform specific register X18 must be reserved for TEB)","Hello folks

continuation of bug 38714

'mt.exe' runs further now but still crashes.

--- snip ---
...
0027:Starting process LZ:\\root\\wine\\64\\arm64\\mt.exe (entryproc=0x14010ca70)
0027:fixme:heap:RtlSetHeapInformation (nil) 1 (nil) 0 stub
0027:trace:seh:raise_exception  info[0]=0000000000000000
0027:trace:seh:raise_exception  info[1]=0000001200000268
0027:trace:seh:call_stack_handlers calling handler at 0x7fb0d6dbbc code=c0000005 flags=0
wine: Unhandled page fault on read access to 0x1200000268 at address 0x140056d50 (thread 0027) starting debugger...
0027:trace:seh:start_debugger Starting debugger winedbg --auto 38 64
fixme:ole:RemUnknown_QueryInterface No interface for iid {00000019-0000-0000-c000-000000000046}
...
Unhandled exception: page fault on read access to 0x1200000268 in 64-bit code (0x0000000140056d50).
Register dump:
ARM64 EL0t Mode
 Pc:0000000140056d50 Sp:0000007fafe9f5a0 Lr:00000001400e94d8 Pstate:0000000020000000(--C-)
 x0: 000000000000003e x1: 0000000000000000 x2: 000000000000003e x3: 0000007fafe9f5f8 x4: 0000000000000001
 x5: 0000007fb02900e8 x6: 0000007fb029af54 x7: 0000000000000002 x8: 0000000140140220 x9: 0000001200000238
 x10:0000000000000000 x11:0000000000000000 x12:0101010101010101 x13:0000000000000028 x14:ffffffffffffffff
 x15:0000007fafd49a08 ip0:0000007fb0d92268 ip1:0000007f53e999c0 x18:0000007fb0f619d0 x19:0000007fafe9f628
 x20:000000000000003e x21:0000007fb0290750 x22:0000007fafe9fbb8 x23:0000007fafe9f698 x24:0000007fb00cd000
 x25:0000007fb02908c0 x26:0000007fdd267d80 x27:0000007fdd267cf8 x28:0000007fb00e5000 Fp:0000007fafe9f5d0
Stack dump:
0x0000007fafe9f5a0:  0000007fafe9f5c0 0000007fb0d37378
0x0000007fafe9f5b0:  0000007fafe9f5c0 0000007fb0d37510
0x0000007fafe9f5c0:  0000007fc00000e5 0000007f53e999c0
0x0000007fafe9f5d0:  0000007fafe9f650 00000001400730b0
0x0000007fafe9f5e0:  0000000000000000 000000000000001c
0x0000007fafe9f5f0:  0000007f00000000 000000000000003e
0x0000007fafe9f600:  0000007fb02908c0 0000007fdd267d80
0x0000007fafe9f610:  0000007fdd267cf8 4010040140100401
0x0000007fafe9f620:  0000000000000006 0000000000000000
0x0000007fafe9f630:  0000000000000000 0000000000000000
0x0000007fafe9f640:  0000007fafe9f670 0000007f53e99a40
0x0000007fafe9f650:  0000007fafe9f6c0 0000000140073688
Backtrace:
=>0 0x0000000140056d50 in mt (+0x56d50) (0x0000007fafe9f5d0)
  1 0x00000001400e94d8 in mt (+0xe94d7) (0x0000007fafe9f5d0)
0x0000000140056d50: be_arm64_disasm_one_insn: not done

Modules:
Module	Address					Debug info	Name (52 modules)
ELF	          400000-          413000	Deferred        
PE	       140000000-       140170000	Export          mt
...
Threads:
process  tid      prio (all id:s are in hex)
...
00000026 (D) Z:\root\wine\64\arm64\mt.exe
	00000027    0 <==
--- snip ---

Since debugging is not possible as of now an offline analysis at the crash location:

--- snip ---
...
0000000140056D38  ADD        X8 X18 #0       X18 = NtCurrentTeb()?
0000000140056D3C  LDR        X9 [X8#0x60]    Teb->Peb
0000000140056D40  ADRP       X8 #0x140140000  imports segment (.idata)
0000000140056D44  ADD        X2 X0 #0        arg3 = size
0000000140056D48  ADD        X8 X8 #0x220    HeapAlloc
0000000140056D4C  MOV        W1 #0            arg2 = flags = 0
0000000140056D50  LDR        X0 [X9#0x30]    arg1 = Peb->ProcessHeap
0000000140056D54  LDAR       X9 [X8]
0000000140056D58  BR         X9                HeapAlloc()
--- snip ---

Essentially being:

HeapAlloc( GetProcessHeap() 0 size)

Further decoded:

HeapAlloc( ((NtCurrentTeb()->ProcessEnvironmentBlock)->ProcessHeap) 0 size)

I haven't found information on register X18 being used for TEB hence this is another guess.
There is no initialization of X18 in caller chain and even in the whole app code.
Running the whole .text segment through disas only reads through ADD and LDR instructions can be found.

Other information sources:

http://lists.cs.uiuc.edu/pipermail/llvm-commits/Week-of-Mon-20150119/254111.html

([llvm] r226664 - AArch64: add backend option to reserve x18 (platform register))

https://android.googlesource.com/platform/art/+/63206f3%5E!/

(AArch64: Fix the usage of Thread Register for arm64)

--- quote ---
This patch cleans-up the usage of x18 as TR for Arm64. As described in
the Arm64 Procedure Call Standard the recommended usage for x18 is to
carry inter-procedural state (i.e. ART thread information).
...
--- quote ---

https://stackoverflow.com/questions/28109826/arm64-using-gas-on-ios

--- quote ---
X0-X7 - arguments and return value (volatile)
X8 = indirect result (struct) location (or temp reg)
X9-X15 = temporary (volatile)
X16-X17 - intro-call-use registers (PLT Linker) or temp
X18 - platform specific use (TLS)
X19-X28 - callee saved registers (non-volatile)
X29 - frame pointer
X30 - link register (LR)
SP - stack pointer and zero (XZR)
V0-V7 V16-V31 - volatile NEON and FP registers
V8-V15 - callee saved registers (non-volatile used for temp vars by compilers)
--- quote ---

$ sha1sum sdksetup.exe 
0720e4e922ff7aa8cc78b23a00906a96c2b237a4  sdksetup.exe

$ du -sh sdksetup.exe 
1.2M	sdksetup.exe

# ./wine64 --version
wine-1.7.43-178-g22983f2

Regards",9,"0"
"WINE-21469","Civilization 4 shows a myriad of errors of unnecessary wined3d check.","From some time when I run Civilization4 I get a myriad of these messages and others with other formats:

err:d3d:getColorBits Unsupported format: WINED3DFMT_R16G16_FLOAT
err:d3d:IWineD3DImpl_IsPixelFormatCompatibleWithRenderFmt Unable to check compatibility for Format=WINED3DFMT_R16G16_FLOAT

After looking in the wine code I have found out that what happens is that Civ calls the function IDirect3D9Impl_CheckDepthStencilMatch (no error of the application on that)

The implementation of wine then calls IWineD3D_CheckDepthStencilMatch which then calls

IWineD3DImpl_IsPixelFormatCompatibleWithRenderFmt

for each format that the adapter supports until it finds a supported format:

Problem:

IWineD3DImpl_IsPixelFormatCompatibleWithRenderFmt tries to match the supported pixel format of the adapter with the requested format.
If the supported pixel format of the adapter is of type WGL_TYPE_RGBA_ARB it tries to getColorBits of the format even if the format to try is a  floating format getColorBits responds with an error and same does IWineD3DImpl_IsPixelFormatCompatibleWithRenderFmt. Certainly the answer is correct (FALSE) but the problem is that it fills the screen with ERR that are due to wine checking things for which there is no need as they are directly false.

Possible solution: to do IWineD3DImpl_IsPixelFormatCompatibleWithRenderFmt right away check if:
cfg->iPixelType == WGL_TYPE_RGBA_ARB and format_desc is a floating format then return FALSE right away no need to fill ERR

same if
cfg->iPixelType == WGL_TYPE_RGBA_FLOAT_ARB and format_desc is not a floating format then return FALSE right away no need to fill ERR

If you do not like this solution getColorBits could be modified so that it does not file an error for floating point formats but just responds with 0 for all bit sizes when the format is a floating point without filling an error.

What do you prefer?

Can somebody propose a patch with this kind of behaviour or something better so that my Civ4 does not respond with this myriad of errors?

The myriad of unnecessary checks and of reports of ERR causes a some slowness that can be quantified eliminated unnecessary checks.",57,"0"
"WINE-510","Convert HACCEL to a void* (references: 23)","See bug 90 for instructions.
Approximate number of references: 23",161,"0"
"WINE-28888","Alt-tabbing from windowed Kanon makes it think alt is held down","- Run Kanon http://appdb.winehq.org/objectManager.php?sClass=version&iId=12764 and set it to use windowed mode.  Run another program (Firefox audacious etc. Linux version.  Not covering the Kanon window.)
- While Kanon is focused alt-tab to switch to the other program.
- Click in Kanon's window or the title bar.
- Find you can't left click to advance dialog any more (you can still right-click for menus).  Find that instead of advancing dialog enter switches between full screen and windowed.
- Switch to the other program then alt-tab back to Kanon.
- Find the problem is fixed.

Other info: I'm using XFCE4 with metacity-2.34.1.",753,"1"
"WINE-4799","Unimplemented dbghelp.dll.SymGetSymFromAddr64","Call from 0x404a4140 to unimplemented function dbghelp.dll.SymGetSymFromAddr64
stream then shuts down.",137,"0"
"WINE-1313","The Microsoft Powerpoint viewer cannot print","Bug comments restored from Gmane.org: 
 
The Microsoft Powerpoint viewer 
http://download.microsoft.com/download/powerpoint2000/ppview97/2000/WIN98/EN-US/PPView97.exe

cannot print in wine. If you do wine ppview32 click on a .pps file and then
click
print 
the cursor turns busy until you move it but nothing happens. 
If you do wine ppview32 somefile.pps (to launch the slideshow directly
without going 
through the main dialog) and then print from the right-click menu the app just
hangs 
and nothing else happens either... 
 
When this happens the following is printed to the log: 
0009:fixme:commdlg:PRINTDLG_SetUpPrinterListComboA Can't find '(null)' in printer 
list so trying to find default 
 
N.B. There are printers defined in /etc/printcap and other apps such as the Word 
viewer the Excel viewer and the builtin notepad print just fine.


------- Additional Comments From wine  alk.org.lu  2003-03-25 14:42 -------
*** This bug has been confirmed by popular vote. ***",373,"1"
"WINE-42463","ZmLearn crash at startup: Assertion 'm->state == STATE_PASSIVE' failed at pulse/mainloop.c:787 function pa_mainloop_prepare(). Aborting.","Created attachment 57309
Log with pulsetidpid channel.

reproduce:
1. Setting Windows version as XP and install it.
2. $ cd .wine/drive_c/users/USER_NAME/Application\ Data/ZmLearn
3. $ wine ZmClient.exe
then it will crash.

I find this patch from staging can fix it:
https://github.com/wine-compholio/wine-staging/blob/master/patches/winepulse-PulseAudio_Support/0001-winepulse.drv-Use-a-separate-mainloop-and-ctx-for-pu.patch

Wine version: wine-2.1-285-gd00f7315e0",0,"0"
"WINE-8522","tabbed control captures mouse input even when it shouldn't","I have a large window there is a tabbed control in it and several buttons on
the bottom of the large window (outside of the tabbed control).
The mouse actions do not reach the external buttons.
If i somehow manage to get the focus on the external buttons (tab key) they
accept input (like enter) and work correctly.

Probably this is connected to the fact that the tabbed control almost overlaps
my buttons (though the buttons are still drawn over it).
In the original windows environment the tabbed control doesn't overlap the buttons.",616,"1"
"WINE-1612","Creating icons problem on RedHat 9 (RH9)","I'm on RedHat 9. When i install some programs that create icons on desktop wine give this  
error:  
  
fixme:shell:Stream_WriteLocationInfo writing empty location info  
err:menubuilder:InvokeShellLinker failed to extract icon.  
err:menubuilder:InvokeShellLinker failed to extract icon.  
err:menubuilder:InvokeShellLinker failed to extract icon.  
  
And no icons are created...  
I think that the problem isn't with wineshelllink but i need help!! =]  
 
Daniel Lage Pinto",803,"1"
"WINE-8023","Lemmings Revolution: starts but all you get is a black screen.","Starting the game Lemmings Revolution only results in a black screen while 
hearing the game music. This happens for both the retail version and the demo 
(easy download for the demo --> http://www.download.com/Lemmings-Revolution/
3000-2111_4-1845015.html ).

After exiting the game with the Escape-key (normal way) it exits with an 
error. Also when debugging there is an error which repeats itself.

For both errors see the attachments.",60,"0"
"WINE-5683","False color effects in text backgrounds and objects (Diablo II LoD)","This bug occurred with 0.9.17 for the first time with no other version  
before.  
  
The game I'm playing is Diablo II LoD Patch 1.11. I have been using all 0.9.x  
versions of Wine and the colors had been fine. With 0.9.17 the background 
colors of texts (like the name of objects you find on the floor) and the 
backgrouund color of objects (like you have in your inventory or chest) are 
drawn in false colors. After a short time into the game the miscolorations 
start to spread to dialog boxes. And after another short time areas of the 
screen (like the big orbs signalling your life and mana points) first go white 
then start flashing. The color flashing effects get so bad that you have to 
quit the game.  
  
The game does not crash.  
  
I will try 0.9.18 as soon as the RPM is available from:  
http://nectar.math.uni-bielefeld.de/pub/suse/apt/SuSE/10.0-i386/RPMS.wine/",13,"0"
"WINE-10746","ADinstrument Chart crashes when opening a file","Created attachment 9587
log and dump

This is my first bug report ever so please tell me if something is wrong.

I just update to wine 0.9.46 I was using 0.9.39 before. This update is the most recent stable wine in Gentoo x86 (which is the distribution I'm using).

I was using wine to run ADinstrument Chart (this is a link to the software : http://www.adinstruments.com/products/software/corporate/Chart-Software/) without problem. Now since my last update each time I try to open a file the software crash.

I'm using gcc 4.1.2

I started my program from the .drive_c directory with the command wine Program Files\Chart5fr/Chart5.exe and then proceed immediatly to open a file and it crashs. I try using my data files the exemple given with the software and data files from someone else and it crash each time.

I try to erase all the trace/dump/tmp I could find in /tmp and in c:\window\temp

I tried the WINEDEBUG=+relay trick they give on the how to report a bug page but I don't see any differences in the dump/log.

I attach all the log from launching the program to returning to the prompt.",360,"1"
"WINE-22216","Problem with freopen(CONOUT$ w stdout)","I am having trouble with code that reads...

	has_console = FALSE
	{
		typedef BOOL (CALLBACK* LPFNATTACHCONSOLE)(DWORD)
		LPFNATTACHCONSOLE MyAttachConsole
		HMODULE hmod

		if ((hmod = GetModuleHandle(kernel32.dll))) {
			MyAttachConsole = (LPFNATTACHCONSOLE) GetProcAddress(hmod AttachConsole)
			if (MyAttachConsole && MyAttachConsole(ATTACH_PARENT_PROCESS)) {
				freopen(CONOUT$ w stdout)
				freopen(CONOUT$ w stderr)
				dup2(fileno(stdout) 1)
				dup2(fileno(stderr) 2)
				has_console = TRUE
			}
		}
	}

The freopen calls should cause stderr and stdout to be redirected
to the console.  Under wine they are not.

The failure occurs in dlls/kernel32/console.c function OpenConsoleW
when it checks creation != OPEN_EXISTING.  creation at that point is
CREATE_ALWAYS.

Changing the check to allow CREATE_ALWAYS fixes my problem but
may not be right.

(The code is from Gnumeric btw.)",697,"1"
"WINE-30194","XIII: some levels are not correctly illuminated","Created attachment 39411
Observed display for first canyon level

Hi

(The problem has been mentionned to the AppDB already for example:
http://appdb.winehq.org/objectManager.php?sClass=version&iId=7119&iTestingId=25162&sAllBugs
But I couldn't find any associated bugreport so here it is.)

Some canyon levels are not correctly illuminated and are rendered all black (actually everything but the sky). I can at least confirm the first one personally having not tried to download a savegame from the Internet to go past the first problematic level.

- Expected: http://xiii.opaquit.com/view_savegame.php?savegame=06_06
- Observed: see attachment

That's sad because I really enjoyed the game up to this point.

Regards
Pierre.",541,"1"
"WINE-27093","CadStd: Toolbar buttons are shifted to the left","Created attachment 34535
Image showing the problem

Steps to reproduce:
1) remove ~/.wine
2) winetricks gecko
3) install CadStd Lite
4) wine cadstd.exe

Behaviour:
See attachment (Left image)

Expected behaviour:
See attachment (Right image)

Workaround:
minimize->maximize

Regression test:
7864ade5a8306c0078e16ae6d7e40bdece29395b is the first bad commit
commit 7864ade5a8306c0078e16ae6d7e40bdece29395b
Author: Dmitry Timoshkov 
Date:   Tue Sep 14 14:24:11 2010 +0900

    winex11.drv: Avoid copying invalid window bits.

:040000 040000 095ed4273818c8096ed3ff1ca095f535c984ac4a 9ff019bebb41eaf474ea7449b9a38c46916802c5 M	dlls",22,"0"
"WINE-2744","Combobox loops endlessly if displayed by MDI child and mouse selects dropdown","When the following conditions are all true:
* Windows application uses MDI window
* At least one MDI child is displayed
* The MDI child displays a dropdown list (combobox without editing cap.)
* User selects with mouse (not keyboard) the combobox in order to display the
dropdown

... then the combobox starts flashing endlessly. The focus seems to alternate
between the MDI child and the colored rectangle which paints the combobox when
selected. 

I searched the bug database and bug #2147 looks like this exact same bug.
However I can provide on demand a VisualBasic 6 sample application which
reproduces the bug. This problem occurs only when a MDI child displays the
dropdown list - SDI windows and dialogs are not affected.",21,"0"
"WINE-29691","Anno 1404 addon 2.1 update installer after clicking the next-button crashes","Anno 1404 addon 2.1 update
The update installer load. After clicking the next-button the Wine is crashing",662,"1"
"WINE-9469","Adobe Photoshop Elements 1 welcome dialog options don't work","When you start Photoshop Elements 1 it gives you
a welcome dialog asking if you want to do a new
document open an existing one etc.
If you choose 'open an existing document' the
welcome dialog window is redrawn blank and
nothing happens.",279,"1"
"WINE-27578","Cygwin's wget.exe can't download files","Install cygwin add wget package. Then run:
$ wine wget.exe http://www.cygwin.com/setup.exe
Resolving www.cygwin.com (www.cygwin.com)... 209.132.180.131
Connecting to www.cygwin.com (www.cygwin.com)|209.132.180.131|:80... connected.
HTTP request sent awaiting response... 200 OK
fixme:ntdll:NtQueryVolumeInformationFile 0x160: attribute info not supported
fixme:ntdll:server_ioctl_file Unsupported ioctl 900a8 (device=9 access=0 func=2a method=0)
Length: 562195 (549K) [application/octet-stream]
setup.exe: Input/Output error

Cannot write to `setup.exe' (Input/Output error).

Faking success for attribute info allows it to succeed:

diff --git a/dlls/ntdll/file.c b/dlls/ntdll/file.c
index 4d49956..697793e 100644
--- a/dlls/ntdll/file.c
+++ b/dlls/ntdll/file.c
@@ -25397 +25398 @@ NTSTATUS WINAPI NtQueryVolumeInformationFile( HANDLE handle PIO_STATUS_BLOCK io
         }
         break
     case FileFsAttributeInformation:
-        FIXME( %p: attribute info not supported\n handle )
+        FIXME( %p: attribute info not supported faking success\n handle )
+        io->u.Status = STATUS_SUCCESS
         break
     case FileFsControlInformation:
         FIXME( %p: control info not supported\n handle )",642,"1"
"WINE-4128","Trainz demo: crash in msvcrt (regression)","Demo crashes in msvcrt whereas it started up into the opening menu fine about a
week ago.",4,"0"
"WINE-6844","eFax messenger will not install","Attempting to run under Wine eFax messenger simply will not run. Error message
states eFax Messenger 4.2 requires Internet Explorer version 5.0 or newer to be
installed on this computer... It also requires Windows 2000 or later.

I was able to get further  using Crossover Office but even that dies with an
error that it can't access required files.",339,"1"
"WINE-2887","Delphi 7 complete crash on wine 20050419","Before wine 20050310 Delphi 7 ran almost perfectly stable. Starting with
20050310 a bug causing crashes with the menu system popped up (see bug id 2802).
The latest wine 20050419 completely crashes Delphi on startup making it
completely unusable.

Delphi crashes with the dialog box stating External Exception 80000101

The console Window contains the following the last two lines regarding size.cx
are when D7 crashes:
fixme:imm:ImmGetContext (0x10020): stub
fixme:imm:ImmReleaseContext (0x10020 0x4041f188): stub
fixme:pager:PAGER_Create [0x1003a] Drag and Drop style is not implemented yet.
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:richedit:RichEditANSIWndProc EM_EXLIMITTEXT: stub
wine-pthread: run.c:522: ME_CalcRunExtent: Assertion `size.cx' failed.
wine-pthread: run.c:522: ME_CalcRunExtent: Assertion `size.cx' failed.",35,"0"
"WINE-36867","Localization bug in gdi32 font.c test","gdi32/tests/font.c fails with LANG=de_AT.UTF-8:

font.c:4917: Test failed: Arial: font face names don't match: returned Arial Fett expect Arial Bold
font.c:4927: Test failed: Arial: style names don't match: returned Fett expect Bold

Fett in this context means Bold in German.

with LANG=en_US.UTF-8 the test works. (Well I'm running into bug 36233 but that's a different story)",2,"0"
"WINE-34764",".NET Framework 3.5 SP1 based WPF applications crash on direct access of MIL (Media Integration Layer) to internal bitmap struct/class impl (depends on exact layout)","Hello folks

continuation of bug 33384

The attached example WPF application should display an image loaded but crashes when being run in WINEPREFIX with .NET Framework 3.5 SP1 installed.

Works with .NET Framework 3.0 and 3.5

--- snip ---
$ WINEDEBUG=+tid+seh+snoop+wincodecs wine ./WineTest.exe
...
002e:trace:wincodecs:IMILBitmapImpl_UnknownMethod1 (0x1a11780x4a2db10)
002e:trace:wincodecs:BitmapImpl_AddRef (0x1a117c) refcount=8
002e:fixme:wincodecs:IMILUnknown2Impl_UnknownMethod1 (0x1a11800x10x4a2d9d0): stub
002e:fixme:wer:WerRegisterMemoryBlock (0x5418ebf0 6144) stub
002e:fixme:wer:WerRegisterMemoryBlock (0x5418ebe8 4) stub
002e:trace:wincodecs:IMILBitmapImpl_UnknownMethod1 (0x1a11780x4a2d9ac)
002e:trace:wincodecs:BitmapImpl_AddRef (0x1a117c) refcount=9
002e:fixme:wincodecs:IMILUnknown2Impl_UnknownMethod1 (0x1a11800x10x4a2d928): stub
002e:trace:wincodecs:IMILBitmapImpl_GetPixelFormat (0x1a11780x4a2d8f8)
002e:trace:wincodecs:BitmapImpl_GetSize (0x1a117c0x4a2d9800x4a2d984)
002e:CALL MSVCR80._CIsqrt() ret=5403f864
002e:RET  MSVCR80._CIsqrt() retval=00000008 ret=5403f864
002e:CALL MSVCR80._CIsqrt() ret=5403f888
002e:RET  MSVCR80._CIsqrt() retval=00000008 ret=5403f888
002e:fixme:wincodecs:IMILUnknown2Impl_UnknownMethod1 (0x1a11800x10x4a2d8f4): stub
002e:trace:seh:raise_exception code=c0000005 flags=0 addr=(nil) ip=00000000 tid=002e
002e:trace:seh:raise_exception  info[0]=00000000
002e:trace:seh:raise_exception  info[1]=00000000
002e:trace:seh:raise_exception  eax=7cf3e2a4 ebx=04da8080 ecx=001a1170 edx=00000000 esi=04da8128 edi=04a2d940
002e:trace:seh:raise_exception  ebp=04a2d904 esp=04a2d8f4 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00010202
002e:trace:seh:call_stack_handlers calling handler at 0x7bc9d86b code=c0000005 flags=0 
...
wine: Unhandled page fault on read access to 0x00000000 at address (nil) (thread 002e) starting debugger... 
...
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:0063 GS:006b
 EIP:00000000 ESP:04a2d8f4 EBP:04a2d904 EFLAGS:00010202(  R- --  I   - - - )
 EAX:7cf3e2a4 EBX:04da8080 ECX:001a1170 EDX:00000000
 ESI:04da8128 EDI:04a2d940
Stack dump:
0x04a2d8f4:  54039ed3 00000000 04a2dab8 00000000
0x04a2d904:  04a2d99c 5403a00e 04da8080 001a1178
0x04a2d914:  04a2da64 00000000 00000000 00000000
0x04a2d924:  04a2da20 04a2d940 00000000 04da7f98
0x04a2d934:  04a2dc18 04da7f88 04a2d960 00000010
0x04a2d944:  00000060 00000060 00000000 00000000
000c: sel=0067 base=00000000 limit=00000000 16-bit --x
Backtrace:
=>0 0x00000000 (0x04a2d904)
  1 0x5403a00e in wpfgfx_v0300 (+0x3a00d) (0x04a2d99c)
  2 0x5403a097 in wpfgfx_v0300 (+0x3a096) (0x04a2db1c)
  3 0x540396c6 in wpfgfx_v0300 (+0x396c5) (0x04a2db34)
  4 0x540396f2 in wpfgfx_v0300 (+0x396f1) (0x04a2db48)
  5 0x54056733 in wpfgfx_v0300 (+0x56732) (0x04a2db68)
  6 0x54055f98 in wpfgfx_v0300 (+0x55f97) (0x04a2deac) 
...
--- snip ---

This can be most likely attributed to differences in implementation details of  WPF versions.
Between WPF versions 3.0 3.5 3.5SP1 4.0 4.5 whole rendering engines were rewritten underneath interfaces obsoleted/added and the like.

Regards",2034,"1"
"WINE-5379","Header/listview column painting after autosizing doesn't work always right","How to reproduce:

1. fire up winecfg
2. click on the drives tab
3. double click on the 2nd header separator (the one which ends drive path column)
in order to autosize drive path column

You will see that drive paths column is not repainted.

Double clicking on the 1st separator (in order to autosize drive letters column)
works correctly for me.",130,"0"
"WINE-8062","Adobe Acrobat Pro 7 Tryout installer crashes while trying to remove printer","The best place I could find so far to download the tryout version is
http://www.winsoft.eu/support/download-adobe-acrobat.php
This points to ftp3.winsoft.fr which I think is a safe and reputable site.
The tryouts there are all in Eastern European or Middle East languages
but the installers let you pick English.

Running the e.g. greek installer for Acrobat Pro 7 tryout
the first issue is an apparant lockup but that's just 
the installer taking five seconds loading each of ten EULAs.
The first serious problem is a crash when it tries to remove 
the old distiller printer.  Here's the intersting part of the +msi+winspool
log:

trace:msi:ACTION_CustomAction Handling custom action LUninstallPrinter (c41
LAdobeIsf LDeleteDistillerPrinter)
..
trace:msi:HANDLE_CustomType1 Calling function LDeleteDistillerPrinter from
LC:\\windows\\temp\\msi237c.tmp
trace:msi:wait_thread_handle waiting for LUninstallPrinter
trace:msi:DllThread custom action (25) started
trace:msi:ACTION_CallDllFunction LC:\\windows\\temp\\msi237c.tmp
LDeleteDistillerPrinter
trace:msi:ACTION_CallDllFunction calling LDeleteDistillerPrinter
trace:winspool:WINSPOOL_EnumPrinters Found 0 printers
trace:winspool:DeletePrinterDriverExW (null) (null) LAdobe PDF Converter 5 0
fixme:winspool:DeletePrinterDriverExW dwDeleteFlag = 5 - unsupported
trace:winspool:DeletePrinterDriverExW (null) (null) LAdobe PDF Converter 1 0
fixme:winspool:DeletePrinterDriverExW dwDeleteFlag = 1 - unsupported
trace:winspool:DeletePrinterDriverExW (null) (null) LAdobe PDF Converter 0 0
trace:winspool:WINSPOOL_OpenDriverReg ((null) 1)
trace:winspool:validate_envW testing (null)
trace:winspool:validate_envW using 0x7dfa23c0: LWindows NT x86
wine: Unhandled page fault on read access to 0x00000000 at address (nil) (thread
0025) starting debugger...

This might be a bug in our winspool but I'm flagging it as
msi because I'm not quite sure.  (And getting a +relay is going
to be painful unless you can turn on +relay just before the
custom action is run.)",60,"0"
"WINE-21854","Dragon NaturallySpeaking 10 Standard does not paste text from DictationBox","Background:
NaturallySpeaking's Dictation Box is used to enter text that is then injected into a program via a voice command (Transfer) or a keystroke command (CTL-V). 
CTL-V is used to transfer text to programs running in Linux and either command used to work for transferring text to programs running under wine. 
Regression:
But as of a couple of days ago the voice command Transfer stopped transferring text into Notepad (I use Notepad2) running under wine. The text moves out from DictationBox but then just hangs in the buffer. 
Workaround:
Using CTL-V can be used to paste.",7,"0"
"WINE-15257","Changing from OpenGL to Direct3D output in WinUAE results in blank screen","WinUAE is an open source (GPL) emulator of Amiga computers available from
http://www.winuae.net/.

The output of WinUAE can be rendered using DirectDraw (default) Direct3D or
OpenGL. On changing from OpenGL to Direct3D output the WinUAE window turns completely white the emulation still runs but its display is blank.

(This issue may or may not be related to bug 15156 and/or bug 15256.)

To demonstrate:
 - Run WinUAE 1.5.2
 - Select a disk image for drive DF0: in the Floppy drives page e.g.
rsi1.adf.gz from ftp://ftp.coresystems.de/pub/uae/rsi1.adf.gz
 - In the filter page check the Enable box and select the OpenGL filter.
 - Click Start to start the emulation.
 - After a few seconds press F12 to bring up the settings window.
 - In the Filter page change from OpenGL to Direct3D.
 - To work around Wine bug 10643 click in the main window and press F12.
 - Click OK to dismiss the settings window. The main window is completely white.

Console output which appears on doing that is: 
fixme:d3d:WineD3D_ChoosePixelFormat Add OpenGL context recreation support to SetDepthStencilSurface
fixme:d3d:ActivateContext >>>>>>>>>>>>>>>>> GL_INVALID_VALUE (0x501) from glEnable GL_SCISSOR_TEST @ context.c / 1279
fixme:d3d_texture:IWineD3DBaseTextureImpl_BindTexture >>>>>>>>>>>>>>>>> GL_INVALID_VALUE (0x501) from glBindTexture @ basetexture.c / 302",832,"1"
"WINEHQ.ORG-2635","Link broken on Chapter 5. Configuring Wine","Hi!
here:
http://winehq.org/site/docs/wine-user/config-fonts-main

the link to others tools is broken...

http://www.winehq.org/development/

thanks.

by the way I can't find the fnt2bdf tool on my hd after installing Wine.
Why?

Flávio",140,"0"
"WINE-1524","SHGetFileInfo exception","Unhandled exception: page fault on write access to 0x0000000c in 32-bit code
(0x408f89d5).
In 32-bit mode.
0x408f89d5 (SHGetFileInfoA+0x7d [shell32_main.c:228] in shell32.dll.so): movb  
$0x00xc(%edx)
229             psfi->szTypeName[0] = '\0'


This is from working code when run in MS/Windows 9x/NT/2000/XP  So maybe there
is some check for NULL in the MS code or some such thing or some deaper problem.",6,"0"
"WINE-6096","Small thumbnails not rendered in 0.9.16 and above","Running BigJig from above address. With Wine 0.9.16 and above the icons of
jigsaws for selection are not shown only the large icon for the selected
jigsaw.  Other icons are captions only.
Severity: app still usable but jigsaw names are usually meaningless. need to
get a succession of images in the selected position.

I have a log from git which defined the last bad commit but you want it as an
attachment?  How?",304,"1"
"WINE-9175","Battlefield 2142: Microphone input not working","Wine version: wine-0.9.42-212-ged3b532
Distro: Gentoo Linux 2007.0
GCC version: gcc (GCC) 4.1.2 (Gentoo 4.1.2)
Program: Battlefield 2142 1.25

Description: I am trying to use my microphone in the game but it is not working.
I have a Creative Sound Blaster Live! 5.1 Digital. The microphone is selected in
alsamixer as the capture device and works fine in both the built in GNOME sound
recorder and TeamSpeak (native). It isn't working using either ALSA or OSS in
winecfg. When I use the test thing in-game it is just silence.",446,"1"
"WINE-18560","No crosshairs in Starfleet Academy","Created attachment 21222
wine-1.1.21 output

Hello
the targets have no crosshairs in Star Trek: Starfleet Academy.

My OS:
Ubuntu 9.04 amd64
Intel Core2Duo T7300
Nvidia Quadro NVS140M
NVIDIA 180.44 drivers

Attached are a screenshot and the wine output.",3335,"1"
"WINEHQ_APPS_DATABASE-18589","Merging versions does not move all child objects","I've just merged the Google Chrome versions as there was entries for each minor version with one test result in each.

Unfortunately on doing so comments and bug links were deleted and not moved.

Comments are no big loss but having to search for the bugs and add them again is a pain.  No emails are sent to say what bugs were deleted.

Is this intentional or has something gone wrong?",75,"0"
"WINE-4315","Corel Draw 9 crashes when trying to select a font for a text object","In Corel Draw 9 after typing text and try to select a font for the generated
text object Corel Draw crashes by a exception in sysparams.c in user.dll. This
appears (as known) since wine 0.9.5 (self compiled from the sources).

The crash dump is: -------------------------------
wine: Unhandled page fault on read access to 0x69622068 at address 0x69622068
(thread 0019) starting debugger...
WineDbg starting on pid 0xd
Unhandled exception: page fault on read access to 0x69622068 in 32-bit code
(0x69622068).
In 32 bit mode.
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:1007 GS:0033
 EIP:69622068 ESP:406be150 EBP:406be3a8 EFLAGS:00210202(   - 00      - -RI1)
 EAX:407f9f54 EBX:407e0000 ECX:00000000 EDX:00000001
 ESI:00000001 EDI:0000004b
Stack dump:
0x406be150:  407af54e 00000003 407f9f54 407d7ee0
0x406be160:  407d8a76 0000004b ffffffff 00000000
0x406be170:  00000000 00000001 401858a0 7c1fe7b0
0x406be180:  7c2095b0 00000010 0001b000 0001b000
0x406be190:  7c013388 000068c8 00000039 406be388
0x406be1a0:  40fb7914 7c165080 0001b000 0001b000
0200: sel=1007 base=40018000 limit=00001fff 32-bit rw-
Backtrace:
=>1 0x69622068 (0x69622068)
  2 0x407b339f SystemParametersInfoA+0x4f(uiAction=0x4b uiParam=0xffffffff
pvParam=0x0 fuWinIni=0x0) [/install/wine-0.9.5/dlls/user/sysparams.c:2441] in
user32 (0x407b339f)
  3 0x0096d47f in coreldrw (+0x56d47f) (0x0096d47f)
  4 0x00000000 (0x00000000)
0x69622068: -- no code accessible --",720,"1"
"WINE-35891","sdb2xml and native setupapi override crash on unimplemented function apphelp.dll.SdbInitDatabase","Hello folks

encountered by Austin's tests with native overrides (https://bugs.winehq.org/show_bug.cgi?id=26016#c20):

--- quote ---
and crashes with:
wine: Call from 0x7b83a82e to unimplemented function apphelp.dll.SdbInitDatabase aborting

if I stub that it gets further to SCECLI.dll.SceSetupMoveSecurityFile. That function doesn't appear to be documented howver so I didn't try to do anything with it. (that's for ie7)

xmllite installs with no issues with native setupapi after SdbInitDatabase was stubbed. Running it now in a loop.
--- quote ---

I found another interesting tool which makes use of Application Compatibility Database API's too: 'sdb2xml'

MSDN: http://blogs.msdn.com/b/heaths/archive/2007/11/02/sdb2xml.aspx

$ sha1sum sdb2xml.exe 
9808bc17a7ea4f43ecdcb11f4e18204805246dbd  sdb2xml.exe

$ du -sh sdb2xml.exe 
28K	sdb2xml.exe

$ wine --version
wine-1.7.15-112-g2aad5d7

Regards",5,"0"
"WINE-8285","Microsoft Combat Flight Simulator Crashes wine on install","When I try to install Microsoft Combat Flight Simulator wine crashes and the
debugger starts looks like it pertains to richedit20.",176,"0"
"WINE-5666","Some garbled fonts in Age of Empires II","Since Wine 0.9.16 some of the fonts displayed in Age of Empires II are 
displayed incorrectly whereas they were displayed correctly before.  I assume 
this has something to do with the new DDraw code.",79,"0"
"WINE-2881","SHCoCreateInstance class not found in registry when writing to an AVI file","I get this error when trying to save an AVI file with VFAPIConv.exe
It's broken since Wine 2004-12-01 (2004-10-19 and earlier are ok). Tried with
CVS and same problem.

err:shell:SHCoCreateInstance failed (0x800401f0) to create CLSID:
        {00020000-0000-0000-c000-000000000046} (Microsoft AVI Files) IID:
        {00020020-0000-0000-c000-000000000046} (unknown)
err:shell:SHCoCreateInstance class not found in registry

It doesn't seem to be a registry problem since I does this error with: a clean
registry from a fresh install or the old registry that the software used to work
with wine 2004-10-19


Software needed to re-create the error:
DVD2AVI:http://www.afterdawn.com/software/video_software/dvd_rippers/dvd2avi.cfm
VFAPI Codec/converter: http://www.doom9.org/index.html?/software2.htm

Steps:
1- Open a MPEG-2 stream in DVD2AVI (eg: .VOB file)
2- Go to File-->Save Project and save it then close DVD2AVI
3- Open VFAPICodec and click on Add file
4- Select the project file (.d2v) you saved with DVD2AVI and click Open
5- A window should appear Click on OK
6- Click on the Convert button

Right now you should have the error in the console (and also Error Saving File
in VFAPI Reader). Versions 1.04 and 1.05 of VFAPI Reader do the same error.


Expected result:
It should create a small AVI file in the same folder as the DVD2AVI project file
without any errors.",193,"0"
"WINE-9481","LOTRO crash with Alsa at Full Hardware Acceleration","Created attachment 7824
Errors from using Alsa with hardware acceleration set to full

When starting Lord Of the Rings Online with Alsa and Hardware Acceleration set to full the game crashes with the attached messages.  When starting it with Hardware Acceleration set to Emulated the game runs but the in-game sound is not present.  Opening video sound is present.
When starting the game with OSS and Hardware Acceleration set to Full it launches without incident and the in-game sounds are present however the opening video sound as well as cut scene video sound and voice chat sound is not present.
System is Gentoo Linux with kernel 2.6.22-ck1 with in-kernel Alsa drivers version 1.0.14 the sound driver used for my card is snd_au8830 and I am experiencing no other sound problems on my system.",444,"1"
"WINE-12897","secur32: ntlm.ok hangs in PC-BSD but not Linux","Created attachment 12603
+ntlm in git

When running make -k test in PC-BSD I always get a hang in secur32:ntml.ok

+ntlm log attached.",2,"0"
"WINE-27725","Visio 2007 : Getting started is missing icons","Created attachment 35480
Getting started page under Wine

When starting up Visio 2007 the Getting Started screen presents template previews. The icons for those previews are not visible.",938,"1"
"WINE-5161","Trillian: crash when showing main window: BadValue in X_CreatePixmap","Clean installation of Wine 0.9.12 and Trillian v3.1 build 121. 
 
Installation is fine (minor issues) program can start (minor issues). 
 
Once the main window is activated program dies with: 
 
X Error of failed request:  BadValue (integer parameter out of range for  
operation) 
  Major opcode of failed request:  53 (X_CreatePixmap) 
  Value in failed request:  0x0 
  Serial number of failed request:  627922 
  Current serial number in output stream:  628685 
 
Main window may automatically show during startup otherwise you need to 
right-click the systray icon and choose 'show contact list' to activate it. 
 
Could be related to fading the main window is faded in and out under various 
circumstances.",25,"0"
"WINE-6247","Richedit: Selecting via mouse does not scroll","Easiest test case is:
  wine /usr/lib/wine/wordpad.exe.so

create some text which does not fit into the window. Use now the mouse to select
the text.

Expected: text scrolls thus also text hidden can easily be selected.

Actual result: Text is not scolled. (One can select text below as the mouse
position outside the window is taken into account but this does not work for
long texts).",644,"1"
"WINE-1867","direct sound (wineoss) records when plays generating dma overruns","From Jskud Sun Dec  7 14:33:12 -0800 2003
From: Jskud@Jskud.com
To: discuss@crossover.codeweavers.com
Subject: mystery solved: why bad/no sound with QuickTimePlayer on CX-plugin 2.0.2
Reply-to: Jskud@Jskud.com

Problem

	crappy sound with (latest) standard i810_audio driver

	no sound with (latest) ALSA intel8x0 driver

Cause

	i810_audio driver enables record and playback triggers on open
	wineoss respects the current triggers Intel ICH3 (the /dev/dsp
	controller) will read data on playback.  Since the client is not
	draining the input buffer there is an overrun and disruptive
	error handling with poor real time audio behavior ensues.

	intel8x0: traced it as far as mmap failure (EIO) in wineoss.

Possible Solutions

	Patch the i810_audio driver to disable PCM_ENABLE_INPUT on open

		#if 0
			dmabuf->trigger |= PCM_ENABLE_INPUT
		#endif
	
	Hack wineoss to disable the triggers on (device) open since it
	carefully preserves them thereafter.

	Use better hardware (Intel ICH5 does not exhibit this behavior)

Verification

	Patched the i810_audio driver and QuickTimePlayer works great.

Details

	I recently purchased and installed Crossover Plugin 2.0.2 and
	installed the WinDoze QuickTime plugin (6.3 per the FAQ --
	thanks).  All this on my Dell Inspiron 4150 using a chipset
	with the Intel ICH3 running RedHat 8.0 with the latest kernel
	2.4.20-24.8 installed.

	There were no problems playing sound with xmms.  However I had
	poor sound via QuickTimePlayer with the native i810_audio
	driver so I installed the latest version of ALSA (1.0.0rc1)
	and configured the intel8x0 driver.  Worse now I had no sound
	with QuickTimePlayer.

	I enabled debug channels and discovered that some mmap call in
	wineoss was failing with EIO when using ALSA.  But I also
	noticed I had dma overrun messages using the simpler
	(non-ALSA) default i810_audio and decided to investigate that.

	The Cause and Solution above report my findings.

/Jskud",664,"1"
"WINE-38102","Process Hacker 2.x needs winsta.dll.WinStationEnumerateW","You'll need winetricks comctl32 to work around bug 34465.

I used the portable binaries. Extract run the x86 version then click the users tab. Boom.

austin@debian-home:~$ sha1sum processhacker-2.33-bin.zip 
2738c909fa6b37a22a4aa256e5d7e733449b905e  processhacker-2.33-bin.zip
austin@debian-home:~$ du -h processhacker-2.33-bin.zip 
2.7M	processhacker-2.33-bin.zip
austin@debian-home:~$ wine --version
wine-1.7.36-28-ga679cae",435,"1"
"WINE-32262","System.TypeInitializationException when starting 'Adventures of Shuggy'","Created attachment 42576
stack trace

When trying to run the game Adventures of Shuggy in Steam I get a System.TypeInitializationException. I installed Mono by executing 'winetricks mono210'",0,"0"
"WINE-42166","Custom application needs mf3216.dll (32-bit to 16-bit metafile converter)","Hello folks

found the app in an email attachment ... stuff normal users shouldn't run -)

--- snip ---
$ WINEDEBUG=+tid+seh+relay wine ./foobar.exe >>log.txt 2>&1
...
004f:Call KERNEL32.__wine_kernel_init() ret=7bc6993d
004f:err:module:import_dll Library mf3216.dll (which is needed by LZ:\\home\\focht\\Downloads\\foobar.exe) not found
004f:err:module:LdrInitializeThunk Main exe initialization for LZ:\\home\\focht\\Downloads\\foobar.exe failed status c0000135 
...
--- snip ---

Relevant part of import table:

--- snip ---
...
   4. ImageImportDescriptor:
    OriginalFirstThunk:  0x0000B289
    TimeDateStamp:       0x00000000  (GMT: Thu Jan 01 00:00:00 1970)
    ForwarderChain:      0x00000000
    Name:                0x0000B6D9  (mf3216.dll)
    FirstThunk:          0x0000A104

    Ordinal/Hint API name
    ------------ ---------------------------------------
    0x0000       ConvertEmfToWmf
...
--- snip ---

'ConvertEmfToWmf' API entry is pretty much the same as gdiplus 'GdipEmfToWmfBits' (as the name implies).

The import isn't called yet as the app suffers from multiple issues prior hence only a stub dll is needed for now.

$ sha1sum foobar.exe 
dd1463df107376e9fd1574ccfebabc5fd3ae8f2e  foobar.exe

$ du -sh foobar.exe 
592K	foobar.exe

$  wine --version
wine-2.0-rc3-14-g56959b1

Regards",20,"0"
"WINE-14031","Max Payne 2: GL_INVALID_OPERATION in texture_activate_dimensions","Created attachment 14243
max payne 2 demo run (large parts but out because they were identical)

Hi there

I'm currently trying to get the Max Payne 2 demo running on my nvidia Geforce FX 5900 based system. It has some issues with mirror reflections bullettime postprocessing and some other bugs already mentioned on the tracker.

I don't know how much this is related but during the game wine spits out a lot of messages on the console. During some normal length gaming sessions (should have been around 20 minutes) I already got a >100MB logfile without any tracing activated just running wine with no options.

The errors are of this type:
fixme:d3d:texture_activate_dimensions >>>>>>>>>>>>>>>>> GL_INVALID_OPERATION (0x502) from glTexEnvi(GL_TEXTURE_SHADER_NV GL_SHADER_OPERATION_NV ...) @ utils.c / 3410

In fact I shouldn't say this type it's always exactly this line.

I'm going to attach a modified log (cut out most of the log because this message repeats endlessly) so you have bit more context.

I'm adding Alexander to CC because he probably knows why this happens -)

Naturally I also did some research:
From dlls/wined3d/utils.c:

if(GL_SUPPORT(NV_TEXTURE_SHADER2)) {
glTexEnvi(GL_TEXTURE_SHADER_NV GL_SHADER_OPERATION_NV bumpmap ? GL_OFFSET_TEXTURE_2D_NV : GL_TEXTURE_2D)
checkGLcall(glTexEnvi(GL_TEXTURE_SHADER_NV GL_SHADER_OPERATION_NV ...))

These are line 3408 - 3410.

Links to NV texture shader extension docs:
http://www.opengl.org/registry/specs/NV/texture_shader.txt
http://www.opengl.org/registry/specs/NV/texture_shader2.txt
(I still have to take a deeper look)

From http://www.opengl.org/sdk/docs/man/xhtml/glTexEnv.xml:
GL_INVALID_OPERATION is generated if glTexEnv is executed between the execution of glBegin and the corresponding execution of glEnd.

In case NV_texture_shader doesn't change glTexEnv so much that also other conditions can lead to GL_INVALID_OPERATION there should be some problems in the calling function of texture_activate_dimensions.

Any way of outputting the call stack from texture_activate_dimensions?

Cheers
Tobias",34,"0"
"WINE-7155","EditPlus: multiple close/maximize/minimize buttons on MDI app","After upgrading to Wine v0.9.29 the app EditPlus v2.30 started displaying
multiple instances of the minimize/maximize/close buttons for each file I
opened. EditPlus is a multiple document interface (MDI) so each new file window
is a child of the main EditPlus window.",16,"0"
"WINE-1240","Nullsoft Installer has bad child window style on first screen","Bug comments restored from Gmane.org:

As shown in the URL image what should be an invisible child window has the
WS_CAPTION style set.

trace:win:CreateWindowExW classname=#8002  stylehex=40c00440
trace:win:WIN_CreateWindowEx L L#32770 ex=00000000 style=40c00440 -3-22
456x253 parent=0x10021 menu=(nil) inst=0x400000 params=(nil)
trace:win:WIN_CreateWindowEx Styles before adjustment:
trace:win:dump_window_styles style: WS_CHILD WS_CAPTION 00000440
trace:win:dump_window_styles exstyle:
trace:win:WIN_CreateWindowEx winproc type is 3 (WIN_PROC_32W)
trace:class:CLASS_FindClassByAtom 0x00008002 0x400000
trace:class:CLASS_FindClassByAtom -- found global 0x40388118
0807a218:Call ntdll.RtlAllocateHeap(4036000000000000000000a2) ret=408be1fd
0807a218:Ret  ntdll.RtlAllocateHeap() retval=403a0458 ret=408be1fd
trace:win:WIN_CreateWindowEx Styles after adjustment:
trace:win:dump_window_styles style: WS_CHILD WS_CAPTION 00000440
trace:win:dump_window_styles exstyle: WS_EX_WINDOWEDGE
trace:win:WIN_SetWindowLong 0x1002f -12 0 3
0807a218:Call x11drv.CreateWindow(0001002f406b288400000001) ret=408bfffc

The app I'm testing with is at http://rhymbox.com/download/start.pl

The installer itself appears to set the WS_CAPTION flag when calling
CreateWindowEx. In Windows spy++ shows that this flag isn't set but the usage
of vc++ lazy bindings mean I can't get an API trace under windows :(


------- Additional Comments From andi  rhlx01.fht-esslingen.de  2003-01-26
18:36 -------
The only place in Wine to fix up WS_CAPTION is:

    /* Correct the window style - stage 2 */

    if (!(cs->style & WS_CHILD))
    {
        wndPtr->dwStyle |= WS_CLIPSIBLINGS
        if (!(cs->style & WS_POPUP))
        {
            wndPtr->dwStyle |= WS_CAPTION
            wndPtr->flags |= WIN_NEED_SIZE
        }
    }

in windows/win.c/WIN_CreateWindowEx()

Checking windows/win.c cvs log I'm thinking about:

----------------------------
revision 1.214
date: 2003/01/08 19:53:47  author: julliard  state: Exp  lines: +2 -2
Duane Clark  akamail.com>
WS_CAPTION is a two bit field so test appropriately.
----------------------------
Hmm could it be that this recent change caused you to notice the WS_CAPTION
problem ?

The WS_CAPTION fixup has been in windows/win.c since its CVS beginnings BTW.

I think we can safely confirm this bug.

So the question is: what exactly should be corrected in that function and how ?",1510,"1"
"WINE-13792","Abomination: The Nemesis Project Crashes at startup","Created attachment 13829
Crash dump

Abomination game installs fine but Abomb.exe the game itself crashes at startup.",1358,"1"
"WINE-32568","Visual Studio 2010 fails on startup .NET Framework 4.0 WPF message dispatcher unexpectedly receives messages (CoWaitForMultipleHandles COWAIT_FLAGS message pump)","Hello folks

after working around bug 28924 the VS 2010 IDE crashes on startup.

Prerequisite: 'winetricks -q dotnet20 dotnet40 corefonts'

WINEDLLOVERRIDES=atl100=n WINEDEBUG=+tid+seh+relay+msg+win wine ./devenv.exe >>log.txt 2>&1

Managed backtrace:

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/Microsoft Visual Studio 10.0/Common7/IDE
...
System.InvalidOperationException: Dispatcher processing has been suspended but messages are still being processed.
   at System.Windows.Threading.Dispatcher.WndProcHook(IntPtr hwnd Int32 msg IntPtr wParam IntPtr lParam Boolean& handled)
   at MS.Win32.HwndWrapper.WndProc(IntPtr hwnd Int32 msg IntPtr wParam IntPtr lParam Boolean& handled)
   at MS.Win32.HwndSubclass.DispatcherCallbackOperation(Object o)
   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback Object args Int32 numArgs)
   at MS.Internal.Threading.ExceptionFilterHelper.TryCatchWhen(Object source Delegate method Object args Int32 numArgs Delegate catchHandler)
   at System.Windows.Threading.Dispatcher.WrappedInvoke(Delegate callback Object args Int32 numArgs Delegate catchHandler)
   at System.Windows.Threading.Dispatcher.InvokeImpl(DispatcherPriority priority TimeSpan timeout Delegate method Object args Int32 numArgs)
   at MS.Win32.HwndSubclass.SubclassWndProc(IntPtr hwnd Int32 msg IntPtr wParam IntPtr lParam)
   at System.Threading.Monitor.ReliableEnter(Object obj Boolean& lockTaken)
   at System.Threading.Monitor.Enter(Object obj Boolean& lockTaken)
   at System.Windows.FrameworkTemplate.LoadContent(DependencyObject container List`1 affectedChildren)
   at System.Windows.StyleHelper.ApplyTemplateContent(UncommonField`1 dataField DependencyObject container FrameworkElementFactory templateRoot Int32 lastChildIndex HybridDictionary childIndexFromChildID FrameworkTemplate frameworkTemplate)
   at System.Windows.FrameworkTemplate.ApplyTemplateContent(UncommonField`1 templateDataField FrameworkElement container)
   at System.Windows.FrameworkElement.ApplyTemplate()
   at System.Windows.FrameworkElement.MeasureCore(Size availableSize)
   at System.Windows.UIElement.Measure(Size availableSize)
   at System.Windows.Controls.DockPanel.MeasureOverride(Size constraint)
   at System.Windows.FrameworkElement.MeasureCore(Size availableSize)
   at System.Windows.UIElement.Measure(Size availableSize)
   at System.Windows.Controls.Control.MeasureOverride(Size constraint)
   at System.Windows.FrameworkElement.MeasureCore(Size availableSize)
   at System.Windows.UIElement.Measure(Size availableSize)
   at System.Windows.Controls.Grid.MeasureOverride(Size constraint)
   at System.Windows.FrameworkElement.MeasureCore(Size availableSize)
   at System.Windows.UIElement.Measure(Size availableSize)
   at Microsoft.Internal.VisualStudio.PlatformUI.VisualTargetPresentationSource.set_RootVisual(Visual value)
   at Microsoft.Internal.VisualStudio.PlatformUI.WorkerThreadElementContainer.UIWorkerThreadStart(Object arg)
   at System.Threading.ThreadHelper.ThreadStart_Context(Object state)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext ContextCallback callback Object state Boolean ignoreSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext ContextCallback callback Object state)
   at System.Threading.ThreadHelper.ThreadStart(Object obj) 
--- snip ---

Took me a while to figure this out ...

It seems the .NET Framework 4.0 WPF message dispatcher doesn't like unexpected messages in certain situations.

Relevant part of trace log (filtered for a specific thread to turn down noise from other interleaving WPF/MIL threads):

--- snip ---
0042:Call ole32.CoWaitForMultipleHandles(00000002ffffffff00000001067de2dc108abfc8) ret=792074f3
...
0042:Call user32.MsgWaitForMultipleObjectsEx(00000001067de2dcffffffff0000016000000002) ret=7e55bde1
0042:Ret  user32.MsgWaitForMultipleObjectsEx() retval=00000001 ret=7e55bde1
0042:Call user32.PeekMessageW(108abe2800000000000000000000000000000003) ret=7e55bbe3
0042:trace:msg:peek_message got type 6 msg c05f (DispatcherProcessQueue) hwnd 0x100b2 wp 0 lp 0
0042:Ret  user32.PeekMessageW() retval=00000001 ret=7e55bbe3
0042:Call user32.TranslateMessage(108abe28) ret=7e55bfa0
0042:Ret  user32.TranslateMessage() retval=00000000 ret=7e55bfa0
0042:Call user32.DispatchMessageW(108abe28) ret=7e55bfb1
0042:Call window proc 0x125c872 (hwnd=0x100b2msg=DispatcherProcessQueuewp=00000000lp=00000000)
...
0042:Call KERNEL32.RaiseException(e04343520000000100000005108ab884) ret=791cac08
0042:trace:seh:raise_exception code=e0434352 flags=1 addr=0x7b83aa77 ip=7b83aa77 tid=0042
0042:trace:seh:raise_exception  info[0]=80131509
0042:trace:seh:raise_exception  info[1]=00000000
0042:trace:seh:raise_exception  info[2]=00000000
0042:trace:seh:raise_exception  info[3]=00000000
0042:trace:seh:raise_exception  info[4]=79140000
0042:trace:seh:raise_exception  eax=7b826831 ebx=7b8b96b0 ecx=79140000 edx=108ab768 esi=108ab840 edi=108ab7c0
0042:trace:seh:raise_exception  ebp=108ab798 esp=108ab734 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000283 
...
0042:Call KERNEL32.MultiByteToWideChar(0000fde900000000108aa4b4 InvalidOperationException0000001a0000000000000000) ret=79216b79
0042:Ret  KERNEL32.MultiByteToWideChar() retval=0000001a ret=79216b79 
--- snip ---

The problem is actually CoWaitForMultipleHandles( COWAIT_ALERTABLE ...).
It is not supposed to pump/dispatch messages in this situation hence the error.
Wine only checks for apartment type ignores COWAIT_FLAGS enumeration regarding that.

Source: http://source.winehq.org/git/wine.git/blob/fa96beb5c439c55c935fbd667dd31cbcd7cc3d13:/dlls/ole32/compobj.c#l3812

--- snip ---
3837 HRESULT WINAPI CoWaitForMultipleHandles(DWORD dwFlags DWORD dwTimeout
3838     ULONG cHandles LPHANDLE pHandles LPDWORD lpdwindex)
3839 {
3840     HRESULT hr = S_OK
3841     DWORD start_time = GetTickCount()
3842     APARTMENT *apt = COM_CurrentApt()
3843     BOOL message_loop = apt 
3844 
3845     TRACE((0x%08x 0x%08x %d %p %p)\n dwFlags dwTimeout cHandles
3846         pHandles lpdwindex)
3847 
3848     while (TRUE)
3849     {
3850         DWORD now = GetTickCount()
3851         DWORD res
3852 
3853         if (now - start_time > dwTimeout)
3854         {
3855             hr = RPC_S_CALLPENDING
3856             break
3857         }
3858 
3859         if (message_loop)
3860         {
3861             DWORD wait_flags = ((dwFlags & COWAIT_WAITALL) ? MWMO_WAITALL : 0) |
3862                     ((dwFlags 
3863 
3864             TRACE(waiting for rpc completion or window message\n)
3865 
3866             res = MsgWaitForMultipleObjectsEx(cHandles pHandles
3867                 (dwTimeout == INFINITE) ? INFINITE : start_time + dwTimeout - now
3868                 QS_SENDMESSAGE | QS_ALLPOSTMESSAGE | QS_PAINT wait_flags)
...
--- snip ---
  
If you fix this taking COWAIT_FLAGS into account Visual Studio 2010 IDE starts fine. 

Regards",694,"1"
"WINE-32032","CS:GO exits silently","The commit 5fae649bdf14fb63b8d44984eda6edd1094a3314 (winex11: Never use a surface for embedded windows even for the parents.) is causing CS:GO (Counter Strike: Global Offensive) to exit silently on startup.",3,"0"
"WINE-26069","user32/clipboard tests shows a valgrind warning","24 bytes in 3 blocks are definitely lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  IMM_GetThreadData (imm.c:226)
    by  ImmGetContext (imm.c:1366)
    by  IME_UpdateAssociation (ime.c:1040)
    by  open_xim (xim.c:477)
    by  X11DRV_SetupXIM (xim.c:493)
    by  x11drv_init_thread_data (x11drv_main.c:681)
    by  thread_selection_wnd (clipboard.c:328)
    by  selection_acquire (clipboard.c:2625)
    by  selection_thread_proc (clipboard.c:2661)
    by  ??? (signal_i386.c:2473)
    by  call_thread_entry_point (signal_i386.c:2499)
    by  start_thread (thread.c:404)
    by  start_thread (in /lib/libpthread-2.11.2.so)
    by  clone (in /lib/libc-2.11.2.so)",593,"1"
"WINE-18899","Notepad++ right click menu doesn't work","Created attachment 21741
screenshot

Notepad++ pops up a little menu if you right click on a file name in the toolbar with options to save all files close all print etc. Under wine the menu doesn't show up.

There's no terminal output.

Screenshot attached for those unfamiliar with notepad++.",701,"1"
"WINE-37138","Excel 2007 under wine crashes opening this file","Created attachment 49357
Backtrace

Excel 2007 crashes when opening the following file (Enable all macros should be selected on the trust centre prior to opening the file):
http://www.dian.gov.co/descargas/AyudaRenta/2014/AyudaRenta2013_v1.5.zip",840,"1"
"WINE-33560","libwine doesn't get installed","This is a regression in Wine 1.5.30 where the Makefile doesn't install libwine leading to this error:

cfsworks@cfspc:~$ wine --version
wine: error while loading shared libraries: libwine.so.1: cannot open shared object file: No such file or directory


This bug isn't present in 1.5.29 I'm running the regression test to identify the bad commit now. Stand by.

Because this bug prevents Wine from launching at all I have filed this as a 'Critical' bug.",3,"0"
"WINE-24371","Microsoft EMET v2 and other tools need apphelp.dll (application shim)","Hello

follow up of bug 24370
Microsoft EMET v2 tools crashes upon load due to missing apphelp dll/SdbCreateDatabase import.

It seems other MS tools need this dll as well.

Bug 16093 MS AppLocale installer also talked about this  (http://bugs.winehq.org/show_bug.cgi?id=16093#c1
):

--- quote ---
it fails as it can't find a dll called apphelp.dll (whatever that may be)

After copying it from my windowspartition it crashes into 
wine: Call from 0x7b843650 to unimplemented function
KERNEL32.dll.BaseFlushAppcompatCache aborting

Maybe a simple stubbed apphelp.dll could be of use
--- quote ---

Console log:

--- snip ---
fixme:advapi:ReportEventW (0xcafe42420x00010x00000x00001388(nil)0x000b0x000000f80x3009a1b40x5dc624): stub
err:eventlog:ReportEventW Lclr20r3
err:eventlog:ReportEventW Lemet_conf.exe
err:eventlog:ReportEventW L2.0.0.0
err:eventlog:ReportEventW L4c6aef82
err:eventlog:ReportEventW Lmitigationinterface
err:eventlog:ReportEventW L2.0.0.1
err:eventlog:ReportEventW L4c8924d5
err:eventlog:ReportEventW L95
err:eventlog:ReportEventW Lf5
err:eventlog:ReportEventW Lsystem.dllnotfoundexception
err:eventlog:ReportEventW LNIL
...
Unhandled Exception: System.DllNotFoundException: Unable to load DLL 'apphelp.dll': Exception from HRESULT: 0x8007007E

   at MitigationInterface.Apphelp.SdbCreateDatabase(String pwszPath PATH_TYPE eType)

   at MitigationInterface.ShimUtil..ctor(Arch SysArch)

   at MitigationInterface.ApplicationMitigations..ctor(SystemMitigations SysMits)

   at ConsoleApp.Program.Main(String[] args)
wine: Unhandled exception 0xe0434f4d at address 0x7b836fa2 (thread 0009) starting debugger...
Unhandled exception: 0xe0434f4d in 32-bit code (0x7b836fa2).
--- snip ---

Info: http://technet.microsoft.com/en-us/library/bb490820.aspx

For a start provide 'apphelp.dll' with SdbCreateDatabase() stub.

Regards",416,"1"
"WINE-9195","Photoshop 7's ImageReady tooltips only draw first letter or so","Adobe Photoshop 7 Tryout comes with an app called ImageReady.
That app starts ok but the tooltips it pops up
are truncated oddly their little windows are the
right size but only the first letter and a half
are drawn.",25,"0"
"WINE-13128","Medieval total war crashes","Created attachment 12925
crash log

i'm testing medieval total war and the latest version (git or 1.0rc) crash very early when in the past it work longer... so this is a regression.

the crash log will be attached but the error was:

wine: Unhandled privileged instruction at address 0x7c02edd8 (thread 0026) starting debugger...
Unhandled exception: privileged instruction in 32-bit code (0x7c02edd8).

i tried to pin-point the patch that broke this and found this one:

653c7e7dcaf7ebee2cfc8a6e356779dc8974aac6 is first bad commit
commit 653c7e7dcaf7ebee2cfc8a6e356779dc8974aac6
Author: David Adam 
Date:   Sun Apr 27 12:10:32 2008 +0200

    amstream: Fix the condition of existence of the IMediaStream interface.

:040000 040000 93801c98208e6fd29aff759a12bbee6b02241de9 339a6b671e82ef9c29cb5627b7b2d24ef26f8df1 M      dlls

before this patch the game didnt crashed on start after this patch the game crashes on startup",37,"0"
"WINE-21498","Metatrader 4: window gets lost after minimize","Created attachment 25893
crashlog

i use ubuntu with 1.1.37 release problem happen on Karmic & Lucid.

this problem happen when i use Metatrader 4:

when i start this program wine try to load it but nothing open. Glancing at process loaded terminal.exe is running but waiting most of the time. About 3 minutes later the program opened but still not activated (frozen can't open menu or else) then 2 or 3 minutes later the program is ready  and activated.

Later if i use an other workplace then came back to whatch wine program i see nothing because all the windows have diseappeared. If i check system-monitor: activity is quiet and there is no problem of memory. Closing this app (system-monitor or else) the empty window stay there.

At that time crash can happen (have had several times) or happen randomly.",146,"0"
"WINE-9955","CarTest Demo just displays black screen","Its part of the S5 Game Demo examples.
Some more available here: http://forum.rscnet.org/showthread.php?t=247271


The console is full of this messages:

err:d3d_surface:d3dfmt_convert_surface Unsupported conversation type 9
err:d3d_surface:d3dfmt_convert_surface Unsupported conversation type 9

It's really just a small download so If anyone feels like debugging something have a look. )",13,"0"
"WINE-15292","Microsoft Office Outlook 2007: Cannot start outlook once e-mail settings have been configured","Created attachment 16101
terminal output in git + patch for bug 12975

First get past bug 12975 and bug 15291.

Now either configure your e-mail client or decline setting up an account (my terminal output is from setting one up but when I tried yesterday w/o setting one up I get the same error).

After configuring/declining Outlook will attempt to start but fail with:
'Cannot start Microsoft Office Outlook. Cannot open the Outlook window'.",1337,"1"
"WINE-12305","Firefox 3 beta 4 font problem: colon displayed as 0038 unicode glyph-missing glyph [dogfood]","In many places (including address bar tab titles and
wine bugzilla url and summary fields but not window title
or bugzilla description field) : is rendered as the glyph [0038].

I went through all fonts with notepad didn't see the same
problem there.",79,"0"
"WINE-679","Incorrect backslashes format in winedefault.reg","Installing wine-20020509 without windows partition I found some
bugs in paths inside registry (system.reg but I didn't check others)
Sometimes backslashes are missing making random problems sometimes :

For example :

WINE REGISTRY Version 2
 All keys relative to \\User\\massimo

[Control Panel\\desktop] 1021415096
DragFullWindows=0

[Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders] 
1021415096
Desktop=C:WINDOWSDesktop
Favorites=C:WINDOWSFavorites
Fonts=C:WINDOWSFonts
NetHood=C:WINDOWSNetHood
.....................

Instead of

WINE REGISTRY Version 2
 All keys relative to \\User\\massimo

[Control Panel\\desktop] 1021415096
DragFullWindows=0

[Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders] 
1021415096
Desktop=C:\\WINDOWS\\Desktop
Favorites=C:\\WINDOWS\\Favorites
Fonts=C:\\WINDOWS\\Fonts
NetHood=C:\\WINDOWS\\NetHood
..........",2,"0"
"WINE-35076","Multiple applications/installers fails due to SWbemLocator::ConnectServer being a stub (PSPad 4.5.7 Nitro PDF Professional 6.2.x eTax 2008 GOG.com games)","Created attachment 46783
terminal output/backtrace

Noticed while checking on bug 12995.

(@Focht this is on my Fedora machine not the broken gentoo one :))

[austin@localhost ~]$ wine --version
wine-1.7.8
[austin@localhost ~]$ sha1sum pspad457inst_en.exe 
e0ed70b5788e2f2d7b13428b042755c44c5112bf  pspad457inst_en.exe
[austin@localhost ~]$ du -h pspad457inst_en.exe 
4.5M	pspad457inst_en.exe",397,"1"
"WINE-34021","IE8 crashes badly when navigating to www.microsoft.com","Created attachment 45209
wine-1.6-rc4-122-g104adb7 console output (caught by redirects)

Working around Bug 25648 wine ~/.wine/drive_c/Program\ Files/Internet\ Explorer/iexplore.exe www.microsoft.com crashes out badly. See logs.

However workaround is supplied wininet (and urlmon - unimplemented function).",2145,"1"
"WINEHQ_APPS_DATABASE-16432","Stylebug when logged in as Maintainer","Created attachment 17774
gap in user menu

Since the new Style is online there is a transparent part in the user menu between Maintainership Overview and the maintained Apps when logged in as Maintainer.
Please View Attachment
I use Firefox 3.0.4 in Ubuntu 8.10",1,"0"
"WINE-36821","Multi Theft Auto: San Andreas 1.3.5 'FairplayKD.sys' driver continuously spams terminal due to 'PsLookupProcessByProcessId' stub","Hello folks

the kernel driver is part of 'Multi Theft Auto' v1.3.5

Release notes: https://forum.mtasa.com/viewtopic.php?f=31&t=71767

There is a constant spam on terminal:

--- snip ---
...
fixme:ntoskrnl:PsLookupProcessByProcessId (0x4 0x53e5bc) stub
fixme:ntoskrnl:PsLookupProcessByProcessId (0x8 0x53e5bc) stub
fixme:ntoskrnl:PsLookupProcessByProcessId (0xc 0x53e5bc) stub
fixme:ntoskrnl:PsLookupProcessByProcessId (0x10 0x53e5bc) stub
fixme:ntoskrnl:PsLookupProcessByProcessId (0x14 0x53e5bc) stub
fixme:ntoskrnl:PsLookupProcessByProcessId (0x18 0x53e5bc) stub
fixme:ntoskrnl:PsLookupProcessByProcessId (0x1c 0x53e5bc) stub
...
fixme:ntoskrnl:PsLookupProcessByProcessId (0x7ff8 0x53e5bc) stub
fixme:ntoskrnl:PsLookupProcessByProcessId (0x7ffc 0x53e5bc) stub
fixme:thread:NtQueryInformationThread info class 22 not supported yet
fixme:thread:NtQueryInformationThread info class 22 not supported yet
fixme:thread:NtQueryInformationThread info class 22 not supported yet
fixme:thread:NtQueryInformationThread info class 22 not supported yet
fixme:thread:NtQueryInformationThread info class 22 not supported yet
fixme:thread:NtQueryInformationThread info class 22 not supported yet
fixme:thread:NtQueryInformationThread info class 22 not supported yet
fixme:thread:NtQueryInformationThread info class 22 not supported yet
fixme:thread:NtQueryInformationThread info class 22 not supported yet
fixme:ntoskrnl:PsLookupProcessByProcessId (0x4 0x53e5bc) stub
fixme:ntoskrnl:PsLookupProcessByProcessId (0x8 0x53e5bc) stub
...

--- snip ---

'FairplayKD.sys' kernel driver code:

--- snip ---
00541F06  8BFF           MOV EDIEDI
00541F08  55             PUSH EBP
00541F09  8BEC           MOV EBPESP
00541F0B  8B4D 08        MOV ECXDWORD PTR SS:[EBP+8]  process id to lookup
00541F0E  53             PUSH EBX
00541F0F  56             PUSH ESI
00541F10  F6C1 03        TEST CL3
00541F13  75 42          JNZ SHORT 00541F57
00541F15  8B5D 0C        MOV EBXDWORD PTR SS:[EBP+C]
00541F18  F6C3 03        TEST BL3
00541F1B  75 3A          JNZ SHORT 00541F57
00541F1D  B8 E8FD0000    MOV EAX0FDE8                max pid (handle)
00541F22  3BC8           CMP ECXEAX
00541F24  77 31          JA SHORT 00541F57
00541F26  3BD8           CMP EBXEAX
00541F28  77 2D          JA SHORT 00541F57
00541F2A  3BCB           CMP ECXEBX
00541F2C  73 29          JNB SHORT 00541F57
00541F2E  8BF1           MOV ESIECX
pid_loop:
00541F30  8D45 08        LEA EAXDWORD PTR SS:[EBP+8]
00541F33  50             PUSH EAX
00541F34  56             PUSH ESI
00541F35  FF15 8C8A5400  CALL DWORD PTR DS:[548A8C]  PsLookupProcessByProcessId
00541F3B  85C0           TEST EAXEAX
00541F3D  74 0B          JE SHORT 00541F4A
00541F3F  83C6 04        ADD ESI4
00541F42  3BF3           CMP ESIEBX
00541F44  72 EA          JB SHORT 00541F30
00541F46  8BC3           MOV EAXEBX
00541F48  EB 0F          JMP SHORT 00541F59
00541F4A  8B4D 08        MOV ECXDWORD PTR SS:[EBP+8]
00541F4D  FF15 888A5400  CALL DWORD PTR DS:[548A88]  ObfDereferenceObject
00541F53  8BC6           MOV EAXESI
00541F55  EB 02          JMP SHORT 00541F59
00541F57  33C0           XOR EAXEAX
00541F59  5E             POP ESI
00541F5A  5B             POP EBX
00541F5B  5D             POP EBP
00541F5C  C2 0800        RETN 8
--- snip ---

If it fails (Wine stub in this case) just go for the next process id ... genius logic at work :)

Silencing via trace once might be ok for this - even if the loop is still getting executed.

$ sha1sum mtasa-1.3.5.exe 
7f186543892ef0877cd568ce0935c5e9641578c8  mtasa-1.3.5.exe

$ du -sh mtasa-1.3.5.exe 
21M	mtasa-1.3.5.exe

$ wine --version
wine-1.7.21-3-gbf72c67

Regards",281,"1"
"WINE-890","Virtual Pages difference - Spotted with VirtualQuery()","Bug comments from Gmane.org: 
 
As usual AutoCAD seems to be a good test-bench for wine :-) 
I spotted the problem that seemed coming from VirtualQuety function but 
that is (I guess... hmmmm) more a problem of memory handling in wine. 
 
I made a little test app here the results in wine and win2k later on 
the app itself : 
 
WINE RESULTS : 
 
Memory info about '004012F0' : 
    Base Address        : 00401000 
    Allocation Base     : 00400000 
    Allocation Protect  : PAGE_READONLY | PAGE_WRITECOPY |               
                          PAGE_EXECUTE_READWRITE | PAGE_NOACCESS 
    Region Size         : 00017000 
    State               : MEM_COMMIT 
    Protect             : PAGE_WRITECOPY      <----- HERE 
    Type                : MEM_PRIVATE 
 
WIN2k RESULTS : 
 
Memory info about '004012F0' : 
    Base Address        : 00401000 
    Allocation Base     : 00400000 
    Allocation Protect  : PAGE_EXECUTE_WRITECOPY 
    Region Size         : 00001000 
    State               : MEM_COMMIT 
    Protect             : PAGE_EXECUTE_READ    <---- AND HERE 
    Type                : MEM_IMAGE 
 
Well dunno too much about Type field I didn't find an app that check it yet 
I did find the app that uses Protect flag I think it's poor coded but as  
usual we should make bad apps work too :-) 
The app put some data in code page not yet spotted if hard or soft-coded 
then before reading it checks Protect field to see if it has not set the  
PAGE_GUARD NO_ACCESS and WRITECOPY flags if t has it hangs some 10.000  
lines later (sigh....) 
I think wine should set Protect flag quite as like as possible as windoze 
 
For AutoCAD2000 I put a dirty hack in process.c but is really ugly i'd  
prefer not to put my hands (bytes ?) too deeply inside some code that I don't  
understand completely...  
 
Attached is the test source (compiled in Borland CBuilder but should work  
with any compiler apart some unuseful pragma's). 
If needed I can post the compiled too :-) 
 
 
------- Additional Comments From maxx2  veneto.com  2002-07-18 03:09 ------- 
Created an attachment (id=232) 
C++ Test app for bug 890 
 
 
------- Additional Comments From maxx2  veneto.com  2002-07-19 14:42 ------- 
 Just submitted a Patch on wine-patches that seems to solve the problem.",1142,"1"
"WINE-1778","Operation hangs Wine","The x in the upper right of the Wine desktop does not function as a close
button.  The - button in the upper right of the application window works as it
should.  If you use the application minimize button to minimize the application
then you will lose control of both the application and Wine.  At that point you
will not be able to either close Wine or restore the application.",8,"0"
"WINE-11535","Gothic3 - graphic errors when resolution is higher than 1024x768","It is impossible for me to change the resolution of the game to a higher one then 1024*768. There will be a stripe on the right side of the screen that does not change. The screen is cut there and only the rest of the picture moves.
See the screenshot in the attachment.",31,"0"
"WINE-27028","Touchpad mouse cursor flickers when moved jumps back towards original position when released","Created attachment 34465
Regression test 1.3.17 to 1.3.18

When playing Warcraft III: Frozen Throne the mouse cursor flickers wildly when moved making it almost impossible to select anything and overall play the game. Strangely enough the bug is only present when *using the touchpad to move the mouse cursor it does *not* manifest when using a regular mouse. I'll try to test it in other machines and see what I have.

The bug was introduced in 1.3.18 and a the offending commit found with a regression test with 1.3.17 is attached.",194,"0"
"WINE-20469","Dragon Age: Origins: Texture glitches (textures frequently switching from visible to black)","Created attachment 24354
Wine output

In the Dragon Age: Origins character creator the textures and the whole screen are frequently flickering black.
The higher the graphics detail the more often it happens.
If the detail is set to low it happens more seldom but the problem stays
As the charakter creator uses the game engine this would also prevent people from playing the real game when it is released.

The application can be downloaded at the given link.

In case it matters (as it is a graphics problem) graphics card is nvidia driver version 190.42

Note: The log is full of
fixme:d3d:transform_projection >>>>>>>>>>>>>>>>> GL_INVALID_VALUE (0x501) from glOrtho @ state.c / 3872
I removed 10400 of those lines to keep the size down",97,"0"
"WINE-1166","Msvcrt: unhandled: %","Bug comments restored from Gmane.org:

was bug 1002 but I don't know how to reopen it...

the msvcrt's 'unhandled: %' bug  is still there in Wine 20021125
last time you had some problems with attachments so now I put part of it into
comment:

08077c00:Call msvcrt.strstr(406c2820 // Registry key which tells that there is
already a complete installation on the...0040537c KEY_INSTALLCOMPLETE)
ret=004010a9
08077c00:Ret  msvcrt.strstr() retval=00000000 ret=004010a9
08077c00:Call msvcrt.fgets(406c282000000200403c1050) ret=00401092
08077c00:trace:msvcrt:MSVCRT_fgets :file(0x403c1050) fd (3) str (0x406c2820) len
(512)
08077c00:trace:msvcrt:MSVCRT_fgets :got 'KEY_INSTALLCOMPLETE
SOFTWARE\BlueByte\Incubation\InstallIncComplete
'
08077c00:Ret  msvcrt.fgets() retval=406c2820 ret=00401092
08077c00:Call msvcrt.strstr(406c2820 KEY_INSTALLCOMPLETE
\SOFTWARE\\BlueByte\\Incubation\\InstallIncComplete\\n0040537c
KEY_INSTALLCOMPLETE) ret=004010a9
08077c00:Ret  msvcrt.strstr() retval=406c2820 ret=004010a9
08077c00:warn:msvcrt:MSVCRT_sscanf KEY_INSTALLCOMPLETE
SOFTWARE\BlueByte\Incubation\InstallIncComplete
 (%s): semi-stub
08077c00:trace:msvcrt:MSVCRT_sscanf returning 1
08077c00:Call msvcrt.strlen(406c2a20 KEY_INSTALLCOMPLETE) ret=004010d8
08077c00:Ret  msvcrt.strlen() retval=00000013 ret=004010d8
08077c00:Call msvcrt.strcpy(406c2abc406c2833 
\SOFTWARE\\BlueByte\\Incubation\\InstallIncComplete\\n) ret=004010e6
08077c00:Ret  msvcrt.strcpy() retval=406c2abc ret=004010e6
08077c00:warn:msvcrt:MSVCRT_sscanf 
SOFTWARE\BlueByte\Incubation\InstallIncComplete
 (%%[^]s): semi-stub
08077c00:fixme:msvcrt:MSVCRT_sscanf unhandled: %
08077c00:trace:msvcrt:MSVCRT_sscanf returning 0


------- Additional Comments From nog@sdf.lonestar.org  2002-12-14 06:04 -------
Created an attachment (id=359)
Quick-hack patch


------- Additional Comments From nog@sdf.lonestar.org  2002-12-14 06:09 -------
This is the first part of your origional problem (bug #1002).  The program is
passing % as the format and is expecting to start the input from the first 
character in the input stream.  I have attached a simple fix which should work
but I haven't actually tested if it works ok.  Let me know if it works.


------- Additional Comments From michal.seliga@visicom.sk  2002-12-17 03:21 -------
install now works but later in game it crashes (with unhandled exception)

it is strange - when i run game normally (wine incubation.exe) I get unhandled
exception in msvcrt sscanf. but when I run game with 'wine --debugmsg +all
+trace +relay incubation.exe >& log' I get unhandled exception in ntdll sscanf.
So I don't know... Part of log is attached but I am not sure if it is connected
to this bug or it is something else. so if it does then send me how i should
test it for you (parameters to --debugmsg and stuff like that)... if it soeasn't
then for me it is fixed (when this patch will be in wine sources)

log:

...lot of stuff before..... full length of log was 250MB....
080ced98:Call ntdll.RtlEnterCriticalSection(468d13c0) ret=40eb8503
080ced98:Ret  ntdll.RtlEnterCriticalSection() retval=00000000 ret=40eb8503
080ced98:Call ntdll.RtlLeaveCriticalSection(468d13c0) ret=40eb8537
080ced98:Ret  ntdll.RtlLeaveCriticalSection() retval=00000000 ret=40eb8537
080ced98:Call msvcrt.??2@YAPAXI@Z(00000024) ret=00478f08
080ced98:Call ntdll.RtlAllocateHeap(403700000000000000000024) ret=40c60547
080ced98:trace:heap:RtlAllocateHeap (0x403700000000000200000028): returning
468d14c0
080ced98:Ret  ntdll.RtlAllocateHeap() retval=468d14c0 ret=40c60547
080ced98:trace:msvcrt:MSVCRT_operator_new (36) returning 0x468d14c0
080ced98:trace:msvcrt:_lock (9)
080ced98:Call ntdll.RtlEnterCriticalSection(40c76340) ret=40c61961
080ced98:Ret  ntdll.RtlEnterCriticalSection() retval=00000000 ret=40c61961
080ced98:trace:msvcrt:_unlock (9)
080ced98:Call ntdll.RtlLeaveCriticalSection(40c76340) ret=40c61a39
080ced98:Ret  ntdll.RtlLeaveCriticalSection() retval=00000000 ret=40c61a39
080ced98:Ret  msvcrt.??2@YAPAXI@Z() retval=468d14c0 ret=00478f08
080ced98:CALL newtoolsr.10: ??0DListBase@BB@@QAE@XZ() ret=0048ccd3
080ced98:RET  newtoolsr.10: ??0DListBase@BB@@QAE@XZ() retval = 468d14c4 ret=0048ccd3
080ced98:CALL newtoolsr.10: ??0DListBase@BB@@QAE@XZ() ret=0048cd15
080ced98:RET  newtoolsr.10: ??0DListBase@BB@@QAE@XZ() retval = 468d14d4 ret=0048cd15
080ced98:CALL newtoolsr.38: ??0String@BB@@QAE@XZ() ret=00478f84
080ced98:Call msvcrt.??2@YAPAXI@Z(00000001) ret=10001ef4
080ced98:Call ntdll.RtlAllocateHeap(403700000000000000000001) ret=40c60547
080ced98:trace:heap:RtlAllocateHeap (0x403700000000000200000018): returning
468d14f0
080ced98:Ret  ntdll.RtlAllocateHeap() retval=468d14f0 ret=40c60547
080ced98:trace:msvcrt:MSVCRT_operator_new (1) returning 0x468d14f0
080ced98:trace:msvcrt:_lock (9)
080ced98:Call ntdll.RtlEnterCriticalSection(40c76340) ret=40c61961
080ced98:Ret  ntdll.RtlEnterCriticalSection() retval=00000000 ret=40c61961
080ced98:trace:msvcrt:_unlock (9)
080ced98:Call ntdll.RtlLeaveCriticalSection(40c76340) ret=40c61a39
080ced98:Ret  ntdll.RtlLeaveCriticalSection() retval=00000000 ret=40c61a39
080ced98:Ret  msvcrt.??2@YAPAXI@Z() retval=468d14f0 ret=10001ef4
080ced98:RET  newtoolsr.38: ??0String@BB@@QAE@XZ() retval = 004eda84 ret=00478f84
080ced98:Call msvcrt.?name@type_info@@QBEPBDXZ(00000001) ret=00478f9f
080ced98:trace:msvcrt:MSVCRT_type_info_name
080ced98:trace:seh:EXC_RtlRaiseException code=c0000005 flags=0 addr=0x402b2b9b
080ced98:trace:seh:EXC_RtlRaiseException  info[0]=00000000
080ced98:trace:seh:EXC_RtlRaiseException  info[1]=00000009
080ced98: queue_exception_event( first=1
record={context={flags=00000000eax=00000009ebx=40359340ecx=00000001edx=00000073esi=00000000edi=402879daebp=406c2960eip=402b2b9besp=406c2244eflags=00210202cs=0023ds=002bes=002bfs=008fgs=0007dr0=00000000dr1=00000000dr2=00000000dr3=00000000dr6=00000000dr7=00000000float={00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000}}rec={code=c0000005flags=0rec=(nil)addr=0x402b2b9bparams={09}}
)
080ced98: queue_exception_event() = 0 { handle=(nil) }
080ced98:trace:seh:EXC_CallHandler calling handler at 0x479e25 code=c0000005 flags=0
080ced98:Call msvcrt.__CxxFrameHandler(405b09d0406c2c88405b0a44405b0960)
ret=400d5085 fs=008f
 eax=004abf28 ebx=4010af6c ecx=405b0960 edx=405b0a44 esi=405b09d0 edi=4010ad44
 ebp=405b0930 esp=405b0904 ds=002b es=002b gs=0007 flags=00200216
080ced98:Ret  msvcrt.__CxxFrameHandler() retval=00000001 ret=400d5085 fs=008f
 eax=00000001 ebx=4010af6c ecx=405b0960 edx=405b0a44 esi=405b09d0 edi=4010ad44
 ebp=405b0930 esp=405b0904 ds=002b es=002b gs=0007 flags=00200216
080ced98:trace:seh:EXC_CallHandler handler returned 1
080ced98:trace:seh:EXC_CallHandler calling handler at 0x4124dc code=c0000005 flags=0
080ced98:Call msvcrt.__CxxFrameHandler(405b09d0406c2ca4405b0a44405b0960)
ret=400d5085 fs=008f
 eax=004aa9e0 ebx=4010af6c ecx=405b0960 edx=405b0a44 esi=405b09d0 edi=4010ad44
 ebp=405b0930 esp=405b0904 ds=002b es=002b gs=0007 flags=00200216
080ced98:Ret  msvcrt.__CxxFrameHandler() retval=00000001 ret=400d5085 fs=008f
 eax=00000001 ebx=4010af6c ecx=405b0960 edx=405b0a44 esi=405b09d0 edi=4010ad44
 ebp=405b0930 esp=405b0904 ds=002b es=002b gs=0007 flags=00200216
080ced98:trace:seh:EXC_CallHandler handler returned 1
080ced98:trace:seh:EXC_CallHandler calling handler at 0x4a3102 code=c0000005 flags=0
080ced98:Call msvcrt._except_handler3(405b09d0406c2e74405b0a44405b0960)
ret=400d5085
080ced98:trace:msvcrt:_except_handler3 exception c0000005 flags=0 at 0x402b2b9b
handler=0x4a3102 0x405b0a44 0x405b0960 semi-stub
080ced98:trace:msvcrt:_except_handler3 filter = 0x4a2e80
080ced98:Call msvcrt._XcptFilter(c0000005405b0844) ret=004a2e97
080ced98:fixme:msvcrt:_XcptFilter (-10737418190x405b0844)semi-stub
080ced98:Call kernel32.UnhandledExceptionFilter(405b0844) ret=40c5aeb9
080ced98: queue_exception_event( first=0
record={context={flags=00000000eax=00000009ebx=40359340ecx=00000001edx=00000073esi=00000000edi=402879daebp=406c2960eip=402b2b9besp=406c2244eflags=00210202cs=0023ds=002bes=002bfs=008fgs=0007dr0=00000000dr1=00000000dr2=00000000dr3=00000000dr6=00000000dr7=00000000float={00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000}}rec={code=c0000005flags=0rec=(nil)addr=0x402b2b9bparams={09}}
)
080ced98: queue_exception_event() = 0 { handle=(nil) }
080ced98: create_event( manual_reset=1 initial_state=0 inherit=1 name=L )
080ced98: create_event() = 0 { handle=0x98 }
wine: Unhandled exception starting debugger...


------- Additional Comments From nog@sdf.lonestar.org  2002-12-17 11:25 -------
This doesn't look like it's related to the sscanf problem.  It seems like this
is related to bug #1124.  By looking at that bug it could be possible that your
program doesn't install properly wether because of a scanf bug or not.

------- Additional Comments From michal.seliga@visicom.sk  2002-12-18 07:00 -------
hard to tell anyway I think when this patch will be commited to wine this
should be marked as fixed",525,"1"
"WINE-41086","Unimplemented function msvcp140.dll.??0?$codecvt@_WDU_Mbstatet@@@std@@QAE@I@Z needed by Battle.net","With the new version of Battle.net which needed msvcp140 there is a function not implemented and this caused an error during the launching:

wine: Call from 0x7b43bfac to unimplemented function msvcp140.dll.??0?$codecvt@_WDU_Mbstatet@@@std@@QAE@I@Z aborting
wine: Unimplemented function msvcp140.dll.??0?$codecvt@_WDU_Mbstatet@@@std@@QAE@I@Z called at address 0x7b43bfac (thread 0023) starting debugger...",53,"0"
"WINE-927","fixme:commctrl:FlatSB_SetScrollProp stub","Bug comments restored from Gmane.org: 
 
Results when running Kenwood executable. 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-31 
11:26 ------- 
This is non critical code but probably not that bad a place to start developing 
wine. The following is extracted frome the current source code 
./wine/dlls/comctl32/flatsb.c 
 
 
/*********************************************************************** 
 * 
        FlatSB_SetScrollProp (COMCTL32.36) 
 */ 
BOOL WINAPI 
FlatSB_SetScrollProp(HWND hwnd UINT index INT newValue BOOL flag) 
{ 
    TRACE([%04x] index=%u newValue=%d flag=%d\n hwnd index newValue flag) 
    FIXME(stub\n) 
    return FALSE 
} 
 
/*********************************************************************** 
 *      From the Microsoft docs: 
 *      If flat scroll bars haven't been initialized for the 
 *      window the flat scroll bar APIs will defer to the corresponding 
 *      standard APIs.  This allows the developer to turn flat scroll 
 *      bars on and off without having to write conditional code. 
 * 
 *      So if we just call the standard functions until we implement 
 *      the flat scroll bar functions flat scroll bars will show up and 
 *      behave properly as though they had simply not been setup to 
 *      have flat properties. 
 * 
 *      Susan  codeweavers.com> 
 * 
 */",501,"1"
"WINE-4527","port.h ISO errors","libs/port/interlocked.c fails when compiled with strict C90 compliance.

The problem is an extra semicolon after the __ASM_GLOBAL_FUNC macro definition
in include/wine/port.h.",342,"1"
"WINE-20083","SIV (System Information Viewer) v4.00 SIVDRIVER crashes to due invalid PIO_STACK_LOCATION->FileObject passed into IRP_MJ_DEVICE_CONTROL dispatch routine","When the SIVDRIVER IRP_MJ_DEVICE_CONTROL dispatch routine is called the PIO_STACK_LOCATION->FileObject in incalid in fact it's set of 0x66666666.  This caused the v4.00 SIVDRIVER to crash as it expects to setup PFILE_OBJECT->FsContext in file create callback and use it while processing IRP_MJ_DEVICE_CONTROL.  For 4.01 I managed to stop the crashes by adding code to check for 0x66666666. This really needs to be fixed though.",3430,"1"
"WINE-24957","32-bit Explorer++ shows garbage in the status bar while opening menu bar menus","Created attachment 31605
Terminal output

Clicking one of the items in the menu bar without moving the cursor (so it remains hovering above the menu bar item not the menu itself) usually results in garbage appearing in the status bar. Hovering over a different item in the menu bar can make this garbage text change (to other garbage). Once in a while the status bar will be blank instead (which is the expected behavior).

The 64-bit build of Explorer++ doesn't seem to have this problem. It happens in the 32-bit build on both WoW64 and plain 32-bit Wine.",355,"1"
"WINE-5767","Unable to change default web browser","Originally I had Win32 Firefox set as my default browser in Wine. However in 
a semi-recent cvs update Wine started to always use native Konqueror for the 
default browser (after checking for mozilla). When starting up Win32 Firefox 
manually it asks if I want to set it as the default browser I click yes and 
nothing changes. Konqueror is still used by default. I've tried looking 
through the registry but nothing I could find to change had an effect.",609,"1"
"WINE-29362","Starcraft Campaign Editor adds a semicolon to file names when saving","Steps to reproduce:
1. Create a new map.
2. Save the map. In the Save As dialog type test.

Expected results:
The map is saved as test.scm

Actual results:
The map is saved as test.scm

The problem is in the way the Save As dialog determines what extension to append to the file name. A workaround is to type test.scm yourself in the Save As dialog.",38,"0"
"WINE-14529","Hellgate: London - Launcher cannot start the game","The window of the launcher shows up but when I try to load the single player mode it does not work. Log is attached.",816,"1"
"WINE-9546","richedit assertion failure running Dragon Naturally Speaking 7","A user reports
in DragonPad the command Scratch That freezes the program and then
crashes it.  
The log contains

string.c:350: ME_ToUnicode: Assertion `psz != ((void *)0)' failed.
err:ntdll:RtlpWaitForCriticalSection section 0x7bc8cd24 loader.c:
loader_section wait timed out in thread 001d blocked by 001f retrying
(60 sec)

This was with wine-0.9.44-195-g282696b.  
(This is probably not a regression
but rather a bug uncovered by recent fixes that let DNS 7 work.)",10,"0"
"WINE-10436","utorrent: regression for UPNP wine version 0.9.48","0.9.47 - UPNP works
0.9.48 and up - UPNP doesn't work

utorrent (1.7.2 atm but version does not matter) (www.utorrent.org) requests an UPNP port on startup but it is not opened on the router with .48 and later versions. 0.47 works just fine. Changing the port in utorrent to force an change has no effect either.",4,"0"
"WINE-21805","The game Which has incorrect rendering with whitewashed visuals","Created attachment 26378
Which game terminal output

After launching the Which-3D.exe executable the game visuals appear totally white washing out most of the game details and making the game unplayable. On Windows the game should render mostly black and white with color tinges in various areas. Terminal output and screenshots are attached.",540,"1"
"WINE-36457","Hearts of Iron III Demo and Europa Universalis:Rome crash with unimplemented function vcomp.dll._vcomp_enter_critsect","Created attachment 48500
log

Works with vcrun2005.",452,"1"
"WINE-20495","CryptUnprotectData can't handle zero-length payloads (affects chromium unit_tests)","Noticed as follows:
  wget http://kegel.com/wine/chromium/chromium-tests.tar.bz2
  tar -xjvf ../chromium-tests.tar.bz2
  wine src/chrome/Debug/unit_tests.exe --gtest_filter=EncryptorTest.EncryptionDecryption

This fails with
[ RUN      ] EncryptorTest.EncryptionDecryption
.\browser\password_manager\encryptor_unittest.cc(62): error: Value of: Encryptor::DecryptString(ciphertext &result)
  Actual: false
Expected: true
[  FAILED  ] EncryptorTest.EncryptionDecryption (4 ms)

This test case seems to check a corner case that wine doesn't handle (zero-length payload).
I'll send a conformance test.",36,"0"
"WINE-32300","Winecfg applications tab displays apps on one line & they cannot be selected","Created attachment 42635
Screenshot showing apps displayed on one line in winecfg

Originally reported by a user on the forum. The summary pretty much says it all. Attaching a screenshot illustrating the problem. 

Regression test results: 

e9e09b66a0eca2cec97faa71cffa9ea7269fc681 is the first bad commit
commit e9e09b66a0eca2cec97faa71cffa9ea7269fc681
Author: Daniel Jelinski 
Date:   Mon Nov 12 19:03:24 2012 +0100

    comctl32: Move WM_SIZE handling into WM_WINDOWPOSCHANGED.

:040000 040000 543eba6717ff329b2986f0c55814b54d50736634 307ba1d160869700abefa866c5cdaab5b9cf7f3a M   dlls

Reverting the patch fixes it.",2,"0"
"WINE-29587","Visual FoxPro application fatal error when loading JPEG","Publishers' Assistant a Visual FoxPro application built with VFP 7 crashes upon trying to load a JPEG file.  The error reported is: 

Fatal error: Exception code = C0000005 @ [timestamp] Error log file: C:\Program Files\Common Files\Microsoft Shared\VFP\vfp7rerr.log
Called from - pubassist line 118 {C:\program files\pubassist\pubassist.prg c:\program files\pubassist\pa.exe}

(There is no more useful information in the mentioned log file -- it just contains the same message.)

This is a regression.  My regression test yields commit 2e96abd0d432ae1374a4e268e3655df9e01822ba (user32: Return the icon depth instead of the number of colors when loading from a .ico file) as the first bad commit.

This appears to be the same issue as bug #24982 which was closed as abandoned.",2,"0"
"WINE-23734","Office 2007 installer: cannot add or remove programs after initial install","Created attachment 29730
Crash from rerunning the Office 2007 installer

The Office 2007 installer works fine on the initial install including customizing but cannot be used to add or remove programs later. It does not recognize that Office is already installed when you rerun the installer and asks for the product key again instead of showing the Add or Remove Programs dialog. If you enter the product key it will allow you to select items to add or remove but will crash shortly after the install starts.",215,"0"
"WINE-11948","TF2 and Portal do not render correctly with nvidia-drivers-169.x and above","Created attachment 11263
Image showing menu

Nvidia drivers 100.x work correctly with these games however 169.x and 171.x do not.  Attached are some screenshots showing the problems (no background menu image fonts not correct in the server list and black boxes where HUD items should be).",213,"0"
"WINE-9682","NVDVD fails to start due to saxxml error","Created attachment 8101
console output

when I try to launch NVDVD in wine using (NvDvd.exe -p NVDVD) for the skin path I get the following error dialog:

an error has occured in CSkinFactory.cpp at line 90. Unable to create SAXXMLReader.",770,"1"
"WINE-15473","Adobe After Effects 4 crashes on startup","sha1sum of ae4try_uk.exe is 8b9dd9bbe422209a311c5f0ce9054e2e687f5450
App installs ok and puts up a gui when you start it but quickly
crashes with dialog
After Effects can't continue: sorry an abnormal condition has been detected
+seh shows there's an exception but the +relay+text+seh log isn't 
very illuminating.  Running in winedbg gives a nice stack dump
inside SetWindowPos() for some reason DefWindowProc gets WM_KEYF1
and sends WM_HELP which is handled by the app's window procedure which
crashes on a near-null pointer access.",2706,"1"
"WINE-13156","ETO_OPAQUE and clear style are not transparent on a bitmap","I paint some text on a bitmap using

  Canvas.TextFlags:=ETO_OPAQUE
  Canvas.Brush.Style:=bsClear
  TextOut(...

resulting in a black background around the intended transparent text.",1380,"1"
"WINE-1948","Unhandled exception: unimplemented function rpcrt4.dll.RpcNetworkIsProtseqValidA called in 32-bit code","fixme:seh:EXC_RtlRaiseException call to unimplemented function
rpcrt4.dll.RpcNetworkIsProtseqValidA
wine: Unhandled exception (thread 0017) starting debugger...
WineDbg starting on pid 16
Loaded debug information from ELF 'wine' ((nil))
No debug information in 32bit DLL 'C:\Program Files\Microsoft
Office\Office\OUTLOOK.EXE' (0x30000000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\NTDLL.DLL' (0x401c0000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\KERNEL32.DLL' (0x40450000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\MSVCRT.DLL' (0x78000000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\ADVAPI32.DLL' (0x408d0000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\GDI32.DLL' (0x40a50000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\USER32.DLL' (0x40920000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\RPCRT4.DLL' (0x40ad0000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\OLE32.DLL' (0x40870000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\COMCTL32.DLL' (0x40b10000)
No debug information in 32bit DLL 'C:\PROGRAM FILES\MICROSOFT
OFFICE\OFFICE\MSO9.DLL' (0x308c0000)
No debug information in 32bit DLL 'C:\PROGRAM FILES\MICROSOFT
OFFICE\OFFICE\OUTLLIB.DLL' (0x3a420000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\X11DRV.DLL' (0x40e30000)
No debug information in 32bit DLL 'C:\PROGRAM FILES\MICROSOFT
OFFICE\OFFICE\1033\OUTLLIBR.DLL' (0x3a950000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\SHLWAPI.DLL' (0x418a0000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\SHELL32.DLL' (0x41820000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\MPR.DLL' (0x418e0000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\LZ32.DLL' (0x41910000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\VERSION.DLL' (0x41900000)
No debug information in 32bit DLL
'C:\PROG~FBU\COMM~CP1\SYSTEM\MAPI\1033\95\GAPI32.DLL' (0x3ff30000)
No debug information in 32bit DLL 'C:\PROGRAM FILES\COMMON
FILES\SYSTEM\MAPI\1033\95\MSMAPI32.DLL' (0x62100000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\MSI.DLL' (0x3f000000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\WINMM.DLL' (0x41d70000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\MSVFW32.DLL' (0x41d40000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\WINEOSS.DRV' (0x41de0000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\MSACM32.DLL' (0x41e20000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\MSACM.DRV' (0x41e10000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\MIDIMAP.DRV' (0x40dc0000)
No debug information in 32bit DLL 'C:\PROGRAM FILES\COMMON
FILES\SYSTEM\MAPI\1033\95\EMSABP32.DLL' (0x626f0000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\OLEAUT32.DLL' (0x41fd0000)
No debug information in 32bit DLL
'C:\PROG~FBU\COMM~CP1\SYSTEM\MAPI\1033\95\OUTEX.DLL' (0x62030000)
No debug information in 32bit DLL 'C:\PROGRAM FILES\COMMON
FILES\SYSTEM\MAPI\1033\95\EMSUI32.DLL' (0x625d0000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\RICHED20.DLL' (0x48000000)
Unhandled exception: unimplemented function rpcrt4.dll.RpcNetworkIsProtseqValidA
called in 32-bit code (0x40ad4056).
In 32-bit mode.
0x40ad4056 (RPCRT4.DLL..text+0x3056 in RPCRT4.DLL): jmp 0x40ad4050
(RPCRT4.DLL..text+0x3050 in RPCRT4.DLL)

how can i fix this problem.",1,"0"
"WINE-2638","BRST entry in TZ_INFO unavailable","First the SO of my PC machine is SUSE Linux 9.1 whith kernel version 
2.6.5-7.111.19 (SUSES's numbering). 
I crashed each time I went exec the application AVRStudio.exe. This application 
was installed following the instructions present in 
http://www.frankscorner.org/index.php?p=ishield. The installation program is 
supplied in the address 
http://www.atmel.com/dyn/resources/prod_documents/aStudio4b356.exe. 
So when i try to run the application with the command 
wine .wine/drive_c/Program\ Files/Atmel/AVR\ Tools/AvrStudio4/AVRStudio.exe 
the follow messages is showed: 
 
fixme:ole:CoRegisterMessageFilter stub 
fixme:ole:CoRegisterMessageFilter stub 
fixme:ole:CoRegisterMessageFilter stub 
fixme:ole:CoCreateInstance no classfactory created for CLSID 
{2933bf90-7b36-11d2-b20e-00c04f983e60} hres is 0x80040154 
fixme:ntdll:TIME_GetTZAsStr Can't match system time zone name BRST to an 
entry in TZ_INFO 
fixme:ntdll:TIME_GetTZAsStr  Please add appropriate entry to TZ_INFO and 
submitas patch to wine-patches 
fixme:ntdll:TIME_GetTZAsStr Can't match system time zone name BRST to an 
entry in TZ_INFO 
fixme:ntdll:TIME_GetTZAsStr  Please add appropriate entry to TZ_INFO and 
submitas patch to wine-patches 
wine: Unhandled exception (thread 0009) starting debugger... 
WineDbg starting on pid 0x8 
Unhandled exception: page fault on read access to 0x00000000 in 32-bit code 
(0x00405075). 
In 32 bit mode. 
Register dump: 
 CS:0073 SS:007b DS:007b ES:007b FS:003b GS:0033 
 EIP:00405075 ESP:4069f37c EBP:4039f1a4 EFLAGS:00210202(   - 00      - -RI1) 
 EAX:00000000 EBX:4039dc4c ECX:4069f37c EDX:00000000 
 ESI:00536048 EDI:01780003 
Stack dump: 
0x4069f37c:  00405048 00000000 00000000 5f4d1c58 
0x4069f38c:  4039dc4c 00000000 4069f3e0 00536048 
0x4069f39c:  00536048 4069ff20 ffffffff 4069f390 
0x4069f3ac:  40033f99 5f4d1c58 5f4d1c58 4039dc4c 
0x4069f3bc:  41a76a08 4039f1a4 40033f99 41a77278 
0x4069f3cc:  5f4d1c58 00d500d4 00000001 00d900d8 
Backtrace: 
=>1 0x00405075 in avrstudio (+0x5075) (0x4039f1a4) 
  2 0x006f0072 (0x40320000) 
  3 0x00090000 (0x00110000) 
  4 0x00000000 (0x00000000) 
0x00405075: movl        0x0(%eax)%edx",125,"0"
"WINE-6975","Regression: Baldur's Gate II doesn't redraw interface","With current git the interface of Baldur's Gate II behaves quite strange. It
seems lie it doesn't get redrawn after some part of the interface is supposed to
change. I'll attach some screenshots in order to illustrate the problem.

This only happens when 3D Acceleration is enabled in BGConfig. Demo is affected
too. The interface behaved fine with wine-0.9.27 the commit that broke it is: 

Ulrich Czekalla 
Thu 7 Dec 2006 15:45:58 +0000 (10:45 -0500)
commit	715d0e84097cb2dc07369c4e1cec8cf8a41e9035
parent	0ab559047942892191d1916ba4dfda0747eee359
winex11.drv: Correctly position and clip opengl child windows.",299,"1"
"WINE-22065","HeadOverHeels crashes","Created attachment 26880
contains crash log

App at: http://retrospec.sgn.net/game/hoh

Crash occurs when starting the application much earlier versions of wine ran it with occasional crashes on start up (and ran fine).

Often see 'Error setting graphics mode.' if trying to run it a second time after the crash.",958,"1"
"WINE-12455","Warcraft III 1.21b - Crashes with Fatal Error on Switch Desktop","Created attachment 11994
Wine output since run untill the error.

Hello everyone! I want to thank you for the great work on Wine first!

Now on the bug:

As of present Warcraft III TFT v1.21b crashes with Fatal Error when I switch desktops in GNOME sometimes. I usually run it in a separate desktop and instead of tabbing I use desk switching.

Reproduce like this - run the game in a random desktop then press Ctrl+Alt and start pumping left/right or other arrows needed to switch to another desktop and back to the Warcraft one fast. Eventually it crashes the same way - usually in a few seconds of fast switching. 

Machine 1:
Ubuntu 7.10 2.6.22-14-generic AMD X2 5600+ NVIDIA 7600GT 100% tested and stable hardware.

Machine 2:
Ubuntu 8.04beta 2.6.24-14-generic T7100 NVIDIA 8400M GS tested and stable as well.

Testing:

Changed NVIDIA drivers to older newer diff versions - no effect.
Tried it on both machines - so 2 kernels 2 cards - no effect.
Started switching Wine versions - problem appears to begin since 0.9.57 through 58 and 59.
No problems prior 57.

Wine output in attachment.
Screenshot of the error > http://lightrush.googlepages.com/Screenshot-1.png",50,"0"
"WINE-17186","Final Reality 1.01 Benchmark: Triggering ID3DDevImpl_7_GetRenderState ERRs","FR 1.01 is an old DX5 (?) benchmark from Remedy.

Select the Robots test from the 3D tests and these errors are triggered numerous times:
err:d3d7:IDirect3DDeviceImpl_7_GetRenderState Unhandled texture mag 0 !

Adding Alexander since he probably knows the most of the ddraw code used.

Greets
Tobias",588,"1"
"WINE-26309","Civilization V crashes after clicking play game and prior to the game starting","After steam loads i can right click on the sys tray icon and launch Civ V.  The game launches and I am able to click on play game but the game never initalizes.  Maybe it's hardware specific since I've seen several reports of it working ...  i have fought with this for countless hours and can't find anyone else having this exact same issue I am having.",140,"0"
"WINE-21631","Lego Star Wars I crashes at start after displaying the nvidia logo","Created attachment 26114
backtrace

commit 040452ad90927aa8839b1f31a510b1b8a1afac1d prior to wine-1.1.38
Author: Henri Verbeet 
    wined3d: Update the stream info before applying states.
causes wine to crash with a NULL pointer error at start after displaying the nvidia animation.

  0 0x4aadc36e gleLLVMLoadDataFromAryFloatInFloat+0xe9e() in glengine (0x03e7f3d8)
  7 0x406efef3 _drawPrimitive+0x1173() in wined3d (0x03e7f998)

Using MacOS 10.5.8 probably with Apple X11 since last security update (instead of XQuartz 2.y.",13,"0"
"WINE-31326","ScriptStringOut draw glyphs with wrong pitch with some fonts","Created attachment 41164
C test case

wine-1.5.9-222-g47b9dd1

ttf-wqy-microhei:
0.2.0-beta-1

WenQuanYi Micro Hei is used as a replacement of SimSun in Ubuntu Wine package SimSun is the default GUI font for Chinese version of Wine/Windows.

After 5a45e3474141536b02cfc4e924be3aacbd6ad2c5 ( usp10: Implement GPOS Pair Adjustment Positioning Subtable. )  the glyph pitch is wrong when display string with ScriptStringOut using WenQuanYi Micro Hei.

The simplest way to reproduce this bug is :
1. Make sure WenQuanYi Micro Hei is installed and set as replacement of SimSun 
2. Open wine iexplore with LC_ALL=zh_CN.utf8
3. type some characters into the address bar for example '/' '' '.' 

Expect result:
The pitch between different glyphs should be a suitable value
Actual result:
The pitch between two '/' is larger then normal pitch between two '>' is even larger pitch between two '.' is zero pitch between two '<' is negative.

winetricks usp10 workaround the bug.

The attachment is a test case notice that SSA_LINK flag in ScriptStringAnalyse is necessary to reproduce this bug.",21,"0"
"WINE-12026","Alien Shooter 2 graphical glitch on shadows","Created attachment 11363
Shadows above the sacks

The shadows appear above the objects instead of below.
Near the question mark in the screenshot this is evident the shadows are above the sacks.",1525,"1"
"WINE-41744","Streamline crashes on launch","Created attachment 56189
crashlog - Steam

Crashes both on 1.9.23 and current wine-git.

Seems to crash about here full log since startup attached.

LogModuleManager:Warning: ModuleManager: Module 'DerivedDataCache' not found - its StaticallyLinkedModuleInitializers function is null.
LogWindows:Error: === Critical error: ===",30,"0"
"WINE-18477","Need For Speed Most Wanted crashes after accepting video settings changes","Created attachment 21102
log after accepting video settings

I'm using Wine 1.1.21 (compiled from source using gcc version 4.3.2 20081105 (Red Hat 4.3.2-7) ) on Fedora 10 i386. 

The problem is that when i set something in video settings in NFS MW and try to accept that then i get black screen the game doesn't hang because music is played. If i don't change anything and press accept then everything is ok.

The settings for this game are saved as DWORDS in registry

In terminal there is:

err:heap:HEAP_ValidateInUseArena Heap 0x110000: in-use arena 0x35287f0 next block has PREV_FREE flag",2833,"1"
"WINE-7371","Steinberg License Manager lcc.exe does not run causes many ole:err","I am trying to run Steinberg License Manager on SuSE 10.2 using the command

wine LCC.exe

I get a multitude of error messages:

Here is the output 

~/.wine/drive_c/Program Files/Syncrosoft/LCC $ wine LCC.exe
err:ole:TLB_ReadTypeLib Loading of typelib LSYNSOPOS.exe failed with error 1813
err:ole:_get_typeinfo_for_iid Failed to load typelib for
{e3b4b742-a654-11d3-a1a3-005004ea089a} but it should be there.
err:ole:PSFacBuf_CreateProxy No typeinfo for {e3b4b742-a654-11d3-a1a3-005004ea089a}?
err:ole:proxy_manager_create_ifproxy Could not create proxy for interface
{e3b4b742-a654-11d3-a1a3-005004ea089a} error 0x80029c4a
err:ole:ClientIdentity_QueryMultipleInterfaces Failed to get pointer to
interface {e3b4b742-a654-11d3-a1a3-005004ea089a}
wine: Unhandled page fault on read access to 0x00000000 at address 0x1001a90f
(thread 002d) starting debugger...
Unhandled exception: page fault on read access to 0x00000000 in 32-bit code
(0x1001a90f).




etc.",664,"1"
"WINE-28571","Saving file in Rockwell Arena Simulator causes crash.","Saving an existing model in Arena 10.0 causes a crash.

To reproduce:
1. Open Arena.
2. Create a new Model.
3. Save the model. 
4. Add 'Create' 'Process' and 'Destroy' processes to the model.
5. Press the 'save' icon.

The program crashes.

Dump:
$ wine Arena.exe 
fixme:ole:CoInitializeSecurity (0x441618-1(nil)(nil)43(nil)0(nil)) - stub!
fixme:advapi:RegisterEventSourceW ((null)LICQ Service): stub
fixme:advapi:ReportEventW (0xcafe42420x00040x00000x00000000(nil)0x00010x000000000x74e794(nil)): stub
fixme:advapi:DeregisterEventSource (0xcafe4242) stub
fixme:ole:CoInitializeSecurity ((nil)-1(nil)(nil)12(nil)0(nil)) - stub!
fixme:storage:create_storagefile Storage share mode not implemented.
err:ole:apartment_getclassobject DllGetClassObject returned error 0x80040111
err:ole:CoGetClassObject no class object {00000315-0000-0000-c000-000000000046} could be created for context 0x3
fixme:ole:DefaultHandler_SetContainedObject ()
err:ole:apartment_getclassobject DllGetClassObject returned error 0x80040111
err:ole:CoGetClassObject no class object {00000315-0000-0000-c000-000000000046} could be created for context 0x3
fixme:ole:DefaultHandler_SetContainedObject ()
err:ole:apartment_getclassobject DllGetClassObject returned error 0x80040111
err:ole:CoGetClassObject no class object {00000315-0000-0000-c000-000000000046} could be created for context 0x3
fixme:ole:DefaultHandler_SetContainedObject ()
err:ole:apartment_getclassobject DllGetClassObject returned error 0x80040111
err:ole:CoGetClassObject no class object {00000315-0000-0000-c000-000000000046} could be created for context 0x3
fixme:ole:DefaultHandler_SetContainedObject ()
err:ole:apartment_getclassobject DllGetClassObject returned error 0x80040111
err:ole:CoGetClassObject no class object {00000315-0000-0000-c000-000000000046} could be created for context 0x3
fixme:ole:DefaultHandler_SetContainedObject ()
err:ole:apartment_getclassobject DllGetClassObject returned error 0x80040111
err:ole:CoGetClassObject no class object {00000315-0000-0000-c000-000000000046} could be created for context 0x3
fixme:ole:DefaultHandler_SetContainedObject ()
err:ole:apartment_getclassobject DllGetClassObject returned error 0x80040111
err:ole:CoGetClassObject no class object {00000315-0000-0000-c000-000000000046} could be created for context 0x3
fixme:ole:DefaultHandler_SetContainedObject ()
err:ole:apartment_getclassobject DllGetClassObject returned error 0x80040111
err:ole:CoGetClassObject no class object {00000315-0000-0000-c000-000000000046} could be created for context 0x3
fixme:ole:DefaultHandler_SetContainedObject ()
err:ole:apartment_getclassobject DllGetClassObject returned error 0x80040111
err:ole:CoGetClassObject no class object {00000315-0000-0000-c000-000000000046} could be created for context 0x3
fixme:ole:DefaultHandler_SetContainedObject ()
err:ole:apartment_getclassobject DllGetClassObject returned error 0x80040111
err:ole:CoGetClassObject no class object {00000315-0000-0000-c000-000000000046} could be created for context 0x3
fixme:ole:DefaultHandler_SetContainedObject ()
err:ole:apartment_getclassobject DllGetClassObject returned error 0x80040111
err:ole:CoGetClassObject no class object {00000315-0000-0000-c000-000000000046} could be created for context 0x3
fixme:ole:DefaultHandler_SetContainedObject ()
err:ole:apartment_getclassobject DllGetClassObject returned error 0x80040111
err:ole:CoGetClassObject no class object {00000315-0000-0000-c000-000000000046} could be created for context 0x3
fixme:ole:DefaultHandler_SetContainedObject ()
err:ole:apartment_getclassobject DllGetClassObject returned error 0x80040111
err:ole:CoGetClassObject no class object {00000315-0000-0000-c000-000000000046} could be created for context 0x3
fixme:ole:DefaultHandler_SetContainedObject ()
err:ole:apartment_getclassobject DllGetClassObject returned error 0x80040111
err:ole:CoGetClassObject no class object {00000315-0000-0000-c000-000000000046} could be created for context 0x3
fixme:ole:DefaultHandler_SetContainedObject ()
fixme:ole:CoCreateInstance no instance created for interface {d3fdb1db-a705-4221-999b-c241666c7426} of class {f2367fc9-deaa-45f4-9c00-45bfcfb94006} hres is 0x80004002
err:ole:CoGetClassObject class {1f035d99-8eb9-4e21-af30-bb8cf339c2ee} not registered
err:ole:CoGetClassObject no class object {1f035d99-8eb9-4e21-af30-bb8cf339c2ee} could be created for context 0x1
fixme:ole:DllDebugObjectRPCHook stub
wine: Unhandled page fault on write access to 0x6a24107c at address 0x7ea04ef3 (thread 0009) starting debugger...
Unhandled exception: page fault on write access to 0x6a24107c in 32-bit code (0x7ea04ef3).
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:0063 GS:006b
 EIP:7ea04ef3 ESP:00a4e708 EBP:00a4e840 EFLAGS:00010202(  R- --  I   - - - )
 EAX:6563694c EBX:7ea91ff4 ECX:00000011 EDX:6563694c
 ESI:04c09938 EDI:04c0a731
Stack dump:
0x00a4e708:  04c0a72d 00000000 00a4e780 00a4e78c
0x00a4e718:  00000000 04a598d0 7bc4811d 7bca7ff4
0x00a4e728:  04bdea20 7bca7ff4 00a4e790 001e8616
0x00a4e738:  00110060 00000000 00000000 00110000
0x00a4e748:  00a4e8d4 8007000e 04c0a774 7ea7cf79
0x00a4e758:  00008c8c 04c0a6e0 7ea7ef60 00000001
Backtrace:
=>0 0x7ea04ef3 in ole32 (+0x54ef3) (0x00a4e840)
  1 0x7ea06626 in ole32 (+0x56625) (0x00a4e8f0)
0x7ea04ef3: movb        $0x00xffffffff(%edi%eax1)
Modules:
Module  Address                 Debug info      Name (172 modules)
PE        230000-  30e000       Deferred        rssim32
PE        310000-  33a000       Deferred        osc611as
PE        340000-  351000       Deferred        smshell
PE        360000-  372000       Deferred        rsixml060000
PE        380000-  3bf000       Deferred        smmdt
PE        3c0000-  3e1000       Deferred        arenaextctrl
PE        400000-  64b000       Deferred        arena
PE        a50000-  b93000       Deferred        ot603as
PE        ba0000-  ddc000       Deferred        smtpl
PE        de0000-  edd000       Deferred        smsim
PE        ee0000-  fab000       Deferred        rsitpinfo030000
PE        fb0000- 1106000       Deferred        og702as
PE       1110000- 1228000       Deferred        smdefres
PE       4620000- 4637000       Deferred        rsitppersist030000
PE       4640000- 46a9000       Deferred        rsitpe030000
PE       46b0000- 46fc000       Deferred        rsitpee030000
PE       4700000- 474f000       Deferred        rsictpe030000
PE       4750000- 4781000       Deferred        rsitve030000
PE       4790000- 47c7000       Deferred        rsitpview030000
PE       47e0000- 484b000       Deferred        rsipme030000
PE       4850000- 48b6000       Deferred        rsipminfo030000
PE      10000000-1000c000       Deferred        smaddon
PE      308c0000-30e1c000       Deferred        mso9
PE      5f400000-5f4f2000       Deferred        mfc42
PE      64000000-64085000       Deferred        apc62
PE      65000000-65263000       Deferred        vbe6
PE      65300000-65327000       Deferred        vbe6intl
PE      67830000-67855000       Deferred        smprops
PE      67940000-67a0d000       Deferred        smrun
PE      67ba0000-67c55000       Deferred        smanim
PE      67c60000-67d15000       Deferred        smobj
PE      67e20000-67e84000       Deferred        smlnk
PE      67f20000-67f33000       Deferred        smker
PE      67f40000-67f86000       Export          smsys
PE      780c0000-78121000       Deferred        msvcp60
ELF     7b800000-7b9aa000       Deferred        kernel32
  \-PE  7b810000-7b9aa000       \               kernel32
ELF     7bc00000-7bcc4000       Deferred        ntdll
  \-PE  7bc10000-7bcc4000       \               ntdll
ELF     7bf00000-7bf04000       Deferred        
ELF     7d23c000-7d272000       Deferred        libxslt.so.1
ELF     7d272000-7d39b000       Deferred        libxml2.so.2
ELF     7d3d3000-7d465000       Deferred        msxml3
  \-PE  7d3e0000-7d465000       \               msxml3
ELF     7d465000-7d485000       Deferred        cabinet
  \-PE  7d470000-7d485000       \               cabinet
ELF     7d485000-7d4fd000       Deferred        urlmon
  \-PE  7d490000-7d4fd000       \               urlmon
ELF     7d4fd000-7d5df000       Deferred        msi
  \-PE  7d510000-7d5df000       \               msi
ELF     7d5df000-7d605000       Deferred        atl
  \-PE  7d5f0000-7d605000       \               atl
ELF     7d698000-7d6ac000       Deferred        icmp
  \-PE  7d6a0000-7d6ac000       \               icmp
ELF     7d758000-7d7c4000       Deferred        libodbc.so.1
ELF     7d7e7000-7d7fc000       Deferred        activeds
  \-PE  7d7f0000-7d7fc000       \               activeds
ELF     7d7fc000-7d817000       Deferred        spoolss
  \-PE  7d800000-7d817000       \               spoolss
ELF     7d817000-7d820000       Deferred        librt.so.1
ELF     7d820000-7d85d000       Deferred        libdbus-1.so.3
ELF     7d85d000-7d862000       Deferred        libgpg-error.so.0
ELF     7d862000-7d873000       Deferred        libtasn1.so.3
ELF     7d873000-7d87b000       Deferred        libkrb5support.so.0
ELF     7d87b000-7d88b000       Deferred        libavahi-client.so.3
ELF     7d88b000-7d8ff000       Deferred        libgcrypt.so.11
ELF     7d8ff000-7d995000       Deferred        libgnutls.so.26
ELF     7d995000-7d9b9000       Deferred        libk5crypto.so.3
ELF     7d9b9000-7da67000       Deferred        libkrb5.so.3
ELF     7da67000-7da97000       Deferred        libgssapi_krb5.so.2
ELF     7da97000-7dae1000       Deferred        libcups.so.2
ELF     7db1c000-7db20000       Deferred        libkeyutils.so.1
ELF     7db20000-7db2c000       Deferred        libavahi-common.so.3
ELF     7db3a000-7db43000       Deferred        libltdl.so.7
ELF     7db43000-7db64000       Deferred        localspl
  \-PE  7db50000-7db64000       \               localspl
ELF     7db64000-7db98000       Deferred        uxtheme
  \-PE  7db70000-7db98000       \               uxtheme
ELF     7dc16000-7dc1c000       Deferred        libxfixes.so.3
ELF     7dc1c000-7dc26000       Deferred        libxcursor.so.1
ELF     7dc26000-7dc35000       Deferred        libxi.so.6
ELF     7dc35000-7dc39000       Deferred        libxcomposite.so.1
ELF     7dc39000-7dc41000       Deferred        libxrandr.so.2
ELF     7dc41000-7dc4b000       Deferred        libxrender.so.1
ELF     7dc4b000-7dc51000       Deferred        libxxf86vm.so.1
ELF     7dc51000-7dc55000       Deferred        libxinerama.so.1
ELF     7dc55000-7dc77000       Deferred        imm32
  \-PE  7dc60000-7dc77000       \               imm32
ELF     7dc77000-7dc7d000       Deferred        libxdmcp.so.6
ELF     7dc7d000-7dc81000       Deferred        libxau.so.6
ELF     7dc81000-7dc9a000       Deferred        libxcb.so.1
ELF     7dc9a000-7dc9f000       Deferred        libuuid.so.1
ELF     7dc9f000-7ddba000       Deferred        libx11.so.6
ELF     7ddba000-7ddc9000       Deferred        libxext.so.6
ELF     7ddc9000-7dde1000       Deferred        libice.so.6
ELF     7dde1000-7dde9000       Deferred        libsm.so.6
ELF     7de1b000-7de1f000       Deferred        libcom_err.so.2
ELF     7de21000-7dec7000       Deferred        winex11
  \-PE  7de30000-7dec7000       \               winex11
ELF     7df1b000-7df4a000       Deferred        libfontconfig.so.1
ELF     7df82000-7e008000       Deferred        libfreetype.so.6
ELF     7e008000-7e03f000       Deferred        libncurses.so.5
ELF     7e04d000-7e077000       Deferred        libexpat.so.1
ELF     7e077000-7e0a0000       Deferred        msvfw32
  \-PE  7e080000-7e0a0000       \               msvfw32
ELF     7e0a0000-7e140000       Deferred        winmm
  \-PE  7e0b0000-7e140000       \               winmm
ELF     7e140000-7e169000       Deferred        msacm32
  \-PE  7e150000-7e169000       \               msacm32
ELF     7e169000-7e1a9000       Deferred        avifil32
  \-PE  7e170000-7e1a9000       \               avifil32
ELF     7e1a9000-7e1ce000       Deferred        mpr
  \-PE  7e1b0000-7e1ce000       \               mpr
ELF     7e1ce000-7e1e3000       Deferred        libz.so.1
ELF     7e1ec000-7e200000       Deferred        olepro32
  \-PE  7e1f0000-7e200000       \               olepro32
ELF     7e200000-7e21b000       Deferred        rasapi32
  \-PE  7e210000-7e21b000       \               rasapi32
ELF     7e21b000-7e286000       Deferred        wininet
  \-PE  7e220000-7e286000       \               wininet
ELF     7e286000-7e2bc000       Deferred        oledlg
  \-PE  7e290000-7e2bc000       \               oledlg
ELF     7e2bc000-7e2e2000       Deferred        odbc32
  \-PE  7e2c0000-7e2e2000       \               odbc32
ELF     7e2e2000-7e2f6000       Deferred        msimg32
  \-PE  7e2f0000-7e2f6000       \               msimg32
ELF     7e2f6000-7e311000       Deferred        wsock32
  \-PE  7e300000-7e311000       \               wsock32
ELF     7e311000-7e34b000       Deferred        winspool
  \-PE  7e320000-7e34b000       \               winspool
ELF     7e34b000-7e3b4000       Deferred        shlwapi
  \-PE  7e360000-7e3b4000       \               shlwapi
ELF     7e3b4000-7e5c4000       Deferred        shell32
  \-PE  7e3c0000-7e5c4000       \               shell32
ELF     7e5c4000-7e6b9000       Deferred        comdlg32
  \-PE  7e5d0000-7e6b9000       \               comdlg32
ELF     7e6b9000-7e7b0000       Deferred        comctl32
  \-PE  7e6c0000-7e7b0000       \               comctl32
ELF     7e7b0000-7e7e2000       Deferred        ws2_32
  \-PE  7e7c0000-7e7e2000       \               ws2_32
ELF     7e7e2000-7e804000       Deferred        iphlpapi
  \-PE  7e7f0000-7e804000       \               iphlpapi
ELF     7e804000-7e82e000       Deferred        netapi32
  \-PE  7e810000-7e82e000       \               netapi32
ELF     7e82e000-7e920000       Deferred        oleaut32
  \-PE  7e840000-7e920000       \               oleaut32
ELF     7e920000-7e995000       Deferred        rpcrt4
  \-PE  7e930000-7e995000       \               rpcrt4
ELF     7e995000-7ea9b000       Dwarf           ole32
  \-PE  7e9b0000-7ea9b000       \               ole32
ELF     7ea9b000-7ebd9000       Deferred        user32
  \-PE  7eab0000-7ebd9000       \               user32
ELF     7ebd9000-7ec39000       Deferred        advapi32
  \-PE  7ebe0000-7ec39000       \               advapi32
ELF     7ec39000-7ecdf000       Deferred        gdi32
  \-PE  7ec40000-7ecdf000       \               gdi32
ELF     7ecdf000-7ed6c000       Deferred        msvcrt
  \-PE  7ecf0000-7ed6c000       \               msvcrt
ELF     7ef6c000-7ef78000       Deferred        libnss_files.so.2
ELF     7ef78000-7ef83000       Deferred        libnss_nis.so.2
ELF     7ef83000-7ef9a000       Deferred        libnsl.so.1
ELF     7ef9a000-7efa2000       Deferred        libnss_compat.so.2
ELF     7efa2000-7efc8000       Deferred        libm.so.6
ELF     7efd2000-7efe7000       Deferred        libresolv.so.2
ELF     7efe7000-7f000000       Deferred        version
  \-PE  7eff0000-7f000000       \               version
ELF     f7422000-f7426000       Deferred        libdl.so.2
ELF     f7426000-f7583000       Deferred        libc.so.6
ELF     f7583000-f759c000       Deferred        libpthread.so.0
ELF     f75d4000-f7715000       Dwarf           libwine.so.1
ELF     f7717000-f7735000       Deferred        ld-linux.so.2
ELF     f7735000-f7736000       Deferred        [vdso].so
Threads:
process  tid      prio (all id:s are in hex)
00000008 (D) C:\Program Files\Rockwell Software\Arena 10.0\Arena.exe
        0000003f    0
        0000003e    0
        0000003d    0
        0000003c    0
        00000031    0
        00000030    0
        0000002f    0
        00000009    0 <==
0000000e services.exe
        0000002b    0
        0000002a    0
        00000023    0
        00000019    0
        00000010    0
        0000000f    0
00000012 ICQ Service.exe
        0000001f    0
        0000001e    0
        0000001c    0
        00000018    0
        00000013    0
00000020 winedevice.exe
        00000026    0
        00000025    0
        00000022    0
        00000021    0
00000027 plugplay.exe
        0000002c    0
        00000029    0
        00000028    0
0000002d explorer.exe
        0000002e    0
00000032 rpcss.exe
        00000040    0
        0000003b    0
        0000003a    0
        00000039    0
        00000038    0
        00000037    0
        00000036    0
        00000034    0
        00000033    0
Backtrace:
=>0 0x7ea04ef3 in ole32 (+0x54ef3) (0x00a4e840)
  1 0x7ea06626 in ole32 (+0x56625) (0x00a4e8f0)",903,"1"
"WINE-41448","Civilization II Unhandled page fault on read access","Created attachment 55814
crash log

In at least Wine Staging 1.9.19 Civilization II crashes on startup when the indeo codecs are installed.",121,"0"
"WINE-10716","Spurious hyperlink rendering in Blitzin 2.34","Patch git-commit f945f16de201dbd834da10701025665bfa8f05ee riched20: WM_GETTEXTLENGTH should include CRLF conversions in returned count. causes a regression whereby some text is wrongly rendered to look like hypertext links. This will typically occur at the start or the end of a line but not exclusively.",4,"0"
"WINE-42031","Heroes Of Might & Magic VI: no more started","Last working version was wine-1.9.13 (last tested)
The log with this version (partially)
~~~~
fixme:win:EnumDisplayDevicesW ((null)00x32c2b80x00000000) stub!
fixme:d3d9:device_init Ignoring display mode.
fixme:d3d9:Direct3DShaderValidatorCreate9 stub
fixme:msctf:ThreadMgr_ActivateEx Unimplemented flags 0x4
fixme:msctf:ThreadMgrSource_AdviseSink (0x651d950) Unhandled Sink: {ea1ea136-19df-11d7-a6d2-00065b84435c}
~~~

With versions 1.9.17 - 2.0rc2 stays forever with black screen log ended with lines
~~~
fixme:wbemprox:client_security_SetBlanket 0x40eb6938 0x1b2f50 10 0 (null) 3 3 0x0 0x00000000
fixme:wbemprox:client_security_Release 0x40eb6938
fixme:d3d9:device_init Ignoring display mode.
fixme:d3d9:Direct3DShaderValidatorCreate9 stub
~~~~

Hang with msctf?
I can do regression test if I found a time to do this.",16,"0"
"WINE-24243","urlmon's HttpProtocol_open_request fails in small test app","Continuing with the sample app http://netikka.net/dev/ole.zip :
to get around bug 24242 do 'winetricks msxml3'.  The app then
fails when you click on the button with

001c:Call wininet.InternetConnectW(00000001001973c0 Lwww.winehq.org0000005000000000000000000000000300000000001972b8) ret=7
e27f890
trace:urlmon:internet_status_callback 0x1972b8 INTERNET_STATUS_HANDLE_CREATED
trace:urlmon:HttpProtocol_AddRef (0x1972b8) ref=3
001c:Ret  wininet.InternetConnectW() retval=00000002 ret=7e27f890
trace:urlmon:BindInfo_GetBindString (0x193408)->(2 0x32d8d4 256 0x32df18)
warn:urlmon:HttpProtocol_open_request GetBindString BINDSTRING_ACCEPT_MIMES failed: 800c0012
...
trace:ole:ICreateErrorInfoImpl_SetDescription (0x1933c8): LSystem error: -2146697206.\r\n

'winetricks ie6' works around this.",65,"0"
"WINE-35987","Adobe Photoshop CC file open dialog crashes the program","Created attachment 48108
Photoshop CC - Output after the Open dialog crashed the program - WINEDEBUG=+commdlg

While trying to open a file in Adobe Photoshop Creative Cloud (File -> Open) the Open dialog window causes the program to crash immediately when selecting any file on the list. Before the selection Photoshop doesn't crash.

The bug makes difficult to use the program fluently.",220,"0"
"WINE-41832","Galactic Civ 3 - ships are not visible","Ships are there you can interact with them but can't see them.

These two errors repeat thousands of times while testing the game:

fixme:d3d11:d3d11_immediate_context_OMSetBlendState Ignoring blend factor {0.00000000e+00 0.00000000e+00 0.00000000e+00 0.00000000e+00}.
fixme:d3d11:d3d11_immediate_context_OMSetBlendState Per-rendertarget blend not implemented.
fixme:d3d11:d3d11_immediate_context_OMSetBlendState Color mask > 3 not implemented.

fixme:d3d11:d3d11_immediate_context_OMSetBlendState Ignoring blend factor {0.00000000e+00 0.00000000e+00 0.00000000e+00 0.00000000e+00}.
fixme:d3d11:d3d11_immediate_context_OMSetBlendState Per-rendertarget blend not implemented.
fixme:d3d11:d3d11_immediate_context_OMSetBlendState Color mask > 3 not implemented.
fixme:d3d:context_bind_shader_resources Shader 0xa9aa280 needs 17 samplers but only 16 are supported.

Note: these are required or the game will not start:
$ grep d3dx11 ../../user.reg
*d3dx11_42=nativebuiltin
*d3dx11_43=nativebuiltin


It's getting close keep up the great work.",102,"0"
"WINE-38865","HiSuite Huwaei Android Smart Device Manager v2.3.55.x crashes on startup","Created attachment 51794
Programm Fehler Details

HiSuite to administrate honor 6 smartphone by PC does not open exactli. No connection with smartphone ist possible.",292,"1"
"WINE-17503","Diablo 2 refuses to detect D3D device","Created attachment 19604
Diablo's Videotest own log

A regression: Since July '08 (according to last comment stating that he uses D3d) Diablo 2 seems to have become unable to properly detect D3d in its Video Test. Only DDraw is offered. D3d however has the advantage that perspective Rendering can be used. I'm sure this mode would work just fine if it actually let me select it aswell.

See attachments for further info. Yes I tried setting VideoPci[Vendor|Device]ID in the registry to no avail.",415,"1"
"WINE-5124","Cannot compile wine 0.9.12 - gluNewTess is missing","Do you have any idea what goes wrong? I am using gcc-3.2

make[2]: Entering directory `/I/usr/src/wine-0.9.12/dlls/opengl32'
../../tools/winegcc/winegcc -B../../tools/winebuild -shared ./opengl32.spec   
opengl_ext.o opengl_norm.o wgl.o wgl_ext.o  version.res  
-Wl--rpath\$ORIGIN/`../../tools/relpath /usr/local/lib/wine /usr/local/lib` -o
opengl32.dll.so -L../../dlls -luser32 -lgdi32 -ladvapi32 -lkernel32 -lntdll 
-L../../libs -lwine -L/usr/X11R6/lib  -lSM -lICE -lXxf86dga -lXxf86vm -lXext
-lX11  -lGL -L../../libs/port -lwine_port  
wgl.o: In function `wglUseFontOutlines_common':
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:930: undefined reference to `gluNewTess'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:933: undefined reference to
`gluTessCallback'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:934: undefined reference to
`gluTessCallback'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:935: undefined reference to
`gluTessCallback'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:992: undefined reference to
`gluTessBeginPolygon'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:999: undefined reference to
`gluTessBeginContour'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:1002: undefined reference to
`gluTessVertex'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:1029: undefined reference to
`gluTessVertex'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:1032: undefined reference to
`gluTessVertex'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:1045: undefined reference to
`gluTessEndContour'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:1050: undefined reference to
`gluTessEndPolygon'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:1059: undefined reference to
`gluDeleteTess'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:1038: undefined reference to
`gluTessEndContour'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:1016: undefined reference to
`gluTessVertex'
collect2: ld returned 1 exit status
winegcc: gcc failed.
make[2]: *** [opengl32.dll.so] Error 2
make[2]: Leaving directory `/I/usr/src/wine-0.9.12/dlls/opengl32'
make[1]: *** [opengl32] Error 2
make[1]: Leaving directory `/I/usr/src/wine-0.9.12/dlls'
make: *** [dlls] Error 2",104,"0"
"WINE-27720","World of Goo demo rendering problems with builtin d3dx9_38","Now that bug 22236 is fixed wog runs great with just native msvcp80...
except that without native d3dx9_38 there are two problems
right after you enter your name and click the first level start button
(with mouseover text The goo-filled hills): 

first the word 'Summer' should appear on a totally black screen.
but on Wine it appears on top of the previous screen.

second the next screen (with a button whose mouseover text is 'Going Up')
should have a light blue background with black letters Chapter 1: The Goo Filled Hills but on Wine the background is black.",689,"1"
"WINE-2184","Wine incompatible with ALSA 1.04 dmix plugin","Just as a note it works fine if dmix is not enabled. 
Tried oss no sound I won't try artsd because it causes instability with my 
machine and I do not have the other sound systems. 
 
Got a work around? 
Right now i got 
2 /etc/asound.conf: /etc/asound.dmix /etc/asound.nodmix /etc/asound.conf 
being a symlink between them. I'd prefer not to have to keep switching between 
them using a shell script but as of now that is what I'm doing. 
 
Tetryon@ww2:/d/Tribes$ wine Tribes.exe 
ALSA lib pcm_dmix.c:812:(snd_pcm_dmix_open) The dmix plugin supports only 
playback stream 
err:wave:ALSA_WaveInit open pcm: Invalid argument 
wine: Unhandled exception (thread 0009) starting debugger... 
WineDbg starting on pid 8 
Loaded debug information from ELF 'wine-kthread' ((nil)) 
Breakpoint 1 at 0x4000af40 (_end+0x3fef40fc) 
Loaded debug information from ELF '/usr/lib/libwine.so.1' (0x4002f000) 
No debug information in ELF '/lib/libc.so.6' (0x40047000) 
No debug information in ELF '/lib/libdl.so.2' (0x40176000) 
No debug information in ELF '/lib/ld-linux.so.2' (0x40000000) 
Loaded debug information from ELF '/usr/lib/wine/ntdll.dll.so' (0x40179000) 
Loaded debug information from ELF '/usr/lib/libwine_unicode.so.1' (0x401f3000) 
No debug information in ELF '/lib/libm.so.6' (0x402e6000) 
No debug information in ELF '/lib/libnss_compat.so.2' (0x40321000) 
No debug information in ELF '/lib/libnsl.so.1' (0x4032c000) 
Loaded debug information from ELF '/usr/lib/wine/kernel32.dll.so' (0x40460000) 
Loaded debug information from ELF '/usr/lib/wine/advapi32.dll.so' (0x40670000) 
Loaded debug information from ELF '/usr/lib/wine/wsock32.dll.so' (0x406a0000) 
Loaded debug information from ELF '/usr/lib/wine/ws2_32.dll.so' (0x406b7000) 
Loaded debug information from ELF '/usr/lib/wine/user32.dll.so' (0x406d8000) 
Loaded debug information from ELF '/usr/lib/wine/gdi32.dll.so' (0x407f9000) 
Loaded debug information from ELF '/usr/lib/wine/iphlpapi.dll.so' (0x4086e000) 
Loaded debug information from ELF '/usr/lib/wine/comctl32.dll.so' (0x4088b000) 
Loaded debug information from ELF '/usr/lib/wine/comdlg32.dll.so' (0x40922000) 
Loaded debug information from ELF '/usr/lib/wine/shell32.dll.so' (0x409a5000) 
Loaded debug information from ELF '/usr/lib/wine/ole32.dll.so' (0x40a16000) 
Loaded debug information from ELF '/usr/lib/wine/rpcrt4.dll.so' (0x40a80000) 
Loaded debug information from ELF '/usr/lib/wine/shlwapi.dll.so' (0x40ac5000) 
Loaded debug information from ELF '/usr/lib/wine/winspool.drv.so' (0x40b10000) 
Loaded debug information from ELF '/usr/lib/wine/winmm.dll.so' (0x40b30000) 
Loaded debug information from ELF '/usr/lib/wine/dsound.dll.so' (0x40b9c000) 
No debug information in ELF '/usr/lib/libfreetype.so.6' (0x40be7000) 
No debug information in ELF '/usr/lib/libz.so.1' (0x40c4c000) 
No debug information in ELF '/usr/X11R6/lib/libfontconfig.so.1' (0x40c59000) 
No debug information in ELF '/usr/lib/libexpat.so.0' (0x40c80000) 
Loaded debug information from ELF '/usr/lib/wine/x11drv.dll.so' (0x40ca0000) 
No debug information in ELF '/usr/X11R6/lib/libSM.so.6' (0x40d27000) 
No debug information in ELF '/usr/X11R6/lib/libICE.so.6' (0x40d30000) 
No debug information in ELF '/usr/X11R6/lib/libXv.so.1' (0x40d48000) 
No debug information in ELF '/usr/X11R6/lib/libXext.so.6' (0x40d4d000) 
No debug information in ELF '/usr/X11R6/lib/libX11.so.6' (0x40d5b000) 
No debug information in ELF '/usr/lib/libGL.so.1' (0x40e23000) 
No debug information in ELF '/usr/lib/libGLcore.so.1' (0x40e7f000) 
No debug information in ELF '/usr/X11R6/lib/libXcursor.so.1' (0x413e3000) 
No debug information in ELF '/usr/X11R6/lib/libXrender.so.1' (0x413ec000) 
No debug information in ELF 
'/usr/X11R6/lib/X11/locale/lib/common/xlcDef.so.2' (0x413ca000) 
No debug information in ELF '/usr/X11R6/lib/libXrandr.so' (0x4140d000) 
No debug information in ELF 
'/usr/X11R6/lib/X11/locale/lib/common/ximcp.so.2' (0x41411000) 
Loaded debug information from ELF '/usr/lib/wine/imm32.dll.so' (0x4142f000) 
No debug information in ELF '/lib/libnss_files.so.2' (0x41495000) 
Loaded debug information from ELF '/usr/lib/wine/winealsa.drv.so' (0x41460000) 
Unsupported debug information in ELF '/usr/lib/libasound.so.2' (0x4156b000) 
No debug information in ELF '/lib/libpthread.so.0' (0x4160f000) 
No debug information in 32bit DLL 'Z:\D\TRIBES\Tribes.exe' (0x400000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\NTDLL.DLL' (0x40190000) 
No debug information in 32bit DLL 'C:
\WINDOWS\SYSTEM\KERNEL32.DLL' (0x40490000) 
No debug information in 32bit DLL 'C:
\WINDOWS\SYSTEM\ADVAPI32.DLL' (0x40680000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\GDI32.DLL' (0x40810000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\USER32.DLL' (0x40700000) 
No debug information in 32bit DLL 'C:
\WINDOWS\SYSTEM\IPHLPAPI.DLL' (0x40880000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\WS2_32.DLL' (0x406c0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\WSOCK32.DLL' (0x406b0000) 
No debug information in 32bit DLL 'C:
\WINDOWS\SYSTEM\COMCTL32.DLL' (0x408a0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\RPCRT4.DLL' (0x40aa0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\OLE32.DLL' (0x40a30000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\SHLWAPI.DLL' (0x40ae0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\SHELL32.DLL' (0x409c0000) 
No debug information in 32bit DLL 'C:
\WINDOWS\SYSTEM\WINSPOOL.DRV' (0x40b20000) 
No debug information in 32bit DLL 'C:
\WINDOWS\SYSTEM\COMDLG32.DLL' (0x40940000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\WINMM.DLL' (0x40b40000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\DSOUND.DLL' (0x40bb0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\X11DRV.DLL' (0x40cb0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\IMM32.DLL' (0x41440000) 
No debug information in 32bit DLL 'C:
\WINDOWS\SYSTEM\WINEALSA.DRV' (0x41470000) 
Unhandled exception: page fault on read access to 0x656c654b in 32-bit code 
(0x4159160d). 
In 32-bit mode. 
0x4159160d (snd_async_del_handler+0x2d in libasound.so.2): movl 0x14(%edi)
%eax",21,"0"
"WINE-21349","Python 2.6/2.7 crashes during run of 'PyInstaller' packaging application","Created attachment 25706
Wine debug output

When Python 2.6.4 runs a packaging application called PyInstaller it crashes. It's been working fine except this is the first time it's been using the audio libraries listed. eg. Phonon/Quartz. I tried running this in Windows 7 and it works fine.",1672,"1"
"WINE-33054","Enterprise Architect 10 fails to load EAExample.eap poject","EA 10 fails to load example project logs shows msxml parser failures. Problem seems to be about wrong text data escaping. Note that it's different from bug 22860 which is about refcount problem.

Right before a crash:

---
0024:trace:msxml:domdoc_loadXML (0x1143f558)->(L\r\n\t<SHAPE file=\shape main{layouttype=bordernoshadow=truesetpenwidth(2)setpencolor(255255128)startpath()&#13... 0x31fb5b0)
0024:err:msxml:doparse xmlParseEntityRef: no name
0024:err:msxml:doparse attributes construct error
0024:err:msxml:doparse error parsing attribute name
0024:err:msxml:doparse attributes construct error
0024:err:msxml:doparse xmlParseStartTag: problem parsing attributes
0024:err:msxml:doparse Couldn't find end of Start Tag SHAPE line 2
0024:trace:msxml:domdoc_loadXML failed to parse document
---",5,"0"
"WINE-1597","superflous -pthread from artsc-config","make[2]: Entering directory `/home/cvs/wine/wine/dlls/winmm/winearts'
../../../tools/makedep -I. -I. -I../../../include -I../../../include
-I/opt/kde/include/artsc -pthread -I/usr/include/glib-2.0
-I/usr/lib/glib-2.0/include -C. arts.c audio.c
Unknown option '-pthread'
Usage: ../../../tools/makedep [options] [files]

I suppose you wanted to use -pthread in the gcc compiler. I removed it before
proceeding.",217,"0"
"WINE-25219","Demoscene demo @party invitation crashes with unimplemented function d3dx9_36.dll.D3DXLoadMeshFromXInMemory","http://www.pouet.net/prod.php?which=54616 crashes with
wine: Call from 0x7b838ba2 to unimplemented function d3dx9_36.dll.D3DXLoadMeshFromXInMemory aborting

winetricks d3d9_36 gets past this.  On my ancient travel
laptop I actually see a progress bar as the demo initializes.
I then run out of video memory.  (Might work on modern hardware dunno.)",201,"0"
"WINE-12558","Can't record long MIDI sysex data","Using WINE from CVS (2008-04-12) and trying to run VDrumLib to capture sysex messages from a Roland TD-6 drum module VDrumLib can't capture the whole sysex messages sent from the TD-6 and i get some fixme: messsages from WINE. See the attached WINE output. I tried to change the way wine/dlls/winealsa.drv/midi.c saves the incoming data but i don't understand how buffer allocation is done or how it is passed to the apps. Need some help :)",304,"1"
"WINE-22842","Can't select screen mode / resolution on PSOBB and PSU","Created attachment 28207
PSU options screenshot

In the game options the list of available screen resolutions will show up empty on Phantasy Star Online Blue Burst and Phantasy Star Universe.

On PSU I get a:
fixme:win:EnumDisplayDevicesW ((null)00x33f5b40x00000000) stub!

On PSOBB I get a:
fixme:win:EnumDisplayDevicesW ((null)00x33f4dc0x00000000) stub!",647,"1"
"WINE-27417","Assassins Creed media validation fails (SafeDisc 4.85.x)","Hello

creating this bug to track specific SafeDisc version and get rid of bug 219 Programs refuse to run because of safedisc copy-protection.
  
Game Assassin's Creed uses Safedisc v4.85.000 - media validation fails.

--- snip ---
-=[ ProtectionID v0.6.4.0 JULY]=-
(c) 2003-2010 CDKiLLER & TippeX
Build 07/08/10-17:57:05
Ready...
Scanning -> H:\.wine\drive_c\Program Files\Ubisoft\Assassin's Creed\AssassinsCreed_Dx10.exe
File Type : 32-Bit Exe (Subsystem : Win GUI / 2) Size : 25671264 (0187B660h) Byte(s)
-> File Appears to be Digitally Signed @ Offset 0187A3D8h size : 01288h / 04744 byte(s)
-> File has 1450968 (01623D8h) bytes of appended data starting at offset 01718000h
[File Heuristics] -> Flag : 00000000000000000100000000000111 (0x00004007)
[!] Safedisc v4.85.000 detected !
[i] Appended data contents....
   [.] o: 0x01718028  / t:    / s: 00304540 byte(s) -> ~de8802.tmp
   [.] o: 0x017625EB  / t:    / s: 00015887 byte(s) -> clcd32.dll
   [.] o: 0x01766421  / t:    / s: 00004122 byte(s) -> clcd16.dll
   [.] o: 0x0176745F  / t:    / s: 00037971 byte(s) -> mcp.dll
   [.] o: 0x017708DB  / t:    / s: 00005446 byte(s) -> SecDrv04.VxD
   [.] o: 0x01771E46  / t:    / s: 00072192 byte(s) -> ~e5.0001
   [.] o: 0x0178386D  / t:    / s: 00045056 byte(s) -> PfdRun.pfd
   [.] o: 0x0178E895  / t:    / s: 00965352 byte(s) -> ~df394b.tmp
[CompilerDetect] -> Visual C++ 8.0 (Visual Studio 2005)
- Scan Took : 1.362 Second(s)
--- snip ---

The launcher works several seconds on the DVD (with lots of SCSI passthroughs) but still complains about original media not present...

Regards",979,"1"
"WINE-11835","Adobe Acrobat Pro 6 / Acrobat Reader 6.01 -- Comments don't work","Before I report this bug a HUGE thanks to everyone for getting Acrobat Pro 7 to install!! I now have 80-90% functionality in Linux. Yay!

Now the bug:

The Comment fields do not work properly. First when I open an existing pdf document with Comments and click on the Comments tab at the bottom left corner of the screen the text of the existing comments is not shown. (The username is shown but not the comment.) Hovering the mouse cursor over the comment does bring a popup yellow window that reveals the comment.

Also creating a new comment fails. It creates the comment but the text is not saved so when you go back to the comment you just created the text has vanished. This is obviously a show stopper for those of us who need to use the comments functionality.

happy to provide debug logs please let me know what command line switches will be most useful in this instance.

cheers!",3231,"1"
"WINE-7510","Super Copyright (free software): irresponsive gui","Super Copyright build v2007.bld.21 (January 4 2007) installs only partially. 
Because installation does not complete application does not run.

Super Copyright is free software and can be downloaded at no charge from the URL
above.",1292,"1"
"WINE-1339","Loader change causes Hamster to crash on startup","Bug comments restored from Gmane.org:
http://article.gmane.org/gmane.comp.emulators.wine.bugs/4199

This patch  checked into 
CVS a couple days ago causes Hamster 2.0.0.1 to crash on startup 
somewhere in its own code:




=>0 0x400a42a0 (RaiseException+0x64(code=0xeedfade flags=0x1 
nbargs=0x7 args=0x40982b44) [except.c:85] in libntdll.dll.so) 
(ebp=40982b2c)


  1 0x00578514 (Hamster.exe.CODE+0x177514 in E:
\Programs\Hamster\Hamster.exe) (ebp=40982d60)


  2 0x00578475 (Hamster.exe.CODE+0x177475 in E:
\Programs\Hamster\Hamster.exe) (ebp=40982d6c)


  3 0x00578a41 (Hamster.exe.CODE+0x177a41 in E:
\Programs\Hamster\Hamster.exe) (ebp=40982da0)


  4 0x00578ff6 (Hamster.exe.CODE+0x177ff6 in E:
\Programs\Hamster\Hamster.exe) (ebp=40982df8)


  5 0x00575fdc (Hamster.exe.CODE+0x174fdc in E:
\Programs\Hamster\Hamster.exe) (ebp=40982e2c)


  6 0x00595a74 (Hamster.exe.CODE+0x194a74 in E:
\Programs\Hamster\Hamster.exe) (ebp=40982e44)


  7 0x00403bf0 (Hamster.exe.CODE+0x2bf0 in E:
\Programs\Hamster\Hamster.exe) (ebp=40982e64)


  8 0x00403c46 (Hamster.exe.CODE+0x2c46 in E:
\Programs\Hamster\Hamster.exe) (ebp=40982e8c)


  9 0x4009b5b6 (start_process+0x23a [process.c:566] in libntdll.
dll.so) (ebp=40982f30)


  10 0x4009f8cd (call_on_thread_stack+0x79(func=0x4009b37c) 
[sysdeps.c:171] in libntdll.dll.so) (ebp=40982ff4)


  11 0x4009fa10 (SYSDEPS_CallOnStack+0x14 in libntdll.dll.so) 
(ebp=00000000)




Reverse this patch and it starts up fine.  I can't figure out 
what causes this since it looks like a straightforward search 
and replace.  I did make clean and a full rebuild to be sure.




Hamster is available at <http://www.tglsoft.de/misc/hamster_en.
htm>.  To run this app under Wine you may need to set


  [Setup]


  Startup.OLEServer=0


in Hamster.ini.

http://article.gmane.org/gmane.comp.emulators.wine.bugs/4200",0,"0"
"WINE-4076","profiles//Local Settings is not created","C:\windows\profiles\\Local Settings\ end everything in it is not created.
Also there are no entries for Local AppData & Local Settings in registry.

Some applications need those.",21,"0"
"WINE-35734","Pokemon Zeta 1.3.28 crashes on startup (ASProtect SKE v2.72)","Created attachment 47724
Backtrace

Game crashes on run in wine.",625,"1"
"WINE-8783","USB serial ports do not work","MicroPro Pic programming software and programming device.
/dev/ttyUSB0 (FTDI FT232 USBSerial chip)
Works with Wine <= 0.9.22
Does not work with Wine >= 0.9.23 (inc. latest 0.9.39)
Bad committ is: d990c0d8e50c5eaabac8b855b9511cbc42d783bd

Seems that transmitt may be ok. Receive is either inoperable or delayed such
that software does not see returning data bytes (possibly through timeout?)
MicroPro is available from 
http://www.quasarelectronics.com/zip/micropro25.zip
but a programmer is needed to interface with.

Kind Regards
Richard",2403,"1"
"WINE-23719","Capitalism II fails to install","Created attachment 29717
terminal output when running install from command line

The below error displays when running the setup.exe:

An error (-500: 0x80040707) has occurred while running the setup.

Please make sure you have finished any previous setup and closed other applications.
If the error still occurs please contact your vendor: Enlight Software.

When you click on teh details tab the following additional information is displayed:

Error Code:     -5009 : 0x80040707
Error Information:
>Kernel\TextSubstitution.cpp (553)
>Ctor\ObjectWrapper.cpp (163)
>Ctor\ObjectWrapper.cpp (402)
>Kernel\Component.cpp (1163)
>Kernel\CABFile.cpp (389)
>SetupDLL\SetupDLL.cpp (1541)
pAPP:Capitalism II
PVENDOR:Enlight Software
PGUID:4E2FA7A6-7D19-46FD-9BC4-6761A808BB2D
$11.50.0.42618
@Windows XP Service Pack 3 (2600) BT_OTHER 16372.32510",200,"0"
"WINE-2207","Word 2000 viewer installation loops","The word 2000 viewer installation decompresses the files starts the setup
program I click continue and at this point apparently enters an infinite loop.
I don't know what info is needed to debug this but as it's a free and small
download I suggest anybody wanting to debug this just downloads it and does in
on his own pc.",519,"1"
"WINE-5790","The cursor in Age of Mythology shows up a greyish colour.","The cursor in Age of Mythology: The Titans 1.03 shows up a greyish colour. This
is currently an issue in 0.9.18 but has been present in previous versions.
Running self-compiled version under Ubuntu 6.06 LTS.",245,"1"
"WINE-28872","GT Challenge displayed in wrong colors","Created attachment 37083
terminal output

A user reported in the WineHQ forum that this small freeware game doesn't look like as it should in Wine-1.3.30: http://forum.winehq.org/viewtopic.php?t=13741

The problem is present in 1.3.31 too and the result of the regression test:

9b7ea6f417a68517745203123d9df0516ebc60b1 is the first bad commit
commit 9b7ea6f417a68517745203123d9df0516ebc60b1
Author: Huw Davies 
Date:   Tue Sep 27 16:13:39 2011 +0100

    gdi32: Forward StretchBlt calls from the dib driver to the null driver.

:040000 040000 ce22d7943f0f7aecdda67e97b5812cb40b40cc96 c11b7ea6be9e5605ec4b3d2959af57b22ec7d54d M	dlls

The patch can't be reverted on 1.3.31 but
git checkout 9b7ea6f417a68517745203123d9df0516ebc60b1  >> wrong colors
git reset --hard HEAD^  >> good colors

Fedora 15 x86
X.Org X Server 1.10.4
Nvidia 250 / driver 280.13",11,"0"
"WINE-11199","Unhandled exception: page fault on read access to 0x00000050 when starting Archlord","Created attachment 10266
Shell output of stack trace after crash

The game client (available free at the website www.archlordgame.com) crashes when it is started using wine. Installation seems to work properly.",287,"1"
"WINE-762","Cannot start wineconsole/debugger with current cvs","Ok things are going from bad to worse for me. I feel Like a complete and utter
moron but this is not working for me. First I had the problem with Fonts too
large in wineconsole. Eric said that This should work with the current CVS So I
did an cvs update -PAd to bring myself up to date. with CVS. When I did a
./tools/wineinstall it said I needed to do a ./configure. So I did that. Then I
ran into a compile error. So I did a make clean reran ./tools/wineinstall.
Wine compiled fine and I let it create a new config file.

So now I thought fine lets run wineconsole. When I try to run wineconsole I get
the usual font errors but nothing else.(no wineconsole and no other errors).

Anyway I thought I might be able go back and do some tracing so i ran the
following: 

wine -debugmsg +relay  d:\setup.exe 2>&1 | tee Riven.log. 

I have managed = Y and desktop = 640x480 what happens is that I get
multiple wine desktops and no installshield. Looking at the output of the log
indicates that somewhere it is running into a problem and trying to start the
debugger which in turn tries to start wineconsole and that runsinto a problem
and tries to start the debugger.. on and on in a loop.  I have tried to fix this
myself but I am up against it. After several days of screwing around with it I
guess I need help.",29,"0"
"WINE-8043","Dreamfall: speech gets skipped in dialogues","With wine 0.9.35 whenever there is dialogue (speech) there is no sound even
though the music works okay. It seems like the speech gets skipped this also
shortens the time between subtitles making the game go too fast. In fact it
almost looks like a modest fast-forward.

How to reproduce: install Dreamfall from its disks install the necessary files
for Dreamfall (see AppDB entry) run dreamfall.exe (no-cd patch) with wine
0.9.35 just play the game and watch any dialogue. The intro is very suitable
for this I think.

This problem was introduced in 0.9.35. I know I made a mistake with the other
bug but I am sure that this problem was not there in 0.9.34. I try to test
Dreamfall with every official release of Wine.

I'm trying to see if I can do a regression test but I have some problems
understanding exactly what to do after compiling.",407,"1"
"WINE-14441","Rose Online Evolution crash with new msxml patch","Created attachment 14763
+msxml logs

Rose Online Evolution (japan version) crash with wine-1.1.1
first i got a error (something about a xml file is japanese so i see only symbols) then when i press 'ok' the client crash

Regression give this:
d8b22b9fb58406ec4eda6cb9eed8cdfc6f153cae is first bad commit
commit d8b22b9fb58406ec4eda6cb9eed8cdfc6f153cae
Author: Piotr Caban 
Date:   Tue Jul 8 20:55:10 2008 +0200

    msxml3: Use OnDataAvailable for reading stream.

:040000 040000 118d6c7c8e5e6dd3797002b75330069d6d8e6568 04d19295435b3b12b02b773b27f50df158488                f08 M   dlls",2,"0"
"WINE-24580","Multiple apps fail due to commctrl.TaskDialogIndirect stub (utorrent IE9 installer)","Regression due to:
http://source.winehq.org/git/wine.git/?a=commitdiffh=af7e4dbe54c688cf0f92ea721bc2cf8bf076ed31

fixme:commctrl:TaskDialogIndirect 0x7bf92c 0x7bf998 (nil) 0x7bf99c

winetricks cc580 works around it.

You can quickly get utorrent with winetricks utorrent which puts it in %WINDIR% so you can run it with 'wine utorrent'..",293,"1"
"WINE-29750","Spotify crashes when searching song or artist with the search box","Created attachment 38606
wine log file

When I search an song or a artist with the search box when the result is displyed on the Spotify screen It crash.

Spotify version : 0.8.1.76.g4773b858",21,"0"
"WINE-3709","Adobe Photoshop Elements 4 trial installer exits silently","The Adobe Photoshop Elements 4 trial installer exits silently
without even putting up a dialog.",298,"1"
"WINE-9397","focus problems in list view with editors","If I have a list view with editors clicking on other items in the list view doesn't remove the editing windows.  Meaning I have a richedit editing an item and I click on another list view item the first richedit doesn't go away.
Using keys to navigate instead works fine.

I'm seeing this problem in Personal Ancestral File 5.2.

I commented out the SetFocus() done in LISTVIEW_LButtonDown() and the problem went away.  Though I'm not sure that's the right fix.",383,"1"
"WINE-1115","Pirch98: Rebar_Layout problem","Bug comments restored from Gmane.org: 
 
When you run the program it is NOT usable it is repainting continually the  
screen and no one control works. It works fine with comctl32 native. The  
problem looks like that happen in rebar because it is giving some ERR messages: 
 
err:rebar:REBAR_AdjustBands Phase 1 failed x=561 maxx=0 start=0 end=0 
err:rebar:REBAR_AdjustBands Phase 1 failed x=565 maxx=0 start=0 end=0 
err:rebar:REBAR_AdjustBands Phase 1 failed x=565 maxx=0 start=0 end=0 
 
If you add a return to the start of the function REBAR_Layout the rebar is  
painted incorrectly but the program can be used. 
 
If you don't remove REBAR_Layout and only comment the last line of the 
REBAR_Layout function  
//REBAR_ForceResize (infoPtr) 
 
Then the rebar are painted better (but no correct) and it is usable. 
 
Regards 
Carlos.",1578,"1"
"WINE-9330","application related Directdraw memory overflow- versions after 0.9.35","Heroes of Might and Magic III. Complete crashed before first screen saying directdraw error. My system is Ubuntu 7.04+ wine 0.9.41.
***
DirectDraw Error(14):
DDERR_OUT OF MEMORY
File: 'C:\Dev\Heroes3 Exp2\Game\Wingraph.cpp
line 154
***

Full cross-check:
- reinstalling heroes III.- no change
- reinstalling wine 0.9.41- no change
- switching back wine to 0.9.35- game runs propely 
- installing wine 0.9.41 again- original error reproduced

Winecfg shows missing libjack.so. This file is still missing after reinstalling jack. Don't know how to get libjack.so ?
This problem was present with all wine versions. (0.9.23-0.9.41)",1,"0"
"WINE-44177","Guitar Pro 5: Long freezes during draw process of dashed lines (P.M. or let ring markers)","Created attachment 59941
log

Guitar Pro 5 always hangs when tries to draw dashed lines (like these https://imgur.com/GgvrEuq.png). The longer the line the longer the freeze. CPU core is loaded to 100% during this freeze. Sometimes it even draws odd lines (https://imgur.com/1efGsF2.png).

This bug is regression. About 6 months ago everything was fine. It begins ~4 months ago. I don't know what causes this problem so I started wine with WINEDEBUG=+all and tried to find where it hangs. I noticed a lot of gdi calls which can cause this hangs. I restarted wine with WINEDEBUG=+gdi and grabbed the log which I've attached to the bug.

I'm using Arch Linux. WINEARCH=win32.",350,"1"
"WINE-28558","Skype 5.3 crash in wined3d","Created attachment 36676
Wine 1.3.29 console output

Following a successful .msi install Skype 5.3 immediately crashes in wined3d.

1 0x7d89af6e InitAdapters+0x26bd(wined3d=(nil)) [/build/buildd/wine1.3-1.3.29/dlls/wined3d/directx.c:5263] in wined3d (0x0383d6d8)

Went back to earlier versions of Wine and the result is the same.

I do not know where to find a download link for this version at the moment.",168,"0"
"WINE-17386","Command and Conquer 3: Tiberium Wars - fails to start","Created attachment 19439
Backtrace

Tested without reinstalling application (Command and Conquer 3: Tiberium Wars 1.0)
Application never worked perfectly but no fails to start.

# git bisect good
6dee4c6e639b7de1d4b1aaee9263d26ecce7bbc3 is first bad commit
commit 6dee4c6e639b7de1d4b1aaee9263d26ecce7bbc3
Author: Alexandre Julliard 
Date:   Thu Oct 23 20:24:49 2008 +0200

    kernel32: Return the Windows symlink in QueryDosDevice instead of the Unix one.

:040000 040000 3287f77a1631447c9f780be2fd2e93c4cc9332fb 7ae159252024a383f225059fe6cbfb5bc42dfa06 M      dlls

Distribution Debian Sid/experimental regression also appears in earlier versions (for example 1.1.13). My first bugreport.",110,"0"
"WINE-9497","Fonts missing in visio 2003 present in Word Excel 2003","When running visio only arial narrow marlett lucida and wingdings fonts appear in the font dialog and combo box.

Other applications have the same fonts that are available to kde applications.

Have tried numerous combinations of symlinking and/or duplicating the windows/fonts directory but nothing seems to change. Have also tried removing /usr/share/wine/fonts but this also makes no difference.

Unable to test on newer wine version because visio doesn't run on anything newer (see bug 9422).",280,"1"
"WINE-10971","Skype 3.5.x crash after few seconds of running","Created attachment 9916
+io+int log

Regression. Happens since this commit:

http://source.winehq.org/git/wine.git/?a=commith=e2a366ce338d5b6b0f3c8962d70134f8d4e87f3b
kernel32: Forward interrupts in 32-bit code to winedos too.

Prior to this - Skype could be started in win9x mode (it doesn't work in XP/2000 because of other bugs) then it would show OLE error message but afterwards would be perfectly usable. Now the app starts just like before but crashes after a few seconds of running. Attaching log",2,"0"
"WINE-38423","Python 3.5.x exe installer fails with Access denied error","When you start 3.5.0a3 installer (webinstall or a full one) you get blank dialog with no controls (I don't know if it's expected or not) clicking anywhere shows up a progress bar but after a couple of moments if fails with access denied error.",1473,"1"
"WINE-37980","Word Viewer 2007 fails to open *.docx files with Windows version set to Vista or later (Word Converter local COM server requires WebDAV client API 'DavClnt.dll')","Created attachment 50603
Relevant logs

I'll use Spanish version instructions but I tested with en-US and happens exactly the same.

1. Download and install wordview_es-es.exe from http://www.microsoft.com/es-ES/download/details.aspx?id=4

2. Download and install FileFormatConverters.exe from http://www.microsoft.com/es-ES/download/details.aspx?id=3

3. Try to open any *.docx file.

4. A dialog appears saying: Error when opening file. See the logs.",269,"1"
"WINE-27149","Clones demo installer crashes","Created attachment 34680
terminal output

The installer of the demo (Clones) crashes during installation.

To reproduce the problem:
1) Launch the installer by wine ClonesGameDemo_1.29.exe.
2) Click on  accept EULA  ...a crash occurs here.

This is due to the following commit:

395479f0d194b7b7e1cf6b766825f492faafde5d is the first bad commit
commit 395479f0d194b7b7e1cf6b766825f492faafde5d
Author: Hans Leidekker 
Date:   Fri May 6 14:39:42 2011 +0200

    msi: Avoid loading cabinet streams more than once.

:040000 040000 6a52194c1bed51cb08ca316fb0aa5909b65507d7 929d4a4fabe9b29e4c76580a67f7057a12a0767c M	dlls

The patch can be reverted cleanly on wine-1.3.19-332-gadcce5d and that fixed the problem.

Author of the patch added to CC.",4,"0"
"WINE-14449","North American Birds fails to launch (Unimplemented function ole2disp.dll.VARIANTCHANGETYPE)","Created attachment 14768
Stack dump register dump etc

Program CD in inserted. After setting pib.exe to Windows 3.1 in Wine's Application settings (the System Requirements say 'Windows 3.1 or higher') I type wine pib.exe into the Terminal. The program fails to launch and an error log is given. Please see attached.",2328,"1"
"WINE-22317","Motocross madness demo has wrongly projected dirt (d3d_viewport_TransformVertices needs projection matrix + wrong scale)","Created attachment 27294
Smoke in Wine vs. WinXP

Motocross madness demo has wrongly projected smoke. Normally it should come from behind the bike but instead it comes from center of the screen thus it becomes unplayable (key F9 turns this graphical effect off).

Tested since 1.0-rc4 till now but it isn't a regression. (Versions 1.1.18 and lower needs to apply commit fc87182d191a2b3daabf260d1ad4b12b157e3cd1 to be able to run mcm.exe)

Demo is quite small: 19MB",2370,"1"
"WINE-28300","Money 2002 fails to run","Wine under Ubuntu Maverick used to run Microsoft Money with the exception of some minor functions. Since upgrading to Natty Ms Money 2002 crashes at start up.",248,"1"
"WINE-19747","Protel99SE-SP6 advsch.dll causes access violation (read @ 0000)","Protel99SE is a Win98 / WinXP application (also called Design Explorer) used to create/open a project database of schematics and pcb layouts then operate on these files with various servers. The main servers are sch & pcb.
 sch is essentially a drawing package tailored to electronic schematic design.
 pcb does the same for pcb design.

pcb primarily uses advpcb.dll and works fine under wine.

sch primarily uses advsch.dll and it is this library which creates an access violation when called.

The sequence of events was :-
1. Protel99SE opened correctly and retrieved the last database loaded MyDesign.ddb
The database contained 3 files FC0000_.PCB first.PCB & First.Sch
2. First.Sch was then mouse clicked to open it.
3. Design Explorer started the schematic editor sch.
4. After some time an Application Error window popped up reporting:-
 Exception EAccessViolation in module AdvSch.dll at 000C81D6.
 Access violation at address 016A81D6 in module 'AdvAch.dll'. Read of
 address 00000000.
5. The checkbox OK was then clicked
6. Design Explorer was closed.

The following terminal command was used to produce the debug file proteldebug.txt. Apologies for the massive size but I wasn't sure what was relevant and what wasn't.

errol@934engenia-desktop:~$ WINEDEBUG=+relay wine c:\program files\Design Explorer 99 SE\Client99SE.exe 2>&1 | tee proteldebug.txt

A copy of the terminal window follows which resulted from the following command:-
  wine c:\program files\Design Explorer 99 SE\Client99SE.exe WINEDEBUG=+loaddll
This is much shorter showing only the exception resulting from the call to AdvSch.dll and the subsequent stack dump & backtrace.
The sequence of events is the same as described above.

(Again apologies for pasting it here but only 1 attachment can be made as far as I can tell to this report.)

-------------------------
errol@934engenia-desktop:~$ wine c:\program files\Design Explorer 99 SE\Client99SE.exe WINEDEBUG=+loaddll
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x20064) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:msg:pack_message msg 14 (WM_ERASEBKGND) not supported yet
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x20064) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x20064) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:msg:pack_message msg 14 (WM_ERASEBKGND) not supported yet
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
wine: Unhandled page fault on read access to 0x00000000 at address 0x32f1e0:0x016a81d6 (thread 001f) starting debugger...
First chance exception: page fault on read access to 0x00000000 in 32-bit code (0x016a81d6).
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:0063 GS:006b
 EIP:016a81d6 ESP:0032c358 EBP:0032c364 EFLAGS:00010256(   - 00      RIZAP1)
 EAX:00000000 EBX:0000005b ECX:0032c364 EDX:0032c36c
 ESI:016b6574 EDI:4015f4a8
Stack dump:
0x0032c358:  0032c36c 40004288 0032c364 0032c384
0x0032c368:  400045d0 0032c874 400043b7 0032c384
0x0032c378:  0032c874 0032c874 400045e3 0032c88c
0x0032c388:  400045e8 0032c894 0160d3ae 01d4d7ec
0x0032c398:  0032c808 0032c3c4 0032c3dc 0032c808
0x0032c3a8:  0032c874 7bc8aff4 7bc66505 0032c808
Backtrace:
=>1 0x016a81d6 in advsch (+0xc81d6) (0x0032c364)
  2 0x400045d0 in vcl50.bpl (+0x45d0) (0x0032c384)
  3 0x400045e8 in vcl50.bpl (+0x45e8) (0x0032c88c)
  4 0x400045e8 in vcl50.bpl (+0x45e8) (0x0032cd9c)
  5 0x400045e8 in vcl50.bpl (+0x45e8) (0x0032d2a8)
  6 0x400045e8 in vcl50.bpl (+0x45e8) (0x0032d7b0)
  7 0x400045e8 in vcl50.bpl (+0x45e8) (0x0032dcb8)
  8 0x400045e8 in vcl50.bpl (+0x45e8) (0x0032e1c0)
  9 0x400045e8 in vcl50.bpl (+0x45e8) (0x0032e6d0)
  10 0x40004648 in vcl50.bpl (+0x4648) (0x0032f098)
  11 0x40004806 in vcl50.bpl (+0x4806) (0x0032f0f8)
  12 0x7bc44f85 call_dll_entry_point+0x15() in ntdll (0x0032f118)
  13 0x7bc46d33 in ntdll (+0x36d33) (0x0032f258)
  14 0x7bc4712e in ntdll (+0x3712e) (0x0032f2a8)
  15 0x7bc4b2bf LdrLoadDll+0x8f() in ntdll (0x0032f2d8)
  16 0x7b86996c in kernel32 (+0x4996c) (0x0032f318)
  17 0x7b869a48 LoadLibraryExW+0x48() in kernel32 (0x0032f348)
  18 0x7b869b83 LoadLibraryExA+0x43() in kernel32 (0x0032f368)
  19 0x00470475 in client99se (+0x70475) (0x0032f594)
  20 0x004705ae in client99se (+0x705ae) (0x0032f5c8)
  21 0x00470248 in client99se (+0x70248) (0x0032f918)
  22 0x00440501 in client99se (+0x40501) (0x0032f93c)
  23 0x0044116c in client99se (+0x4116c) (0x0032f948)
  24 0x004412c4 in client99se (+0x412c4) (0x0032f98c)
  25 0x00437960 in client99se (+0x37960) (0x0032f9b0)
  26 0x4006b7ec in vcl50.bpl (+0x6b7ec) (0x0032f9cc)
  27 0x4006b82e in vcl50.bpl (+0x6b82e) (0x0032f9ec)
  28 0x4006b87b in vcl50.bpl (+0x6b87b) (0x0032fa2c)
  29 0x4006b604 in vcl50.bpl (+0x6b604) (0x0032fb70)
  30 0x40099c6c in vcl50.bpl (+0x99c6c) (0x0032fbb0)
  31 0x400510b6 in vcl50.bpl (+0x510b6) (0x0032fbc8)
  32 0x7edf342a WINPROC_wrapper+0x1a() in user32 (0x0032fbf8)
  33 0x7edf387a WINPROC_wrapper+0x46a() in user32 (0x0032fc38)
  34 0x7edf9932 CallWindowProcA+0x52() in user32 (0x0032fc78)
  35 0x0043735b in client99se (+0x3735b) (0x0032fcb0)
  36 0x7edf342a WINPROC_wrapper+0x1a() in user32 (0x0032fce0)
  37 0x7edf387a WINPROC_wrapper+0x46a() in user32 (0x0032fd20)
  38 0x7edf9b2d in user32 (+0xb9b2d) (0x0032fd60)
  39 0x7edb8bb6 DispatchMessageA+0x96() in user32 (0x0032fda0)
  40 0x4005a8e4 in vcl50.bpl (+0x5a8e4) (0x0032fdf4)
  41 0x00476d4f in client99se (+0x76d4f) (0x0032ff08)
  42 0x7b879028 in kernel32 (+0x59028) (0x0032ffe8)
  43 0xf7e54d77 wine_switch_to_stack+0x17() in libwine.so.1 (0x00000000)
0x016a81d6: movl	0x0(%eax)%edx
Modules:
Module	Address			Debug info	Name (125 modules)
PE	  330000-  3f8000	Deferred        csrtl50.bpl
PE	  400000-  4c5000	Export          client99se
PE	  4d0000-  588000	Deferred        protelcomponents50.bpl
PE	 14f0000- 1507000	Deferred        autosave
PE	 1510000- 1537000	Deferred        binder
PE	 15e0000- 16f3000	Export          advsch
PE	 1810000- 181c000	Deferred        im31bmp.dil
PE	 1930000- 193d000	Deferred        im31wmf.dil
PE	 1a50000- 1a63000	Deferred        im31tif.dil
PE	 1b80000- 1b90000	Deferred        im31jpg.dil
PE	 4190000- 419b000	Deferred        router32
PE	 4a00000- 4a13000	Deferred        odbcint
PE	10000000-10043000	Deferred        imgman31
PE	40000000-401f2000	Export          vcl50.bpl
PE	402f0000-40333000	Deferred        vclx50.bpl
PE	6a980000-6a9b4000	Deferred        odbc32
ELF	7b800000-7b93c000	Export          kernel32
  \-PE	7b820000-7b93c000	\               kernel32
ELF	7bc00000-7bca7000	Export          ntdll
  \-PE	7bc10000-7bca7000	\               ntdll
ELF	7bf00000-7bf04000	Deferred        
ELF	7d56f000-7d583000	Deferred        olepro32
  \-PE	7d570000-7d583000	\               olepro32
ELF	7d583000-7d598000	Deferred        midimap
  \-PE	7d590000-7d598000	\               midimap
ELF	7d598000-7d5c0000	Deferred        msacm32
  \-PE	7d5a0000-7d5c0000	\               msacm32
ELF	7ddc1000-7de20000	Deferred        libpulse.so.0
ELF	7de21000-7de3a000	Deferred        msacm32
  \-PE	7de30000-7de3a000	\               msacm32
ELF	7de3a000-7de43000	Deferred        librt.so.1
ELF	7de43000-7df0b000	Deferred        libasound.so.2
ELF	7df0b000-7df42000	Deferred        winealsa
  \-PE	7df10000-7df42000	\               winealsa
ELF	7df42000-7df46000	Deferred        libgpg-error.so.0
ELF	7df46000-7dfaf000	Deferred        libgcrypt.so.11
ELF	7dfaf000-7dfc1000	Deferred        libtasn1.so.3
ELF	7dfc1000-7dfc5000	Deferred        libkeyutils.so.1
ELF	7dfc5000-7dfce000	Deferred        libkrb5support.so.0
ELF	7dfce000-7dff2000	Deferred        libk5crypto.so.3
ELF	7dff2000-7e084000	Deferred        libkrb5.so.3
ELF	7e084000-7e121000	Deferred        libgnutls.so.26
ELF	7e121000-7e14c000	Deferred        libgssapi_krb5.so.2
ELF	7e14c000-7e183000	Deferred        libcups.so.2
ELF	7e184000-7e18a000	Deferred        libattr.so.1
ELF	7e18a000-7e191000	Deferred        libgdbm.so.3
ELF	7e191000-7e196000	Deferred        libcap.so.2
ELF	7e196000-7e19d000	Deferred        libasound_module_pcm_pulse.so
ELF	7e1ca000-7e1ce000	Deferred        libcom_err.so.2
ELF	7e1e1000-7e214000	Deferred        uxtheme
  \-PE	7e1f0000-7e214000	\               uxtheme
ELF	7e214000-7e21d000	Deferred        libxcursor.so.1
ELF	7e21d000-7e222000	Deferred        libxfixes.so.3
ELF	7e222000-7e226000	Deferred        libxcomposite.so.1
ELF	7e226000-7e22e000	Deferred        libxrandr.so.2
ELF	7e22e000-7e238000	Deferred        libxrender.so.1
ELF	7e238000-7e23b000	Deferred        libxinerama.so.1
ELF	7e23b000-7e25c000	Deferred        imm32
  \-PE	7e240000-7e25c000	\               imm32
ELF	7e25c000-7e261000	Deferred        libxdmcp.so.6
ELF	7e261000-7e27b000	Deferred        libxcb.so.1
ELF	7e27b000-7e27f000	Deferred        libxau.so.6
ELF	7e27f000-7e284000	Deferred        libuuid.so.1
ELF	7e284000-7e373000	Deferred        libx11.so.6
ELF	7e373000-7e383000	Deferred        libxext.so.6
ELF	7e383000-7e389000	Deferred        libxxf86vm.so.1
ELF	7e389000-7e3a1000	Deferred        libice.so.6
ELF	7e3a1000-7e3aa000	Deferred        libsm.so.6
ELF	7e3c4000-7e45f000	Deferred        winex11
  \-PE	7e3d0000-7e45f000	\               winex11
ELF	7e472000-7e499000	Deferred        libexpat.so.1
ELF	7e499000-7e4c6000	Deferred        libfontconfig.so.1
ELF	7e4c6000-7e4dc000	Deferred        libz.so.1
ELF	7e4dc000-7e553000	Deferred        libfreetype.so.6
ELF	7e56d000-7e5d9000	Deferred        msvcrt
  \-PE	7e580000-7e5d9000	\               msvcrt
ELF	7e5d9000-7e66d000	Deferred        winmm
  \-PE	7e5e0000-7e66d000	\               winmm
ELF	7e66d000-7e694000	Deferred        oledlg
  \-PE	7e670000-7e694000	\               oledlg
ELF	7e694000-7e6c1000	Deferred        ws2_32
  \-PE	7e6a0000-7e6c1000	\               ws2_32
ELF	7e6c1000-7e6dc000	Deferred        wsock32
  \-PE	7e6d0000-7e6dc000	\               wsock32
ELF	7e6dc000-7e713000	Deferred        winspool
  \-PE	7e6e0000-7e713000	\               winspool
ELF	7e713000-7e76e000	Deferred        shlwapi
  \-PE	7e720000-7e76e000	\               shlwapi
ELF	7e76e000-7e883000	Deferred        shell32
  \-PE	7e780000-7e883000	\               shell32
ELF	7e883000-7e931000	Deferred        comdlg32
  \-PE	7e890000-7e931000	\               comdlg32
ELF	7e931000-7e9f6000	Deferred        comctl32
  \-PE	7e940000-7e9f6000	\               comctl32
ELF	7e9f6000-7ea11000	Deferred        version
  \-PE	7ea00000-7ea11000	\               version
ELF	7ea11000-7ea34000	Deferred        mpr
  \-PE	7ea20000-7ea34000	\               mpr
ELF	7ea34000-7ea4a000	Deferred        libresolv.so.2
ELF	7ea4f000-7ea64000	Deferred        lz32
  \-PE	7ea50000-7ea64000	\               lz32
ELF	7ea64000-7ea83000	Deferred        iphlpapi
  \-PE	7ea70000-7ea83000	\               iphlpapi
ELF	7ea83000-7eae6000	Deferred        rpcrt4
  \-PE	7ea90000-7eae6000	\               rpcrt4
ELF	7eae6000-7eb8c000	Deferred        ole32
  \-PE	7eaf0000-7eb8c000	\               ole32
ELF	7eb8c000-7ec32000	Deferred        oleaut32
  \-PE	7eba0000-7ec32000	\               oleaut32
ELF	7ec32000-7ec85000	Deferred        advapi32
  \-PE	7ec40000-7ec85000	\               advapi32
ELF	7ec85000-7ed25000	Deferred        gdi32
  \-PE	7eca0000-7ed25000	\               gdi32
ELF	7ed25000-7ee71000	Export          user32
  \-PE	7ed40000-7ee71000	\               user32
ELF	7ef9b000-7efa7000	Deferred        libnss_files.so.2
ELF	7efa7000-7efc0000	Deferred        libnsl.so.1
ELF	7efc0000-7efe6000	Deferred        libm.so.6
ELF	7efec000-7eff7000	Deferred        libnss_nis.so.2
ELF	7eff7000-7f000000	Deferred        libnss_compat.so.2
ELF	f7cb2000-f7cb6000	Deferred        libdl.so.2
ELF	f7cb6000-f7e19000	Deferred        libc.so.6
ELF	f7e1a000-f7e33000	Deferred        libpthread.so.0
ELF	f7e4d000-f7f84000	Export          libwine.so.1
ELF	f7f86000-f7fa7000	Deferred        ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
00000008 
	00000009    0
0000000c 
	00000012    0
	0000000e    0
	0000000d    0
0000000f 
	00000016    0
	00000014    0
	00000011    0
	00000010    0
00000017 
	00000018    0
0000001e (D) C:\program files\Design Explorer 99 SE\Client99SE.exe
	00000020  -15
	0000001f    0 <==
Backtrace:
=>1 0x016a81d6 in advsch (+0xc81d6) (0x0032c364)
  2 0x400045d0 in vcl50.bpl (+0x45d0) (0x0032c384)
  3 0x400045e8 in vcl50.bpl (+0x45e8) (0x0032c88c)
  4 0x400045e8 in vcl50.bpl (+0x45e8) (0x0032cd9c)
  5 0x400045e8 in vcl50.bpl (+0x45e8) (0x0032d2a8)
  6 0x400045e8 in vcl50.bpl (+0x45e8) (0x0032d7b0)
  7 0x400045e8 in vcl50.bpl (+0x45e8) (0x0032dcb8)
  8 0x400045e8 in vcl50.bpl (+0x45e8) (0x0032e1c0)
  9 0x400045e8 in vcl50.bpl (+0x45e8) (0x0032e6d0)
  10 0x40004648 in vcl50.bpl (+0x4648) (0x0032f098)
  11 0x40004806 in vcl50.bpl (+0x4806) (0x0032f0f8)
  12 0x7bc44f85 call_dll_entry_point+0x15() in ntdll (0x0032f118)
  13 0x7bc46d33 in ntdll (+0x36d33) (0x0032f258)
  14 0x7bc4712e in ntdll (+0x3712e) (0x0032f2a8)
  15 0x7bc4b2bf LdrLoadDll+0x8f() in ntdll (0x0032f2d8)
  16 0x7b86996c in kernel32 (+0x4996c) (0x0032f318)
  17 0x7b869a48 LoadLibraryExW+0x48() in kernel32 (0x0032f348)
  18 0x7b869b83 LoadLibraryExA+0x43() in kernel32 (0x0032f368)
  19 0x00470475 in client99se (+0x70475) (0x0032f594)
  20 0x004705ae in client99se (+0x705ae) (0x0032f5c8)
  21 0x00470248 in client99se (+0x70248) (0x0032f918)
  22 0x00440501 in client99se (+0x40501) (0x0032f93c)
  23 0x0044116c in client99se (+0x4116c) (0x0032f948)
  24 0x004412c4 in client99se (+0x412c4) (0x0032f98c)
  25 0x00437960 in client99se (+0x37960) (0x0032f9b0)
  26 0x4006b7ec in vcl50.bpl (+0x6b7ec) (0x0032f9cc)
  27 0x4006b82e in vcl50.bpl (+0x6b82e) (0x0032f9ec)
  28 0x4006b87b in vcl50.bpl (+0x6b87b) (0x0032fa2c)
  29 0x4006b604 in vcl50.bpl (+0x6b604) (0x0032fb70)
  30 0x40099c6c in vcl50.bpl (+0x99c6c) (0x0032fbb0)
  31 0x400510b6 in vcl50.bpl (+0x510b6) (0x0032fbc8)
  32 0x7edf342a WINPROC_wrapper+0x1a() in user32 (0x0032fbf8)
  33 0x7edf387a WINPROC_wrapper+0x46a() in user32 (0x0032fc38)
  34 0x7edf9932 CallWindowProcA+0x52() in user32 (0x0032fc78)
  35 0x0043735b in client99se (+0x3735b) (0x0032fcb0)
  36 0x7edf342a WINPROC_wrapper+0x1a() in user32 (0x0032fce0)
  37 0x7edf387a WINPROC_wrapper+0x46a() in user32 (0x0032fd20)
  38 0x7edf9b2d in user32 (+0xb9b2d) (0x0032fd60)
  39 0x7edb8bb6 DispatchMessageA+0x96() in user32 (0x0032fda0)
  40 0x4005a8e4 in vcl50.bpl (+0x5a8e4) (0x0032fdf4)
  41 0x00476d4f in client99se (+0x76d4f) (0x0032ff08)
  42 0x7b879028 in kernel32 (+0x59028) (0x0032ffe8)
  43 0xf7e54d77 wine_switch_to_stack+0x17() in libwine.so.1 (0x00000000)

--------------------------------------------------
I most sincerely appreciate any help you can give me.",1,"0"
"WINE-33742","UPlay 3.x/4.x needs native crypt32","Hi

There was an Uplay update the 4th June and since this date UPlay does not works correctly.

When there isn't problem like on my Windows partition for example after to launch UPlay :
1-A first window appears named UPlay : Update of UPlay. At this step UPlay check if an update is available or not.
2-Then the second window appears to log in to open UPlay.

Before the update these 2 steps work without problem. Yesterday when i launch UPlay i had the update download but after the installation when i relaunch UPlay i stay at the first step like if Uplay can't pass the update check to pass to the login step.

I tried UPlay on Debian Wheezy/Sid and Archlinux 64Bits on these 3 systems i have the same problem.

It's possible to reproduce this problem download UPlayInstaller here (http://static3.cdn.ubi.com/orbit/launcher_installer/UplayInstaller.exe)
It's not important if you haven't UPlay account install and launch it and you have the problem.

Thanks
Max",411,"1"
"WINE-9580","Wine should return 32 instead of 31 when it CreateFile fails due to file_set_error: Text file busy.","Created attachment 7955
Detailed Information Source Code and Logs

Say I have a cifs share mounted on /mnt/share/.
When CreateFile on a file in this share fails due the file being in use by another client then it returns 31. This is wrong on windows 32 is returned.

The following also gets displayed:
file_set_error: Text file busy",7,"0"
"WINE-20699","TeamViewer 3 - characters repeat in the chat window","TeamViewer 3 with OS=NT4.0 to workaround bug 12067
All seems to work (except for the unrelated bug 11727) but the chat the other windows seems to loop (when a connection is active) when many input messages are sent on this windows (for example when you press 2 or more keys on the chat). Obviously in windows there aren't problems.

To workaround this in then dlls/user32/message.c

...
break
case MSG_HARDWARE:
if (size >= sizeof(msg_data->hardware))
{
  ... 
  HOOK_CallHooks( WH_GETMESSAGE HC_ACTION flags 
  return TRUE
}
...


I add this check (or you can remove the whole call...)
   
...
if (flags & PM_REMOVE)   <-
HOOK_CallHooks( WH_GETMESSAGE HC_ACTION flags & PM_REMOVE (LPARAM)msg TRUE 
...

and now there aren't problems and it works very well.
I know the patch isn't right since the WH_GETMESSAGE should return also the not removed peeked messages but I think there is something wrong with the hooking system!
Note:
To understand what Teamviewer do I have followed the source code VNCHooks.dll 'cause it's very similar (also with the name and meanings of the registerd messages).",1148,"1"
"WINE-13882","psiops crashes while starting (XStreamlok)","Created attachment 13972
+relay+seh+tid

PsiOps an ad supported free to download game crashes when starting

http://appdb.winehq.org/objectManager.php?sClass=version&iId=12530

The download is 2.5GB and requires registration at fileplanet but luckily the main executable crashes the same way without any other data and in a clean wineprefix so here's a link to it:

http://members.iinet.net.au/~something/PsiOps.exe.gz (920k)",13,"0"
"WINE-28849","LabVIEW 2010: Some DLLs aren't installed at all","Created attachment 37058
Installation log on Wine 1.3.31

Steps to reproduce:
1) remove ~/.wine
2) winetricks dotnet20sp2
3) wine setup.exe
4) default installation

Behaviour:
Installer fails to install some LabView dlls.

Expected behaviour:
Installer should install all LabView dlls.

Additional information:
Wine 1.3.24 installs those dlls but installation process is slow (see bug #27841). It's a regression but I won't be re-installing LabView each time to check which commit caused this.",574,"1"
"WINE-930","Wine failed with return code 5","Bug comments restored from Gmane.org: 
 
I am trayin to run CardScan (www.cardscan.com) in linux but it fail.  
The last lines of the debug say: 
 
trace:heap:RtlFreeHeap (402200000000000240258a4c): returning TRUE 
trace:heap:RtlFreeHeap (402200000000000240258a0c): returning TRUE 
trace:heap:RtlDestroyHeap 40a70000 
trace:heap:RtlFreeHeap (4022000000000002402589b0): returning TRUE 
trace:heap:RtlAllocateHeap (402200000000000200000018): returning 402589b0 
Wine failed with return code 5 
 
 
------- Additional Comments From giacummo  adinet.com.uy  2002-07-31 08:06 
------- 
Created an attachment (id=243) 
debug log compressed 
 
 
------- Additional Comments From giacummo  adinet.com.uy  2002-08-01 07:47 
------- 
I add the nexts lines: 
 
 
Wine Version -> Wine 20020411 
gcc Version  -> gcc version 2.96 20000731 (Red Hat Linux 7.3 2.96-110) 
Program      -> CardScan (www.cardscan.com  / www.corex.com) 
Comand Line  -> wine /cs.exe 
 
 
 
08070108:trace:gdi:GDI_GetObjPtr (08d0): enter 2 
08070108:trace:gdi:GDI_ReleaseObj (08d0): leave 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  1 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 1 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  2 
08070108:trace:gdi:GDI_GetObjPtr (08d4): enter 2 
08070108:trace:gdi:GDI_ReleaseObj (08d4): leave 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 208070108:trace:gdi:GDI_ReleaseObj (08d0): leave 1 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 1 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  0 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 0 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  1 
08070108:trace:gdi:GDI_GetObjPtr (08d0): enter 1 
08070108:trace:gdi:SelectObject hdc=08d0 006e 
08070108:trace:gdi:GetObjectType 0000006e 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 1 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  2 
08070108:trace:local:LOCAL_InternalLock 006e returning 0052 
08070108:trace:gdi:GDI_GetObjPtr (006e): enter 2 
08070108:trace:local:LOCAL_Unlock 006e 
08070108:trace:gdi:GDI_ReleaseObj (006e): leave 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 208070108:trace:win32:_LeaveSysLevel (0x406869a4 
level 3): thread 0x8070108 (fs 008f pid 1628) count after  1 
08070108:trace:gdi:GetObjectA 0000006e 12 0x40476234 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 1 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  2 
08070108:trace:local:LOCAL_InternalLock 006e returning 0052 
08070108:trace:gdi:GDI_GetObjPtr (006e): enter 2 
08070108:trace:local:LOCAL_Unlock 006e 
08070108:trace:gdi:GDI_ReleaseObj (006e): leave 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  1 
08070108:trace:gdi:X11DRV_SelectBrush hdc=08d0 hbrush=006e 
08070108:trace:gdi:X11DRV_SelectBrush BS_SOLID 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 1 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  2 
08070108:trace:local:LOCAL_InternalLock 0092 returning 01e2 
08070108:trace:gdi:GDI_GetObjPtr (0092): enter 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  0 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 0 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  1 
08070108:trace:local:LOCAL_InternalLock 006e returning 0052 
08070108:trace:gdi:GDI_GetObjPtr (006e): enter 1 
08070108:trace:local:LOCAL_Unlock 006e 
08070108:trace:gdi:GDI_ReleaseObj (006e): leave 1 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 1 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  0 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 0 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  1 
08070108:trace:local:LOCAL_InternalLock 1182 returning 1352 
08070108:trace:gdi:GDI_GetObjPtr (1182): enter 1 
08070108:trace:local:LOCAL_Unlock 1182 
08070108:trace:gdi:GDI_ReleaseObj (1182): leave 1 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  1 
08070108:trace:gdi:X11DRV_SelectBrush hdc=0860 hbrush=007e 
08070108:trace:gdi:X11DRV_SelectBrush BS_SOLID 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 1 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  2 
08070108:trace:local:LOCAL_InternalLock 0092 returning 01e2 
08070108:trace:gdi:GDI_GetObjPtr (0092): enter 2 
08070108:trace:local:LOCAL_Unlock 0092 
08070108:trace:gdi:GDI_ReleaseObj (0092): leave 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  1 
08070108:trace:gdi:GDI_ReleaseObj (0860): leave 1 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 1 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  0 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x80 
...",500,"1"
"WINE-31408","anarchy online crash new zone","Created attachment 41278
console output Anarchy online crash

Hi Having the following problem:

Game = Anarchy online
Problem = Game crashes when entering a new Zone
Console output is attached.

OP System = Linux mint 13
Wine = V1.5.10
PC = Asus laptop K53SJ
Graphics drivers (Vanilla Linux Mint drivers)

Any help would be appreciated. Cheers",723,"1"
"WINE-16228","Cannot get a script function from within a comment node.","Created attachment 17474
Test case






<!--
function Testing() { }
// -->





With the above html code we cannot call the function Testing directly from code.

Test case provided.",287,"1"
"WINE-28799","d3dx9_36/tests/mesh.ok: memcpy source and destination overlap in weld_float16_2() triggered by test_weld_vertices()","In d3dx9_36/tests in make mesh.ok valgrind complains:

Source and destination overlap in memcpy(0x7fd893dc 0x7fd893dc 4)
   at memcpy (mc_replace_strmem.c:635)
   by weld_float16_2 (mesh.c:5861)
   by weld_component (mesh.c:5958)
   by D3DXWeldVertices (mesh.c:6242)
   by test_weld_vertices (mesh.c:8069)
   by func_mesh (mesh.c:8193)
   by run_test (test.h:556)
   by main (test.h:624)",226,"1"
"WINE-23925","world of warcraft loses sound when alt-tabbing out.","I can alt-tab out of world of warcraft just fine but when i go back to world of warcraft i lose sound and must restart world of warcraft to get sound back. I think this must be a regression in Wine 1.3. I remember some releases back that wine and world of warcraft did the exact same thing. So until this gets fixed i have reverted back to wine 1.1.37 where it does not have this problem.

thank you
Dwight",529,"1"
"WINE-35571","Questrade IQ Divide by Zero error","Created attachment 47504
Divide by Zero error using 1.7.12

Receive the following error when running Questrade IQ with Wine 1.7.12 (http://help.questrade.com/how-to/iq-edge/getting-started/downloading-and-installing-iq-edge)

Unhandled exception: divide by zero in 32-bit code (0x653aaa4e).",166,"0"
"WINE-13150","Guitar Hero 3 crashes without D3DXCreateTextureFromFileInMemoryEx and D3DXCreateTextureFromFileW","Created attachment 12953
Guitar Hero 3 1.1 output with no native libs

To track unimplemented calls made to d3dx9_36.dll",185,"0"
"WINE-16238","Star Wars: The Battle of Endor: Crashes while starting.","Created attachment 17496
Terminal log.

The game gives the error Game could not be initialized.
Error:430
Description:Class does not support Automation or does not support expected interface and crashes after clicking the Ok button on the error window.",1452,"1"
"WINE-23249","Fallout 3 Oblivion: Most sound effects missing.","See bug #21609.  A purported fix for this bug was committed to the source tree as commit 258d42982cf526b3d9c59ccb522b27db3f519541 and included in release 1.2-rc4.

However I am experiencing the same issue (no sound effects with the exception of dialogue) as named in that bug report with a clean build of 1.2-rc4.  Not surprisingly regression testing leads back to the same bad commit:

c62cf2e049ad37d9561957c47d23fc7ba13adc90 is first bad commit
commit c62cf2e049ad37d9561957c47d23fc7ba13adc90
Author: Eric Pouech 
Date:   Sat Jan 23 18:56:45 2010 +0100

    winmm: In mmio manipulation always ensure that we use a HFILE for mmio internal handlers (and not a HANDLE).

:040000 040000 34f94674da252fbcf201217dddb31973ead906ca 59d18475ffc5e5e76df8b5277fb3250ef091721e M	dlls

named in 21609.",13,"0"
"WINE-1779","Type 1 fonts not supported for printing.","On RH9 Type 1 fonts supplied by the Linux font server work for display but
cannot be used for printing.  Only the base fonts for the printer can be used
for printing.  This does not apply to TTF fonts installed in c/windows/system/fonts.",1576,"1"
"WINE-19055","Various apps quit with bad file descriptor error","When running either of the two executables for game installation for Starfleet Command (Setup.exe or SFCSetup.exe) you get the standard preparing the InstallShield(R) wizard) progress bar along with the game's splash screen the fullscreen background for the installer appears and a game sound effect beeps and then the installer crashes.

At the terminal an error appears:

wine client error:1a: write: Bad file descriptor

Having run it a few times the hex number in the error will often change e.g.

wine client error:1c: write: Bad file descriptor

But fundamentally the error remains the same each time.",8,"0"
"WINE-963","Default values for wineconsole are not saved","Bug comments restored from Gmane.org: 
 
While trying to make sense of bug 745 I ran across this bug. The problem is that 
if I change the default values in winedebug those values are not saved to the 
registry.  
 
When I ran a trace using --debugmsg +wineconsole+reg I get some indication as 
to why. It looks like it is not finding the registry entries in order to update 
them. 
 
trace:wineconsole:WINECON_RegSave saving registry settings. 
trace:reg:NtCreateKey(0x80000001LConsole\0000Cursor...(null)0f003f0x405c5ee4) 
trace:reg:NtCreateKey <- 0x0050 
trace:reg:NtSetValueKey(0x50LCursorSize\0000CursorVis...40x405c5ee04) 
trace:reg:NtSetValueKey(0x50LCursorVisible\0000ExitOnDie\0000Fa...40x405c5ee04) 
trace:reg:NtSetValueKey(0x50LExitOnDie\0000FaceName40x405c5ee04) 
trace:reg:NtSetValueKey(0x50LFaceName\0000FontSiz...10x4039610812) 
trace:reg:NtSetValueKey(0x50LFontSize\0000FontWei...40x405c5ee04) 
trace:reg:NtSetValueKey(0x50LFontWeight\0000HistoryBu...40x405c5ee04) 
trace:reg:NtSetValueKey(0x50LHistoryBufferSize\0000MenuMask\0000QuickEd...40x405c5ee04) 
trace:reg:NtSetValueKey(0x50LMenuMask\0000QuickEd...40x405c5ee04) 
trace:reg:NtSetValueKey(0x50LQuickEdit\0000ScreenBu...40x405c5ee04) 
trace:reg:NtSetValueKey(0x50LScreenBufferSize\0000ScreenColors\0000Wi...40x405c5ee04) 
trace:reg:NtSetValueKey(0x50LScreenColors\0000WindowSize\0000...40x405c5ee04) 
trace:reg:NtSetValueKey(0x50LWindowSize\0000\7250\706f\7265\7974\6853\6565\5774\4900\696e...40x405c5ee04) 
 
If I change the values using regedit they are read by winedbg and wcmd but they 
seem to be ignored by both programs when creating the window. The only registry 
settings that seem to be used are those for the font settings. 
 
It concerns me that both winedbg and wcmd would share the same registry settings 
in the first place since they are totally different programs and in my mind 
should have setting that are independent to each other. 
 
 
------- Additional Comments From pouech  winehq.com  2002-08-18 11:17 ------- 
values are saved if you ask (from the right menu) to be be saved (otherwise they only 
change the 
current session) 
I know this is braindead but it's how MS interface is designed (I may change it) 
as of today registry values are stored only in wineconsole 
it may also evolves into a per application settings (defaulting to wineconsole's if none 
is present) 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-08-18 
20:09 ------- 
I am using the correct menu (I understand how it is supposed to work) but this 
is not working. For example if I change the default setting for width and height 
it is not saved. 
 
 
------- Additional Comments From pouech  winehq.com  2003-01-08 14:31 ------- 
is the bug still occurs with current CVS code ?",148,"0"
"WINE-18401","Cars won't be renderer with PC3 shaders","This is a new bug in 1.1.21. It was working on 1.1.20 but generally 1.1.21 with PC3 works better. Some effects look better in 1.1.21. The only problem is that you wont see any cars. Ghost cars are working and you can see all of the car shadows.

This has to do something with the new shader code in 1.1.21. It did a step to the right direction but caused this minor regression.",462,"1"
"WINE-18099","No keyboard response in Super Mario 3 remake","When attempting to play the free Super Mario 3: Mario Forever remake by Buziol games we are unable to enter gameplay as there is no response from the keyboard when entering the Select world screen. In this screen you are supposed to be able to move Mario with the keyboard arrow buttons as well as jump with the shift button.

According to the appdb the first mention of this problem is with wine version 20050111 and it is still present in wine version 1.19.
Link to the application entry in appdb:
http://appdb.winehq.org/objectManager.php?sClass=application&iId=2363

Everything else about the game seems to be working normally in wine (installation launching game graphics music).

The game itself is perceived to be very good and fun remake of the original game and it would be nice to be able to enjoy this little gem with linux/wine.

The game is available as a free download from the specified URL.",3632,"1"
"WINE-37880","Watchtower Library 2010 crashes on startup","Created attachment 50449
Don't run Watchtower Library 2014 on ubuntu 14.04LTS wine 1.6.2

Don't run Watchtower Library 2014 on ubuntu 14.04LTS wine 1.6.2",13,"0"
"WINE-10730","WISO Sparbuch 2008: characters are not rendered correctly","Created attachment 9573
characters are not rendered correctly in screen: Datenübernahme 

with the workaround suggested in bug #10505 wiso2008 works fine so far.
In the import module the Datenübernahme-Screen which is used to check the imported values characters are not rendered correctly.
please see attached screenshot.",6,"0"
"WINE-1816","can't compile Wine 0.9 on Solaris 10/x86 (was Wine 20031016 on Solaris 9)","I'm using GCC 3.3.2 with the following GNU tools:  texinfo as ld flex and
bison.  And I am unable to compile the server.  I tried adding --disable-trace
but that didn't help.  Here is the error message:
./tools/makedep -I. -I. -I./include -I./include  -C.       
gcc -c -I. -I. -I../include -I../include  -D__WINESRC__  -Wall
-mpreferred-stack-boundary=2 -fno-strict-aliasing -gstabs+ -Wpointer-arith
-I/usr/home/ras/sfw/include -L/usr/home/ras/sfw/lib -o context_i386.o context_i386.c
context_i386.c: In function `get_thread_context':
context_i386.c:241: error: `PT_GETREGS' undeclared (first use in this function)
context_i386.c:241: error: (Each undeclared identifier is reported only once
context_i386.c:241: error: for each function it appears in.)
context_i386.c:276: error: `PT_GETFPREGS' undeclared (first use in this function)
context_i386.c: In function `set_thread_context':
context_i386.c:295: error: `PT_GETREGS' undeclared (first use in this function)
context_i386.c:322: error: `PT_SETREGS' undeclared (first use in this function)
context_i386.c:332: error: `PT_SETFPREGS' undeclared (first use in this function)
*** Error code 1
make: Fatal error: Command failed for target `context_i386.o'
Current working directory /usr/home/ras/sfw/wine/wine-20031016/server
*** Error code 1
make: Fatal error: Command failed for target `server'

Compilation failed aborting install.",1349,"1"
"WINE-33737","PowerPoint Viewer 2010 cannot start when Windows version is Vista or later ('IFileDialogCustomize::MakeProminent' and 'IFileDialogCustomize::SetControlItemState' are stubs)","Created attachment 44674
Terminal output

MS Office Power Point Viewer (Office 14) can not start.

See attachment - terminal output.",926,"1"
"WINE-3377","Civilization 3 Crashes: Unable to allocate draw-buffer","If I run Civivlization 3 and I use the quickstart mode
to start a new game and then I want to advise a settler
to build a city the game crashes with following error:

Unable to allocate draw-buffer terminating program.

This screenshot shows the crash:
http://komi.bluezones.org/wine/civ3-2.png

Output of the game while running:

-----------------------------------
[komi@phobos Civilization III]$ wine Civilization3.exe 
fixme:x11drv:X11DRV_desktop_SetCurrentMode Cannot change screen BPP from 32 to 16
fixme:font:CreateScalableFontResourceA (0LSANS.fotLSANS.TTFC:\\Program
Files\\Infogrames\\Civilization III): stub
fixme:font:CreateScalableFontResourceA (0LSANS.fotLSANS.TTFC:\\Program
Files\\Infogrames\\Civilization III): stub
err:opengl:X11DRV_ChoosePixelFormat Flag not supported !
fixme:ddraw:Main_DirectDraw_SetCooperativeLevel (0x7bb95858)->(0003002200000008)
err:opengl:X11DRV_ChoosePixelFormat Flag not supported !
err:opengl:X11DRV_ChoosePixelFormat Flag not supported !
err:opengl:X11DRV_ChoosePixelFormat Flag not supported !
err:opengl:X11DRV_ChoosePixelFormat Flag not supported !
err:opengl:X11DRV_ChoosePixelFormat Flag not supported !
err:opengl:X11DRV_ChoosePixelFormat Flag not supported !
err:opengl:X11DRV_ChoosePixelFormat Flag not supported !
err:opengl:X11DRV_ChoosePixelFormat Flag not supported !
err:opengl:X11DRV_ChoosePixelFormat Flag not supported !
err:opengl:X11DRV_ChoosePixelFormat Flag not supported !
err:opengl:X11DRV_ChoosePixelFormat Flag not supported !
[komi@phobos Civilization III]$ 
-----------------------------------


My System:
Intel P4 HT with 3.2 GHz
1024 MB RAM
Intel i810 onBoard graphics chip
Fedora Core 4 with 2.6.12 and 2.6.13 kernel",678,"1"
"WINE-2216","WINE failes when installing Internet Explorer 6.0 SP1","I wasn't sure what component to assign it to so I left it at the default.  When
installing ie6 it fails after I accept the license agreement.  

I ran a bt and only got the following:  

=>0 0x406bcf78 (GetUserNameW+0x58(lpszName=0x63000000 lpSize=0x1) [advapi.c:89]
in ADVAPI32.DLL) (ebp=419d8d58)
  1 0x6300839f (WININET.DLL.InternetOpenA+0xe24 in WININET.DLL) (ebp=00000104)",2,"0"
"WINE-4783","Network Notepad - .wmf files not rendered","VB6 image controls and picture boxes are used to display .wmf windows metafiles.",949,"1"
"WINE-13841","Babylon 7: Babylon freezes in trial version mode","Created attachment 13901
Shell output Babylon 7 (trail) on wine-1.0-rc4 

Babylon 7 freezes if no license key is entered during installation but Babylon is set to trail mode.",183,"0"
"WINE-2936","PAF can't create a new file","When I select File->New in Personal Ancestral File (version 5.2.18/en) PAF
creates a zero-length .paf file and brings up a box saying The file appears to
be damaged.  It gives the following error-messages before bringing up the
select-file dialog:

fixme:commdlg:GetFileName95 Flags 0x00800000 not yet implemented
err:pidl:_ILCreateGuidFromStrW LControls is not a GUID

Otherwise  it's perfectly silent  this operation does not cause the program to
crash.",154,"0"
"WINEHQ_BUGZILLA-925","Bug Writing Help","this is OK for now.",602,"1"
"WINE-26042","advapi32/crypt tests show two leaks under valgrind","12 bytes in 1 blocks are definitely lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  HeapAlloc (heap.c:267)
    by  GlobalAlloc (heap.c:360)
    by  LocalAlloc (heap.c:960)
    by  CryptGenKey (crypt.c:1433)
    by  test_incorrect_api_usage (crypt.c:241)
    by  func_crypt (crypt.c:1130)
    by  run_test (test.h:556)
    by  main (test.h:624)
...
 996 bytes in 1 blocks are definitely lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  ???
    by  ???
    by  ???
    by  CryptGenKey (crypt.c:1441)
    by  test_incorrect_api_usage (crypt.c:241)
    by  func_crypt (crypt.c:1130)
    by  run_test (test.h:556)
    by  main (test.h:624)",2867,"1"
"WINE-14088","Gvox Encore: no sound","Gvox Encore music notation software: assign MIDI to match WINE config no sound.",184,"0"
"WINE-38768","Stronghold 2 hangs when started.","Created attachment 51702
warn+all log

When trying to start Stronghold 2 it simply hangs:

 1. Start Stronghold 2
 2. The configuration window opens press Play
 3. The configuration window closes nothing happens
 4. The process sits there consuming ~3-10% CPU but no window appears ever

I tested the Steam version and the one contained within the Stronghold Collection both show the same behavior as does Stronghold Legends. Stronghold 1 and Crusader work flawlessly. This was tested in a clean prefix (SH1 and SHC was tested in the same prefix afterwards).

Attached is the output of warn+all if you need any more logs drop me a note. The application was terminated with Ctrl+C after it hang.

According to the log SH2 fails to create the configuration fail however the permissions of the directory are okay. Also I tried to create the configuration file by hand (by simply using touch) Stronghold 2 would then fail with an error dialog that the application stopped working correctly. I guess that this is expected behavior as it most likely tries to load the (empty) configuration file and fails miserably to do so. Though I can't say if it hangs because it can't create the configuration file or if it is something different.",521,"1"
"WINE-5470","RealPlayer 8 - No video or sound crashes","RP8 'plays' video for a few seconds (with no video or sound) then it crashes.
Trace attached.",14,"0"
"WINE-23312","Photo! Editor crashes because of importing gdiplus by ordinal","(new to all this).Running Linux MINT 9 Isadora ...... have downloaded and installed Photo! Editor

http://pho.to/editor/download.php

have done the permissions but when I click on the .exe file in wine I get a Program Error message box with
***************************************************************************

 The program Photo!Editor.exe has encountered a serious problem and needs to close. We are sorry for the inconvenience.

This can be caused by a problem in the program or a deficiency in WINE... you may want to check appdb.winehq.org for tips about running this application

(been there couldn`t find anything)

If this problem is not present under windows ( it works fine in windows Vista) and has not been reported yet  you can report it at http://bugs.winehq.org

*****************************************************************************

Which is what I am doing !....

(It may be something to do with DLL files  (as I needed one to get IRFANVIEW working )(but the error box doesn`t give that info ...)

thanks

Gerry",329,"1"
"WINE-24143","TGA image is not visible in Layered Windows Demo","The window captures any window you move over it and only thing is displayed in the terminal is.

fixme:heap:HeapSetInformation (nil) 1 (nil) 0
fixme:msvcrt:_controlfp_s ((nil) 65536 196608) semi-stub",779,"1"
"WINE-26382","Sample application fails to login and crashes","Example: http://netikka.net/dev/logintest.exe

Click button -> After waiting it should say: Login ok! 

But it fails and then crash: http://aijaa.com/v.php?i=000127663221.jpg

Source: 

procedure TForm1.Button1Click(Sender: TObject)
var
  strPostData: string
  Data: Pointer
  URL Flags TargetFrameName PostData Headers docs: OleVariant
  Startedtime timeout: DWORD
  Doc3: IHTMLDocument3
begin
 strPostData := 'username=testaaja
 // account is anonymous just created it for this
 PostData :=  VarArrayCreate([0 Length(strPostData) - 1] varByte)
 Data := VarArrayLock(PostData)
 try
   Move(strPostData[1] Data^ Length(strPostData))
 finally
   VarArrayUnlock(PostData)
 end
 URL := 'http://www.aijaa.com/login.php?act=login'
 Flags := EmptyParam
 TargetFrameName := EmptyParam
 Headers := 'Referer: http://www.aijaa.com/login.php'+#10#13+'Content-Type: application/x-www-form-urlencoded'+ #10#13#0
 StartedTime := GetTickCount
 timeout:=30000
 webbrowser1.Navigate2(URL Flags TargetFrameName PostData Headers)
 while ((webbrowser1.Busy) or (webbrowser1.readystate  4)) and (gettickcount<startedtime+timeout) do
  application.processmessages
 if (gettickcount>=startedtime+timeout) then begin edit1.text:='Timeout!' exit end
 StartedTime := GetTickCount

 // After login load main page..

 webbrowser1.Navigate('http://www.aijaa.com')
 while ((webbrowser1.Busy) or (webbrowser1.ReadyState  4)) and (gettickcount<startedtime+timeout) do
  application.processmessages
 if (gettickcount>=startedtime+timeout) then begin edit1.Text:='Login failed!!' end

 // Check if login still ok?

 if Supports(webbrowser1.Document IHTMLDocument3 Doc3) then
  if assigned(Doc3.getElementByID('fID')) then
  begin
   edit1.Text:='Login ok!'
  end else edit1.Text:='Login failed!!'
end",322,"1"
"WINE-5755","oleaut32: MS Dao3.5 fails to evaluate SELECT ... WHERE X & FieldName & X LIKE XXX query","Using DAO 3.5 (the engine for MS Access 97 databases) and Wine 0.9.17
I've got a trouble:

when I launch a query that uses expression like this:
SELECT CategReport FROM TReport WHERE X & DefaultFor & X LIKE XXX
the query fails...

The console log says:
----
fixme:variant:VarCat Failed to convert right side from vt 1 to VT_BSTR?
----
Replacing the builtin OLEAUT32.DLL with the native DLL everything works
ok.

The attached minimal project reproduce the problem before starting it install
standard Dao 3.5 setup from MS or install
http://download.danea.it/demo/def2006demo09b.exe (that is my SW it install a
minimal Dao3.5)

BTW this is the minimal bit of Delphi code to reproduce the problem:

procedure TForm1.Button3Click(Sender: TObject)
var
    daodbeng: DAODBEngine
    daodb: DAODatabase
    daors: DAORecordset
begin
    try
        daodbeng:= OpDAO35.CreateEngine
        daodb:= daodbeng.OpenDatabase(ChangeFileExt(Application.ExeName
'.mdb') false false '')

        // This works under Windows fails under Wine:
        // log: fixme:variant:VarCat Failed to convert right side from vt 1 to
VT_BSTR?
        daors:= daodb.OpenRecordset('SELECT CategReport FROM TReport WHERE X &
DefaultFor 

        showmessage('OK')

        daors.Free
        daodb.Free
        daodbeng.Free
    except
        on e: Exception do
            ShowMessage('Exception: ' + e.ClassName + ' Msg: ' + e.Message)
    end
end",1,"0"
"WINE-27961","psdk2003 failed to install ACTION_InstallFiles Failed to ready media for Lqithunk_s.6720DB2A_1A21_4E82_940E_95044B030B06","My wine version is wine-1.3.25 with Hans Leidekker's patch for Bug 27957.

Use winetricks to install psdk2003 choose Custom Install then select the compose Mircosoft Windows Core SDK/Build Environment/(x86) and Debugging Tools for Windows. After a long wait the Setup failed with some logs like below: 

fixme:urlmon:DownloadBSC_OnStopBinding No cache file
err:msi:ready_media Failed to download LC:\\users\\fracting\\Local Settings\\Temporary Internet Files\\Content.IE5\\GGBCDSFNPSDK-AMD64_o-common.0[0]..cab (1627)
err:msi:ACTION_InstallFiles Failed to ready media for Lqithunk_s.6720DB2A_1A21_4E82_940E_95044B030B06
err:msi:ITERATE_Actions Execution halted action LInstallFiles returned 1627
err:msi:ITERATE_Actions Execution halted action LExecuteAction returned 1627
fixme:wininet:InternetLockRequestFile STUB
fixme:urlmon:DownloadBSC_OnStopBinding No cache file
err:msi:ready_media Failed to download LC:\\users\\fracting\\Local Settings\\Temporary Internet Files\\Content.IE5\\C9XZA9J2PSDK-AMD64_o-common.0[0]..cab (1627)
err:msi:ACTION_InstallFiles Failed to ready media for Lqithunk_s.6720DB2A_1A21_4E82_940E_95044B030B06",2,"0"
"WINE-581","Weird contextmenu appearing on Open common dialogbox","Launch notepad for example and File|Open to open Openfile dialog 
select Detailled view. 
Double-click inside the listview on a blank zone causes a 
context menu to appears at coord (00) of the screen.

Cause :
In listview.c we are sending LVM_ITEMSELECTA on doubleclick :
we see in LISTVIEW_LButtonDblClk()) : hdr_notify(hwnd LVN_ITEMACTIVATE)

From shell32/shlview.c ShellView_OnNotify() we have :

    case LVN_ITEMACTIVATE:
        TRACE(-- LVN_ITEMACTIVATE %p\nThis)
        OnStateChange(This CDBOSC_SELCHANGE)  /* the browser will get the
IDataObject now */
        ShellView_DoContextMenu(This 0 0 TRUE)
        break

Tested on Wine-20020411 (and previous releases)",1241,"1"
"WINE-7923","Game (Mount&Blade) crashes immediately when starting","I get the following when starting in terminal window:

fixme:reg:GetNativeSystemInfo (0x36af492) using GetSystemInfo()
fixme:toolhelp:CreateToolhelp32Snapshot Unimplemented: heap list snapshot

This is accompanied by the error message:

Themidia
An internal exception occured (Address: 0x36f08ae)
Please contact support@oreans.com. Thank you!

After clicking OK on the error message the game aborts and I get the console
prompt again. Starting using the desktop icon results in the same error message
and the game not launching.",438,"1"
"WINE-43930","iCopy 1.6.x (.NET 2.0 app) crashes on startup (IWiaDevMgr::SelectDeviceDlg DeviceID pointer parameter can be NULL needs be declared 'unique' for RPC marshalling)","Wine Staging 2.19
iCopy-1.6.3.exe
http://sourceforge.net/projects/icopy/files/

$ wine iCopy.exe
fixme:winediag:start_process Wine Staging 2.19 is a testing version containing experimental patches.
fixme:winediag:start_process Please mention your exact version when filing bug reports on winehq.org.
fixme:heap:RtlSetHeapInformation (nil) 1 (nil) 0 stub
fixme:process:SetProcessDEPPolicy (1): stub
fixme:heap:RtlSetHeapInformation (nil) 1 (nil) 0 stub
fixme:mscoree:ConfigFileHandler_startElement Unknown element LconfigSections in state 2
fixme:mscoree:ConfigFileHandler_startElement Unknown element LsectionGroup in state 6

mscoree repeats ~ 20 more times

Unhandled Exception:
System.NullReferenceException: Object reference not set to an instance of an object
  at iCopy.PortableSettingsProvider.SetValue (System.Configuration.SettingsPropertyValue propVal) [0x000ee] in :0 
  at iCopy.PortableSettingsProvider.SetPropertyValues (System.Configuration.SettingsContext context System.Configuration.SettingsPropertyValueCollection propvals) [0x00015] in :0 
  at System.Configuration.SettingsBase.SaveCore () [0x000a1] in :0 
  at System.Configuration.SettingsBase.Save () [0x00014] in :0 
  at System.Configuration.ApplicationSettingsBase.Save () [0x00017] in :0 
  at iCopy.appControl.Main (System.String[] sArgs) [0x00030] in :0 
[ERROR] FATAL UNHANDLED EXCEPTION: System.NullReferenceException: Object reference not set to an instance of an object
  at iCopy.PortableSettingsProvider.SetValue (System.Configuration.SettingsPropertyValue propVal) [0x000ee] in :0 
  at iCopy.PortableSettingsProvider.SetPropertyValues (System.Configuration.SettingsContext context System.Configuration.SettingsPropertyValueCollection propvals) [0x00015] in :0 
  at System.Configuration.SettingsBase.SaveCore () [0x000a1] in :0 
  at System.Configuration.SettingsBase.Save () [0x00014] in :0 
  at System.Configuration.ApplicationSettingsBase.Save () [0x00017] in :0 
  at iCopy.appControl.Main (System.String[] sArgs) [0x00030] in :0",156,"0"
"WINE-10816","In Photoshop 7 funny text displayed in Save for Web section under number of colours","In 
http://appdb.winehq.org/objectManager.php?sClass=version&iId=1336  
Peter Cartright said:

4. Funny text displayed in Save for Web section under number of colours.",1,"0"
"WINE-17921","Just a translation problem","It is just a translation problem.
I am currently using Wine 1.1.18 simplified Chinese under ubuntu. Everything works fine but for the translation of word Apply it used the tradition Chinese notation rather than simplified Chinese one.
Not a big problem however solving it can make this program better.",232,"1"
"WINE-5435","not possible no use more than 1.2GB of memory","I've got a simple (32bit) windows application (compiled in Borland c++
builder):

int *p
while(1) {
    p = new int[10000000] //allocates 40 MB of memory

}

on Windows XP it crashes after 50 iterations (i.e. 2 GB allocated)

but on wine it crashes after 30 iterations (1200 MB allocated)

is it impossible to use 2gb of memory in wine? why only 1.2GB is
available?

I've got wine 0.9.13 linux 2.4 (wine 0.9.15 or linux 2.6 doesn't make any
difference)
2.5GB of physical RAM and 4GB of swap.",644,"1"
"WINE-297","implement PeekNamedPipe","I have an app which fails to execute the last thing it does before it dies is
print the above as debug.

fixme:win32:PeekNamedPipe (0000003c (nil) 00000000 (nil) 0x407242a0 (nil)):
stub",378,"1"
"WINE-30246","EA Origin:Crashes when using openssl 1.0.1","Created attachment 39501
Wine output of origin.exe with openssl 1.0.1

After upgrading my archlinux x86_64 installation to openssl 1.0.1 running Origin immediately pops up the crash dialog. I have included the wine output.

Reverting to openssl 1.0.0g (only 32bit was necessary) makes it run as it did before.

I normally run a wow64 envirenment but i have also tried a pure 32bit install with no different result.",323,"1"
"WINE-11840","Cygwin apps can't start up fail creating a mailslot","Installing Cygwin with all defaults works fine up until it
tries to run the postinstall bash scripts.
When it fails kill it then just try to run bash you'll
get the same error.  Here's a log it shows a problem creating a
mailslot immediately before the crash.  Our current mailslot conformance
test doesn't test quite this kind of path fwiw.

0009:Call KERNEL32.CreateFileA(61169e60 \\\\.\\mailslot\\cygwin\\dev\\kmsg400000000000000761109448000000030000000000000000) ret=6102f82c
trace:file:CreateFileW L\\\\.\\mailslot\\cygwin\\dev\\kmsg GENERIC_WRITE FILE_SHARE_READ FILE_SHARE_WRITE FILE_SHARE_DELETE  creation 3 attributes 0x0
trace:file:RtlDosPathNameToNtPathName_U (L\\\\.\\mailslot\\cygwin\\dev\\kmsg0x68afd0(nil)(nil))
trace:file:RtlGetFullPathName_U (L\\\\.\\mailslot\\cygwin\\dev\\kmsg 520 0x68ad14 (nil))
trace:ntdll:NtCreateFile handle=0x68afd8 access=40000000 name=L\\??\\mailslot\\cygwin\\dev\\kmsg objattr=00000042 root=(nil) sec=(nil) io=0x68afc8 alloc_size=(nil)
attr=00000000 sharing=00000007 disp=1 options=00000050 ea=(nil).0x00000000
0009: open_file_object( access=40000000 attributes=00000042 rootdir=(nil) sharing=00000007 options=00000050 filename=L\\??\\mailslot\\cygwin\\dev\\kmsg )
0009: open_file_object() = OBJECT_NAME_NOT_FOUND { handle=(nil) }
warn:file:CreateFileW Unable to create file L\\\\.\\mailslot\\cygwin\\dev\\kmsg (status c0000034)
trace:file:CreateFileW returning 0xffffffff
0009:Ret  KERNEL32.CreateFileA() retval=ffffffff ret=6102f82c
...
trace:seh:raise_exception code=c0000005 flags=0 addr=0x61047509
...
1003758 [main] bash 8 _cygtls::handle_exceptions: Exception: STATUS_ACCESS_VIOLATION
1011769 [main] bash 8 open_stackdumpfile: Dumping stack trace to bash.exe.stackdump
1088615 [main] bash 8 _cygtls::handle_exceptions: Exception: STATUS_ACCESS_VIOLATION
1090961 [main] bash 8 _cygtls::handle_exceptions: Error while dumping state (probably corrupted stack)",14,"0"
"WINE-29924","control and inetcpl show some texts in wrong language","LC_MESSAGES=en_GB.UTF-8 LC_CTYPE=fr_FR.UTF-8 ./wine control

The command above makes Wine use mostly English but a few texts are in French instead: the Control panel title the inetcpl menu item and description inetcpl title and the text that should say Security settings for zone: on the Security tab.

Using en_US instead of en_GB works fine. Apparently Wine does something strange when it can't find a translation that matches exactly the given LC_MESSAGES locale.

How to reproduce:
* Make sure you have the required locales on your system
* Set LC_MESSAGES=en_GB.UTF-8
* Set LC_CTYPE=fr_FR.UTF-8
* Run wine control",1089,"1"
"WINE-5353","Windows Installer 3.1 cannot install because of unimplemented function setupapi.SetupGetSourceInfoA","Assuming you get past bugs 5351 and 5352 the Windows Installer installation
crashes on a call to unimplemented function setupapi.SetupGetSourceInfoA. 
Adding a stub might help the situation a bit.",57,"0"
"WINE-22861","XML Copy Editor hangs when editing a file","Created attachment 28254
terminal log

Installed in a clean wine prefix.
Open an XML file.
Attempt to delete a word.
Editor hangs.
Terminal log attached.",174,"0"
"WINE-7814","EVE Online mini maps in agent missions/browser are corrupted","If you take an agent mission you get a mini map showing you the location. This
mini map is corrupted in the mission briefing.
This happens as well when checking the ingame browser documentation at
http://bughunters.addix.net/igbtest/ingametest5.html with the ingame browser.

The correct map sometimes blinks up but is overdrawn with random stuff within a
second.",642,"1"
"WINE-7380","Crash in FoxIT 2.0 Adobe Flash CS3 WinMerge diff in Dreamweaver 8","Wine crashes while running Foxit PDF reader.",400,"1"
"WINEHQ_BUGZILLA-7251","Email and Numbering search slightly broken","The Email and Numbering query misbehaves - the Any of checkboxes work as
All of (AND instead of OR)

How to reproduce: search for your own EMail address with only commenter -
search again with bug owner added...",198,"0"
"WINE-35760","gdi32:font test_fullname2() fails on Windows 7 in the French locale","The fg-win7u64-fr VM gets a lot of errors like the following:
http://test.winehq.org/data/tests/gdi32:font.html

font.c:4855: Checking font Arial:
FamilyName: Arial FaceName: Arial Bold Italic StyleName: Bold Italic
font.c:4884: no localized FONT_FAMILY found.
font.c:4905: Test failed: font face names don't match: returned Arial Bold Italic expect Arial Gras Italique
font.c:4919: Test failed: style names don't match: returned Bold Italic expect Gras Italique
font.c:4928: no localized UNIQUE_ID found.

Despite our expectations the style names are clearly not being localized.
Yet that VM is a Windows 7 Ultimate installation where all the locales have been set to French:

SystemDefaultLCID	40c
UserDefaultLCID	40c
ThreadLocale	40c
UserDefaultUILanguage	40c
ThreadUILanguage	40c

Interestingly there are other French machines where this does not happen: fg-acer64-w81-t32  A French Windows 8.1 installed on my Acer laptop
fg-win2000-uplast  A French Windows 2000 installed in a VMware VM",172,"0"
"WINE-3331","Launch another Application Hangs","We have a Win32 installer application written in C++ . Thie application does 
the following

1. prompt for assorted licensing stuff
2. creates the main application executable. The new exe is created from static 
data in this executable using simple file open/write/close C commands. The file 
handle is closed.
3. Using WinExec then new application is run. The installer then exits.
4. The new and main application then should run normally

Under Windows 2000/XP this process works correctly.

Using Wine the second application runs but hangs. Traces show the application 
starts up but it never receives any messages via its DialogProc. The main 
window never refreshes.

Please note I have tried using WinExec CreateProcess ShellExecute to run the 
application and all fail in the same way.

We get a lot of info on the console around the run



fixme:win:SetWindowTextA setting text 0dB of other process window (nil) 
should not use SendMessage
fixme:keyboard:RegisterHotKey (0x2003c00x00000000113): stub
fixme:keyboard:RegisterHotKey (0x2003c10x00000000114): stub
fixme:keyboard:RegisterHotKey (0x2003c20x00000000115): stub
fixme:keyboard:RegisterHotKey (0x2003c30x00000000116): stub
fixme:keyboard:RegisterHotKey (0x2003c40x00000000117): stub
fixme:keyboard:RegisterHotKey (0x2003c50x00000000118): stub
fixme:keyboard:RegisterHotKey (0x2003c60x00000000119): stub
fixme:keyboard:RegisterHotKey (0x2003c70x00000000120): stub
fixme:keyboard:RegisterHotKey (0x2003c80x00000000121): stub
wine: Unhandled exception (thread 0012) starting debugger...
WineDbg starting on pid 0x10
Unhandled exception: page fault on write access to 0x7d9ffd80 in 32-bit code 
(0xb7f6b77b).
In 32 bit mode.
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:0033 GS:0000
 EIP:b7f6b77b ESP:7d8fba60 EBP:7d8fbb58 EFLAGS:00210246(   - 00      -RIZP1)
 EAX:00000000 EBX:b7f76ff8 ECX:7d8fba80 EDX:7d8fbba0
 ESI:7d8fbba0 EDI:7d9ffd80
Stack dump:
0x7d8fba60:  7d8fba88 00000000 00000000 00000000
0x7d8fba70:  7d9ffd80 b7e13eb0 7c0ba13c 7c0ba138
0x7d8fba80:  00000000 00000000 b7f76ff8 7d8fbba0
0x7d8fba90:  b7f76cc0 7d8fbb58 7d8fba60 b7f6b766
0x7d8fbaa0:  00000000 00000000 00000000 00000000
0x7d8fbab0:  00000000 00000000 00000000 00000000
Backtrace:
=>1 0xb7f6b77b _dl_catch_error+0x6b in ld-linux.so.2 (0x7d8fbb58)
  2 0xb7e142c1 _dlerror_run+0xb1 in libdl.so.2 (0x7d8fbb88)
  3 0xb7e13e6c GLIBC_2+0xe6c in libdl.so.2 (0x7d8fbbbc)
fixme:dbghelp:elf_load_debug_info_from_map Alpha-support for Dwarf2 information 
for libx11.so.6
  4 0x7f2c1e9c in libx11.so.6 (+0x7fe9c) (0x7d8fbbdc)
  5 0x7f2c2680 in libx11.so.6 (+0x80680) (0x7d8fc42c)
  6 0x7f291abc in libx11.so.6 (+0x4fabc) (0x7d8fc44c)
  7 0x7f37ebdf X11DRV_SetupXIM+0xbf in winex11.drv (0x7d8fc48c)
  8 0x7f37718f x11drv_init_thread_data+0x13f in winex11.drv (0x7d8fc4a8)
  9 0x7f36ee2c X11DRV_CreateDesktopWindow+0x11c in winex11.drv (0x7d8fc4d4)
  10 0x7fa3a002 GetDesktopWindow+0xa2 in user32 (0x7d8fc560)
  11 0x7fa36596 in user32 (+0x76596) (0x7d8fc56c)
  12 0x7fa365f2 DllMain+0x32 in user32 (0x7d8fc57c)
  13 0x7fa473b8 __wine_spec_dll_entry+0x28 in user32 (0x7d8fc59c)
  14 0x7ffbfb5e call_dll_entry_point+0x12 in ntdll (0x7d8fc5b4)
  15 0x7ffc0e39 in ntdll (+0x20e39) (0x7d8fc624)
  16 0x7ffc2c71 LdrShutdownThread+0xa1 in ntdll (0x7d8fc648)
  17 0x7ffdb0d5 RtlExitUserThread+0x15 in ntdll (0x7d8fc654)
  18 0x7fc8436e in kernel32 (+0x6436e) (0x7d8fc6dc)
  19 0x7fc840b2 in kernel32 (+0x640b2) (0x7d8fc7b0)
  20 0x7ffdacd1 in ntdll (+0x3acd1) (0x7d8fcfec)
  21 0xb7ed0b8a __clone+0x5a in libc.so.6 (0x00000000)
0xb7f6b77b _dl_catch_error+0x6b in ld-linux.so.2: movl  %ecx0x0(%edi)
Modules:
Module  Address                 Debug info      Name (82 modules)
PE      0x00400000-0049d000     Deferred        scribe
ELF     0x7bf00000-7bf07000     Deferred        
ELF     0x7d7e9000-7d7fd000     Deferred        joystick.drv
  \-PE  0x7d7f0000-7d7fd000     \               joystick.drv
ELF     0x7d9cb000-7d9fc000     Deferred        uxtheme
  \-PE  0x7d9d0000-7d9fc000     \               uxtheme
ELF     0x7de4c000-7df4b000     Deferred        libcrypto.so.0
ELF     0x7df4b000-7df7c000     Deferred        libssl.so.0
ELF     0x7df7c000-7df98000     Deferred        libcups.so.2
ELF     0x7dfab000-7dfc0000     Deferred        midimap
  \-PE  0x7dfb0000-7dfc0000     \               midimap
ELF     0x7e0dd000-7e0f6000     Deferred        msacm.drv
  \-PE  0x7e0e0000-7e0f6000     \               msacm.drv
ELF     0x7e0f6000-7e139000     Deferred        wineoss.drv
  \-PE  0x7e110000-7e139000     \               wineoss.drv
ELF     0x7e521000-7e53e000     Deferred        imm32
  \-PE  0x7e530000-7e53e000     \               imm32
ELF     0x7e53e000-7e55b000     Deferred        ximcp.so.2
ELF     0x7e55b000-7e563000     Deferred        libxrender.so.1
ELF     0x7efb8000-7f171000     Deferred        i915_dri.so
ELF     0x7f171000-7f1c3000     Deferred        libpthread.so.0
ELF     0x7f1c3000-7f22f000     Deferred        libgl.so.1
ELF     0x7f242000-7f30c000     --none--        libx11.so.6
ELF     0x7f30c000-7f324000     Deferred        libice.so.6
ELF     0x7f324000-7f39f000     Export          winex11.drv
  \-PE  0x7f340000-7f39f000     \               winex11.drv
ELF     0x7f39f000-7f3bf000     Deferred        libexpat.so.0
ELF     0x7f3bf000-7f3ee000     Deferred        libfontconfig.so.1
ELF     0x7f401000-7f412000     Deferred        libz.so.1
ELF     0x7f412000-7f477000     Deferred        libfreetype.so.6
ELF     0x7f48a000-7f4ac000     Deferred        msacm32
  \-PE  0x7f490000-7f4ac000     \               msacm32
ELF     0x7f4ac000-7f4d5000     Deferred        winspool.drv
  \-PE  0x7f4c0000-7f4d5000     \               winspool.drv
ELF     0x7f4d5000-7f560000     Deferred        comdlg32
  \-PE  0x7f4f0000-7f560000     \               comdlg32
ELF     0x7f560000-7f5db000     Deferred        winmm
  \-PE  0x7f570000-7f5db000     \               winmm
ELF     0x7f5db000-7f689000     Deferred        comctl32
  \-PE  0x7f5f0000-7f689000     \               comctl32
ELF     0x7f689000-7f6d3000     Deferred        rpcrt4
  \-PE  0x7f6a0000-7f6d3000     \               rpcrt4
ELF     0x7f6d3000-7f75a000     Deferred        ole32
  \-PE  0x7f6f0000-7f75a000     \               ole32
ELF     0x7f75a000-7f7b4000     Deferred        shlwapi
  \-PE  0x7f770000-7f7b4000     \               shlwapi
ELF     0x7f7b4000-7f873000     Deferred        shell32
  \-PE  0x7f7d0000-7f873000     \               shell32
ELF     0x7f873000-7f892000     Deferred        iphlpapi
  \-PE  0x7f880000-7f892000     \               iphlpapi
ELF     0x7f892000-7f8bb000     Deferred        ws2_32
  \-PE  0x7f8a0000-7f8bb000     \               ws2_32
ELF     0x7f8bb000-7f8d7000     Deferred        wsock32
  \-PE  0x7f8c0000-7f8d7000     \               wsock32
ELF     0x7f8d7000-7f913000     Deferred        advapi32
  \-PE  0x7f8f0000-7f913000     \               advapi32
ELF     0x7f913000-7f998000     Deferred        gdi32
  \-PE  0x7f930000-7f998000     \               gdi32
ELF     0x7f998000-7fab0000     Export          user32
  \-PE  0x7f9c0000-7fab0000     \               user32
ELF     0x7fbb7000-7fbc0000     Deferred        libxcursor.so.1
ELF     0x7fbc4000-7fbc8000     Deferred        iso8859-1.so
ELF     0x7fbc8000-7fbcb000     Deferred        xlcdef.so.2
ELF     0x7fbcb000-7fbce000     Deferred        libxrandr.so.2
ELF     0x7fbfa000-7fd00000     Export          kernel32
  \-PE  0x7fc20000-7fd00000     \               kernel32
ELF     0x7fe12000-7fe20000     Deferred        libxext.so.6
ELF     0x7fe20000-7fe2a000     Deferred        libnss_files.so.2
ELF     0x7fe2a000-7fe34000     Deferred        libnss_nis.so.2
ELF     0x7fe34000-7fe4a000     Deferred        libnsl.so.1
ELF     0x7fe4b000-7fe50000     Deferred        libxxf86vm.so.1
ELF     0x7fe54000-7fe5d000     Deferred        libsm.so.6
ELF     0x7fe5d000-7fe80000     Deferred        libm.so.6
ELF     0x7fe80000-7ff75000     Deferred        libwine_unicode.so.1
ELF     0x7ff77000-7ff7d000     Deferred        libxxf86dga.so.1
ELF     0x7ff7d000-7ff86000     Deferred        libnss_compat.so.2
ELF     0x7ff88000-80000000     Export          ntdll
  \-PE  0x7ffa0000-80000000     \               ntdll
ELF     0xb7e13000-b7e17000     Export          libdl.so.2
ELF     0xb7e17000-b7f34000     Export          libc.so.6
ELF     0xb7f35000-b7f4e000     Deferred        libwine.so.1
ELF     0xb7f61000-b7f78000     Export          ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
00000010 (D) C:\Program Files\NCH Swift Sound\Scribe\scribe.exe
        00000013   15
        00000012   -2 <==
        00000011    0
00000008 
        00000009    0
WineDbg terminated on pid 0x10",26,"0"
"WINE-10964","Prince of Persia The two Thrones: Upside is down if some text appears on the screen","I've tried PoP T2T and works almost perfectly: shows intro the game start and I can play with iy - however it must be start in safe mode. Almost perfectly except the screen is upside down if some text lifebar or other icons appear on the screen. 
I've tried with the latest version 0.9.51 too upside down remains but in this version the texts and cursor doesn't appear at all - so i cannot start the game.",852,"1"
"WINE-41347","TMIDI Player: Some characters and logos in LCD are rendered as black rectangles","Created attachment 55695
Screenshot (Wine 1.9.19)

Some characters (number characters ':' '/') and logos (XG GENERAL MIDI GS) in LCD are rendered as black rectangles.

Download (Japanese): http://hp.vector.co.jp/authors/VA010012/

----- Result of regression testing -----
b81a7d976e3c3de36a01401d125871d3014e6c67 is the first bad commit
commit b81a7d976e3c3de36a01401d125871d3014e6c67
Author: Alexandre Julliard 
Date:   Fri May 25 11:47:46 2012 +0200

    gdi32: Always use the DIB engine for monochrome bitmap rendering.

:040000 040000 feafcbbcb88944b1f24f7a41555876f66db37167 56c006bf256eab577327225e165bf59c06fc04c9 M      dlls",101,"0"
"WINE-28214","Eurofighter Typhoon crashes after starting","Created attachment 36133
terminal output

The game is an old (2001) arcade-ish flight sim utilizing DirectX 7. It has been recently re-released by DotEmu.

The problem: the game crashes right after starting in Wine-1.3.26. After crashing the process typhoon.exe doesn't exit but it still remains in memory consuming 100% cpu power until I kill it.
The game starts correctly in Wine-1.3.25.

The result of the regression test:

ace241ad595d1da0f0fc384a7065683fa00cac45 is the first bad commit
commit ace241ad595d1da0f0fc384a7065683fa00cac45
Author: Henri Verbeet 
Date:   Mon Aug 1 21:35:41 2011 +0200

    wined3d: Resolve source and destination rectangles in wined3d_surface_blt().

:040000 040000 29aac6db06ac6dba74c9b8a12e39c859cf80d483 8076af6d121572a5003492a25753da1d0c237d23 M	dlls

The patch cannot be reverted cleanly
git checkout ace241ad595d1da0f0fc384a7065683fa00cac45  >> the game crashes
git reset --hard HEAD^  >> the game loads to the main menu

Note: there might be another regression somewhere between 1.3.26 and 1.3.27. If I start the game in 1.3.27 I get an error message: 'Fatal error: failed to create material x_efa_1'. This error message has never seen before.

No demo available.
Please let me know if you need a log with specific debug channels enabled.

Fedora 15 x86
Nvidia gfx card / driver 280.13",12,"0"
"WINE-12628","Nokia S60 SDK 1.x: epoc32 emulator for Symbian OS crashes on unimplemented function hal.dll.ExAcquireFastMutex","I get the following error:
wine: Call from 0x7b840fc8 to unimplemented function
hal.dll.ExAcquireFastMutex aborting

It would be great if that function were implemented :)

(I'm running epoc.exe an emulator for Symbian development)",238,"1"
"WINE-41437","Implement a 64-bit version of __std_type_info_hash","Two weeks ago I saw commit 4931e6f92bc7e0c229a057ebf2e000f8f5aa1edd that (partially) implements __std_type_info_hash function.

Code was simple but the 64-bit version was not implemented as it was using different constants.
I thought: Findind a coefficient only requires time and patience let's do it!.

I had to find a value (noted as  here) that is such that (0xcbf29ce44fd0bfc1 ^ 0x1) *  = 0xaf63bc4c29620a60 or 0xcbf29ce44fd0bfc0 *  = 0xaf63bc4c29620a60.

I started with a naive implementation computing all  values from 0 to UINT64_MAX.
Was very long and very slow.
I optimized it using OpenMP (#pragma omp parallel) causing all my CPUs to work at 100%.
Still very slow and the topmost bit would be tested in ages.

I then had the idea to use a (pseudo-)random non-repeating number generator. This way all numbers would be tested in (pseudo-)random order and equally distributed on the 64-bit range. Plus with the known seed and index it would be posible to stop and continue the computation at the point it stopped.

I chose Blowfish algorithm and let it work for about a week and then realized I may need a better solution. Finding the 32-bit  value was very quick (less than a minute) but a 64-bit value is way larger and testing every bit takes a really long time.

Normally if I have something like 5 *  = 15 I can do 15/5 = 3 = .
Here we abuse overflow so mathematically it's more (0xcbf29ce44fd0bfc0 * ) mod 2^64 = 0xaf63bc4c29620a60.
I discovered we can actually do Modular multiplicative inverse to find an inverse of a number.  such as ( * a) mod x = 1
(a * ) mod x = b -->  mod x = b * 

I found a C++ implementation that finds the inverse of a number modulo another.
I started with the 32-bit version to test it (no mod 2^32 to make it concise):
(0x811c9dc5 ^ 0x1) *  = 0x040c5b8c
0x811c9dc4 *  = 0x040c5b8c

0x100000000=2^32
modInverse(0x811c9dc4 0x100000000) -> no inverse because 0x811c9dc4 is even

Anyway let's do it with 0x2:
(0x811c9dc5 ^ 0x2) *  = 0x070c6045
0x811c9dc7 *  = 0x070c6045
0x811c9dc7 inverse is 0xdce213f7

in other words (0x811c9dc7 * 0xdce213f7) mod 0x100000000 = 1
so 0x070c6045 * 0xdce213f7 =  = 0x1000193
we can verify that 0x811c9dc7 * 0x1000193 = 0x70c6045
and that 0x811c9dc4 * 0x1000193 = 0x40c5b8c
-> we have our 32-bit coefficient.

Note that 0x100000000 requires 33 bits so it's ok on my 64-bit computer but as you may have guessed 0x10000000000000000 (2^64) is 63 bits.
I tried using uint128_t but didn't work.

I then used GMP library (The GNU Multiple Precision Arithmetic Library) which lets me work on numbers as big as I have memory.

Let's do it again for the 64-bit version (mox 2^64 omitted):
(0xcbf29ce44fd0bfc1 ^ 0x1) *  = 0xaf63bc4c29620a60
0xcbf29ce44fd0bfc0 *  = 0xaf63bc4c29620a60
0xcbf29ce44fd0bfc0 has no inverse because 0xcbf29ce44fd0bfc0 is even

(0xcbf29ce44fd0bfc1 ^ 0x2) *  = 0xaf63bf4c29620409
0xcbf29ce44fd0bfc3 *  = 0xaf63bf4c29620409
0xcbf29ce44fd0bfc3 inverse is 0xdbab92123bd8a8eb
in other words (0xcbf29ce44fd0bfc3 * 0xdbab92123bd8a8eb) mod 0x10000000000000000 = 1

so 0xaf63bf4c29620409 * 0xdbab92123bd8a8eb =  = 0xa01b8255ca379c43
we can verify that 0xcbf29ce44fd0bfc3 * 0xa01b8255ca379c43 = 0xaf63bf4c29620409
BUT 0xcbf29ce44fd0bfc0 * 0xa01b8255ca379c43 != 0xaf63bc4c29620a60

I tested with 0x2 0x4 0x42 inverse is ok but  was always different and wasn't working: I was missing something.

I googled 0x1000193 and found out that it's a well-known number used in FNV-1 and FNV-1a hash algorithms (https://en.wikipedia.org/wiki/Fowler%E2%80%93Noll%E2%80%93Vo_hash_function).

Ideal 64-bit  (called FNV_prime) is 0xcbf29ce484222325 which slightly differs from our 0xcbf29ce44fd0bfc1. Since only the low word is changed I guessed it was a XOR operation on the low part. I tested 0xcbf29ce484222325 ^ i == 0xcbf29ce44fd0bfc1 in a loop and found i was 0xcbf29ce4. I retested with other values et voilà I found how it worked!

I just submitted a patch to fix this bug.

I posted a detailed explanation here to prove I didn't disassembled the native DLL and maybe to tell people it's not that hard to do useful things in wine. By the way it's a fun way to learn things!",2,"0"
"WINE-36242","valgrind shows several warnings/leaks in d3dx9_36/tests/core.c","==26485== Use of uninitialised value of size 4
==26485==    at 0x4E8A84FB: _itoa_word (in /usr/lib/libc-2.18.so)
==26485==    by 0x4E8ABB3E: vfprintf (in /usr/lib/libc-2.18.so)
==26485==    by 0x4E8D2452: vsnprintf (in /usr/lib/libc-2.18.so)
==26485==    by 0x4016DF9: wine_dbg_sprintf (debug.c:238)
==26485==    by 0x49A55BD: wine_dbgstr_point (debug.h:199)
==26485==    by 0x49A5ED2: ID3DXFontImpl_GetGlyphData (font.c:150)
==26485==    by 0x4C5AB29: test_ID3DXFont (core.c:506)
==26485==    by 0x4C5E997: func_core (core.c:1254)
==26485==    by 0x4CE82A0: run_test (test.h:584)
==26485==    by 0x4CE868F: main (test.h:654)
==26485==  Uninitialised value was created by a stack allocation
==26485==    at 0x4C58FDF: test_ID3DXFont (core.c:307)
==26485== 

also

==26485== 148 bytes in 1 blocks are possibly lost in loss record 589 of 925
==26485==    at 0x40087BA: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==26485==    by 0x7ABF6AF: ??? (in /usr/lib/libdrm_intel.so.1.0.0)
==26485==    by 0x7ABA294: drm_intel_bo_alloc (in /usr/lib/libdrm_intel.so.1.0.0)
==26485==    by 0x75CB078: ??? (in /usr/lib/dri/i965_dri.so)
==26485==    by 0x75CB21C: ??? (in /usr/lib/dri/i965_dri.so)
==26485==    by 0x7349438: ??? (in /usr/lib/dri/i965_dri.so)
==26485==    by 0x70FF5AD: shared_dispatch_stub_682 (in /usr/lib/libglapi.so.0.0.0)
==26485==    by 0x5D21517: buffer_direct_upload (buffer.c:677)
==26485==    by 0x5D222D2: buffer_internal_preload (buffer.c:871)
==26485==    by 0x5D228BC: wined3d_buffer_preload (buffer.c:934)
==26485==    by 0x5D2391D: wined3d_buffer_unmap (buffer.c:1120)
==26485==    by 0x5CB01D3: d3d9_device_DrawPrimitiveUP (device.c:2198)
==26485==    by 0x49DA863: d3dx9_sprite_Flush (sprite.c:462)
==26485==    by 0x4C58A3E: test_ID3DXSprite (core.c:261)
==26485==    by 0x4C5E98C: func_core (core.c:1253)
==26485==    by 0x4CE82A0: run_test (test.h:584)
==26485==    by 0x4CE868F: main (test.h:654)
==26485== 

and

==26591== 5242880 bytes in 1 blocks are definitely lost in loss record 925 of 925
==26591==    at 0x7AA86F1: ??? (in /usr/lib/libdrm_intel.so.1.0.0)
==26591==    by 0x7AA4378: drm_intel_bo_map (in /usr/lib/libdrm_intel.so.1.0.0)
==26591==    by 0x75B5114: ??? (in /usr/lib/dri/i965_dri.so)
==26591==    by 0x7331D3E: ??? (in /usr/lib/dri/i965_dri.so)
==26591==    by 0x70E3FAD: shared_dispatch_stub_477 (in /usr/lib/libglapi.so.0.0.0)
==26591==    by 0x5DCA57F: wined3d_surface_map (surface.c:3086)
==26591==    by 0x5CAAB15: d3d9_surface_LockRect (surface.c:269)
==26591==    by 0x4FA909E: D3DXLoadSurfaceFromMemory (surface.c:1814)
==26591==    by 0x4FA94DA: D3DXLoadSurfaceFromSurface (surface.c:1905)
==26591==    by 0x4F96A12: D3DXRenderToSurface_EndScene (render.c:319)
==26591==    by 0x4C1C620: check_ID3DXRenderToSurface (core.c:762)
==26591==    by 0x4C1D90B: test_ID3DXRenderToSurface (core.c:1029)
==26591==    by 0x4C1E9AD: func_core (core.c:1256)
==26591==    by 0x4CA82A0: run_test (test.h:584)
==26591==    by 0x4CA868F: main (test.h:654)
==26591== 

and one possible leak:

==26831== 148 bytes in 1 blocks are possibly lost in loss record 591 of 919
==26831==    at 0x40087BA: calloc (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==26831==    by 0x7AAB6AF: ??? (in /usr/lib/libdrm_intel.so.1.0.0)
==26831==    by 0x7AA6294: drm_intel_bo_alloc (in /usr/lib/libdrm_intel.so.1.0.0)
==26831==    by 0x75B7078: ??? (in /usr/lib/dri/i965_dri.so)
==26831==    by 0x75B74E1: ??? (in /usr/lib/dri/i965_dri.so)
==26831==    by 0x73332FA: ??? (in /usr/lib/dri/i965_dri.so)
==26831==    by 0x70E3BFD: shared_dispatch_stub_462 (in /usr/lib/libglapi.so.0.0.0)
==26831==    by 0x5DC1265: surface_prepare_buffer (surface.c:563)
==26831==    by 0x5DC1759: surface_prepare_map_memory (surface.c:608)
==26831==    by 0x5DCA3A9: wined3d_surface_map (surface.c:3049)
==26831==    by 0x5CAAB15: d3d9_surface_LockRect (surface.c:269)
==26831==    by 0x4FA909E: D3DXLoadSurfaceFromMemory (surface.c:1814)
==26831==    by 0x4FA94DA: D3DXLoadSurfaceFromSurface (surface.c:1905)
==26831==    by 0x4F96A12: D3DXRenderToSurface_EndScene (render.c:319)
==26831==    by 0x4C1C620: check_ID3DXRenderToSurface (core.c:762)
==26831==    by 0x4C1D90B: test_ID3DXRenderToSurface (core.c:1029)
==26831==    by 0x4C1E9AD: func_core (core.c:1256)
==26831==    by 0x4CA82A0: run_test (test.h:584)
==26831==    by 0x4CA868F: main (test.h:654)
==26831==",123,"0"
"WINE-11160","PAF 5 installer hangs in menu builder","The Personal Ancestral File (PAF) 5 installer hangs near the end of the procedure.  Several processes are left behind the last two being menu builder processes.  Most processes show a wchan of pipe_wait.  This is the first time this symptom (or anything similar) has been seen.  I'll try to attach the output of 'ps augxww' and the wchan info.",30,"0"
"WINE-20008","joystick's POV doesn't work when using evdev","When using evdev joystick's POV doesn't work. Tested on 1.1.29 and 1.1.28. It works fine on 1.1.27.

Traced it to a bad inst_id in dll/dinput/joystick_linuxinput.c function joy_polldev().
The line:
inst_id = DIDFT_MAKEINSTANCE(axis) | (axis < 8 ? DIDFT_ABSAXIS : DIDFT_POV)
should read:
inst_id = axis < 8 ? DIDFT_MAKEINSTANCE(axis) | DIDFT_ABSAXIS : DIDFT_MAKEINSTANCE(axis - 8) | DIDFT_POV

The wrong inst_id resulted in POV events not being queued via queue_event().",1,"0"
"WINE-26120","kernel32/sync tests shows a few valgrind warnings","Conditional jump or move depends on uninitialised value(s)
    at  memcpy (mc_replace_strmem.c:635)
    by  NTDLL_create_struct_sd (sync.c:118)
    by  NtCreateEvent (sync.c:265)
    by  CreateEventExW (sync.c:489)
    by  CreateEventExA (sync.c:452)
    by  CreateEventA (sync.c:420)
    by  test_event (sync.c:301)
    by  func_sync (sync.c:1044)
    by  run_test (test.h:556)
    by  main (test.h:624)
  Uninitialised value was created by a stack allocation
    at  NTDLL_create_struct_sd (sync.c:66)
 
appears 4 times.",590,"1"
"WINE-35067","Populous: The Beginning crashes on start in D3D mode","Created attachment 46772
terminal output

When the game is started in D3D mode (D3DPopTB.exe) the screen turns black and Wine crashes. The software rendering mode (popTB.exe) works as expected.

This is a regression from Wine 1.7.8:

74e3f516bc331205474835811d3984b9c53b0f35 is the first bad commit
commit 74e3f516bc331205474835811d3984b9c53b0f35
Author: Henri Verbeet 
Date:   Wed Dec 4 09:49:34 2013 +0100

    ddraw: Attach the first surface in the swap chain to the last one.

Reverting the patch fixes the problem.

Fedora 19
X.Org X Server 1.14.4
Nvidia binary drivers 325.15",5,"0"
"WINE-37437","RIM BlackBerry Device Manager crashes due to unimplemented function KERNEL32.dll.CancelTimerQueueTimer","Created attachment 49801
Crash log

wine not installing nikon and blackberry software on linux",4,"0"
"WINE-2711","IE6 does not start because of unimplemented function : shdocvw.dll.IEWinMain","please fix

I have try to install IE6 on latest wine (either cvs and mandrake cooker
package) I get the following errors and I am not able to start IE6 (for testing
my website under IE only!)

I have the following error code I hope it will help :

fixme:shell:StopWatchMode () stub!
fixme:seh:EXC_RtlRaiseException call (from 0x401ecd) to unimplemented function
shdocvw.dll.IEWinMain
fixme:shell:MLGetUILanguage () stub
fixme:imm:ImmDisableIME (-1): stub
wine: Unhandled exception (thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: unimplemented function shdocvw.dll.IEWinMain called in
32-bit code (0x7763c053).
In 32 bit mode.
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:003b GS:0033
 EIP:7763c053 ESP:77a9fdf8 EBP:77a9fe5c EFLAGS:00200212(   - 00      - -IA1)
 EAX:77a9fe04 EBX:77647554 ECX:77be6c80 EDX:004018ab
 ESI:7775d7c0 EDI:00401350
Stack dump:
0x77a9fdf8:  777b22c0 77a9fe3c 7763c00c 80000100
0x77a9fe08:  00000001 00000000 00401ecd 00000002
0x77a9fe18:  776423e0 776423ec 00000000 00000000
0x77a9fe28:  00401350 77a9fe3c 77774570 7775d7c0
0x77a9fe38:  00401350 77a9fe6c 7775d802 80000001
0x77a9fe48:  00401350 00000000 000f003f 77a9fe5c
Backtrace:
=>1 0x7763c053 __wine_unimplemented+0x53 in shdocvw (0x77a9fe5c)
  2 0x7763c07a __wine_stub_shdocvw_dll_102+0x0 in shdocvw (0x77a9fe7c)
  3 0x00401ecderr:dbghelp_msc:pdb_process_internal -Unable to peruse .PDB file
iexplore.pdb
 in iexplore (+0x1ecd) (0x77a9fecc)
  4 0x00401f7d  ?? +0x97 in iexplore (0x77a9ff2c)
  5 0x77b6a288 start_process+0xc8(arg=0x0)
[/home/rapsys/Documents/wine/dlls/kernel/process.c:1046] in kernel32 (0x77a9fff4)
  6 0xb7fd5a01 wine_mmap_is_in_reserved_area+0x71(addr=0x0 size=0x0)
[/home/rapsys/Documents/wine/libs/wine/mmap.c:471] in libwine.so.1 (0x00000000)
0x7763c053 __wine_unimplemented+0x53 in shdocvw: addl   $12%esp",241,"1"
"WINE-4409","Screen corruption in Evernote 1.1","* Evernote 1.1 (freely downloadable from    
http://www.evernote.com/en/)  
* native riched20.dll 
* The shaded border around the main window + the scrollbar are not drawn but 
are transparent instead 
* Some pictures pasted in the notes do not show up but are blank (Not sure if 
this a display problem or not though)",3278,"1"
"WINE-33004","Easy-PC V16 crashes in pcb editor","Created attachment 43613
Backtrace file

Easy-PC pcb editor crashes when editing. Wine V1.4.1 running on Kubuntu Linux 64bit.",61,"0"
"WINE-18006","Mp3tag: Crash when using Tag Sources feature","Mp3Tag v2.43 under wine 1.1.18 crashes while displaying the tracks found using the Tag Sources feature.

Steps to reproduce:

0. Download and install Mp3Tag v2.43 from http://download.mp3tag.de/mp3tagv243setup.exe
1. Open a directory with some mp3 files
2. Select one file in the file view
3. In main menu click on Tag Sources -> Amazon.com
4. Enter Avril
5. Select album X-Posed
6. Click Next
7. The results windows pops up and Mp3Tag crashes right afterwards

Tested on Gentoo Linux with both wine from repository and the current git version built with default settings.


Quoting Mp3Tag author:
http://forums.mp3tag.de/index.php?s=&showtopic=3646&view=findpost&p=36931

> Mp3tag uses the Listview control in callback mode where items are not 
> initialized with the actual item text but with a hint to the control that it 
> should ask back if it wants the text for a given item/subitem combination 
> (text set to LPSTR_TEXTCALLBACK and mask to LVIF_TEXT | LVIF_PARAM when 
> adding items). The application then handles the LVN_GETDISPINFO message and 
> provides the text only if necessary.
> 
> On native Windows this message is only sent when there is at least one 
> column to display text. This is not the case in Wine where the message is 
> also sent for Listviews which have no columns at all. Since the album you've 
> used for testing doesn't contain any title information on Amazon side no 
> column was added to the tracks list -- but Wine asked Mp3tag to display text 
> for the item in the list.
> 
> I think it's somewhere in dlls/comctl32/listview.c at LISTVIEW_GetItemT but 
> this is only a vague guess.",71,"0"
"WINE-5906","Rayman 3 Demo setup program (R3_Setup_DX8.exe) shows screen resolutions with 0 bitdepth","Possible modes reporded by R3_Setup_DX8.exe are:
640x480x0
800x600x0
..",448,"1"
"WINE-9156","images on buttons are drawn incorrectly (Network Assistant)","Network Assistant program.
Here is a screenshot http://appdb.winehq.org/appimage.php?iId=12416",1461,"1"
"WINE-34978","Many applications need a EnumDisplayDevicesW implementation for multi-monitor environment support (DisplayFusion Turbo Tax 2012 WPF 4.x .NET apps CEFv3 apps VS Code < 1.16.0)","I just realized that applications ported with wine do not detect multiple displays if they are set to use the MacDriver although they do when using X11.
Also while the displays (1 & 2) are detected as actual displays using X11 the MacDriver display is detected as X11 windowing system.

I included 2 screenshots to show the issue.",2042,"1"
"WINE-42665","Mafia III launcher fails to start (needs uiautomationcore.dll.UiaLookupId)","Game requires .NET Framework 4.5.1 but after installing still doesn't work.

fixme:mscoree:parse_supported_runtime sku=L.NETFrameworkVersion=v4.5.1 not implemented
fixme:mscoree:parse_probing privatePath=LLauncherLanguages not implemented
err:mscoree:mono_assembly_preload_hook_fn Failed to load LC:\\windows\\Microsoft.NET\\assembly\\GAC_64\\PresentationCore\\v4.0_4.0.0.0__31bf3856ad364e35\\PresentationCore.dll status=3
err:mscoree:mono_assembly_preload_hook_fn Failed to load LC:\\windows\\Microsoft.NET\\assembly\\GAC_64\\PresentationCore\\v4.0_4.0.0.0__31bf3856ad364e35\\PresentationCore.dll status=3
Invalid type System.Windows.Application for instance field System.Windows.Application:_appInstance
err:mscoree:mono_assembly_preload_hook_fn Failed to load LC:\\windows\\Microsoft.NET\\assembly\\GAC_64\\PresentationCore\\v4.0_4.0.0.0__31bf3856ad364e35\\PresentationCore.dll status=3
err:mscoree:mono_assembly_preload_hook_fn Failed to load LC:\\windows\\Microsoft.NET\\assembly\\GAC_64\\PresentationCore\\v4.0_4.0.0.0__31bf3856ad364e35\\PresentationCore.dll status=3
Can't find custom attr constructor image: C:\Program Files (x86)\Steam\steamapps\common\Mafia III\launcher.exe mtoken: 0x0a00000f due to: Could not load file or assembly 'PresentationCore Version=4.0.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35' or one of its dependencies. assembly:PresentationCore Version=4.0.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35 type: member:

Unhandled Exception:
System.TypeLoadException: Could not set up parent class due to: Could not load type of field 'System.Windows.Application:_mainWindow' (20) due to: Could not load file or assembly 'PresentationCore Version=4.0.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35' or one of its dependencies. assembly:PresentationCore Version=4.0.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35 type: member: assembly:C:\windows\Microsoft.NET\assembly\GAC_MSIL\PresentationFramework\v4.0_4.0.0.0__31bf3856ad364e35\PresentationFramework.dll type:Application member:
[ERROR] FATAL UNHANDLED EXCEPTION: System.TypeLoadException: Could not set up parent class due to: Could not load type of field 'System.Windows.Application:_mainWindow' (20) due to: Could not load file or assembly 'PresentationCore Version=4.0.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35' or one of its dependencies. assembly:PresentationCore Version=4.0.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35 type: member: assembly:C:\windows\Microsoft.NET\assembly\GAC_MSIL\PresentationFramework\v4.0_4.0.0.0__31bf3856ad364e35\PresentationFramework.dll type:Application member:

wine-2.3-255-ga503139",5,"0"
"WINE-12817","Music in Solfege still loopback repeatedly","This bug has been plaguing me for years.  At first it was said to be due to the buffer underrun error in dsound but now that the buffer underrun problem is fixed I still get the same result.

There is no error message only warning:

warn:dsound:DirectSoundDevice_SetCooperativeLevel level=DSSCL_PRIORITY not fully supported

and some messages about possible buffer underrun?

trace:dsound:DSOUND_PerformMix Buffer starting or buffer underrun


Solfege is one of the musical piano game series the other includes Angelic Concert Symphonic Rain etc... Because of this problem the music will not play which defeat main game play.

There are no trial version available is there anyway I can help to fix this bug?

Please find attached for the full error log.",131,"0"
"WINE-19030","Escape from Monkey Island - saving game freezes","When you save a game in EFMI the game is saved properly (can be succesfully loaded in the future) but the Saving Game screen does not go away. The game engine works because you can Alt-f4 and click YES but it seems like the game waits for some close() operation or sth.",756,"1"
"WINE-6455","Image That/Extend Demo: Tooltip background is draw over the text.","Hi!

Normally (in WinXP) there should be tooltips with gray background when using a 
simulation software from Imagine That Inc.
(Available from http://www.imaginethatinc.com/prods_demo.html.)

What appears to happen in Wine is that the tooltip (text) is drawn but then 
the background (gray color) overwrites the text. 

At least this is what I believe happens because if hovering over tooltip-ed 
buttons I now and then get a screen frame with the correct text a fractosecond 
before it's overdrawn.",457,"1"
"WINE-36086","Installation of Half-Life Opposing Force fails due to file ereg.dll being read-only","Installation of Half-Life Opposing Force fails when trying to act on file ereg.dll. Because the installation does not finish the game is unplayable. The file ereg.dll does copy to disk though so the installation can be completed by manually changing the file permissions on ereg.dll to read/write instead of read-only then running the installation again.",576,"1"
"WINE-5990","Ogre3d fails to install","Demo's nice for testing d3d/opengl stuff. The newest version (1.2.0) fails to
install. Attached is +msi log",1,"0"
"WINE-27115","Wild Earth: Photo Safari Demo: launcher screen is not functional without native ie7","Created attachment 34570
terminal output

Jacek let me know if you really need the regression test it worked for me a couple years ago but it's been broken since at least 1.2 and compiling really old wine will be a pain..

In wine-1.3.19-203-gf555c2d the launcher screen is non-functional instead showing the raw html code. Native ie7 gets a working launcher.

Terminal output attached.",266,"1"
"WINE-31615","Canon DPP freeze randomly since Wine 1.5.11","Canon Digital Photo Professional freeze randomly since updating to Wine 1.5.11 (and 1.5.12 for now). 

Wine 1.5.10 works ok.

After freeze DPP may unfreeze after minute or so or may not unfreeze. Compiz may eat CPU or may not eat.

As I suppose this issue may raise due Removal of the big X11 lock change in 1.5.11.

OS: Ubuntu 12.04.1 32 and 64 bit Unity environment.",115,"0"
"WINE-19016","Word Automation from .NET does not work","fixme:ole:serialize_param unhandled switch cases tattr->typekind 5

This causes Word Automation from .NET to not work.

Tell me how to get what logs you want and I'll be happy to provide them.",3434,"1"
"WINE-11295","Adobe Photoshop 6 and 7 crash on 24 bit screens if you activate them while there's an image in the clipboard","Created attachment 10385
+clipboard+seh+text+dialog log of Photoshop 7 crashing

I originally described this in a comment on bug 4523
but perhaps it deserves its own bug.

Start Firefox 2 and Photoshop 6 or 7
in wine.  Copy an image in Firefox.  (Oddly Firefox in Linux
doesn't seem to have a Copy Image option this is a Windows thing.)
Switch to Photoshop -- 
you don't even have to do anything but activate it --
and Photoshop crashes after putting up a dialog box
Could not complete your request because of a program error.
I'll attach a +text+seh+clipboard log of Photoshop 7 crashing like that.",39,"0"
"WINE-39212","cmd:batch fails if privileges not high enough","The following failures only happen if the test is run in a regular user account rather and an administrator account.

batch.c:312: Test failed: unexpected char 0x2b position 0 in line 1143 (got '+++' wanted '.foo=bar')
batch.c:312: Test failed: unexpected char 0x2d position 0 in line 1144 (got '--- resetting association' wanted '.foo=bar')
batch.c:312: Test failed: unexpected char 0x2d position 0 in line 1145 (got '--- resetting association' wanted '+++')
batch.c:312: Test failed: unexpected char 0x2d position 0 in line 1146 (got '--- resetting association' wanted '.foo=bar')
batch.c:312: Test failed: unexpected char 0x2b position 0 in line 1154 (got '+++' wanted 'footype=foo_opencmd')
batch.c:312: Test failed: unexpected char 0x2d position 0 in line 1155 (got '--- resetting association' wanted '.foo=footype')
batch.c:312: Test failed: unexpected char 0x2d position 0 in line 1156 (got '--- resetting association' wanted 'footype=foo_opencmd')
batch.c:312: Test failed: unexpected char 0x2d position 0 in line 1157 (got '--- resetting association' wanted '+++')
batch.c:312: Test failed: unexpected char 0x2d position 0 in line 1158 (got '--- resetting association' wanted 'footype=foo_opencmd')

This is most likely because the privileges are insufficient for the 'assoc .foo=bar' command despite the check at the start of the 'Testing assoc' section.


Currently these test failures happen on the following WineTest boxes: fg-win2000-rusr fg-winxp-lusr fg-win7u64-1spie9usr.
https://test.winehq.org/data/tests/cmd.exe:batch.html",75,"0"
"WINE-40704","foobar2000 v1.3.10 crashes on alt-F (file menu shortcut)","Created attachment 54588
foobar2000 crash handler log (alt-f)

Not-really-duplicate of Bug 7205 reported in 2007 and closed in 2008.

I'm using foobar2000 1.3.10. I first encountered this issue on Ubuntu 16.04 Cinnamon and Wine 1.6.2 x64 on a (I think) 32-bit wineprefix.

# Setup

* I also replicated this issue in Wine 1.9.10 32-bit (PlayOnLinux).
* To (hopefully) avoid foobar2000-specific tweaks I used [Install dialog] -> _Install a non-listed program_. Then I created a new app profile and 

# Instructions

* Install foobar2000 1.3.10.
* Open foobar2000. Press [Alt-F].

# Results

* foobar2000 crashes. The internal crash handler catches the crash and pops up a dialog.
* I clicked View Report and saved a crash log.
* Note that this bug is somewhat random. I've experienced GUI corruption Wine crash handler foobar2000 crash handler or no issues at all.

# Notes

* [Alt-Enter] crashes.

* [Alt] *focuses* the menu bar without crash. [Alt Enter] opens the File menu without crash.
    * Afterwards [Alt-F] etc. still crashes.

* Clicking on any menu opens that menu without crash.
    * Afterwards [Alt-F] etc. does NOT crash.
* Clicking the right-click menu keyboard key opens an undo/redo menu.
    * This also prevents crashes.",831,"1"
"WINE-25368","Age of Empires 3: mp3's don't play in gstreamer if a native codec is installed","This is a bit weird but the game installs its own codec l3codecx.ax. If you install the trial in wine-1.3.8-89-gfa12dd9 then apply the patch from bug 8978 mp3's (background music narrator's voice work fine. Using the same technique in the full version however fails.

If you do:
$ wine regsvr32 /u l3codecx.ax
$ wine age3.exe

the game will complain that it can't find its codec but then mp3's play fine.

It seems the trial doesn't install that codec only the full version does. For giggles I tried doing `winetricks -q l3codecx` with the trial installed but mp3s still work for it.",182,"0"
"WINE-23316","Yahoo messenger doesn't responding","When I run the latest Yahoo Messenger Full stand alone version The installation is working. When I run it under wine the login procedure is good however when it go to the main window of yahoo messenger. The whole program was slow and not responding. When the messenger notifies about new mails. Instead of fix notification window appeared on panel. The notification window stretched continuously and unstoppable and the notification window cant closed.",577,"1"
"WINE-39636","Assassin's Creed Syndicate crashes due to lack of DisplayConfigGetDeviceInfo in user32.dll","After trying to launch Assassin's Creed Syndicate it crashed and showed a message box with text: The procedure entry point DisplayConfigGetDeviceInfo could not be located in the dynamic link library USER32.dll. It doesn't matter whether it was started directly from exe file or from UPlay. I found out that this function was first introduced in Windows Vista so I tried to change operating system in winecfg from default Windows XP to Windows 7 but it didn't help either.",93,"0"
"WINE-14082","Anarchy Online Unable to save settings.","Created attachment 14303
Screenshot of the Error Window

When you install the game and try to run it it will not save your settings and will keep giving you errors about not being able to save your settings and to check your permissions. Linux ownerships/write setting are fine so Wine seems to be creating a bug somewhere along the lines.

Nothing in the terminal at all.

Creating a folder named prefs in the game's own folder fixes the problem so it looks like Wine isn't creating the folder when the game asks it to (thus it can't create the prefs file inside it).",643,"1"
"WINE-24255","iTunes 10.x does not install correctly","Created attachment 30536
stack trace for iTunes install

The 32-bit version of iTunes does not install correctly. The installer GUI completes but when launched you get the following error:

iTunes was not installed correctly. Please reinstall iTunes.
Error 7 (Windows error 998)",558,"1"
"WINE-21238","Stranded II: Bitmap loading errors","Some bitmaps in Stranded II are messed up with WINE but work fine in windows.
For example the mouse-cursor and title in main-menu are wrapped wrong. The left part is cut off and added on the right side. Here's an image:
http://appdb.winehq.org/appimage.php?iId=17662

I tried around a bit and found something about that. The mousecursor and title bitmaps (in mods/s2/sys/gfx/) are messed up ingame and both non-power-of-two textures. The shoot-cursor is 64x64 and looks ok. I resized them to make their width a power-of-two one. The title looks okay and the menu-cursor did too.
Then I made the shoot-cursor 63x63 and tested again. It was messed up then.

I will attach the bitmaps I used. You can download the game for free here:
http://stranded.unrealsoftware.de/s2_download.php (I suggest zip-download on the bottom of the page)",1259,"1"
"WINE-29186","QQ International 1.1 doesn't install properly","Created attachment 37653
QQ International 1.1 doesn't install properly in Wine

QQ International 1.1 doesn't install properly in Wine for Ubuntu 11.04

It says the InstAsm.exe has encounter a serious problem and needs to close",479,"1"
"WINE-8289","NVidia SDK: incorrect texture coordinates/rendering in pbuffer-related demos","With current (and previous) Wine versions NVidia SDK demos that use offscreen 
rendering (via pbuffer) do not render correct picture using wine. It looks like 
rendered image is moved halfway to the right and up so only it's corner is 
visible. This problem can be found in simple_pbuffer 
simple_framebuffer_object and hw_shadowmaps_simple demos. The other area of 
texture remain black. Those demos doesn't have this problem when running on 
Windows or when they are compiled natively. (I'll try to attach a screenshot 
with bug).

System configuration: Wine 0.9.35 running on Slackware 11 linux with 2.6.17.13 
kernel GeForce 7100GS videocard.",82,"0"
"WINE-28108","urlmon: url.ok occasional test failure: unexpected call OnProgress_SENDINGREQUEST","About one in 15 runs of urlmon's url test failed here with

url.c:1631: Test failed: unexpected call OnProgress_SENDINGREQUEST",1016,"1"
"WINE-20145","DrawIconEx() doesn't draw 1 bpp monochrome Icons correctly","Created attachment 23728
Test program to show differences between drawing 1 bpp icons in DrawIcon() and DrawIconEx()

The function DrawIconEx() doesn't handle Icons with 1 bpp correctly. 

I've attached a test program that will draw many different icons in a line with DrawIcon() and the same line of icons below with DrawIconEx() and DI_DEFAULTSIZE DI_NORMAL DI_COMPAT flags set - which should normally result in the exact same output.

The drawn icons are (fltr):

1 bpp 2x2 chessboard field
32 bpp white black red green blue icons without alpha channel
32 bpp white black red green blue icons with increasing values of alpha


This works fine in WindowsXP with 32-bit color depth (I'll attach a screenshot later).
In Wine the 1 bpp icon is distorted/squeezed the 32-bit icons are however drawn correct.

I'll search where the handling of 1 bpp icons differs in those two functions and fix DrawIconEx() accordingly.

When this is fixed the DrawIcon-Function could just call DrawIconEx with DI_DEFAULTSIZE DI_NORMAL DI_COMPAT flags (as suggested in http://msdn.microsoft.com/en-us/library/ms648065(VS.85).aspx and done by the test application) and therefore a lot of complicated duplicated code could be removed from dlls/user32/cursoricon.c.",269,"1"
"WINE-40851","macOS 10.12 Build Failure in winspool.drv with cupsGetPPD","Created attachment 54840
Homebrew Wine build log with 40830 patch applied

After applying the patch from bug 40830 I still experienced a build failure as seen in the trace log attached.

I haven't been able to find any changelog entry to explain why this would be a build failure in macOS 10.12 however from the extract below its feeling to me like the deprecated cupsGetPPD is being missed out however potential call. (I am still to verify the difference between the framework on my 10.11 version)

I wonder if the comment about the build flags from /Applications/Xcode-beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk/usr/include/cups/ppd.h may be required to be applied to switched (but I haven't validated if I am on the right track or wrong track)

--Extract from the Trace Log--
info.c:788:1: error: use of undeclared identifier 'cupsGetPPD' did you mean 'cupsGetFd'?
CUPS_FUNCS
^
info.c:779:13: note: expanded from macro 'CUPS_FUNCS'
    DO_FUNC(cupsGetPPD) \
            ^
/Applications/Xcode-beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk/usr/include/cups/cups.h:392:22: note: 'cupsGetFd' declared here
extern http_status_t    cupsGetFd(http_t *http const char *resource int fd)
                        ^
info.c:807:29: error: too few arguments to function call expected 3 have 1
    ppd = pcupsGetPPD( name )
          ~~~~~~~~~~~       ^
../../tools/winegcc/winegcc -o wintab.dll16.so -B../../tools/winebuild -m32 -fasynchronous-unwind-tables -shared wintab.dll16.spec \
  -m16 -Wb--main-modulewintab32.dll wintab.o ../../libs/port/libwine_port.a 
2 errors generated.
make[1]: *** [info.o] Error 1
make: *** [dlls/winspool.drv] Error 2
make: *** Waiting for unfinished jobs....

--Extract from the PPD.h file--
 * THESE APIS ARE DEPRECATED. TO COMPILE WITHOUT WARNINGS ADD
 * -D_PPD_DEPRECATED= TO YOUR COMPILE OPTIONS.  THIS HEADER AND THESE
 * FUNCTIONS WILL BE REMOVED IN A FUTURE RELEASE OF CUPS.

Regards
Alexander",14,"0"
"WINE-331","Wine does not correctly display symbol TrueType fonts","Hello!  I have a specialized math typesetting program that I would like to
run under Wine.  The program itself runs fine however it needs special
True Type symbol fonts for the mathematical symbols.  I have installed
these fonts and they show up fine in standard X programs such as xfontsel
and xfd.  However under Wine sometimes the right symbol is shown but
more often the wrong symbol from the same font is shown or just a blank
box is shown. The condition occurs in all of the Windows programs I have
tested most noticeably in the Windows Character Map and with all of my 
True Type symbol fonts (including the standard Windows Symbol font).  It 
seems to me that the problem could be related to codepage mappings or some 
similar mapping and thus might be easily fixed by someone with more 
knowledge.  On my system I am using RedHat Linux 7.1 with XFree86 4.0.3 and 
codeweavers wine 2001-06-29.
 
Any information about this problem would be greatly appreciated.
 
Thank you
 
Stephen",444,"1"
"WINE-4229","VFP controll buttons blank","In newer versions of Wine the window controlling buttons (minimize close
atc..) and rollup button are missing correct graphics.

I'll attach screenshot and do the regression testing if necessarry.",420,"1"
"WINE-25263","Biet-O-Matic calculates shipping cost wrong for German locale","Using this app with German locale the shipping cost is identified wrong: e.g. 400 instead of 400.

Reason: wine's oleaut32 has thousand separator support but in German locale the comma  is the decimal separator.

A regression test revealed the buggy patch:

506ff74bb17742b3be5a8824dc081a3e294ccf1d is the first bad commit
commit 506ff74bb17742b3be5a8824dc081a3e294ccf1d
Author: Damjan Jovanovic 
Date:   Mon Aug 25 20:40:20 2008 +0200

    oleaut32: Thousands separator support for VarFormat.

:040000 040000 a35f267fdf244a3c1d2233c6a80641803c2f355e 5857b6570b3fbe95ff3c8cf6506d926e0cff1c1e M      dlls",1822,"1"
"WINE-2528","IE6 Installation crashs then Debugger crashs","fixme:cursor:CURSORICON_SimulateLoadingFromResourceW Animated icons not
correctly implemented! 0x7f850000
fixme:cursor:CURSORICON_SimulateLoadingFromResourceW icon entry found! 0x7f850000
fixme:cursor:CURSORICON_SimulateLoadingFromResourceW icon size ok. offset=0x7f850074
err:module:import_dll No implementation for
NTDLL.dll.IoUnregisterDeviceInterface imported from
LC:\\Windows\\System\\CFGMGR32.dll setting to 0xdeadbeef
err:module:import_dll No implementation for
NTDLL.dll.IoUnregisterDeviceInterface imported from
LC:\\Windows\\System\\CFGMGR32.dll setting to 0xdeadbeef
fixme:dc:GetLayout (0x7c0): stub
fixme:cursor:CURSORICON_SimulateLoadingFromResourceW Animated icons not
correctly implemented! 0x7f4d0000
fixme:cursor:CURSORICON_SimulateLoadingFromResourceW icon entry found! 0x7f4d0000
fixme:cursor:CURSORICON_SimulateLoadingFromResourceW icon size ok. offset=0x7f4d0074
fixme:ole:CoCreateInstance no classfactory created for CLSID
{00021401-0000-0000-c000-000000000046} hres is 0x80040154
err:module:import_dll No implementation for
NTDLL.dll.IoUnregisterDeviceInterface imported from
LC:\\Windows\\System\\CFGMGR32.dll setting to 0xdeadbeef
fixme:advapi:GetFileSecurityW (Lc:\\Windows\\System\\rsaenh.dll) : stub
fixme:advapi:SetFileSecurityW (Lc:\\Windows\\System\\rsaenh.dll) : stub
fixme:advapi:GetFileSecurityW (Lc:\\Windows\\System\\enhsig.dll) : stub
fixme:advapi:SetFileSecurityW (Lc:\\Windows\\System\\enhsig.dll) : stub
fixme:advapi:GetFileSecurityW (Lc:\\Windows\\System\\schannel.dll) : stub
fixme:advapi:SetFileSecurityW (Lc:\\Windows\\System\\schannel.dll) : stub
fixme:advapi:GetFileSecurityW (Lc:\\Windows\\System\\schannel.dll) : stub
fixme:advapi:SetFileSecurityW (Lc:\\Windows\\System\\SET8a55.tmp) : stub
fixme:advapi:GetFileSecurityW (Lc:\\Windows\\INF\\iedom.inf) : stub
fixme:advapi:SetFileSecurityW (Lc:\\Windows\\INF\\iedom.inf) : stub
Please use the registry key HKEY_CURRENT_CONFIG\Software\Fonts\LogPixels
to set the screen resolution and remove the Resolution entry in the config file
Please use the registry key HKEY_CURRENT_CONFIG\Software\Fonts\LogPixels
to set the screen resolution and remove the Resolution entry in the config file
wine: Unhandled exception (thread 001b) starting debugger...
WineDbg starting on pid 0x1a

And then it stops. It does nothing else...",347,"1"
"WINE-15553","Interstate 76: scrambled screen when running in d3d","Created attachment 16549
screenshot

This is an old game that runs in software mode 3d3 and glide.

It can run in software d3d and glide mode.

In wine 1.0 all modes run perfectly apart from 2 cursors not showing in the car management screen

In wine 1.1.5 software mode runs perfectly with the cursors showing as normal but the d3d or glide version show a scrambled intro screen where you choose play options etc. and in between levels screen is scrambled at parts. In game though everything works as expected (all cars scenery etc dont show any important glitches)
tried with a clean install game patched to latest",1057,"1"
"WINEHQ_BUGZILLA-5201","create difficulty level query for bugs submitted","It would be nice if one could query bugs by difficulty level to implement the
solution for example the amount of code needed to be written amount of
debugging needed research much in same way the tasks are broken down to
fixmes tasklets and major tasks etc. Then one with limited time could search
for lighter level bugs or vice versa.",460,"1"
"WINE-18942","UT2004: freeze loading a match","Created attachment 21788
Screenshot when freezes

as Jesse Maurais said in http://appdb.winehq.org/objectManager.php?sClass=version&iId=5425 its impossible to load a game in UT2004 he described quite well the symptoms. In my case i can play the first preliminatory matchs on single player mode nexts never finish loading.

I just:
-rm -r .wine directory
-installed wine 1.1.23
-created the ./wine
-install Steam
-link steamApps dir and update UT2004
-Accepted the UT license and refuse install directX (cancel button)
-the game is running on OpenGL mode by the .ini config file

When the game runs in fullScreen mode and closed the screen config is altered and shows pretty much lightness (See attached PNG). When running windowed mode it not happens but freeze in the moment you can see in the attachment too (run first in fullscreen break my screen config and twice in windowed then freeze and taked a screenshot).

+seh attached but no idea if useful maybe a +relay?
the log dont show any err or lost dll i can make sense of.

sorry for my eng
if the report is invalid plz help me send correct information",358,"1"
"WINE-21239","Left 4 Dead 2 (Steam) crashes trying to join a multiplayer game","Created attachment 25524
Failure to join a dedicated server

On wine 1.1.35 (built from git at tags/wine-1.1.35) I can play single-player games of L4D2 quite happily but if I try to join a multiplayer game whether I've searched for it or created it I see the movie poster screen with the progress bar and immediately after the progress bar fills up the process exits abruptly. I will attach output of this happening and of a single player game working.

If I try instead to create a locally-hosted game (instead of dedicated) I get a hang instead of an exit at the same point (end of progress bar). I will attach the output of this as well.

The command in all cases was:

env WINEPREFIX=/home/foo/.wine wine C:\Program Files\Valve\Steam\steam.exe -applaunch 550

I have tried git 9dc584d0a2cae7cfb4816fe982071d264d2345ff Thu Dec 31 12:03:01 2009 +0000 with the same result.",1585,"1"
"WINE-28761","ddraw/tests: invalid writes in ddraw_surface7_Release and friends","While running make visual.ok in ddraw/tests valgrind complained
inside ddraw's reference counting code.  Log:

fixme:d3d:wined3d_device_set_render_target Surface 0x7fb4d7a0 doesn't have render target usage.
err:d3d:wined3d_device_uninit_3d Something is still holding a reference to depth/stencil buffer 0x7f0b24b8.
Invalid write of size 4
   at ddraw_surface_delete_attached_surface (surface.c:1628)
   by ddraw_surface_wined3d_object_destroyed (surface.c:5098)
   by wined3d_surface_decref (surface.c:2867)
   by wined3d_device_uninit_3d (device.c:1535)
   by ddraw_surface_cleanup (surface.c:446)
   by ddraw_surface_release_iface (surface.c:495)
   by ddraw_surface7_Release (surface.c:540)
   by func_d3d (d3d.c:203)
   by run_test (test.h:556)
   by main (test.h:624)
 Address 0x7f0b23f0 is 88 bytes inside a block of size 268 free'd
   at RtlFreeHeap (heap.c:262)
   by ddraw_surface_wined3d_object_destroyed (surface.c:5112)
   by wined3d_surface_decref (surface.c:2867)
   by ddraw_surface_destroy (surface.c:383)
   by ddraw_surface_cleanup (surface.c:428)
   by ddraw_surface_release_iface (surface.c:495)
   by ddraw_surface7_Release (surface.c:540)
   by ddraw_surface_delete_attached_surface (surface.c:1627)
   by ddraw_surface_wined3d_object_destroyed (surface.c:5098)
   by wined3d_surface_decref (surface.c:2867)
   by wined3d_device_uninit_3d (device.c:1535)
   by ddraw_surface_cleanup (surface.c:446)
   by ddraw_surface_release_iface (surface.c:495)
   by ddraw_surface7_Release (surface.c:540)
   by func_d3d (d3d.c:203)
   by run_test (test.h:556)
   by main (test.h:624)",922,"1"
"WINE-37949","eLicenser Control Center needs msvcr80.dll.__CxxRegisterExceptionObject","To reproduce:
1) winetricks -q dotnet20
2) download and install the application
3) run c:/Program Files/Syncrosoft/LCC/eLCC.exe
4) press Enter Activation Code
5) hold a keyboard key until after all mask input is completed.

wine: Call from 0x7b83b705 to unimplemented function msvcr80.dll.__CxxExceptionFilter aborting

I see bug 34841 for msvcr90 and bug 35657 for msvcr110 so I understand that each dll should have its own bug. If this is not true the bug can be closed as duplicate.",420,"1"
"WINE-10458","Poptray 3.2 external exception with hotmail","Created attachment 9166
Source code from hotmail plugin

I try to use hotmail plugin in poptray. When Poptray check it hotmail I get warning External exception E06D7363 and:

fixme:msxml:domdoc_QueryInterface interface {00000126-0000-0000-c000-000000000046} not implemented",1684,"1"
"WINE-38944","RebelBetting: Arb browser uses incorrect stakes","Created attachment 51888
wine-1.7.47-118-ga90592c console output

The arb browser in RebelBetting 5.5 incorrectly inputs a very large number in the total stakes editbox. Trying to correct it reports We're very sorry but a serious error have occured. [sic]

The default stakes are set in the options. In both cases I have left them as the default of 100.

1. winetricks -q dotnet40 (Bug 37883)
2. Install run log-in. (Login required)
3. Pick an arb and click Bet.
4. The total stake will be wildly off and any attempt to change it results in an error.

Attaching two screenshots: one under Windows 8.1 (behaving correctly) and one under wine-1.7.47-118-ga90592c (behaving incorrectly).

$ sha1sum RebelBettingSetup.exe 
b832243be689059a6b6f00dd772be861865d3f08  RebelBettingSetup.exe
http://rebelbetting.com/files/RebelBettingSetup.exe",1029,"1"
"WINE-19107","Overlord 2 - Game Crashes","When Running Ovelord2.exe the game chrashes. Wine Chrash window stays hidden buts shows when alt-tabbing

attatched Console output for >wine Overlord2.exe",422,"1"
"WINE-33109","Desura fails to update","After doing a new install of desura in a clean prefix I get the following error trying to start it: Failed to update Desura: Check sum failed on file \\desura.exe [49.0]

After running it for the first time desura.exe is replaced by an empty file so I can't try to start it at all.",504,"1"
"WINE-29095","DiskPulse: missing text","DiskPulse is a freeware real-time filesystem monitoring software.  The application utilizes the Qt framework.

The problem: all text disappeared in the application (menu options button text tooltips etc.).

Terminal shows only
fixme:process:SetProcessPriorityBoost (0xffffffff1): stub
fixme:imm:NotifyIME IMC_SETCANDIDATEPOS
fixme:imm:ImmReleaseContext (0x100c8 0x1603b8): stub
fixme:win:FlashWindowEx 0x319738

Text is displayed correctly in 1.3.32 and up until this commit:

e9612c1af06d09dbf03745535288575e05cacb56 is the first bad commit
commit e9612c1af06d09dbf03745535288575e05cacb56
Author: Huw Davies 
Date:   Mon Nov 14 12:49:07 2011 +0000

    gdi32: Add support for drawing text in the dib driver.

:040000 040000 d9ea0238bfba414b9640d7a48f65807488291503 a6d7d781b21fac960f105d095fdb8773c0042d21 M	dlls

The reverted patch fixed the problem.

Fedora 16 x86
X.Org X Server 1.11.2
Nvidia gfx card / driver 290.06",1,"0"
"WINE-14678","Office 2003 Pro installer page faults at end of install process","Created attachment 15138
Console output from Typical install

This is the bug mentioned by James Hawkins in comment #4 for bug 14439. This bug was present in 1.1.1 but I did not notice it then because bug 14439 prevented the installer from even getting that far. It is still present in 1.1.2.

The installer page faults at the end of the install process before the Install has completed successfully message appears. I'm uploading console output for both a Typical install and a Custom install of Word only. The installer page faults at the same point in both cases though the console messages immediately prior to it are different. 

Despite the page fault at the end the install itself seems to complete successfully Word at least opens up fine afterwards. (Though I didn't test it extensively.)

A regression test identified the following patch:

a2c1bdf1f853352d0895629f33554e0e82971e3c is first bad commit
commit a2c1bdf1f853352d0895629f33554e0e82971e3c
Author: Rob Shearman 
Date:   Mon Jun 30 23:05:28 2008 +0100

    oleaut32: Load string constants correctly from SLTG typelibs.

:040000 040000 c566b35ac0878175a15c3018b4711e8a81c6ff4f b734be2e20d05e9067fbe9851d7e455d25d343b3 M      dlls",3,"0"
"WINE-7235","locale specified in LANG is not respected in wine 0.9.29","This problem happens to be in wine 0.9.29 packages for Ubuntu Edgy in 
wine.budgetdedicated.com and ubuntu backports. It does not happen in wine 
0.9.22.

When I specify a different locale for wine e.g. LANG=ja_JP wine program.exe 
the specified locale is not respected. For example with notepad.exe included 
in wine the UI should have be shown in Japanese but it does not. In another 
program which has Japanese UI encoded in Shift_JIS I normally need to use 
LANG=ja_JP to have (at least parts of) it display correctly but now even with 
LANG=ja_JP wine tries to decode the text using its default encoding 
resulting in unreadable code.",374,"1"
"WINE-8078","Metatrader 4: Menu icons disappeared with 0.9.35","In Metatrader 4 (version 2.03) the menu icons no longer visible after updating
to latest version of wine 0.9.35. I have had no problems for about last 6
versions of wine but this was an issue about 6-8 versions ago.",1,"0"
"WINE-9043","Adobe InDesign CS tryout hangs on startup","A user on the InDesign forum asked why Adobe InDesign CS
doesn't run under wine:
http://www.listsearch.com/InDesign/Message/index.lasso?126340

Adobe InDesign CS trials are hard to come by at
adobe.com (anyone got a url?) but the central european
version is available at 
http://www.winsoft.eu/support/download-adobe-indesign.php

It installs ok but hangs on startup after displaying
the text Calling Late Initialisers...

The log seems inconclusive to my eyes.
The last thing before the hang are a bunch of lines of the form
fixme:typelib2:ICreateTypeInfo2_fnSetVarDocString (0x9482f30306LReplaced by
idWorking) stub!
fixme:typelib2:ICreateTypeInfo2_fnSetVarHelpContext (0x9482f3000) stub!
but those don't seem crucial offhand.

Native dcom and wsh56 don't help.",2683,"1"
"WINE-18613","Hero Lab hangs with an invisible message box while loading Mutants & Masterminds RPG game","Created attachment 21299
Hero Lab 3.2a backtrace

When using Hero Lab 3.2a to load the Mutants & Masterminds game the application hangs at step Building User Interface... and winedbg indicates that the application is trying to show a message box in response to an exception.

Here are the steps to reproduce the problem:

1. Download and install Hero Lab 3.2a.
2. Skip the informative dialogs and when asked to perform updates enter the update window to download the Mutants & Masterminds game.
3. Import the game and then dismiss the update window. Load the Mutants & Masterminds game.
4. The application should hang at the Building User Interface... phase.

When frozen the application has backtrace:

Wine-dbg>bt
Backtrace:
=>0 0xb804442e (0x0030e894)
  1 0x7bc71885 NTDLL_wait_for_multiple_objects+0x275(count=1 handles=0x30eb0c flags=4 timeout=(nil) signal_object=(nil)) [/home/andrew/wine-git/dlls/ntdll/sync.c:1128] in ntdll (0x0030eab4)
  2 0x7bc71b82 NtWaitForMultipleObjects+0x62(count= handles=0x30eb0c wait_all=0 alertable= timeout=(nil)) [/home/andrew/wine-git/dlls/ntdll/sync.c:1166] in ntdll (0x0030eae4)
...
  11 0x7edd004f MessageBoxExA+0x5f(hWnd=(nil) text=HeroLab.exe has encountered a problem and needs to close. We are sorry for the inconvenience... title=Hero Lab type=73744) [/home/andrew/wine-git/dlls/user32/msgbox.c:398] in user32 (0x0030ee44)
  13 0x0057f4f7 in herolab (+0x17f4f7) (0x0030f2c8)

The backtrace and relay log are attached.",289,"1"
"WINE-44","Winelib PowerPC Port","The following error is encountered after calling 'make' ('make depend' previously 
called):

make[1]: Entering directory `/root/wine-20001002/unicode'
make[1]: `libwine_unicode.so' is up to date.
make[1]: Leaving directory `/root/wine-20001002/unicode'
make[1]: Entering directory `/root/wine-20001002/tools'
gcc -c -I. -I. -I../include -I../include -g -O2 -Wall -D__WINE__ -D_REENTRANT  -o 
fnt2bdf.o fnt2bdf.c
In file included from ../include/winbase.h:5
                 from ../include/wine/winbase16.h:5
                 from ../include/wine/wingdi16.h:6
                 from fnt2bdf.h:1
                 from fnt2bdf.c:23:
../include/winnt.h:794: #error You need to define DEFINE_REGS_ENTRYPOINT macros 
for your CPU
../include/winnt.h:805: #error You must define GET_IP for this CPU
make[1]: *** [fnt2bdf.o] Error 1
make[1]: Leaving directory `/root/wine-20001002/tools'
make: *** [tools] Error 2

	Thank you in advance for any assistance you may be able to provide.

				-Robert Vogt IV


CPU: Power Macintosh G4/450",1342,"1"
"WINE-28562","Plastic Animation Paper 4.0 doesn't start","Created attachment 36686
plain terminal output

Users reported in the WineHQ forum that the application refuses to start in a recent Wine.
http://forum.winehq.org/viewtopic.php?t=12970

Indeed Plastic Animation Paper 4.0 is showing an error message when launching with 1.3.29:
'Fatal error
Unable to set up graphics mode graphics card must be capable of running 800x600'.

Actually this is a regression which happened between 1.3.27 and 1.3.28.
The problem with bisecting is that that the application is broken between these 2 commits:
http://source.winehq.org/git/wine.git/commit/76fecde8fb2d335e4855bec6d36ffe16cbed04f3
and
http://source.winehq.org/git/wine.git/commit/8e79a7e6644fd6f1e0cfeb8b826e683d171d723a

That was bug #28259 affecting several apps/games.

If I apply the patch (in commit [76fecde8fb2d335e4855bec6d36ffe16cbed04f3]) on [8e79a7e6644fd6f1e0cfeb8b826e683d171d723a] then I receive the same error message that the application produces in current git.

So I think the offending commit preventing PAP 4.0 from starting should be

8e79a7e6644fd6f1e0cfeb8b826e683d171d723a is the first bad commit
commit 8e79a7e6644fd6f1e0cfeb8b826e683d171d723a
Author: Stefan Dösinger 
Date:   Sat Sep 3 21:06:11 2011 +0200

    ddraw: Add some NULL pointer tests.

:040000 040000 91eec493c175fa65b5564a00127fa2e387b26f0d 25adf271715f048af26ebeba0626e0ac65ff2b71 M	dlls

Added Stefan to CC.
I must also add that prior to 1.3.23 the application produces the same error message on startup. So it only works between 1.3.23 and 1.3.28.
PAP 4.0 is now freeware.",45,"0"
"WINE-39823","fixme:nls:CompareStringEx semi-stub behavor for flag(s) 0x10000000 appears thousands of times in terminal when running the Lego Mindstorms EV3 software","fixme:nls:CompareStringEx semi-stub behavor for flag(s) 0x10000000 appears thousands of times in terminal when running the Lego Mindstorms EV3 software

Someone seems to have already created a patch: http://www.winehq.org/pipermail/wine-patches/attachments/20150407/c1365e15/attachment-0001.patch

This was at Tue Apr 7 04:02:17 CDT 2015 but it seems to not be incorporated yet as it is in Wine 1.8.  If someone could incorporate this it would be appreciated as it affects many applications especially the Lego Mindstorms EV3 software where it appears thousands of times in the terminal.",5,"0"
"WINE-26697","F-22 Raptor freezes when loading a mission","Created attachment 33995
F22-Raptor backtrace

F-22 Raptor freezes when loading a mission regardless of the Wine configuration (Windows XP / 98).

Installing the game and launching it works correctly.
Introducing video plays.
After choosing a campaign or free flight the game freezes with a black screen during loading the mission",314,"1"
"WINE-26262","No video output in Commandos - Behind Enemy lines","When trying to play Commandos - Behind Enemy lines there is no video output. Sound is working.",1587,"1"
"WINE-20972","Atlantica Online: crashes when closing sometimes at login","When ending Atlantica Online it crashes and Wine debugger comes up. A process named ### has to be killed before Wine ends. The same thing sometimes happens just after login at security key page.

Wine outputs the following output when the crash happens:
wine: Unhandled page fault on read access to 0x07b785a4 at address 0x7e0d02c9 (thread 002e) starting debugger...

The bug doesn't occur with Wine 1.1.33.

And before that many fixme:xinput:XInputGetState errors but thats probably when the game is still running.",108,"0"
"WINE-44693","Native Access crashes on unimplemented function vcruntime140.dll.__current_exception","Hi 

Follow up  of bug 42446.

Steps to reproduce:

1. Use workaround from Stan to get around bug 42446:

https://www.winehq.org/pipermail/wine-bugs/2018-March/485972.html

2. Run with native msvcp140 and msvcr120 to work around bug 42680 and bug 42686 

WINEDLLOVERRIDES=msvcr120msvcp140=n wine Native\ Access.exe


3. The crash can be triggered in a few ways:
- try create acount with a too simple password (no special characters)
- or once you have an account try to login with wrong password.

ps. I used old version of Access i had lying around here but the program first updates itsself so now it runs version 1.6.0 (R68)

sha1sum Native\ Access.exe 
182248c5f2375dc90edf9b8c33063d55552df910  Native Access.exe







	Wine",11,"0"
"WINE-19691","Visual C++ 2005 Express: can't uninstall or reinstall","Run the script http://kegel.com/wine/vc2005x.sh.txt
(in cygwin in wine)
and then either run 'wine uninstaller' or run that
script a second time.  Either way wine complains

fixme:msi:ACTION_CustomAction msidbCustomActionTypeTSAware not handled
fixme:msidb:JOIN_get_row (0xe1c0d0 2 0x87cb28): stub!
fixme:msi:ACTION_CustomAction msidbCustomActionTypeTSAware not handled
err:msi:ITERATE_Actions Execution halted action LInstallFinalize returned 1603
err:msi:ITERATE_Actions Execution halted action LExecuteAction returned 1603",916,"1"
"WINE-11341","The content window doesn't update properly in DAZ Studio","DAZ Studio (v. 1.8.2.1) worked in 0.9.53 but fails in 0.9.54.

The content window doesn't update properly it's stuck showing bits of my background and the DStudio splash screen. I can't load models the program freezes after reaching 99%.

I haven't done a new install of DStudio or upgraded my .wine. I'll try to do a bisect.",28,"0"
"WINE-12161","Adobe Photoshop CS2: progress bar appearing on active viewport with on top","When batch processing many images a progress bar sometimes appears. If i use compiz and place the main Photoshop window into another viewport (for it to stay unnoticed) the progress bar always appears in the active viewport and becomes the active window which is very irritating.",847,"1"
"WINE-807","PowerBuilder 6.0 generated applications crash accessing date fields","I'm trying to run a PB-generated application under Wine but every panel 
with date-time fields generate a crash. By means of winedbg I've managed to
track the crashes to a limited set of function calls into the runtime engine
PBVM60.DLL
(namely PBE_SetData PBE_FmtSetDataString PBE_FmtSetMask) which are called by 
the engine itself whenever creating dialogs. It seems to me a dialog property is
not correctly initialised leading to a segfault accessing an invalid pointer.

I've managed to package a minimal test application into the following zip file:

http://web.tiscali.it/l_capriotti/WineTest.zip",492,"1"
"WINE-34237","Jenkins 1.526 service (.NET 2.0 app) fails to install with Wine-Mono","Looks like its service related:

err:service:service_send_start_message service LJenkins failed to start
err:msi:ITERATE_StartService Failed to start service LJenkins (1053)
err:msi:ITERATE_Actions Execution halted action LStartServices returned 1627
err:msi:ITERATE_Actions Execution halted action LExecuteAction returned 1627

I'll attach a log.

austin@aw25 ~ $ wine --version
wine-1.7.0
austin@aw25 ~ $ sha1sum jenkins-1.526.zip 
1658d7cba2cd1bdc5ac521a806957df7ef0610ea  jenkins-1.526.zip
austin@aw25 ~ $ du -h jenkins-1.526.zip 
84M	jenkins-1.526.zip",2060,"1"
"WINE-3600","msi install fails with Feature transfer error","ids76install.exe is downloadable. It pops a dialog box with caption Feature
Transfer error
Message Error: -1603 Fatal Error during installation

Wine is cvs from 10-14-2005 with this patch
http://www.winehq.org/pipermail/wine-patches/2005-September/020456.html

err:msi:process_action_return_value Invalid Return Code 32
err:msi:ITERATE_Actions Execution halted due to error (1603)",3,"0"
"WINE-24843","Explorer++ doesn't show text in the right-click menu for toolbars","Created attachment 31431
Screenshots with builtin and native comctl32

Right-clicking on one of the upper toolbars (other than the tab bar) such as the drive bar produces a menu where individual toolbars can be enabled or disabled and the toolbars can be locked or customized. In Wine the text that goes with these options is missing and the menu only shows a checkmark or blank space for each option. They still function as expected though.

Workaround: native comctl32 (must be version 6 to avoid a crash on startup).",942,"1"
"WINE-17443","Launchpad Enhanced gets stuck in a loop trying to download updates","Created attachment 19522
WINEDEBUG=+all-relay near dialog-generating location

LPE gets stuck in a loop trying to download updated files and re-launch.  A dialog appears (.NET 2.0?) that says (at the beginning of the loop):
Main: Unable to read data from the transport connection: Unknown error (0x271e).
Address: http://lpe.ocdsoft.com/installer/LaunchpadEnhanced.exe
File:C:\Program Files\Launchpad Enhanced\LaunchpadEnhanced.exe.temp

The error appears to be from passing an invalid memory location to WSARecvFrom after the original buffer runs out (see abbreviated log attached).  Note that the messages:
0009:trace:winsock:WS2_recv recvmsg sta: (ptr) (ptr) (length)
are from adding a trace to output hdr.msg_iov hdr.msg_iov->iov_base and hdr.msg_iov->iov_len. This message was added to explore why the errno was being set to 14 (EFAULT) which the recvmsg man page indicates is due to a pointer being outside the application address space.

The issue might be some form of regression (since LPE worked on Wine 1.0-rc2) but since the application has an automatic updater it's possible that the application code changed.",1170,"1"
"WINE-39517","No music or voices in Skyrim after intro video","In Skyrim the Bethesda intro does have sound but nothing afterwards. No music no menu sounds no game sound.

It USED TO WORK for years up until a few weeks ago when I last played. Then today I tried to play again and it doesn't work now.

I did not change anything on my system or in my Skyrim apart from doing regular system updates.


I have:
 - verified game cache
 - updated and rebooted my system
 - reinstalled everything with winetricks that was installed before
 - installed xact via winetricks
 - reinstalled DirectX from game's directory
 - removed intro video file
 - toggled Wine from XP mode to Win 7 mode
 - made sure Wine uses pulseaudio
 - made sure speakers in Wine are set to stereo and not 5.1

None of these made a difference.


Arch Linux 64 bit
wine-1.7.53-2
alsa 1.0.29-1
pulseaudio 7.0-2
pulseaudio-alsa 2-3

Steam is under a 32 bit wineprefix.


console output: http://pastebin.com/ALG68nEB",21,"0"
"WINE-21613","Stack buffer read overflow in GdipCreateBitmapFromScan0","The gdiplus image tests have long shown the following error in valgrind:
 Conditional jump or move depends on uninitialised value(s)
    at  X11DRV_DIB_GenColorMap (dib.c:367)
    by  X11DRV_DIB_BuildColorMap (dib.c:436)
    by  X11DRV_CreateDIBSection (dib.c:4742)
    by  CreateDIBSection (dib.c:1353)
    by  GdipCreateBitmapFromScan0 (image.c:1251)
    by  GdipCreateBitmapFromHBITMAP (image.c:2782)
    by  test_GdipCreateBitmapFromHBITMAP (image.c:512)
    by  func_image (image.c:1523)
    by  run_test (test.h:535)
    by  main (test.h:585)
  Uninitialised value was created by a stack allocation
    at  GdipCreateBitmapFromScan0 (image.c:1204)
e.g. http://kegel.com/wine/valgrind/logs/2010-01-04-10.14/vg-gdiplus_image.txt

Turns out even though biClrUsed is zero 
CreateDibSection expects the BITMAPINFO to have a valid color table
see gdi32/dib.c line 1161:

   1160         colors = info->bmiHeader.biClrUsed
   1161         if (!colors) colors = 1 bmiHeader.biBitCount

The attached patch gets rid of the warning and lets the tests pass
but seems wrong the color table probably needs to have real values.",411,"1"
"WINE-26713","Team Fortress 2 (Steam) crashes in the menu","Hi

there seems to be a repeatable crash when you launch steam start tf2 go to mange items crafting view all blueprints grab the scrollbar and try to scroll to the end.

At about 80-90% scrolling down the game crashes here.

using gentoo64

OpenGL vendor string: NVIDIA Corporation
OpenGL renderer string: GeForce GTX 460/PCI/SSE2
OpenGL version string: 4.1.0 NVIDIA 270.18


err:mmtime:TIME_MMTimeStop Timer still active?!
fixme:process:SetProcessShutdownParameters (000003ff 00000000): partial stub.
fixme:urlmon:CoInternetSetFeatureEnabled 5 0x00000002 1 stub
fixme:urlmon:CoInternetSetFeatureEnabled 10 0x00000002 1 stub
fixme:process:SetProcessShutdownParameters (000003ff 00000000): partial stub.
fixme:urlmon:CoInternetSetFeatureEnabled 5 0x00000002 1 stub
fixme:urlmon:CoInternetSetFeatureEnabled 10 0x00000002 1 stub
err:ntdll:RtlpWaitForCriticalSection section 0x7d7f64 ? wait timed out in thread 0023 blocked by 0024 retrying (60 sec)",1100,"1"
"WINE-44466","PrtSc button crashes StarCraft","Created attachment 60408
the output after the game crashes

Whenever you hit PrtSc in StarCraft instead of saving the screenshot (like it's meant to in Windows) it ends up crashing the game. Even though PrtSc actually does capture the game in my OS it's not very useful if the game crashes afterwards.",7,"0"
"WINE-23400","Metatrader 5 setup crashes","trying to install metatrader 5 on wine rc5 it fail at end of process with this error:

fixme:system:SetProcessDPIAware stub!
fixme:dwmapi:DwmIsCompositionEnabled 0x33cfdc
fixme:iphlpapi:NotifyAddrChange (Handle 0xa6ee8d8 overlapped 0xa6ee8e0): stub
wine: configuration in '/home/oem/.wine' has been updated.
wine: Unhandled page fault on read access to 0x00445004 at address 0x7ed95e30 (thread 001b) starting debugger...
err:seh:raise_exception Exception frame is not in stack limits => unable to dispatch exception.
fixme:winhttp:request_query_option unimplemented option 32
err:seh:raise_exception Exception frame is not in stack limits => unable to dispatch exception.

have tested with both Alpari & Tadawul installer and directly metaquotes too",81,"0"
"WINE-29340","Multiple apps need msvcp100.dll.??5?$basic_istream@DU?$char_traits@D@std@@@std@@QAEAAV01@AAI@Z (Cave Story+ Arda C&C Red Alert extension)","wine-1.3.34-295-g4918d91",252,"1"
"WINE-8623","Winsock Errors with uTorrent","For the last couple of Beta builds of uTorrent. I have been unable to connect to
any peers through the uTorrent and WINE. So I am unable to upload or download
anything.

I ran uTorrent through the console and while running I got a bunch of fixme
winsock error messages. I will attach all these messages. BTW I wasn't sure what
catagory it would belong to so sorry if I selected the wrong one.

I'm running ubuntu 7.04 if that helps.",216,"0"
"WINE-29609","League Of Legends game client crashes after champion selection (failure to resolve hostname)","Same error as in http://bugs.winehq.org/show_bug.cgi?id=29039 in 1.3.36 &1.3.37
since the patches noted in comments seem already in this versions.",1333,"1"
"WINE-3542","Dungeon Keeper Gold not starting","Dungeon Keeper Gold simply doesn't start. It immediately crashes after 
starting: 
sifff@Skynet ~ $ wine ./Windows/DKGold/KEEPER95.EXE 
wine: Unhandled exception (thread 0009) starting debugger... 
WineDbg starting on pid 0x8 
Unhandled exception: page fault on write access to 0x00000000 in 32-bit code 
(0x004048e2). 
In 32 bit mode. 
Register dump: 
 CS:0073 SS:007b DS:007b ES:007b FS:1007 GS:0033 
 EIP:004048e2 ESP:7fbffd0c EBP:7fbfff20 EFLAGS:00210206(   - 00      - RIP1) 
 EAX:00000000 EBX:ffffffff ECX:00000000 EDX:7fbffce0 
 ESI:00769326 EDI:7fbffd9e 
Stack dump: 
0x7fbffd0c:  7fbfff20 7ffffa00 7fd16065 7fcb060c 
0x7fbffd1c:  00bffd2c 7fbffd2c 7fbffd28 0000008c 
0x7fbffd2c:  b7f0dd00 7fff1534 7fbffe04 7ffdcd28 
0x7fbffd3c:  7ffed990 7fbffde4 7ffeda6f b7f11280 
0x7fbffd4c:  7fd61720 7fff1534 7fbffdcc 7ffba3ae 
0x7fbffd5c:  00015180 00000000 000146ad 00000000 
0200: sel=1007 base=7ff84000 limit=00001fff 32-bit rw- 
Backtrace: 
=>1 0x004048e2 in keeper95 (+0x48e2) (0x7fbfff20) 
  2 0x7fc767cd start_process+0xed(arg=0x0) 
[/home/sifff/wine/dlls/kernel/process.c:992] in kernel32 (0x7fbffff4) 
  3 0xb7f28f91 wine_switch_to_stack+0x11 in libwine.so.1 (0x00000000) 
0x004048e2: movb        $0x00x0(%eax) 
Modules: 
Module  Address                 Debug info      Name (78 modules) 
PE      0x00400000-007ae000     Export          keeper95 
PE      0x10000000-10029000     Deferred        wsnd7r 
PE      0x20000000-2002b000     Deferred        mss32 
ELF     0x7bf00000-7bf03000     Deferred         
ELF     0x7e85b000-7e87d000     Deferred        msacm32 
  \-PE  0x7e860000-7e87d000     \               msacm32 
ELF     0x7e87d000-7e895000     Deferred        msacm.drv 
  \-PE  0x7e880000-7e895000     \               msacm.drv 
ELF     0x7e895000-7e964000     Deferred        libasound.so.2 
ELF     0x7e964000-7e98d000     Deferred        winealsa.drv 
  \-PE  0x7e970000-7e98d000     \               winealsa.drv 
ELF     0x7e98d000-7ea90000     Deferred        libcrypto.so.0.9.7 
ELF     0x7ea90000-7eac1000     Deferred        libssl.so.0.9.7 
ELF     0x7eac1000-7eae4000     Deferred        libcups.so.2 
ELF     0x7eb40000-7eb5d000     Deferred        imm32 
  \-PE  0x7eb50000-7eb5d000     \               imm32 
ELF     0x7eb5d000-7eb7a000     Deferred        ximcp.so.2 
ELF     0x7eb7a000-7f2e3000     Deferred        libglcore.so.1 
ELF     0x7f2e3000-7f362000     Deferred        libgl.so.1 
ELF     0x7f37b000-7f3fe000     Deferred        winex11.drv 
  \-PE  0x7f390000-7f3fe000     \               winex11.drv 
ELF     0x7f3fe000-7f423000     Deferred        libexpat.so.0 
ELF     0x7f423000-7f458000     Deferred        libfontconfig.so.1 
ELF     0x7f471000-7f48b000     Deferred        libz.so.1 
ELF     0x7f48b000-7f51b000     Deferred        libfreetype.so.6 
ELF     0x7f534000-7f55f000     Deferred        ws2_32 
  \-PE  0x7f540000-7f55f000     \               ws2_32 
ELF     0x7f55f000-7f57a000     Deferred        wsock32 
  \-PE  0x7f570000-7f57a000     \               wsock32 
ELF     0x7f57a000-7f5b7000     Deferred        dplayx 
  \-PE  0x7f590000-7f5b7000     \               dplayx 
ELF     0x7f5b7000-7f682000     Deferred        libx11.so.6 
ELF     0x7f682000-7f691000     Deferred        libxext.so.6 
ELF     0x7f691000-7f6a9000     Deferred        libice.so.6 
ELF     0x7f6ad000-7f6c2000     Deferred        midimap 
  \-PE  0x7f6b0000-7f6c2000     \               midimap 
ELF     0x7f6c2000-7f740000     Deferred        ddraw 
  \-PE  0x7f6e0000-7f740000     \               ddraw 
PE      0x7f740000-7f758000     Deferred        smackw32 
ELF     0x7f765000-7f784000     Deferred        iphlpapi 
  \-PE  0x7f770000-7f784000     \               iphlpapi 
ELF     0x7f784000-7f7ca000     Deferred        rpcrt4 
  \-PE  0x7f790000-7f7ca000     \               rpcrt4 
ELF     0x7f7ca000-7f858000     Deferred        ole32 
  \-PE  0x7f7e0000-7f858000     \               ole32 
ELF     0x7f858000-7f8dc000     Deferred        winmm 
  \-PE  0x7f860000-7f8dc000     \               winmm 
ELF     0x7f8dc000-7fa09000     Deferred        user32 
  \-PE  0x7f900000-7fa09000     \               user32 
ELF     0x7fa09000-7fa33000     Deferred        winspool.drv 
  \-PE  0x7fa10000-7fa33000     \               winspool.drv 
ELF     0x7fa33000-7fa72000     Deferred        advapi32 
  \-PE  0x7fa40000-7fa72000     \               advapi32 
ELF     0x7fa72000-7fb00000     Deferred        gdi32 
  \-PE  0x7fa80000-7fb00000     \               gdi32 
ELF     0x7fc00000-7fc09000     Deferred        libxcursor.so.1.0.2 
ELF     0x7fc09000-7fd10000     Stabs           kernel32 
  \-PE  0x7fc20000-7fd10000     \               kernel32 
ELF     0x7fe24000-7fe27000     Deferred        xlcdef.so.2 
ELF     0x7fe27000-7fe32000     Deferred        libnss_files.so.2 
ELF     0x7fe32000-7fe3a000     Deferred        libnss_compat.so.2 
ELF     0x7fe3b000-7fe3f000     Deferred        libxrandr.so.2 
ELF     0x7fe3f000-7fe47000     Deferred        libxrender.so.1 
ELF     0x7fe47000-7fe50000     Deferred        libsm.so.6 
ELF     0x7fe53000-7fe7a000     Deferred        libm.so.6 
ELF     0x7fe7a000-7ff6f000     Deferred        libwine_unicode.so.1 
ELF     0x7ff6f000-7ff84000     Deferred        libnsl.so.1 
ELF     0x7ff88000-80000000     Deferred        ntdll 
  \-PE  0x7ffa0000-80000000     \               ntdll 
ELF     0xb7de0000-b7de5000     Deferred        libxxf86vm.so.1 
ELF     0xb7de5000-b7def000     Deferred        libnss_nis.so.2 
ELF     0xb7df1000-b7df5000     Deferred        libdl.so.2 
ELF     0xb7df5000-b7f12000     Deferred        libc.so.6 
ELF     0xb7f12000-b7f24000     Deferred        libpthread.so.0 
ELF     0xb7f24000-b7f3e000     DIA             libwine.so.1 
ELF     0xb7f3e000-b7f40000     Deferred        libnvidia-tls.so.1 
ELF     0xb7f51000-b7f57000     Deferred        libxxf86dga.so.1 
ELF     0xb7f58000-b7f74000     Deferred        ld-linux.so.2 
Threads: 
process  tid      prio (all id:s are in hex) 
00000008 (D) Y:\Windows\DKGold\KEEPER95.EXE 
        00000009    0 <== 
WineDbg terminated on pid 0x8",3007,"1"
"WINE-28962","Mount & Blade: WFAS texture quality slider isn't moving","Created attachment 37241
terminal output

Start Mount & Blade With Fire and Sword click trial configure video panel (partially hidden due to bug 28960) try to move texture quality slider. It doesn't move however texture quality number (visible next to the slider) is changing. Winetricks comctl32 works around this.",133,"0"
"WINE-6039","Graphical glitches in spiderman2 demo","Spiderman 2 demo would be very playable without these following graphical
glitches (see the screenshot). And it would be noted that the shadow under
Spiderman flickers!!!
And in the left corner sometimes one can see a second spiderman....

I attached a console output

Joaopa

Joaopa",369,"1"
"WINE-36703","PlayOn 3.9.13 settings tool fails to detect system memory size (needs 'Win32_OperatingSystem' WMI class 'TotalVisibleMemorySize' property)","Hello folks

as the summary says.

Nothing serious it just displays a red field with 'Error' instead of real value under 'System Check' property page.

Interestingly it also probes 'Win32_PhysicalMemory' WMI class 'Capacity' property but ultimately it takes the value from 'Win32_OperatingSystem' WMI class 'TotalVisibleMemorySize' property.

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/MediaMall

$ WINEDEBUG=+tid+seh+relay+wbemprox+ole+variant wine ./SettingsManager.exe >>log.txt 2>&1
...
0041:trace:wbemprox:wbem_services_ExecQuery 0x5ffa8f8 LWQL LSELECT * FROM Win32_PhysicalMemory 0x00000010 (nil) 0x33dfb0 
...
0041:trace:wbemprox:enum_class_object_Next 0x5ff9058 -1 1 0x158478 0xe13110
0041:trace:wbemprox:create_class_object LWin32_PhysicalMemory 0x158478 
...
0041:trace:wbemprox:class_object_Get 0x5ffac10 LCapacity 00000000 0x33e244 0xe135dc 0xe135e0 
0041:Call oleaut32.SysAllocString(0033e0d4 L8361885696) ret=f5d686a6 
...
0041:trace:wbemprox:wbem_services_ExecQuery 0x5ffc338 LWQL LSELECT * FROM Win32_ComputerSystem 0x00000010 (nil) 0x33dfb0 
...
0041:trace:wbemprox:class_object_Get 0x5ffe368 LTotalVisibleMemorySize 00000000 0x33e244 0xe199a0 0xe199a4 
...
0041:Call oleaut32.SysAllocString(05ffea68 LNot found ) ret=74e67dd7 
...
0041:Call KERNEL32.RaiseException(e0434f4d00000001000000010033e1d0) ret=79eda91c
0041:trace:seh:raise_exception code=e0434f4d flags=1 addr=0x7b83ac57 ip=7b83ac57 tid=0041
0041:trace:seh:raise_exception  info[0]=80131501
0041:trace:seh:raise_exception  eax=7b826c7d ebx=7b8bb000 ecx=80131501 edx=0033e108 esi=0033e1b0 edi=0033e170
0041:trace:seh:raise_exception  ebp=0033e148 esp=0033e0e4 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00200287
0041:trace:seh:call_stack_handlers calling handler at 0x79f908a2 code=e0434f4d flags=1 
--- snip ---

MSDN: http://msdn.microsoft.com/en-us/library/aa394239%28v=vs.85%29.aspx

--- quote ---
TotalVisibleMemorySize

    Data type: uint64
    Access type: Read-only

    Total amount in kilobytes of physical memory available to the operating system. This value does not necessarily indicate the true amount of physical memory but what is reported to the operating system as available to it.

    For more information about using uint64 values in scripts see Scripting in WMI.
--- quote ---

Adding the property and filling the value using 'get_total_physical_memory' helper (value converted to KB) allows the app to show the amount.

$ sha1sum PlayOnSetup.3.9.13.exe 
05e03ab3cc64a45613656ea50171965f00558a6f  PlayOnSetup.3.9.13.exe

$ du -sh PlayOnSetup.3.9.13.exe 
64M	PlayOnSetup.3.9.13.exe

$ wine --version
wine-1.7.19-70-gd6a59f7

Regards",210,"0"
"WINE-39222","mstask:task_scheduler fails if privileges not high enough","The following failure only happens if the test is run in a restricted/limited user account.

task_scheduler.c:187: Test failed: got 0x80070005 (expected S_OK)

In particular one can notice this bug on the following WineTest boxes: fg-win2000-rusr: Windows 2000 with a Restricted user account
fg-win2000-susr: Windows 2000 with a Standard (Power) user account.
fg-winxp-lusr: Windows XP with a Limited user account.

Note however that it succeeds in regular user accounts on Windows 7 (see fg-win7u64-1spie9usr).

See:
https://test.winehq.org/data/tests/mstask:task_scheduler.html

These tests were introduced by the following commit:

commit 0c8dc0090b0166ab17cd1b84fdd511cab9086d77
Author: Detlef Riekenberg 
Date:   Thu Nov 8 00:12:48 2012 +0100

    mstask/tests: Add tests for SetTargetComputer.",1027,"1"
"WINE-34171","Actua Soccer 2 API error when loading game from menu","Actua Soccer crashes with an API error when loading a new game from main menu",1280,"1"
"WINE-44213","ShareHolder Finder 0.9.3.0 fails to generate unique hardware id reports 'Error: The requested action with this object has failed.' (several 'Win32_ComputerSystemProduct' WMI class properties missing)","Created attachment 59995
Window executable that wine is unable to run

When running a windows executable wine exits giving the following error:



    err:ole:CoGetInstanceFromFile failed to get CLSID from a file
    err:ole:apartment_getclassobject DllGetClassObject returned error 0x80004002
    err:ole:create_server class {172bddf8-ceea-11d1-8b05-00600806d9b6} not registered
    err:ole:CoGetClassObject no class object {172bddf8-ceea-11d1-8b05-00600806d9b6} could be created for context 0x15

Application that crashes is attached",44,"0"
"WINE-20686","World of Warcraft screen corruption","latest git  causes screen corruption in WOW

Git regression says :

[cahrendt@stinky wine-git]$ git bisect bad
8e750b0ef6d810465d12566b6f03e6ce28b9451d is first bad commit
commit 8e750b0ef6d810465d12566b6f03e6ce28b9451d
Author: Rob Shearman 
Date:   Thu Nov 12 10:31:25 2009 +0000

    widl: Include range types in constant BufferLength calculation for server function.

:040000 040000 28e1f6d17f58a903618d98357718444b661f40ff 43265670cae4c487353cc73ee8b7d0d5f542df65 M	tools
[cahrendt@stinky wine-git]$",1,"0"
"WINE-28477","Pollux Ride : Unhandled exception: unimplemented function msvcp80.dll.??0?$basic_fstream@DU?$char_traits@D@std@@@std@@Q","Horse riding children program from PAN Vision crahes on startup. 

Winedbg report:

C:\Program Files\PAN Vision\rnge>winedbg equestrianapp.exe
WineDbg starting on pid 0034
0x7b85718e DbgBreakPoint+0x12 in kernel32: addl $4%esp
Wine-dbg>c
Unhandled exception: unimplemented function msvcp80.dll.??0?$basic_fstream@DU?$char_traits@D@std@@@std@@Q
AE@XZ called in 32-bit code (0x7b82db78).

I tried also with winetricks msvcp80.dll but it did not help.",411,"1"
"WINE-34800","Notepad++: crashes launching the plugin manager","Created attachment 46415
Program error details given by wine

Crashes launching the plugin manager the rest of the functionality of the application seems to be working fine.",2,"0"
"WINE-16650","Melodyne Studio demo crashes on startup","Created attachment 18262
Melodyne Studio backtrace

With today's Git (wine-1.1.11-153-g424cb27) attempting to launch the Melodyne Studio demo results in an immediate crash which does not seem to provide much insight into the problem. Backtrace and relay are attached.",205,"0"
"WINE-22658","Movie Magic Screenwriter 2000 crashes when selecting Program Options","Created attachment 27882
Movie Magic Screenwriter 2000 crash in wine-1.1.44-104-g25d8616

I'm setting the Wine version to 1.1.39 because that's where the regression test identified the bad patch but the bug is still present in today's git (wine-1.1.44-104-g25d8616).

Movie Magic Screenwriter 2000 now crashes when selecting Program Options from the File menu. 

Regression test results:

0e0b704f5b48d1c0bba1f1e0b1e37fd77839c725 is first bad commit
commit 0e0b704f5b48d1c0bba1f1e0b1e37fd77839c725
Author: Alexandre Julliard 
Date:   Mon Feb 8 17:44:23 2010 +0100

    user32: Do not load 16-bit user.exe by default.

:040000 040000 efe35dc6ec566d8677b01e142290dde76d0d73c6 e0a08872768ea3f142cd2d1fedeb8dafa167c05b M      dlls

The same patch was identified in bugs 21825 and 21946 both of those bugs were closed as fixed by commit f3696e489b8b33011b5a32acf330f0684b6d151a. 

Reverting the patch identified by the regression test gets rid of the crash but the Program Options box still doesn't appear. Instead the app throws up a warning that resources are dangerously low and telling me to close some programs and possibly reboot. So something else is also going on but I'm afraid I don't know how to proceed from here to track it down. I'm happy to run more tests if someone can tell me what to do.",14,"0"
"WINE-23402","AMD Demo - Whiteout requires d3dx10_33.dll","Without accompanying DirectX setup. 

fixme:actctx:parse_depend_manifests Could not find dependent assembly LMicrosoft.VC80.CRT (8.0.50608.0)
err:module:import_dll Library d3dx10_33.dll (which is needed by LC:\\Program Files\\AMD\\AMD Demo - Whiteout\\WhiteoutD3D10.exe) not found
err:module:import_dll Library MSVCP80.dll (which is needed by LC:\\Program Files\\AMD\\AMD Demo - Whiteout\\WhiteoutD3D10.exe) not found
err:module:LdrInitializeThunk Main exe initialization for LC:\\Program Files\\AMD\\AMD Demo - Whiteout\\WhiteoutD3D10.exe failed status c0000135",844,"1"
"WINE-34502","__unDName doesn't use flags UNDNAME_NO_LEADING_UNDERSCORES and UNDNAME_NO_MS_KEYWORDS for __ptr64","Please stop posting source code. Just report the strings that don't work and let others fix it.",41,"0"
"WINE-15981","Rhapsody 3 and 4 crash at end of autoupdate install","A user in
http://real.lithium.com/real/board/message?board.id=InstallingRhapsody&message.id=34091#M34091
asked about Rhapsody so I had a look at all the freely
downloadable versions I ran into.  (Bug 15980 is about version 2.)

Installing the Listen version of Rhapsody either
http://service.real.com/rhapsody/download/version3/
http://service.real.com/rhapsody/download/version4/
succeeds on startup it autoupdates to the
newest version (and you have to avoid accepting the
autoupdate prompt more than once or you'll start
multiple concurrent autoupdate installs).
Sadly though the autoupdater crashes on completion:

Unhandled exception: page fault on read access to 0x62ee1340 in 32-bit code (0x62ee1340).
Backtrace:
=>1 0x62ee1340 (0x0033ecc0)
  2 0x7ec07b9a call_window_proc+0x6a(hwnd= msg= wp=0 lp=3404588 result=0x33ed94 arg=0x62ee1340) [dlls/user32/winproc.c:458] in user32 (0x0033ed00)
  3 0x7ec0cec7 WINPROC_call_window+0xf7(hwnd= msg=129 wParam=0 lParam=3404588 result=0x33ed94 unicode=0 mapping=WMCHAR_MAP_SENDMESSAGE) [dlls/user32/winproc.c:2218] in user32 (0x0033ed40)
  4 0x7ebcc631 call_window_proc+0x91(hwnd= msg= wparam=0 lparam=3404588 unicode=0 same_thread=1 mapping=WMCHAR_MAP_SENDMESSAGE) [dlls/user32/message.c:1634] in user32 (0x0033eda0)
  5 0x7ebd1875 send_message+0x1d5(info= res_ptr=0x33ee3c unicode=0) [dlls/user32/message.c:2465] in user32 (0x0033ee00)
  6 0x7ebd1d33 SendMessageA+0x53(hwnd=0x60062 msg=129 wparam=0 lparam=3404588) [dlls/user32/message.c:2610] in user32 (0x0033ee40)
  7 0x7ebff0a0 WIN_CreateWindowEx+0x1450(cs=0x33f32c className=0x8002 flags=32) [dlls/user32/win.c:1190] in user32 (0x0033f100)
  8 0x7ec0030a CreateWindowExA+0x6a(exStyle=1 className=*** invalid address 0x8002 *** windowName= style=2160591040 x=357 y=81 width=278 height=105 parent=0x600e4 menu=(nil) instance=0x10000000 data=(nil)) [dlls/user32/win.c:1391] in user32 (0x0033f360)
  9 0x7eb97159 DIALOG_CreateIndirect+0x6a9(hInst=0x10000000 dlgTemplate= owner=0x600e4 dlgProc=0x100146e5 param=0 unicode=0 modal=1) [dlls/user32/dialog.c:621] in user32 (0x0033f530)
  10 0x7eb99a38 DialogBoxParamA+0x78(hInst= name=*** invalid address 0x72 *** owner=0x600e4 dlgProc=0x100146e5 param=0) [dlls/user32/dialog.c:808] in user32 (0x0033f550)

I have a feeling our DialogBoxParam isn't doing the right thing
with that name parameter...",574,"1"
"WINE-19456","Mount Manager crashes with optical discs since commit 15acd35","Created attachment 22602
Wine Log with backtrace showing problem

Recently the Mount Manager driver (mountmgr.sys) has been crashing on Mac OS. (Good thing it's not a real ring 0 driver...). I've attached a log showing what happens. From the log it looks like there's some heap corruption going on here.

It only crashes when there's a disc in the optical disc drive. And even then it doesn't crash the first time it sees the disc. The SECOND time and subsequent times when Wine already knows about the disc it crashes.

I did a regression test and found that this is the offending commit:

commit 15acd35fa27d09af01698083af21ef3772edcae1
Author: Alexandre Julliard 
Date:   Wed Jul 22 20:56:04 2009 +0200

    mountmgr: Try to match and reuse volumes when creating/updating a drive.

For some reason reusing volumes fails spectacularly on Mac OS (at least on my system) leading to possible heap corruption and a crash.

Even worse the driver goes down while holding its critical section. Somehow the CS isn't released. Then programs that try to use Mount Manager end up deadlocking:

err:ntdll:RtlpWaitForCriticalSection section 0x4040e500 device.c: device_section wait timed out in thread 0017 blocked by 0018 retrying (60 sec)

Eventually Wine gives up on the CS but then weird things start happening to programs that rely on Mount Manager. For example winecfg shows no drives on the Drives tab (because Mount Manager is down and can't handle IOCTL requests).

Any help on this would be appreciated.",12,"0"
"WINE-30970","SharpEye: endless loop drawing message box when opening *.mro file","Created attachment 40632
Sample mro-file open with SharpEye v2.68 (File->Open Music...)

Application SharpEye version 2.68
(see http://appdb.winehq.org/objectManager.php?sClass=version&iId=26158)
enters an endless loop displaying multiple warning message windows (No OS error) when opening (File -> Open Music...) a music OCR result file (mro-file). The menu no longer responds to user input and the process has be to killed from the console window. 

This version of SharpEye works fine with wine 1.3.30 the erroneous behaviour appears in wine 1.3.31. Bisection identifies the following patch:

c9a7bb715d2db1512db30deb11e4676e76791a07 is the first bad commit
commit c9a7bb715d2db1512db30deb11e4676e76791a07
Author: Huw Davies 
Date:   Mon Oct 17 15:46:07 2011 +0100

    gdi32: Implement nulldrv_StretchDIBits using the PutImage gdi driver function.

:040000 040000 e4cfeee3adcb0fe2c0502909c87b2740a8de08e5 00851b246b095bdf4cafd3e6f9965c811d1c87a4 M      dlls

SharpEye version 2.68 is available for download from

  http://www.visiv.co.uk/dload.htm

A sample mro-file is attached.",2,"0"
"WINE-13534","Deluge fails to launch and throws bad_lexical_cast [dogfood]","Created attachment 13468
Log from Deluge crash (wine deluge.exe &> deluge.log)

Deluge fails to launch. Console log is attached. I didn't zip it because it's so short.",218,"0"
"WINE-21293","Comanche 3 freezes after a mission","Created attachment 25621
The game freezes when pressing 1 2 or 3

Comanche 3 finally runs in wine-1.1.36.

But after a mission when you see the helicopter flying and can select 1 2 or 3 and when pressing any of those numbers the game freezes.",774,"1"
"WINE-28122","unable to start Intl.cpl (Regional Settings properties) -- unimplemented function SETUPAPI.dll.pSetupMalloc","1. get a native intl.cpl run as below

$ wine rundll32.exe shell32.dllControl_RunDLL intl.cpl 
-- full log --
fixme:msvcrt:_setmbcp trail bytes data not available for DBCS codepage 0 - assuming all bytes
wine: Call from 0x7bc4c896 to unimplemented function SETUPAPI.dll.pSetupMalloc aborting
fixme:ntdll:RtlNtStatusToDosErrorNoTeb no mapping for 80000100
-- end full log --

reference:
[1] How to manually select an Input Method Editor for a specific keyboard language in Windows Home Server Console on a Windows Home Server-based computer
http://support.microsoft.com/kb/940885

[2] Description of Control Panel (.cpl) Files
http://support.microsoft.com/kb/149648

[3] Use ms control panel in wine (Even witout windows)!!
http://www.winehq.org/pipermail/wine-users/2002-August/008527.html",8,"0"
"WINE-12120","iSBEM 3.0 doesn't show EULA on startup","To install:

wget http://kegel.com/wine/winetricks
sh winetricks art2kmin
wget http://www.ncm.bre.co.uk/files/iSBEM_v3.0.b.exe
wine iSBEM_v3.0.b.exe
cd .wine/drive_c/NCM/iSBEM_v3.0.b
wine start iSBEM_v3.0.b.mdb

According to the user guide
http://www.ncm.bre.co.uk/files/iSBEM-User_Guide_12Feb08.pdf
a license agreement dialog should appear on startup
but it doesn't.  Doing 'winetricks dcom98' gets it to
start up so this must be a COM/OLE problem but 
that's not a usable workaround as you can't dismiss the EULA dialog then for some reason.",1044,"1"
"WINE-11281","CJK input: cannot type in legacy applications","Created attachment 10369
An approximation of Japanese legacy application

There are so many issues I don't know where to start.

The good thing is the input sort of works so there must be something present in Wine that handles it one way or another. However it is unusable in its current state.

First a CJK font is needed which is not normally present in Wine. Also Wine cannot pull characters that do not exist in current font from other fonts so all relevant system fonts have to be mapped to something that actually contains the characters.

For Japanese the font Kochi Gothic is quite useful but it does not contain much in the latin range.

Now in the Wine notepad the Japanese characters are displayed only if you go to the font selection select a font with Japanese characters and select the Japanese script. I don't know why is that some Latin accented characters are displayed even if Japanese script is selected but not the other way around.

Now typing Kana (and even Kanji) works with scim in notepad except the cursor is always positioned in front of the part just inserted (is not moved after inserting characters). Doing some cursor movement appears t orestore the cursor to the right position.

However typical win32 application is codepage based and would only work with SJIS encoding. After generating a SJIS Japanese locale and executing the included test application with
LANG=ja_JP ./testwin.exe
I get the text displayed correctly. Unfortunately now the input does not work because scim runs in UTF-8 and wine in SJIS. This is the same as any other X applications run in that locale. However starting a whole X session in an obscure Japanese locale is not a solution (although it seems the application would work).",494,"1"
"WINE-3792","PrinterPorts does not exist in win.ini","An application I use has a printer selection dialog which would core dump on
selection.  Turned out that in MS Windows installs vmware and win4lin the
windows/win.ini would contain a section like:

[PrinterPorts]
Samsung ML-1710=ADOBEPS4\\192.168.0.3\samsung1545
front=ADOBEPS4\\192.168.0.3\front1545

However no such section existed in wine's windows/win.ini.

This missing section caused the application printer selection dialog to explode.

I manually created the following entry

[PrinterPorts]
samsung=WINEPS.DRVLPR:samsung1545
front=WINEPS.DRVLPR:front1545

and now printer selection in the application works correctly under wine.",910,"1"
"WINE-3425","canon eos1d mark II WIA MSI install problems","http://software.canon-europe.com/software/canon_eos1d_mark_ii_wia_drivers21210.asp?model=   
  
has the download of k510ade.exe ... this is a selfextracting zip extractor.  
  
It unpacks an MSI installer. This installer reports an MSI error   
Error during component transmission: -1603 ...  
 
console output shows: 
  
wine setup.exe  
fixme:msi:MsiGetProductInfoW L{C537C86E-22C0-41CF-8A8E-3B23E986C3D9} 
LPackageCode 0x5592f340 0x55c3d87c 
fixme:msi:MsiInstallProductW LZ:
\\home\\marcus\\Documents\\foo\\GERMAN\\ISScript8.Msi LREBOOT=ReallySuppress 
ADDLOCAL=All 
fixme:msi:ACTION_HandleStandardAction unhandled standard action LRemoveFiles 
fixme:msi:ACTION_InstallFiles Write DiskPrompt 
err:msi:ITERATE_DuplicateFiles Failed to copy file Lc:\\Program Files\\Common 
Files\\InstallShield\\Driver\\8\\Intel 32\\IDriver.exe -> Lc:\\Program 
Files\\Common Files\\InstallShield\\Driver\\8\\Intel 32\\ last error 80 
fixme:msi:ITERATE_DuplicateFiles We should track these duplicate files as well 
fixme:msi:ACTION_HandleStandardAction unhandled standard action 
LRemoveRegistryValues 
fixme:msi:ACTION_HandleStandardAction unhandled standard action 
LRemoveFolders 
fixme:msi:ACTION_HandleStandardAction unhandled standard action 
LValidateProductID 
fixme:ole:RpcChannelBuffer_GetDestCtx (0x577dc70c0x577dc710) stub! 
fixme:ole:RpcChannelBuffer_GetDestCtx (0x577dc7080x577dc70c) stub! 
fixme:ole:RpcChannelBuffer_GetDestCtx (0x55c3ddec0x55c3ddf0) stub! 
fixme:ole:RpcChannelBuffer_GetDestCtx (0x55c3dcf40x55c3dcf8) stub! 
fixme:ole:RpcChannelBuffer_GetDestCtx (0x55c3dde80x55c3ddec) stub! 
fixme:ole:RpcChannelBuffer_GetDestCtx (0x55c3dcf00x55c3dcf4) stub! 
fixme:ole:_copy_arg Should not use VariantChangeType here. (conversion from 
0x3 -> 0xb) 4d43ffff 
fixme:win:SetWindowTextA setting text Canon Camera WIA Driver of other 
process window (nil) should not use SendMessage 
fixme:ole:RpcChannelBuffer_GetDestCtx (0x55c3dde80x55c3ddec) stub! 
fixme:ole:RpcChannelBuffer_GetDestCtx (0x55c3dcf00x55c3dcf4) stub! 
fixme:x11drv:X11DRV_SetWindowRgn not supported on other thread window 0x1003c 
fixme:msi:MsiInstallProductW LZ:\\home\\marcus\\Documents\\foo\\GERMAN\\Canon 
Camera WIA Driver.msi LADDLOCAL=WIA_Program ALLUSERS=1 ALLUSERSPROFILE=C:\\ 
ARPCOMMENTS=\ \ ARPCONTACT=\ \ ARPHELPLINK=\ \ ARPHELPTELEPHONE=\ \ 
ARPREADME=\ \ ARPURLINFOABOUT=\ \ ARPURLUPDATEINFO=\ \ CANON=\c:
\\Program Files\\Canon\\\ DWUSINTERVAL=30 INSTALLDIR=\c:\\Program 
Files\\Canon\\\ INSTALLLEVEL=1 I... 
fixme:ole:RpcChannelBuffer_GetDestCtx (0x578dd0600x578dd064) stub! 
fixme:msi:ACTION_HandleStandardAction unhandled standard action 
LValidateProductID 
err:msi:deformat_environment Unknown environment variable LALLUSERSPROFILE 
fixme:msi:ACTION_HandleStandardAction unhandled standard action 
LSetODBCFolders 
fixme:msi:ACTION_HandleStandardAction unhandled standard action 
LRemoveExistingProducts 
fixme:rpc:RpcImpersonateClient (0x59330190): stub 
fixme:ole:RpcChannelBuffer_GetDestCtx (0x592fffcc0x592fffd0) stub! 
fixme:ole:RpcChannelBuffer_GetDestCtx (0x592fff500x592fff54) stub! 
fixme:rpc:RpcRevertToSelfEx (0x59330190): stub 
err:msi:process_action_return_value Invalid Return Code 2 
err:msi:ITERATE_Actions Execution halted due to error (1603) 
fixme:ole:RpcChannelBuffer_GetDestCtx (0x593001400x59300144) stub! 
fixme:ole:RpcChannelBuffer_GetDestCtx (0x593000c40x593000c8) stub! 
fixme:rpc:RpcServerUnregisterIf (IfSpec == (RPC_IF_HANDLE)^(nil) MgrTypeUuid 
== (null) WaitForCallsToComplete == 0): stub 
fixme:rpc:RpcServerUnregisterIf (IfSpec == (RPC_IF_HANDLE)^(nil) MgrTypeUuid 
== (null) WaitForCallsToComplete == 0): stub 
fixme:ole:_copy_arg Should not use VariantChangeType here. (conversion from 
0x3 -> 0xb) 00680000 
fixme:ole:RpcChannelBuffer_GetDestCtx (0x577dc7480x577dc74c) stub!",122,"0"
"WINE-14524","richtext error 'Insurgency-2.1rc1-Full.exe'","Created attachment 14861
richtext error

the insurgency installer did not work 'Insurgency-2.1rc1-Full.exe'
showstopper is the license agreement 'richtext'",4,"0"
"WINE-31900","Pokemon World No sound because of stubbed MediaControl_RenderFile","The free online game Pokemon World has no sound because MediaControl_RenderFile is a stub in quartz. Using native quartz makes the sound work but makes the game unplayable.

You can download the client there's no need to login / create account as this happens from the launcher. Follow the link to download the client

The errors from the log:
fixme:quartz:FilterGraphInner_QueryInterface unknown interface {7fd52380-4e07-101b-ae2d-08002b2ec713}
fixme:quartz:FilterGraphInner_QueryInterface unknown interface {37d84f60-42cb-11ce-8135-00aa004bb851}
fixme:quartz:MediaControl_RenderFile (0xf0b3c8/0xf0b3d0)->(LC:\\Program Files\\Pokemon World Online\\MUSIC\\intro2.mp3 (0xed6f04)): stub !!!
fixme:quartz:MediaSeeking_SetRate (0xf0b3c8/0xf0b3d4)->(1.000000): stub !!!
fixme:quartz:FilterGraphInner_QueryInterface unknown interface {df0b3d60-548f-101b-8e65-08002b2bd119}
fixme:quartz:FilterGraphInner_QueryInterface unknown interface {df0b3d60-548f-101b-8e65-08002b2bd119}
fixme:quartz:FilterGraphInner_QueryInterface unknown interface {df0b3d60-548f-101b-8e65-08002b2bd119}",3,"0"
"WINE-23407","Death to Spies Moment of Truth: character bodies (player and NPCs) are invisible","In the game Death to Spies Moment of Truth characters including main character and NPC don't render as they should as only the weapons and additional material carried by the individual is shown.

Here's some screenshots alluding this bug:

http://img807.imageshack.us/i/deathtospies.jpg/
http://img101.imageshack.us/i/deathtospies1.jpg/
http://img534.imageshack.us/i/deathtospies2.jpg/

I tested with Ubuntu Lucid and a hd2600xt agp using the latest fglrx (catalyst 10.6) and native d3dx9_*.dll (installed with winetricks). Can't really state whether is a Wine bug or a driver related problem as i don't own any nvidia card. 

Adding to the aforemented situation the game crashes when defining texture size to high. 

Excluding these bugs it actually runs very well i could even use Depth of Field when selecting it on Windows corrupts textures and the overall colours.",1859,"1"
"WINE-29757","Burraconline Client 4.53 reports error BurracoClient has encountered a user-defined breakpoint","Created attachment 38633
A screenshot of the bug.

At the opening of BurraconlineClient the message BurracoClient has encountered a user-defined breakpoint. shows. If I click on Debug it opens a dialog windows that tells that the program BurracoClient.exe has encountered an error and has to be closed.",729,"1"
"WINE-36596","valgrind shows a definite leak in windowscodecs/tests/propertybag.c","==19133== 40 bytes in 2 blocks are definitely lost in loss record 227 of 550
==19133==    at 0x7BC4C6DF: notify_alloc (heap.c:255)
==19133==    by 0x7BC50F23: RtlAllocateHeap (heap.c:1716)
==19133==    by 0x51537AF: IMalloc_fnAlloc (ifs.c:186)
==19133==    by 0x51540CA: CoTaskMemAlloc (objidl.h:1236)
==19133==    by 0x4E729DC: copy_propbag2 (propertybag.c:225)
==19133==    by 0x4E72B85: PropertyBag_GetPropertyInfo (propertybag.c:255)
==19133==    by 0x4CDCC90: test_propertybag_getpropertyinfo (ocidl.h:5658)
==19133==    by 0x4CDDF43: test_filled_propertybag (propertybag.c:270)
==19133==    by 0x4CDDFC6: func_propertybag (propertybag.c:287)
==19133==    by 0x4CE87DA: run_test (test.h:584)
==19133==    by 0x4CE8BC9: main (test.h:654)
==19133==",21,"0"
"PACKAGING-43237","Dead link for Mageia packages","Hello 
first of all excuse my english.

i need to update my version of wine so i go to the page  and try and put the command 
 
but get an error :
<ajout du média « WineHQ 64-bit »
... échec de la récupération : curl a échoué : sortie avec 22

pas de métadonnées trouvées pour le média « WineHQ 64-bit »>
=> yes i am a frenchy -)

i click on Mageia link but this is a dead link...
in fact 
 
doesn't exist on the site !

i read a post on the forum

but i can't find the bug to be created so i create this one.
hope this is the good place ...

who can help us ? (all Mageia users)

best regards
xavier",40,"0"
"WINE-866","Wine fails to find freetype & x11drv","Assuming fixed and closing previous details were deleted by Bugzilla update.",38,"0"
"WINE-42074","osu! - Audio latency regression (ALSA)","Introduced in wine 1.9.10 still present in 2.0-rc3. Copying my description from a comment on another issue.

Hello I'd like to describe my experience with the added sound latency. I'm the author of https://bugs.winehq.org/show_bug.cgi?id=40716

I'm using ALSA (no PulseAudio) with patched winealsa.drv for reduced latency. The patch is simply changing three constants at the top of mmdevdrv.c (DefaultPeriod MinimumPeriod EXTRA_SAFE_RT) to lower values (the ones that work for me: 22000 22000 11000 respectively).

On wine 1.9.9 and earlier where everything works fine this results in an extremely low (almost none) audio latency which is good. Reducing DefaultPeriod and MinimumPeriod lower makes the sound crackle a lot. Reducing EXTRA_SAFE_RT doesn't seem to change anything.

On wine 1.9.10 and above the minimal values of the constants seem to be around 10000 and 10000 for me below that there's no sound at all (there's no crackling stage). The audio latency is much higher (both on good values from wine 1.9.9 and on the new minimal values) which makes the game feel much worse.

Arch Linux x64
32-bit wine prefix",12,"0"
"WINE-835","Add support for the new PDB format","(from WineConf) This format has been recently added it is also called 'MSF 7.0'
and does not work with winedbg's current PDB code.

Supporting this new format would be useful to people trying to port their own
applications to Wine (since they obviously have the debug information). Again
the workaround is to instruct the compiler to use the old debug format but this
may not be possible when working with third party libraries.
Support would also be useful if this format is used to ship the debug
information for libraries that come with Windows 2000 or Windows XP.

However we have yet to find an example of a PDB file in this format. If someone
does find such PDB files please attach a small sample to this bug (source
file+.exe+.pdb)
Are the PDB files shipped with the MS development SDK in the new XP format?

Here is a related post on wine-devel:
 * 2002/05/30 - Tijs van Bakel - Debug information
   http://www.winehq.com/hypermail/wine-users/2000/11/0573.html",2711,"1"
"WINE-27087","Space Empires: Star Fury hangs with sound enabled (Alsa full hw. acceleration)","Created attachment 34522
plain terminal output

The game becomes unresponsive when sounds are enabled and Alsa is set to full hw. acceleration (default).
The easiest way to reproduce the issue in the demo by choosing  from the main menu then click on . Another occurrence of the problem is when you try to create a new game: the game hangs after you've entered the name of your ship and commander.

Workaround: Alsa with 'emulation' mode.

Note #1 (when testing): in-game music must be disabled otherwise the game hits bug #2748.
Note #2: if you encounter mostly black screen after starting the game you need to change ORM to backbuffer.

To reproduce the problem in the demo:
1) Install the demo as usual.
2) Launch the demo by StarFury.exe the first time: this will create the corresponding registry entry for the game. Quit the launcher and fire up regedit. Look for the key under HKCU/Software/Malfador Machinations/Star Fury. Change the value of 'Play Music' from true to false.
3) Launch the demo again (now with disabled music). In the main menu select . When you've seen enough of it click on : the game will hang.

The problem didn't occur in Wine-1.3.16:

15ad749eced53e0c33454970bfc2bdb58b64f92b is the first bad commit
commit 15ad749eced53e0c33454970bfc2bdb58b64f92b
Author: Jörg Höhle 
Date:   Sat Mar 26 07:44:22 2011 +0100

    Revert winmm: Fix PlaySound so it doesn't block when another sound is already playing..
    
    This reverts commit f44bc89bc41b2b8d75eeb4fc02f5aa587d84c13c.
    Let the player thread call waveOutReset itself instead.

:040000 040000 c2dad4069a0edd88b5e2a1f917530f181d4ffb08 344143fca0150b28cf8473c9e62d81f1f89b6454 M	dlls

Fedora 14 32-bit
Kernel 2.6.38.5
Alsa 1.0.24
Audio device: nVidia Corporation MCP61 High Definition Audio (rev a2)

If you need a log with specific debug channels enabled just ask...",74,"0"
"WINE-17875","GetTempFileName with unique != 0 broken","GetTempFileName called with a non-zero value for unique will not check if a file could be actually written in the provided path. 

Paint Shop Pro 9 (and it seems 8 too) uses the return code to test if it should create several temp directories. So under wine it will always fail if unique is non-zero GetTempFileName will currently not test anything and won't return zero so creation of the undo files later will fail because the directory doesn't exists.

As the documentation tells the file isn't created my first patch isn't correct:


...
    if (unique) {
        sprintfW( p formatW unique )
        /* need to check if we can create the file so applications can detect if they can write */
        HANDLE handle
        handle = CreateFileW( buffer GENERIC_WRITE 0 NULL
                              CREATE_NEW FILE_ATTRIBUTE_NORMAL 0 )
        if (handle != INVALID_HANDLE_VALUE)
        {  /* We created it */
           CloseHandle( handle )
           TRACE(created %s\n debugstr_w(buffer) )
           return unique 
        }
        /* Failure */
        return 0
    }
    else
    {
        /* get a random unique number and try to create the file */
...

It should check the directory if it exists.",573,"1"
"WINE-24587","CDBurnerXP: can't access data disc mode","Created attachment 31053
Terminal output

Accessing data disc mode in CDBurnerXP isn't possible anymore in wine-1.3.4 choosing it from the main menu just yields an error report dialog from the program. I did a regression test:

c8a48f237e43174673fa3686ebe99e42f6a0d8a4 is the first bad commit
commit c8a48f237e43174673fa3686ebe99e42f6a0d8a4
Author: Vincent Povirk 
Date:   Thu Sep 30 16:07:53 2010 -0500

    gdiplus: Don't create a DIB section for non-alpha or reference bitmaps.

:040000 040000 07d4dd9deff466eaeb5a5b4a79541bcfc8c6c1c6 3fb622798b75c1479d5ea652762809c21485ff34 M    dlls

Reverting that patch works around the problem.

(The program needs winetricks dotnet20 to run.)",40,"0"
"WINE-27159","Wine doesn't recognise the NVIDIA GT 540M card","Created attachment 34690
patch to recognise nvidia GT540M card

Wine doesn't recognise the NVIDIA GT 540M card.

lspci shows for the card:

01:00.0 VGA compatible controller: nVidia Corporation Device 0df4 (rev a1)

AFAIK the card can come with 1GB or 2GB of RAM.

The attached patch adds the card and assumes it has 1GB RAM. It works in Crysis2 ie Crysis2 tells me that it is an unsupported card but gives the correct details now instead of defaulting to the 8300GS.",248,"1"
"WINE-24196","oleaut32: typelib registration should not fail bitness-neutral assemblies (32-bit typelib wrapped in 64-bit PE x64 .NET 2.0 installer)","Hello

another x64 .NET Framework 2.0 installer bug.
The typelib registration fails for some assemblies:

--- snip ---
...
002c:Call KERNEL32.CreateProcessA(000000007fffec16f650 \C:\\windows\\Microsoft.NET\\Framework64\\v2.0.50727\\regtlibv12.exe\ \C:\\windows\\Microsoft.NET\\Framework64\\v2.0.50727\\System.Drawing.tlb\00000000000000007fff000000010000000000000000000000007fffec8edfe87fffec8eb9e0) ret=4fc035780
...
002e:Call oleaut32.LoadTypeLib(7ffff143f880 LC:\\windows\\Microsoft.NET\\Framework64\\v2.0.50727\\System.Drawing.tlb7ffff143f870) ret=004027bf 
...
002e:Call KERNEL32.LoadLibraryExW(7ffff143f360 LC:\\windows\\Microsoft.NET\\Framework64\\v2.0.50727\\System.Drawing.tlb000000000000000b) ret=7ffff105ffb0
002e:Ret  KERNEL32.LoadLibraryExW() retval=7fffefad0001 ret=7ffff105ffb0 
...
002e:Ret  oleaut32.LoadTypeLib() retval=00000000 ret=004027bf
002e:Call oleaut32.RegisterTypeLib(7ffff74d30d07ffff143f880 LC:\\windows\\Microsoft.NET\\Framework64\\v2.0.50727\\System.Drawing.tlb00000000) ret=00402808
...
002e:Ret  oleaut32.RegisterTypeLib() retval=800288bd ret=00402808
...
002c:Call msi.MsiRecordSetStringW(00000005000000007fffec8ec620 LRegisterTypeLib of C:\\windows\\Microsoft.NET\\Framework64\\v2.0.50727\\System.Drawing.tlb failed : 800288bd) ret=4fc0358bd 
--- snip ---

The PE file containing typelib resources System.Drawing.tlb is a PE64 binary.

Dumping the typelib resource reveals:

--- snip ---
 Offset    0  1  2  3  4  5  6  7  8  9  A  B  C  D  E  F   Ascii

000002B0  4D 53 46 54 02 00 01 00 00 00 00 00 09 04 00 00  MSFT.........
000002C0  00 00 00 00 41 00 00 00 02 00 00 00 00 00 00 00  ....A..........
000002D0  0C 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  ...............
--- snip ---

flags: 0x41 -> indicates the typelib itself is 32 bit (SYSKIND = SYS_WIN32)

The folder c:\windows\Microsoft.NET\Framework64\v2.0.50727\ contains assemblies with following characteristics:

64-bit PE + 64 bit typelib part (flags = 0x43 -> SYSKIND = SYS_WIN64)
64-bit PE + 32 bit typelib part (flags = 0x41 -> SYSKIND = SYS_WIN32)

I verified that Wine msi correctly installs them into their appropriate 32 bit and 64 bit folders.

The 32-bit counterparts from c:\windows\Microsoft.NET\Framework\v2.0.50727\ are all:

32-bit PE + 32 bit typelib part (flags = 0x41 -> SYSKIND = SYS_WIN32)

===

What causes the embedded typelib to be 32-bit?
Well the .NET assemblies these typelibs belong to are flagged as MSIL assemblies.
These are bitness-neutral assemblies that are portable and can run under any platform.

When you look at 64-bit -> c:\windows\Microsoft.NET\Framework64\v2.0.50727\RedistList\FrameworkList.xml:

--- snip ---

--- snip ---

Example for bitness-aware assembly (managed C++ assemblies are automatically platform specific):

64-bit -> c:\windows\Microsoft.NET\Framework64\v2.0.50727\RedistList\FrameworkList.xml:

--- snip ---

--- snip ---

32-bit -> c:\windows\Microsoft.NET\Framework\v2.0.50727\RedistList\FrameworkList.xml:

(the 64 bit .NET Framework 2.0 redist contains both: the 64 bit _and_ 32 bit runtime)

--- snip ---

--- snip ---

I guess Wine should not fail on these bitness-neutral assemblies that contain 32-bit typelibs.

--- snip dlls/oleaut32/typelib.c ---

HRESULT WINAPI RegisterTypeLib(
     ITypeLib * ptlib     /* [in] Pointer to the library*/
     OLECHAR * szFullPath /* [in] full Path of the library*/
     OLECHAR * szHelpDir)  /* [in] dir to the helpfile for the library
							 may be NULL*/
{
...
    if (ptlib == NULL || szFullPath == NULL)
        return E_INVALIDARG

    if (FAILED(ITypeLib_GetLibAttr(ptlib &attr)))
        return E_FAIL

    TRACE((%s%d) debugstr_w(szFullPath) attr->syskind)

#ifdef _WIN64
    if (attr->syskind != SYS_WIN64) return TYPE_E_BADMODULEKIND
#else
    if (attr->syskind != SYS_WIN32 
#endif
...
}
--- snip dlls/oleaut32/typelib.c ---

Regards",1109,"1"
"WINE-27460","Buzz tracker crashes","Created attachment 35113
error message

Buzz tracker 1.2b (old version) doesn't run anymore (it was working fine in 1.3.20):

It happens with a clean wine prefix. Rolling back to 1.3.20 and everything is fine again.

Here's a link to the installer (from buzzmachines.com):
http://avdl1064.oli.tudelft.nl/buzzmachines/Buzzmachines_Stealth_Pack_Feb2004.exe",8,"0"
"WINE-9388","installer stuck for TRS 2006 Demo","When trying to install the demo for TRS 2006 the installer gets stuck on the first installation wizard page.

output from the terminal:

fixme:actctx:parse_depend_manifests Could not find dependent assembly LMicrosoft.Windows.Common-Controls
fixme:actctx:parse_depend_manifests Could not find dependent assembly LMicrosoft.Windows.Common-Controls
err:ole:TLB_ReadTypeLib Loading of typelib Lc:\\Program Files\\Common Files\\InstallShield\\Professional\\RunTime\\IsProBE.tlb failed with error 2",250,"1"
"WINE-32564","Visual Studio 2010 (10.0) Express Edition needs atl100.dll.AtlAxDialogBoxW","Hello folks

found while investigating bug 32562
After clicking OK in project creation wizard nothing happens and the following is shown in console:

--- snip ---
0009:trace:seh:raise_exception code=80000100 flags=1 addr=0x7b83aa77 ip=7b83aa77 tid=0009
0009:trace:seh:raise_exception  info[0]=7ec005c0
0009:trace:seh:raise_exception  info[1]=7ec0065d
wine: Call from 0x7b83aa77 to unimplemented function atl100.dll.AtlAxDialogBoxW aborting
0009:trace:seh:call_vectored_handlers calling handler at 0x791f5a7c code=80000100 flags=1
--- snip ---

Source: http://source.winehq.org/git/wine.git/blob/c0456aea76bcd8ce77d7c91dfc95a5ff8670e344:/dlls/atl100/atl100.spec#l21

--- snip ---
  21 35 stub AtlAxDialogBoxW
  22 36 stub AtlAxDialogBoxA
--- snip ---

Prerequisite: 'winetricks -q dotnet20 dotnet40 windowscodecs corefonts'

Regards",22,"0"
"WINE-23101","Simutrans 102.2.2: unimplemented function msvcr80.dll._findfirst64i32","Created attachment 28701
crash log

Simutrans 102.2.2 fails because of: unimplemented function msvcr80.dll._findfirst64i32 called in 32-bit code.

Possibly related to bug 22044.",146,"0"
"WINE-23538","incredimail doesn't install","After fixing Bug 20223  . The program no longer installs  . 
In the program folder are :
ssce5432.dll  
sqlite3.dll 
SftTree_IX86_U_60.dll",15,"0"
"WINEHQ_APPS_DATABASE-9028","Fixing notices","I've started finding all notices and fixing them but especially the pages with
the huge forms have tons of notices due to 'bad' coding. Gonna take a while :)",24,"0"
"WINE-25494","Office Pro 2010 Trial: Word Excel and Powerpoint cannot open or save OOXML (docx xlsx pptx) files","Created attachment 32457
Trying to open an xlsx file

To reproduce:
1. Deselect Outlook when installing to get around bug 25476.
2. Start Excel. When the activation wizard comes up click cancel (bug 25478)
3. Install urlmon with winetricks to get around bug 25492.
4. Try to open an xlsx file. Excel will throw up an error message that it found unreadable content in the file and ask if you want to recover the contents. If you click yes it will tell you that the workbook cannot be opened or repaired.

Word and Powerpoint behave similarly though the wording of their error messages is slightly different. 

I don't have a workaround for this one. I tried winetricks msxml3 msxml4 and msxml6 but they did not help.",364,"1"
"WINE-4632","InstallShield (MediaShout v3) fails to install with error -1603","When trying to install MediaShout v3 (a popular program in a certain niche)
trial version InstallShield fails with error:
Unhandled exception
Error Number: 0x80040706
Description: Object reference not set

Console output:
$  ~/tmp/wine/wine SetupMediaShoutEV3.exe
fixme:msi:MsiGetProductInfoW L{11A45BD0-CBC1-4CEF-B979-D84D133C7E7D}
LPackageCode 0x7ff0ffa8 0x7fb9d750
fixme:msi:MsiInstallProductW LC:\\windows\\temp\\_is3df\\ISScript10.Msi
LREBOOT=ReallySuppress ADDLOCAL=All
err:msi:ITERATE_DuplicateFiles Failed to copy file Lc:\\Program Files\\Common
Files\\InstallShield\\Driver\\10\\Intel 32\\IDriver.exe -> Lc:\\Program
Files\\Common Files\\InstallShield\\Driver\\10\\Intel 32\\ last error 80
fixme:msi:ITERATE_DuplicateFiles We should track these duplicate files as well
fixme:msi:ACTION_HandleStandardAction unhandled standard action
LRemoveRegistryValues
fixme:msi:ACTION_HandleStandardAction unhandled standard action LRemoveFolders
fixme:msi:ACTION_HandleStandardAction unhandled standard action LValidateProductID
err:msi:deformat_environment Unknown environment variable LALLUSERSPROFILE




Last lines with WINEDEBUG=warn+all :
warn:rpc:RPCRT4_Receive ReadFile failed with error 109
warn:rpc:RPCRT4_io_thread receive failed with error 6c0
warn:sync:SetNamedPipeHandleState stub: 0x164 0x7f117a38/2 (nil) (nil)
warn:rpc:RPCRT4_Receive ReadFile failed with error 109
warn:rpc:RPCRT4_io_thread receive failed with error 6c0
warn:file:wine_nt_to_unix_file_name Lsfc.dll not found in
/home/z/.wine/dosdevices/c:/windows/system32
warn:ntdll:NtQueryFullAttributesFile L\\??\\C:\\windows\\system32\\sfc.dll not
found (c0000034)
warn:file:wine_nt_to_unix_file_name
L\\??\\C:\\PROG~FBU\\COMM~CP1\\INST~JM1\\Driver\\10\\INTE~MEX\\IDriver.exe ->
/home/z/.wine/dosdevices/c:/Program Files/Common
Files/InstallShield/Driver/10/Intel 32/IDriver.exe required a case-insensitive
search
warn:file:wine_nt_to_unix_file_name
L\\??\\C:\\PROG~FBU\\COMM~CP1\\INST~JM1\\Driver\\10\\INTE~MEX\\IDriver.exe ->
/home/z/.wine/dosdevices/c:/Program Files/Common
Files/InstallShield/Driver/10/Intel 32/IDriver.exe required a case-insensitive
search
warn:gdi:GDI_GetObjPtr Invalid handle 0x358
warn:gdi:GDI_GetObjPtr Invalid handle (nil)
warn:gdi:GDI_GetObjPtr Invalid handle (nil)
warn:file:wine_nt_to_unix_file_name
L\\??\\C:\\PROG~FBU\\COMM~CP1\\INST~JM1\\Driver\\10\\INTE~MEX\\IDriver.exe ->
/home/z/.wine/dosdevices/c:/Program Files/Common
Files/InstallShield/Driver/10/Intel 32/IDriver.exe required a case-insensitive
search
warn:file:wine_nt_to_unix_file_name
L\\??\\C:\\PROG~FBU\\COMM~CP1\\INST~JM1\\Driver\\10\\INTE~MEX\\IDriver.exe ->
/home/z/.wine/dosdevices/c:/Program Files/Common
Files/InstallShield/Driver/10/Intel 32/IDriver.exe required a case-insensitive
search
warn:gdi:GDI_GetObjPtr Invalid handle (nil)
warn:heap:GlobalUnlock 0x7d912bea not locked
warn:rpc:RPCRT4_Receive ReadFile failed with error 109
warn:rpc:RPCRT4_io_thread receive failed with error 6c0
warn:sync:SetNamedPipeHandleState stub: 0x8c 0x7f5bea38/2 (nil) (nil)
warn:rpc:RPCRT4_Receive ReadFile failed with error 109
warn:rpc:RPCRT4_io_thread receive failed with error 6c0
warn:driver:CloseDriver Failed to close driver
warn:driver:CloseDriver Failed to close driver
warn:driver:CloseDriver Failed to close driver
warn:driver:CloseDriver Failed to close driver
warn:driver:CloseDriver Failed to close driver




System/environment:
* Fedora Core 4 x86-32
* WINE from today's CVS
* GCC v4.0.2
* Linux 2.6.15-1.1831_FC4
* Clean */.wine


This bug is similiar to bug 4181 but I tried suggestion in comment #1 there
(regarding setting a registry key) and it didn't seem to make any difference. 
(Also I spelled manger as manager.)


The MediaShout installer is a free download from
http://www.mediashout.com/try/30_ev.cfm (just enter some email) or maybe
http://www.mediashout.com/download/SetupMediaShoutEV3.exe",208,"0"
"WINE-545","DLL Separation: x11drv from ntdll (VIRTUAL_SetFaultHandler)","Note that there is no garantee that this can really be done independently from
the other DLL separation tasks. The best way to find out it to try. If you fix
one of these references then update this bug accordingly and close it when
none remain.

./libx11drv.so: undefined reference to `VIRTUAL_SetFaultHandler'",591,"1"
"WINE-23879","Mopsos does not start","Application does not even start. Wine reports fixme:advapi:SetSecurityInfo stub and application terminates silently.

Mopsos-link in app-db: http://appdb.winehq.org/objectManager.php?sClass=version&iId=20981

Issue occured in current version of Wine 1.2 package for Ubuntu Jaunty (wine_1.2-0ubuntu1~jauntyppa1_i386.deb) before it worked nearly flawless.",1,"0"
"WINE-19131","GNU Emacs 22.3 multiple graphical glitches [dogfood]","GNU Emacs 22.3 compiled for Windows works well on wine but looks quite odd. Attached screenshot illustrates the problem. Emacs is running on its default configuration now.

1. Two thin blue lines shows real window borders. As you can see there are misdrawn vertical transparent strips at the right and bottom window borders.
2. There is a gap between menu bar and unfolded menu.
3. When scrolling buffer with C-n/C-v/C-p or with PgUp/PgDn or with arrows buttons the lower half of the buffer is not rendered at all. Moving text cursor on symbols which should be shown in this part of the buffer makes them visible.

I'm also in doubt whether toolbar is filled with right colour.

The other problem is that moving Emacs window to the different workspace or switching current workspace makes Emacs window to complely disappear but I don't know is this problem WM-specific (I'm using dwm 5.4.1).",87,"0"
"WINE-44922","Cisco Jabber 11.x crashes on unimplemented function IPHLPAPI.DLL.GetIpForwardTable2","Hello folks

extracted from bug 37228 (https://bugs.winehq.org/show_bug.cgi?id=37228#c21)

--- snip ---
$ env WINEPREFIX=/home/xxxxxx/.wine32 wine 'C:\Program Files\Cisco Systems\Cisco Jabber\CiscoJabber.exe' 
...
0009:fixme:shcore:GetDpiForMonitor (0x1 0 0x32ef48 0x32ef44): semi-stub
0009:fixme:netapi32:DsGetDcNameW ((null) (null) (null) (null) 40000000 0x96ad1dc): stub
0009:fixme:ntdsapi:DsBindW ((null)(null) 0x96ad1d8): stub!
0009:fixme:ntdsapi:DsCrackNamesW : stub
wine: Call from 0x7bc51289 to unimplemented function IPHLPAPI.DLL.GetIpForwardTable2 aborting
....
--- snip ---

Regards",11,"0"
"WINE-4965","Unable to right click on TCL windows apps","I'm trying to run the CSLU toolkit (writen in TCL for windows) in wine but the
right click context menus are unreachable.  The menu appears but I can't click
on any items on it.  Also the drag and drop functionnality is not working
when I try to add objects on a project: actually it is working but you have to
do it VERY VERY fast.

Thank you!",1254,"1"
"WINE-26508","Atom Zombie Smasher demo window is not fullscreen","This requires winetricks vcrun2005 to work around bug 26025.

The demo defaults to fullscreen but the window is unable to switch to a fullscreen mode. Instead it is a window the same size as the screen. The program is able to change the screen size or switch into a properly windowed mode where it's smaller than the screen.",9,"0"
"WINE-28854","Videos in VLC only show a black screen unless DirectDrawRenderer is set to GDI","Created attachment 37063
terminal output

Another regression for Henri :). Terminal output attached.

Easy to reproduce with `winetricks -q --no-isolate vlc`.",4,"0"
"WINE-25950","SEE_MASK_NO_CONSOLE flag in ShellExecuteEx have opposite effect","Created attachment 33084
compiled executable

Despite of what MSDN is saying SEE_MASK_NO_CONSOLE in not equivalent of CREATE_NEW_CONSOLE from CreateProcess it its opposite.
On Windows this test program runs in single window but in wine it creates separate console.

#include 

int main(int nargschar *args[])
{
  SHELLEXECUTEINFOW si={sizeof(si)}
  si.fMask=SEE_MASK_FLAG_NO_UI|SEE_MASK_NOASYNC|SEE_MASK_NOCLOSEPROCESS|SEE_MASK_NO_CONSOLE
  si.lpFile=Lcmd.exe
  si.lpParameters=L/C dir 
  si.nShow = SW_SHOWNORMAL
  ShellExecuteExW(
  WaitForSingleObject(si.hProcess INFINITE)
  return 0
}",1577,"1"
"WINE-32381","QQ2012 crashes at start","Created attachment 42729
Log: QQ2012 crashes

$ sha1sum QQ2012.exe 
2fd79ccf1d60769a6e68987c9518294bec255517  QQ2012.exe

1. install QQ2012 with Wine

2. set atl80 to native workaround Bug 30512

3. start QQ.exe with winedbg or it will not print backtrace but create a minidump instead

$ cd ~/.wine/drive_c/Program\ Files/Tencent/QQ/Bin
$ winedbg QQ.exe

4. type any account and password then click the login button (登录)

QQ.exe crashes after clicking:
Backtrace:
=>0 0x7e7ce676 OleDraw+0x15(pUnk=(nil) dwAspect=0x10 hdcDraw=0x10153 rect=0x22ee58c) [/home/fracting/wine-git/dlls/ole32/ole2.c:2549] in ole32 (0x022ee554)
  1 0x6512e77c in loginpanel (+0x2e77b) (0x022ee570)
...
0x7e7ce676 OleDraw+0x15 [/home/fracting/wine-git/dlls/ole32/ole2.c:2549] in
ole32: movl 0x0(%eax)%eax
2549      hres = IUnknown_QueryInterface(pUnk",0,"0"
"WINE-5392","Platform SDK fails to install because of unhandled msiexec option","Running wine PSDK_x86.exe brings up a splash screen then wine's msiexec prints
out it's legal usage.  A +process log shows that the setup is trying to call
msiexec like so:

msiexec -i
http://download.microsoft.com/download/a/5/f/a5f0d781-e201-4ab6-8c6a-9bb4efed1e1a/PSDK-x86.msi

As of now msiexec does not handle the -i option and changing it to /i doesn't
work because we don't try to download the msi file.  Testing is required to
determine the behavior of the -i option (unless it's already known).  In any
case we need to implement downloading of msi files if they are not local.",39,"0"
"WINE-28677","Mini Boulder Dash 2 won't start","Sorry for my english.

There is a problem with freeware game: Mini Boluder Dash 2
Please see the attachment below or follow this link: http://www.megaupload.com/?d=YYDAJSWD

wine-1.2.3 game runs OK 
wine-1.3.24 game runs OK

from wine-1.3.24 to wine-1.3.30 - game does not run

Error:

wine: configuration in '/home/USER/.wine' has been updated.

err:ntdll:RtlpWaitForCriticalSection section 0x7efec2a4 
../../../wine-1.3.25/dlls/ntdll/loader.c: loader_section 
wait timed out in thread 0034 blocked by 0009 retrying (60 sec)",98,"0"
"WINE-502","Convert HTASK to a void* (references: 17)","See bug 90 for instructions.
Approximate number of references: 17",131,"0"
"WINE-14316","Elona is really slow","The Roguelike Elona (versions 1.08 and 1.11 at least) is abnormally slow (especially during gameplay) both in rendering and input.  There are no interesting fixmes or anything for clues.  CPU usage is quite high.

Unsuccessfully tried to run it through winedbg for breaking during slowness.",1183,"1"
"WINE-32104","KwMusic: crashes during installing","Created attachment 42329
the log of installing

I installed KwMusic(酷我音乐) in wine and it crashed during installing.

my test environment:
- Ubuntu 12.04.1 32bit 
- Wine 1.5.16 
- KwMusic: https://www.dropbox.com/s/ck5pmoc5ls9sk5m/kwmusic2012.exe .

you can reproduce the bug follow:
0. download KwMusic: https://www.dropbox.com/s/ck5pmoc5ls9sk5m/kwmusic2012.exe
1. 'wine kwmusic2012.exe' to begin the installing.

attachment:
kwmusic.log is the log of installing",1953,"1"
"WINE-6693","wink 2.0 can't capture","wink (recommended by http://openlife.eu/post/1/140)
has a Linux version but I wanted to try the
Windows version under Wine as a test of Wine.

It installed ok and can render presentations ok
(though you have to hunt for the web browser tab 
it launches sometimes) but it can't capture.
The problems start with picking the window to capture
from it's supposed to notice windows as you mouse over
them but it doesn't.

This is on Ubuntu dapper using the precompiled Wine-0.9.25
package from winehq.",739,"1"
"WINE-1786","Championship Manager 4 Demo","Innstallation went fine after installing dcom98 but when trying to load a quickstart 
I get this error:  
 
wine: Unhandled exception (thread 0009) starting debugger... 
WineDbg starting on pid 8 
No debug information in ELF 'wine' ((nil)) 
Breakpoint 1 at 0x4000b190 
No debug information in ELF '/usr/lib/wine/lib/libwine.so.1' (0x40014000) 
No debug information in ELF '/lib/libc.so.6' (0x4003a000) 
No debug information in ELF '/lib/libdl.so.2' (0x40162000) 
No debug information in ELF '/lib/libm.so.6' (0x40165000) 
No debug information in ELF '/lib/ld-linux.so.2' (0x40000000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/ntdll.dll.so' (0x40187000) 
No debug information in ELF '/usr/lib/wine/lib/libwine_unicode.so.1' (0x401f1000) 
No debug information in ELF '/lib/libnss_compat.so.2' (0x402e6000) 
No debug information in ELF '/lib/libnsl.so.1' (0x402f1000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/kernel32.dll.so' 
(0x40420000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/user32.dll.so' 
(0x40763000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/gdi32.dll.so' 
(0x408a0000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/advapi32.dll.so' 
(0x4091c000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/shell32.dll.so' 
(0x4094b000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/shlwapi.dll.so' 
(0x409bf000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/comctl32.dll.so' 
(0x40a0f000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/wsock32.dll.so' 
(0x40ab6000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/ws2_32.dll.so' 
(0x40acd000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/iphlpapi.dll.so' 
(0x40aef000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/dsound.dll.so' 
(0x40b0c000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/winmm.dll.so' 
(0x40b40000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/msvcrt.dll.so' 
(0x40bac000) 
No debug information in ELF '/usr/lib/libfreetype.so.6' (0x40bec000) 
No debug information in ELF '/usr/lib/libz.so.1' (0x4052b000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/x11drv.dll.so' 
(0x40c46000) 
No debug information in ELF '/usr/X11R6/lib/libSM.so.6' (0x40305000) 
No debug information in ELF '/usr/X11R6/lib/libICE.so.6' (0x40caa000) 
No debug information in ELF '/usr/X11R6/lib/libXxf86dga.so.1' (0x40539000) 
No debug information in ELF '/usr/X11R6/lib/libXxf86vm.so.1' (0x40542000) 
No debug information in ELF '/usr/X11R6/lib/libXrandr.so.2' (0x40548000) 
No debug information in ELF '/usr/X11R6/lib/libXrender.so.1' (0x40cc1000) 
No debug information in ELF '/usr/X11R6/lib/libXv.so.1' (0x40cc9000) 
No debug information in ELF '/usr/X11R6/lib/libXext.so.6' (0x40cce000) 
No debug information in ELF '/usr/X11R6/lib/libX11.so.6' (0x40cde000) 
No debug information in ELF '/usr/lib/libGL.so.1' (0x40dbd000) 
No debug information in ELF '/usr/lib/libGLcore.so.1' (0x40e26000) 
No debug information in ELF '/usr/X11R6/lib/libXcursor.so.1' (0x4139b000) 
No debug information in ELF '/usr/X11R6/lib/X11/locale/lib/common/xlcDef.so.2' 
(0x4002c000) 
No debug information in ELF '/usr/X11R6/lib/X11/locale/lib/common/ximcp.so.2' 
(0x413a5000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/wineoss.drv.so' 
(0x414e0000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/msacm.drv.so' 
(0x41513000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/msacm32.dll.so' 
(0x4152b000) 
Loaded debug information from ELF '/usr/lib/wine/lib/wine/midimap.drv.so' 
(0x41660000) 
No debug information in 32bit DLL 'C:\Program Files\Eidos Interactive\CM4 
Demo\cm4.exe' (0x400000) 
No debug information in 32bit DLL 'NTDLL.DLL' (0x401a0000) 
No debug information in 32bit DLL 'KERNEL32.DLL' (0x40450000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\ADVAPI32.DLL' 
(0x40930000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\GDI32.DLL' 
(0x408c0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\USER32.DLL' 
(0x40780000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\OLE32.DLL' 
(0x65f00000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\SHLWAPI.DLL' 
(0x409e0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\COMCTL32.DLL' 
(0x40a20000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\SHELL32.DLL' 
(0x40970000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\IPHLPAPI.DLL' 
(0x40b00000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\WS2_32.DLL' 
(0x40ae0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\WSOCK32.DLL' 
(0x40ac0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\WINMM.DLL' 
(0x40b50000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\DSOUND.DLL' 
(0x40b20000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\MSVCRT.DLL' 
(0x40bc0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\X11DRV.DLL' 
(0x40c60000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\WINEOSS.DRV' 
(0x414f0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\MSACM32.DLL' 
(0x41530000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\MSACM.DRV' 
(0x41520000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\MIDIMAP.DRV' 
(0x41670000) 
Unhandled exception: page fault on read access to 0x00000004 in 32-bit code 
(0x00528413). 
In 32-bit mode. 
0x00528413 (cm4.exe..text+0x127413 in cm4.exe): movl    0x4(%ecx)%edx 
Wine-dbg>Terminated 
 
 
The Url: show's where to d-l the demo. Also email me if u want me to extract 
more info from the Dbg console... 
 
Hope It helps 
Börkur Ingi Jónsson",807,"1"
"WINE-19826",".Net 2.0 Listview isn't updated properly and causes program to hang","Created attachment 23225
Commit e8846b7c78b008bbd5deb7d9f9c7a7793db32c68

A .NET program I use recently started to hang while it was populating it's listviews.  I've run regression tests and determined that commit e8846b7c78b008bbd5deb7d9f9c7a7793db32c68 is the patch that causes the hangs.  I have attached this patch as well.  Reversing this patch in lasted git causes the program to function as expected.

From the looks of it this may mean the program is written improperly.  Unfortunately though this DOES run as expected on windows so having the developer 'fix' it is not an option.

Program: GamParse 
Download link: http://gambosoft.com/Pages/Downloads.htm
Requirements: .Net 2.0
Description: This program reads in a log file generated from EverQuest (a MMORPG) and reports various statistics mainly the DPS (damage) of various characters.

I will also attach a small log file that can be used to test.

Normal operation would be opening the log file from within the program waiting for it to load and then selecting the various fights in the leftmost list and seeing the stats on the different tabs.

Latest operation in git wine is the file never completes loading.",9,"0"
"WINE-44923","Failing kernel driver services can stall WINEPREFIX bootstrapping/startup for a considerable time when configured as autostart","Hello folks

since bug 38836 which have synchronous entry point exection of kernel drivers which is correct behaviour.

Unfortunately the way it was implemented results in considerable wait when drivers fail in entry point which is still very common for various (unsupported) copy protection drivers.

This leads to a stall of WINEPREFIX bootstrapping when drivers have been configured for autostart.

End users will be definitely confused because Wine appears to hang/freeze (with no visible user interface) when one or multiple drivers are failing. Along with some scary looking console messages.

Example of failing StarForce v3 (actual driver problem is not the point of this ticket):

Console log (driver configured as autostart service):

--- snip ---
$ WINEDEBUG=+timestamp notepad
wine: Unhandled page fault on write access to 0x00789000 at address 0x7bc6b20a (thread 0025) starting debugger...
8362.755:000f:err:service:process_send_command service protocol error - failed to read pipe r = 0  count = 0!
8362.755:000f:fixme:service:scmdatabase_autostart_services Auto-start service Lsfdrv01 failed to start: 1053
8362.766:0033:fixme:ntoskrnl:IoCreateSynchronizationEvent (0x65fcb0 0x65fcbc) stub
8362.766:0033:err:winedevice:async_create_driver failed to create driver Lsfhlp02: c000009a
8367.767:0033:err:ntdll:RtlpWaitForCriticalSection section 0x7efff728 /home/focht/projects/wine/wine.repo/src/programs/winedevice/device.c: drivers_cs wait timed out in thread 0033 blocked by 0031 retrying (60 sec)
8372.767:000f:err:service:process_send_command receiving command result timed out
8372.767:000f:fixme:service:scmdatabase_autostart_services Auto-start service Lsfhlp02 failed to start: 1053
8392.779:0031:fixme:ntdll:RtlNtStatusToDosErrorNoTeb no mapping for 0000041d
--- snip ---

Trace log:

--- snip ---
...
0033:Ret  advapi32.SetServiceStatus() retval=00000001 ret=7effb485
0033:Call KERNEL32.CreateEventW(00000000000000010000000000000000) ret=7effbbb4
0033:Ret  KERNEL32.CreateEventW() retval=0000003c ret=7effbbb4
0033:Call KERNEL32.TrySubmitThreadpoolCallback(7effb78e0011b9600043fd34) ret=7effbbd0
...
0033:Ret  KERNEL32.TrySubmitThreadpoolCallback() retval=00000001 ret=7effbbd0
0036:Starting thread proc 0x7bca3cc1 (arg=0x11cb80)
0033:Call KERNEL32.WaitForSingleObject(0000003c00007530) ret=7effbbfb
0036:Call ntdll.RtlAllocateHeap(001100000000000000000020) ret=7effb7d7
0036:Ret  ntdll.RtlAllocateHeap() retval=0011cbf0 ret=7effb7d7
0036:Call ntoskrnl.exe.RtlInitUnicodeString(0065fdc00011cbf0 L\\Driver\\sfhlp02) ret=7effb81e
0036:Call ntdll.RtlInitUnicodeString(0065fdc00011cbf0 L\\Driver\\sfhlp02) ret=7bc803ab
0036:Ret  ntdll.RtlInitUnicodeString() retval=0065fdc0 ret=7bc803ab
0036:Ret  ntoskrnl.exe.RtlInitUnicodeString() retval=0065fdc0 ret=7effb81e
0036:Call ntoskrnl.exe.IoCreateDriver(0065fdc07effb15a) ret=7effb832
0036:trace:ntoskrnl:IoCreateDriver (L\\Driver\\sfhlp02 0x7effb15a) 
...
0036:Call driver init 0x785300 (obj=0x11cc28str=L\\Registry\\Machine\\System\\CurrentControlSet\\Services\\sfhlp02)
0036:Call ntoskrnl.exe.RtlInitUnicodeString(0065fc8400785000 L\\Device\\sfhlp02) ret=007850b8
0036:Call ntdll.RtlInitUnicodeString(0065fc8400785000 L\\Device\\sfhlp02) ret=7bc803ab
0036:Ret  ntdll.RtlInitUnicodeString() retval=0065fc84 ret=7bc803ab
...
0036:Call ntoskrnl.exe.IoCreateDevice(0011cc28000000000065fc8400009000000000000000000000783004) ret=007850f8
0036:trace:ntoskrnl:IoCreateDevice (0x11cc28 0 L\\Device\\sfhlp02 36864 0 0 0x783004)
...
0036:Ret  ntoskrnl.exe.IoCreateDevice() retval=00000000 ret=007850f8
0036:Call ntoskrnl.exe.IoCreateSymbolicLink(0065fc6c0065fc84) ret=00785114
0036:trace:ntoskrnl:IoCreateSymbolicLink L\\DosDevices\\sfhlp02 -> L\\Device\\sfhlp02
0036:Call ntdll.NtCreateSymbolicLinkObject(0065fbe4000f00010065fbcc0065fc84) ret=7ec1588e
0036:Ret  ntdll.NtCreateSymbolicLinkObject() retval=00000000 ret=7ec1588e
0036:Ret  ntoskrnl.exe.IoCreateSymbolicLink() retval=00000000 ret=00785114
0036:Call ntoskrnl.exe.IoCreateDevice(0011cc28000000000065fc7c00009001000000000000000000783008) ret=0078513f
0036:trace:ntoskrnl:IoCreateDevice (0x11cc28 0 L\\Device\\sfhlp02i 36865 0 0 0x783008)
...
0036:Ret  ntoskrnl.exe.IoCreateDevice() retval=00000000 ret=0078513f
0036:Call ntoskrnl.exe.IoCreateSymbolicLink(0065fc740065fc7c) ret=0078515b
0036:trace:ntoskrnl:IoCreateSymbolicLink L\\DosDevices\\sfhlp02i -> L\\Device\\sfhlp02i
0036:Call ntdll.NtCreateSymbolicLinkObject(0065fbe4000f00010065fbcc0065fc7c) ret=7ec1588e
0036:Ret  ntdll.NtCreateSymbolicLinkObject() retval=00000000 ret=7ec1588e
0036:Ret  ntoskrnl.exe.IoCreateSymbolicLink() retval=00000000 ret=0078515b
...
0036:Call ntoskrnl.exe.IoDeleteDevice(0011ce58) ret=00785258
0036:trace:ntoskrnl:IoDeleteDevice 0x11ce58
...
0036:Ret  ntoskrnl.exe.IoDeleteDevice() retval=00000001 ret=00785258
...
0036:trace:ntoskrnl:IoDeleteDevice 0x11cd98
...
0036:Ret  ntoskrnl.exe.IoDeleteDevice() retval=00000001 ret=0078526d
0036:Ret  driver init 0x785300 (obj=0x11cc28str=L\\Registry\\Machine\\System\\CurrentControlSet\\Services\\sfhlp02) retval=c000009a
...
0036:Ret  ntoskrnl.exe.IoCreateDriver() retval=c000009a ret=7effb832
0036:err:winedevice:async_create_driver failed to create driver Lsfhlp02: c000009a
...
0036:err:ntdll:RtlpWaitForCriticalSection section 0x7efff728 /home/focht/projects/wine/wine.repo/src/programs/winedevice/device.c: drivers_cs wait timed out in thread 0036 blocked by 0033 retrying (60 sec) 
--- snip ---

Source:

https://source.winehq.org/git/wine.git/blob/HEAD:/programs/winedevice/device.c#l494

Service handler thread acquires the critsec (line 502):

--- snip ----
 494 static DWORD device_handler( DWORD ctrl const WCHAR *driver_name )
 495 {
 496     struct wine_rb_entry *entry
 497     DWORD result = NO_ERROR
 498 
 499     if (shutdown_in_progress)
 500         return ERROR_SERVICE_CANNOT_ACCEPT_CTRL
 501 
 502     EnterCriticalSection( 
 503     entry = wine_rb_get( 
 504 
 505     switch (ctrl)
 506     {
 507     case SERVICE_CONTROL_START:
 508         if (entry) break
 509         result = RtlNtStatusToDosError(create_driver( driver_name ))
 510         break
 511 
 512     case SERVICE_CONTROL_STOP:
 513         if (!entry) break
 514         result = RtlNtStatusToDosError(unload_driver( entry FALSE ))
 515         break
 516 
 517     default:
 518         FIXME( got driver ctrl %x for %s\n ctrl wine_dbgstr_w(driver_name) )
 519         break
 520     }
 521     LeaveCriticalSection( 
 522     return result
 523 }
--- snip ----

https://source.winehq.org/git/wine.git/blob/HEAD:/programs/winedevice/device.c#l361

Driver thread which executes the entry point tries to acquire critsec on exit path (line 404):

--- snip ---
 361 static void WINAPI async_create_driver( PTP_CALLBACK_INSTANCE instance void *context )
 362 {
 363     static const WCHAR driverW[] = {'\\''D''r''i''v''e''r''\\'0}
 364     struct wine_driver *driver = context
 365     DRIVER_OBJECT *driver_obj
 366     UNICODE_STRING drv_name
 367     NTSTATUS status
 368     WCHAR *str
 369 
 370     if (!(str = HeapAlloc( GetProcessHeap() 0 sizeof(driverW) + strlenW(driver->name)*sizeof(WCHAR) )))
 371         goto error
 372 
 373     lstrcpyW( str driverW)
 374     lstrcatW( str driver->name )
 375     RtlInitUnicodeString( 
 376 
 377     status = IoCreateDriver( 
 378     if (status != STATUS_SUCCESS)
 379     {
 380         ERR( failed to create driver %s: %08x\n debugstr_w(driver->name) status )
 381         RtlFreeUnicodeString( 
 382         goto error
 383     }
 384 
 385     status = ObReferenceObjectByName( &drv_name OBJ_CASE_INSENSITIVE NULL
 386                                       0 NULL KernelMode NULL (void **)
 387     RtlFreeUnicodeString( 
 388     if (status != STATUS_SUCCESS)
 389     {
 390         ERR( failed to locate driver %s: %08x\n debugstr_w(driver->name) status )
 391         goto error
 392     }
 393 
 394     SetEvent(driver->started)
 395 
 396     EnterCriticalSection( 
 397     driver->driver_obj = driver_obj
 398     set_service_status( driver->handle SERVICE_RUNNING
 399                         SERVICE_ACCEPT_STOP | SERVICE_ACCEPT_SHUTDOWN )
 400     LeaveCriticalSection( 
 401     return
 402 
 403 error:
 404     EnterCriticalSection( 
 405     wine_rb_remove( 
 406     LeaveCriticalSection( 
 407 
 408     set_service_status( driver->handle SERVICE_STOPPED 0 )
 409     CloseServiceHandle( (void *)driver->handle )
 410     HeapFree( GetProcessHeap() 0 driver )
 411 }

...

/* load a driver and notify services.exe about the status change */
static NTSTATUS create_driver( const WCHAR *driver_name )
{
    TP_CALLBACK_ENVIRON environment
    struct wine_driver *driver
    DWORD length

    length = FIELD_OFFSET( struct wine_driver name[strlenW(driver_name) + 1] )
    if (!(driver = HeapAlloc( GetProcessHeap() 0 length )))
        return STATUS_NO_MEMORY

    strcpyW( driver->name driver_name )
    driver->driver_obj = NULL

    if (!(driver->handle = (void *)OpenServiceW( manager_handle driver_name SERVICE_SET_STATUS )))
    {
        HeapFree( GetProcessHeap() 0 driver )
        return STATUS_UNSUCCESSFUL
    }

    if (wine_rb_put( &wine_drivers driver_name &driver->entry ))
    {
        CloseServiceHandle( (void *)driver->handle )
        HeapFree( GetProcessHeap() 0 driver )
        return STATUS_UNSUCCESSFUL
    }

    TRACE( starting driver %s\n wine_dbgstr_w(driver_name) )
    set_service_status( driver->handle SERVICE_START_PENDING 0 )

    memset( 
    environment.Version = 1
    environment.CleanupGroup = cleanup_group

    driver->started = CreateEventW(NULL TRUE FALSE NULL)

    /* don't block the service control handler */
    if (!TrySubmitThreadpoolCallback( async_create_driver driver &environment ))
        async_create_driver( NULL driver )

    /* Windows wait 30 Seconds */
    if(WaitForSingleObject(driver->started 30000) == WAIT_TIMEOUT)
        return ERROR_SERVICE_REQUEST_TIMEOUT

    return STATUS_SUCCESS
}
--- snip ---

You might want to redesign the scoped locking in device handler and in addition the WaitForSingleObject() should use a multi-purpose event or multiple events which cover the case a driver failed in entry point to avoid unnecessary waits.

Regards",3,"0"
"WINEHQ_APPS_DATABASE-26958","AppDB: orphaned comments in Comments Management","There are comments listed under Comments Management for apps that apparently have been deleted and the comments cannot be removed from the list. 

The first comment in the list is an example: no application is listed and clicking the Delete button brings up a message that There is no entry with that id in the database.",2216,"1"
"WINE-16691","Parkan2 crashes on start","Created attachment 18342
console output

Parkan 2 game crashes on start. Error log attached.",1050,"1"
"WINE-28974","Microsoft EMET v2.x and other tools need apphelp.dll.SdbCreateDatabase","Hello

continuation of bug 24371
Now that apphelp.dll is provided it dies on:

--- snip ---
Unhandled Exception: System.Runtime.InteropServices.SEHException: External component has thrown an exception.
   at MitigationInterface.Apphelp.SdbCreateDatabase(String pwszPath PATH_TYPE eType)
   at MitigationInterface.ShimUtil..ctor(Arch SysArch)
   at MitigationInterface.ApplicationMitigations..ctor(SystemMitigations SysMits)
   at ConsoleApp.Program.ProcessCommandLineArgs(String[] args)
   at ConsoleApp.Program.Main(String[] args)
wine: Unimplemented function apphelp.dll.SdbCreateDatabase called at address 0x7b83a43f (thread 0009) starting debugger...
--- snip ---

http://msdn.microsoft.com/en-us/library/bb432434.aspx

Recipe:

1) clean WINEPREFIX
2) winetricks -q dotnet20
3) wine msiexec -i EMET Setup.msi
4) ~/.wine/drive_c/Program Files/EMET$ wine ./EMET_Conf.exe

Regards",5,"0"
"WINE-41009","PCSX2 1.4.0 needs api-ms-win-crt-stdio-l1-1-0.dll.__stdio_common_vswprintf_p","After testing Nikolay's patch from bug 40905 this is the next one.

To reproduce just unpack and run pcsx2.exe.

f6ddb2c354c1b24585f32dd381b3e0b8b62e3972 pcsx2-1.4.0-binaries.7z 4.6Mb",10,"0"
"WINE-4262","lineage 2 installer fails while it was reported as working for 0.9.3","the lineage 2 installer:
ftp://l2clientdownload.lineage2.com/Chronicle03/L2_C3_Installer.zip
fails with the following output while reported as beeing working on
http://appdb.winehq.org/appview.php?versionId=3818:

WINEDEBUG=+msi+seh wine uoml_setup.exe
trace:seh:__regs_RtlRaiseException code=c0000005 flags=0 addr=0x40a11e
trace:seh:__regs_RtlRaiseException  info[0]=00000001
trace:seh:__regs_RtlRaiseException  info[1]=00419d1a
trace:seh:__regs_RtlRaiseException  eax=0000001d ebx=000000ba ecx=00000003
edx=00000000 esi=00419d1a edi=00419ce0
trace:seh:__regs_RtlRaiseException  ebp=7eebe218 esp=7eebe1e0 cs=0023 ds=002b
es=002b fs=1127 gs=0063 flags=00010246
trace:seh:check_resource_write Broken app is writing to the resource data
enabling work-around
trace:seh:__regs_RtlRaiseException code=c0000005 flags=0 addr=0x7ead01c8
trace:seh:__regs_RtlRaiseException  info[0]=00000000
trace:seh:__regs_RtlRaiseException  info[1]=7ead01c8
trace:seh:__regs_RtlRaiseException  eax=7ebff610 ebx=7f885ce4 ecx=7f89fec0
edx=7f89fec4 esi=7ead01c8 edi=0001004c
trace:seh:__regs_RtlRaiseException  ebp=7fa0cef0 esp=7fa0cea8 cs=0023 ds=002b
es=002b fs=1007 gs=0063 flags=00010206
wine: Unhandled page fault on read access to 0x7ead01c8 at address 0x7ead01c8
(thread 000b) starting debugger...
trace:seh:start_debugger Starting debugger winedbg --auto 10 100
WineDbg starting on pid 0xa
Unhandled exception: page fault on read access to 0x7ead01c8 in 32-bit code
(0x7ead01c8).
In 32 bit mode.
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:1007 GS:0063
 EIP:7ead01c8 ESP:7fa0cea8 EBP:7fa0cef0 EFLAGS:00010206(   - 00      - RIP1)
 EAX:7ebff610 EBX:7f885ce4 ECX:7f89fec0 EDX:7f89fec4
 ESI:7ead01c8 EDI:0001004c
Stack dump:
0x7fa0cea8:  7ebff64f 0001004c 00000081 00000000
0x7fa0ceb8:  7fa0d3bc 7fa0d3bc 0001004c 7f84fd0a
0x7fa0cec8:  0001004c 00000081 00000000 7fa0d3bc
0x7fa0ced8:  7fcd47c0 7f885ce4 7fa0cef0 7f885ce4
0x7fa0cee8:  0001004c 7fa0d3bc 7fa0cf2c 7f8503e7
0x7fa0cef8:  7ebff610 0001004c 00000081 00000000
0200: sel=1007 base=7ff60000 limit=00001fff 32-bit rw-
Backtrace:
=>1 0x7ead01c8 (0x7ead01c8)
  2 0x7f8503e7 in user32 (+0xa03e7) (0x7f8503e7)
  3 0x7f854110 CallWindowProcA+0x1b5 in user32 (0x7f854110)
  4 0x7f82044c in user32 (+0x7044c) (0x7f82044c)
  5 0x7f824126 SendMessageTimeoutA+0x234 in user32 (0x7f824126)
  6 0x7f8241e5 SendMessageA+0x50 in user32 (0x7f8241e5)
  7 0x7f248673 X11DRV_CreateWindow+0x3bb in winex11 (0x7f248673)
  8 0x7f84b1ee in user32 (+0x9b1ee) (0x7f84b1ee)
  9 0x7f84c895 CreateWindowExA+0x8c in user32 (0x7f84c895)
  10 0x7ebff7ea in igdi (+0xf7ea) (0x7ebff7ea)
  11 0x7ebfe5aa GetWindowImage+0x2d7 in igdi (0x7ebfe5aa)
  12 0x7ebfebe2 GetWindowImage+0x90f in igdi (0x7ebfebe2)
  13 0x7ebfe36b GetWindowImage+0x98 in igdi (0x7ebfe36b)
  14 0x10005d31 in setup (+0x5d31) (0x10005d31)
  15 0x10016993 in setup (+0x16993) (0x10016993)
  16 0x10017083 in setup (+0x17083) (0x10017083)
  17 0x10016619 in setup (+0x16619) (0x10016619)
  18 0x7f84fd0a WINPROC_wrapper+0x1a in user32 (0x7f84fd0a)
  19 0x7f8503e7 in user32 (+0xa03e7) (0x7f8503e7)
  20 0x7f853fd4 CallWindowProcA+0x79 in user32 (0x7f853fd4)
  21 0x7f7eb64e DefDlgProcA+0x91 in user32 (0x7f7eb64e)
  22 0x7f84fd0a WINPROC_wrapper+0x1a in user32 (0x7f84fd0a)
  23 0x7f8503e7 in user32 (+0xa03e7) (0x7f8503e7)
  24 0x7f856968 CallWindowProcW+0x534 in user32 (0x7f856968)
  25 0x7f8204db in user32 (+0x704db) (0x7f8204db)
  26 0x7f824380 SendMessageTimeoutW+0x18e in user32 (0x7f824380)
  27 0x7f8243e1 SendMessageW+0x50 in user32 (0x7f8243e1)
  28 0x7f7f0634 in user32 (+0x40634) (0x7f7f0634)
  29 0x7f7f16bc CreateDialogIndirectParamAorW+0x36 in user32 (0x7f7f16bc)
  30 0x7f7f17cd CreateDialogIndirectParamA+0x41 in user32 (0x7f7f17cd)
  31 0x100164eb in setup (+0x164eb) (0x100164eb)
  32 0x100166ca in setup (+0x166ca) (0x100166ca)
  33 0x10009f5b UseXPTheme+0xc98 in setup (0x10009f5b)
  34 0x1000948a UseXPTheme+0x1c7 in setup (0x1000948a)
  35 0x100069e2 Start4+0x75 in setup (0x100069e2)
  36 0x0040949c in uoml_setup (+0x949c) (0x0040949c)
  37 0x00408476 in uoml_setup (+0x8476) (0x00408476)
  38 0x0040cea2 EntryPoint+0x8b in uoml_setup (0x0040cea2)
  39 0x7fc8bdbd in kernel32 (+0x4bdbd) (0x7fc8bdbd)
  40 0xf7fbfdf3 wine_switch_to_stack+0x17 in libwine.so.1 (0xf7fbfdf3)
0x7ead01c8: movl        $0x7ead01c00x4(%esp)
Modules:
Module  Address                 Debug info      Name (65 modules)
ELF     0x00101000-001f9000     Deferred        libx11.so.6
ELF     0x0024e000-0026e000     Deferred        libexpat.so.0
ELF     0x00291000-002a3000     Deferred        libpthread.so.0
PE      0x00400000-0041f000     Export          uoml_setup
ELF     0x00a7f000-00a9a000     Deferred        ld-linux.so.2
ELF     0x00a9c000-00bc3000     Deferred        libc.so.6
ELF     0x00bc5000-00bc9000     Deferred        libdl.so.2
ELF     0x00bcb000-00bf0000     Deferred        libm.so.6
ELF     0x00c15000-00c28000     Deferred        libz.so.1
ELF     0x00d1f000-00d59000     Deferred        libfontconfig.so.1
ELF     0x00d5b000-00d63000     Deferred        libxrender.so.1
ELF     0x00d65000-00d69000     Deferred        libxrandr.so.2
ELF     0x00d75000-00dde000     Deferred        libfreetype.so.6
ELF     0x00de0000-00de3000     Deferred        libxau.so.6
ELF     0x00de5000-00deb000     Deferred        libxdmcp.so.6
ELF     0x00ded000-00dfc000     Deferred        libxext.so.6
PE      0x10000000-10053000     Export          setup
ELF     0x7bf00000-7bf03000     Deferred        
PE      0x7eaa0000-7eac7000     Deferred        _setup
PE      0x7ebf0000-7ec23000     Export          igdi
ELF     0x7ec25000-7ec5b000     Deferred        rsaenh
  \-PE  0x7ec30000-7ec5b000     \               rsaenh
ELF     0x7ec5b000-7ec90000     Deferred        crypt32
  \-PE  0x7ec60000-7ec90000     \               crypt32
ELF     0x7f03b000-7f06e000     Deferred        uxtheme
  \-PE  0x7f040000-7f06e000     \               uxtheme
ELF     0x7f06e000-7f076000     Deferred        libdrm.so.2
ELF     0x7f076000-7f0cd000     Deferred        libgl.so.1
ELF     0x7f1c5000-7f1ca000     Deferred        libxxf86vm.so.1
ELF     0x7f1ca000-7f1d0000     Deferred        libxxf86dga.so.1
ELF     0x7f1db000-7f1f8000     Deferred        imm32
  \-PE  0x7f1e0000-7f1f8000     \               imm32
ELF     0x7f1f8000-7f27f000     Export          winex11
  \-PE  0x7f210000-7f27f000     \               winex11
ELF     0x7f32e000-7f3cc000     Deferred        oleaut32
  \-PE  0x7f340000-7f3cc000     \               oleaut32
ELF     0x7f3cc000-7f490000     Deferred        comctl32
  \-PE  0x7f3e0000-7f490000     \               comctl32
ELF     0x7f490000-7f4af000     Deferred        iphlpapi
  \-PE  0x7f4a0000-7f4af000     \               iphlpapi
ELF     0x7f4af000-7f4f7000     Deferred        rpcrt4
  \-PE  0x7f4c0000-7f4f7000     \               rpcrt4
ELF     0x7f4f7000-7f590000     Deferred        ole32
  \-PE  0x7f510000-7f590000     \               ole32
ELF     0x7f590000-7f5f0000     Deferred        shlwapi
  \-PE  0x7f5a0000-7f5f0000     \               shlwapi
ELF     0x7f5f0000-7f6c1000     Deferred        shell32
  \-PE  0x7f610000-7f6c1000     \               shell32
ELF     0x7f6c1000-7f704000     Deferred        advapi32
  \-PE  0x7f6d0000-7f704000     \               advapi32
ELF     0x7f704000-7f798000     Deferred        gdi32
  \-PE  0x7f720000-7f798000     \               gdi32
ELF     0x7f798000-7f8d2000     Export          user32
  \-PE  0x7f7b0000-7f8d2000     \               user32
ELF     0x7f8d2000-7f8e6000     Deferred        lz32
  \-PE  0x7f8e0000-7f8e6000     \               lz32
ELF     0x7f8e6000-7f900000     Deferred        version
  \-PE  0x7f8f0000-7f900000     \               version
ELF     0x7fc1f000-7fd30000     Export          kernel32
  \-PE  0x7fc40000-7fd30000     \               kernel32
ELF     0x7fe45000-7ff3b000     Deferred        libwine_unicode.so.1
ELF     0x7ff55000-7ff60000     Deferred        libnss_files.so.2
ELF     0x7ff63000-7ffe0000     Deferred        ntdll
  \-PE  0x7ff70000-7ffe0000     \               ntdll
ELF     0xf7fbb000-f7fd5000     Export          libwine.so.1
Threads:
process  tid      prio (all id:s are in hex)
0000000a (D) Z:\home\che\Desktop\uoml_setup.exe
        0000000c    0
        0000000b    0 <==
00000008
        00000009    0
WineDbg terminated on pid 0xa",10,"0"
"WINE-6498","Window show slowly in Chinese language interface with SCIM input method","I am using FC5 and the LC_LANG is zh_CN.UTF8. I've install  wine via the FC5's
yum mechanism.All the window running in wine show slowly which can't be abided
with.
When the SCIM is killedthe speed of the window showing is  normal.",600,"1"
"WINE-696","Implement {AddRemove}FontResource","Applications can add fonts at runtime by calling AddFontResource with the path
to a font file. Similarly they can call RemoveFontResource to remove a
font.These are pretty much unimplementable as long as we use an X  font server.
However they should be quite easy to implement as long as we are using
client-side font rendering.",52,"0"
"WINE-20015","X-Lite don`t work with ALSA driver correctly","When I am using X-Lite (http://counterpath.com) with ALSA sound driver in WINE - I hear the sound with frequent short interruptions. With OSS - it`s all right but other applications that use sound card don`t work or x-lite don`t work if for example audio player runs first. 

I have this problem on many PC and any versions of WINE.",1926,"1"
"WINE-42212","WOLF RPG Editor: Division by zero when winegstreamer is enabled","Created attachment 56852
Backtrace (gstdemux.c:238 is vih->AvgTimePerFrame /= nom)

Steps to reproduce:
1. Download Tunnel Flying!! Re: (http://www.freem.ne.jp/dl/win/9377)
2. Unpack Tunnel_Flying_Re_Ver100.zip
3. Run Game.exe in default Z: drive
4. Choose Game Start (press Enter)
5. Press Enter

$ sha1sum Tunnel_Flying_Re_Ver100.zip
2264868e84c877a2740d67b6207a306532242fbe  Tunnel_Flying_Re_Ver100.zip",11,"0"
"WINE-36261","valgrind shows a use after free in d3d_device_inner_Release() ddraw/tests/ddraw{47}.c","==29500== Invalid write of size 4
==29500==    at 0x498B288: d3d_device_inner_Release (device.c:319)
==29500==    by 0x498B45B: d3d_device3_Release (device.c:345)
==29500==    by 0x4C6844D: test_process_vertices (ddraw4.c:624)
==29500==    by 0x4C8C1E0: func_ddraw4 (ddraw4.c:7299)
==29500==    by 0x4CDE890: run_test (test.h:584)
==29500==    by 0x4CDEC7F: main (test.h:654)
==29500==  Address 0x47a4dc8 is 112 bytes inside a block of size 160 free'd
==29500==    at 0x7BC4C782: notify_free (heap.c:263)
==29500==    by 0x7BC510C7: RtlFreeHeap (heap.c:1762)
==29500==    by 0x497D9F9: ddraw_destroy (ddraw.c:441)
==29500==    by 0x497DC0C: ddraw4_Release (ddraw.c:472)
==29500==    by 0x49A3B99: ddraw_surface_release_iface (surface.c:552)
==29500==    by 0x49A3D41: ddraw_surface4_Release (surface.c:611)
==29500==    by 0x498B229: d3d_device_inner_Release (device.c:316)
==29500==    by 0x498B45B: d3d_device3_Release (device.c:345)
==29500==    by 0x4C6844D: test_process_vertices (ddraw4.c:624)
==29500==    by 0x4C8C1E0: func_ddraw4 (ddraw4.c:7299)
==29500==    by 0x4CDE890: run_test (test.h:584)
==29500==    by 0x4CDEC7F: main (test.h:654)
==29500==",1745,"1"
"WINE-7919","3d structure drawn opaque and white in Warhammer Dawn of War","Regression of 0.9.33. (found in 0.9.34 but that version number is not yet
selectable)
With the game 'Warhammer:Dawn of War' when you choose to build a structure
this structure is shown as a transparent 3d structure colored red or green
depending on whether it can be build on the mousepointer location.
Currently the structure is always white and opaque.",341,"1"
"WINEHQ_BUGZILLA-16715","Bad display of some pages (as lists of bugs)","Display this page : http://bugs.winehq.org/duplicates.cgi.
This page is too large so text of summary is black colour on black background on a part.

Other pages has a similar incorrect display.

My screen has 800x600 resolution.",1003,"1"
"WINE-24325","MSXML Parser corrupts line breaks","Created attachment 30657
Corrupt xml file

If the parser is set to auto indent lines the \r line breaks are replaced by  resulting in an invalid XML file.

The \n breaks are written fine though.

I wrote a testcase in delphi i attached both the testcase and the resulting XML file.

If I install winetricks msxml3 the problem disappears and files are written fine.",929,"1"
"WINE-36215","Inspect tool (Microsoft Active Accessibility inspector) part of Windows 7 SDK needs oleacc.dll.GetProcessHandleFromHwnd","Hello folks

since there is some work in Microsoft Active Accessibility (MSAA) and maybe Microsoft UI Automation (UIA) area I remembered some accessibility tools part of Windows SDK.

Overview: https://en.wikipedia.org/wiki/Microsoft_UI_Automation

Windows 7 SDK (containing the MSAA/UIA tools and examples):

http://www.microsoft.com/en-us/download/details.aspx?id=8279

Windows Automation API 3.0 (provides needed 'UIAutomationCore.dll'):

https://support.microsoft.com/kb/971513

Download for Windows XP:

http://www.microsoft.com/downloads/details.aspx?FamilyId=cd55456d-9703-42a0-b982-8a8a89ca0aa3

(you might need 'taskset -c 0  to work around bug 35041)

'Inspect' tool description: http://msdn.microsoft.com/en-us/library/windows/desktop/dd318521%28v=vs.85%29.aspx

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/Microsoft SDKs/Windows/v7.1/Bin

$ wine ./Inspect.exe 
...
wine: Call from 0x7bc5276a to unimplemented function OLEACC.dll.GetProcessHandleFromHwnd aborting
wine: Unimplemented function OLEACC.dll.GetProcessHandleFromHwnd called at address 0x7bc5276a (thread 0009) starting debugger...
Unhandled exception: unimplemented function OLEACC.dll.GetProcessHandleFromHwnd called in 32-bit code (0x7bc5276a).
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:0063 GS:006b
 EIP:7bc5276a ESP:0033ec08 EBP:0033ec6c EFLAGS:00000216(   - --  I   -A-P- )
 EAX:0033ec14 EBX:7bcd1000 ECX:00000000 EDX:00000014
 ESI:00343230 EDI:00010020
...
Backtrace:
=>0 0x7bc5276a stub_entry_point+0x4b(dll=OLEACC.dll name=GetProcessHandleFromHwnd ret_addr=0x5387e21d) [/home/focht/projects/wine/wine.repo/src/dlls/ntdll/loader.c:196] in ntdll (0x0033ec6c)
  1 0x0056000f (0x0033ec8c)
  2 0x5386877d in uiautomationcore (+0x3877c) (0x0033eca0)
...
  11 0x53880e8c in uiautomationcore (+0x50e8b) (0x0033f4f4)
  12 0x01013eee in inspect (+0x13eed) (0x0033f52c)
...
  15 0x01012590 in inspect (+0x1258f) (0x0033f588)
...
0x7bc5276a stub_entry_point+0x4b [/home/focht/projects/wine/wine.repo/src/dlls/ntdll/loader.c:196] in ntdll: subl	$4%esp
196	    for () RtlRaiseException( 
Modules:
Module	Address			Debug info	Name (64 modules)
PE	 1000000- 102b000	Export          inspect
PE	53830000-538c8000	Export          uiautomationcore
...
Threads:
process  tid      prio (all id:s are in hex)
00000008 (D) C:\Program Files\Microsoft SDKs\Windows\v7.1\Bin\Inspect.exe
	00000009    0 <==
...
--- snip ---

MSDN: http://msdn.microsoft.com/en-us/library/windows/desktop/dd318087%28v=vs.85%29.aspx

$ sha1sum winsdk_web.exe 
a8717ebb20a69c7efa85232bcb9899b8b07f98cf  winsdk_web.exe

$ du -sh winsdk_web.exe 
500K	winsdk_web.exe

$ wine --version
wine-1.7.17-175-gc1bf61e

Regards",4,"0"
"WINE-15898","unimplemented function advapi32.dll.LsaSetSecret aborting","Created attachment 17061
output of wine setup.exe giving error unimplemented function advapi32.dll.LsaSetSecret aborting

I am trying to install a 16bit program named Primavera P3 3.1. this app works unders windows 3.1 windows xp vista. I was surprised it did not work under wine.

I believe with very minor tweaking it will work under wine too.

the program was on a CD that I copied onto my laptop.

when typing at console wine setup.exe I get basically the following.

unimplemented function advapi32.dll.LsaSetSecret aborting

Vitamin told me in the winehd forums to file in a bug. 
I quote It should be easy to implement this function without encrypting anything.

I hope so. 

:)

first mentioned under: http://forum.winehq.org/viewtopic.php?p=14383#14383",17,"0"
"WINE-2420","Dockable Toolbar painting issue on SUSE Pro 9.1","When the toolbar is un-docked to display as popup window the screen is not
refreshed and when we see the trace the X11DRV_SetWindowPos() is called
ininitely. This issue is observed only on SUSE Pro 9.1 and is not
happening on RHEL Workstation v3.

The SUSE pro 9.1 has the following library versions:
XFree86-fonts-scalable-4.3.99.902-40
XFree86-libs-4.3.99.902-40
XFree86-Mesa-devel-4.3.99.902-40
XFree86-fonts-75dpi-4.3.99.902-40
XFree86-4.3.99.902-43.25
XFree86-Mesa-4.3.99.902-40
XFree86-devel-4.3.99.902-40
XFree86-server-glx-4.3.99.902-40
XFree86-server-4.3.99.902-43.25
XFree86-Xvnc-4.3.99.902-40
kdebase3-SuSE-9.1-18.1
kdebase3-3.2.1-68.15",420,"1"
"WINE-3418","Picasa installer license agreement truncated","I'm running 20050830 compiled from the tarball.

When installing Picasa2 the user cannot scroll through the full License Agreement.

To reproduce:
1. wget http://toolbar.google.com/picasa/picasa2-setup-1884.exe
2. wine picasa2-setup-1884.exe
3. click on scrollbar on the right of license text window and drag it to the bottom.

The scrollbar hits the bottom but the agreement text ends in midsentence:

The Picasa Software may communicate with Google's servers to check for
available updates to the Picasa Software such as bug fixes patches enhanced
functions missing plug-ins and new versions (

When installing this on Windows the license agreement continues for many more
paragraphs before it reaches the end.

Thanks!",5,"0"
"WINE-30327","builtin iexplore crash on http://fastpc.pl/thread-3329.html","Created attachment 39630
Log: iexplore crash

$ wine iexplore http://fastpc.pl/thread-3329.html

fixme:wininet:InternetLockRequestFile STUB
/fastpc.pl/thread-3329.html: engine.c:138: stack_pop: Assertion `ctx->top' failed.
wine: Assertion failed at address 0xb771d424 (thread 0028) starting debugger...",1,"0"
"WINE-9773","FileMaker crashes","Created attachment 8211
partial backtrace

Wine 0.9.39 trying to run FileMaker Pro 8.5.  Installation went great.

I can start FileMaker and I can open a database.  However when I click on the screen FileMaker crashes.  I have attached a partial backtrace.",434,"1"
"WINE-30989","CarveWright installer needs native vbscript","fixme:vbscript:parse_script parser failed on parsing L\r\n\r\nSession.Property(\OS_NOTSUPPORTED\)=\1\\r\nEnd If\r\n\r\nDim vAlwyasInstall vVerInstalled vSetupVer\r\n\r\nvAlwyasInstall = Session.Property(\ALWAYS_INSTALL_MDAC\) \r\nvVerInstalled = Session.Property(\MDACVERINSTALLED\) \r\nvSetupVer = Session.Property(\MDAC27_SETUP_VER\) \r\n\r\n...
err:msi:ITERATE_Actions Execution halted action LCheckForMDACInstall.C9C35FC7_5AEE_4C1E_8BD2_80ED9FA87FFF returned 1603
err:msi:ITERATE_Actions Execution halted action LExecuteAction returned 1603

winetricks wsh57 works around it.",10,"0"
"WINE-7268","Oni not opening after install","I try to open Oni through the terminal AND through Nautilus. Nothing happens
though I expect the game to open. Error message is as follows.
fixme:system:SystemParametersInfoW Unimplemented action: 59 (SPI_SETSTICKYKEYS)",506,"1"
"WINE-14521","Windows version of OpenJigsaw has graphical glitches.","When running the Windows version under wine the puzzle pieces have several graphical glitches and what appears to be every other row rendered.

The same binary and dll's when run under windows proper exhibits no such issues.",928,"1"
"WINE-6299","steam pop-ups appear as small blue boxes without anything in them","Things like friends requests the news thing that comes up when you first start
steam and other miscellaneous pop-ups appear as small blue boxes with nothing
in them.

However things like the im chat with friends work and poping up the meta score
links work.",699,"1"
"WINE-36717","DeltaCad 8.0 crashes when trying to set printer or print","Created attachment 48762
Output from error

DeltaCad version 8.0 has a fatal error which closes the program when trying to set the printer.  On trying to print reports error Can't initialize the default printer.  When trying to set up the printer (either printer I have two) it crashes and reports the error The program DELTACAD.EXE has encountered a serious problem and needs to close. We are sorry for the inconvenience.

This occurs when trying to print or to set the paper orientation.",11,"0"
"WINE-29853","QQ2011 does not display Chinese correctly with builtin usp10 if font link setting is incomplete","0. make sure WenQuanYi Micro Hei is installed but SimSun is not installed

1. Download qq2011
http://dl_dir.qq.com/qqfile/qq/QQ2011/QQ2011.exe

2. import a reg file (as attachment) to regedit override the font link setting for Tahoma

3. Install qq2011 the installer it self display Chinese correctly if step 2 is done.
$ wine QQ2011.exe

4. Start QQ.exe
$ cd .wine/drive_c/Program\ Files/Tencent/QQ/Bin/
$ wine QQ.exe

Expect result:
Display Chinese
Actual result:
Display only some boxes.

There are two different workaround found:
- one is to import another reg file overriding the font link setting for microsoft-sans-serif
- another is to use native usp10",286,"1"
"WINE-33781","Installation of CSC Show Control needs RemoveAll() for Dictionary","Created attachment 44747
Trace log

Installation of CSC Show Control software goes fine.

Running application results in the error:

Run time error '429'

ActiveX Component can't create object

I have tried running it under different windows profiles.",629,"1"
"WINE-24167","Boxes are not drawn in Double Dragon Forever","Boxes like the life bars and text boxes are drawn on windows but not drawn on wine unless the specific game tweak boxfix is used.

This is my terminal output:
fixme:devenum:DEVENUM_ICreateDevEnum_CreateClassEnumerator Category {cc7bfb41-f175-11d1-a392-00e0291f3959} not found
fixme:devenum:DEVENUM_ICreateDevEnum_CreateClassEnumerator Category {cc7bfb46-f175-11d1-a392-00e0291f3959} not found
fixme:win:EnumDisplayDevicesW ((null)00xc6e3cc0x00000000) stub!",1199,"1"
"WINE-44022","The pixel format was invalid as specified (Minecraft Java Soldiers of Anarchy)","OS: Android (ExaGear Windows)
Wine version: 1.9.20
Open app Soldiers of Anarchy - error The pixel format was invalid as specified
Launch Java app Minecraft - error in log file",14,"0"
"WINE-42995","wine can't be compiled by gcc-2.95.4 (netprofm/list.c)","Similarly to bug 42986 bug 42990 bug 42991 bug 42992 bug 42993 and bug 42994:

wine-2.7 @ gcc-2.95.4: compilation fails:

In file included from /dlls/netprofm/list.c:38:
/dlls/netprofm/list.c: In function `init_networks':
/dlls/netprofm/list.c:1696: structure has no member named `IfIndex'
make[1]: *** [list.o] Error 1",2,"0"
"WINE-2910","Blending problems with Max Payne 2 make it unplayable at a certain point","Wine 20050419+Oliver's big patch

Max Payne 2 uses a lot of full-screen single-colour blending effects that
usually fade in and/or out. In Wine these effects are rendered as full opacity
making it impossible to see if you're getting shot.

During Part 3 Prologue there is a point where the screen is blended with a dark
red at low opactiy. This effect does not go away until you get to a certain
point (where it MAY change to a differend blend). It is impossible to see where
you are going and thus the game is rendered unplayable. Fortunately you can
still escape to the menu.

There are no err or fixme messages for this problem.

My system:
Athlon 2600
Geforce FX5600XT
Debian unstable
Kernel 2.6.10",442,"1"
"WINEHQ_APPS_DATABASE-15419","Test Data reports should include wine stable versions (i.e. 1.0 1.2...) and not just recent betas","For AppDB test data to be usefull to users and since we know have stable wine releases Add Test Data page should list wine 1.0 as a Tested release and not just list 1.1.0 to 1.1.5 (for example) since corporate users and users looking for stability will be sticking to 1.0 for a long time.

It should be the same for future stable releases like 1.2 - but those should not supersede 1.0 since some users/distributions might keep 1.0 for a long time.",259,"1"
"WINE-22957","MapSource 6.16.1 doesn't draw the main map","Created attachment 28429
Wine output running mapsource doing some zooming on the absent map and closing

Newer MapSource version 6.16.1 upgrades ok (after changing OS from WinXP to Win7 since the installer fails saying it needs WinXP SP3 at least).

After installing and running window and menus draws fine but the main map window shows no map just gray tiles.

The map legends still show up.

Opening a track or drawing routes do display the lines but not the map. Hovering the mouse over shows street names etc. but we can't see the map.

Zooming in and out constantly makes the application crash.",153,"0"
"WINE-29918","LibreOffice fonts antialiasing is wrong","Created attachment 38928
LibreOffice 3.5 fonts antialiasing under Wine 1.4-rc3

It seems like LibreOffice doesn't want to use system wide fonts antialiasing under Wine.

See the attached screenshot.",305,"1"
"WINE-18093","Race Driver GRID: Game renders badly with resolution higher than 800x600","Created attachment 20523
Image showing the problem

I'm using wine-git (1.1.19) downloaded in 18.04.2009 (compiled using gcc version 4.3.2 20081105 (Red Hat 4.3.2-7) ) on Fedora 10 i386.

The problem is when i set resolution to e.g 1024x768 The game want's to restart and after that the screen is black but i can hear music in main menu and sometimes something blurry shows. I blindly start the race and made image in race which shows the problem. The game is blurry but the replay controls are sharp.

graphic card: GF 9600M GT
drivers: 185.19 (default configuration)
OffscreenRenderingMode: backbuffer (doesn't work with fbo)
Multisampling: enabled (not set in game)
VideoMemorySize: 512
Overrides: d3dx9_36.dll (3.6 MiB) xinput1_3.dll (67.3 KB) openal32.dll (43.0 KB)",260,"1"
"WINE-9356","Serial communication not working since wine-0.9.33","Created attachment 7647
Logfiles of working and not working wine versions

Senn on application Windows Packet Programm the serial communication is not working correctly since winw version 0.9.33 anymore. It worked perfect with version 0.9.32 and before. Actually I am running version 0.9.42.
I attached two logs one with a working version (0.9.32) and one with my latest version 0.9.42.
You can see that there is a problem here: io_control 0x7c IOCTL_SERIAL_GET_TIMEOUTS. At this point the application hangs and you have to kill it.

Regards
Aurel",263,"1"
"WINE-14842","Graphics glitch in DAZ Studio","Cursor and checkboxes are clearly faulty. Bisect leads back to this:

fd8746b43ce24e209dd22c0bb1a4fe3ea38720a6 is first bad commit
commit fd8746b43ce24e209dd22c0bb1a4fe3ea38720a6
Author: Michael Karcher 
Date:   Sun Jun 29 13:30:01 2008 +0200

    gdi32: Fix palette of 1bpp DIB in GetDIBits.

    Windows always generates a black/white palette for 1 bit DIBs
    generated from DDBs. Copying from the current palette only takes place
    for color DDBs (not explicitly mentioned in MSDN) and only if depth
    equal (MSDN states it explicitly).

:040000 040000 507639edcf625253b7d9a2c63ea437adae1d980e f92463cfcde544b90d062fc1218883679b27cd57 M      dlls",11,"0"
"WINE-17424","Feeding Frenzy unhandled exception when sound is enabled","Created attachment 19497
wine-1.1.15-58-g3fa05ae console output

Feeding Frenzy Deluxe crashes to an unhandled exception when starting a game with sound.
Disabling sound in winecfg allows the game to be played.

Apparently a problem with winemp3.acm
Tested in latest git wine-1.1.15-58-g3fa05ae.

Bug has only become apparent following the resolution of bug 7385.",39,"0"
"WINE-35292","Missing folder icons when changing installation location in TreeSize Free installer","Many of the installers let you change the installation path when you install the product. If you click on the  button a 'Browse For Folder' dialog box is opened but folder icons are missing. If you close the dialog box and click on  again then icons appear correctly.
This can be reproduced with the installer of the Treesize Free application.
There's nothing obvious in the terminal output.

This is a regression from 1.7.5:

116e33d50a3435a539bcf7e9b93ab4adbfbecef9 is the first bad commit
commit 116e33d50a3435a539bcf7e9b93ab4adbfbecef9
Author: Alexandre Julliard 
Date:   Thu Oct 17 18:01:04 2013 +0200

    shell32: Delay initialization of the icon cache until needed.

Fedora 19 x86
wine-1.7.9-165-g0ae7b5f",0,"0"
"WINE-12943","Fonts in some games are displayed incorrectly","322b55e29a83a3ab61a1912d751816aa24662e9f is first bad commit
commit 322b55e29a83a3ab61a1912d751816aa24662e9f
Author: Stefan Dösinger 
Date:   Sun Aug 19 19:43:44 2007 +0200

    wined3d: Fix the half pixel correction.

:040000 040000 6b9745ea236afc4f1f97a6cba5f9b419989b3dcb 40b52b28192c89048fc64c57b9d2b03

After this commit in some games the fonts get displayed only hardly readable.
Affected Games: X-Wing Alliance BF1942 maybe some more.
I found a topic which displayed the things: http://forum.winehq.org/viewtopic.php?t=765",488,"1"
"WINE-11676","Urban Assault fails to load due to msvcrt.dll._ftol2","When starting Urban Assault from the game directory I get the following:

wine: Call from 0x73eb98c0 to unimplemented function msvcrt.dll._ftol2 aborting

It appears this is a missing function in msvcrt.dll that is blocking the booting of the game.",736,"1"
"WINE-31673","SimRaceway Update Service hangs after CommitUrlCacheEntryInternal","Created attachment 41642
+wininet log

The game depends on an Update Service which runs in the background. This service fails to start with the message 
fixme:wininet:CommitUrlCacheEntryInternal entry already in cache - don't know what to do!

over and over again until it stops. Using native wininet makes this line go away and a lot of other errors appear (secur32 and crypt32 errors)

I've attached a +wininet log and the link to download the game (it's free).

To start the game you need to do winetricks d3dx9 d3dcompiler_43",42,"0"
"WINE-36144","Airport Tycoon 2 demo needs msvcp70.dll.??0?$basic_fstream@DU?$char_traits@D@std@@@std@@QAE@PBDH@Z","Created attachment 48303
terminal output

The game crashes during the initial loading screen due to an unimplemented function in Wine's msvcp70.dll.

mscodescan output:
Found 4 bundled MS modules:
  ./MSVCR70.DLL
  ./msvcp70.dll
  ./msvci70.dll
  ./mfc70.dll

./Airport Tycoon II Demo.exe imports following stub symbols:
  msvcp70:??0?$basic_fstream@DU?$char_traits@D@std@@@std@@QAE@PBDH@Z

wine-1.7.17-92-ge2bf516",10,"0"
"WINE-39237","urlmon:sec_mgr fails if privileges not high enough","The following failures only happen on the fg-winxp-lusr box which is a Limited user account running on Windows XP configuration:

sec_mgr.c:774: Test failed: RegCreateKey failed: 5
sec_mgr.c:777: Test failed: RegSetValueEx failed: 6
sec_mgr.c:919: testing zone domain mappings...
sec_mgr.c:931: Test failed: Expected URLZONE_CUSTOM but got 3

The error code (ERROR_ACCESS_DENIED) corresponds to a registry permission error.

The tests regression was introduced by the following commit:

commit b9308fa06f4bcce4c340e6d9199c52c6b5ad9130
Author: Thomas Mullaly 
Date:   Fri Mar 11 00:55:31 2011 -0500

    urlmon/tests: Added zone domain mapping tests.

See:
https://test.winehq.org/data/tests/urlmon:sec_mgr.html",888,"1"
"WINE-28547","ole32/clipboard.ok crashed in X11DRV_CLIPBOARD_LookupData","Saw this crash just now on my i7:

../../../tools/runtest -q -P wine -M ole32.dll -T ../../.. -p ole32_test.exe.so clipboard.c
...
wine: Unhandled page fault on read access to 0x000001e3 at address 0x68bd2b12 (thread 0034) starting debugger...
Backtrace:
=>0 X11DRV_CLIPBOARD_LookupData+0x1f(wID=0x2) [dlls/winex11.drv/clipboard.c:446]
  1 X11DRV_CLIPBOARD_SynthesizeData+0x7a(wFormatID=0x2) [dlls/winex11.drv/clipboard.c:2787]
  2 X11DRV_EndClipboardUpdate+0x6e() [dlls/winex11.drv/clipboard.c:2848]
  3 CloseClipboard+0x91() [dlls/user32/clipboard.c:285]
  4 test_nonole_clipboard+0x3a2() [dlls/ole32/tests/clipboard.c:1295]
  5 func_clipboard+0x19() [dlls/ole32/tests/clipboard.c:1546]
  6 run_test+0x9e(name=clipboard.c) [include/wine/test.h:556]
  7 main+0x23a(argc= argv=0x1103d0) [include/wine/test.h:624]
446        if (data->wFormatID == wID) return data

I haven't seen this one before that I recall.",1236,"1"
"WINE-3667","floating point error","With wine 0.9 the application 1PLUS2004 shows a floating point error   
(Ungueltige Gleitkommaoperation).   
   
You can get it here: http://www.1p5p.onlinehome.de/   
   
The applications starts but is unuseable.   
  
Sorry its a German application.  
 
(component guessed)",659,"1"
"WINE-16384","GCC warnings in dlls/dnsapi","gcc -m32 -c -I. -I. -I../../include -I../../include  -D__WINESRC__  -D_REENTRANT -fPIC -Wall -pipe -fno-strength-reduce -fno-strict-aliasing -Wdeclaration-after-statement -Wwrite-strings -Wtype-limits -Wpointer-arith  -O2 -Werror  -o ns_parse.o ns_parse.c
cc1: warnings being treated as errors
ns_parse.c: In function ‘dns_ns_parserr’:
ns_parse.c:139: error: comparison of unsigned expression < 0 is always false
make[2]: *** [ns_parse.o] Error 1
make[2]: Leaving directory `/home/adys/src/wine/dlls/dnsapi'
make[1]: *** [dnsapi] Error 2
make[1]: Leaving directory `/home/adys/src/wine/dlls'
make: *** [dlls] Error 2

Using gcc (Debian 4.3.2-1) 4.3.2 on x86_64",1,"0"
"WINE-15840","SuddenStrike: crashes when loading a level","Created attachment 16969
standard crash dump

SuddenStrike crashes when I try to load a map. This happens always since Version 1.1.3 till 1.1.7. Version 1.1.2 works. I'm using gentoo linux and I'm not sure if I would mess up my system if I do a complete regression test because I don't know how to implement a complete regression test in an ebuild. A fresh .wine directory didn't fix it. If you want any special WINEDEBUG channels please tell me.",43,"0"
"WINE-38734","Application Impact Telemetry Static Analyzer from Windows SDK 8.1 App Certification Kit needs api-ms-win-core-path-l1-1-0.dll","Hello folks

as the summary says.

Prerequisite for Windows SDK 8.1 install:

* new 32-bit WINEPREFIX
* 'winetricks -q dotnet40 corefonts'
* change WinVer to 'Vista'
* install .NET Framework 4.5 from 'winetricks' cache or download (to avoid .NET Framework 2.x 3.x install which is not needed here)

Run the SDK installer with WinVer set to 'Windows 8.1' and 'dwrite' component disabled to get all Windows 8+ components installed

--- snip ---
$ WINEDLLOVERRIDES=dwrite=d wine ./sdksetup.exe
--- snip ---

Run the tool:

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/Windows Kits/8.1/App Certification Kit

$ wine ./aitstatic.exe 
fixme:wer:WerSetFlags (2) stub!
fixme:heap:RtlSetHeapInformation (nil) 1 (nil) 0 stub
fixme:process:SetProcessShutdownParameters (00000380 00000000): partial stub.
fixme:ntdll:WinSqmIsOptedIn () stub
fixme:ole:RemUnknown_QueryInterface No interface for iid {00000019-0000-0000-c000-000000000046}
err:module:import_dll Library AEPIC.dll (which is needed by LC:\\Program Files\\Windows Kits\\8.1\\App Certification Kit\\aitstatic.exe) not found
err:module:import_dll Library api-ms-win-core-path-l1-1-0.dll (which is needed by LC:\\Program Files\\Windows Kits\\8.1\\App Certification Kit\\aitstatic.exe) not found
err:module:LdrInitializeThunk Main exe initialization for LC:\\Program Files\\Windows Kits\\8.1\\App Certification Kit\\aitstatic.exe failed status c0000135
--- snip ---

Windows 8+ API sets:

https://msdn.microsoft.com/en-us/library/windows/desktop/dn505783%28v=vs.85%29.aspx

--- quote ---
api-ms-win-core-path-l1-1-0.dll	

PathAllocCanonicalize
PathAllocCombine
PathCchAddBackslash
PathCchAddBackslashEx
PathCchAddExtension
PathCchAppend
PathCchAppendEx
PathCchCanonicalize
PathCchCanonicalizeEx
PathCchCombine
PathCchCombineEx
PathCchFindExtension
PathCchIsRoot
PathCchRemoveBackslash
PathCchRemoveBackslashEx
PathCchRemoveExtension
PathCchRemoveFileSpec
PathCchRenameExtension
PathCchSkipRoot
PathCchStripPrefix
PathCchStripToRoot
PathIsUNCEx 
--- quote ---

$ sha1sum sdksetup.exe 
4540251f0ca62da5fd8e68cd4e3129930e7c5ae9  sdksetup.exe

$ du -sh sdksetup.exe 
976K	sdksetup.exe

$ wine --version
wine-1.7.44-173-g42cbc05

Regards",197,"0"
"WINE-6606","FIFA 2002 crashes in the startup (ddraw error)","when launching FIFA 2002 the game crashes in ddraw error. It seems that Wine
can't set the size of the screen. I attached a console output.

Joaopa",1461,"1"
"WINE-32080","Installation of CorelDRAW 12 fails","Created attachment 42289
output.txt

VBSCRIPT.DLL: Installation of CorelDRAW 12 fails

fixme:vbscript:parse_script parser failed on parsing...


Wine 1.5.15 vanilla without external DLLs


Output from setup.exe in output.txt
(only uniq lines saved error code 67 on exit)",2,"0"
"WINE-10739","msiexec fails on FolderShare installation","Created attachment 9581
Output of msiexec

I am running openSUSE 10.3.
The foldershare .msi is available at http://www.foldershare.com/download/index.php?
It's a quick download since the file is less than a megabyte.",8,"0"
"WINE-7884","Movies Don't work in Privateer 2","Privateer 2 the darkening for windows 9x. Intro Movies do not display on screen
only sound plays. THIS IS A REGRESSION BUG wine 0.9.15 plays the origin systems
logo fine. I am going to continue testing this title with various wine versions
but I suspect several things have regressed.",231,"1"
"WINE-14702","can't click buttons with mouse in Army Builder 3.1c","When http://bugs.winehq.org/attachment.cgi?id=9555 is applied Army Builder 3.1c can finally be run however the buttons in the program dialog buttons only recieve focus when you click them with the mouse. You have to press Enter to get the button activated.",507,"1"
"WINE-13257","bricscad: separators in vertical toolbar rotated by 90 degrees causing layout problems","Created attachment 13096
Basic log

In Bricscad some panel items are not correctly displayed.

Wine says:

err:toolbar:TOOLBAR_GetImageListForDrawing bitmap for ID 0 index 0 is not valid number of bitmaps in imagelist: 0

and some toolbar icons are just not drawn. Also the line separators are always vertical (even in vertical bar). This does not happen on Windows version so it could be a bug. 

I'd like to help but I don't have any idea where could be the problem. 

A complete log is attached (run & move panel & exit).",349,"1"
"WINE-26195","Counter-Strike Source Beta freezes after 30 seconds of internet gameplay on a multi-core system","Created attachment 33395
CSS Crashing

Summary:
Counter-Strike Source Beta freezes after 30 seconds of internet gameplay on a multi-core system.  I have confirmed that on my hardware both a local game server doesn't crash and that if you limit cpus with maxcpus=1 it also doesn't crash.  Steps to reproduce each case below and logs attached.

All crashers show the last line as:
err:ntdll:RtlpWaitForCriticalSection section 0x68cf0d00 x11drv_main.c: X11DRV_CritSection wait timed out in thread 0029 blocked by 0009 retrying (60 sec)
There are several other bugs with similar symptoms (search X11DRV_CritSection)  but this bug seems much more specific.

Need to be on similar hardware config:
I think it needs ATI Graphics I have a Radeon HD 3870
I am almost positive it needs a multi core processor I have aAMD Phenom(tm) II X4 945 Processor

Steps to reproduce crash (css-crash.log):
1.  Install Steam (likely with winetricks) and Counter Strike Source Beta
2.  Run Counter Stroke Source
3.  Join an internet game (fully go to either spectate or play it doesn't matter)
4.  Wait 30 seconds. Hard crash of entire computer even if windowed (still accessible by ssh actually)

Steps to reproduce current workaround (css-working-one-core.log):
1. Restart machine with kernel option maxcpus=1
2. Join an internet game (fully go to either spectate or play it doesn't matter)
3. Enjoy the game crash free!

Steps to reproduce another crash free experience - no internet game(css-localserver.log):
1. Restart machine with normal kernel options
2. Create a local server with bots
3. Enjoy the game crash free!",483,"1"
"WINE-12008","wined3d dll changes in 0.9.57 broke Solaris gcc build","Wine gcc build on Solaris now fails with following error:

../../tools/winegcc/winegcc -B../../tools/winebuild -shared ./wined3d.spec    arb_program_shader.o baseshader.o basetexture.o clipper.o context.o cubetexture.o device.o directx.o drawprim.o glsl_shader.o indexbuffer.o palette.o pixelshader.o query.o resource.o state.o stateblock.o surface_base.o surface.o surface_gdi.o swapchain.o texture.o utils.o vertexbuffer.o vertexdeclaration.o vertexshader.o volume.o volumetexture.o wined3d_main.o       -o wined3d.dll.so  -luser32 -lgdi32 -ladvapi32 -lkernel32  -luuid ../../libs/port/libwine_port.a  -lsocket -lnsl 
Undefined                       first referenced
 symbol                             in file
isinf                               surface_base.o
ld: fatal: Symbol referencing errors. No output written to wined3d.dll.so
collect2: ld returned 1 exit status
winegcc: gcc failed
gmake[2]: *** [wined3d.dll.so] Error 2
gmake[2]: Leaving directory `/builds/WINE/wine-0.9.57/dlls/wined3d'
gmake[1]: *** [wined3d] Error 2
gmake[1]: Leaving directory `/builds/WINE/wine-0.9.57/dlls'
gmake: *** [dlls] Error 2

In Wine 0.9.57 there was for the first time in Wine used function isinf() in following header file source/dlls/wined3d/wined3d_private.h.

There are some problems with this function on Solaris:

http://www.webservertalk.com/archive100-2005-7-1149187.html

Currently on Solaris with gcc compiler macro isinf (and others) is defined when __C99FEATURES__ is defined (a.k.a. -std=c99). Note that Wine as whole cannot be compiled as C99 code as it's using M_PI (which is no longer defined with C99 in math.h).

As workaround Solaris users can use -std=gnu99 as followed:

CFLAGS=-std=gnu99 ./configure

Final resolution should be probably one of these:
- configure check for isinf availability and eventually define it itself
- enforce C99 build (for at least some Wine parts)

Tested with:
Solaris Nevada build 83
gcc 3.4.3 (bundled with Solaris)",56,"0"
"WINE-10623","Visual C++ 5 doesn't know who registered it","Installing Visual C++ 5 goes fine but
when the app starts up the splash screen says
 This product is licensed to:
 Unregistered
 Unauthorized copy
even though I duly filled out the info and put
in the cd key.",220,"0"
"WINE-24541","Final Fantasy 8: Eidos Intro movie and sound choppy","Created attachment 30972
Terminal log

Using Ubuntu 10.04
Installation seems to go fine.
When running Final Fantasy 8 however the first Eidos movie bit is extremely choppy.
Terminal log attached.",594,"1"
"WINE-22996","Altium Designer print preview displays inverted text in schematic views","Created attachment 28487
Screenshot

The print preview function in Altium Designer displays inverted (Y axis) text when viewing the print preview for a schematic diagram.",625,"1"
"WINE-9639","problems printing from TSoft","after upgrading to wine-0.9.44-13.1 I cannot print from TSoft
   http://www.astro.oma.be/SEISMO/TSOFT/tsoft.html
anymore. Under wine-0.9.29 it works well despite the warning:

fixme:commdlg:PRINTDLG_SetUpPrinterListComboA Can't find '(null)' in printer list so trying to find default


With the actual version nothing happens but I get this debug output:

fixme:commdlg:PRINTDLG_SetUpPrinterListComboA Can't find '(null)' in printer list so trying to find default
err:winspool:WINSPOOL_GetDriverInfoFromReg Can't find driver LPS Driver in reg
istry
err:winspool:WINSPOOL_GetDriverInfoFromReg Can't find driver LPS Driver in reg
istry
err:commdlg:PRINTDLG_ChangePrinterA GetPrinterDriverA failed for lp75sw fix you
r config!
fixme:commdlg:PRINTDLG_UpdatePrintDlgA No lpdm ptr?
fixme:commdlg:PRINTDLG_WMCommandA Update printdlg was not successful!



Similar debug-messages are produced every time the printer is 
changed in the combo-box. 

I checked the registry several printers are defined and after switching 
back to 0.9.29 everything works. 

Other Programs I didn't test at the moment.",30,"0"
"WINE-4650","cm3 does not start","hi

i have got mandrake 2006 and wine 0.9.8

t tried to run cm3 (http://www.crazy-machines.com/CMNADL_GER/CMNADL_GER.htm)

wine abored an starts the debugger.

i attach the winedebug relay log.

volker",1062,"1"
"WINE-38419","regression in mshtml with SolidWorks","Created attachment 51272
backtrace

after commit 88edfb5701843522fd4da989deede04ca752a92a  SolidWorks crashes at startup :

commit 88edfb5701843522fd4da989deede04ca752a92a
Author: Jacek Caban 
Date:   Fri Mar 20 16:00:00 2015 +0100

    mshtml.idl: Added IHTMLSelectionObject2 declaration.




see attached backtrace",4,"0"
"WINE-3819","Keyboard problem with Alien vs Predator 2 demo","Hello 

in the game the keyboard does not work fine.
For the first scenes until menu screen keyboard works fine.
But in the game keyboard have a bad behaviour.
Here is the trace log with WINEDEBUG=+keyboard


Without this option in the conole thera are a lot of 
fixme:keyboard:X11DRV_GetKeyNameText (017500000x7fc4f978256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017600000x7fc4f978256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017700000x7fc4f978256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017800000x7fc4f978256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017900000x7fc4f978256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017a00000x7fc4f978256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017b00000x7fc4f978256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017c00000x7fc4f978256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017d00000x7fc4f978256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017e00000x7fc4f978256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017f00000x7fc4f978256): unsupported key
vkey=0000 ansi=0000",1079,"1"
"WINE-22236","World of Goo Demo all black without D3DXGetImageInfoFromFile from native D3DX9_38.dll","World of Goo Demo bundles D3DX9_38.dll.  If you delete it
the game still runs but the screen is all black.",462,"1"
"WINE-44194","Serious Sam Classic (First and Second Encounter) shifts the view and makes the game unplayable","Running with the GOG.com versions of both games the view changes camera angles semi-randomly and makes the game practically unplayable as WASD keys don't match up with on-screen movements.

I've made a YouTube video of the bug in action: https://youtu.be/jyNJK_4AePQ",0,"0"
"WINE-2291","Crash running ExpressPCBSetup.exe","Hello.  I am trying to install the software from http://expresspcb.com and the
system is crashing when I run wine.  I'm running 20040505 on Fedora Core 2
installed wine from RPMs and newrpms.  Here's the debug info I have so far:

# wine ExpressPCBSetup.exe
wine: Unhandled exception (thread 0026) starting debugger...
fixme:console:SetConsoleCtrlHandler (0x557b77001) - no error checking or
testing yet
WineDbg starting on pid 1c
Can't find file for ELF 'wine-kthread' ((nil))
No debug information in ELF 'wine-pthread' ((nil))
Breakpoint 1 at 0x5500c480 (_end+0x44ef8480)
No debug information in ELF '/usr/lib/libwine.so.1' (0x55019000)
No debug information in ELF '/lib/tls/libpthread.so.0' (0x55049000)
No debug information in ELF '/lib/tls/libc.so.6' (0x5505b000)
No debug information in ELF '/lib/libdl.so.2' (0x55176000)
No debug information in ELF '/lib/ld-linux.so.2' (0x55000000)
No debug information in ELF '/usr/lib/wine/ntdll.dll.so' (0x5517b000)
No debug information in ELF '/usr/lib/libwine_unicode.so.1' (0x551f0000)
No debug information in ELF '/lib/tls/libm.so.6' (0x552fa000)
No debug information in ELF '/lib/libnss_files.so.2' (0x55334000)
No debug information in ELF '/usr/lib/wine/kernel32.dll.so' (0x55450000)
No debug information in ELF '/usr/lib/wine/user32.dll.so' (0x55880000)
No debug information in ELF '/usr/lib/wine/gdi32.dll.so' (0x559d1000)
No debug information in ELF '/usr/lib/wine/advapi32.dll.so' (0x55a5b000)
No debug information in ELF '/usr/lib/libfreetype.so.6' (0x55a8f000)
No debug information in ELF '/usr/lib/libz.so.1' (0x55af4000)
No debug information in ELF '/usr/lib/libfontconfig.so.1' (0x55b05000)
No debug information in ELF '/usr/lib/libexpat.so.0' (0x55b2c000)
No debug information in ELF '/usr/lib/wine/x11drv.dll.so' (0x55b4b000)
No debug information in ELF '/usr/X11R6/lib/libSM.so.6' (0x55bcb000)
No debug information in ELF '/usr/X11R6/lib/libICE.so.6' (0x55bd3000)
No debug information in ELF '/usr/X11R6/lib/libXxf86dga.so.1' (0x55bea000)
No debug information in ELF '/usr/X11R6/lib/libXxf86vm.so.1' (0x55bf0000)
No debug information in ELF '/usr/X11R6/lib/libXv.so.1' (0x55bf5000)
No debug information in ELF '/usr/X11R6/lib/libXext.so.6' (0x55bfa000)
No debug information in ELF '/usr/X11R6/lib/libX11.so.6' (0x55c08000)
No debug information in ELF '/usr/lib/libGL.so.1' (0x55cd0000)
No debug information in ELF '/usr/X11R6/lib/libXcursor.so.1.0.2' (0x55d4a000)
No debug information in ELF '/usr/X11R6/lib/libXrender.so.1' (0x55d53000)
No debug information in ELF
'/usr/X11R6/lib/X11/locale/lib/common/xlcUTF8Load.so.2' (0x55d61000)
No debug information in ELF '/usr/X11R6/lib/libXrandr.so.2' (0x55d63000)
No debug information in ELF '/usr/X11R6/lib/X11/locale/lib/common/ximcp.so.2'
(0x55daa000)
No debug information in ELF '/usr/lib/wine/imm32.dll.so' (0x55dc7000)
No debug information in 32bit DLL 'E:\ExpressPCBSetup.exe' (0x400000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\NTDLL.DLL' (0x551a0000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\KERNEL32.DLL' (0x55480000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\ADVAPI32.DLL' (0x55a70000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\GDI32.DLL' (0x559f0000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\USER32.DLL' (0x558a0000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\X11DRV.DLL' (0x55b60000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\IMM32.DLL' (0x55dd0000)
Unhandled exception: page fault on write access to 0x00000000 in 32-bit code
(0x558fa100).
In 32-bit mode.
0x558fa100 (DIALOG_GetCharSize+0x1280 in USER32.DLL): movl      $0x00x0(%eax)
Wine-dbg>bt
Backtrace:
=>0 0x558fa100 (DIALOG_GetCharSize+0x1280 in USER32.DLL) (ebp=5587fd50)
  1 0x558fa8d0 (CreateDialogIndirectParamAorW+0x40 in USER32.DLL) (ebp=5587fd74)
 2 0x558fa924 (CreateDialogIndirectParamA+0x44 in USER32.DLL) (ebp=5587fd98)
  3 0x558fa7e3 (CreateDialogParamA+0x73 in USER32.DLL) (ebp=5587fdbc)
  4 0x00401380 (ExpressPCBSetup.exe..text+0x380 in ExpressPCBSetup.exe)
(ebp=5587fe8c)
  5 0x004044eb (ExpressPCBSetup.exe.EntryPoint+0x14b in ExpressPCBSetup.exe)
(ebp=5587ff20)
  6 0x554d3702 (SetThreadExecutionState+0x1c52 in KERNEL32.DLL) (ebp=5587fff4)
  7 0x5501d931 (wine_switch_to_stack+0x11 in libwine.so.1) (ebp=00000000)
Wine-dbg>q
WineDbg terminated on pid 1c


Let me know what else I can help to diagnose this problem.",451,"1"
"WINE-22226","[mono testcase] RegEnumValue succeeds when called with a deleted registry key","The Mono test suite when run on Wine gives me the following failure:

Test Case Failures:

1) MonoTests.Microsoft.Win32.RegistryKeyTest.bugnew1 : #13

at MonoTests.Microsoft.Win32.RegistryKeyTest.bugnew1 () [0x00194] in /home/meh/work/mcs/class/corlib/Test/Microsoft.Win32/RegistryKeyTest.cs:3047

at (wrapper managed-to-native) System.Reflection.MonoMethod:InternalInvoke (objectobject[]System.Exception&)

at System.Reflection.MonoMethod.Invoke (System.Object obj BindingFlags invokeAttr System.Reflection.Binder binder System.Object[] parameters System.Globalization.CultureInfo culture) [0x000d0] in /home/meh/work/mcs/class/corlib/System.Reflection/MonoMethod.cs:213


Mono is doing something like the following:
* Create a new registry key.
* Delete the new registry key while it is open.
* Call RegEnumValue on the open handle.
* Expect failure.

Wine apparently succeeds in this case.",32,"0"
"WINE-36376","eRacer demo doesn't start fails to create d3d object","Created attachment 48436
terminal output

Currently bug #36375 prevents this bug from testing unless you revert the offending commit from #36375.

The game fails to start an error message is shown: 'Fatal Error: Failed to create material 'er_icon05'.

The result of the regression test:

22fc22d28b655aff30a3f0517af1fd5086cf9e71 is the first bad commit
commit 22fc22d28b655aff30a3f0517af1fd5086cf9e71
Author: Stefan Dösinger 
Date:   Thu Sep 5 10:42:15 2013 +0200

    ddraw: Enumerate DXT2 and DXT4.

:040000 040000 d0705d11566fd7207cb199af146fb821f7060fd0 85ba0dce202387221ee149a2c6076f240bae3b7b M	dlls

Reverting this commit as well as the one from #36375 lets the game start.

You need to rename/remove intro.avi from the installed game when testing because it causes an early crash.
Let me know if you need debug logs or further tests.

Fedora 20
Nvidia binary drivers 337.12",7,"0"
"WINE-26261","Start menu items are not displayed","Created attachment 33469
Screenshot showing the installation structure

When installing Commandos - Behind Enemy Lines I do not see any start menu entries in my Ubuntu (gnome) menu of wine.
Checking the installation I see that - in contrast to Axis & Allies - the start menu entries of Commandos - BEL were created in the users menu folder not in the public one. See attached screenshot.

I'm sure on windows both folders are merged and displayed together.

In the screenshot there are four red squares:
The first two are marking the Public folder (I think it is the common folder every user has access to) from which I see start menu entries in my Ubuntu (gnome) menu.
The other two are marking the users own folder and the start menu folder of Commandos - BHL which I do not see",721,"1"
"WINE-14060","Magic: The Gathering Online 3.x fails to connect/login to server","fixme:secur32:schan_InitializeSecurityContextW stub

another application that needs SChannel implemented.
right now login doesn't work because of this.",2136,"1"
"WINE-12839","iphplapi: iphplapi.ok test fails in PC-BSD but not Linux","Created attachment 12530
+iphplapi trace in git

Decided to start giving PC-BSD a try since it's the only BSD that will actually install for me. This is in a virtualbox VM and I've set all the setting to be exactly the same as the ones I use for the Feisty VM I usually test in at work.

Doing so there are quite a few BSD specific bugs. I'm going to try to find all the differences in make test and file those first...

First up iphplapi fails in BSD but not Ubuntu. +iphplapi log attached. Not sure what component is closest...",108,"0"
"WINE-12236","Irfanview: distorted image display","Displayed images are vertically distorted when their height exceeds the height of the client area. The image is squashed into the bottom the area above does not repaint.
The relevant setting for reproducing:
View -> Display options -> Do not fit anything

The cause seems to be this commit reverting to the previous (0.9.57) version of dlls/gdi32/dib.c fixes the problem:

http://source.winehq.org/git/wine.git/?a=commitdiffh=5953a86ab180575c71f3d001e0c6a05cf8348c26

Irfanview can be found here: http://irfanview.com",1,"0"
"WINE-9315","Running Corel Draw 7 causes crash","When running Corel Draw 7 wine crashes after a second or two. Corel window is displayed but after a second it crashes.

wine .wine/drive_c/Corel/Draw\ Select/programs/coreldrw.exe 

fixme:wave:ALSA_AddCaptureDevice Add support for DSCapture
fixme:mmio:MMIO_InstallIOProc Global procedures not implemented
err:x11drv:X11DRV_CreateWindow invalid window height -6
fixme:storage:StgCreateDocfile Transacted mode not implemented.
fixme:win:WinHelpA Unknown help command 32777
fixme:win:WinHelpA Unknown help command 32769
X Error of failed request:  BadAtom (invalid Atom parameter)
  Major opcode of failed request:  17 (X_GetAtomName)
  Atom id in failed request:  0x0
  Serial number of failed request:  813
  Current serial number in output stream:  813",245,"1"
"WINE-20059","Office 2007 SP1/SP2 looks for *.cab in C:\Windows\Installer\ instead of C:\MSOCache\","When trying to install SP1 or SP2 for microsoft office in every way - as msp copied to updates/ folder in the office installation directory or by executing 
wine office2007sp1-kb936982-fullfile-pl-pl.exe
or by msiexec /p something.msp the same error occurs:


err:msi:source_matches_volume Failed to get volume information
err:msi:ready_media Cabinet not found: LC:\\windows\\Installer\\HomeSrWW.CAB
err:msi:ACTION_MsiPublishAssemblies Failed to ready media
err:msi:ITERATE_Actions Execution halted action LInstallExecute returned 1603


After copying cabs to drive_c/windows/installer service pack is still not working correctly but in in about window in apps i can see the SP1 version of an app MSO version is still SP0 

Hope this could help to make some progress in order to make SP for MS Office work :-)

I will provide any kind of debug log on request 

Current info: 
boskar@pauper:~/wine/office$ wine --version
wine-1.1.29

Debian squeeze deb http://www.lamaresh.net/apt lenny main source for wine

WINEPREFIX=/home/boskar/.wine-office (clean WINEPREFIX).",260,"1"
"WINE-24394","cmd.exe locks up when running an external command/application","I had a working installation of Wine 1.3 on Ubuntu 10.04. I recently upgraded to the newest linux kerne Wine's cmd.exe stopped working. uname --all reports: 

Linux samsung-netbook 2.6.32-24-generic #43~ppa1~loms~lucid-Ubuntu SMP Tue Aug 31 17:13:22 UTC 2010 i686 GNU/Linux

Cmd.exe works with internal commands such as dir date etc. However when it looks for external commands it freezes. I have to close by clicking the x. 

It doesn't matter what external command. I tried notepad.exe regedit.exe etc. All lock up. I first discovered the problem when trying to run python and perl scripts. I am using Python 2.6.6 (from Python.org) and Strawberry perl.

It doesn't matter if the command includes the full path or if it must search the %path% environment. Cmd.exe just freezes. 

Other Windows apps work fine from a shortcut link. The Python Idle gui works fine. Ctrl-C does not break the cmd.exe session.

I tried to uninstall/purge all Wine components and start from a new Linux user (i.e. fresh ~/.wine). Didn't work. Still freezes.

Tom",5,"0"
"WINE-10922","JDK 6 offline installer fails to create jdk1.6.0_03\jre\bin\msvcr71.dll puts up error dialog","The JDK 6 offline installer jdk-6u3-windows-i586-p.exe
puts up an error dialog
Error loading: C:\\Program Files\\Java\\jdk1.6.0_03\\jre\\bin\\client\\jvm.dll

+file+msi shows

trace:file:CreateFileW Lc:\\Program Files\\Java\\jdk1.6.0_03\\jre\\bin\\msvcr71.dll GENERIC_WRITE FILE_SHARE_READ FILE_SHARE_WRITE  creation 1 attributes 0x20
...
warn:file:CreateFileW Unable to create file Lc:\\Program Files\\Java\\jdk1.6.0_03\\jre\\bin\\msvcr71.dll (status c000003a)
...
err:msi:ITERATE_DuplicateFiles Failed to copy file Lc:\\Program Files\\Common Files\\Java\\Update\\Base Images\\jdk1.6.0.b105\\patch-jdk1.6.0_03.b05\\msvcr71.dll -> Lc:\\Program Files\\Java\\jdk1.6.0_03\\jre\\bin\\ last error 3
...
trace:file:CreateDirectoryW Ljre/bin
...
trace:msi:HANDLE_CustomType34 executing exe Lc:\\Program Files\\Java\\jdk1.6.0_03\\\\jre\\bin\\javaw.exe -Xshare:dump
...
err:module:import_dll Library MSVCR71.dll (which is needed by LC:\\Program Files\\Java\\jdk1.6.0_03\\jre\\bin\\client\\jvm.dll) not found

Seems like that CreateDirectory should have come before it tried
to put a file in that directory?",19,"0"
"WINE-35253","BOINC 5.8.16: uninstall fails","Created attachment 47018
wine-1.7.9-43-gbfb4f28 +msi +msiexec [1 MB]

Trying to uninstall BOINC 5.8.16 from wine uninstaller fails immediately.

fixme:storage:create_storagefile Storage share mode not implemented.
err:msi:ITERATE_Actions Execution halted action LCAValidateSetupType returned 1603
err:msi:ITERATE_Actions Execution halted action LExecuteAction returned 1603

Nothing else in the console.",371,"1"
"WINE-44037","Bricscad v17 crashes on startup needs ADVAPI32.dll.PerfStartProviderEx","Created attachment 59703
console output

Bricscad v17.2.08 crashes on startup
Maybe this is due to a flaw in the ADVAPI32.dll component",6,"0"
"WINE-23962","Borderlands will not start","Created attachment 30086
Output with wine-1.3.0

Using the currently up to date version of Borderlands on Steam the game fails to start at all.  Wine complains of a bad EXE format.  Terminal output attached.

I have tried deleting the executable and having Steam redownload it to no avail.",239,"1"
"WINE-41638","Wordpad errors when compiling its resources on Windows","I tried to compile WINE Wordpad outside the source tree but I got some errors.
I fixed some of these error with this patch:

https://source.winehq.org/patches/data/127446

but there is one that I cannot understand very well.
Both Microsoft RC and WINDRES highlight an error here:

https://github.com/wine-mirror/wine/blob/master/programs/wordpad/wordpad.rc#L84

because the parameter after the text in a POPUP statement is not an identifier but the flags described in this page:

https://msdn.microsoft.com/en-us/library/windows/desktop/aa381030(v=vs.85).aspx

I have understood what the need is (grab the popup menu for the drop-down button in the toolbar) but this seems wrong to me.
So before providing anything on this I wrote this bug to understand what you would like to do because it is not very clear to me...

Sincerely.",5,"0"
"WINE-34750","Eleusis Demo some landscape parts are black rendered","Created attachment 46329
screenshot

See attached screenshot.",714,"1"
"WINE-1719","MDI child window minimize problem in Delphi VCL applications","There is a sample application with source to demonstrate the problem. If you try
to minimize one of the MDI child windows it will not make a little tab at the
bottom of the window but it scrambles the screen and there is a full sized
scrambled window at the bottom. If you can click on the bottom of this window
somehow then the system menu comes up and you can restore your window what
works then perfect.",5636,"1"
"WINE-23197","Mathematica Welcome screen has no images","Created attachment 28860
Upper window is in wine lower is native linux (it looks the same as in windows)

Mathematica Welcome Screen lacks the images as well as some controls (e.g. checkbox in the lower right corner). The same is with help browser - no navigation controls.",504,"1"
"WINE-3265","winldap_private.h:289: error: syntax error before 'BerElement'","compiling with gcc-4.0.1 
 
make[2]: Entering directory `/usr/src/wine-20050830/dlls/wldap32' 
gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__ 
-DWINE_NO_DEBUG_MSGS -DWINE_NO_TRACE_MSGS  -D_REENTRANT -fPIC -Wall -pipe 
-mpreferred-stack-boundary=2 -fno-strict-aliasing -gstabs+ -Wpointer-arith  -O 
-march=pentium4m -mmmx -mfpmath=sse -msse -msse2 -pipe -O3  -o add.o add.c 
In file included from add.c:39: 
winldap_private.h:289: error: syntax error before 'BerElement' 
winldap_private.h:290: error: syntax error before 'BerElement' 
winldap_private.h:322: error: syntax error before 'BerElement' 
winldap_private.h:323: error: syntax error before 'BerElement' 
make[2]: Leaving directory `/usr/src/wine-20050830/dlls/wldap32' 
make[1]: Leaving directory `/usr/src/wine-20050830/dlls' 
make[2]: *** [add.o] Error 1 
make[1]: *** [wldap32] Error 2 
make: *** [dlls] Error 2",22,"0"
"WINE-885","Screen Corruption in riven","Bug comments restored from Gmane.org: 
 
When playing Riven I can move ahead and the screens are fine but when I want to 
rotate the view the screen gets corrupted. I think I have tracked the problem 
down to StretchBlt and BitBlt in X11 but I have run into problems debugging it. 
It turns out that winedbg uses BITBLT_InternalStretchBlt extensivly so I cannot 
use winedbg to track down. 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-16 
23:19 ------- 
Created an attachment (id=228) 
Screen shot before rotate. 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-16 
23:21 ------- 
Created an attachment (id=229) 
Screen shot after rotate 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-16 
23:22 ------- 
Created an attachment (id=230) 
Screenshot of what it should look liek after rotate. 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-16 
23:26 ------- 
Created an attachment (id=231) 
Short log file that goes with screen shots 
 
 
------- Additional Comments From dclark  akamail.com  2002-07-17 11:32 ------- 
Yep I agree. I noticed that by setting transitions to best it becomes really 
obvious what is happening. It is supposed to scroll the window left or right 
and then paints in the new portion of the display. It does it with calls like this: 
trace:scroll:X11DRV_ScrollDC 08dc -1810 hrgnUpdate=0000 rcUpdate = (nil) 
which as you suggest causes a BitBlt: 
trace:bitblt:BitBlt hdcSrc=08dc 1810 24 bpp->hdcDest=08dc 00 427x392x24 
rop=cc0020 
For some reason that does not seem to be working. Only the new part is being 
painted in. The scroll never happens. I never got much beyond that point. 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-18 
12:25 ------- 
:BitBlt hdcSrc=08dc 1810 24 bpp->hdcDest=08dc 00 427x392x24 rop=cc0020 
OK. This looks (to me) like the source and destination are the same. hdcSrc and 
hdcDest both = 08dc. Based on my experience with SimCity's screen corruption I 
am inclined to be suspicious of this. The other thing about it is that it is 
24bpp and as Lionel says its evil  
 
source x = 181 
source y = 0 
destination x = 0 
destination y = 0  
width = 427 
hieght = 392 
  
So my assumption is that you clicked on the right side of the screen and the 
left hand side of the screen is not getting updated right? 
 
 
------- Additional Comments From dclark  akamail.com  2002-07-18 17:48 ------- 
Yep that was a click on the right. And of course there is a series of quick 
scrolls of various sizes corresponding to the various sized pieces left on the 
right side causing the screen corruption. 
trace:scroll:X11DRV_ScrollDC 08dc -1810 hrgnUpdate=0000 rcUpdate = (nil) 
trace:scroll:X11DRV_ScrollDC 08dc -810 hrgnUpdate=0000 rcUpdate = (nil) 
trace:scroll:X11DRV_ScrollDC 08dc -810 hrgnUpdate=0000 rcUpdate = (nil) 
trace:scroll:X11DRV_ScrollDC 08dc -820 hrgnUpdate=0000 rcUpdate = (nil) 
trace:scroll:X11DRV_ScrollDC 08dc -600 hrgnUpdate=0000 rcUpdate = (nil) 
I think 24 bits is only because that is what my video card is set for so that 
is what wine is using. Riven itself is only 8 bit color as I recall. 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-18 
19:47 ------- 
Well I've tracked it down to this code snippet 
 
    case SRCCOPY:  /* 0xcc */ 
        if (dcSrc->bitsPerPixel == dcDst->bitsPerPixel) 
        { 
            wine_tsx11_lock() 
            XSetFunction( gdi_display physDevDst->gc GXcopy ) 
            XCopyArea( gdi_display physDevSrc->drawable 
                       physDevDst->drawable physDevDst->gc 
                       physDevSrc->org.x + visRectSrc.left 
                       physDevSrc->org.y + visRectSrc.top 
                       width height 
                       physDevDst->org.x + visRectDst.left 
                       physDevDst->org.y + visRectDst.top ) 
            physDevDst->exposures++ 
            wine_tsx11_unlock() 
            return TRUE 
        } 
In each case it goes into this code. (XCopyArea is not a wine function) 
can you confirm? 
 
 
------- Additional Comments From dclark  akamail.com  2002-07-18 22:56 ------- 
Yep it looks like that for me. I added a trace to check the parameters to 
XCopyArea and they look ok.  
    case SRCCOPY:  /* 0xcc */ 
        if (dcSrc->bitsPerPixel == dcDst->bitsPerPixel) 
        { 
    TRACE(    src_xy=%d%d size=%d%d dst_xy=%d%d\n 
                       physDevSrc->org.x + visRectSrc.left 
                       physDevSrc->org.y + visRectSrc.top 
                       width height 
                       physDevDst->org.x + visRectDst.left 
                       physDevDst->org.y + visRectDst.top ) 
 
I think what is happening is that the first bitblt is doing the scroll on an 
internal image. 
trace:bitblt:BitBlt hdcSrc=08dc 380 24 bpp->hdcDest=08dc 00 570x392x24 
rop=cc0020 
... 
trace:bitblt:BITBLT_InternalStretchBlt     src_xy=380 size=570392 dst_xy=00 
And then the second copies the entire image to the screen 
trace:bitblt:StretchBlt 08dc 00 608x392x24 -> 0894 00 608x392x24 rop=cc0020 
... 
trace:bitmap:X11DRV_DIB_SetImageBits 
XPutImage(440410690x80798180x80b3ec00000608436) 
... 
trace:bitblt:BITBLT_InternalStretchBlt     src_xy=00 size=608392 dst_xy=1622 
The dst_xy on this second one is offset to accomodate the frame (I think). 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-18 
23:30 ------- 
It's a timing problem it seems that when the source and destination are the 
same the screen is not updated properly before the next bitblt. I found this out 
by putting a FIXME in a for loop. I wanted to slow this down so I could see the 
problem as it progressed. What it did is clear the problem up. 
.... 
             physDevDst->exposures++ 
            wine_tsx11_unlock() 
if (physDevDst == physDevSrc){ 
 INT q 
 for(q=1q<1000 q++){ 
   FIXME(Same Source 
 } 
} 
 
            return TRUE 
.... 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-19 
02:50 ------- 
Created an attachment (id=235) 
Horribly hacked solution that masks the problem (patch) 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-19 
21:13 ------- 
Duane have you tried Riven with either of my hacks and if so what do you think 
the problem is? Do you have any idea how to really fix this or should we leave 
it to one of the real wine guru's? 
 
 
------- Additional Comments From dclark  akamail.com  2002-07-20 11:38 ------- 
I tried both. They partially fix it for me but not completely. I still get a 
single piece of the old view though it is a much smaller piece than before. It 
always happens if I first move forward and then turn sideways. And of course the 
other noticable thing is that the window does not slide (scroll) but instead 
just jumps from one view to the other. 
 
I notice that if I obscure part of the window with another window and then 
uncover it that it is repainted with the corruption still there. By the way I 
can always get the window to repaint correctly by sliding my mouse down into the 
area at the bottom where the books are kept. This might require the window focus 
to be set to focus follows mouse.  
 
I don't really have much of a feel for where the problem is. It appears to me 
that the bitblt commands have the correct parameters so like you I think this 
is some sort of timing problem. I have the Xlib reference book that explains the 
 XCopyArea command but it does not mention any gotchas if the two Drawables are 
the same. At the point I don't think I now enough to know how to attack it.  
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-24 
18:42 ------- 
I've had several days to think about this one and I have come up with the 
following conclusions 
 
1. The problem is not with the source and destination drawables being the same. 
This is pretty rock stable stuff that has been tested in X11 for years. Also 
while  Debuging Bug 792 I noticed that when scrolling in the file dialog that 
the source and destination were the same with no screen corruption. (I had put a 
fixme in the code to detect this.) So it isn't this. 
 
2. Timing is a factor because slowing down the execution of same drawables 
clears up the problem somewhat. 
 
3. If I move forward and then turn. at the begining of the trace there is this 
fixme. 
 
> fixme:bitblt:X11DRV_BitBlt potential optimization - client-side DIB copy 
 
This does not occure if I am turning around in circles. What brought my 
attention to this is that another program that has screen corruption (Bug 911) 
displays this fixme a lot. 
 
All that means is that I understand the problem a little better and have a hint 
of where to look next I suppose. My burning question at this point is what does 
the somewhat cryptic fixme really mean? 
 
 
------- Additional Comments From dclark  akamail.com  2002-07-25 13:00 ------- 
I think that slowing down redrawing is actually masking the problem rather than 
fixing it somewhat. I noticed that what Riven appears to do is measure how long 
it takes to perform a scroll and if it is too long Riven does fewer scrolls 
with larger chunks. I think this is what it is doing what it initially does 
several zero length scrolls. And specifically what makes it appear to work is 
that if scrolling takes really long it does the scroll in a single step. Since 
the painting of the fill image has always worked if the fill image is the 
entire thing it appears to work. 
 
So in short I am less confident now that it really is a timing issue. 
 
 
------- Additional Comments From dclark  akamail.com  2003-01-09 14:18 ------- 
Fixed by: 
http://www.winehq.com/hypermail/wine-cvs/2003/01/0159.html 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2003-01-09 
19:16 ------- 
Closing... Thanks Duane.",177,"0"
"WINE-20806","Civilization II crashes on startup","Created attachment 24919
Civilization II backtrace

With wine-1.1.33-301-gd963e97 Civilization II crashes with:

fixme:wing:WinGGetDIBPointer16 6b8 (nil): not supported
wine: Unhandled page fault on read access to 0xffffffff at address 0x1417:0x0000021a (thread 001c) starting debugger...
Unhandled exception: page fault on read access to 0xffffffff in 16-bit code (1417:021a).
...

Since this did not occur in 1.1.29 a regression test was performed which showed:

6ad951804a2188dc0614ae0b9bd18e843937e8d3 is the first bad commit
commit 6ad951804a2188dc0614ae0b9bd18e843937e8d3
Author: Alexandre Julliard 
Date:   Sat Sep 26 13:32:25 2009 +0200

    gdi32: Make wing.dll into a stand-alone 16-bit module.

:100644 100644 418244e96b0cb9af6c7df68bb9672fdba2f22057 f439b356d3dfcd102c2c57bfdd305aec7e51e08d M	.gitignore
:100755 100755 6a76027b8696730d320ef676e0b9b0d791457953 5372518cf20852bddda590c6616c1a303dbb232e M	configure
:100644 100644 175b051bad723f1f5b14afabc57d6038c448b75f faf891df33ba999eacd591a57f0a6e3475381e55 M	configure.ac
:040000 040000 7037a30347a8adf0775b3158c964cf213bb48aeb 156c989d78f1343a55d0b07e80f071d0e0db131c M	dlls

It looks like the removal of the WinGGetDIBPointer16 implementation makes Civilization II unhappy. Full output is attached.",18,"0"
"WINE-22958","Missing disc icon on CDBurnerXP's progress dialog","Created attachment 28432
Terminal output

The progress dialogs in CDBurnerXP have a disc icon on them that recently disappeared. Previously it had an incorrect black background but otherwise looked OK. Regression testing indicated:

ea596f8a5f7d732bb56b5921ceb964137df0b930 is first bad commit
commit ea596f8a5f7d732bb56b5921ceb964137df0b930
Author: Alexandre Julliard 
Date:   Tue May 18 14:11:51 2010 +0200

    winex11: Force alpha channel to 0 when blitting to depth 32 from a lower depth.

:040000 040000 369e8db88a7dd0c206f6b37d41bfcac27dfbc708 28700a3330faf630cb189926f9b335936f158ab9 M    dlls

Reverting that patch brings it back.

This app uses dotnet20... to see the icon (or lack thereof) without actually burning a disc choose burn ISO image on the main menu and then switch to the burn ISO progress tab.",81,"0"
"WINE-2922","Unhandled Exception when starting F18.EXE","Im trying to play the game Jane's F/A-18 Simulator. It installs just fine when
wine is set to Win98. The installer claims to be unable to run the game on Win
NT 4 if the wine version is set to Win2k.
Im selecting wine-kernel because the first item on the backtrace that is not
from F18 is kernel32.
Whole blurb of the debugger follows:
----------------------------------------------------------
wine: Unhandled exception (thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: page fault on read access to 0xc0428004 in 32-bit code
(0x0042d38c).
In 32 bit mode.
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:003b GS:0033
 EIP:0042d38c ESP:77a9daa4 EBP:77a9daf0 EFLAGS:00010246(   - 00      -RIZP1)
 EAX:c0428000 EBX:00000001 ECX:77a9db18 EDX:00000001
 ESI:77b7a680 EDI:00400000
Stack dump:
0x77a9daa4:  00400000 77b7a680 77a9daf0 77a9dac4
0x77a9dab4:  00000001 00000001 77a9db18 00001010
0x77a9dac4:  00400000 77b7a680 00000001 00001010
0x77a9dad4:  00010073 00000000 800007ff 0001c042
0x77a9dae4:  00000000 00000002 00000938 77a9dbb4
0x77a9daf4:  0042d58f 00001010 77a9db18 00400000
Backtrace:
=>1 0x0042d38c in f18 (+0x2d38c) (0x77a9daf0)
  2 0x0042d58f in f18 (+0x2d58f) (0x77a9dbb4)
  3 0x00428274 in f18 (+0x28274) (0x77a9dc64)
  4 0x00426b9a in f18 (+0x26b9a) (0x77a9dc84)
  5 0x004257ee in f18 (+0x257ee) (0x77a9dcc8)
  6 0x00425052 in f18 (+0x25052) (0x77a9fd24)
  7 0x00424bc6 in f18 (+0x24bc6) (0x77a9fd7c)
  8 0x0042761a in f18 (+0x2761a) (0x77a9fdb4)
  9 0x00410a99 in f18 (+0x10a99) (0x77a9fe94)
  10 0x0041ace2  ?? +0x152 in f18 (0x77a9ff20)
  11 0x77b74c2a in kernel32 (+0x44c2a) (0x77a9fff4)
  12 0xb7fbee91  ?? +0x11 in libwine.so.1 (0x00000000)
0x0042d38c: movl        0x4(%eax)%esi
Modules:
Module  Address                 Debug info      Name (48 modules)
PE      0x00400000-0044b000     Export          f18
ELF     0x777af000-777c5000     Deferred        lz32
  \-PE  0x777c0000-777c5000     \               lz32
ELF     0x777c5000-777dd000     Deferred        version
  \-PE  0x777d0000-777dd000     \               version
ELF     0x777dd000-77813000     Deferred        advapi32
  \-PE  0x777f0000-77813000     \               advapi32
ELF     0x77813000-77892000     Deferred        gdi32
  \-PE  0x77830000-77892000     \               gdi32
ELF     0x77892000-779a0000     Deferred        user32
  \-PE  0x778b0000-779a0000     \               user32
ELF     0x77b03000-77c00000     Export          kernel32
  \-PE  0x77b30000-77c00000     \               kernel32
ELF     0x77d20000-77d2a000     Deferred        libnss_files.so.2
ELF     0x77d2a000-77d34000     Deferred        libnss_nis.so.2
ELF     0x77d34000-77d49000     Deferred        libnsl.so.1
ELF     0x77d49000-77d52000     Deferred        libnss_compat.so.2
ELF     0x77d68000-77d8b000     Deferred        libm.so.6
ELF     0x77d8b000-77e7e000     Deferred        libwine_unicode.so.1
ELF     0x77e94000-77f00000     Deferred        ntdll
  \-PE  0x77eb0000-77f00000     \               ntdll
ELF     0x77f00000-77f03000     Deferred        
ELF     0x7f5aa000-7f5b2000     Deferred        libxrender.so.1
ELF     0x7f5b2000-7f5bb000     Deferred        libxcursor.so.1.0.2
ELF     0x7f5d1000-7f5ec000     Deferred        imm32
  \-PE  0x7f5e0000-7f5ec000     \               imm32
ELF     0x7f5ec000-7f609000     Deferred        ximcp.so.2
ELF     0x7f609000-7f60b000     Deferred        xlcutf8load.so.2
ELF     0x7f60b000-7f60d000     Deferred        libnvidia-tls.so.1
ELF     0x7f60d000-7fcfe000     Deferred        libglcore.so.1
ELF     0x7fcfe000-7fd6c000     Deferred        libgl.so.1
ELF     0x7fd82000-7fe4c000     Deferred        libx11.so.6
ELF     0x7fe4c000-7fe5a000     Deferred        libxext.so.6
ELF     0x7fe5a000-7fe5f000     Deferred        libxxf86vm.so.1
ELF     0x7fe5f000-7fe65000     Deferred        libxxf86dga.so.1
ELF     0x7fe65000-7fe7c000     Deferred        libice.so.6
ELF     0x7fe7c000-7fe85000     Deferred        libsm.so.6
ELF     0x7fe9b000-7ff0b000     Deferred        x11drv
  \-PE  0x7feb0000-7ff0b000     \               x11drv
ELF     0x7ff0b000-7ff2b000     Deferred        libexpat.so.0
ELF     0x7ff2b000-7ff52000     Deferred        libfontconfig.so.1
ELF     0x7ff68000-7ff78000     Deferred        libz.so.1
ELF     0x7ff78000-7ffea000     Deferred        libfreetype.so.6
ELF     0xb7e8a000-b7e8e000     Deferred        libdl.so.2
ELF     0xb7e8e000-b7fa6000     Deferred        libc.so.6
ELF     0xb7fa6000-b7fb9000     Deferred        libpthread.so.0
ELF     0xb7fba000-b7fd3000     Export          libwine.so.1
ELF     0xb7fe9000-b8000000     Deferred        ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
00000008 (D) D:\FA-18\F18.EXE
        0000000a    0
        00000009    0 <==
WineDbg terminated on pid 0x8",1270,"1"
"WINE-11574","Picasa cannot upload to web albums","After upgrading from wine 0.9.54 to 0.9.55 Picasa can no longer upload to Picasa Web Albums. To reproduce select a picture in Picasa select the web albums button on the bottom and login.

Regression test says:

c132dd9360bdb40a45f7329a25324b10f8763091 is first bad commit
commit c132dd9360bdb40a45f7329a25324b10f8763091
Author: Hans Leidekker 
Date:   Fri Feb 1 14:40:42 2008 +0100

    wininet: Send HTTP/1.1 requests by default.",42,"0"
"WINE-32702","The Incredible Machine Contraptions & Even More Contraptions Crash","Created attachment 43149
Contraptions terminal output

In the last two (maybe more I haven't played it in a while) versions of wine (1.5.20 & 1.5.21) The Incredible Machine Contraptions & Even More Contraptions crash on loading. I've attached the terminal output.

Running: Debian Squeeze 6.0 amd64 / nVidia official drivers 295.59 / wine 1.5.21",5,"0"
"WINE-12890","Menu doesn't render in Thief The Dark Project in readtex mode","When going to menu by pressing ESC from the actual game level menu doesn't render (neither in full screen or desktop mode) when RTL mode is readtex. Screen is not updated at all despite you can hear menu music and sound effects as mouse passes clickable menu items. I get it on Geforce 2 mx and Geforce6100 and reportedly it also happens on some other nvidia cards.

Also happens immediately if directdrawrenderer is set to opengl (without it menu works before starting level apparently because it's rendered by gdi).

In other games readtex seems to work fine for me so probably this indicates some bug in wined3d triggered by readtex mode.

Demo is available.

Also affects system shock 2 (also Looking Glass Studio probably shares engine code) and probably also Thief 2 - The Metal Age (I didn't check but it has almost same engine).",12,"0"
"WINE-41165","MiTeC System Information X needs unimplemented function wlanapi.dll.WlanCloseHandle","1.) http://www.mitec.cz/msi.html
2.) Download 32bit version. 
3.) Launch wine MSIX.exe

Console is spammed with unimplemented wlanapi.dll.WlanCloseHandle

https://msdn.microsoft.com/en-us/library/windows/desktop/ms706610(v=vs.85).aspx",1,"0"
"WINE-6411","wine crashes when starting Alien Shooter full version","It crashes before the initial window with resolution choice is displayed. Demo 
and trial versions are working.",269,"1"
"WINE-35035","HF pAppLoc (AppLocale) installer crashes due to unimplemented function apphelp.dll.ShimFlushCache","Hello folks

not really useful as of now because Wine doesn't support app shims yet.
Anyway the installer shouldn't crash )

Website: http://www.hongfire.com/forum/downloads.php?do=file&id=329

If download fails alternate: http://www.mediafire.com/download/1p195o818um85d7/HF+pAppLoc.exe

--- snip ---
wine: Call from 0x7b83a8ef to unimplemented function apphelp.dll.ShimFlushCache aborting
wine: Unimplemented function apphelp.dll.ShimFlushCache called at address 0x7b83a8ef (thread 003b) starting debugger...
--- snip ---

MSDN: http://msdn.microsoft.com/en-us/library/bb432482%28v=vs.85%29.aspx

--- snip ---
BOOL WINAPI ShimFlushCache(
  _In_opt_  HWND hwnd
  _In_opt_  HINSTANCE hInstance
  _In_opt_  LPCSTR lpszCmdLine
  _In_      int nCmdShow
)
--- snip ---

Make nice trace of parameters when you stub it ...

$ sha1sum HF\ pAppLoc.exe 
910d8b36fd11e6813dda7d03f1fea8b10105ab94  HF pAppLoc.exe

$ du -sh HF\ pAppLoc.exe 
1.6M	HF pAppLoc.exe

$ wine --version
wine-1.7.7-262-g30a3e9c

Regards",1,"0"
"WINEHQ.ORG-40020","Front page search bar overlaps menu buttons in Iceweasel","Created attachment 53468
Partial screen shot showing the problem

I'm running Iceweasel (Debian's version of Firefox) 38.5.0 with NoScript (and RequestPolicy). The winehq.org website has always worked up until this week when it was changed.

When JavaScript is disabled (which I have set as a default) the Bugzilla and Forums buttons are no longer accessible due to the search bar overlapping them.

Even without JavaScript it shouldn't be too hard to better position the search box (which is less valuable than the Bugzilla and Forums links it is hiding).

As a worst-case scenario if changing the positioning for some reason is not possible the z-index should likely be adjusted so the search goes underneath the buttons.",0,"0"
"WINE-17816","Crash on startup if an Hercules DJ Console Rmx is connected","Created attachment 20061
error

Wine fails to start if I have the following device connected (log file attached):
http://www.hercules.com/uk/DJ-Music/bdd/p/62/dj-console-rmx/

This device requires drivers (GPL) for the midi part to work under Linux:
http://ts.hercules.com/eng/index.php?pg=view_files&gid=2&fid=28&pid=215&cid=1

But the problem happens even if the drivers are not installed (then only the audio interface is functional).
it also happens when using Jack which makes me think that the controller part is the culprit...",646,"1"
"WINE-32491","dbghelp doesn't support DW_FORM_flag_present","Occurs under newer clang:

austin@debian-home:~/wine-tmp/dlls/dbghelp$ cat ~/log.txt | grep dbghelp | sort -u
fixme:dbghelp_dwarf:dwarf2_fill_attr Unhandled attribute form 19
fixme:dbghelp_dwarf:dwarf2_swallow_attribute Unhandled attribute form 19
austin@debian-home:~/wine-tmp/dlls/dbghelp$ grep -c dbghelp ~/log.txt 
18884",1315,"1"
"WINE-19468","SimCity 4 Deluxe is showing an error messages when starting","Created attachment 22629
Error dialog

When you try to open simcity 4 Deluxe edition it show an error telling you:

----------------------------------
|Hardware Driver Error            |
|Could not initialize Direct draw |
----------------------------------

After you clic OK the game will start normally.

This is what is show in the console:

fixme:system:SystemParametersInfoW Unimplemented action: 94 (SPI_GETMOUSETRAILS)
fixme:d3d_caps:IWineD3DImpl_FillGLCaps Received unrecognized GL_VENDOR Tungsten Graphics Inc. Setting VENDOR_WINE.
fixme:win:EnumDisplayDevicesW ((null)00x32efd80x00000000) stub!
fixme:d3d_caps:IWineD3DImpl_FillGLCaps Received unrecognized GL_VENDOR Tungsten Graphics Inc. Setting VENDOR_WINE.
fixme:win:EnumDisplayDevicesW ((null)00x32ef240x00000000) stub!

Looks like wine do not support my video card. Is an Intel X4500HD. Driver 2.8.0 git version.

00:02.0 VGA compatible controller [0300]: Intel Corporation Mobile 4 Series Chipset Integrated Graphics Controller [8086:2a42] (rev 07)

This is over Wine 1.1.26 and Ubuntu 9.04.",86,"0"
"WINE-12781","Dungeon Siege graphics problems since removing the pixel format limitation","Tested with most recent release as well as git version. As of wine 0.9.57 Dungeon Siege does not display the main menu correctly (there's some shadow effect which appears above all the buttons rather than below) and in game all the 3D elements are not properly clipped based on point of view.

This is directly related to the following patch which I used as git bisect to narrow down to.

8293a9ead0ddbc40be62815f0f0823356665b3dc is first bad commit
commit 8293a9ead0ddbc40be62815f0f0823356665b3dc
Author: Roderick Colenbrander 
Date:   Fri Feb 22 20:40:00 2008 +0000

    wgl: Remove the pixel format limitation.

:040000 040000 d94457c21cbd39fefc97b82da4d94349358ad70d 6f47946106e17f0167e5916e88baa2aefa282cc1 M      dlls

I am unsure as to whether this is a problem with Xorg 7.3 (server 1.4) my Intel card using driver 2.2.1 the game itself or wine.

I do know that I can play Neverwinter Nights natively (linux client) and it uses OpenGL and 3D without any visual problems. As well running Half-Life 1 via Steam.exe works and no issues in game. All using wine 0.9.60.

I am willing to try additional things to find the problem as the game is quite unplayable since removing the pixel format limitation.",8,"0"
"WINE-23857","Half-Life (Steam) doesn't run","Created attachment 29955
Output

I'm trying to run Half-Life from Steam in Debian Sid. When I click in the play button the popup window saying prepare to launch Half-Life... appears and then hides.
My video card is SIS671/761 wich I run Steam and Half-Life pretty well in Windows XP.
Wine 1.2-rc6 started the game but this new version cannot do that.
Please see the attachment.
Thank you and sorry about my english.",1361,"1"
"WINE-28712","winhttp/notification.ok: invalid read in check_notification","First reported 
http://www.winehq.org/pipermail/wine-devel/2009-November/079718.html
but still happening today.

Here's the valgrind error I'm seeing now (with -O1):

Invalid read of size 4
   at check_notification (notification.c:85)
   by send_callback (session.c:57)
   by release_object (handle.c:81)
   by connect_destroy (session.c:261)
   by release_object (handle.c:85)
   by request_destroy (session.c:534)
   by release_object (handle.c:85)
   by task_thread (request.c:185)
   by worker_thread_proc (threadpool.c:114)
   by ??? (in dlls/ntdll/ntdll.dll.so)
   by call_thread_entry_point (signal_i386.c:2499)
   by start_thread (thread.c:405)
   by start_thread (pthread_create.c:304)
   by clone (clone.S:130)
 Address 0x7f22f854 is not stack'd malloc'd or (recently) free'd",925,"1"
"WINE-7882","Photoshop CS2 aborts after startup saying insufficient privileges","Photoshop CS2 trial 
(after installing see bug 5348 for workaround)
(after it finishes starting up see bug 5347)
aborts with a dialog box saying
  Adobe Activation
   You are not allowed to continue because your account
   does not have the proper privileges.  Please log in
   using an account with admnistrator privileges and try again.

The last few interesting things in the log are:

fixme:advapi:QueryServiceObjectSecurity 0x330e6e8 4 0x330e730 0 0x33e29c
fixme:advapi:SetEntriesInAclA 1 0x33e22c 0x330e7a0 0x33e294
fixme:advapi:QueryServiceObjectSecurity 0x330e6e8 4 0x33de94 512 0x33e2a4
fixme:advapi:SetServiceObjectSecurity 0x330e6e8 4 0x33e094
fixme:advapi:SetEntriesInAclA 1 0x33e270 (nil) 0x33e2d4
err:advapi:service_handle_start service is not stopped

(Where's that advapi category when you need it?)

After clicking OK one also sees lots of messages of the sort

fixme:ntdll:RtlNtStatusToDosErrorNoTeb no mapping for 8000000a
err:ole:local_server_thread Failure during ConnectNamedPipe 317",185,"0"
"WINE-35888","Stahlschlüssel 2007 no CD in drive warning","Steps to reproduce:
1) remove ~/.wine
2) install Stahlschlüssel 2007
3) wine yowindow.exe

Behaviour:
Program doesn't start because there is no CD in drive warning.

Expected behaviour:
Program should start.

Additional info:
After 'winetricks jet40 vb6run' program starts.",1,"0"
"WINE-12845","Mono 1.9.1 installer EULA is not rendered due to richedit regression","When running the Mono 1.9.1 installer with today's Git (wine-0.9.60-354-g4055751) the EULA text box is rendered blank. Regression testing showed the bad commit in question to be:

4f95cf707254653a3199caff3553fd0f732f23df is first bad commit
commit 4f95cf707254653a3199caff3553fd0f732f23df
Author: Alex Villacís Lasso 
Date:   Thu Apr 24 10:07:12 2008 -0500

    riched20: Reject RTF that is recognized as invalid.",2,"0"
"WINE-1818","err:shell:SHGetSpecialFolderPathA","Each time I try to install Microsoft Office 97 I get the following error messages:
err:shell:SHGetSpecialFolderPathA folder 0x00da unknown or not allowed
err:shell:SHGetSpecialFolderPathA folder 0x00dd unknown or not allowed
err:shell:SHGetSpecialFolderPathA folder 0x00b6 unknown or not allowed
err:shell:SHGetSpecialFolderPathA folder 0x00b9 unknown or not allowed
err:shell:SHGetSpecialFolderPathA folder 0x00da unknown or not allowed
err:shell:SHGetSpecialFolderPathA folder 0x00b6 unknown or not allowed",514,"1"
"WINE-3095","Wrong label are displayed in File menu item in Cool Edit 96 drob-down file menu detaches when loosing focus","Since last 4 snapshots I've ben annoyed by a nasty thing: Instead of File in
menubar there is entirely different label (which normally is in preferences
window) and after spawning drop-down File menu and moving mouse pointer away
from it menu detaches and stays insensitive until I close the program.",219,"0"
"WINE-4631","Invoice2Go (InstallShield) installer just stops","After the preparation phase the installer just stops.  The GUI disappears and
here are the console messages:

$ ~/tmp/wine/wine invoice2go.exe
fixme:richedit:RichEditANSIWndProc WM_SETFONT: stub
fixme:ole:ITypeInfo_fnRelease destroy child objects
err:ole:marshal_object object doesn't expose interface
{be6115a1-7de5-48dc-ad2a-25060e00fce2} failing with error
0x80004002err:ole:ClientIdentity_QueryMultipleInterfaces
IRemUnknown_RemQueryInterface failed with error 0x80004002
err:ole:marshal_object object doesn't expose interface
{be6115a1-7de5-48dc-ad2a-25060e00fce2} failing with error
0x80004002err:ole:ClientIdentity_QueryMultipleInterfaces
IRemUnknown_RemQueryInterface failed with error 0x80004002
fixme:ole:ITypeInfo_fnRelease destroy child objects
err:ole:marshal_object object doesn't expose interface
{be6115a1-7de5-48dc-ad2a-25060e00fce2} failing with error
0x80004002err:ole:ClientIdentity_QueryMultipleInterfaces
IRemUnknown_RemQueryInterface failed with error 0x80004002
err:ole:marshal_object object doesn't expose interface
{be6115a1-7de5-48dc-ad2a-25060e00fce2} failing with error
0x80004002err:ole:ClientIdentity_QueryMultipleInterfaces
IRemUnknown_RemQueryInterface failed with error 0x80004002
err:ole:marshal_object object doesn't expose interface
{be6115a1-7de5-48dc-ad2a-25060e00fce2} failing with error
0x80004002err:ole:ClientIdentity_QueryMultipleInterfaces
IRemUnknown_RemQueryInterface failed with error 0x80004002
err:ole:marshal_object object doesn't expose interface
{be6115a1-7de5-48dc-ad2a-25060e00fce2} failing with error
0x80004002err:ole:ClientIdentity_QueryMultipleInterfaces
IRemUnknown_RemQueryInterface failed with error 0x80004002
fixme:ole:ITypeInfo_fnRelease destroy child objects
err:ole:marshal_object object doesn't expose interface
{be6115a1-7de5-48dc-ad2a-25060e00fce2} failing with error
0x80004002err:ole:ClientIdentity_QueryMultipleInterfaces
IRemUnknown_RemQueryInterface failed with error 0x80004002
err:ole:marshal_object object doesn't expose interface
{be6115a1-7de5-48dc-ad2a-25060e00fce2} failing with error
0x80004002err:ole:ClientIdentity_QueryMultipleInterfaces
IRemUnknown_RemQueryInterface failed with error 0x80004002
err:ole:marshal_object object doesn't expose interface
{be6115a1-7de5-48dc-ad2a-25060e00fce2} failing with error
0x80004002err:ole:ClientIdentity_QueryMultipleInterfaces
IRemUnknown_RemQueryInterface failed with error 0x80004002
err:ole:marshal_object object doesn't expose interface
{be6115a1-7de5-48dc-ad2a-25060e00fce2} failing with error
0x80004002err:ole:ClientIdentity_QueryMultipleInterfaces
IRemUnknown_RemQueryInterface failed with error 0x80004002
err:ole:marshal_object object doesn't expose interface
{be6115a1-7de5-48dc-ad2a-25060e00fce2} failing with error
0x80004002err:ole:ClientIdentity_QueryMultipleInterfaces
IRemUnknown_RemQueryInterface failed with error 0x80004002
err:ole:marshal_object object doesn't expose interface
{be6115a1-7de5-48dc-ad2a-25060e00fce2} failing with error
0x80004002err:ole:ClientIdentity_QueryMultipleInterfaces
IRemUnknown_RemQueryInterface failed with error 0x80004002
err:ole:marshal_object object doesn't expose interface
{be6115a1-7de5-48dc-ad2a-25060e00fce2} failing with error
0x80004002err:ole:ClientIdentity_QueryMultipleInterfaces
IRemUnknown_RemQueryInterface failed with error 0x80004002
err:ole:marshal_object object doesn't expose interface
{be6115a1-7de5-48dc-ad2a-25060e00fce2} failing with error
0x80004002err:ole:ClientIdentity_QueryMultipleInterfaces
IRemUnknown_RemQueryInterface failed with error 0x80004002
err:ole:marshal_object object doesn't expose interface
{be6115a1-7de5-48dc-ad2a-25060e00fce2} failing with error
0x80004002err:ole:ClientIdentity_QueryMultipleInterfaces
IRemUnknown_RemQueryInterface failed with error 0x80004002
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7fb8efb00x7fb8efb4) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7fb8f0800x7fb8f084) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0xb788a7440xb788a748) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0xb788a7400xb788a744) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7fb8f5dc0x7fb8f5e0) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7fb8f4a40x7fb8f4a8) stub!
fixme:win:SetWindowTextA setting text InstallShield Wizard of other process
window (nil) should not use SendMessage



If I enable WINEDEBUG=warn+all here are some of the last lines:
warn:file:wine_nt_to_unix_file_name L\\??\\C:\\Program Files\\Common
Files\\InstallShield\\engine\\6\\Intel 32\\iuser.dll ->
/home/z/.wine/dosdevices/c:/Program Files/Common
Files/InstallShield/Engine/6/Intel 32/iuser.dll required a case-insensitive search
warn:file:wine_nt_to_unix_file_name L\\??\\C:\\Program Files\\Common
Files\\InstallShield\\engine\\6\\Intel 32\\iuser.dll ->
/home/z/.wine/dosdevices/c:/Program Files/Common
Files/InstallShield/Engine/6/Intel 32/iuser.dll required a case-insensitive search
warn:file:wine_nt_to_unix_file_name L\\??\\C:\\Program Files\\Common
Files\\InstallShield\\engine\\6\\Intel 32\\iuser.dll ->
/home/z/.wine/dosdevices/c:/Program Files/Common
Files/InstallShield/Engine/6/Intel 32/iuser.dll required a case-insensitive search
warn:file:wine_nt_to_unix_file_name L\\??\\C:\\Program Files\\Common
Files\\InstallShield\\engine\\6\\Intel 32\\iuser.dll ->
/home/z/.wine/dosdevices/c:/Program Files/Common
Files/InstallShield/Engine/6/Intel 32/iuser.dll required a case-insensitive search
warn:file:wine_nt_to_unix_file_name L_isuser.dll not found in
/home/z/.wine/dosdevices/c:/windows/temp/{087CF260-0FCA-4E5F-8ABC-4D59FFEA4A73}
warn:ntdll:NtCreateFile
L\\??\\C:\\windows\\temp\\{087CF260-0FCA-4E5F-8ABC-4D59FFEA4A73}\\_isuser.dll
not found (c0000034)
warn:module:load_builtin_dll cannot open .so lib for builtin L_isuser.dll:
/home/z/tmp/wine/programs/_isuser.dll.so: cannot open shared object file: No
such file or directory
warn:module:load_dll Failed to load module
LC:\\windows\\temp\\{087CF260-0FCA-4E5F-8ABC-4D59FFEA4A73}\\_isuser.dll
status=c0000135
warn:gdi:GDI_GetObjPtr Invalid handle (nil)



System/environment:
* WINE from today's CVS
* Fedora Core 4 x86-32
* Clean ~/.wine

The download is freely available at http://invoice2go.com/download.aspx",208,"0"
"WINE-36409","valgrind shows a couple leaks in netcfgx/tests/netcfgx.c","==3762== 12 bytes in 1 blocks are definitely lost in loss record 68 of 562
==3762==    at 0x7BC50A9B: RtlAllocateHeap (heap.c:255)
==3762==    by 0x5DC1DC2: INetCfg_CreateInstance (netcfg.c:228)
==3762==    by 0x5DC0C61: netcfgcf_CreateInstance (main.c:94)
==3762==    by 0x4CBD4DD: CoCreateInstance (unknwn.h:226)
==3762==    by 0x4B54DA2: func_netcfgx (netcfgx.c:36)
==3762==    by 0x4B55F6C: run_test (test.h:584)
==3762==    by 0x4B5635A: main (test.h:654)


==3762== 28 bytes in 1 blocks are possibly lost in loss record 162 of 562
==3762==    at 0x7BC50A9B: RtlAllocateHeap (heap.c:255)
==3762==    by 0x4CB6BB8: apartment_getclassobject (compobj.c:526)
==3762==    by 0x4CB9FC6: get_inproc_class_object (compobj.c:2894)
==3762==    by 0x4CBCD2F: CoGetClassObject (compobj.c:3032)
==3762==    by 0x4CBD4B7: CoCreateInstance (compobj.c:3197)
==3762==    by 0x4B54DA2: func_netcfgx (netcfgx.c:36)
==3762==    by 0x4B55F6C: run_test (test.h:584)
==3762==    by 0x4B5635A: main (test.h:654)
==3762==",5,"0"
"WINE-22666","wine64: does not create a proper WINEPREFIX when -O0 is used breaks winetest","Created attachment 27900
part 1 of +relay+seh+tid

wine: created the configuration directory '/home/austin/.wine'
fixme:event:wait_for_withdrawn_state window 0x10034/1c00001 wait timed out
Could not load wine-gecko. HTML rendering will be disabled.
wine client error:17: write: Bad file descriptor
err:seh:setup_exception stack overflow 1136 bytes in thread 0017 eip 00007fdba0c97f91 esp 00007fdb9ec41190 stack 0x7fdb9ec40000-0x7fdb9ec42000-0x7fdb9ed40000
err:qmgr:register_server register_service failed: 1722
err:wia:register_server register_service failed: 1722
fixme:event:wait_for_withdrawn_state window 0x20042/1a00001 wait timed out
wine: configuration in '/home/austin/.wine' has been updated.
Starting up
Error: Mount manager not running most likely your WINEPREFIX wasn't created correctly.

+relay+seh+tid attached. This was with a run using ssh + xming on windows but the same thing happens when working locally. 32-bit wine of course works fine.",5,"0"
"WINE-7987","NFS: Most Wanted crashes in light","v. 1.3 with nocd
Crash occurs in quick race.",652,"1"
"WINE-7591","Errors installing Citrix Win16 ICA client v6.20.985","If you try to install the Citrix ICA client v6.20.985 (Win16) in wine you 
experience problems

Im running ubuntu 6.10 and I got wine as a .deb package from the Wine 
repository 0.9.31~winehq0~ubuntu~6.06-1

To reproduce the problems just do:

$ rm .wine/ -fr
$ wineprefixcreate
$ wget http://download2.citrix.com/files/en/products/nfr/ica/ica16.exe
$ wine ica16.exe

When the unzip dialog opens click on unzip then ok At this point the  install
will fail with  the following output:

1) If you run  the setup from  an Xvnc remote session:

Xlib:  extension GLX missing on display localhost:1.0.
err:wgl:X11DRV_WineGL_InitOpenglInfo  couldn't initialize OpenGL expect 
problems
Xlib:  extension GLX missing on display localhost:1.0.
err:wgl:X11DRV_WineGL_InitOpenglInfo  couldn't initialize OpenGL expect 
problems
fixme:cursor:create_cursor Currently no support for cursors with 46 bits per 
pixel
X Error of failed request:  BadDrawable (invalid Pixmap or Window parameter)
  Major opcode of failed request:  55 (X_CreateGC)
  Resource id in failed request:  0x3c00003
  Serial number of failed request:  56
  Current serial number in output stream:  61
  
2) And if you are working on the local X session you get this:

libGL warning: 3D driver claims to not support visual 0x5b
libGL warning: 3D driver claims to not support visual 0x5b
X Error of failed request:  BadAlloc (insufficient resources for operation)
  Major opcode of failed request:  53 (X_CreatePixmap)
  Serial number of failed request:  51
  Current serial number in output stream:  52

At this point the install has stopped however the installation can be resumed 
just typing:

$wine c:\\windows\\temp\\disk1\\setup.exe

The installation continues fine from this point however if you run it through 
a remote Xvnc session you get the installer to freeze to reproduce:

If you do not configure wine to run as Windows 3.1 you will get a warning 
but it can be ignored for this exercise.

To install the software do:

1) Click next
2) Click Yes
3) Click next
4) Click Next..
5) Type a name on the name textbox and click next

	5.1) if you are running this from a Xvnc remote session the installer 
will hang with the follogin message:

	If crash: err:ntdll:RtlpWaitForCriticalSection section 0x7b921200 
syslevel.c: Win16Mutex wait timed out in thread 001b blocked by 001a 
retrying (60 sec)
	
	5.1) On a local X session the app runs fine at this point.
	
6) Click on OK and the install is finished.

After the application has been installed if you try to  re-run the setup.exe 
to  reinstall the app you get a  nice wine crash  on the floor  (see attached 
ica16_winecrash.txt)  To make things even more interesting I do  not get the 
crash if I redirect  the err output to a file ie: 

$wine c:\\windows\\temp\\disk1\\setup.exe 2>err.txt

It just run normally as expected you get the crash only if the err output is 
not redirected to a file.",244,"1"
"WINEHQ_APPS_DATABASE-2888","last-modified information not sent not even with images","In the app database  there are a number of objects for which we have a
historical modification time and which shouldn't get changed very often  but
the PHP scripts always set the no-cache header and otherwise make sure that
they aren cached.  In particular  /appimage.php (the screenshot viewer) sets
the following headers on a positive lookup:

Set-Cookie: whq_appdb=91649fe42c6dbd10991df9899e4cfa7b expires=Thu 21-Jul-05
14:47:31 GMT path=/
Expires: Thu 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store no-cache must-revalidate post-check=0 pre-check=0
Pragma: no-cache

Note the absence of a Last-Modified: header the cookie and the Cache-Control:
line.  Since the URL includes id (which is the primary key of the appData
table) and a parameter for thumbnail  there is no reason for these headers in
the response.  Instead  the Last-Modified: header ought to be the modification
time (i.e. upload time) of the underlying image file  and it would be best to
also send:

Cache-Control: public

along with the response.

Furthermore  it should be OK to optimize the response to HEAD requests by
checking the REQUEST_METHOD CGI variable.  At present  the script would not
need to do any image-processing just:

1.  Check whether the URL is valid
2.  Check that the image is in the database
3.  Get the file's access-time  and look for a JPEG or PNG header
4.  Make sure it is public or that the user (verified by the login cookie) is
an administrator.  (This will prevent spam.)",100,"0"
"WINE-20672","GetDC change causes black screen in Seven Kingdoms","The following patch causes a black screen upon running Seven Kingdoms:
e1469961d42d0eb077d3fa0236de17b56bc51a56 is the first bad commit
commit e1469961d42d0eb077d3fa0236de17b56bc51a56
Author: Stefan DÃ¶singer 
Date:   Sat Sep 5 16:37:19 2009 +0200

    wined3d: Test and fix ddraw and d3d9 GetDC differences.
   
    The MSDN is not totally correct: A8R8G8B8 and A1R5G5B5 also allow GetDC. The
    main differences that have to be filtered out in d3d9.dll are GetDC on
    A8B8G8R8 X8B8G8R8 and P8.

:040000 040000 50563852d85b047d42d3ff67801850c834b63244 e64032236cf06c87a6d12bf361cb94417db71efa M   dlls


Running the ddraw dsurface test seems to indicate that ddraw wants opengl enabled in the registry as the DirectDrawRenderer.  Then when enabling opengl a full-screen Seven Kingdoms draws the screen partially offscreen incorrectly.  When virtual desktop is enabled the game is visible correctly.

Also note Seven Kingdoms uses an 8-bit color depth.

It is expected that GDI mode should not produce a black screen.

Bug 20327 is similar but I question whether it is the same problem as it is a D3D game.",6,"0"
"WINE-37653","valgrind shows a definite leak in comctl32/tests/imagelist.c","==17290== 140 bytes in 1 blocks are definitely lost in loss record 539 of 808
==17290==    at 0x7BC4DC87: initialize_block (heap.c:233)
==17290==    by 0x7BC4DC87: RtlAllocateHeap (???:0)
==17290==    by 0x4DA3B5A: ImageListImpl_CreateInstance (imagelist.c:3799)
==17290==    by 0x4DA45D6: ImageList_Create (imagelist.c:782)
==17290==    by 0x4BB8C80: createImageList (imagelist.c:125)
==17290==    by 0x4BBD00B: test_begindrag (imagelist.c:258)
==17290==    by 0x4BBD00B: func_imagelist (???:0)
==17290==    by 0x4BA5837: main (test.h:584)
==17290==",1,"0"
"WINE-44829","MinimalOpenGL sample crashes in unimplemented GetDpiFor{System/Window}","Created attachment 60868
stub for GetDpiForWindow

Crashes in unimplemented GetDpiForSystem and GetDpiForWindow

I`ll attach two stubs that make the app start",4,"0"
"WINE-18641","Adobe Lightroom 2.3 crashes on unimplemented function gdiplus.dll.GdipCreateHICONFromBitmap","Created attachment 21346
wine-1.1.22-86-gbf353f1 console output

Adobe Lightroom 2.3 Demo causes an unhandled exception due to unimplemented function GdipCreateHICONFromBitmap following installation.

To use the trial the patch from Bug 14930 must be applied.
http://bugs.winehq.org/attachment.cgi?id=17777

The trial only shows the fault immediately after installation.  Subsequent times it exits silently (which is probably a different bug).
Someone with a full version will have to confirm if this occurs repeatedly for that.

With native gdiplus the trial does not show an unhandled exception and simply exits silently.",14,"0"
"WINE-3169","7-Zip: back button + path field not appearing","20050725 CVS version exhibits graphical glitches. The field which holds the
current location path + back button does not appear properly.
I am attaching two small screenshots one of them showing the problem the other
(from 7-Zip official page) showing the correct behaviour.

The console shows the following messages while running the application :
$ wine 7zFM.exe
err:rebar:REBAR_AdjustBands Phase 1 failed x=1000 maxx=-4 start=1 end=1

This bug makes navigation in the 7-zip file manager unusable as without the path
field one cannot go back out of a directory (the back button is next to the
path field).",576,"1"
"WINE-11929","Audiosurf: Questviewer.exe crashes with page fault.","Created attachment 11233
Log from running wine ./Steam and then launching Audiosurf

Audiosurf fails to launch because there's a pagefault in QuestViewer.exe.",79,"0"
"WINE-29453","Some game installers don't finish properly (cancels installation due to error)","In some instalation versions msi installer gets an rare error and cancels the instalation. It happens to me with the game FEAR and other games of this generation.",248,"1"
"WINE-2615","Myst crashes with latest CVS","Myst (32 bit for windows 95)  crashs with the following back trace

First chance exception: page fault on write access to 0x00000800 in 32-bit code
(0x40102315).
In 32 bit mode.
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:0033 GS:0000
 EIP:40102315 ESP:40813a04 EBP:40813a80 EFLAGS:00210206(   - 00      - RIP1)
 EAX:00000800 EBX:401959d5 ECX:00000002 EDX:00000000
 ESI:408139ec EDI:77f01f62
Stack dump:
0x40813a04:  40502e08 780c9b78 40195ad0 40502e08
0x40813a14:  400a7a55 00000171 403715c0 4015e160
0x40813a24:  40813a30 77f025f1 40195ad0 401959d5
0x40813a34:  40502e08 4015ebe0 40195ad0 40502e08
0x40813a44:  40813a54 4047890a 402f0098 4015e160
0x40813a54:  40813a60 77f025f1 4015ebe0 40813a90
Backtrace:
=>1 0x40102315 open+0x75 in libc.so.6 (0x40813a80)
  2 0x4015e160 __start___libc_subfreeres+0x144 in libc.so.6 (0x40813ab0)
  3 0x40098634 _IO_fopen@@GLIBC_2+0x20 in libc.so.6 (0x40813ad0)
  4 0x4071d214 in libxcursor.so.1 (+0x6214) (0x40815b10)
0x40102315 open+0x75 in libc.so.6: movl %ecx0x0(%eax)
Wine-dbg>",923,"1"
"WINE-28342","Nox shows only a black screen with Opengl renderer","Nox is a rpg game released in 2000 by Westwood Studios.

Symptom: the game is running fine after starting (music is playing mouse clicks seemingly work) but nothing can be seen.

Workaround: ddr=gdi

94ae743ea668e49d40ae4e2dc5fe1f5d9be018cb is the first bad commit
commit 94ae743ea668e49d40ae4e2dc5fe1f5d9be018cb
Author: Henri Verbeet 
Date:   Tue Aug 30 20:12:31 2011 +0200

    ddraw: Make the OpenGL renderer the default one.

:040000 040000 fbce2dc172258a4a7eabc65b6f86bd58522b4667 dfb3b24196ac3ad09100758a48b2d4ef7e45e26b M	dlls

Other bug(s) related to this commit: bug #28261.

The plain terminal output doesn't reveal much:

fixme:win:EnumDisplayDevicesW ((null)00x32f1080x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x32f3780x00000000) stub!
fixme:x11drv:X11DRV_desktop_SetCurrentMode Cannot change screen BPP from 32 to 16
fixme:d3d:swapchain_init Add OpenGL context recreation support to context_validate_onscreen_formats
fixme:d3d_surface:wined3d_surface_flip Ignoring flags 0x1.",44,"0"
"WINE-26798","Lego Star Wars 2: whole screen upside down","Because of bug #22029 commnt #4 I need to use
OffsetRenderingMode=backbuffer
with Lego Star Wars 2.

commit 7414ebc97596d0fe9b3042bee8ec44260a31aa4e past wine-1.3.5
Author: Henri Verbeet 
Date:   Fri Oct 29 12:25:18 2010 +0200
    wined3d: Don't flip the coordinate system in set_blit_dimension().

causes the complete screen to be upside down as soon as the game is entered but not while in the menus.  The position of the picture in picture rectangle mentioned in that other bug is still at the bottom left and its content is correct (hence you could play the game looking solely at the tiny picture...).

Wait text at the bottom and the score and icons at the top are drawn correctly so it's not the entire screen that's upside down it's only the 3D part (i.e. almost everything).

Curiously hitting the esc key to access the on-screen menu redraws the screen normally. (Perhaps the app takes a screenshot and draws the menu in that bitmap?). Resume the game and the scene is upside down again.

In newer versions checked during regression testing the situation was a little different: the screen would sometimes flip at certain camera positions but be upside down most of the time. In 1.3.18 it's constantly upside down.

Early 2009 Mac mini with nVidia 9400 and MacOS X 10.5.8 with XQuartz 2.5.3 (not yet 2.6.1)",246,"1"
"WINE-30116","Internet Explorer 8 will not run","Created attachment 39258
backtrace of IE8 failing to run

Tried to run IE8 but it did not even launch - it just gave a crash error. I attach a backtrace.",189,"0"
"WINE-20466","Multiple broken apps and games with incorrect TLS usage crash on startup (TLS slot index allocation must start at non-zero indexes (Brothers in Arms: Hell's Highway ProShow Gold 5/6)","Created attachment 24346
log

The issue I experienced when attempting to load the game is described here : http://www.whatwasithinking.co.uk/2008/10/08/brothers-in-arms-hells-highway-biahhexe-has-stopped-working-here-is-how-to-fix-it/ .

In this how-to they suggest to update/reinstall the graphics drivers and the PhysX module. My graphics driver is already updated to the latest (nvidia 190.42) and I fetched the latest bundle for the PhysX software. DirectX is automatically installed by the game I therefore used winetricks to make sure I had the latest DX9 bundle. Despite that I still get the same error message.

I browsed furthermore and have been refered to this : http://gbxforums.gearboxsoftware.com/showthread.php?p=1379618#post1379618 . This seems quite unusual to me therefore before I test this I would like to have some feedback on the solution proposed.

I have uploaded my console output if it can help.",1615,"1"
"WINEHQ_APPS_DATABASE-41785","Maintainer Entries is a blank page","The Maintainer Entries link in the sidebar now leads to a blank page. It should bring up a table of Maintainers and apps they maintain with links for admins to edit the entries. Without it there is no way for admins to remove maintainers.",156,"0"
"WINE-43659","Jurassic Park: Operation Genesis crashes inside winegstreamer (disabling winegstreamer is a workaround)","Created attachment 59097
Win7 64-bit wineprefix crash

Low priority as this bug has a work-around which is to disable winegstreamer.

Reproducible on Xubuntu 16.04 64-bit with AMD Radeon 6520G graphics on both 32-bit and 64-bit wineprefixes and set to WinXP and Win7 mode. 

I have attached crash reports for Win7 mode on a 64-bit prefix and WinXP/32bit.

Interestingly enough the game runs fine without any overrides when it is launched from POL. Interesting that POL would work when ~/.wine does not. 

https://www.reddit.com/r/wine_gaming/comments/6xwy7o/can_anyone_explain_why_a_program_would_work_in_a/

https://appdb.winehq.org/objectManager.php?sClass=version&iId=6088",531,"1"
"WINE-31512","'Movavi video converter 3D' crashes in RegSetValueExW","After doing 'winetricks wmp9' to work around bug 31511 the next problem
is another crash on startup:

Unhandled exception: page fault on read access to 0xffffffff in 32-bit code (0x7ea5adff).
Backtrace:
=>0 0x7ea5adff RegSetValueExW+0xcf() in advapi32 (0x0a9faea8)
  1 0x2006d01b in pkgmanager (+0x6d01a) (0x7ea5b390)

Turns out they called RegSetValueExW() with data=1 (i.e. they passed
by value instead of reference) and on Windows this returns a nice error
code instead of crashing.

I have a test and a patch will send shortly.",1,"0"
"WINE-15313","Leela: graphics do not show (win32/GDI?)","Hi

I have a go game with a fairly simple GUI that is built on wxWidgets/Win32. All board drawing is done with normal DC functions via a wxWidgets (Buffered)PaintDC.

I received several reports that the playing board does not show up when using the program under Wine. There are (obviously) no problems under Windows.

It surprises me that it does not work as as only very basic Win32 GDI drawing functions are used.

I am wondering if someone can take a look at this it looks like a bug in wine.

standalone exe for debugging: 
http://www.sjeng.org/ftp/work/LeelaGUI.exe

Wine 1.1 on Linux just shows a big black square where the playing board should be.",10,"0"
"WINE-20170","Gruntz: Slow down a lot when displaying text","Gameplay slows down a lot when text is displayed in game window. I mean white text with information in top left corner or text when writing cheats. Displaying text in game guides is OK same as text in classic Windows dialogs.

Steps to reproduce:
For white text in top lef corner:
1. start playing the game (SINGLEPLAYER > QUICKSTART)
2. click the mouse button twice to actually start playing the game
3. hit F5 to quicksave the game
4. set a name of the game and click on Save
5. OK all the dialogs
6. F5 again
5. the white text appears in top left corner game slows down until text disappears
(This may not work in the demo.)

For writing a cheat:
1. start playing the game (SINGLEPLAYER > QUICKSTART)
2. click the mouse button twice to actually start playing the game
3. hit Enter and write something
4. game slows down
5. hit Enter again
6. game is OK again

It is not playable during the time game is slowed down. Also I know two things:
1. Neither CPU or Memory usage goes up during the slow down.
2. There are no errors or text in the terminal during the slow down.

Demo link: http://download.cnet.com/Gruntz-demo/3000-7562_4-10026065.html

PS Sorry but I didn't test this in any earlier version of Wine so it is possible this is happening since ever...",1015,"1"
"WINE-31018","OpenGL OBJ Viewer Demo crashes when opening an object (msvcp100)","Created attachment 40713
WINEDEBUG=relaysehtidmsvcp90 wine GLObjViewer.exe Content/Models/cube.obj >> ~/log.txt 2>&1

Next after bug 24144. The app will crash in current wine but winetricks vcrun2010 works around it. There is no stub listed in the backtrace.

austin@aw25 ~ $ du -h GLObjViewer.zip 
288K	GLObjViewer.zip
austin@aw25 ~ $ sha1sum GLObjViewer.zip 
03a0eb2f2d4df0e50c0a4ef71b6c72b3b222a962  GLObjViewer.zip

To reproduce download extract and run:
wine GLObjViewer.exe Content/Models/cube.obj

if you only set msvcp100 to native and leave msvcr100 as builtin the app won't crash but the texture doesn't render. That's a separate issue and I don't really want to file a bug with mixed native/builtin components.",53,"0"
"WINE-4264","Multiple apps refuse to install complain about registry security (The 4th coming Google Pack Installer expect a non-null DACL)","i'm trying to run the 4th coming an old windows mmorpg and i get these errors
(sometimes i get more errors but playing with configuration and following a few
hints ppl in the irc chat gave i could remove some errors these are the ones i
get everytime):

WINEDLLOVERRIDES=ole32oleaut32rpcrt4=n wine t4c.exe

 fixme:ddraw:Main_DirectDraw_SetCooperativeLevel (0x7cb401f8)->(0x1002200000011)
fixme:ddrawIB_DirectDrawSurface_Blt Can't handle DDBLT_WAIT flag right now.
fixme:dinput:IDirectInputAImpl_GetDeviceStatus
(0x7cb460d8)->({6f1d2b61-d5a0-11cf-bfc7-444553540000}): stub
err:ntdll:RtlpWaitForCriticalSection section 0x8a0300 ? wait timed out in
thread 000e blocked by 0017 retrying (60 sec)


for readability i deleted the lines that came several times.  the very first
line is the command i run to launch the game.  the last err comes many more
times until the game crashes.
the game actually runs for a few seconds and then crash it seems like keyboard
input makes it crash faster ..  and the mouse doesn't work at all 
in attachment i put the result of WINEDEBUG=+tid+seh+relay
WINEDLLOVERRIDES=ole32oleaut32rpcrt4=n wine t4c.exe && grep -A 20 -B 300
seh: /tmp/relay.log > /tmp/relay.txt (as suggested by someone on the winehq
irc chat)

thank you very much for your help i hope it can be fixed for wine 1.0.0 =)

(i've put some more informations on the the 4th coming entry in the database
just in case)",3038,"1"
"WINE-9335","Cannot switch tabs in MYOB","Created attachment 7617
WINEDEBUG=Warn+allMyob.exe

Install MYOB fine and runs fine.  Open up a menu and try to click on a different tab up the top of the screen and it doesn't respond.",474,"1"
"WINE-23423","Some graphics are corrupted in Civilization IV","Some graphics are corrupted in Civilization IV. It used to be a problem before. At some point it was fixed but unfortunately I can't give exact version number of Wine.

Issues I have found:

Civilization IV:

- In-game menu's CivIV-logo is corrupted.

Civilization IV - Beyond the Sword:

- Animated mouse cursor is gray.
- In-game menu's CivIV-logo is corrupted.",585,"1"
"WINE-34950","Microsoft Visual Studio 2005 Tools for Applications installer crashes","Installation is Crashing.


vsta_aide.msi 55MB - http://rapidshare.com/share/E4B878B21A895D7241D51F4190BCA6E3
vsta - log.txt.xz (9.1MB expandet 688MB) - http://rapidshare.com/share/48E851973DFE49A8DA578CF877474640

WINEDEBUG=+relay+seh+tid wine msiexec -i .../vsta_aide.msi >log.txt 2>&1",368,"1"
"WINE-24208","Eclipse (Europa) - html-based Welcome window is blank","With current Wine and winegecko 1.1.0 Welcome window shows empty without any web content.

A significant (probably) part of a log:

---
err:ole:apartment_getclassobject DllGetClassObject returned error 0x80004002
err:ole:CoGetClassObject no class object {8856f961-340a-11d0-a96b-00c04fd705a2} could be created for context 0x3
---

This is a CLSID_WebBrowser identifier.",1913,"1"
"WINE-29206","Mystery Cases - Madame Fate (Bigfish games): Director Player Error:  Unable to load movie playlist","Director Player Error: 
Unable to load movie playlist. Does the .INI file exist? It must contain a section '[Movies]' with an entry 'Movie01=Pathname.dir'. 

Already tried with native msvcrt.dll no success.

The software is Mystery Cases - Madame Fate from Bigfish games. I'm not using any native dll.",1445,"1"
"WINE-36757","Microsoft Visual Studio 2005 Express reports 'object does not support this action' during project creation (needs IFileSystem::GetDriveName method impl)","Hello folks

as the summary says.

Create 'empty' project type (any other type won't work due to multiple known bugs).

--- snip ---
0009:fixme:scrrun:filesys_GetDriveName 0x7e14649c LC:\\users\\focht\\My Documents\\Visual Studio 2005\\Projects\\test\\test 0x3164dc
0009:fixme:seh:_abnormal_termination (void)stub
0009:trace:loaddll:free_modref Unloaded module LC:\\Program Files\\Microsoft Visual Studio 8\\Common7\\IDE\\VsWizard.dll : native
0009:trace:loaddll:free_modref Unloaded module LC:\\windows\\system32\\msvcp80.dll : builtin
0009:trace:msgbox:MSGBOX_OnInit LObject doesn't support this action
--- snip ---

Source: http://source.winehq.org/git/wine.git/blob/2b76dfba97825ff7a7f56efd2085d38ef013abdd:/dlls/scrrun/filesystem.c#l2940

--- snip ---
2940 static HRESULT WINAPI filesys_GetDriveName(IFileSystem3 *iface BSTR Path
2941 BSTR *pbstrResult)
2942 {
2943     FIXME(%p %s %p\n iface debugstr_w(Path) pbstrResult)
2944
2945     return E_NOTIMPL
2946 }
--- snip ---

$ sha1sum VC.iso 
1ae44e4eaf8c61c3a39e573fd6efd9889e940529  VC.iso

$ du -sh VC.iso 
463M	VC.iso

$ wine --version
wine-1.7.20-62-g0b30276

Regards",6,"0"
"WINE-34250","When leaving full screen mode IrfanView creates an on-top unusable excess screen-wide control","Created attachment 45580
The bottom of the screen

Steps to reproduce:

1) Install IrfanView
2) Open any image in it
3) Hit Enter (enter full-screen mode)
4) Hit Esc

Actual results: a unusable excess screen-wide control 21 pixels high - see the attached screenshot which shows the bottom of my screen

Expected results: nothing on the screen

It's a regression (not marking as such until a bad commit has been found) but I cannot do a regression testing. Sorry.",145,"0"
"WINE-24794","mytrader2009 crashes lately","Created attachment 31349
core dump log file

A program (mytrader2009) I have been using for sometime is now suddenly crashing. I am using Ubuntu 9.04 64bits and Wine 1.1.40 from the Wine-cn PPA. There is no change in my system or Wine lately. 

A fresh install in a separate bottle gives me the same thing. Also tried in Wine1.3.0 on Ubuntu 9.10 32bits system same. Guess the server is sending something that Wine can not handle.

log file containing core dump info is attached.

I also have a log file run with WINEDEBUG=+seh+relay+tid but it's 25MB what should I do with it?",188,"0"
"WINE-4803","Steam: not all lnk files are processed into linux shortcuts","Here are the logs interestingly though in Steam if you right click on an app
and then make a shortcut it makes both a lnk file and a standard linux shortcut:

ryanbach@linux:~/Desktop> wine SteamInstall.exe
fixme:advapi:GetFileSecurityW (LC:\\windows\\temp\\GLFf976.tmp) : returns fake
SECURITY_DESCRIPTOR
fixme:advapi:GetFileSecurityW (LC:\\windows\\temp\\GLFf97c.tmp) : returns fake
SECURITY_DESCRIPTOR
fixme:richedit:RichEditANSIWndProc WM_SETFONT: stub
fixme:richedit:RichEditANSIWndProc WM_SETFONT: stub
fixme:richedit:RichEditANSIWndProc EM_LIMITTEXT: stub
fixme:advapi:GetFileSecurityW (LC:\\Program Files\\Steam\\UNWISE.EXE) :
returns fake SECURITY_DESCRIPTOR
fixme:advapi:GetFileSecurityW (LC:\\Program
Files\\Steam\\steam_install_agreement.rtf) : returns fake SECURITY_DESCRIPTOR
fixme:advapi:GetFileSecurityW (LC:\\Program
Files\\Steam\\Public\\steam_tray.ico) : returns fake SECURITY_DESCRIPTOR
fixme:advapi:GetFileSecurityW (LC:\\Program Files\\Steam\\Steam.exe) : returns
fake SECURITY_DESCRIPTOR
fixme:shell:IShellLinkA_fnGetPath (0x403e0488): WIN32_FIND_DATA is not yet filled.
err:menubuilder:extract_icon32 LoadLibraryExW
(LC:\\PROG~FBU\\Steam\\\C:\\Program Files\\Steam\\steam.exe\) failed error 126
err:menubuilder:InvokeShellLinker failed to fork and exec wineshelllink
fixme:shell:IShellLinkA_fnGetPath (0x403f57a8): WIN32_FIND_DATA is not yet filled.
err:menubuilder:extract_icon32 LoadLibraryExW
(LC:\\PROG~FBU\\Steam\\http:\\www.steampowered.com\\index.php?area=subscriber_agreement)
failed error 126
err:menubuilder:InvokeShellLinker failed to fork and exec wineshelllink
fixme:shell:IShellLinkA_fnGetPath (0x403e5308): WIN32_FIND_DATA is not yet filled.
err:menubuilder:extract_icon32 LoadLibraryExW
(LC:\\PROG~FBU\\Steam\\\C:\\Program Files\\Steam\\unwise.exe\) failed error 126
err:menubuilder:InvokeShellLinker failed to fork and exec wineshelllink
fixme:shell:IShellLinkA_fnGetPath (0x403e5308): WIN32_FIND_DATA is not yet filled.
err:menubuilder:extract_icon32 LoadLibraryExW
(LC:\\PROG~FBU\\Steam\\\C:\\Program Files\\Steam\\steam.exe\) failed error 126
err:menubuilder:InvokeShellLinker failed to fork and exec wineshelllink
ryanbach@linux:~/Desktop> err:ole:CoGetClassObject class
{4955dd33-b159-11d0-8fcf-00aa006bcc59} not registered
err:ole:CoGetClassObject no class object {4955dd33-b159-11d0-8fcf-00aa006bcc59}
could be created for for context 0x1
fixme:ole:CoCreateInstance no classfactory created for CLSID
{4955dd33-b159-11d0-8fcf-00aa006bcc59} hres is 0x80040154
fixme:process:SetProcessWorkingSetSize (0xffffffff-1-1): stub - harmless
fixme:process:SetProcessWorkingSetSize (0xffffffff-1-1): stub - harmless
Shutting down. . .",743,"1"
"WINE-23172","Photoshop CS4 page fault on load","Created attachment 28825
Wine 1.2-rc3 console output

After working around Bug 18070 and Bug 23171 Photoshop CS4 causes a page fault during the splash screen.

Tried native gdiplus but it didn't help.",820,"1"
"WINE-875","Wine does not close socket","Bug comments restored from Gmane.org: 
 
------- Additional Comments From jakob  vmlinux.org  2002-07-11 20:57 ------- 
assigning to owner of wine-net 
 
 
------- Additional Comments From jakob  vmlinux.org  2002-07-11 20:58 ------- 
and this actually makes my application not work so changed severity  
to blocker. 
 
 
------- Additional Comments From apa3a  yahoo.com  2002-07-12 11:35 ------- 
Jackob sorry the blocker is for cases when you can't use Wine at all. 
I'm changing severity back despite the bug is serious for you personally. 
Could you attach the test case to the bug? 
Anyway thank you for the reminder. 
 
Forwarding the bug to Martin. 
Martin could you look at this bug? 
It has a good test case.",56,"0"
"WINE-26764","winecfg is picking up the wrong Windows version","1. Open winecfg
2. Select Windows 7
3. OK to close
4. Open winecfg

2008R2 is selected.

The problem appears to be that winecfg is pulling the build version from the registry - but different versions of Windows can use the same kernel and hence have the same build number (such as 7 and 2008R2).

build_str = get_reg_key( HKEY_LOCAL_MACHINE szKeyNT CurrentBuildNumber NULL )

isn't enough information for winecfg to know which version you selected last time.

A +winecfg trace shows this happening.

This has only become obvious now 2008R2 has been added but XP x64 SP2 and 2008 SP2 will suffer the same fate (when added).

What I can make out from the code it seems to store szVersion but doesn't retrieve it.  Obviously I have no idea how to fix it or I would have sent a patch.",6,"0"
"WINE-23025","D-Pad is not functional in epsxe","Created attachment 28546
Problem output.

Using epsxe (even after deleting registry entry) directional pad is not fully functional.",25,"0"
"WINE-8066","Page fault when starting 9 Dragons","The game/updater/launcher crashes with a page-fault when the initial launcher
(NDLauncher.exe) tries to load/start NDLauncher2.exe.

Trace attached.

GDI32 is mentioned in the trace but I don't know if this is a GDI-bug. Please
change component if it is )

Addtional info:
Commandline: WINEDEBUG=+relay LANG=C wine NDLauncher.exe
Distribution: Debian testing/unstable
No Windows installed
Wine configured built and installed via tools/wineinstall
GCC: Using built-in specs.
Target: i486-linux-gnu
Configured with: ../src/configure -v
--enable-languages=cc++fortranobjcobj-c++treelang --prefix=/usr
--enable-shared --with-system-zlib --libexecdir=/usr/lib
--without-included-gettext --enable-threads=posix --enable-nls
--program-suffix=-4.1 --enable-__cxa_atexit --enable-clocale=gnu
--enable-libstdcxx-debug --enable-mpfr --with-tune=i686
--enable-checking=release i486-linux-gnu
Thread model: posix
gcc version 4.1.2 20061115 (prerelease) (Debian 4.1.1-21)",1682,"1"
"WINE-37115","Calling ReadFile from WINBASEAPI (WinBase.h) with zero read length causes hang","Our software connects to a serial device using USB-serial adapters. In the process of attempting to create a wrapper for use on OSx I discovered a hang when I attempted to connect to the device under Wine that does not occur under Windows.

I have tracked it down to the WINBASEAPI ReadFile. Under Windows if a zero value is passed as the length to read it handles and returns zero. Under Wine it causes a black box (meaning I can't trace it) hang.

I have worked around this in my code by including a return on zero value for the length however believe it may be responsible for other serial issues I have seen in researching this problem.",559,"1"
"WINE-872","Win9xism in dplayx.dll (ConvertToGlobalHandle)","Bug comments restored from Gmane.org: 
 
Wines dplayx imports the function ConvertToGlobalHandle from kernel32. This 
function is a 9x export only and as such we cannot use dplayx on WindowsNT/2k or 
ReactOS. 
 
dllwrap --add-stdcall-alias --def dplayx.spec.def --implib libdplayx.a -o dplayx 
.dll dpclassfactory.o dplay.o dplaysp.o dplayx_global.o dplayx_main.o dplayx_mes 
sages.o dplobby.o lobbysp.o name_server.o      dplayx.dll.dbg.o -L../../dlls  -l 
winmm -lole32 -luser32 -ladvapi32 -lkernel32 -L../../library -lwine -L../../ole 
-lwine_uuid -lm 
dplobby.o(.text+0x2538):dplobby.c: undefined reference to `ConvertToGlobalHandle 
@4' 
dplobby.o(.text+0x255c):dplobby.c: undefined reference to `ConvertToGlobalHandle 
@4' 
dplobby.o(.text+0x2580):dplobby.c: undefined reference to `ConvertToGlobalHandle 
@4' 
c:\mingw\bin\dllwrap.exe: c:\mingw\bin\gcc exited with status 1 
make: *** [dplayx.dll] Error 1",977,"1"
"WINE-19669","Sonic Mega Collection Plus quits just after the launcher","Sonic Mega Collection Plus uses a launcher to start the game the launcher works perfectly but when you click Play Game a window opens then the game exits with the following output:

err:seh:raise_exception Unhandled exception code c0000005 flags 0 addr 0x41c777
fixme:advapi:RegisterEventSourceA ((null) ): stub
fixme:advapi:RegisterEventSourceW (LL ): stub
fixme:advapi:ReportEventA (0xcafe42420x00010x00000x00000000(nil)0x00010x000000600x73e3f80x75977a): stub
fixme:advapi:ReportEventW (0xcafe42420x00010x00000x00000000(nil)0x00010x000000600x12d1080x75977a): stub
err:eventlog:ReportEventW L6
fixme:advapi:DeregisterEventSource (0xcafe4242) stub
fixme:advapi:RegisterEventSourceA ((null) ): stub
fixme:advapi:RegisterEventSourceW (LL ): stub
fixme:advapi:ReportEventA (0xcafe42420x00010x00000x00000000(nil)0x00010x000002cc0x73e3f80x75b09a): stub
fixme:advapi:ReportEventW (0xcafe42420x00010x00000x00000000(nil)0x00010x000002cc0x12d1080x75b09a): stub
err:eventlog:ReportEventW L7

I've attached a relay log",467,"1"
"WINE-11107","Adobe AIR / Adobe Media Player pre 2 never shows GUI","The Adobe Media Player doesn't seem to do anything
watching +crypt+wininet+winsock shows that
it does crypto stuff for about 15 seconds
then goes into a loop talking to a bunch of
web servers forever.  
Perhaps it's looking for updates in the background 
as it fiddles with files in 
.wine/drive_c/windows/profiles/dkegel/Application Data/Adobe/AIR/update/background
and is doing requests like this:
trace:wininet:HttpOpenRequestW (0x2 LHEAD L (null) Lapp:/AMP.swf 0x1ab738 8040c000 008c12c0)
But I would expect it to put up a GUI or something.

To repeat:

download
http://fpdownload.macromedia.com/get/flashplayer/current/install_flash_player.exe
download http://download.macromedia.com/pub/labs/air/air_b3_win_121207.exe
download
http://download.macromedia.com/pub/labs/mediaplayer/adobemediaplayer_p2_122007.air
wineserver -k
rm -rf .wine
wine install_flash_player.exe
wine air_b3_win_121207.exe
wine ~/.wine/drive_c/Program\ Files/Common\ Files/Adobe\
AIR/Versions/1.0.6/Adobe\ AIR\ Application\ Installer.exe
adobemediaplayer_p2_122007.air

cd .wine/drive_c/windows/profiles/dkegel/Start Menu/Programs
wine start Adobe Media Player.lnk",2853,"1"
"WINE-9894","CRLF and ^Z handling bad in fread causes xilinx modelsim mxe III startup to fail","In
http://www.winehq.org/pipermail/wine-users/2007-September/027833.html and
http://www.winehq.org/pipermail/wine-users/2007-October/027855.html
a user reports that Xilinx Modelsim MXE III dies on
startup with an apparant flexlm problem but it really
turns out to be a bug in our msvcrt's fread's crlf and control-Z handling
and the app starts ok with native msvcrt.

There was an earlier patch that tried to solve some of this stuff
http://www.winehq.org/pipermail/wine-devel/2006-August/050055.html
but it didn't have a conformance test and was not correct.

Here's a patch that solves the modelsim problem comes
with a conformance test and is mostly correct.  (It
doesn't handle CR LF's that span buffers but that's
hard and this app doesn't happen to require that.)",34,"0"
"WINE-31323","Microsoft SQL Server Management Studio Express 2005: cannot control server service (needs Win32_Service WMI class and improved parser for wbem_services_GetObject)","After connecting to a server the context menu contains options like start stop pause resume restart. Under Wine all these options are unavailable (grayed). Wbemprox log contains these lines most probably related:

trace:wbemprox:wbem_services_GetObject 0x3d8ee00 LWin32_Service.Name=\MSSQLSERVER\ 0x00000000 (nil) 0x3b2dd80 (nil)
err:wbemprox:wql_error syntax error unexpected TK_DOT expecting $end
trace:wbemprox:parse_query wql_parse returned 1

A running instance of SQL Server on local machine is needed to reproduce this bug. Winetricks dotnet20 win7 is needed to install the application.",11,"0"
"WINE-41033","Unimplemented function api-ms-win-crt-runtime-l1-1-0.dll.set_terminate need by Battle.net","Created attachment 55206
Error

Now this bug: https://bugs.winehq.org/show_bug.cgi?id=40905 has been resolved I built a custom version with the patch to resolve it. But now when I launched Battle.net I got a new error.",2,"0"
"WINE-10513","The I of the Dragon: Access violation","Created attachment 9259
The error.log the game produced

The game bails out before even starting with a small Access violation: error.log updated alert box. I tried with the full version. With Wine 0.9.43 it gave an error relating to Dinput i tried the native DirectX9 dinput.dll & dinput8.dll's for it but it did not help. Sorry i can not download the demo for which i provided the link my network is not fast enough but this is most probably a game engine related crash so it should also produce this.

Game demo can be downloaded here:
http://www.gamershell.com/download_5386.shtml",369,"1"
"WINE-1008","SETUPX_CreateStandardLDDs unimplemented","Bug comments restored from Gmane.org: 
 
WINE almost correctly uses charset cp1251 for text in Russia.  
The only place it takes incorrect is filenames.  
  
If I fire an open dialog I get Russian filenames wrong.  
To reproduce this kind of distortion in a web browser  
(just for me to explain easily what it is)  
create a file with text in koi8-r and view it as if it was in cp1251  
 - you will have exactly he same distortion of characters.  
  
In all places where a program displays the filename I get the same distortion  
but files are opened OK.",1480,"1"
"WINE-7274","Hitman 4: Blood Money Unhandled page fault","When starting Hitman: Blood Money the game starts and the classic Hitman thin
red loading bar appears and gets to ~50% done before the game crashes. It spurts
out a few lines of IWineD3DImpl_GetDeviceCaps Caps support for directx9 is
nonexistent at the moment! before it dies.",184,"0"
"WINE-33502","SnagIt writes incomplete HKLM\\System\\CurrentControlSet\\Control\\Print\\Printers entry causing loader failures for apps that depend on winspool.drv","Hello folks

split off from bug 12703 

@Bruno
--- quote ---
The program still does not run. The error in console is:

err:module:attach_process_dlls winspool.drv failed to initialize aborting
err:module:LdrInitializeThunk Main exe initialization for LC:\\Program
Files\\TechSmith\\SnagIt 8\\SnagIt32.exe failed status c0000005

I don't know how to circumvent that.
--- quote ---

It seems the app installs it's own printer but with incomplete data.
Wine's builtin winspool.drv reads the registry data upon initialization.
Unfortunately it doesn't expect incomplete entry crashing in dll entry point.
Nasty to debug.

This also breaks all Wine builtin apps that have winspool.drv dependency (winecfg notepad etc.) failing them to start.

--- snip ---
...
000d:Call PE DLL (proc=0x7dfc22d8module=0x7dfa0000 Lwinspool.drvreason=PROCESS_ATTACHres=0x1)
000d:Call KERNEL32.DisableThreadLibraryCalls(7dfa0000) ret=7dfc22b7
000d:Ret  KERNEL32.DisableThreadLibraryCalls() retval=00000001 ret=7dfc22b7
000d:trace:winspool:load_cups 0x7d530240: libcups.so.2 loaded
000d:Call KERNEL32.CreateMutexW(00000000000000017dfc3c00 L__WINE_WINSPOOL_MUTEX__) ret=7dfa996b
000d:Ret  KERNEL32.CreateMutexW() retval=0000007c ret=7dfa996b 
...
000d:trace:winspool:WINSPOOL_EnumPrintersW Found 1 printers
000d:Call advapi32.RegEnumKeyW(00000080000000000032f6b6000000ff) ret=7dfb4771
000d:Ret  advapi32.RegEnumKeyW() retval=00000000 ret=7dfb4771
000d:trace:winspool:WINSPOOL_EnumPrintersW Printer 0 is LSnagIt 8
000d:Call advapi32.RegOpenKeyW(000000800032f6b6 LSnagIt 80032f8b4) ret=7dfb4861
000d:Ret  advapi32.RegOpenKeyW() retval=00000000 ret=7dfb4861
000d:Call advapi32.RegQueryValueExW(000000887dfc3462 LName000000000032f6040015c04c0032f608) ret=7dfb2db5
000d:Ret  advapi32.RegQueryValueExW() retval=00000000 ret=7dfb2db5
000d:trace:winspool:WINSPOOL_GetStringFromReg LName: LSnagIt 8
000d:Call advapi32.RegQueryValueExW(000000887dfc34a8 LPort000000000032f6040015c0600032f608) ret=7dfb2db5
000d:Ret  advapi32.RegQueryValueExW() retval=00000002 ret=7dfb2db5
000d:warn:winspool:WINSPOOL_GetStringFromReg Got ret = 2
000d:Call advapi32.RegQueryValueExW(000000887dfc32c0 LAttributes000000000032f6040032f6000032f608) ret=7dfa5a9a
000d:Ret  advapi32.RegQueryValueExW() retval=00000002 ret=7dfa5a9a
000d:warn:winspool:get_dword_from_reg Got ret = 2 on name LAttributes
000d:Call advapi32.RegQueryValueExW(000000887dfc33d8 LdnsTimeout000000000032f6040032f6000032f608) ret=7dfa5a9a
000d:Ret  advapi32.RegQueryValueExW() retval=00000002 ret=7dfa5a9a
000d:warn:winspool:get_dword_from_reg Got ret = 2 on name LdnsTimeout
000d:Call advapi32.RegQueryValueExW(000000887dfc35d8 LtxTimeout000000000032f6040032f6000032f608) ret=7dfa5a9a
000d:Ret  advapi32.RegQueryValueExW() retval=00000002 ret=7dfa5a9a
000d:warn:winspool:get_dword_from_reg Got ret = 2 on name LtxTimeout
000d:Call advapi32.RegCloseKey(00000088) ret=7dfb4ae6
000d:Ret  advapi32.RegCloseKey() retval=00000000 ret=7dfb4ae6
000d:Call advapi32.RegCloseKey(00000080) ret=7dfb4b07
000d:Ret  advapi32.RegCloseKey() retval=00000000 ret=7dfb4b07
000d:trace:seh:raise_exception code=c0000005 flags=0 addr=0x7dfa5219 ip=7dfa5219 tid=000d
000d:trace:seh:raise_exception  info[0]=00000000
000d:trace:seh:raise_exception  info[1]=00000000
000d:trace:seh:raise_exception  eax=00000000 ebx=7dfcb154 ecx=00000005 edx=7dfc3680 esi=7ffdf000 edi=7ffd8000
000d:trace:seh:raise_exception  ebp=0032f968 esp=0032f968 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00010202
000d:trace:seh:call_stack_handlers calling handler at 0x7bc983b2 code=c0000005 flags=0 
--- snip ---

NOTE: no Port value.

Source: http://source.winehq.org/git/wine.git/blob/f63d59d640f48f5c734e09c5f0c4e322e9a6b3ee:/dlls/winspool.drv/info.c#l1544

--- snip ---
1544 static void old_printer_check( BOOL delete_phase )
1545 {
1546     PRINTER_INFO_5W* pi
1547     DWORD needed type num delete i size
1548     const DWORD one = 1
1549     HKEY key
1550     HANDLE hprn
1551 
1552     EnumPrintersW( PRINTER_ENUM_LOCAL NULL 5 NULL 0 
1553     if (GetLastError() != ERROR_INSUFFICIENT_BUFFER) return
1554 
1555     pi = HeapAlloc( GetProcessHeap() 0 needed )
1556     EnumPrintersW( PRINTER_ENUM_LOCAL NULL 5 (LPBYTE)pi needed 
1557     for (i = 0 i < num i++)
1558     {
1559         if (strncmpW( pi[i].pPortName CUPS_Port strlenW(CUPS_Port) ) &&
1560             strncmpW( pi[i].pPortName LPR_Port strlenW(LPR_Port) ))
1561             continue
1562 
1563         if (open_printer_reg_key( pi[i].pPrinterName 
...
--- snip ---

If the printer entry doesn't contain Port strncmpW() will cause a crash due to null pointer.
Printer info members that are not present in registry are zero-initialized.

Wine should be able to cope with incomplete data.

$ du -sh SnagIt823.exe 
14M	SnagIt823.exe

$ sha1sum SnagIt823.exe 
6314a99f2378de9d072c174ea894d9697a08a546  SnagIt823.exe

$ wine --version
wine-1.5.29-38-g8e4317c

Regards",2031,"1"
"WINE-24859","EnhanceMySe7en: Fails to start","Created attachment 31455
Terminal output on Wine-1.3.5

Steps to reproduce:
1) remove ~/.wine
2) winetricks gecko dotnet20
3) install EnhanceMySe7en
4) wine EnhanceMySe7en.exe

Behaviour:
Nothing happens.

Expected behaviour:
Something should happen.",348,"1"
"WINE-22078","Icon error in tree windows of CSPRO 4.0","How to see/test:

1. download cspro here http://www.census.gov/ipc/www/cspro/

2. Run Cspro 4.0 program

3. Open file/application goto examples/capi (under cspro 4.0 subdir) open file capi.ent.

4. You will see that the icon in the tree window on the left side are black. Different when you see it in native windows.

Screenshot is here http://sites.google.com/site/iipumarrifai2/wine-cspro-error0.jpg

Thanks

-iip-",1027,"1"
"WINE-39502","King Arthur II demo crashes with unimplemented function d3dx10_43.dll.D3DX10CreateTextureFromMemory","With d3dcompiler_43

wine: Call from 0x7b839c6c to unimplemented function d3dx10_43.dll.D3DX10CreateTextureFromMemory aborting
wine: Unimplemented function d3dx10_43.dll.D3DX10CreateTextureFromMemory called at address 0x7b839c6c (thread 0009) starting debugger...
Unhandled exception: unimplemented function d3dx10_43.dll.D3DX10CreateTextureFromMemory called in 32-bit code (0x7b839c6c).

wine-1.7.53-135-g4fb840b",282,"1"
"WINE-26240","R-Studio: HtmlHelpW HH case HH_DISPLAY_INDEX not handled","Steps to reproduce:
1) remove ~/.wine
2) winetricks gecko
3) wine r-studio.exe
4) Help->Index

Behaviour:
Nothing.

Expected behaviour:
Something.

Terminal output:
fixme:htmlhelp:HtmlHelpW HH case HH_DISPLAY_INDEX not handled.",337,"1"
"WINE-10992","Sacred: Crashes on enter in wine 0.9.52","Created attachment 9956
Error output on cli

With update to Wine 0.9.52 Sacred is crashing when starting the game.It works with wine 0.9.49 at least have not checked later ones... (will do when time)

I would supply all data needed if someone can tell what to do.

atached snipplet from default output.",82,"0"
"WINE-11516","jedi knight: dark forces II is upsidedown when 3d accel is enabled","wine-0.9.55 Ubuntu 7.04

Jedi Knight Dark Forces II demo - a dx5 game when 3d acceleration is enabled the game is upsidedown this same commit also breaks returning to the menu from ingame at which point nothing is drawn and it prints 

err:d3d_surface:IWineD3DSurfaceImpl_LoadLocation Reading back render target but SFLAG_INDRAWABLE not set
err:d3d_surface:IWineD3DSurfaceImpl_LoadLocation Surface does not have any up to date location

performed a regression test:

35e0bb8225bb9c9b654f19b21560756f4e455da1 is first bad commit
commit 35e0bb8225bb9c9b654f19b21560756f4e455da1
Author: Roderick Colenbrander 
Date:   Tue Feb 5 13:25:18 2008 +0100

    wined3d: Redownload the surface data in case of a palette change. This fixes a lot of redrawing problems in Red Alert.

:040000 040000 6068d4aff05f640e8e468d0142f04580de32beaf a83a60a4bf50f47ebbb9ebe33bf756e548ad96bb M      dlls",27,"0"
"WINE-15007","The Lost Crown's menu is no longer accessible in-game","The Lost Crown an adventure game used to work near perfectly in wine. Now clicking the icon to display the menu causes it to crash. This prevents the user from saving the game or quitting the program in the usual way. I don't know what to about a backtrace because if I try to run the game via the terminal it won't work at all. So you'll have to tell me where I can find a log or something.",197,"0"
"WINE-1509","pb to launch program isntallation","this is the error when i try to install Baldur's gate chine and Solfégis  :
======================
[david@localhost ON]$ wine /mnt/cdrom2/setup.exe --debugmsg +err:warn
Invoking /opt/wine/bin/wine.bin /mnt/cdrom2/setup.exe --debugmsg +err:warn ...
XIO:  fatal IO error 0 (Success) on X server :0.0
                                                    
      after 166 requests (166 known processed) with 0 events remaining.
                                                                        
Wine failed with return code 1
===================================================",214,"0"
"WINE-12810","Blade Runner crashes after opening sequence","Created attachment 12491
Transcript of game run complete with backtrace

After the very long opening sequence at the point where control is handed to the player Blade Runner crashes.  Unfortunately I can't report a great deal more: I'm sorry to add to the thousands of largely worthless bug reports here.

This is on Hardy Heron with wine 0.9.59 + an ATI workaround patch and with an ATI Radeon X1650 graphics card (this data really ought to be a bug field!).",257,"1"
"WINE-14215","Terragen crashes immediately on startup","Created attachment 14502
backtrace

Terragen crashes immediately on startup installation works fine though.",163,"0"
"WINE-26942","CSPRO 4 editing : context menu on grid header not working properly","How to test:

1. download cspro here http://www.census.gov/ipc/www/cspro/download/cspro40.exe

2. Run Cspro 4.0 program

3. Open file/application goto examples/capi

4. Go to form shown on the screenshoot (attached)

5. Right click on the grid header to show the context menu the menu will show after you pressing ALT.


Maybe related to comctl32.",1798,"1"
"WINE-7190","menus disappear from menubar in MDI app","When I upgraded from 0.9.22 to 0.9.29 I noticed that entire menus disappeared
starting at the left from the menu bar.  

I am using a home-grown MDI app.  The only related event that I can think of is
MoveWindow() which is use to resize a new MDI child depending on which window
I open.

In some cases the app starts up and the File menu is missing from the get-go
without opening any MDI child windows.

In the Wine debug mode I can see RemoveMenu when a menu is eliminated.  My
program does not call RemoveMenu at any time although it does switch back and
forth between two menus -- one menu is for when there are no MDI child windows
open the other is displayed with children open.

When I re-installed 0.9.22 the problem went away.",144,"0"
"WINE-92","X server crashes when running wine","Wine crashes my X session whenever I start it. Even wine
/windows/windows/notepad.exe doesn't work. I get a signal 11 ... aborting
message after X crashes. No other descriptive messages.",764,"1"
"WINE-42891","Unigine Superposition needs unimplemented function KERNEL32.dll.AddDllDirectory","Created attachment 58018
Unigine Superposition backtrace-2.4

~/.wine/drive_c/Program Files/Unigine/Superposition Benchmark$ wine Superposition.exe

wine-2.4
Unhandled exception: unimplemented function KERNEL32.dll.AddDllDirectory called in 64-bit code (0x000000007bc5ef7c).

wine-2.6 & wine-2.6 (Staging)
Unhandled exception: page fault on read access to 0x00000000 in 64-bit code (0x0000000000000000).

I'm not sure what happened with the later versions. I tried multiple clean prefixes. Possibly needs to be bisected?

MSDN: https://msdn.microsoft.com/en-us/library/windows/desktop/hh310513(v=vs.85).aspx

sha1sum Unigine_Superposition-1.0.exe
b05b577b5d7524d64a7a943383eef7f479a638e5  Unigine_Superposition-1.0.exe

du -sh Unigine_Superposition-1.0.exe
1.3G	Unigine_Superposition-1.0.exe",125,"0"
"WINE-26844","Neon Wars: jerky animations and mouse movement","Created attachment 34217
plain terminal output

Neon Wars is a simple arcade game similar to Asteroids.
Mouse movement and animations are extremely slow jerky in the game. Can be observed in the menus and during gameplay too.
The game offers DirectX and OpenGL rendering modes the problem is present in both modes.
Fullscreen as well as virtual desktop mode produce the same behaviour.

The game was running fine in Wine-1.3.14:

a7da164949ecade05842f89e9255c94ba8b3572a is the first bad commit
commit a7da164949ecade05842f89e9255c94ba8b3572a
Author: Alexandre Julliard 
Date:   Mon Feb 28 21:55:01 2011 +0100

    user32: Retrieve the key state for GetAsyncKeyState from the server.

:040000 040000 323c38cbe68d8c41bfdf8878d4a53bcfb0a76950 ac674bec70c91b1ffcf9caf670168357c5b8110d M	dlls

The problem is still present in wine-1.3.18-85-g99f6894.

Link to the shareware version added to URL (only 3 MB).

Fedora 14
Nvidia GeForce 250 / driver 270.30",240,"1"
"WINE-6992","Vector NTI installer fails with this module is not designed for direct execution","Summary says it all. Running msiexec /i V10CC.MSI gives the same error message.
If you could fix this that would be great as this is an important program for me
(or let me know what else I need to do). Oh yeah here's the console output of
writing msiexec:

fixme:advapi:LookupAccountNameW (null) Lmisha (nil) 0x33f808 (nil) 0x33f804
0x33f810 - stub
fixme:advapi:LookupAccountNameW (null) Lmisha 0x1964c0 0x33f808 0x1964d8
0x33f804 0x33f810 - stub
err:msidb:WHERE_VerifyCondition Couldn't find column LThis
err:msi:ITERATE_Actions Execution halted action LStopMessage returned 1627
fixme:msi:msi_dialog_set_control_condition Unhandled action LDefault
fixme:msi:msi_dialog_set_control_condition Unhandled action LDefault

Misha",44,"0"
"WINE-36659","valgrind shows a definite leak in ddraw/tests/d3d.c:CapsTest()","==9737== 160 bytes in 1 blocks are definitely lost in loss record 1563 of 2082
==9737==    at 0x7BC4C6EB: notify_alloc (heap.c:255)
==9737==    by 0x7BC50F2F: RtlAllocateHeap (heap.c:1716)
==9737==    by 0x4DF6181: DDRAW_Create (main.c:267)
==9737==    by 0x4DF6403: DirectDrawCreate (main.c:309)
==9737==    by 0x4CA7528: CapsTest (d3d.c:810)
==9737==    by 0x4CB7D2D: func_d3d (d3d.c:3953)
==9737==    by 0x4D720F8: run_test (test.h:584)
==9737==    by 0x4D724E7: main (test.h:654)
==9737==",353,"1"
"WINE-27834","Photosynth installer crashes in msi","I was trying to test bug 15594 but it doesn't install (new version?)

fixme:msi:ControlEvent_SpawnWaitDialog Doing Nothing
wine: Unhandled page fault on read access to 0x00000000 at address 0x68356e0b (thread 0021) starting debugger...

http://photosynth.net

http://mslabs-999.vo.llnwd.net/e1/installer/PhotosynthInstall_21103171042.exe",37,"0"
"WINE-8899","Call of Duty || renders player weapon when it does not need to","Call of Duty II renders weapon when it is not needed (loading screen also at
the begining of the level when it should not be visible. Sometimes it is fully
visible weapon sometimes there is only a mask.",235,"1"
"WINE-31071","DotA 2: overbright/broken lighting effects","(This is a lengthy one because there are already lots of observations and attempt-fixes to describe.)

DotA 2 is suffering from weird overbright lighting effects issues best seen on these screenshots:
appdb.winehq.org/appimage.php?iId=39263
appdb.winehq.org/appimage.php?iId=39265

All heroes items and buildings having some lighting effects are affected. Static map decoration (flares ...) is not (or at least to a very minor extent).

Steps to reproduce:
- start the game client and create a lobby in all-pick mode
- start the match and pick Lina
- have a look at what's supposed to be the hero's flaming hands or at the visuals of her second spell

See the attachend image for a direct comparison (what it SHOULD vs. what it DOES look like).

My personal observations regarding the problem:
- does not seem to occur with other source engine games (HL2 Portal2 L4D2)
- persists throughout:
-- ubuntu 11.04 11.10 12.04
-- the propriatary nvidia graphics driver series 295.xx to 302.17 (and most likely also before)
-- wine 1.3.x 1.4.x and 1.5.x up to 1.5.7
-- 32bit and 64bit systems
-- kernel versions 2.6.x to 3.2.0-26-generic
-- various window managers (2D as well as 3D-enabled ones)
- the only wine registry setting having an effect on the problem seems to be OffscreenRenderingMode = backbuffer
-- setting it the overbright effect is gone but pretty much anything else gets messed up (ambient lighting is too low and somewhat greenish continuity of visual effects is broken etc)
- no imgame setting / console variable seems to have an effect
- none of the options in the 'nvidia-settings' tool has an effect
- creating a fresh 32bit wine prefix with 'WINEARCH=32bit' (instead of defaulting to 64bit) has no effect
- confirmed to happen on Geforce GTX 8800 GTX 260 GT 330M

Note:
Unlike other source games DotA 2 must be run with the '-nod3d9ex' parameter. Otherwise it won't render at all. However doing so does not cause the described visual issues on Windows.

I am currently using:
- wine-1.5.7 GeForce GTX 260 nvidia driver 302.17 Xubuntu 12.04 x64 (xfwm4.10.0) kernel 3.2.0-26-generic

I am suffering from this bug
http://bugs.winehq.org/show_bug.cgi?id=30270
which MIGHT be related to the problem (though I have no evidence to prove this assumption right or wrong).

The three provided logs were created with
WINEPREFIX=~/.wine/dota2 wine Steam.exe &> dota2.txt
and split around:
- steam being fully loaded
- dota 2 being fully loaded
- creating a lobby starting the match picking a hero and entering the game map
(gonna add the logs to messages below this one because I cannot create several attachments...)

Though it only seems like a cosmetic problem this bug results in a SEVERE impact on gameplay since the player loses track of what's happening when only seeing huge overbright explosions.

Also note the discussion taking place on the game's AppDB site (http://appdb.winehq.org/objectManager.php?sClass=version&iId=24458) under the message Weird lighting effects bugs/issues for some more details.",48,"0"
"WINE-42568","user32/tests/msg.ok intermittent failure in SendMessage from other thread","The following lines are sometimes printed when running the tests for msg.c:

msg.c:15837: Test failed: SendMessage from other thread 4: 0: the msg 0x0401 was expected but got msg 0x0403 instead
msg.c:15837: Test failed: SendMessage from other thread 4: 1: the msg sequence is not complete: expected 0000 - actual 0401
msg.c:15845: Test succeeded inside todo block: wrong status 00000000
msg.c:15849: Test succeeded inside todo block: SendMessage from other thread 5: marked todo_wine but succeeds

This affects both of the test machines.",250,"1"
"WINE-6246","dbghelp:First class client just hangs.","Hi after installation trying to run the progra just hangs. No console output
at all. 
Relevant part of the trace (i guess):

0009:Call dbghelp.SymSetOptions(00000202) ret=0073e7d5
0009:Ret  dbghelp.SymSetOptions() retval=00000202 ret=0073e7d5
0009:Call dbghelp.SymInitialize(ffffffff0000000000000000) ret=0073e780

The dumb hack below makes the application start fine. Maybe someone who knows
dbghelp could fix this. 

diff --git a/dlls/dbghelp/dbghelp.c b/dlls/dbghelp/dbghelp.c
index 6c5cd60..8ef6ed0 100644
--- a/dlls/dbghelp/dbghelp.c
+++ b/dlls/dbghelp/dbghelp.c
@@ -26414 +26414 @@ static BOOL check_live_target(struct pro
  * mechanism (ie only load the debug information when we actually need it).
  */
 BOOL WINAPI SymInitializeW(HANDLE hProcess PCWSTR UserSearchPath BOOL
fInvadeProcess)
-{
+{return FALSE
     struct process*     pcs

     TRACE((%p %s %u)\n hProcess debugstr_w(UserSearchPath) fInvadeProcess)",67,"0"
"WINE-26635","SketchUp 8 cannot use the components tool","The componants tool never becomes usable. This tool is central for much of the basic functioning of SkecthUp as a 3d tool - so I've marked this as 'major'.

I have no experience with debugging wine and SketchUp doesn't actually crash.",1187,"1"
"WINE-22456","Wrong caching with INI functions","Created attachment 27506
Simple test program

I've written a program to manage some ini file and I've seen a wrong behaviour in wine.
The origin of the problem I think is the cache system. I've isolated the problem with a very simple program. The operations involved on button press are:

1) Write the file test.ini with key value = WRONG (with WritePrivateProfileStringA)
1a) Message on screen (ok to continue)
2) Delete ini file
3) Read the file test.ini (it doesn't exists now) with the default value = RIGHT (with GetPrivateProfileStringA)

In Windows the result is RIGHT but in wine is WRONG because it reads the cached value! Only to obtain the compatibility with my software I've changed my wine source in this way:

dlls/kernel32/profile.c

BOOL WINAPI WritePrivateProfileStringW( LPCWSTR section LPCWSTR entry
					LPCWSTR string LPCWSTR filename )
{

    ...

    ret = PROFILE_SetString( section entry string FALSE)
    // PROFILE_FlushFile()                 // COMMENTED
    if (CurProfile) PROFILE_ReleaseFile()  // INSERTED

    ...

}

NOTE:
I didn't test if other WritePrivateProfile* are affected by this problem or if the problem instead is in the GetPrivateProfile*",706,"1"
"WINE-7978","S.t.a.l.k.e.r. - menu has no text","The main menu has no text on the buttons:
http://appdb.winehq.org/appimage.php?iId=8520

All the other dialogs work fine - Load/Save/Config/Servers",114,"0"
"WINE-40348","Nvidia 800 series cards not detected correctly","I've noticed that my gtx 860m is not detected correctly by wine and it seems like all the 800 series GPU aren't either.

Here are the outputs you should need as information about my GPU (if I remember well I've got the maxwell 860m and unfortunately I don't have any information on the kepler 860m and any of the other 800 series GPU).

optirun nvidia-settings -c :8 -t -q PCIID
> 43185010

optirun nvidia-settings -c :8 -t -q VideoRam 
> 2097152

lspci -nn | grep 3D 
> 01:00.0 3D controller [0302]: NVIDIA Corporation GM107M [GeForce GTX 860M] [10de:1392] (rev ff)",30,"0"
"WINE-24233","MS Paint uses garbage instead of untitled as the default file name","Steps to reproduce:

1. Install with 'winetricks mspaint'
2. Run 'wine mspaint'
3. Click file -> save as...

In git the preselected file name will be random garbage instead of the expected untitled. In 1.3.1 it was displayed correctly. My regression test indicated:

899d9a042b18a511aecd92dba72084e6d63cc28d is the first bad commit
commit 899d9a042b18a511aecd92dba72084e6d63cc28d
Author: Piotr Caban 
Date:   Sun Aug 29 16:59:35 2010 +0200

    msvcrt: Added _splitpath_s implementation.

:040000 040000 3b46967aa0ed29364c74558026e65b0c9e71b4bb 9f7fe5bf7a4df8d512004b5c3e9269fc6941e37f M    dlls

Reverting that patch makes the problem go away. The program doesn't generate any terminal output.",1,"0"
"WINE-36336","NaturallySpeaking doesn't work with alsa or pasuspender","Created attachment 48412
natspeak runtime log with pasuspender

Dragon NaturallySpeaking works very well on linux systems that rely on pulseaudio. 

However if it is installed on a system that does not come preloaded with pulseaudio (such as Lubuntu) the audio does not work. 

I tried installing in a clean Lubuntu system and then tried installing pulseaudio. No good. 

I tried installing with pulseaudio running. Yay. Success. Then I tried to run the program with pasuspender with the following results. 

fixme:winmm:MXD_SetControlDetails What should the sw-side mixer controls map to?
fixme:mmdevapi:MMDevice_Activate IID_IDeviceTopology unsupported
fixme:winmm:MXD_SetControlDetails What should the sw-side mixer controls map to?",439,"1"
"WINE-31437","Multiple applications and games need wmvcore.dll.WMCreateProfileManager (Tinker Luxology Modo aTube Catcher iMesh 7.x)","Created attachment 41321
terminal output

Tinker is a puzzle game from Microsoft designed to work with Games for Windows Live so the first requirement could be fulfilled by 'winetricks xlive'.
Afterwards the game crashes with
>wine: Call from 0x7b8398e2 to unimplemented function wmvcore.dll.WMCreateProfileManager aborting

'winetricks wmp10' is a workaround. Some other native components are also needed to start the demo normally (d3dx9_36 xmllite xact_jun2010) but they are separate problems.",578,"1"
"WINE-1763","Setup for Autocad and Notes doesn't work","I updated my system to Mandrake Linux 9.1 (it whas RedHat 7.1) and when I try to
install Autocad and Lotus Notes under wine the same error occurred:

[raul@localhost Notes_5.08]$ wine Setup.exe
X Error of failed request:  BadMatch (invalid parameter attributes)
  Major opcode of failed request:  12 (X_ConfigureWindow)
  Serial number of failed request:  93
  Current serial number in output stream:  98
err:ntdll:RtlpWaitForCriticalSection section 0x40d858c0 x11drv_main.c:
X11DRV_CritSection wait timed out in thread 000c blocked by 000b retrying (60
sec)
wine: Unhandled exception (thread 000c) starting debugger...
Can't attach process a: error 5
[raul@localhost Notes_5.08]$
 

That's happen right after setup decompress the temp files. With my previous
Linux installation the setup for this programs run fine. (I don't know my
previous version of WINE)",225,"1"
