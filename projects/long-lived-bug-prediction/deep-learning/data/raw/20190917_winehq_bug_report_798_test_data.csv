"bug_id","short_description","long_description","bug_fix_time","class"
"WINE-5673","Monkey Island 4 (MI4) demo does not install","The MI4 demo uses InstallShield. Everything seams to workthe files appear to be
copied in 2 seconds flat (the progress bar just runs across the screen).
However just a few files are actually copied the rest can be found in
C:\Windows\Temp. Of course the resulting installation is unusable.",263,"0"
"WINE-41753","Steep (Ubisoft) needs iphlpapi.dll.GetUnicastIpAddressEntry","Created attachment 56194
console output

Testing Steep.exe open beta with steam got a windows message box.",85,"0"
"WINE-23362","The Starcraft 2 Editor crashes when you open the terrain view after opening and closing the previewer.","Created attachment 29118
Crash backtrace.

Steps to reproduce:
1.) Set the registry key
HKEY_CURRENT_USER\Software\Blizzard
Entertainment\StarCraft II Editor Beta\Preferences\StartupModules to 0
I do this because the terrain editor would open else instantly and usually when the terrain editor opens it freeze for me(see bug 22588).
2.) Start the editor and select the Overview Manager (right most icon)
3.) Start the previewer using the menu Window/Previewer
4.) Close the previewer window
5.) Attach a debugger if you want a backtrace
6.) Start the Terrain Module using the menu Modules/Terrain

It crashes as surface->container is nil when surface_is_offscreen gets called.",1137,"1"
"WINE-23577","Kaspersky Internet Security 2010 installation problem: needs Win XP SP 2 (builtin 'fltlib.dll' needs version resource)","kis9.0.0.736 gives the following line on the console:

err:msi:ITERATE_Actions Execution halted action LErrorXPSP2RequiredShow returned 1603",1330,"1"
"WINE-17185","Quicktime 7.1.6 buffer overrun on exit","Created attachment 19074
Quicktime 7.1.6 Buffer overrun error-message.

When closing Quicktime player it crashes with an error message (attached) saying Buffer overrun detected!
Other open instances of Quicktime crashes along with the first one.

Happens every time I close a Quicktime player.


Using Quicktime 7.1.6 since that seems to be the most stable version with Wine.
Ubuntu Studio 8.10 64-bit.",787,"0"
"WINE-19748","Multiple games complain about checking occlusion query results from the wrong thread (Metro 2033 Unreal Tournament 3 Counter Strike: Source Metro 2033 Call of Duty 4 Left 4 Dead Left 4 Dead 2 Final Fantasy XIV Half-Life 2)","Playing UT3 throws a lot of Fixme's with Wrong thread Stubs like:

fixme:d3d:IWineD3DEventQueryImpl_GetData Wrong thread reporting GPU idle.

and very often:
fixme:d3d:IWineD3DOcclusionQueryImpl_GetData 0x19dbfe28 Wrong thread returning 1.",3467,"1"
"WINE-34286","dinput doesn't report DIDOI_ASPECT* for joystick axes","Created attachment 45644
Patch

Wine's dinput.dll returns 0 in the dwFlags field when enumerating joystick objects but some programs (at least Final Fantasy XIV) expect to see one of the DIDOI_ASPECT* values for an axis object and ignore the axis if none are present.

Simple patch attached -- it just reports DIDOI_ASPECTPOSITION for all axes (which may or may not be correct but at least lets FFXIV recognize joystick axis input).",1096,"1"
"WINE-23952","Fullscreen DirectX applications with enabled DRI won't start","Created attachment 30069
Xorg log file

When I launch any full-screen DirectX windows application I get following error:
> wine fallout2.exe 
X Error of failed request:  BadMatch (invalid parameter attributes)
  Major opcode of failed request:  1 (X_CreateWindow)
  Serial number of failed request:  397
  Current serial number in output stream:  399

However when I disable DRI most of my Windows games works.  I have ATI Radeon 1600 Pro video adapter. X logs and config are attached.",382,"0"
"WINE-32433","installer of PPTV needs Unimplemented atl100.dll.AtlWinModuleExtractCreateWndData","Created attachment 42792
backtrace

This is a follow up of Bug 32425 .

reproduce it follow this:
0. download it
1. 'winetricks -q mfc42' to get a workaround 
2. 'wine pptvsetup_3.2.1.0076.exe'

my test environment:
- Ubuntu 12.10 32 bit
- wine-1.5.19-104-g1d1cb52
- PPTV 3.2.1.0076

sha1sum pptvsetup_3.2.1.0076.exe 
f517331a4410a4135390ba72cc8aea6b0ed93974  pptvsetup_3.2.1.0076.exe

---- snip ----
wine: Unimplemented function atl100.dll.AtlWinModuleExtractCreateWndData called at address 0x7b83a2a2 (thread 0009) starting debugger..
---- snip ----",7,"0"
"WINE-41070","Call of Duty 4 does not start: heap issues","After upgrade of FreeBSD port emulators/i386-wine-devel to v1.9.15 Call of Duty 4 does not start but shows following messages on the console:
fixme:win:EnumDisplayDevicesW ((null)00x32f8700x00000000) stub!
err:heap:GlobalFree (0x196de8): Page fault occurred ! Caused by bug ?
err:ntdll:RtlpWaitForCriticalSection section 0x110060 heap.c: main process heap section wait timed out in thread 002f blocked by 0009 retrying (60 sec)

The last line is continously repeated until the process is getting killed.",511,"0"
"WINE-1475","unimplemented function netapi32.dll.NetStatisticsGet","$ wine wget http://some-url/*
wine: Unhandled exception starting debugger...
WineDbg starting on pid 24
No debug information in ELF 'wine' ((nil))
Breakpoint 1 at 0x4000b660
No debug information in ELF '/usr/lib/wine/lib/libntdll.dll.so' (0x40014000)
No debug information in ELF '/usr/lib/wine/lib/libwine.so.1' (0x400ef000)
No debug information in ELF '/usr/lib/wine/lib/libwine_unicode.so.1' (0x40107000)
No debug information in ELF '/lib/libc.so.6' (0x401ff000)
No debug information in ELF '/lib/libm.so.6' (0x4032f000)
No debug information in ELF '/lib/libdl.so.2' (0x40352000)
No debug information in ELF '/lib/ld-linux.so.2' (0x40000000)
No debug information in ELF '/usr/lib/wine/lib/wine/kernel32.dll.so' (0x40693000)
No debug information in ELF '/usr/lib/wine/lib/wine/wsock32.dll.so' (0x40746000)
No debug information in ELF '/usr/lib/wine/lib/wine/ws2_32.dll.so' (0x4075e000)
No debug information in ELF '/usr/lib/wine/lib/wine/user32.dll.so' (0x40780000)
No debug information in ELF '/usr/lib/wine/lib/wine/gdi32.dll.so' (0x408ae000)
No debug information in ELF '/usr/lib/wine/lib/wine/advapi32.dll.so' (0x40928000)
No debug information in ELF '/usr/lib/wine/lib/wine/msvcrt.dll.so' (0x40956000)
No debug information in ELF '/usr/lib/libfreetype.so.6' (0x409bd000)
No debug information in ELF '/usr/lib/libz.so.1' (0x40a14000)
No debug information in ELF '/usr/lib/wine/lib/wine/x11drv.dll.so' (0x40a23000)
No debug information in ELF '/usr/X11R6/lib/libSM.so.6' (0x40356000)
No debug information in ELF '/usr/X11R6/lib/libICE.so.6' (0x40a82000)
No debug information in ELF '/usr/X11R6/lib/libXxf86dga.so.1' (0x40a99000)
No debug information in ELF '/usr/X11R6/lib/libXxf86vm.so.1' (0x40a9f000)
No debug information in ELF '/usr/X11R6/lib/libXv.so.1' (0x40aa4000)
No debug information in ELF '/usr/X11R6/lib/libXext.so.6' (0x40aa9000)
No debug information in ELF '/usr/X11R6/lib/libX11.so.6' (0x40ab7000)
No debug information in ELF '/usr/lib/libGL.so.1' (0x40b96000)
No debug information in ELF '/lib/libpthread.so.0' (0x40d9a000)
No debug information in ELF '/usr/X11R6/lib/libXcursor.so.1' (0x40dea000)
No debug information in ELF '/usr/X11R6/lib/libXrender.so.1' (0x40df3000)
No debug information in ELF '/usr/X11R6/lib/X11/locale/lib/common/xlcDef.so.2' (0x401e8000)
No debug information in ELF '/usr/X11R6/lib/X11/locale/lib/common/ximcp.so.2' (0x40e30000)
No debug information in ELF '/usr/lib/wine/lib/wine/netapi32.dll.so' (0x41370000)
No debug information in 32bit DLL 'C:\Windows\wget.exe' (0x400000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\NTDLL.DLL' (0x40040000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\KERNEL32.DLL' (0x406c0000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\ADVAPI32.DLL' (0x40940000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\GDI32.DLL' (0x408c0000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\USER32.DLL' (0x407a0000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\WS2_32.DLL' (0x40770000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\WSOCK32.DLL' (0x40750000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\MSVCRT.DLL' (0x40970000)
No debug information in 32bit DLL 'C:\WINDOWS\LIBEAY32.DLL' (0x10000000)
No debug information in 32bit DLL 'C:\WINDOWS\SSLEAY32.DLL' (0x40996000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\X11DRV.DLL' (0x40a30000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\NETAPI32.DLL' (0x41380000)
Unhandled exception: unimplemented function netapi32.dll.NetStatisticsGet called in 32-bit code (0x41387058).
In 32-bit mode.
0x41387058 (NETAPI32.DLL..data+0x5058 in netapi32.dll.so): subl $4%esp
Wine-dbg>where
Backtrace:
=>0 0x41387058 (NETAPI32.DLL..data+0x5058 in netapi32.dll.so) (ebp=406827d0)
  1 0x413890c2 (NETAPI32.DLL.NetStatisticsGet+0x22 in netapi32.dll.so) (ebp=406827e0)
  2 0x10042c73 (LIBEAY32.DLL.RAND_poll+0xa3 in C:\WINDOWS\LIBEAY32.DLL) (ebp=413890a0)
  3 0x5d8908ec (NETAPI32.DLL.NetpInitOemString+0x1c500dea) (ebp=83e58955)
*** Invalid address 0x83e58955 (NETAPI32.DLL.NetpInitOemString+0x42ac8e53)

Wine-dbg>

I used wget for windows from http://space.tin.it/computer/hherold/
Get ftp://ftp.sunsite.dk/projects/wget/windows/ssllibs097b.zip and ftp://ftp.sunsite.dk/projects/wget/windows/wget20030519-unoff-b.zip to repeat the test.",754,"0"
"WINE-38310","Trackbar control (msctls_trackbar32) does not send WM_CTLCOLORSTATIC as it does in Windows","Trackbar control just fills background with COLOR_BTNFACE",484,"0"
"WINE-32396","iexplore http://imgur.com doesn't open","wine iexplore http://imgur.com

Doesn't open & iexplore hangs. Workaroung native jscript",393,"0"
"WINE-7645","Wine tests fail under FreeBSD and other problems","I've been working on trying to resolve another issue with WINE & FreeBSD (Bug 
3551) and in doing so have run into several other possibly related problems. 

Using the latest 0.9.32 I ran make test in the main wine tree and it ran 
fine for a minute or so until it reached this point:

../../../tools/runtest -q -P wine -M crypt32.dll -T ../../.. -p 
crypt32_test.exe                                           .so cert.c && touch 
cert.ok
fixme:crypt:CryptVerifyCertificateSignatureEx unimplemented for NULL signer
fixme:crypt:CryptEncodeObjectEx 0: unimplemented

Here it hung for almost an hour with CPU usage at 100% before it finally 
crashed. Here's what I found in the kernel messages:

Mar  5 11:39:13 pcbsd-8206 kernel: See the i386_set_ldt man page for more info
Mar  5 11:39:13 pcbsd-8206 kernel: Warning: pid 91144 used static ldt 
allocation
Mar  5 11:39:13 pcbsd-8206 kernel: See the i386_set_ldt man page for more info
Mar  5 11:40:15 pcbsd-8206 kernel: pid 95718 (wine-pthread) uid 0: exited on 
signal 11

There were a TON of the set_ldt errors reported before the final crash of 
wine-pthread. When I run other programs in wine these set_ldt errors also 
appear. 

I ran across this thread online also not sure if it'll help in tracking down 
this error:

http://www.mail-archive.com/freebsd-hackers%40freebsd.org/msg56943.html",578,"0"
"WINE-16928","Grand Theft Auto San Andreas: freezes when looking into the sun","Created attachment 18693
Output when starting gta_sa.exe

GTA San Andreas bucks then freezes when looking straight into the Sun.
Which is kind of weird because the Game runs really good... 

I've tested it with older versions of Wine but it still failed.

The Output is actually just: fixme:d3d:state_fog Implement table fog for foggy vertex shader

Running on Ubuntu Linux 8.10 nVidia Geforce 9800GT Driver Version: 177",241,"0"
"WINE-19137","Missing or malfunctions textures LineageII C5","After upgrade to Wine 1.1.24 is LineageII C5 unplayable. Some textures are missing or broken or have invertion colors. In Wine 1.1.23 (with disabled HW T&L) is all OK.",685,"0"
"WINE-17050","eMule: Ends up eating all the memory (swap included)","Emule version: 0.49b
OS: Debian Lenny
Pc: Pentium III 800 Mhz 512 MB RAM 2 GB swap

When i launch it the memory usage is around 80 MB few hours later it is about 300 MB and after 2 day 1.8 GB when my upload is at 10 KB/s. Emule then ends up eating all the memory (2GB swap included). 
I've reported the bug on Emule website and the developers told me that is a Wine problem (maybe winsock problem). 

Report the discussion url: 
http://forum.emule-project.net/index.php?showtopic=141678",29,"0"
"WINE-145","MYOB 6.0 accounting hangs X after operating for a few minutes","MYOB opens multiple child windows as you work with your accounting records. 
After a couple of transactions and generally after a couple of windows have 
been opened and/or closed X freezes totally and must be shut down with Ctl-Alt-
Bksp to regain control. It creates multiple threads as reported by ps ax.
MYOB 6.0 is written for Win3.x
It also seems to have difficulty rendering the buttons on the main 'control 
centre' when MYOB is initially opened though switching to another module and 
back fixes this.
(My version of Linux is RH6.2 as distributed on Australian Personal Computer's 
July 2000 edition cover CD. I don't know exactly which versions of XFree and 
GLibc that would be.)",427,"0"
"WINE-30607","The Stalin Subway 2 (Red Veil) crashes on game start","Created attachment 40059
terminal output

Bug #30605 describes a problem where the game crashes shortly after a new game was started. What triggers that crash is unknown to me.
The current bug report is about a more recent problem that appeared a few days ago.
Now the game crashes immediately when a new game starts (or a saved game was loaded).
The configuration tool for the game allows to change various graphical options including shader version (1.1...3.0) bump mapping HDR shadows etc. Lowering the detail level to the minimum disabling all effects doesn't help.

The crash is due to
29893d81621b50e3acca1f2c34767867a9256ecb is the first bad commit
commit 29893d81621b50e3acca1f2c34767867a9256ecb
Author: Henri Verbeet 
Date:   Wed May 2 21:47:58 2012 +0200

    wined3d: Determine index buffer location based on vertex buffer locations.

:040000 040000 fc5dd836116dec3047a41fe7b28c22d4ef4261c8 72a5445b837c0fa479e611f985543f319d528c0a M	dlls

Reverting the patch on wine-1.5.3-164-gdec3d50 fixes the problem.

There is no demo for the game. Please let me know if you need a debug log.

Fedora 16
Nvidia 250 / driver 295.49
X.Org X Server 1.11.4",16,"0"
"WINE-13015","images broken in many chm files","ProntoEdit's help seems to work but all the images show up
as broken icons.

To work around bug 13013 do
  sh winetricks vcrun6 cc580
before starting.

Then to reproduce the problem press F1 and open the help
page Help Pages.  You will see some text and a row of broken icons.",458,"0"
"WINE-11126","EM_POSFROMCHAR does not include selectionbar","When the ECO_SELECTIONBAR style is set for a richedit control EM_POSFROMCHAR should include the selection bar size.   However sending EM_POSFROMCHAR for character 0 returns 0 as the x co-ordinate with Wine's richedit.

I'll see if I can't fix this myself.

As for a testcase this will be noticeable in builtin wordpad once I send the first ruler patch.  The left position of the ruler is determined using POSFROMCHAR so with native richedit it will be moved a distance from the leftmost window edge while with builtin it won't.",5,"0"
"WINE-13183","Control '' has no parent window in ExpressQuantumGrid","There is a problem with ExpressQuantumGrid widget called ExtLookupComboBox Editor. When you try to click on combo box element it pop ups a warning:

Control '' has no parent window

But when you select an item from combo box using keyboard it works fine.

Steps to reproduce:
1. Download exe from link above
2. Install mdac and jet4
3. Run application
4. Select Inplace editors (Updated)
5. Open combo box ExtLookupComboBox Editor
6.
a) Click on any element in combo box (you'll get a warning)
b) Set focus on any element and press enter (you won't get a warning)",2964,"1"
"WINE-25910","Notepad tries to open a file using wrong sharing mode","Notepad can't open file that was opened in another program for writing while Windows notepad can do it. Difference is in call to CreateFileW.

Wine notepad:
trace:file:CreateFileW LD:\\Pr\\Trillian\\users\\default\\logs\\ICQ\\xxxxxx.log GENERIC_READ FILE_SHARE_READ  creation 3 attributes 0x80

Windows notepad:
trace:file:CreateFileW LD:\\Pr\\Trillian\\users\\default\\logs\\ICQ\\xxxxxx.log GENERIC_READ FILE_SHARE_READ FILE_SHARE_WRITE  creation 3 attributes 0x80

In particular I can't open contact history in Trillian (IM client) while Message window of the contact is open (and the log file is opened for writing).",1,"0"
"WINE-31916","Steam in xfce: xfwm4 windows refuse to relinquish focus","In xfce (or in kde with xfwm4 instead of kwin) Steam has recently started having an issue where it refuses to relinquish focus. If you were to click inside a chat window and then try to click back into for example a terminal window to switch focus it would work for a split second and then the chat window would pop right back up over it. Ie it is impossible to switch into another window via click because the active window won't go away.

It is easy to trigger the problem but I've had a hard time figuring out specifically what steps one must follow in order to do so. However if I have the main steam window and friends list open and a chat window hovering over a terminal and tinker with moving and minimizing / changing the focus of the main and chat windows for a minute or two (and try to click into the terminal) I can reliably cause it to occur.

This occurs from wine 1.5.12 to 1.5.14 and in both Linux Mint 13 x64 and Arch Linux x64 in a used or fresh wineprefix. Occurs on my machine and a friend's machine as well.

A regression test found the following to be the trouble for me:
 
$ git bisect good
d35fc4369fd9eb7e5fca78cc0d61e241de286ee0 is the first bad commit
commit d35fc4369fd9eb7e5fca78cc0d61e241de286ee0
Author: Alexandre Julliard 
Date:   Wed Aug 29 18:08:37 2012 +0200

    user32: Always go through set_window_pos when the WS_VISIBLE style is changed.

:040000 040000 2181c83f9671eb18ffb3538e627cce5d2b0bf7e0 cdf5240aa47f26a98421467c50979a84b60c68e7 M      dlls",2,"0"
"WINE-32041","Adobe Audition CS6 - Crash during UI paint at startup (again)","Created attachment 42233
+WGL trace and crash log

Adobes Audition Crashes upon painting the UI for the first time after start up again since wine 1.5.15.

I investigated the faulty patch this time being 53806917a3fc32460201a40a9edd6d8d24983c25

Current master still crashes the application.

I've attached a backtrace of the crash and +wgl trace. (using current git master)
Please let me know when a +relay trace is needed as its going to be very large again it cant be attached but needs to be uploaded separately.",0,"0"
"WINE-1185","Conformance Tests fail on windows 98","Bug comments restored from Gmane.org:

Runing the tests on Microsoft Windows 98 (4.10.1998) a lot of tests fail. tests 
downloaded from http://fgouget.free.fr/wine/winetests.zip

I was unable to redirect the output of the tests to a file. For example 
ws2_32_test.exe sock > temp.txt would give me a 0 lenght file is it supposed 
to work that way? Some tests output more than 50 lines so that even with the 
terminal set to 50 lines I would not be able to copy all of them.

Also a lot (most) of the tests had the prefix of where the file resided on when 
it was compiled for each line which made for very long lines. I cleaned up the 
lines wrap but is it really nessesary to print the whole path.


------- Additional Comments From tony_lambregts  telusplanet.net 2002-12-10
00:00 -------
Created an attachment (id=350)
Test Results


------- Additional Comments From tony_lambregts  telusplanet.net 2002-12-10
22:55 -------
Created an attachment (id=351)
Test results with latest zip file (Dec 10 2002)",1021,"1"
"WINE-21868","Can't save anything in Online-Profiles in Anno1404","If you try to create a Online-Profile in Anno 1404 or Anno 1404 Venice it's possible to login but Uploading will fail.
Anno doesn't crash or sth and wine just prints the code-lines I'll attach into the console.
I realy wish this problem to be fixed soon because I want to play Anno Multiplayer with my friends and I can't without an Online-Profile.",318,"0"
"WINE-5127","Half Life and HL:S games freeze a lot until you press Ctrl+Alt+Esc","In Steam based games (HL & Source) when I run apps it freezes occationaly (on
random) and I must press Ctrl+Alt+Esc (sometimes I have to hold it) twice for
the game to stop freezing. I am not sure but I think if you don't press those
keys that it will freeze for all eternity. (I just don't have that much time to
wait ))

I know this is a recent bug because it wasn't around until one of the later
0.9.9+ (?) Wine versions.",24,"0"
"WINE-6453","MPLAB 7.43 crashes at startup","MPLAB 7.43 (available at
http://ww1.microchip.com/downloads/en/DeviceDoc/mp743.zip ) can be installed
(with Internet Explorer) but not run. When I try to run MPLab.exe (in
Microchip\MPLAB IDE\Core ) the logo appears and then nothing more.

I run a 0.9.23 Wine version compiled from source on an Ubuntu 5.10. Wine is
configured (from the very beginning) as Win98.
I installed all the basic components with winetools (in Base Setup & in W$
System Software) and installed manually mfc40.dll mfc42.dll initpki.dll and
cryptdlg.dll.


On the standard error I get this (not too long so I think it doesn't deserve
an attachement):

fixme:ole:CoInitializeSecurity ((nil)-1(nil)(nil)13(nil)0(nil)) - stub!
fixme:ole:CoRegisterMessageFilter message filter has been registered but will
not be used
err:ole:CoGetClassObject class {12421eb7-4f43-a0d4-830a-f8d0eea8e231} not registered
err:ole:create_server class {12421eb7-4f43-a0d4-830a-f8d0eea8e231} not registered
fixme:ole:CoGetClassObject CLSCTX_REMOTE_SERVER not supported
err:ole:CoGetClassObject no class object {12421eb7-4f43-a0d4-830a-f8d0eea8e231}
could be created for context 0x15

So it seems the problem comes from handling of some OLE objects.",774,"0"
"WINE-15916","Winecfg: fails to open drive_c","To reproduce:
$ rm -rf ~/.wine
$ winecfg

Click on 'Drives' tab.
Click 'Autodetect'

Winecfg then fails to find drive_c.

This is a follow up from bug 15842 which only had this error in Windows 98 mode.",5,"0"
"WINE-412","Win32 API CreateDIBSection for 4bpp yields wrong result","
CreateDIBSection for 4bpp yields wrong result

platforms:

   Windows:
      windows 2000 version 5.00.2195 service pack 2
      pentuim(R) III 667Hz 128M Ram
      Visual C++ version 6.0

   Wine:
      Red Hat Linux version 7.2
      Wine 20010822-1
      XFree version 4.1.0-3 screen depth 16
      Glibc version 2.2.4-13
      pentuim(R) III 667Hz 128M Ram

legent for code:
  This color 
indicates original code.
  This color indicates 
removed code.
  This color indicates 
changed code.
  This color indicates 
added code.

folowing code generate the <a href 
= normal.png>right output under Windows and an <a 
href = abnormal.png>abnormal output under Wine:

#define LCD_WIDTH 160
#define LCD_HEIGHT 160

LRESULT CMainWindow::OnPaint(UINT nMsg WPARAM wparam LPARAM lparam BOOL& 
bHandled) 
{
    PAINTSTRUCT ps
    HDC hdc = BeginPaint(
    // draw skin of HELIO(R) PDA a 302*420 256color 
bitmap
    m_skin.Paint(hdc 0 0) 
    // DRAW THE LCD CONTENT OF THE PDA a 160*160 16color bitmap (generated 
dynamically)
    DrawLCD(hdc)
    EndPaint(

    return 0
}

void CMainWindow::DrawLCD(HDC hdc) 
{
    UINT cxScrn = ((m_rcScrn.right-m_rcScrn.left) / LCD_WIDTH) * LCD_WIDTH
    UINT cyScrn = cxScrn

    LPBITMAPINFO lpbi
    const RGBQUAD m_rgbOff = {0xdd 0xff 0xdd 0}
    const RGBQUAD m_rgbOn = {0xdd 0xff 0xdd 0}

    UINT cbbi = sizeof(BITMAPINFOHEADER) + (256 * sizeof(RGBQUAD))
    lpbi = (LPBITMAPINFO) malloc(cbbi)
    ZeroMemory(lpbi cbbi)
    lpbi-bmiHeader.biSize = sizeof(BITMAPINFOHEADER)
    lpbi-bmiHeader.biWidth = LCD_WIDTH
    lpbi-bmiHeader.biHeight = LCD_HEIGHT
    lpbi-bmiHeader.biPlanes = 1
    lpbi-bmiHeader.biBitCount = 4
    lpbi-bmiHeader.biCompression = BI_RGB
    lpbi-bmiHeader.biXPelsPerMeter = 0
    lpbi-bmiHeader.biYPelsPerMeter = 0
    lpbi-bmiHeader.biClrUsed = 0
    lpbi-bmiHeader.biClrImportant = 0
    CreateRampColours(lpbi-bmiColors 16 m_rgbOff m_rgbOn)

    PVOID pvBits
    m_hbmLCD = CreateDIBSection(hdc lpbi DIB_RGB_COLORS 
    free(lpbi)

    HDC hdcLCD = CreateCompatibleDC(hdc)
    HBITMAP hbmOld = (HBITMAP) SelectObject(hdcLCD m_hbmLCD)
    SetBitmapBits(m_hbmLCD LCD_WIDTH*LCD_HEIGHT/2 m_abLCDBits)
    StretchBlt(hdc m_rcScrn.left m_rcScrn.top cxScrn cyScrn
	    hdcLCD 0 0 LCD_WIDTH LCD_HEIGHT SRCCOPY)
    SelectObject(hdcLCD hbmOld)
    DeleteDC(hdcLCD)
}

following code is our change of the above to make it work on <a 
href=#pfa>Windows and Wine:

#define LCD_WIDTH 160
#define LCD_HEIGHT 160

LRESULT CMainWindow::OnPaint(UINT nMsg WPARAM wparam LPARAM lparam BOOL& 
bHandled) 
{
    PAINTSTRUCT ps
    HDC hdc = BeginPaint(
    // draw skin of HELIO(R) PDA a 302*420 256color 
bitmap
    m_skin.Paint(hdc 0 0) 
    // DRAW THE LCD CONTENT OF THE PDA a 160*160 16color bitmap (generated 
dynamically)
    DrawLCD(hdc)
    EndPaint(

    return 0
}

void CMainWindow::DrawLCD(HDC hdc) 
{
    UINT cxScrn = ((m_rcScrn.right-m_rcScrn.left) / LCD_WIDTH) * LCD_WIDTH
    UINT cyScrn = cxScrn

    LPBITMAPINFO lpbi
    const RGBQUAD m_rgbOff = {0xdd 0xff 0xdd 0}
    const RGBQUAD m_rgbOn = {0xdd 0xff 0xdd 0}

    UINT cbbi = sizeof(BITMAPINFOHEADER) + (256 * sizeof(RGBQUAD))
    lpbi = (LPBITMAPINFO) malloc(cbbi)
    ZeroMemory(lpbi cbbi)
    lpbi-bmiHeader.biSize = sizeof(BITMAPINFOHEADER)
    lpbi-bmiHeader.biWidth = LCD_WIDTH
    lpbi-bmiHeader.biHeight = LCD_HEIGHT
    lpbi-bmiHeader.biPlanes = 1
    lpbi-bmiHeader.biBitCount = 4
    lpbi-bmiHeader.biCompression = BI_RGB
    lpbi-bmiHeader.biXPelsPerMeter = 0
    lpbi-bmiHeader.biYPelsPerMeter = 0
    lpbi-bmiHeader.biClrUsed = 0
    lpbi-bmiHeader.biClrImportant = 0
    CreateRampColours(lpbi-bmiColors 16 m_rgbOff m_rgbOn)

    //PVOID pvBits
    //m_hbmLCD = CreateDIBSection(hdc lpbi DIB_RGB_COLORS 
    //free(lpbi)

    HDC hdcLCD = CreateCompatibleDC(hdc)
    HBITMAP hbmOld = (HBITMAP) SelectObject(hdcLCD m_hbmLCD)
    //SetBitmapBits(m_hbmLCD LCD_WIDTH*LCD_HEIGHT/2 
m_abLCDBits)
    //StretchBlt(hdc m_rcScrn.left m_rcScrn.top cxScrn cyScrn 
        hdcLCD 0 0 LCD_WIDTH LCD_HEIGHT SRCCOPY)
    StretchDIBits(hdc m_rcScrn.left m_rcScrn.top cxScrn 
cyScrn
        0 0 LCD_WIDTH LCD_HEIGHT temp_m_abLCDBits lpbi DIB_RGB_COLORS 
SRCCOPY)
    free(lpbi)
    SelectObject(hdcLCD hbmOld)
    DeleteDC(hdcLCD)
}


abservations:
the code in section 3 will generate the identical <a 
href = abnormal.png>wrong output under Windows
if we make such modifications as follows:
    lpbi-bmiHeader.biBitCount = 16

wine debug message on Wine:
where f:/...../HelioEmu.exe is the executable file using the upper code 
in section 3

$> wine -debugmsg warn+bitmaptrace+bitmap f:\.....\HelioEmu.exe
....
trace:bitmap:X11DRV_DIB_CreateDIBSection format 
(160160) planes 1 bpp 4 size 0 colors 0 (RGB)
trace:bitmap:CreateBitmap 160x160 65536 colors 
returning 000000f8
trace:bitmap:X11DRV_DIB_DoProtectDIBSection Changed protection from 4 to 2
trace:bitmap:SetBitmapBits (000000f8 12800 
0x40613bd8) 160x160 65536 colors fetched height: 40
trace:bitmap:SetBitmapBits Calling device specific BitmapBits
trace:bitmap:X11DRV_DIB_Lock Locking 0x403f3604 from thread 0806c500
trace:bitmap:X11DRV_DIB_Coerce GdiMod requested in status InSync
trace:bitmap:X11DRV_DIB_DoProtectDIBSection Changed protection from 2 to 1
trace:bitmap:X11DRV_DIB_Unlock Unlocking in status GdiMod
trace:bitmap:X11DRV_DIB_DoProtectDIBSection Changed protection from 1 to 2
trace:bitmap:X11DRV_DIB_Unlock Unlocked 0x403f3604
trace:bitmap:SetBitmapBits (000000f8 12800 0x40613bd8) 160x160 65536 colors 
fetched height: 40
trace:bitmap:SetBitmapBits Calling device specific BitmapBits
trace:bitmap:X11DRV_DIB_Lock Locking 0x403f3604 from thread 0806c500
trace:bitmap:X11DRV_DIB_Coerce GdiMod requested in status InSync
trace:bitmap:X11DRV_DIB_DoProtectDIBSection Changed protection from 2 to 1
trace:bitmap:X11DRV_DIB_Unlock Unlocking in status GdiMod
trace:bitmap:X11DRV_DIB_DoProtectDIBSection Changed protection from 1 to 2
trace:bitmap:X11DRV_DIB_Unlock Unlocked 0x403f3604
...

conclusion

Under Wine using CreateDIBSection 
for a 160*160 4bpp(16color) will result in a 16bpp
(65536color) bitmap creation wich will mislead the following <a href 
= #cmd3>SetBitmapBits. So our conclusion is that something may go wrong 
with CreateDIBSection intepreation of <a href 
= #pfb>Wine.

",1647,"1"
"WINE-2501","Modplug Tracker (and probably others?) exit before startup","When attempting to run modplug tracker on fc2 (might happen on other distros?)
WINE exits immediately with the error : 

wine-pthread: virtual.c:703: map_file_into_view: Assertion `start + size <=
view->size' failed.
Aborted

Instead it should come up normally showing the splash screen and taking you
into an empty (no document loaded) view.

Note that I _am_ able to run other exe's just not mpt and that I am unusre as
to the depth and breadth of this error.

The error shows itself in (at least) the 20040914 source and redhat rpm and the
20040813 rpm.",386,"0"
"WINE-1290","Compile error:  don't know how to make _install_/avifile.dll.so.","I'm quite sure this is because you are using BSD make and not GNU make.

While personally I'm not happy that Wine uses GNU make specific constructs
this is a feature that probably won't go away anytime soon (if ever) as the
Wine maintainers do not consider this critical (and avoiding those features
may be hard).

Can you confirm that the problem goes away with GNU make?",526,"0"
"WINE-27218","virtualbox needs ntoskrnl.exe.IoAcquireRemoveLockEx","0. download virtualbox for windows 32bit.
http://www.virtualbox.org/wiki/Downloads

1. register native netcfgx.dll works around Bug 27060 

2. install virtualbox

3. start virtualbox.

$ wine VirtualBox.exe 


wine: Call from 0x7b839ab2 to unimplemented function ntoskrnl.exe.IoAcquireRemoveLockEx aborting
wine: Unimplemented function ntoskrnl.exe.IoAcquireRemoveLockEx called at address 0x7b839ab2 (thread 0027) starting debugger...
wine: Call from 0x7b839ab2 to unimplemented function ntoskrnl.exe.IoAcquireRemoveLockEx aborting

though virtualbox will not crash but running virtualbox for windows on wine may be a good testcase for the function  ntoskrnl.exe.IoAcquireRemoveLockEx.",515,"0"
"WINEHQ_APPS_DATABASE-7962","Duplicate maintainer","I appear to be a maintainer of Deus Ex > 1.112f (English) twice.
I guess this somehow relates to this patch:
http://article.gmane.org/gmane.comp.emulators.wine.patches/34572/match=appdb+duplicate
 but maybe the database still allows duplicates?",3,"0"
"WINE-20341","pcsx2 beta: crashes when exiting LilyPad configuraiton dialog","Created attachment 24071
Crash backtrace

Pcsx2 beta r1888 crashes when exiting LilyPad r1853 configuraiton dialog (OK or Cancel buttons). Plugin manages to try and get result of PropSheet_IndexToHwnd when passed handle is already invalid because window is beeing destroyed.",7,"0"
"WINE-29843","IE4 crashes on resetting profile sharing needs shdocvw.dll.ResetProfileSharing","Crashes with:

wine: Call from 0x7b83bdc2 to unimplemented function shdocvw.dll.ResetProfileSharing aborting
err:seh:raise_exception Unhandled exception code c00000fd flags 0 addr 0xf744863c

WINEDLLOVERRIDES=shdocvw=n is a workaround.

Steps to reproduce:

1. Change the reported Windows version to NT 4.0. (You may also want to remove
the Z: drive to avoid a scan of the file system)
2. wine iexplore -unregserver
3. Remove inetcpl.cpl and schannel.dll from system32
4. Run the unpacker and installer. After reboot close the program manager windows that pop up as well as any error dialogs.
5. wine control inetcpl.cpl
6. Go to the content tab and click the reset sharing button",868,"1"
"WINE-21898","uTorrent 2.0 redraws the listview torrent progress indicator incorrectly","Created attachment 26545
uTorrent 2.0 +listview trace

In wine-1.1.39-163-g583f0f0 when moving the horizontal scrollbar of the torrent listview in uTorrent 2.0 the torrent progress indicator doesn't move correctly along with the other listview elements but is instead redrawn in the same location over the other elements. Regression testing indicated:

3cd15e5db5b9b89abbc3d5a7a16b62ce28eed153 is first bad commit
commit 3cd15e5db5b9b89abbc3d5a7a16b62ce28eed153
Author: Nikolay Sivov 
Date:   Fri May 29 01:35:36 2009 +0400

    comctl32/listview: Don't offset subitem rectangles with item padding returned by LVM_GETSUBITEMRECT.

:040000 040000 85aa1a9ccb92f30e8cc33386dfed7e48549f35ec bd2bace8bb5080b042ea33b0271bf1db4cedc36f M	dlls

A +listview trace when moving the horizontal scrollbar is attached.",3,"0"
"WINE-4165","Unhandled exception at sign-in to Hello from Picasa 6.5.1 (Google)","Problem occurs in Wine 0.9.3 + Wine 0.9.4

After starting the app I said NO in the following dialog of using the
MozillaActiveXControl.

After pressing the button Sign-IN Hello crashes with an unhandled exception.

Command line:
./wine C:\Programme\Hello\Hello.exe

stderr output:

fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:CoResumeClassObjects stub
WARNING: Trying to use ICMP (network ping) will fail unless running as root
fixme:richedit:RichEditANSIWndProc EM_LIMITTEXT: stub
You need to install the Mozilla ActiveX control to
use Wine's builtin CLSID_WebBrowser from SHDOCVW.DLL
fixme:shdocvw:PersistStreamInit_InitNew (0x403c0880)
fixme:shdocvw:WebBrowser_QueryInterface
(0x403c0880)->({3af24292-0c96-11ce-a0cf-00aa00600ab8} 0x531a9720) interface not
supported
fixme:shdocvw:OleObject_Advise (0x403c0880)->(0x531a9700 0x531a974c)
fixme:shdocvw:ViewObject_SetAdvise (0x403c0880)->(1 00000000 0x531a9700)
fixme:shdocvw:OleObject_SetHostNames (0x403c0880)->(LAXWIN (null))
fixme:shdocvw:OleObject_SetExtent (0x403c0880)->(1 0x531a9754)
fixme:shdocvw:OleObject_GetExtent (0x403c0880)->(1 0x531a9754)
fixme:shdocvw:WebBrowser_QueryInterface
(0x403c0880)->({00000126-0000-0000-c000-000000000046} 0x406be60c) interface not
supported
fixme:shdocvw:ViewObject_Draw (0x403c0880)->(1 -1 (nil) (nil) (nil) 0x3dc
0x531a9764 0x531a9764 (nil) 00000000)
fixme:shdocvw:WebBrowser_QueryInterface
(0x403c0880)->({fc4801a3-2ba9-11cf-a229-00aa003d7352} 0x406be688) interface not
supported
fixme:shdocvw:OleObject_SetExtent (0x403c0880)->(1 0x531a9754)
fixme:shdocvw:WebBrowser_put_Visible (0x403c0880)->(ffffffff)
err:mshtml:load_gecko Could not load XPCOM: 126
fixme:urlmon:InternetProtocolSink_ReportResult (0x4041bb58)->(00000000 0 (null))
fixme:shdocvw:OleObject_SetExtent (0x403c0880)->(1 0x531a9754)
fixme:shdocvw:WebBrowser_put_RegisterAsDropTarget (0x403c0880)->(0)
fixme:shdocvw:OleControl_OnAmbientPropertyChange (0x403c0880)->(-1)
fixme:shdocvw:ClientSite_GetContainer (0x403c0880)->(0x406bebbc)
err:ole:CoGetClassObject class {304ce942-6e39-40d8-943a-b913c40c9cd4} not registered
err:ole:CoGetClassObject no class object {304ce942-6e39-40d8-943a-b913c40c9cd4}
could be created for for context 0x1
fixme:ole:CoCreateInstance no classfactory created for CLSID
{304ce942-6e39-40d8-943a-b913c40c9cd4} hres is 0x80040154
fixme:bitblt:X11DRV_BitBlt potential optimization - client-side DIB copy
fixme:bitblt:X11DRV_BitBlt potential optimization - client-side DIB copy
wine: Unhandled page fault on read access to 0x00000008 at address 0x406e3ed7
(thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: page fault on read access to 0x00000008 in 32-bit code
(0x406e3ed7).
In 32 bit mode.
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:1007 GS:0033
 EIP:406e3ed7 ESP:406bda94 EBP:406bdad0 EFLAGS:00210246(   - 00      -RIZP1)
 EAX:00000000 EBX:406fa768 ECX:406ffc40 EDX:406ffc44
 ESI:00000003 EDI:4042c230
Stack dump:
0x406bda94:  4042c230 0000000b 4042c230 40360000
0x406bdaa4:  40360020 401fa6e8 401b9139 401fa6e8
0x406bdab4:  406bdad4 401c4dd6 40360020 00000000
0x406bdac4:  406fa768 00000000 00000001 406bdb20
0x406bdad4:  406e40da 00000003 00000000 00000000
0x406bdae4:  00000001 539f8848 4042c200 00000000
0200: sel=1007 base=40032000 limit=00001fff 32-bit rw-
Backtrace:
=>1 0x406e3ed7 HttpSendRequestExW+0xb7(hRequest=0x3 lpBuffersIn=0x0
lpBuffersOut=0x0 dwFlags=0x1 dwContext=0x539f8848)
[/home/linux/wine/dlls/wininet/http.c:1786] in wininet (0x406e3ed7)
  2 0x406e40da HttpSendRequestExA+0xba(hRequest=0x3 lpBuffersIn=0x0
lpBuffersOut=0x0 dwFlags=0x1 dwContext=0x539f8848)
[/home/linux/wine/dlls/wininet/http.c:1740] in wininet (0x406e40da)
  3 0x0058aa0f in hello (+0x18aa0f) (0x0058aa0f)
  4 0x539f9ae9 (0x539f9ae9)
  5 0x00000000 (0x00000000)
0x406e3ed7 HttpSendRequestExW+0xb7 [/home/linux/wine/dlls/wininet/http.c:1786]
in wininet: movl      0x8(%eax)%esi
1786            if (lpBuffersIn->lpcszHeader)
Modules:
Module  Address                 Debug info      Name (102 modules)
PE      0x00400000-0067d000     Export          hello
ELF     0x40000000-40017000     Deferred        ld-linux.so.2
ELF     0x40018000-40031000     Deferred        libwine.so.1
ELF     0x4003a000-4003f000     Deferred        libxxf86dga.so.1
ELF     0x40042000-4005a000     Deferred        version
  \-PE  0x40050000-4005a000     \               version
ELF     0x4005c000-4006e000     Deferred        libpthread.so.0
ELF     0x4006e000-4018d000     Deferred        libc.so.6
ELF     0x4018d000-40191000     Deferred        libdl.so.2
ELF     0x40192000-40205000     Deferred        ntdll
  \-PE  0x401a0000-40205000     \               ntdll
ELF     0x40205000-402fc000     Deferred        libwine_unicode.so.1
ELF     0x402fc000-40322000     Deferred        libm.so.6
ELF     0x40357000-40360000     Deferred        libsm.so.6
ELF     0x40470000-40569000     Deferred        kernel32
  \-PE  0x40490000-40569000     \               kernel32
ELF     0x405a4000-405a9000     Deferred        libxxf86vm.so.1
ELF     0x405ab000-405af000     Deferred        libxrandr.so.2
ELF     0x406c0000-40700000     Stabs           wininet
  \-PE  0x406d0000-40700000     \               wininet
ELF     0x40700000-4071d000     Deferred        mpr
  \-PE  0x40710000-4071d000     \               mpr
ELF     0x4071d000-40832000     Deferred        user32
  \-PE  0x40740000-40832000     \               user32
ELF     0x40832000-408b6000     Deferred        gdi32
  \-PE  0x40840000-408b6000     \               gdi32
ELF     0x408b6000-408f1000     Deferred        advapi32
  \-PE  0x408c0000-408f1000     \               advapi32
ELF     0x408f1000-40946000     Deferred        shlwapi
  \-PE  0x40900000-40946000     \               shlwapi
ELF     0x40946000-409c9000     Deferred        ole32
  \-PE  0x40960000-409c9000     \               ole32
ELF     0x409c9000-40a0c000     Deferred        rpcrt4
  \-PE  0x409e0000-40a0c000     \               rpcrt4
ELF     0x40a0c000-40a2a000     Deferred        iphlpapi
  \-PE  0x40a10000-40a2a000     \               iphlpapi
ELF     0x40a2a000-40ae5000     Deferred        shell32
  \-PE  0x40a40000-40ae5000     \               shell32
ELF     0x40ae5000-40b91000     Deferred        comctl32
  \-PE  0x40af0000-40b91000     \               comctl32
ELF     0x40b91000-40c23000     Deferred        comdlg32
  \-PE  0x40ba0000-40c23000     \               comdlg32
ELF     0x40c23000-40c4b000     Deferred        winspool
  \-PE  0x40c30000-40c4b000     \               winspool
ELF     0x40c4b000-40cd6000     Deferred        oleaut32
  \-PE  0x40c60000-40cd6000     \               oleaut32
ELF     0x40cd6000-40cea000     Deferred        lz32
  \-PE  0x40ce0000-40cea000     \               lz32
ELF     0x40cea000-40d01000     Deferred        wintrust
  \-PE  0x40cf0000-40d01000     \               wintrust
ELF     0x40d01000-40d32000     Deferred        urlmon
  \-PE  0x40d10000-40d32000     \               urlmon
ELF     0x40d32000-40d5a000     Deferred        cabinet
  \-PE  0x40d40000-40d5a000     \               cabinet
ELF     0x40d5a000-40dd9000     Deferred        winmm
  \-PE  0x40d70000-40dd9000     \               winmm
ELF     0x40dd9000-40e02000     Deferred        ws2_32
  \-PE  0x40de0000-40e02000     \               ws2_32
ELF     0x40e22000-40e2a000     Deferred        libxrender.so.1
ELF     0x40e2a000-40e2c000     Deferred        xlcutf8load.so.2
ELF     0x40e2d000-40e9b000     Deferred        libfreetype.so.6
ELF     0x40e9b000-40eae000     Deferred        libz.so.1
ELF     0x40eae000-40ede000     Deferred        libfontconfig.so.1
ELF     0x40ede000-40efe000     Deferred        libexpat.so.0
ELF     0x40efe000-40f7a000     Deferred        winex11
  \-PE  0x40f10000-40f7a000     \               winex11
ELF     0x40f7a000-40f92000     Deferred        libice.so.6
ELF     0x40f92000-40fa0000     Deferred        libxext.so.6
ELF     0x40fa0000-41099000     Deferred        libx11.so.6
ELF     0x41099000-41138000     Deferred        libgl.so.1
ELF     0x41138000-419cf000     Deferred        fglrx_dri.so
ELF     0x41a8d000-41a96000     Deferred        librt.so.1
ELF     0x41a96000-41aa1000     Deferred        libgcc_s.so.1
ELF     0x52459000-52478000     Deferred        ximcp.so.2
ELF     0x524c9000-524e5000     Deferred        imm32
  \-PE  0x524d0000-524e5000     \               imm32
ELF     0x52510000-52519000     Deferred        libxcursor.so.1
ELF     0x52519000-52548000     Deferred        uxtheme
  \-PE  0x52520000-52548000     \               uxtheme
ELF     0x525a0000-525b7000     Deferred        msacm
  \-PE  0x525b0000-525b7000     \               msacm
ELF     0x525cb000-525e9000     Deferred        libcups.so.2
ELF     0x525e9000-52619000     Deferred        libssl.so.0.9.7
ELF     0x52619000-52713000     Deferred        libcrypto.so.0.9.7
ELF     0x52713000-5271e000     Deferred        libnss_files.so.2
ELF     0x5282b000-5286d000     Deferred        wineoss
  \-PE  0x52840000-5286d000     \               wineoss
ELF     0x5286d000-5288e000     Deferred        msacm32
  \-PE  0x52870000-5288e000     \               msacm32
ELF     0x529a0000-529b5000     Deferred        midimap
  \-PE  0x529b0000-529b5000     \               midimap
ELF     0x52cf2000-52d32000     Deferred        riched20
  \-PE  0x52d00000-52d32000     \               riched20
ELF     0x536e4000-53712000     Deferred        shdocvw
  \-PE  0x536f0000-53712000     \               shdocvw
ELF     0x53712000-53754000     Deferred        mshtml
  \-PE  0x53720000-53754000     \               mshtml
ELF     0x538b0000-538e3000     Deferred        rsaenh
  \-PE  0x538c0000-538e3000     \               rsaenh
ELF     0x538e3000-53913000     Deferred        crypt32
  \-PE  0x538f0000-53913000     \               crypt32
ELF     0x7bf00000-7bf03000     Deferred        
Threads:
process  tid      prio (all id:s are in hex)
00000008 (D) C:\Programme\Hello\Hello.exe
        0000000d   -1
        0000000c    0
        0000000b    0
        0000000a    0
        00000009    0 <==
WineDbg terminated on pid 0x8",18,"0"
"WINE-2076","failed to install Microsoft Internet Explorer 5 (from CD)","I tried to install Microsoft Internet Explorer 5 from a CD.

I restored a clean fake C drive and .wine directory (after install state).

The install process went blocked with this never ending message on the console:
----
fixme:thunk:CommonUnimpStub generic stub: ?
----",194,"0"
"WINE-15149","Spore: many rendering issues","Created attachment 15870
land and other rendering issues

- land nod rendering correctly
- parts of creature transparent (in creature editor)

System: 
AMD Thurion 64b
3072 mb ram
nvidia geforce 7000m

Software
Ubuntu 8.04 (x86_64)
wine 1.1.3 (with directx9c libs)

video driver - nvidia 177.70",205,"0"
"WINE-2344","dc++ doesn't work properly","This is an open-source application available at
http://sourceforge.net/projects/dcplusplus/

Problems:
* Settins aren't saved
* warnings on command line:
fixme:listview:LISTVIEW_SetColumnOrderArray iCount 7 lpiArray 0x48c674
err:listview:LISTVIEW_WindowProc unknown msg 1051 wp=3ecffb10 lp=004060b0
err:toolbar:TOOLBAR_GetImageListForDrawing index 00 is not valid max 0
...
fixme:menu:TrackPopupMenuEx not fully implemented

Wine App DB comments:
http://appdb.winehq.com/appview.php?appId=1105&versionId=2198

Thank you!",470,"0"
"WINE-29238","Star Trek Armada II: Game crashes when attempting to launch a network game (IDirectPlayVoiceClient_GetCompressionTypes must return at least one result)","Created attachment 37774
Console output with backtrace

See bug 2271.  Game launches fine in clean wineprefix.  Selecting Multiplayer -> Local Area Network (TCP/IP) from the opening menu leads to the attached backtrace.  This also occurs when selecting Multiplayer -> Internet - Manual IP -> (blank IP) -> OK.",1174,"1"
"WINE-19502","Visual Studio 2005 SP1 install seems to fail","First install visual studio 2005 (I used the 90 day trial but the 180 day team trial will do too) doing
  sh winetricks -q vcrun6 dotnet20 msxml6
first as described in
http://appdb.winehq.org/objectManager.php?sClass=version&iId=4494

Then download SP1 VS80sp1-KB926601-X86-ENU.exe from
http://www.microsoft.com/downloads/details.aspx?FamilyID=bb4a75ab-e2d4-4c96-b39d-37baf6b5b1dc

It puts up an extracting dialog thinks a while then seems to abort with
the dialog
To install this product please run Setup.exe.  For other installation options see the Installation section of ReadMe.htm.
which is funny considering there's no setup.exe (the .exe contains an .msp
no setup.exe).

Since this is an .msp patch I wouldn't be surprised if this 
were caused by a bug in our msi implementation.

There are quite a few err's and warn's:
$ grep err: log3 | sort | uniq -c
      1 err:msi:ACTION_CallDllFunction failed to load dll LC:\\windows\\temp\\msi1718.tmp
      1 err:msi:ACTION_CallDllFunction failed to load dll LC:\\windows\\temp\\msi171c.tmp
  18957 err:msidb:msi_table_load_transform insert row failed
    313 err:msidb:msi_table_load_transform no matching row to transform
      1 err:msi:ITERATE_Actions Execution halted action LCA_LaunchCondition_4.3643236F_FC70_11D3_A536_0090278A1BB8 returned 1627

$ grep warn: log3 | sort | uniq -c
      7 warn:msidb:read_stream_data open stream failed r = 80030002 - empty table?
      4 warn:msidb:STREAMS_set_row failed to write stream data: 1627
      3 warn:msidb:TABLE_CreateView table not found
      1 warn:msidb:WHERE_VerifyCondition Couldn't find column LTo
      4 warn:msidb:write_stream_data open stream failed r = 80030005",317,"0"
"WINE-5918","msxml3 sp7 install fails","Running
  msiexec /i msxml3.msi
currently crashes.  I'll attach highlights of +msi+relay.",27,"0"
"WINE-16241","Call of duty 5 World at War : Fails to initialize","Created attachment 17502
+seh report

Contrarily to the test report my installation went flawless. When I launch the game I get an unhandled exception. After the first attempt I installed DX9 and the Offscreenrenderingmode directdrawrenderer and videomemorysize registry keys the result remains the same. I have attached a +seh output. Should you need more tell me.",783,"0"
"WINE-35084","Visual Studio 2010 installer fails to install in 64-bit Windows XP WINEPREFIX (claims Windows XP x64 Service Pack 2 is required)","Hello folks

as the summary says.

The installer prerequisite log dd_depcheck_VC_EXP_100.txt is pretty verbose no need for Wine trace log:

--- snip ---
...
[12/08/1320:06:38] Windows XP x64 Service Pack 2 is required == 
[12/08/1320:06:38] 	This component uses the FileRegVerCheck version check method. It will compare a given version against the version of a regkey on your machine.
[12/08/1320:06:38] 	Registry key being interrogated: HKLMSystem\CurrentControlSet\Control\Windows Value: CSDVersion Version: 512.
[12/08/1320:06:38] 	Version on user's machine:	256
[12/08/1320:06:38] 	Version to be installed:	512
[12/08/1320:06:38] Windows XP x64 Service Pack 2 is required == Component to be installed.
--- snip ---

Setting CSDVersion to 512 in 64-bit prefix allows the installer go further.

Wine uses Service Pack 3 for 32-bit Windows XP setting (=latest).
There is no SP3 for the 64-bit version of Windows XP. XP2 is indeed the latest.

For consistency it would make sense that Wine uses SP2 for 64-bit XP indicating highest SP level.

$ sha1sum vc_web.exe 
c2d61a5424aa474a169e59199aa2158a858833f6  vc_web.exe

$ du -sh vc_web.exe 
3.2M	vc_web.exe

$ wine --version
wine-1.7.8-128-g37460b6

Regards",22,"0"
"WINE-24659","The material Navigator reports a system failure and terminates the program","Regression test shows:
john@john-lynx-lts:~/wine-git$ git bisect good
127260bb628d029c7608e96013bcec207e635249 is the first bad commit
commit 127260bb628d029c7608e96013bcec207e635249
Author: Huw Davies 
Date:   Wed Jul 28 11:42:04 2010 +0100

    ole32: Pass a real IUnknown ptr to CoMarshalInterface.

:040000 040000 639e42615e9f49f4aa299f6c026e35c9e561e5ef dce41174685dec38beb6077b82d2171ec6032b4e M	dlls


This has exacerbated the bug where the material navigator cannot access its file system list box.",489,"0"
"WINE-6891","XmlSpy 2007 Crashes","I've been trying to work with XMLSpy in linux qith wine help but the program 
is always crashing.
For what i understand is in GetComputerNameExW (I could be very wrong)

The XMLSPy starts and then it crashes i can see the windows completly then if 
i move my mouse it Crash's.

Following this message i'll post the backtrace!",0,"0"
"WINE-25491","BearShare: Fails to install","Steps to reproduce:
1) remove ~/.wine
2) install BearShareV9pl.exe

Behaviour:
Unhandled exception.

Expected behaviour:
No unhandled exception.

Terminal output:

wine: Unhandled exception 0xc0000417 at address 0x100e613 (thread 0030) starting debugger...
Process of pid=0024 has terminated
No process loaded cannot execute 'echo Modules:'
Cannot get info on module while no process is loaded
No process loaded cannot execute 'echo Threads:'
process  tid      prio (all id:s are in hex)
00000008 
	00000009    0
0000000e services.exe
	00000019    0
	00000017    0
	00000015    0
	00000014    0
	00000010    0
	0000000f    0
00000011 winedevice.exe
	00000018    0
	00000016    0
	00000013    0
	00000012    0
0000001a explorer.exe
	0000001b    0
You must be attached to a process to run this command.
No process loaded cannot execute 'detach'",16,"0"
"WINE-27189","Hydrophobia Prophecy wants GetLogicalProcessorInformation implemented","Running the game gives me a warning:

WARNING: Your PC is below the minimum spec. Processor cores: 1 Minium spec for Hydrophobia: 2 Cores.

I see:
fixme:process:GetLogicalProcessorInformation ((nil)0x33fdb4): stub
fixme:process:GetLogicalProcessorInformation (0x286ff880x33fdb4): stub
fixme:process:GetLogicalProcessorInformation ((nil)0x33fad4): stub
fixme:process:GetLogicalProcessorInformation (0x27638380x33fad4): stub

in the terminal.

Really though I'm sure I have more than one core:
austin@aw25 ~ $ cat /proc/cpuinfo | grep -c processor
8


:)",477,"0"
"WINE-6472","Unhandled page fault on read access with a clarion app","When I try to launch a specific app it fails with:
wine: Unhandled page fault on read access to 0x00000094 at address 0x105c013
(thread 0009).

The tarball with wineprefix and launch script is available here:
http://filip.eu.org/wine_wynik.tar.bz2 (3.8MB)",291,"0"
"WINE-28922","Atom Zombie Smasher needs locale_ctor_cstr","The game just hangs while starting and the console shows a crash on an unimplemented function:

fixme:msvcp90:locale_ctor_cstr (0x37f5268  63) stub
fixme:msvcp90:locale__Getfacet (0x37f5268 2130680936) stub
wine: Call from 0x7ed63dd2 to unimplemented function msvcp90.dll.?_Getcat@?$ctype@_W@std@@SAIPAPBVfacet@locale@2@PBV42@@Z aborting
err:seh:setup_exception_record stack overflow 1656 bytes in thread 005b eip 7ef83196 esp 00540cb8 stack 0x540000-0x541000-0x740000

I have installed the game through Steam and I'm using wine-1.3.31-172-g7df0245",242,"0"
"WINE-175","CreateIcon does not resize bitmaps","CreateIcon should resize the provided bitmaps to create an icon which size is
SM_CXICON x SM_CYICON.
   There's a sample application I can provide to someone interested in fixing
this bug.
   See windows/cursoricon.c",3147,"1"
"WINE-2999","Srolling Window Erroneously 'Homes' After Posting","Blitzin2 has a bottom-fed scrolling chat window in which new postings should 
cause the window to scroll upwards.  However under Wine after each 
[successful] posting the window is subsequently automatically being 'homed' 
by which I mean it is then made to scroll back up to the top of the data.  
Whereas the vertical scroll-bar thumb should remain at the bottom of its 
range with the latest posting being visible at the bottom of the screen.",261,"0"
"WINE-35755","UltraISO 'ISODrive.sys' crashes on unimplemented function ntoskrnl.exe.ExfInterlockedRemoveHeadList","Hello folks

as the summary says ...

(also mentioned in bug 32657)

--- snip ---
$ wine ultraiso.exe
fixme:ntoskrnl:KeInitializeSpinLock stub: 0x117390
fixme:ntoskrnl:KeInitializeEvent stub: 0x117394 1 0
fixme:ntoskrnl:ObReferenceObjectByHandle stub: 0x20 1f03ff (nil) 0 0x1173a4 (nil)
fixme:ntoskrnl:KeSetEvent (0x117394 0 0): stub
fixme:ntoskrnl:KeWaitForSingleObject stub: 0x117394 0 0 0 (nil)
fixme:ntoskrnl:PsTerminateSystemThread stub: 0
wine: Call from 0x7b83ab23 to unimplemented function ntoskrnl.exe.ExfInterlockedRemoveHeadList aborting
wine: Unimplemented function ntoskrnl.exe.ExfInterlockedRemoveHeadList called at address 0x7b83ab23 (thread 0014) starting debugger...
--- snip ---

$ wine --version
wine-1.7.14

Regards",334,"0"
"WINE-38093","The main character is missing/invisible in Hitchcock: The Final Cut demo","Terminal strings

fixme:d3d_surface:surface_load_location Unimplemented copy from 0 to WINED3D_LOCATION_TEXTURE_RGB for depth/stencil buffers.
fixme:d3d_surface:surface_load_location Unimplemented copy from 0 to WINED3D_LOCATION_SYSMEM for depth/stencil buffers.
err:d3d_surface:surface_invalidate_location Surface 0x1f4d18 does not have any up to date location.
fixme:d3d_surface:surface_unmap Depth / stencil buffer locking is not implemented.",842,"1"
"WINE-28597","winecfg page fault during sound test","Created attachment 36737
wine-1.3.29-217-g5432611 console output

In wine-1.3.29-217-g5432611 open winecfg and the Audio tab.  Hit Test Sound a LOT and fast and a page fault occurs.

Backtrace:
=>0 0x7d5bbb6c WINMM_DevicesThreadProc+0x248(arg=0x1fc) [/home/test/wine-git/dlls/winmm/waveform.c:2072] in winmm (0x00bcea48)
  1 0x7bc7f938 call_thread_func+0xb() in ntdll (0x00bcea58)
  2 0x7bc7f976 call_thread_entry_point+0x33(entry=0x7d5bb924 arg=0x1fc) [/home/test/wine-git/dlls/ntdll/signal_i386.c:2499] in ntdll (0x00bceb38)
  3 0x7bc8725f start_thread+0x1c6(info=0x7ffbcfb8) [/home/test/wine-git/dlls/ntdll/thread.c:405] in ntdll (0x00bcf398)
  4 0xf7587e72 start_thread+0xd1(arg=0xbcfb70) [/build/buildd/eglibc-2.13/nptl/pthread_create.c:304] in libpthread.so.0 (0x00bcf498)
0x7d5bbb6c WINMM_DevicesThreadProc+0x248 [/home/test/wine-git/dlls/winmm/waveform.c:2072] in winmm: subl	$20%esp

The sound test continues regardless.

Does not occur in wine-1.3.29.

b07a82c01dc0422719a98f20471f240b35d9e5db is the first bad commit
commit b07a82c01dc0422719a98f20471f240b35d9e5db
Author: Andrew Eikum 
Date:   Wed Oct 5 13:39:46 2011 -0500

    winecfg: Reload winmm for each sound test.
    
    Also localize the error dialog while we're in there.

:040000 040000 3b67f528b00a1b3770a0a24dab0a1d95bd774ce4 316e8f2bfed44a0e958e65e633e1426c505434bc M	po
:040000 040000 2edf3338c75c4cb754c80e9b0706bef900362f05 c14af07c12b0eb61eaa84665ab22c6e1644edd7a M	programs",22,"0"
"WINE-11031","Age of Empires III exits silently","In Age of Empires III
On Fedora 8.


Install went fine
But no mater how I attempt to run the game it looks like it may start only to fail without errors.

I tried to start it in terminal nothing happens
No error or even a load proses.

I wonted to See something so I installed the trial version
And that worked.

I wonder if I still need the no-CD patch?

I updated the game and everything that I could do I did
But nothing.

I don't get it how the trial version worked
And the full version didn't?

Any thoughts?",561,"0"
"WINE-6041","Notes Administrator and Designer Client  feature selected by default","When I'm trying to install the Notes Client than the Administrator and Designer
features get selected by default but on windows they don't. There currently
seems to be a problem with the features/components installlevel. I'm not sure
when this regression came in (I think it was 0.919).",33,"0"
"WINE-37871","GOG.com downloader (.NET 3.5 app) wants wininet.GetUrlCacheConfigInfoA/W implementation","Hello folks

as the summary says.

It's rather harmless as the failure is catched and handled in managed code.

So the issue is rather about an improvement and the app can be used as test case.

--- snip ---
fixme:wininet:GetUrlCacheConfigInfoW (0x1440e8 0x33df24 104)
Message: Value does not fall within the expected range.
Stack trace:    at System.Runtime.InteropServices.Marshal.ThrowExceptionForHRInternal(Int32 errorCode IntPtr errorInfo)
   at MS.Win32.WinInet.get_InternetCacheFolder()
   at System.Windows.Media.Imaging.BitmapDownload.BeginDownload(BitmapDecoder decoder Uri uri RequestCachePolicy uriCachePolicy Stream stream)
   at System.Windows.Media.Imaging.LateBoundBitmapDecoder..ctor(Uri baseUri Uri uri Stream stream BitmapCreateOptions createOptions BitmapCacheOption cacheOption RequestCachePolicy requestCachePolicy)
   at System.Windows.Media.Imaging.BitmapDecoder.CreateFromUriOrStream(Uri baseUri Uri uri Stream stream BitmapCreateOptions createOptions BitmapCacheOption cacheOption RequestCachePolicy uriCachePolicy Boolean insertInDecoderCache)
   at System.Windows.Media.Imaging.BitmapImage.FinalizeCreation()
   at System.Windows.Media.Imaging.BitmapImage.EndInit()
   at GOGCompanionApp.AppWindow.LoginUser()
--- snip ---

MSDN: http://msdn.microsoft.com/en-us/library/windows/desktop/cc817578%28v=vs.85%29.aspx

Source: http://source.winehq.org/git/wine.git/blob/2aaff6e19f9ef97a241d7ca36497d47d52b4c523:/dlls/wininet/urlcache.c#l3764

--- snip ---
3764 BOOL WINAPI GetUrlCacheConfigInfoW(LPINTERNET_CACHE_CONFIG_INFOW CacheInfo LPDWORD size DWORD bitmask)
3765 {
3766     FIXME((%p %p %x)\n CacheInfo size bitmask)
3767             INTERNET_SetLastError(ERROR_INVALID_PARAMETER)
3768     return FALSE
3769 }
--- snip ---

$ wine --version
wine-1.7.33-191-ge899bd8

Regards",1520,"1"
"WINE-36844","Multiple games need X3DAudio1_7.dll (BeamNG v0.3 Tech Demo Doom 3 BFG Edition)","Hello folks

as the summary says.

Bug 12182 should be avoided in future (meta bug) .. very unfortunate covering all XAudio dlls.

Better are bugs that specifically target stub dlls like bug 24545 (Monkey Island: Special Edition wants X3DAudio1_6.dll).

--- snip ---
$ pwd
/home/focht/.wine/drive_c/users/focht/Local Settings/Application Data/BeamNG/BeamNG-Techdemo-0.3
...
$ wine ./BeamNGSandbox.x86.exe 
...
err:module:import_dll Library X3DAudio1_7.dll (which is needed by LC:\\users\\focht\\Local Settings\\Application Data\\BeamNG\\BeamNG-Techdemo-0.3\\BeamNGSandbox.x86.dll) not found
--- snip ---

$  sha1sum BeamNG-Techdemo-0.3-setup.zip 
21b29af0c77cf138ec69edf1c4cb0d4504bb2ed9  BeamNG-Techdemo-0.3-setup.zip

$ du -sh BeamNG-Techdemo-0.3-setup.zip 
95M	BeamNG-Techdemo-0.3-setup.zip

$ wine --version
wine-1.7.21-50-g10e6a66

Regards",174,"0"
"WINE-33865","Regression in a specialized program","Created attachment 44920
Gzipped sysprof file Wine 1.6rc2 under Arch Linux

I use same program for registering bets under wine (fbBookOffice.exe).

In new versions of wine CPU utilization approaches 100% and the program has become unusable. Using winetricks with replacement dll-files did not help. I have attached sysprof journal of wine 1.4 under debian wheezy (works fine) and wine 1.6rc2 under archlinux (my program is unusable).

Result of Regression Testing:

ccc034c27e7595662c9c02b86de1b660ac680536 is the first bad commit
commit ccc034c27e7595662c9c02b86de1b660ac680536
Author: Alexandre Julliard 
Date:   Wed Oct 31 15:55:29 2012 +0100
    gdi32: Store the anti-aliasing flags in the DC when selecting a font.
:040000 040000 f5f28140db34a411698d7382777fb0bca35c78cc a65dff683fcafff03ff0ca563fd56f1f710865a1 M      dlls

Thanks for any help!",1,"0"
"WINEHQ.ORG-35175","http://wiki.winehq.org/Bugs does not state that bug messages must be in English","To try reducing the number of bugs posted in other languages the bug guidelines page should state that messages need to be in English.

It's also not written in http://bugs.winehq.org/page.cgi?id=bug-writing.html nor http://www.winehq.org/site/docs/wineusr-guide/bug-reporting which are links from the http://wiki.winehq.org/Bugs page.",0,"0"
"WINE-3170","Graphical glitch in FF installer : no icons and font display cut","There are problems in FF installer : no icons are displayed and the font on the
first installer page is cut.
I am attaching two screenshots of the installer to show the problem.

The console outputs the following while installing :
$ wine /folk/vrubiolo/Archives/Win32/Firefox\ Setup\ 1.0.5.exe
fixme:win:SetWindowTextW setting text LExtracting of other process window
0x10022 should not use SendMessage
err:static:STATIC_SetIcon huh? hicon!=0 but info=0???
err:static:STATIC_SetIcon huh? hicon!=0 but info=0???",839,"1"
"WINE-32764","STEP7_Lite_V30_incl_SP4 installation crashed","Created attachment 43252
screenshot

free download from:
https://a248.e.akamai.net/cache.automation.siemens.com/dnl/DQ/DQzMjkzAAAA_39596695_DL/STEP7_Lite_V30_incl_SP4.zip

Automatically installed Mono and Gecko while first running winecfg.

cd to STEP7_Lite_V30_incl_SP4 folder then run it :
$ wine Setup.exe

everything went normally until Siemens Automation License Manager Setup the process crashed with a dialogbox showed like the attachment.
and closing it wouldn't affect the next.

I've tried in wine 1.5.21 & 1.4 too.",1,"0"
"WINE-13737","Word 2003 crashes on opening specific file","Created attachment 13768
The file that crashes word

With loads off versions before and the last one word 2003 crashes on opening the file in the attachment.

I have more of these files containing the same template the all crash.

On multiple systems it has the same result. (works in windows word)",141,"0"
"WINE-3102","CVS patch 2005-05-12 04:55:44 CDT broke KOTOR game","I tried to play LucasArts Star Wars: Knights Of The Old Republic with latest
Wine release (20050628) and it crashed. With 20050419 release it worked so I
made regression tests and found that this patch:
http://www.winehq.org/hypermail/wine-cvs/2005/05/0192.html
makes the game crash (after the game window is opened but before the intro
video is played).

I tried to use WINEDEBUG=+relay but I let it running for near thirty minutes
and wine didn't crashed nor showed the intro video and the full dump was 120
MB... so I stopped it  (I think that wasn't normal).

I'm using Mandrivalinux 10.2 in an AMD 2000 XP. The graphic card is a NVidia
Geforce 4 4600ti. I tried with NVidia drivers 7167 and 7667 and the crash
happened using both drivers.

The latest output lines of WINEDEBUG=trace+opengl wine swkotor.exe are those:
------------------------------------------------------------------------------
err:opengl:ConvertAttribWGLtoGLX trying to use WGL_render_texture Attributes
without support (was 2072)
trace:opengl:ConvertAttribWGLtoGLX pAttr[2] = 2073
trace:opengl:ConvertAttribWGLtoGLX WGL_render_texture Attributes: 2073 as 207a
err:opengl:ConvertAttribWGLtoGLX trying to use WGL_render_texture Attributes
without support (was 2073)
trace:opengl:wglCreatePbufferARB ->(FAILED)
trace:opengl:wglCreateContext ((nil))
trace:opengl:wglShareLists (0x7b9abab0 (nil))
wine: Unhandled exception (thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: page fault on read access to 0x00000008 in 32-bit code
(0x779b0d83).
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:003b GS:0033
 EIP:779b0d83 ESP:77ace090 EBP:77ace09c EFLAGS:00010216(   - 00      -RIAP1)
 EAX:00000000 EBX:779c73cc ECX:00000000 EDX:77ace088
 ESI:7b9abab0 EDI:779cfb94
Stack dump:
0x77ace090:  779a3820 779aece0 779afef0 779b0870
0x77ace0a0:  00427ce2 7b9abab0 00000000 00020026
0x77ace0b0:  000000b0 77acfa78 00000000 00000027
0x77ace0c0:  ff030303 00000000 00000000 00000000
0x77ace0d0:  00000000 00000000 00000000 00000000
0x77ace0e0:  00000000 00000000 00000000 00000000
Backtrace:
=>1 0x779b0d83 wglShareLists(hglrc1=0x7b9abab0 hglrc2=0x0)
[/home/dani/Paquetes/Wine/wine/dlls/opengl32/wgl.c:541] in opengl32 (0x77ace09c)
  2 0x00427ce2 in swkotor (+0x27ce2) (0x779b0870)
0x779b0d83 wglShareLists+0x23
[/home/dani/Paquetes/Wine/wine/dlls/opengl32/wgl.c:541] in opengl32: movl
0x8(%eax)%ecx
541	  if (dest->ctx != NULL) {
Modules:
Module	Address			Debug info	Name (101 modules)
PE	0x00400000-009d4000	Export          swkotor
PE	0x21100000-21164000	Deferred        mss32
PE	0x22300000-2231b000	Deferred        mssds3d.m3d
PE	0x22400000-22419000	Deferred        msssoft.m3d
PE	0x24100000-24120000	Deferred        mssdsp.flt
PE	0x26400000-26439000	Deferred        mssvoice.asi
PE	0x26f00000-26f2c000	Deferred        mssmp3.asi
PE	0x30000000-30072000	Deferred        binkw32
ELF	0x76a84000-76aa2000	Deferred        imm32
  \-PE	0x76a90000-76aa2000	\               imm32
ELF	0x76aa2000-76ab8000	Deferred        lz32
  \-PE	0x76ab0000-76ab8000	\               lz32
ELF	0x76ab8000-76ad2000	Deferred        version
  \-PE	0x76ac0000-76ad2000	\               version
ELF	0x76ad2000-76ae9000	Deferred        glu32
  \-PE	0x76ae0000-76ae9000	\               glu32
ELF	0x76ae9000-76b23000	Deferred        dinput
  \-PE	0x76b00000-76b23000	\               dinput
ELF	0x76b23000-76b37000	Deferred        dinput8
  \-PE	0x76b30000-76b37000	\               dinput8
ELF	0x76b37000-76bb2000	Deferred        winmm
  \-PE	0x76b50000-76bb2000	\               winmm
ELF	0x76bb2000-76bd0000	Deferred        iphlpapi
  \-PE	0x76bc0000-76bd0000	\               iphlpapi
ELF	0x76bd0000-76c17000	Deferred        rpcrt4
  \-PE	0x76bf0000-76c17000	\               rpcrt4
ELF	0x76c17000-76c96000	Deferred        ole32
  \-PE	0x76c30000-76c96000	\               ole32
ELF	0x76c96000-76cd1000	Deferred        advapi32
  \-PE	0x76cb0000-76cd1000	\               advapi32
ELF	0x76cd1000-76d54000	Deferred        gdi32
  \-PE	0x76cf0000-76d54000	\               gdi32
ELF	0x76d54000-76e6b000	Deferred        user32
  \-PE	0x76d80000-76e6b000	\               user32
ELF	0x76ec6000-76ecf000	Deferred        libgcc_s.so.1
ELF	0x76f9f000-76fa1000	Deferred        libnvidia-tls.so.1
ELF	0x76fa1000-7770a000	Deferred        libglcore.so.1
ELF	0x7770a000-777a1000	Deferred        libglu.so.1
ELF	0x777a1000-77820000	Deferred        libgl.so.1
ELF	0x77820000-778ed000	Deferred        libx11.so.6
ELF	0x778ed000-778fb000	Deferred        libxext.so.6
ELF	0x778fb000-77900000	Deferred        libxxf86vm.so.1
ELF	0x77900000-77918000	Deferred        libice.so.6
ELF	0x77918000-77921000	Deferred        libsm.so.6
ELF	0x77937000-779d0000	Stabs           opengl32
  \-PE	0x77970000-779d0000	\               opengl32
ELF	0x77b17000-77c20000	Deferred        kernel32
  \-PE	0x77b40000-77c20000	\               kernel32
ELF	0x77d3d000-77d48000	Deferred        libnss_files.so.2
ELF	0x77d5e000-77d81000	Deferred        libm.so.6
ELF	0x77d81000-77e76000	Deferred        libwine_unicode.so.1
ELF	0x77e8c000-77f00000	Deferred        ntdll
  \-PE	0x77eb0000-77f00000	\               ntdll
ELF	0x77f00000-77f03000	Deferred        
ELF	0x7b6d7000-7b720000	Deferred        dsound
  \-PE	0x7b6f0000-7b720000	\               dsound
PE	0x7bed0000-7befc000	Deferred        msseax.m3d
ELF	0x7e31b000-7e330000	Deferred        midimap.drv
  \-PE	0x7e320000-7e330000	\               midimap.drv
ELF	0x7e444000-7e466000	Deferred        msacm32
  \-PE	0x7e450000-7e466000	\               msacm32
ELF	0x7e466000-7e47e000	Deferred        msacm.drv
  \-PE	0x7e470000-7e47e000	\               msacm.drv
ELF	0x7e47e000-7e483000	Deferred        libogg.so.0
ELF	0x7e483000-7e4d5000	Deferred        libxt.so.6
ELF	0x7e4d5000-7e512000	Deferred        libkmedia2_idl.so.1
ELF	0x7e512000-7e528000	Deferred        libmad.so.0
ELF	0x7e528000-7e550000	Deferred        libvorbis.so.0
ELF	0x7e550000-7e558000	Deferred        libvorbisfile.so.3
ELF	0x7e558000-7e564000	Deferred        libjack.so.0
ELF	0x7e564000-7e58d000	Deferred        libaudiofile.so.0
ELF	0x7e58d000-7e595000	Deferred        libesd.so.0
ELF	0x7e595000-7e5ab000	Deferred        libaudio.so.2
ELF	0x7e5ab000-7e660000	Deferred        libasound.so.2
ELF	0x7e660000-7e705000	Deferred        libmcop.so.1
ELF	0x7e705000-7e7ac000	Deferred        libartsflow_idl.so.1
ELF	0x7e7ac000-7e80a000	Deferred        libsoundserver_idl.so.1
ELF	0x7e80a000-7e93b000	Deferred        libartsflow.so.1
ELF	0x7e951000-7e9d3000	Deferred        libglib-2.0.so.0
ELF	0x7e9d3000-7e9d8000	Deferred        libgthread-2.0.so.0
ELF	0x7e9d8000-7e9dc000	Deferred        libgmodule-2.0.so.0
ELF	0x7e9dc000-7e9e2000	Deferred        libartsc.so.0
ELF	0x7e9e8000-7e9f8000	Deferred        libartscbackend.so.0
ELF	0x7e9f8000-7ea13000	Deferred        winearts.drv
  \-PE	0x7ea00000-7ea13000	\               winearts.drv
ELF	0x7fe52000-7fe5a000	Deferred        libxrender.so.1
ELF	0x7fe5a000-7fe63000	Deferred        libxcursor.so.1
ELF	0x7fe79000-7fe7d000	Deferred        iso8859-15.so
ELF	0x7fe7e000-7fe9c000	Deferred        ximcp.so.2
ELF	0x7fe9c000-7fe9f000	Deferred        xlcdef.so.2
ELF	0x7fe9f000-7ff1d000	Deferred        winex11.drv
  \-PE	0x7feb0000-7ff1d000	\               winex11.drv
ELF	0x7ff1d000-7ff3d000	Deferred        libexpat.so.0
ELF	0x7ff3d000-7ff6c000	Deferred        libfontconfig.so.1
ELF	0x7ff6c000-7ff7e000	Deferred        libz.so.1
ELF	0x7ff7e000-7ffea000	Deferred        libfreetype.so.6
ELF	0xb7e7b000-b7e7f000	Deferred        libdl.so.2
ELF	0xb7e7f000-b7fa9000	Deferred        libc.so.6
ELF	0xb7fa9000-b7fbb000	Deferred        libpthread.so.0
ELF	0xb7fbb000-b7fd3000	Deferred        libwine.so.1
ELF	0xb7fea000-b8000000	Deferred        ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
00000008 (D) C:\Archivos de programa\LucasArts\SWKotOR\swkotor.exe
	00000014   15
	00000011   15
	0000000e   15
	0000000c    0
	0000000b   -2
	0000000a    0
	00000009    0 <==
WineDbg terminated on pid 0x8
-----------------------------------------------------------------------------",578,"0"
"WINE-4200","map_image() can cause segfault","Basically to make this short (could go into more detail but my knowledge of
the wine loader code is just *ok* not really good):

I was attempting to run a less-than-perfect PE file (seems to be a broken worm)
I  was obviously prepared for it to not run -- perhaps the loader to error out
since it was an invalid PE file (at least XPSP2 believes so -- and I've reversed
other Win32 loader code and they'd error too)) but I got a segfault unfortunately.

I narrowed the issue down to dlls/ntdll/virtual.c::map_image():
1014                memset( ptr + sec->VirtualAddress + file_size 0 end -
file_size )

ptr is ok:
(gdb) p ptr
$142 = 0x400000 MZ\220

VA for the section seems ok:
(gdb) p sec->VirtualAddress
$143 = 49152

.. Same with file_size (i believe) but the issue is with the length of the
memset().

(gdb) p end
$144 = 3815
(gdb) p file_size
$145 = 110873

As you can see at virtual.c:1014 memset() uses (end-file_size) as the length to
zero out.  However (end-file_size) creates a bad value since end is less than
file_size.  By at least C90 standards the length field for memset() is a size_t
 which is unsigned ... etc etc.  I don't really have a solution as I am not
really all that knowledgeable with really what some of the code is doing but
seems that atleast adding an assert() or a test for this instead of blindly
passing (end-file_size) would be a good thing.  Anyway not a major bug but the
loader should tries it's best to at least not crash.

If you need a test file please feel free to contact me at areiter _ at _
websense.com.",4,"0"
"WINE-24585","Senstools fails to install with an error about tempfiles on startup","Created attachment 31049
+ntdll

austin@midna:~/wine-git$ git bisect good
8543c32442d79c33b59b8f6a96c849f6ba5f13df is the first bad commit
commit 8543c32442d79c33b59b8f6a96c849f6ba5f13df
Author: Alexandre Julliard 
Date:   Thu Feb 18 12:57:33 2010 +0100

    ntdll: Properly handle empty but present ACLs in self-relative descriptors.

:040000 040000 8e995d4e5591e7d961ffcf46ecda1713a8697a81 9fab0cd82c13a692fac1549a41c4bc5a21c92aed M	dlls


Strangely though if I compile with gcc from an older svn:
austin@midna:~$ gcc -v
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/usr/local/libexec/gcc/x86_64-unknown-linux-gnu/4.6.0/lto-wrapper
Target: x86_64-unknown-linux-gnu
Configured with: ./configure --enable-languages=cc++ : (reconfigured) ./configure --enable-languages=cc++
Thread model: posix
gcc version 4.6.0 20100908 (experimental) (GCC) 


I always hit this bug. I had to use gcc-4.4 to run the regression test.",220,"0"
"WINE-23839","Neverwinter Nights 2 can't detect video adapter properly claiming: Your video card has less than 128 MB of video memory","When I attempt to start the game I get some error messages stating that I do not have a compliant video card to run the game.

Console output:

fixme:win:EnumDisplayDevicesW ((null)00x1c3f4800x00000000) stub!
fixme:d3d:debug_d3dformat Unrecognized 1094800211 (as fourcc: SSAA) WINED3DFORMAT!
fixme:d3d:getFormatDescEntry Can't find format unrecognized(1094800211) in the format lookup table
fixme:d3d:debug_d3dformat Unrecognized 909198916 (as fourcc: DF16) WINED3DFORMAT!
fixme:d3d:getFormatDescEntry Can't find format unrecognized(909198916) in the format lookup table
fixme:d3d:debug_d3dformat Unrecognized 875710020 (as fourcc: DF24) WINED3DFORMAT!
fixme:d3d:getFormatDescEntry Can't find format unrecognized(875710020) in the format lookup table
fixme:win:EnumDisplayDevicesW ((null)00x1c3e3a80x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x1c3d8d80x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x1c3d9880x00000000) stub!
fixme:devenum:DEVENUM_ICreateDevEnum_CreateClassEnumerator Category {cc7bfb41-f175-11d1-a392-00e0291f3959} not found
fixme:devenum:DEVENUM_ICreateDevEnum_CreateClassEnumerator Category {cc7bfb46-f175-11d1-a392-00e0291f3959} not found


The workaround is to use native devenum.dll and dxdiagn.dll

Gentoo Linux X64
Nvidia 8800 GT
nvidia-drivers 256.35",1166,"1"
"WINE-27691","Star Wars Battlefront II renders textures incorrectly on certain maps","Created attachment 35436
terminal output

On highly vegetated maps (Dagobah Felucia) the game renders textures (trees flowers grass) incorrectly. This makes the maps look as an obstacle course (hard to spot enemies).
With disabled pixel shaders textures appear correctly (please see both attached screenshots for comparison).

Nvidia GeForce 250 GTS / driver 275.09.07",785,"0"
"WINE-2094","Autocad2004 installation deadlocks in loader.c in NTDLL.DLL","plain launching of the essential main setup.exe file leads to the deadlock.
sheer output follows:

[/home/s2/cc/reports/msie6]$ wine /mnt/atsarga/BIN/ACADFEUI/SETUP.EXE
Could not stat /mnt/fd0 (No such file or directory) ignoring drive A:
Could not stat /mnt/fd0 (No such file or directory) ignoring drive A:
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:ntdll:NtQueryInformationToken (0x4410x4074e620800x4074e670): stub
fixme:advapi:SetThreadToken ((nil) 0x40): stub (NT impl. only)
fixme:powermgnt:SetThreadExecutionState (0x80000001): stub harmless.
fixme:powermgnt:SetThreadExecutionState (0x80000000): stub harmless.
fixme:heap:GlobalMemoryStatusEx we should emulate the 4GB bug here as per MSDN
fixme:imagehlp:StackWalk (332 0xffffffff 0xfffffffe 0x42eef514 0x42eefd40
(nil) 0x42bf2da0 0x42bf2df8 (nil)): stub
err:ntdll:RtlpWaitForCriticalSection section 0x40112080 loader.c:
loader_section wait timed out in thread 000c blocked by 000d retrying (60 sec)",606,"0"
"WINE-25871","netstat command missing (needed by Guild Wars 'test system' button)","Guild wars installs nicely but if you press 'test system' you see
...
wine: cannot find LC:\\windows\\system32\\netstat.exe",712,"0"
"WINE-10176","rFactor Dedicated not working anymore after update","Created attachment 8780
console output

Hello

rFactor Dedicated Server (http://www.rfactor.net) used to work until rFactor Version 1.250. After upgrading to Version 1.255 it is not working anymore. Please find the output messages attached.
My System is x86 32-bit ubuntu 7.04 and wine 0.9.47.",1584,"1"
"WINE-10836","Skijump fails to start:Could not find the selected Direct3D adapter.","A user submitted this version with garbage test results into appDb. It pops up a message with Could not find the selected Direct3D adapter.",1053,"1"
"WINE-16368","installer need access to My Documents","If you try to install LabView runtime from national Instrument during
installation receive a error message from wine:

Error: This installer needs access to My Documents. However this
location C:\windows\profiles\....\Miei Documenti is not available.
Ensure that this directoy exist and is available and run the installer 
again


but the directory exist.

In the terminal windows the last message is:

fixme:volume:GetVolumePathNameW (LC:\\windows\\profiles\\daniele.banfi\\Miei
Documenti\\ 0x92a680 51) stub!",565,"0"
"WINE-25082","radmin: right mouse key drag'n'drop not working","in radmin client 3.4 it's easy to copy connection just with drag'n'drop by a right mouse keys but in wine right mouse key works so as you do not move the cursor like you pressed and released the right mouse button in one time. so where you released the key - there it is working - on a connection - that will be connection property in a list - options of listiong connection.

Ubuntu 10.4 Linux.",811,"1"
"WINE-27989","Word and Powerpoint 2007: window background is striped","Attaching a screenshot. The stripes look different every time you open Word or Powerpoint (Excel seems unaffected) and change if you resize the window or restore from minimizing.

Regression test results: 

e81e73149fb66e776cbd768f600bc8bb547b7052 is the first bad commit
commit e81e73149fb66e776cbd768f600bc8bb547b7052
Author: Huw Davies 
Date:   Tue Aug 2 14:11:11 2011 +0100

    gdi32: Actually use the dib driver's Get/PutImage if the bitmap is a dib.

:040000 040000 a01acea3ceb2ad8781388283699d0c8243b90f7f 8c0e1e1aee3369d99f8b401de57f42561ea5954d M      dlls",22,"0"
"WINE-25121","Jigsaw (Mile Drummond) does not start","Created attachment 31866
~/wine-git/wine jigsaw.exe &> log.txt

Notable from the log
err:module:import_dll Library XAPOFX1_1.dll (which is needed by LC:\\users\\andrew\\Temp\\cap23f.tmp\\2.csx) not found

With XAPOFX1_1.dll it starts",1,"0"
"WINE-7186","fonts in applications using cairo ( not only through GTK )","Any GTK+ application running in wine where gtk >= 2.8 has wrong fonts -
sometimes they are too big sometimes there are wrong symbols all over.

Just install mono-win32 and have a look at the gtk#-examples.

GTK >= 2.8 uses cairo for font rendering and cairo in turn uses the native win32
font api (not pango!). Therefore I looked for some sample code using __only__
cairo on win32 to see if it works -- it doesn't. The sample code is attached
here are two screenshots:

[1] http://gordon.cip.physik.uni-saarland.de/~oleid/cairo-wine.png
[2] http://gordon.cip.physik.uni-saarland.de/~oleid/cairo-win32.png",625,"0"
"WINE-4912","Regression: Mechwarrior 3 worked with 0.9.9 but not with 0.9.10","The game used to start previously (but crash in the mission briefings anyway)
but now when the game is started the screen goes black for a few seconds then
drops back to the desktop.",138,"0"
"WINE-17929","Crash when creating a DC","Created attachment 20262
backtrace.txt

Crash when creating a DC.

This occurs when using a console application and creating a DC.

This approach works on Windows XP and Vista (not tried other versions).

I use this approach for testing 2D graphic drawing in an automated fashion.",1658,"1"
"WINE-25789","No icons in wine's iexplore","Regression introduced by:

austin@debian:~/wine-git$ git bisect bad
d3a11316608aad6f89b5088dcd936430a5c1e13b is the first bad commit
commit d3a11316608aad6f89b5088dcd936430a5c1e13b
Author: Alexandre Julliard 
Date:   Wed Jan 12 17:52:15 2011 +0100

    shdocvw: Convert menu and string table resources to po files.

this machine _does_ have 32-bit gettext installed :-).

en_US.utf-8 locale.",2,"0"
"WINE-373","Unhandled exception in DIALOG_CreateIndirect","Wine build 20011122

When using Wine to run the latest free version of RealPlayer G2 winedbg gives
this error:

First chance exception: stack overflow in 32-bit code (0x40752581).
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:008f GS:0000
 EIP:40752581 ESP:40526ff4 EBP:40527064 EFLAGS:00010202(  R- 00  I   - - 1 )
 EAX:00000000 EBX:00000000 ECX:00000002 EDX:00000071
 ESI:40d07af0 EDI:00010076
Stack dump:
0x40526ff4 (NTDLL.DLL._memccpy+0x21e754):  00000000 00000000 00000000 40752586
0x40527004 (NTDLL.DLL._memccpy+0x21e764):  40527010 606f1df3 40527024 606f1f99
0x40527014 (NTDLL.DLL._memccpy+0x21e774):  00000071 000003ea 00010076 40cb1ee0
0x40527024 (NTDLL.DLL._memccpy+0x21e784):  4052703c 606f1ead 000003ea 00010076
0x40527034 (NTDLL.DLL._memccpy+0x21e794):  000003ea 40cb14a0 40527048 606f1c7e
0x40527044 (NTDLL.DLL._memccpy+0x21e7a4):  000003ea 40527054 606f1a44 000003ea
0x40527054 (NTDLL.DLL._memccpy+0x21e7b4): 

0011: sel=008f base=401305a0 limit=00000fff 32-bit rw-
Backtrace:

Wine-dbg> where

=>0 0x40752581 (DIALOG_CreateIndirect+0x9(hInst=0x0 dlgTemplate=0x0
owner=0x10076 dlgProc=0x605f6319 param=0x40d07af0 procType=0x2 modal=0x0)
[dialog.c:709] in libuser32.so) (ebp=40527064)
  1 0x40752d73 (CreateDialogIndirectParamA+0x1b(hInst=0x0 dlgTemplate=0x0
owner=0x10076 dlgProc=0x605f6319 param=0x40d07af0) [dialog.c:1012] in
libuser32.so) (ebp=40527088)
  2 0x605fbf46 (PNGU3266.DLL.?DoModeless@CPNDialog@@UAEKXZ+0x60 in
C:\REAL\COMMON\PNGU3266.DLL) (ebp=40636718)
  3 0x605f63e9 (PNGU3266.DLL._PNGuiDlgProc@16+0xd0 in
C:\REAL\COMMON\PNGU3266.DLL) (ebp=4063674c)
  4 0x40773f67 (WINPROC_wrapper+0x17 in libuser32.so) (ebp=40636770)
  5 0x40773ff2 (WINPROC_CallWndProc+0x82(proc=0x605f6319 hwnd=0x10076
msg=0x110 wParam=0x0 lParam=0x40d07980) [winproc.c:173] in libuser32.so)
(ebp=406367a0)
  6 0x407796e4 (WINPROC_CallProc32WTo32A+0x80(func=0x605f6319 hwnd=0x10076
msg=0x110 wParam=0x0 lParam=0x40d07980) [winproc.c:2435] in libuser32.so)
(ebp=406367c8)
  7 0x40779c1b (CallWindowProcW+0xab(func=0x40b91c80 hwnd=0x10076 msg=0x110
wParam=0x0 lParam=0x40d07980) [winproc.c:2675] in libuser32.so) (ebp=406367fc)
  8 0x4074f5d8 (DefDlgProcW+0x48(hwnd=0x10076 msg=0x110 wParam=0x0
lParam=0x40d07980) [defdlg.c:389] in libuser32.so) (ebp=40636828)
  9 0x40773f67 (WINPROC_wrapper+0x17 in libuser32.so) (ebp=4063684c)
  10 0x40773ff2 (WINPROC_CallWndProc+0x82(proc=0x4074f590 hwnd=0x10076
msg=0x110 wParam=0x0 lParam=0x40d07980) [winproc.c:173] in libuser32.so)
(ebp=4063687c)
  11 0x40779642 (WINPROC_CallProc32ATo32W+0x7e(func=0x4074f590 hwnd=0x10076
msg=0x110 wParam=0x0 lParam=0x40d07980) [winproc.c:2412] in libuser32.so)
(ebp=406368a4)
  12 0x40779b37 (CallWindowProcA+0xc7(func=0x40b90259 hwnd=0x10076 msg=0x110
wParam=0x0 lParam=0x40d07980) [winproc.c:2643] in libuser32.so) (ebp=406368d8)
  13 0x4071952e (call_window_proc+0xf2(hwnd=0x10076 msg=0x110 wparam=0x0
lparam=0x40d07980 unicode=0x0) [message.c:1146] in libuser32.so) (ebp=40636934)
  14 0x4071a153 (SendMessageTimeoutA+0xdf(hwnd=0x10076 msg=0x110 wparam=0x0
lparam=0x40d07980 flags=0x0 timeout=0xffffffff res_ptr=0x406369b8)
[message.c:1577] in libuser32.so) (ebp=40636994)
  15 0x4071a2bb (SendMessageA+0x37(hwnd=0x10076 msg=0x110 wparam=0x0
lparam=0x40d07980) [message.c:1622] in libuser32.so) (ebp=406369c8)
  16 0x40752ab1 (DIALOG_CreateIndirect+0x539(hInst=0x605f0000
dlgTemplate=0x6064c168 owner=0x10025 dlgProc=0x605f6319 param=0x40d07980
procType=0x2 modal=0x1) [dialog.c:884] in libuser32.so) (ebp=40636a50)
  17 0x407531a1 (DialogBoxIndirectParamA+0x1d(hInstance=0x605f0000
template=0x6064c130 owner=0x10025 dlgProc=0x605f6319 param=0x40d07980)
[dialog.c:1191] in libuser32.so) (ebp=40636a78)
  18 0x605fbead (PNGU3266.DLL.?DoModal@CPNDialog@@UAEKXZ+0xc9 in
C:\REAL\COMMON\PNGU3266.DLL) (ebp=40636aa8)
  19 0x60614274 (PNGU3266.DLL.?RunWizard@XPNWizardManager@@UAGHXZ+0x10b in
C:\REAL\COMMON\PNGU3266.DLL) (ebp=000000fb)",758,"0"
"WINE-9671","Derive 5 no longer draws graphs in color","Created attachment 8086
Derive with wine 0.9.25 - trivial graph in color

In earlier versions of wine Derive 5 could draw graphs in color. This is broken since some time graphs are only drawn in black. I've tracked that down to a specific commit - see 2nd attachment.",206,"0"
"WINE-26933","Iexplore relative links not work ok","wine iexplore http://netikka.net/dev/rel.html



Click link -> Fail!









Click







<?php 

$tst=$_GET[s] 

if ($tst==1) 

{ echo(Ok!) } 

else  

{ echo(Fail!) } 

?>",22,"0"
"WINE-21380","ZEMAX lens data editor window is not treated as a popup of the main window","When ZEMAX first starts the lens editor appears behind the main window.  This window should appear as a popup for the main window (and never show up behind it).  However if you close the window and use New to create a new design then the lens data editor will appear on top properly.  This behavior is the same on both Linux and Mac OS X.",75,"0"
"WINE-12577","BYOND: Crashing on login","Created attachment 12161
crash log in git

Steps to reproduce this:
1. Download the BYOND suite for Windows (byond_355.exe)
2. Run byond_355.exe. It should install normally.
3. Run the file byond.exe which will be located in C:\Program Files\BYOND\bin
(or wherever you chose to install it) relative to WINE.
4. Login: Username - Winehq  password - winehq

+relay+seh+tid attached",152,"0"
"WINE-863","Listview report style shows right end of text not left end","Bugcomments restored from Gmane.org: 
 
When drawing subItem text in LVS_REPORT style if the text is longer than the  
rectangle only the right portion of the text displays. Using the native  
controls the left end of the text displays follow by .... 
 
How to cause: 
1. Using notepad or other simple program get the fileopen dialog. 
2. Hit the Details icon (rightmost icon). Or right click in the box area and  
select the Details view. 
3. Adjust the header field length till not all the text can fit. 
 
The native control uses lots of GetTextExtentPoint to find the amount of text  
to fit with the ellipse. We could use DrawText like the Header control.",523,"0"
"WINE-38477","Elevated: Invisible textures since wine-1.7.34-58-gc6232e1","Created attachment 51318
Actual buggy look in first seconds

Steps to reproduce:
1. Install `winetricks winxp vd=1024x768 d3dx9` in empty wineprefix (d3dx9_33 is enough but winetricks doesn't have a term for it)
2. Run elevated_1024x768.exe ( http://www.pouet.net/prod.php?which=52938 )
3. See empty screen in first seconds instead of a seashore
(see attached screenshot)

Expected look:
  https://bugs.winehq.org/attachment.cgi?id=50227

Regression since wine-1.7.34-58-gc6232e1:
  commit c6232e1d111ae8929c53c02211cde4a9777311fd
  wined3d: Create GL sampler objects for wined3d sampler objects.

Notes:
Patch attached to bug 37728 may be also required to make Elevated look correct",201,"0"
"WINE-2177","Uninstaller: needs refreshing","When moving the dialog that starts up on uninstall.exe instead of it just
moving every pixel or so moved a new identicle dialog is created.",803,"1"
"WINE-34949","Chessmaster 10th Edition: no graphics in the menu you can't run the game (Mac OS X only bug)","Created attachment 46573
Chessmaster 10 Log

You can see the player login window but the menu has no graphics at all. This is with the mac driver with X11 it is even more difficult to run anything. 

On Ubuntu Chessmaster works fine. The problem can be reproduced in the demo (check out the link).

Mac OS X 10.9 ATI HD 2600 Pro",1,"0"
"WINE-43770","Fidibo installer crashes very early in win7 mode","Hi a user reported troubles with this programme on the user forum.

Whith default win7 set it crashes very early with an errorwindow (that only says there was a problem)

I attach a debug log hereafter. Tried native gdiplus and comctl32 no change.

Note 1: I checked that on windows 7 the crash is not present
Note 2: When version set to winxp it suffers from 2 other bugs that are already reported in bugzilla (but can be workedaround). This bugreport is only for the win 7 crash.",25,"0"
"WINE-3826","Get apps broken by Xorg Pixmap patch working properly again (METABUG)","This bug is here solely for keeping track of bugs filed that have the following
error message somewhere in their output:

X Error of failed request:  BadAlloc (insufficient resources for operation)
  Major opcode of failed request:  53 (X_CreatePixmap)
  Serial number of failed request:  4707
  Current serial number in output stream:  4709

The error doesnt need to be identical to be linked to this bug but should at
least have the BadAlloc and the major opcode 53.",359,"0"
"WINE-2743","Can't run MapSend Streets and Destinations USA","I was able to successfully install MapSend Streets and Destinations USA. 
However it will not run.  When I run it from a command line I get the following:

mothership MapSend Streets and Destinations USA # wine MapSend.exe
err:module:import_dll Library MSVCIRT.dll (which is needed by
LZ:\\home\\brian\\.cxoffice\\dotwine\\fake_windows\\Program
Files\\Magellan\\MapSend Streets and Destinations USA\\vc_vect.dll) not found
err:module:import_dll Library vc_vect.dll (which is needed by
LZ:\\home\\brian\\.cxoffice\\dotwine\\fake_windows\\Program
Files\\Magellan\\MapSend Streets and Destinations USA\\MapExp.dll) not found
err:module:import_dll Library MSVCIRT.dll (which is needed by
LZ:\\home\\brian\\.cxoffice\\dotwine\\fake_windows\\Program
Files\\Magellan\\MapSend Streets and Destinations USA\\MapExp.dll) not found
err:module:import_dll Library MapExp.dll (which is needed by
LZ:\\home\\brian\\.cxoffice\\dotwine\\fake_windows\\Program
Files\\Magellan\\MapSend Streets and Destinations USA\\MapSend.exe) not found
err:module:import_dll Library MSVCIRT.dll (which is needed by
LZ:\\home\\brian\\.cxoffice\\dotwine\\fake_windows\\Program
Files\\Magellan\\MapSend Streets and Destinations USA\\MapSend.exe) not found
err:module:import_dll Library MSVCP60.dll (which is needed by
LZ:\\home\\brian\\.cxoffice\\dotwine\\fake_windows\\Program
Files\\Magellan\\MapSend Streets and Destinations USA\\MapSend.exe) not found
err:module:LdrInitializeThunk Main exe initialization for
LZ:\\home\\brian\\.cxoffice\\dotwine\\fake_windows\\Program
Files\\Magellan\\MapSend Streets and Destinations USA\\MapSend.exe failed
status c0000135",0,"0"
"WINE-6879","Delphi Toolbar Icons not displayed correctly","On wine-devel viny  wrote:

Here http://home.scarlet.be/linux/compteco/test.zip  a little test
program (with delphi 5 sources) that demonstrate a wrong display of the
toolbar. With native comctl32 it's OK but not with the builtin one.

I would like to run this program
(http://home.scarlet.be/linux/compteco/index.html) without native DLL.",35,"0"
"WINE-21962","Call of Duty 4 crashes","Created attachment 26669
log trace generated by the game's last crash

Call of duty 4 crashes while running with wine-1.1.38.

My regression test gives me :
224043d6cf8b56e9ff2537358646700211d54d1f is first bad commit
commit 224043d6cf8b56e9ff2537358646700211d54d1f
Author: Stefan Dsinger 
Date:   Thu Jan 28 20:51:06 2010 +0100

    wined3d: Implement dynamic buffers with GL_ARB_map_buffer_range.

I checked that the crash happens also with v1.1.39 and v1.1.40.
Attached is the trace generated when the game crashes.

For now i'll stick with v1.1.37...

Thanks for your support
Seb.",104,"0"
"WINE-12052","Flatout 2 dinput_test: crashes if joystick axis mapping is enabled different joystick sensitivity","because Wine currently maps joystick hat as axes (which makes playing IL2 really difficult) I've been trying to use axis mapping. However some applications crash on startup if axis mapping is enabled AND POV is mentioned somewhere.

I'm using Thrustmaster USB (2960623) joystick.
for jstest device information see jstest_info.txt.

Under wine device feels different: joystick seems to have different sensitivity and small unexpected deadzone (which doesn't exist on windows). 

Without axis mapping joystick seems to work mostly fine but joystick hat is being mapped as axes not as Point-of-view control. dinput_test works normally and reports 2 failrues (see dinput_test_normal.txt for log).

When I try to use following axis mapping (to make hat work in IL2):
XYZPOV1Rz dinput_test crashes on second test and hangs while printing backtrace. see dinput_test_crash.txt. For dinput and trace debug data see dinput_test_trace.txt (Aquired using WINEDEBUG+=tracedinput wine dinput_test.exe.so joystick)

With this mapping Flatout 2 crashes after intro movies.
see flatout_2_crash.txt

With this mapping IL2 works fine but doesn't recognize hat controls anyway.

With another mapping:
XYZPOV1
dinput_test crashes in the same way. 
see dinput_test_crash2.txt for details. It looks like crashes occur only when POV1 is included in axis mapping.",53,"0"
"WINE-4479","Bounds error in rich edit EM_FINDTEXT","Bug 4144 mentions a problem in finding text where the second occurance of 'blah'
in 'blahblah' would not be found. A simpler case is finding 'blah' in the range
(0 4) in document 'blah' which fails only with Wine.

A rich edit conformance test posted several days ago shows this behavior:
http://www.winehq.org/pipermail/wine-patches/2006-January/023871.html

Variable values during the three find statements (lines 148-153 of the patch) are:
fixme:richedit:ME_FindText paraofs=0 rowofs=0 nstart=0 nlen=4 nmax=8
fixme:richedit:ME_FindText paraofs=0 rowofs=0 nstart=4 nlen=4 nmax=8
fixme:richedit:ME_FindText paraofs=0 rowofs=0 nstart=4 nlen=4 nmax=9

Here's the mention from bug 4144:
--snip--
(One interesting note: A Find done not-whole-word will miss a second
version of the word in a row. Ex.: in blahblah only the first blah is
found while if RichEd20.dll is not loaded the Find is almost entirely
malfunctional. It's possible those issues are partially connected to
some problem with offset position numbers used to start the Find. In
both the control and API the RTB text has a zero-based offset system
but Wine could be starting text at 1?  )
--snip--",182,"0"
"WINE-7977","date format differs from Windows","Attached program prints date in a different format on wine than on Windows.

On Windows XP it prints:

  12/31/69 16:00:00

On wine it prints:

  Thu Jan  1 02:00:00 1970

This breaks win32 applications that make incorrect assumptions about the offsets
in a string that contains dates.",1838,"1"
"WINE-18424","Mac OS X Joystick support doesn't work","I was really pleased to see that Wine added support for joysticks on the Mac but I haven't had any success getting my MS Sidewinder Precision Pro (USB) to work in the games I've tried.  I've tried with two demos: Descent Freespace demo and IL-2 Sturmovik demo.  I've tried connecting the stick before and after Wine starts.  In each case no joystick is detected.  The stick is detected in USB Prober and works properly in other OS X software so I know it's generally compatible.

I'm using Kronenberg's build of 1.1.20 available here: http://www.kronenberg.org/darwine/

Thanks!
-Nathan",2138,"1"
"WINE-13121","Sipru Installation Error","Installer doesn't starts. After that I installed it to a Windows machine & tried to run it directly from the installation folder...

Abort Message: Winhlp.32.exe

& it suddenly crashes",3,"0"
"WINE-24714","ProteoWizard: Unhandled marshal type 7","When trying to run proteowizard (http://sourceforge.net/projects/proteowizard/files/) for Win32 under wine to convert RAW files I've got the following error
  err:ole:CoInitializeEx Attempt to change threading model of this apartment from multi-threaded to apartment threaded
  err:ole:marshal_object object doesn't expose interface {00000126-0000-0000-c000-000000000046} failing with error 0x80004002
  err:ole:ClientIdentity_QueryMultipleInterfaces IRemUnknown_RemQueryInterface failed with error 0x80004002
  err:ole:serialize_param Unhandled marshal type 7.
  err:ole:deserialize_param No handler for VT type 7!

This software uses vendor COM component to read RAW files (http://sjsupport.thermofinnigan.com/public/detail.asp?id=624) via .NET interop.

System is ArchLinux x86-64 wine 1.3.4 running with WINEARCH=WIN32 dotnet20 and vcrun2008 installed. 

I can provide a log file but this particular example of marshalling error is pretty field-specific whereas the problem is very generic.",1,"0"
"WINE-8867","Oblivion water lacks any shader effects","The water outside seems to be lacking any form of shader effects and is almost
just a flat shade of blue other than the lighting which does seem to influence
the water (which means it doesn't look a single solid flat colour).",920,"1"
"WINE-8026","Photoshop 6 or 7 layers tab drawn without buttons initially","(This was mentioned in passing as part of bug 4729.)

To reproduce:  In Photoshop 6 or 7 (and other versions as well)
open with default settings and look at the bottom of the layer
panel on the right side of the screen.
There should be buttons there but there aren't any!
They reappear when you toggle that panel to a different mode briefly
by clicking Windows / Show Paths and then Windows / Show Layers
or by clicking on the Paths tab and then the Layers tab.

(I haven't verified those buttons are present when running on MS Windows
but it seems likely.)",138,"0"
"WINE-9699","Diablo 2 LoD crash","Created attachment 8121
the complete error log

After playing about 10 min the game crash. I had this behavior about five times.

Maybe the error messages have something to do with it:
err:d3d_surface:IWineD3DSurfaceImpl_LockRect The surface already has PBO memory allocated!

Shortly before the crash is a very big performance reduction. Generally the performance is worser then in 0.9.44. I guess it is because of the error messages.",2,"0"
"WINE-23455","FileAlyzer 1.6.0.4 Affinity-installer-1.6.5.123 can't load PE images (needs imagehlp.ImageLoad and imagehlp.ImageUnload implementation)","Created attachment 29272
Console output

Using Filealyzer with wine on DLLs or EXE Files causes an internal application error (see screenshot) in Filealyzer. 
This happens with any DLL or EXE File.
It doesn't happen on Windows XP (SP2) though.",3190,"1"
"WINE-38492","vcrun2008 does not install via Winetricks under Kubuntu 15.04.  Works in Kubuntu 14.04.","Launch Winetricks.
Select Select the default wineprefix
Select Install a Windows DLL or component
Select vcrun2008
Error message:

Installation package could not be opened.
Contact the application vendor that this is a valid Windows Installer package

Note: Command 'wine vcredist_x86.exe' returned status 84. Aborting",72,"0"
"WINE-30484","rFactor 2 launcher UI does not detect machine setup","Created attachment 39865
WINEDEBUG=+trace wine Launch rFactor.exe &>~/rf2-trace.log

Game is currently in beta devel (current build v0.69) -- one can use/participate with the beta release on the condition that you are prepared to pre-purchase a usage license. That purchase must be made via facilities built into the game launcher UI however this is not working for us with the 'Purchase' page of the launcher always displaying the error text of 

A detectable CPU permanent storage device and Ethernet or wireless (802.11) card are required to purchase the simulation. Currently this application cannot detect these components. If these components are available and you believe this message is an error please contact support@rfactor.net 

...and as such one cannot purchase a license. I did actually email the support email cited but the reply was merely a 'seems wine is not compatible' type of
answer. Other functions of the launcher UI seemingly work including the config utility (which does detect GPU setup).

Issue can be reproduced by downloading/installing the latest beta offering from the following URL starting it and clicking on the 'Purchase' tab in the UI 

 http://isiforums.net/f/showthread.php/1396-Downloads

*attached a +trace log being the result of such a procedure",775,"0"
"WINE-44941","Bioshock Remastered doesn't start in windowed mode","Created attachment 61046
log for bioshock remastered opening in steam (with -windowed option)

Bioshock Remastered with the -windowed flag (set as a steam launch option) should start in windowed mode but doesn't. Changing to windowed mode from within the game works fine. Doesn't work on 3.5-devel (ubuntu) and 3.5 staging (gentoo). The flag works on Windows 8.1.",301,"0"
"WINE-9194","An old ~/.wine produce a crash in comdlg32PringDlgA","Start the game and it crashes almost immediately with a bad pointer deference.
This problem did not happen with 0.9.41. (With 0.9.41 it dereferenced a
different bad pointer in the printer driver code and crashed somewhere else.)",68,"0"
"WINE-6188","Deselecting the Tcl/Tk feature of the Python 2.4.3 installer results in pythonw.exe not being installed","If you run msiexec /i python-2.4.3.msi press next press next again deselect
the Tcl/Tk feature then press next to install pythonw.exe does not install. 
The problem is that the pythonw.exe component which contains the pythonw.exe
file belongs to both the DefaultFeature feature and the TclTk feature.  When we
deselect the TclTk feature we mark the pythonw.exe component as not being
installed.  The fact that it's still marked as install by the DefaultFeature is
being ignored.",8,"0"
"WINE-31799","Monkey Island Special Edition (Steam): MISE.exe has encountered a serious problem and needs to be closed (XAudio2 not installed)","Created attachment 41831
Error log when trying to start Monkey Island SE from Steam Client

Steam Client has been installed (in its own wineprefix) by means of winetricks and it runs smoothly. Monkey Island SE has been restored from a backup (previously generated by Steam Client).

When MISE is launched a blank screen shows up plus a window with the message:MISE.exe has encountered a serious problem and needs to be closed.
Attached is the error log.

Hardware: Intel Core2 Duo E6750 P35 chipset nVidia GTX 550ti.
OS: Ubuntu 12.04
wine 1.5.13",565,"0"
"WINE-36050","Dragon NaturallySpeaking 12.x crashes on unimplemented function msvcr100.dll._wcsupr_l","Hello folks

split off from bug 36001

--- snip ---
Unhandled exception: unimplemented function msvcr100.dll._wcsupr_l called in 32-bit code (0x7b83acfe).
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:0063 GS:006b
 EIP:7b83acfe ESP:0032e914 EBP:0032e988 EFLAGS:00200283(   - --  I S - - -C)
 EAX:7b826bf9 EBX:7b8b6000 ECX:f6a8b6bf EDX:0032e93c
 ESI:80000100 EDI:001b0c20
...
Backtrace:
=>0 0x7b83acfe in kernel32 (+0x2acfe) (0x0032e988)
  1 0xf6a878e8 in msvcr100 (+0x678e7) (0x0032e9c8)
  2 0xf6a2d77d in msvcr100 (+0xd77c) (0x0032eaf0)
  3 0x220847de in dd10shrd (+0x847dd) (0x0032eaf0)
  4 0x00010052 (0x00010052)
0x7b83acfe: subl	$4%esp
Modules:
Module	Address			Debug info	Name (175 modules)
PE	  370000-  380000	Deferred        lhsp01
PE	  380000-  3af000	Deferred        lhcom02w
PE	  400000-  c40000	Deferred        natspeak
PE	 1000000- 10d7000	Deferred        ipworksssl8
PE	10000000-100e1000	Deferred        ipworks8
PE	20000000-20012000	Deferred        dd10scrp
PE	21000000-21020000	Deferred        dd10trob
PE	22000000-222de000	Export          dd10shrd
PE	24000000-24690000	Deferred        dd10renx
PE	2b000000-2b04c000	Deferred        dd10hook
...
ELF	f6a06000-f6ac5000	Dwarf           msvcr100
  \-PE	f6a20000-f6ac5000	\               msvcr100
...
Threads:
process  tid      prio (all id:s are in hex)
00000008 (D) C:\Program Files (x86)\Nuance\NaturallySpeaking12\Program\natspeak.exe
	00000028    0
	00000024    0
	00000009    0 <==
...
--- snip ---

Regards",9,"0"
"WINE-42550","Photoshop CC 2017: Installation Error (needs FileAccessInformation info class)","Created attachment 57454
Install Log

Using this Installer:
https://download-esd.adobeoobe.com/AdobeProducts/eca60e6c-1f05-41de-bf6b-aeef2bc46205/PHSP/18.0/win32/AdobePhotoshop18-mul.zip
sha1: 329402f2358b8db7c01c405993a1e5d75ea6a468
it gets to about 30 % then throws an 'unknown error' with code 1.",617,"0"
"WINE-2784","Mouse movement slows down game","When playing the game Tiberian Sun
everytime you move your mouse the game slows down dramaticly.
When the mouse is off the screen or when you just the leave the mouse at one
location the game runs at normaal speed.

When you place the mouse above a unit/building (causing the cursor to change)
the game slows down again",2562,"1"
"WINE-28617","FlatOut 2 v1.2 crashes on launch (audio related)","Created attachment 36768
plain terminal output

FlatOut2 v1.2 crashes right after starting when DirectSound is selected as sound output in the game configurator (that's the default setting).
Strictly speaking this is not a regression: the game always crashed in former Wine versions as well when Alsa was set to emulation.
Now that Directsound hardware acceleration has been removed from Wine the crash is reproducible 'out-of-the-box'.

Workaround: need to select 'Windows Multimedia Waveout' option in the launcher (instead of the default DirectSound).

I can't reproduce the problem in the demo which is an older version of the game (1.1). The demo starts fine in current git (wine-1.3.29-245-g895b48e) even if DirectSound is selected in the launcher.

The result of the regression test:
8258a5188cc36563809ac7495e49bc43ae4326e4 is the first bad commit
commit 8258a5188cc36563809ac7495e49bc43ae4326e4
Author: Andrew Eikum 
Date:   Fri Sep 23 15:03:51 2011 -0500

    winealsa.drv: Remove wave mixer and dsound driver code.

:040000 040000 e34e9dab6f585755d23f4cad91d4af6dc37b786b bf2a47c73bcdd75db339177384a4d566c4fa41e6 M	dlls

wine-1.3.29-245-g895b48e
Fedora 15 x86
Alsa 1.0.24
Pulseaudio is not running",10,"0"
"WINEHQ_APPS_DATABASE-21030","Deleted entries do not return 404 (Not Found)","It says You do not have permission to view this entry to an ordinary / anonymous user.",2533,"1"
"WINE-1561","Freebsd not compatible with winsock","I am using FreeBSD 4.8 Stable and the latest version of wine
my connection is ADSL using ppp tunnel ( the standard pppOE connection on 
FreeBSD)
I tried several applications like mIRC Kazaa winMX and when it's trying to 
connect to any server it just hungs up the application i guess in sort of way 
the windows application cannot find my tcp connections",187,"0"
"WINE-12078","Spellborn: Crashes on launch with Init: CheckDepthStencilMatch failed. (D3D_OK)","Crashes on launch after updating to latest git.",1,"0"
"WINE-21231","program 4 elements won't start","The program 4 elements won't start and gives errormessages. The command which I started the program from the commandline:
env WINEPREFIX=/home/pieter/.wine wine C:\Programma Bestanden\4 Elements\4 Elements.exe 

Then the wine window opens and a window with an errormessage is displayed. In the console a whole lot of text is being displayed (see attachment).

In other programs (Call of Atlantis) it seems the right videocard description should be given to wine or the program. See:
http://bugs.winehq.org/show_bug.cgi?id=20793

So I give some of my machinedetails:
user@tux-2:~$ lsb_release -a
No LSB modules are available.
Distributor ID:	Ubuntu
Description:	Ubuntu 9.04
Release:	9.04
Codename:	jaunty

user@tux-2:~$ uname -a
Linux tux-2 2.6.28-17-generic #58-Ubuntu SMP Tue Dec 1 18:57:07 UTC 2009 i686 GNU/Linux

Laptop: Acer Extensa 5220
GRAPHIC CARD
	VGA controller
		Intel Corporation Mobile GM965/GL960 Integrated Graphics Controller (rev 03)
		Subsystem: Acer Incorporated [ALI] Device 011f",899,"1"
"WINE-1669","Registry install failed","./tools/wineinstall: line 645:  6811 Segmentation fault      $REGEDIT $DEFREG
>/dev/null",139,"0"
"WINE-28573","user32/cursoricon.ok failed","On my i7 last night I saw the following failure:

../../../tools/runtest -q -P wine -M user32.dll -T ../../.. -p user32_test.exe.so cursoricon.c && touch cursoricon.ok
fixme:cursor:GetCursorFrameInfo Second parameter non-zero (57005) please report this!
...
fixme:cursor:GetCursorFrameInfo Second parameter non-zero (57005) please report this!
cursoricon.c:2139: Test failed: wrong info cursor 0x2003a/(nil)
cursoricon.c:2171: Test failed: wrong info cursor 0x2003a/(nil)
cursoricon.c:2188: Test failed: wrong info cursor 0x2003a/(nil)
make: *** [cursoricon.ok] Error 3

I've only seen this once so far.  Filing report partly because
the fixme asked for it.",1234,"1"
"WINE-24683","Upper left corner of Epicenter setup heading is corrupt.","Created attachment 31195
Epicenter setup in wine

Epicenter setup heading in the top left. You can see it renders the text twice is not in italic and has some white underneath the text.
Terminal Output:
fixme:win:DisableProcessWindowsGhosting : stub",236,"0"
"WINE-2747","Fonts in Picasa 2 are corrupted (fix submitted already)","Many of the fonts used by the Picasa 2 application are corrupted.  This appears
to be a problem with the GetGlyphOutline() function and is corrected by this patch:

http://www.winehq.com/hypermail/wine-patches/2005/01/0455.html

The provided URL shows pictures of how the fonts looks on Wine before and after
applying the patch.",8,"0"
"WINE-25281","VLC 1.1.5 fails to install in Vista mode","In Vista mode VLC 1.1.5 claims Unable to elevate error 1.

err:ntdll:NtQueryInformationToken Unhandled Token Information class 18!
err:ntdll:NtQueryInformationToken Unhandled Token Information class 18!
err:ntdll:NtQueryInformationToken Unhandled Token Information class 18!

Works fine in XP mode.",3,"0"
"WINE-2443","power point 97 viewer crashes","install the powerpoint viewer 97 from ms 
and go to a foldar with lots of directories and use the slide bar 
to see more files. Power point will crash or stop working.",397,"0"
"WINE-27625","Panzer General 3D Demo: second scenario fails to load","After winning the first scenario in the demo loading the second scenario does not work. The loading screen simply hangs. I can provide a savegame if it would speed up testing.",1007,"1"
"WINE-17201","No add-ins loadable in Office 2003 PowerPoint","Created attachment 19105
Powerpoint plugin

In the Add-Ins Dialog in PowerPoint (Tools->Add-Ins) the List box is only if view pixels high. Adding of Add-Ins is not possible:

When clicking on Add new a file dialog appears
PowerPoint add-in (.ppa file) is chosen
OK
File dialog closes but nothing happens. Buttons of the dialog box are not activited no entry in the list no entry is added in the respective registry hive.

OS is OpenSuse 10.3
Wine-Version 1.1.13
I did a typical installation of Office 2003

Add-in I try to load is attached

Hope somebody can help me

best regards

Frank",1119,"1"
"WINE-16649","configure isn't recognizing OpenSSL on OpenBSD","Got bored over winter break and someone asked on wine-users if wine works on OpenBSD. Seems it needs quite a bit of work. I've sent a patch for the first issue:
http://www.winehq.org/pipermail/wine-patches/2008-December/066746.html

Next up configure isn't picking up OpenSSL. Checking google seems OpenBSD splits openssl into two parts:
http://archives.neohapsis.com/archives/openbsd/2003-05/1983.html

The below hack lets configure detect it but I'm not sure how to incorporate this properly into configure.ac. Doesn't seem to help the build either...

diff --git a/configure b/configure
index 6381aed..0a9a407 100755
--- a/configure
+++ b/configure
@@ -157677 +157667 @@ if test ${ac_cv_lib_soname_ssl+set} = set then
   echo $ECHO_N (cached) $ECHO_C >&6
 else
   ac_check_soname_save_LIBS=$LIBS
-LIBS=-lssl  $LIBS
+LIBS=-lssl -lcrypto  $LIBS
   cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF",1558,"1"
"WINE-32926","PPTV 3.2.1 crashes after installation","Created attachment 43484
The Log

This is a follow up of Bug 32808 .

reproduce follow this:
0. download it  
1. 'winetricks -q mfc42 jscript quartz' get workarounds for: Bug 32498 and Bug
32499 
2. 'wine pptvsetup_3.2.1.0076.exe' 

- Ubuntu 12.10.1 32bit
- wine 1.5.23",1038,"1"
"WINE-21822","Creative Writer 2's interface is discolored unless running at 8-bit color depth","Created attachment 26412
Terminal output

I thought I'd see how this old program works with Wine and it turns out that most of the interface is the wrong colors. The program's messages are unreadable because the black text appears on a black background and the rest of the interface is mostly red and black. However it displays correctly if Xephyr is used to run the program at 8-bit color depth. I tried it in an older version and found that this is a regression:

77b9b8a307711bd1f6da30f7d2d5e04faa3f5092 is first bad commit
commit 77b9b8a307711bd1f6da30f7d2d5e04faa3f5092
Author: Alexandre Julliard 
Date:   Wed Sep 30 20:39:51 2009 +0200

    winex11: Move the DIB locking and the client-side optimizations into BITBLT_InternalStretchBlt.

    This way they also apply to the non-stretching StretchBlt case.

:040000 040000 5258f614d1fbad21afb6b17eed2620efdc8bd430 f94133cfd7d440fe9ac4e51c5d9d934795ae1125 M        dlls

Both the trial and retail version are affected. I'll attach good and bad screenshots of the program shortly.

There are other open regressions created by this commit - bug 20565 and bug 21067 - but I don't know whether this is exactly the same problem as one of those or not.",576,"0"
"WINE-27683","4nec2x: error message and crash when opening 3d window for second time","In http://forum.winehq.org/viewtopic.php?t=12714 a user reported
that on the free app 4nec2x from http://home.ict.nl/~arivoors
If I open the 3d window (by pushing F9) the performance is as is to be expected unless you close the 3d window before closing the rest of the session. You get the following error: 
ResizeWindowed--DX-error -2147467259:E_FAIL and a stop statement afterwards in a separate window. ... 
This does not occur if running Windoz 7 or XP Pro. It has done it for all versions of Wine up to my now 1.3.23. It has done it on Mint 10 Mint 11 OpenSuse 11.3 Ubuntu 10.04 and Ubuntu 11.04. My NVidia drivers are latest and greatest.

I verified the app worked properly in win7 and reproduced the problem
in ubuntu 11.04 / wine-1.3.23 / GeForce GT 220 / 270.41.06
by starting the app pressing f9 closing the 3d window and pressing f9
again.  The log shows
fixme:d3d:wined3d_device_reset Cannot change the device window yet.
err:d3d:context_create Failed to retrieve a device context.
If you click through the app's error dialog you get a wine crash:

Unhandled exception: page fault on read access to 0x00000f28 in 32-bit code (0x4d8be61b).
Backtrace:
=>0 context_update_window+0xb(context=(nil)) [dlls/wined3d/context.c:782] 
  1 context_acquire+0x9b(device=0x41855c0 target=(nil)) [dlls/wined3d/context.c:1882]
  2 wined3d_device_uninit_3d+0x55(device=0x41855c0) [dlls/wined3d/device.c:1412] 
  3 IDirect3DDevice8Impl_Release+0xc7(iface=0x417d778) [dlls/d3d8/device.c:317] 
  4 0x6a9f93df in msvbvm60 (+0x293de) (0x0032f904)",942,"1"
"WINE-41869","Wine is not compiling: undefined reference to 'HIDIOCSFEATURE'","Created attachment 56272
log file

undefined reference to `HIDIOCSFEATURE'

my system
command: ldd --version
ldd (GNU libc) 2.10.1

command: uname -r
3.0.66

command: gcc --version
gcc (GCC) 4.3.4",23,"0"
"WINE-3369","Civilization 3 crashes while starting a new game","If I try to run Civilization 3
the intro videos play and I see the main menu.

If I select to start a new game I see the map generator
and them when clicking to generate the map and start the game
the application crashes.

Here is the full output:
------------------------------------------------
[komi@phobos Civilization III]$ wine Civilization3.exe 
fixme:x11drv:X11DRV_desktop_SetCurrentMode Cannot change screen BPP from 32 to 16
fixme:font:CreateScalableFontResourceA (0LSANS.fotLSANS.TTFC:\\Program
Files\\Infogrames\\Civilization III): stub
fixme:font:CreateScalableFontResourceA (0LSANS.fotLSANS.TTFC:\\Program
Files\\Infogrames\\Civilization III): stub
err:opengl:X11DRV_ChoosePixelFormat Flag not supported !
fixme:ddraw:Main_DirectDraw_SetCooperativeLevel (0x7bb95858)->(0002002200000008)
wine: Unhandled exception (thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: divide by zero in 32-bit code (0x00563fd8).
In 32 bit mode.
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:1007 GS:0033
 EIP:00563fd8 ESP:7fc53538 EBP:00000000 EFLAGS:00010202(   - 00      - -RI1)
 EAX:00000051 EBX:00000040 ECX:7fc595b4 EDX:00000000
 ESI:7fc58fe0 EDI:00000000
Stack dump:
0x7fc53538:  80000200 7fc58910 7fc595b4 00000020
0x7fc53548:  005641ad 80000200 7fc5624c 7fc58fe0
0x7fc53558:  00579836 7fc53a44 00000295 00000094
0x7fc53568:  00000000 00000013 7fc5624c 00000001
0x7fc53578:  00000094 00000295 005792de 00000013
0x7fc53588:  00000064 0000007c 7fc5624c 00000000
0200: sel=1007 base=7fffe000 limit=00001f97 32-bit rw-
Backtrace:
=>1 0x00563fd8 in civilization3 (+0x163fd8) (0x00000000)
0x00563fd8: idivl       0x70(%ecx)%eax
Modules:
Module  Address                 Debug info      Name (83 modules)
ELF     0x001dc000-001f8000     Deferred        ld-linux.so.2
ELF     0x001fa000-00323000     Deferred        libc.so.6
ELF     0x00325000-0034a000     Deferred        libm.so.6
ELF     0x00325000-0034a000     Deferred        libm.so.6
ELF     0x0034c000-00350000     Deferred        libdl.so.2
ELF     0x00352000-00365000     Deferred        libz.so.1
ELF     0x00352000-00365000     Deferred        libz.so.1
ELF     0x00367000-0043b000     Deferred        libx11.so.6
PE      0x00400000-00881000     Export          civilization3
PE      0x00400000-00881000     Export          civilization3
PE      0x00400000-00881000     Export          civilization3
PE      0x00400000-00881000     Export          civilization3
PE      0x00400000-00881000     Export          civilization3
PE      0x00400000-00881000     Export          civilization3
PE      0x00400000-00881000     Export          civilization3
PE      0x00400000-00881000     Export          civilization3
PE      0x00400000-00881000     Export          civilization3
PE      0x00400000-00881000     Export          civilization3
PE      0x00400000-00881000     Export          civilization3
PE      0x00400000-00881000     Export          civilization3
PE      0x00400000-00881000     Export          civilization3
PE      0x00400000-00881000     Export          civilization3
ELF     0x008b3000-0092e000     Deferred        libgl.so.1
ELF     0x00a5b000-00a6e000     Deferred        libresolv.so.2
ELF     0x00a75000-00b82000     Deferred        libcrypto.so.5
ELF     0x00bd1000-00bf0000     Deferred        libcups.so.2
ELF     0x00bf8000-00bfb000     Deferred        libkrb5support.so.0
ELF     0x00bfd000-00c21000     Deferred        libk5crypto.so.3
ELF     0x00c77000-00c81000     Deferred        libgcc_s.so.1
ELF     0x00c83000-00c8c000     Deferred        libsm.so.6
ELF     0x00c8e000-00ca8000     Deferred        libice.so.6
ELF     0x00df9000-00dfe000     Deferred        libxxf86vm.so.1
PE      0x10000000-10066000     Deferred        jgl
ELF     0x2028e000-20299000     Deferred        libnss_files.so.2
ELF     0x20299000-20331000     Deferred        gdi32
  \-PE  0x202b0000-20331000     \               gdi32
ELF     0x20331000-20376000     Deferred        advapi32
  \-PE  0x20340000-20376000     \               advapi32
ELF     0x204c0000-204df000     Deferred        ximcp.so.2
ELF     0x204df000-204fe000     Deferred        imm32
  \-PE  0x204f0000-204fe000     \               imm32
ELF     0x2055e000-20630000     Deferred        shell32
  \-PE  0x20580000-20630000     \               shell32
ELF     0x20630000-206cc000     Deferred        ole32
  \-PE  0x20650000-206cc000     \               ole32
ELF     0x206cc000-2071b000     Deferred        rpcrt4
  \-PE  0x206e0000-2071b000     \               rpcrt4
ELF     0x20988000-209cd000     Deferred        wineoss.drv
  \-PE  0x209a0000-209cd000     \               wineoss.drv
ELF     0x209cd000-209f2000     Deferred        msacm32
  \-PE  0x209e0000-209f2000     \               msacm32
ELF     0x209f2000-20a85000     Deferred        comdlg32
  \-PE  0x20a00000-20a85000     \               comdlg32
ELF     0x20cb0000-20d31000     Deferred        ddraw
  \-PE  0x20cd0000-20d31000     \               ddraw
ELF     0x222f0000-22378000     Deferred        winex11.drv
  \-PE  0x22300000-22378000     \               winex11.drv
ELF     0x2b149000-2b1ac000     Deferred        shlwapi
  \-PE  0x2b160000-2b1ac000     \               shlwapi
ELF     0x2f07d000-2f092000     Deferred        midimap
  \-PE  0x2f080000-2f092000     \               midimap
ELF     0x2fa15000-2fa2e000     Deferred        msacm.drv
  \-PE  0x2fa20000-2fa2e000     \               msacm.drv
PE      0x30000000-30059000     Deferred        binkw32
ELF     0x32d37000-32d64000     Deferred        winspool.drv
  \-PE  0x32d40000-32d64000     \               winspool.drv
ELF     0x394bb000-39586000     Deferred        comctl32
  \-PE  0x394d0000-39586000     \               comctl32
ELF     0x4007d000-4007f000     Deferred        xlcutf8load.so.2
ELF     0x4a4c0000-4a566000     Deferred        opengl32
  \-PE  0x4a500000-4a566000     \               opengl32
ELF     0x55a2d000-55ab1000     Deferred        winmm
  \-PE  0x55a40000-55ab1000     \               winmm
ELF     0x5d103000-5d124000     Deferred        iphlpapi
  \-PE  0x5d110000-5d124000     \               iphlpapi
ELF     0x6dfd1000-6e053000     Deferred        ntdll
  \-PE  0x6dff0000-6e053000     \               ntdll
ELF     0x7810b000-782e8000     Deferred        i915_dri.so
ELF     0x786e5000-78824000     Deferred        user32
  \-PE  0x78710000-78824000     \               user32
ELF     0x78d34000-78e53000     Deferred        kernel32
  \-PE  0x78d60000-78e53000     \               kernel32
ELF     0x7bf00000-7bf03000     Deferred        
Threads:
process  tid      prio (all id:s are in hex)
00000008 (D) C:\Program Files\Infogrames\Civilization III\Civilization3.exe
        0000000a    0
        00000009    0 <==
WineDbg terminated on pid 0x8
------------------------------------------------

The last FIXME appears before the main menu comes up.
Then I can navigate in the menu without errors or fixme's.

My System:
Intel P4 HT with 3.2 GHz
1024 MB RAM
Intel i810 onBoard graphics chip
Fedora Core 4 with 2.6.12 and 2.6.13 kernel

I have also submitted a version report to the appdb:
http://appdb.winehq.org/appview.php?versionId=3408",679,"0"
"WINE-6502","World of Warcraft - NVidia flicker & display bug.","Wine 0.9.23 from Ubuntu repository.
	* No manual registry entries.
	* No custom patches applied.
	* No original version of Windows.
Ubuntu 6.06LTS
	* NVidia GEForce 6600GT AGP 128MB
	* AMD Athlon 64 2800 Socket 754
	* ABit KV8 Pro
	* 1.5GB PC-3200 DDR RAM

World of Warcraft 1.12.1 (5875) (Release)
	* Launched using: wine 'C:\Program Files\World of Warcraft\WoW.exe '-opengl

Problem:
When WoW is run using OpenGL mode a problem with flickering graphics presents
itself.  On my machine I have also noticed that there is no 3D graphics
anywhere at all.  The only thing rendered on the screen are UI controls menus
and other 2D visuals.


Steps:
Run WoW using the command line above.  Issue is right away noticeable.


Notes:
o A workaround patch was created by someone who seemed to understand the
problem.  The following link will offer a copy of it however the WoW appdb page
contains a posted copy of it as well:
http://rapidshare.de/files/36686174/wow_patch_nvidia_flicker_fix_0.9.23.diff.html
o I have included a screenshot which obviously won't depict the flickering
issue but does exhibit the missing 3D visuals.
o Obviously it is desirable to be able to run WoW in OpenGL mode as opposed to
DirectX as it offers an opportunity to greatly improve performance.",14,"0"
"WINE-24465","Installer of Adobe Photoshop CS4 bootstrapper fails","Created attachment 30867
diff of installer logs

With wine-1.3.2 after applying the workaround from bug #24365 Adobe CS4 fails to install. Its log says:

Installation result: 1603
[      16] Sun Sep 19 15:50:25 2010 ERROR
2

Bootstrapper failed to install

Attaching diff of installer logs between wine-1.1.17 (works) and wine-1.3.2 (doesn't).",723,"0"
"WINE-10332","Irfanview crashes in thumbnail mode when previewing certain text file","Created attachment 8998
file in folder makes irfanview's thumbnail browser crash

Normal thumbnail browse mode is fine. However when I enter a directory with a certain file in it (attached as nautilus-debug-log.txt) IrfanView crashes. Other files (images text files) are fine. I have been unable to get a backtrace gdb won't let me since the application exits with 01 status and winedbg doesn't return to its shell after I typed run once. It's an X error so maybe wine catches the error condition and gracefully shuts down.

The X error output is also attached.",2470,"1"
"WINE-16525","Angels Online: Black screen in windowed mode.","Created attachment 17980
Log when run windowed.

When Angels Online is run windowed the default mode the window is completely black. When it's run fullscreen it displays fine.",285,"0"
"WINE-4204","GTA2 don't work","When trying GTA2 (using wine GTA2.exe or launching by GTA2 manager) the game
start emit a sort of sound and crash.

0000000b (D) C:\Program Files\Rockstar Games\GTA2\gta2.exe
        00000017    0
        00000014    0
        00000013   15
        00000010   15
        0000000e    0
        0000000c    0 <==
00000008
        00000009    0
WineDbg terminated on pid 0xb
fixme:dplay:DP_IF_DestroyPlayer (0x7fdf1478)->((nil)0x000000000): semi stub",346,"0"
"WINE-43716","freetype 2.8.1 breaks Wine build during font conversion with sfnt2fon","Distribution: Arch Linux
freetype2 2.8.1-1
wine 2.17-1


The command
`../tools/sfnt2fon/sfnt2fon -o coue1255.fon ../../wine/fonts/courier.ttf -d 128 1312558`
fails with: Error: Cannot open face ../../wine/fonts/courier.ttf

The file courier.ttf exists.
The error returned by FT_New_Face is 0x8 (Invalid_Table).

Reverting this freetype commit https://git.savannah.gnu.org/cgit/freetype/freetype2.git/commit/?id=ce367774d20072018d46bfe26f7c7b823dfad79c fixes the issue. Only the changes in src/sfnt/sfobjs.c are relevant.
face->header.Units_Per_EM had the value 13 when displayed in gdb.",9,"0"
"WINE-5590","Blue faces in HL 2","Certain faces in HL2 appear with strong blue tint.  Also it seems several
objects are over exposed and appear very white.  

This is the output from the game if that has any relation:

Reference Count for Material __lookupviewpanel (1) != 0
Reference Count for Material vgui/zoom (5) != 0
Reference Count for Material effects/tp_eyefx/tpeye3 (2) != 0
Reference Count for Material effects/tp_eyefx/tpeye (2) != 0
Reference Count for Material effects/tp_eyefx/tpeye2 (2) != 0
Reference Count for Material sprites/scanner_dots1 (1) != 0
Reference Count for Material sprites/scanner_dots2 (1) != 0",512,"0"
"WINE-26237","EVE-Online Crashes when applyling any setting in options menu","Created attachment 33436
command line log from the crash.

Game crashes after each setting applied in options menu. Some settings does apply but some does not.

Running on a G62-440 HP laptop with Archlinux latest stable kernel and latest wine. 

This happens on all of my setups including Intel nVidia and AMD gpus.
This crash was on a AMD 6370M GPU running latest Catalyst 11.2

Best Regards",151,"0"
"WINE-11021","Unable to launch Universal Combat","Created attachment 10017
Error messages from wine

I downloaded and installed Universal Combat
from the given url.

After I first launched the game it claimed
that d3dx9_25.dll could not be found.

So I downloaded it from this url:
http://www.dll-files.com/dllindex/dll-files.shtml?d3dx9_25

I moved it to:
~/.wine/drive_c/Programme/3000AD/Universal Combat/

I launch the game with this command:
cd ~/.wine/drive_c/Programme/3000AD/Universal\ Combat
env WINEDEBUG=fixme-all WINEPREFIX=~/.wine wine C:\Programme\3000AD\Universal Combat\uc.exe

The game has to be launched from the install directory
because otherwise it claims the the config files
can not be found.

After executing the command sometimes a black game window
appears without changing and sometimes it does not.

But the error messages from wine are always the same
and can be found in the attachment.

Can someone confirm this bug or present a fix?",1129,"1"
"WINE-38689","Duke Nukem Forever: intense flickering screen covered with grey","When I get in the game the screen is filled with solid grey color only the HUD and subtitles can be seen (menus and the loading screen are not affected).
Moreover the screen is flickering so badly that it's unbearable to look at.

Enabling StrictDrawOrdering helps get rid of the grey overlay but the flickering still remains.

Neither the grey overlay nor the heavy flickering is present with the CSMT patchset.

Native d3dx9_36 is installed.

Relevant lines in the terminal:

fixme:win:EnumDisplayDevicesW ((null)00x33a7180x00000000) stub!
fixme:win:EnumDisplayDevicesW (L\\\\.\\DISPLAY100x33ab580x00000000) stub!
fixme:d3d:debug_d3dformat Unrecognized 0x34324644 (as fourcc: DF24) WINED3DFORMAT!
fixme:d3d:wined3d_get_format Can't find format unrecognized (0x34324644) in the format lookup table
fixme:d3d:wined3d_device_set_software_vertex_processing device 0x18049590 software 0 stub!
fixme:d3d:wined3d_swapchain_set_gamma_ramp Ignoring flags 0x1.
fixme:d3d:wined3d_occlusion_query_ops_get_data 0x27924280 Wrong thread returning 1.
fixme:d3d:wined3d_occlusion_query_ops_get_data 0x279243e0 Wrong thread returning 1.
fixme:d3d:wined3d_occlusion_query_ops_get_data 0x279242d8 Wrong thread returning 1.
fixme:d3d:wined3d_swapchain_set_gamma_ramp Ignoring flags 0x1.


wine-1.7.44-69-g8d4f568
Fedora 21 x86
Nvidia binary drivers 340.76",1129,"1"
"WINE-19047","Assertion failure at listview.c:2741","Created attachment 21968
wine log demonstrates the issue

Using RegCleaner 4.3 Build 780 is impossible because of different memory access violations and wine assertion failures (see bug 19046).
Attached wine log demonstrates one of these failures.
It's hard to reproduce this exactly same way because of random memory access violations (which makes this report almost senseless I understand) but general recommendation is to play around with list in the program's main window and operate with menu only (!) using keyboard shortcuts.",11,"0"
"WINE-24067","Overlord 2 Demo shows incorrect shadows and transparent persons","Created attachment 30260
chars are semi transparent (wrong) - background shadows also

After fixing bug 21154 game runs but some characters are semi-transparent and shadows do not lay on the ground but over my character etc. Attachments show that better.

I guess it doesn't make sense to run bisect because Overlord2 was kept broken for too long (since 1.1.35 till 1.3.0-276-g0b24db5). Henry i added you to CC just for case that fix in bug 21154 needs just a little tuning ) If not feel free to remove yourself from CC.",314,"0"
"WINE-26305","Majesty 2 fails to start","Created attachment 33529
terminal output

The game (Majesty 2 The Fantasy Kingdom Sim) crashes shortly after starting during the loading stage.

1de6adfbae7ac36c6649aab209d1a62a64e80465 is the first bad commit
commit 1de6adfbae7ac36c6649aab209d1a62a64e80465
Author: Henri Verbeet 
Date:   Tue Mar 1 09:47:56 2011 +0100

    wined3d: Make IWineD3DResourceImpl an independent structure.

Fedora 14
Nvidia GeForce 250 GTS / driver 260.19.36

Note: 'err:d3d:resource_init Out of adapter memory' was always present in the log for me but it didn't cause problems: I was able to play the game for hours without any side effects. I set the VideoMemorySize registry key to '512' but that line was still present in the log.

I have the following native overrides for the game: vcrun2005 d3dx9_36.",3,"0"
"WINE-42744","Ninite don't installs apps","Created attachment 57748
debug-log

Ninite is service and utility for auto-installation of apps. Installator which i downloaded from service can download applocations installators but can't installed they.",47,"0"
"WINE-13709","data guardian refuses to install first time works after a second attempt","I am attempting to install http://www.koingosw.com/downloads/windows/data_guardian.exe and received error messages in attachment.",2,"0"
"WINE-44183","regedit/tests fail when run with limited user account","This is currently visible in test results page http://test.winehq.org/data/tests/regedit.exe:regedit.html. Some tests are already skipped but still ~800 failures are reported.",16,"0"
"WINE-1788","KazaaLite: the program requires windows version 4.0.1212 or later","When I try run klitekpp243e.exe (kazaalite) 

I get a pop up window the program requires windows version 4.0.1212 or later

Could not stat /mnt/floppy (No such file or directory) ignoring drive A:
fixme:keyboard:X11DRV_KEYBOARD_DetectLayout Your keyboard layout was not
found!Using closest match instead (United States keyboard layout (phantom key
version)) for scancode mapping.
Please define your layout in dlls/x11drv/keyboard.c and submit them
to us for inclusion into future Wine releases.
See the Wine User Guide chapter Keyboard for more information.
fixme:win:SetWindowTextA cannot set text Extracting of other process window
0x10021
Could not stat /mnt/floppy (No such file or directory) ignoring drive A:
fixme:keyboard:X11DRV_KEYBOARD_DetectLayout Your keyboard layout was not
found!Using closest match instead (United States keyboard layout (phantom key
version)) for scancode mapping.
Please define your layout in dlls/x11drv/keyboard.c and submit them
to us for inclusion into future Wine releases.
See the Wine User Guide chapter Keyboard for more information.",714,"0"
"WINEHQ_BUGZILLA-290","Add a link to the documentation in the side-bar","In the side bar we have a section called links that contains:
   CodeWeavers
   Wine
   App DB
   Wine HQ

I think it should contain a link to the documentation:
Documentation -> http://www.winehq.com/support.shtml

Maybe in this order:
   CodeWeavers
   Wine
   Wine HQ
   App DB
   Documentation",326,"0"
"WINE-151","dialog focus handling is not correct (e.g. in installers)","Many installers seem to have problems with their initial dialog
(no focus ...)

Roger Wilco's configuration wizard (property sheet imitation)
doesn't have a focus at all.
this configuration wizard has one dialog (cancel back next button main area)
encapsulating
*another* dialog. This seems to get messed up somehow and we end up with no
focus at all.
The key area to that clearly is the focus handling after WM_INITDIALOG in
DIALOG_CreateIndirect().
Note that Roger Wilco always returns FALSE for a WM_INITDIALOG indicating its
own focus
handling (which it obviously doesn't do).
Thus Wine jumps in and messes it up :)

Oh well after having spent some hours on this without a real solution (i.e. one
that doesn't just look
perfect in *this* case but apart from that busts any other program out there)
I think I'll just submit
Roger Wilco as one problem case.

If you get hold of some installer that has focus problems or other programs
then add them here please
in order to have a real collection of problem cases.",1725,"1"
"WINE-9454","Panzer General III Scorched Earth hang with seh:setup_exception nested exception","While normally playing in the battle screen the game hanged the music started to repeat a short fragment and the UI was unresponsive. The error printed was

err:seh:setup_exception nested exception on signal stack in thread 002b eip ffffe405 esp 7ffdd648 stack 0x241000-0x350000",1506,"1"
"WINE-24916","Soulbringer: crash in D3D Hardware mode","As stated in bug 11616 the game SEEMS to work but only in Software low detailed mode: when speaking about 'mode' I'm referring to an internal game mode selection.

The game has four execution mode they can be chosen by a menu during launch. Please note that I do not know the truly meaning of the mode itself but I reported them as the game name themselves.

Here follows the Wine report:

Wine 1.2 report ->

 Exec game mode: DirectDraw6 HAL -> not working black screen and return to desktop
 Exec game mode: D3D7 HAL -> not working black screen and return to desktop
 Exec game mode: D3D7 T&L HAL -> not working black screen and return to desktop
 Exec game mode: D3D7 RGB -> not working black screen and return to desktop
 Exec game mode: Software -> not working black screen and return to desktop

Wine 1.3.5 report ->

 Exec game mode: DirectDraw6 HAL -> black screen return to desktop but music in background so it seems that the game has launched
 Exec game mode: D3D7 HAL -> not working black screen and return to desktop
 Exec game mode: D3D7 T&L HAL -> not working black screen and return to desktop
 Exec game mode: D3D7 RGB -> not working black screen and return to desktop
 Exec game mode: Software -> IF I install native DCOM98 with winetricks -> the game works perfectly
 Exec game mode: Software -> IF I DO NOT install native DCOM98 with winetricks -> the game has a similar behaviour as DirectDraw6 HAL but in this case I have music and only a part of the first game menu's screen instead of black screen

I opened an issue to you as per point 6.6 of the Wiki Wine FAQ about DCOM anyway the best solution of course it's a fix of the hardware D3D mode. Please note that I've tried D3D mode both with Vertex Shader hardware On and Off.

Thank you and please ask me anything you may need to solve the problem.",2024,"1"
"WINE-27386","Atari800Win PLus 4.0: crashes before window appears","Created attachment 35011
Log from wine 1.2.3 running atari800win

Atari800Win PLus 4.0 - atari xl/xe series emulator - crashes just after start before window appears. 
Message fixme:d3d_caps:select_card_intel_mesa Card selection not handled for Mesa Intel driver can be found in attached log file.  
Previous version of Wine (1.2.2) works fine - application was 100% usable no problems found",557,"0"
"WINE-27736","Virtual Sailor 7 settings screen: boats and scenery options are unavailable","Created attachment 35490
Error Message Listing from Konsole

Virtual Sailor 7 fails to load options.  When it is run boats and scenery are not listed and null is the only option.  Upon running the game the water appears and that's all.  Error message attached.",1220,"1"
"WINE-10406","Missing surface textures in Titan Quest game v.1.3","Several surface textures are missing in this game probably due to the below mentioned bug: 
wine err:d3d_surface:surface_prepare_system_memory Surface without memory or pbo has SFLAG_INSYSMEM set!

I have created a .jpg to visualize this bug.

The bug was not shown in the err log proir to wine version 0.9.49 but the surfaces were missing anyway.


My system:
Athlon64 3800+ with kernel-2.6.23 / xorg-1.3
Geforce 7600GT with latest Nvidia driver version 100.14.23
2GB sys mem",876,"1"
"WINEHQ_APPS_DATABASE-34382","Nerf Arena Blast Demo link doesn't work","AppDB entry at: http://appdb.winehq.org/objectManager.php?sClass=version&iId=15654

contains an invalid link to download the demo. This is amore recent one:

http://www.fileplanet.com/29188/download/Nerf-Arena-v1.1-Demo",0,"0"
"WINE-26417","Starcraft 2 - DirectX Mouse Capture broken (fullscreen and windowed)","When playing starcraft 2 mouse capture seems to be broken in both windowed and fullscreen mode. Mouse capture is important in SC2 because moving the mouse to the border scrolls the screen. This seems to stem from two separate problems. 

Windowed mode: Since SC2 gives you more relative viewing area when running in widescreen mode I tried running in a widescreen window in my fullscreen monitor. However I can't get the mouse to stay inside the screen while playing either with the default mouse capture setting or setting wine to emulate a virtual desktop and using fullscreen mode in SC2. 

Fullscreen mode: When using dual-head mode (Twinview on nvidia) and playing SC2 at the native resolution of one of my monitors the mouse doesn't stay on that monitor. It still jumps over to the other monitor whichever side it's attached to. This is annoying but not as bad as the first case since the mouse is captured on 3 sides.)

The mouse works fine when running in one monitor in fullscreen mode which is the only way to play at the moment.

To reproduce: run SC2 in windowed mode or in fullscreen mode with emulate virtual desktop or fullscreen mode with multiple monitors. Might be problem with the DirectInput emulation but I specified unknown since I'm not sure.",362,"0"
"WINE-1225","unable to compile ole","Bug comments restored from Gmane.org:

hello there
i get a compile error with the latest cvs-wine version.

compiling with gcc-3.1 on libc-2.2.5:

make[1]: Entering directory `/morespace/hdc/dl/wine/wine/ole'
gcc -c -I. -I. -I../include -I../include  -g -O2 -Wall
-mpreferred-stack-boundary=2 -gstabs+  -fPIC -D__WINESRC__ -D_REENTRANT
-o dx8guid.o dx8guid.c
In file included from dx8guid.c:26:
../include/winuser.h:2396: unnamed fields of type other than struct or
union are not allowed
../include/winuser.h:2409: unnamed fields of type other than struct or
union are not allowed
make[1]: *** [dx8guid.o] Error 1
make[1]: Leaving directory `/morespace/hdc/dl/wine/wine/ole'


------- Additional Comments From hughes2002  btinternet.com  2003-01-15
07:36 -------
I can confirm the same error occurs with GCC 3.1 and glibc-2.2.4. 
 
It is due to the nameless struct MONITORINFO which occurs in winuser.h. 
A temporary hack is to define -DNONAMELESSSTRUCT in the ole/Makefile. 
Doing this allows the compile to continue until it comes upon the next #include 
of winuser.h.  So far I've found it occurs in tools/bin2res tools/wrc
dlls/d3d8 and dlls/d3dx8 
and dlls/opengl32. 
Defining NONAMELESSSTRUCT in the appropriate .c file that includes winuser.h
also solves the 
problem on a smaller scale.


------- Additional Comments From marcus  jet.franken.de  2003-01-17 15:18
-------
confirmed. 
 
I submitted a patch to fix the MONITORINFOEX structs. 
 
The IDL structs are a bit weirder though.


------- Additional Comments From Steven_Ed4153  yahoo.com  2003-03-17 12:20
-------
This bug can be closed. I had this same problem on Mingw untill Marcus submited
his patch.",291,"0"
"WINE-26440","unimplemented function WS2_32.dll.GetNameInfoW","I'm running an IBM application a client called Content Manager OnDemand Client V. 8.5.

It works pretty well at least in the previous version and since the version 8.5.
I cannot connect to the server because it has at least one function missing from the Wine Implementation of WS2_32.dll.

The only log I have is the one in the summary.

I have tested it in Wine 1.3.14 but by looking at the source code of 1.3.15 the missing function... is still missing.

If you need more info please don't hesitate to contact me.

(I use Fedora 13 64bits in an Intel Proc Dual Core)

Cheers
Alessandro

PS: I hope the Severity is correctly set I was hesitating between Normal/Enhancement...",13,"0"
"WINE-27515","explorer http://www.google.com does not work.","In Windows if you type explorer http://www.google.com Windows open the default browser and launches the url.

In wine this feature does not work. Instead it just open file manager.",706,"0"
"WINE-42067","Disney Universe doesn't scale gamescreen properly","Created attachment 56559
terminal output

The game screen isn't stretched properly in Disney Universe (Steam).
Whatever screen resolution is selected in the video option menu the actual game screen doesn't fit the screen it is always smaller than the selected resolution.
This occurs both in fullscreen and virtual desktop mode.

Regression from 1.7.25:

commit b005ad6f905dc0051b17ea45b3690e0662e48481
Author: Henri Verbeet 
Date:   Thu Aug 21 09:55:55 2014 +0200

    wined3d: Use rendertarget views for color output instead of surfaces.

The game screen is scaled properly with the previous commit.

The upcoming screenshots were taken in virtual desktop mode @1440x900 (my native  screen resolution).

wine-2.0-rc3
Fedora 25
XFCE 4.12 (compositor disabled)
XOrg 1.19.0
OpenGL vendor string: NVIDIA Corporation
OpenGL renderer string: GeForce GT 730/PCIe/SSE2
OpenGL core profile version string: 4.5.0 NVIDIA 375.26",13,"0"
"WINE-40703","MSI InstallService does not respect msidbServiceInstallErrorControlVital (0x8000) flag","The msi-database for InstallService can hold a special flag in erorcontrol-field.
The special flag msidbServiceInstallErrorControlVital (0x8000).
Wine does not observe this flag and creates the services including this flag.
So the service is created a wrong errorcontrol-value. CreateService on windows would fail. It should be created without this flag.

MS docs say that installation should if this flag is present and CreateService fails (see: https://msdn.microsoft.com/en-us/library/windows/desktop/aa371637%28v=vs.85%29.aspx)",858,"1"
"WINE-7097","Heroes of Might and Magic III crashes after starting video","Hi!

Wine 0.9.28 compiled from FreeBSD ports.
FreeBSD 6.2-PRERELEASE.
I've run 
wine Heroes3.exe
Few minutes later I've got following text in console:

========
fixme:d3d:IWineD3DDeviceImpl_GetAvailableTextureMem (0x174578) : stub
simulating 64MB for now returning 64MB left
fixme:ddraw:IDirectDrawImpl_SetCooperativeLevel (0x172ff0)->(0x1002400000013)
fixme:xrandr:X11DRV_XRandR_SetCurrentMode Cannot change screen BPP from 32 to 16
err:ole:CoGetClassObject class {5959df60-2911-11d1-b049-0020af30269a} not registered
err:ole:CoGetClassObject no class object {5959df60-2911-11d1-b049-0020af30269a}
could be created for context 0x1
fixme:d3d_surface:IWineGDISurfaceImpl_Blt Can't handle DDBLT_WAIT flag right now.
err:ntdll:RtlpWaitForCriticalSection section 0x9c1ca1c0 server.c:
fd_cache_section wait timed out in thread 000c blocked by 0000 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x9c1ca1c0 server.c:
fd_cache_section wait timed out in thread 0009 blocked by 0000 retrying (60 sec)
wine: Critical section 9c1ca1c0 wait failed at address 0x9c1830a8 (thread 000c)
starting debugger...
err:ntdll:RtlpWaitForCriticalSection section 0x9c1ca1c0 server.c:
fd_cache_section wait timed out in thread 000c blocked by 0000 retrying (60 sec)
err:seh:raise_exception Unhandled exception code c0000194 flags 0 addr 0x9c1830a8
========

Earlier versions of wine can run Heroes3.
I'll give any debug info if anybody will need it.
Thanks a lot!",322,"0"
"WINE-5312","Install Falis for AVRStudio4:  IDE for Atmel microprocessors","AVRStudio4 can be downloaded for free from 

http://www.atmel.com/dyn/products/tools_card.asp?tool_id=2725

It is an integrated development environment for the Atmel family of microprocessors.

InstallShield fails - produces the following messages and then  'hangs up'




 wine aStudio4b460.exe
fixme:ole:ITypeInfo_fnRelease destroy child objects
err:ole:get_unmarshaler_from_stream Failed to read common OBJREF header 0x00000001
fixme:ole:NdrClearOutParameters (0x7c81cc700x7c1642120x7c81cda4): stub
fixme:win:SetWindowTextA setting text TITLE_CAPTIONBAR of other process window
(nil) should not use SendMessage
fixme:win:SetWindowTextA setting text AVRStudio4 - InstallShield Wizard of
other process window (nil) should not use SendMessage
fixme:win:SetWindowTextA setting text TITLE_CAPTIONBAR of other process window
(nil) should not use SendMessage
fixme:win:SetWindowTextA setting text AVRStudio4 - InstallShield Wizard of
other process window (nil) should not use SendMessage",532,"0"
"WINE-13122","Graphical regression in Team Fortress 2.","When being killed the camera zooms to the killer allowing the victim to press F5 to save an image of the killer. In Wine-61 (and rc1) when the camera reaches the killer the entire screen goes black although the HUD is still visible.

628e4eece3b9bc724f8873aa3c078f545da887cc is first bad commit
commit 628e4eece3b9bc724f8873aa3c078f545da887cc
Author: Roderick Colenbrander 
Date:   Mon Apr 28 21:44:21 2008 +0000

    wined3d: Add multisampling support.

:040000 040000 7864ad7f4c0aeaa2235255e8d9065edb796f70d2 0b014ba64337d75aba8298596be87e6c9d3066b3 M	dlls
:040000 040000 d5eaaeeaa515f68aa03ecf10c3be9f2fbfa6c182 5e8b0f59abb7bec2c8af2c010b673bfb4b1b9801 M	include",41,"0"
"WINE-31862","The Network demo fails to start without native d3dx9","Created attachment 41928
console log

The console output has some d3dx9 fixme's but it's not obvious to me which is important. Native d3dx9 works around the crash and allows the program to start.

The crash is in heap code (the application has its own crash handler that prevents a backtrace except when run in winedbg). Setting WINEDEBUG=warn+heap changes it to a page fault from the program accessing 0xfeeefee8.",1160,"1"
"WINE-9845","Civilization IV certain graphics not shown when vertex shaders enabled","If I turn the hardware vertex shader support and pixel shader on I don't get the overlay level that shows cities resources and what a tile will net if it is worked on both when selecting a settler/worker and inside the city-view. Also only the borders generated by towns is shown (selecting a settler or worker should generate a lot of different visuals but none are shown) and theres no cursor-thingy.

The screenshots show the difference between both situations.
Curiously the deer in the upper left corner are shown while the fish and sugarcane in the middle & right are NOT shown (moving the screen had no effect). Also I'm holding down my left mousebutton in the screenshot with vertex shader on hardware and pixel shader on. Apparently the goto cursor also completely disappears here as well as all the other visuals paired with selecting a move-to location/ having the unit selected.

If I turn off pixel shader support but leave hardware vertex shader on almost everything becomes black.

If I set vertex shader to 'none' it does not matter what the pixel shader is set to. (vertex shader off screenshot).

System:
Gentoo-sources 2.6.22-r2 
x86_64 
AMD Athlon(tm) 64 X2 Dual Core Processor 4400+
GCC: 4.2.0
GFX card: xfx Geforce 7800 GT driver-version: 100.14.11

- The same issue lives in wine-0.9.46 (but even here the deer are fully drawn with vertex shader set to hardware as opposed to the blackness without hardware vertex shader.)
- There is no visible difference in debug output between settings.

If Additional info is needed let me know.",88,"0"
"WINE-1127","Page fault in heap functions in native Winhlp32 (win2k) when cancelling from the full text search setup window","Bug comments restored from Gmane.org: 
 
Winhlp32 crashes when cancelling from the full text search setup window. 
How to reproduce: 
1. run winedbg winhlp32 (Windows 2000 native version) 
2. select a .hlp file (I selected any from msoe.hlp  msoeacct.hlp  wab.hlp) 
3. click on Help Topics toolbar item 
4. click cancel in Find Setup Wizard window 
 
Depending on where it crashes it gives either a page fault on a null pointer 
(HEAP_FindFreeBlock) or 
a page fault on 0xC (RtlAllocateHeap) 
It seems to be random where it crashes. 
HEAP_FindFreeBlock [heap.c:608] 
DWORD arena_size = (pArena->size & ARENA_SIZE_MASK) + 
 
0 0x400ce8f4 HEAP_FindFreeBlock(heap=0x40370000 size=0x80 
ppSubHeap=0x406925f8) 
1 0x400cf318 RtlAllocateHeap(heap=0x40370000 flags=0x2 size=0x80) 
2 0x408e6293 list_window_children(hwnd=0x11005e atom=0x0 tid=0x0) 
3 0x408ea5d0 WIN_ListChildren 
4 0x408dbd7b RDW_UpdateRgns 
5 0x408dc5ca RedrawWindow 
6 0x40a7ee4e expose_window 
7 0x50a7f0c7 X11DRV_Expose 
8 0x40a75b6b EVENT_ProcessEvent 
... 
13 0x40904de7 GetMessageA 
14 0x0102b892 winhlp32.exe..text+0x2a892 
 
Another crash trace: 
RtlAllocateHeap+0xe6 [heap.c:1039] 
pArena->prev->next = pArena->next 
 
0 0x400cf386 RtlAllocateHeap(heap=0x4037 flags=0x2 size=0x20) 
1 0x4081b293 REGION_AllocWineRegion(n=0x2) 
2 0x4081b31c REGION_CreateRegion(n=0x2) 
3 0x4081b5d4 CreateRectRgn(left=0x32 top=0x43 right=0x158 bottom=0x45) 
4 0x4081b647 CreateRectRgnIndirect 
5 0x408dc4e3 RedrawWindow 
6 0x40a7ee4e expose_window 
7 0x40a7f0c7 X11DRV_Expose 
... 
13 0x40904de7 GetMessageA 
14 0x0102b892 winhlp32.exe..text+0x2a892 
 
Nothing out of the ordinary appears at the console 
 
 
------- Additional Comments From R.J.Shearman  warwick.ac.uk  2003-05-16 08:07 
------- 
I've discovered the reason it corrupts the heap is because it destroys the  
dialog in WM_INITDIALOG (patch on the way) but the reason it does this is still  
unknown to me.",1061,"1"
"WINE-28700","And Yet It Moves refuses to launch: 'err:seh:raise_exception Exception frame is not in stack limits'","Created attachment 36886
+msvcrt+tid log

Many of my games refuse to start on my system due to a recent commit in Wine.

Wine is printing out only
err:seh:raise_exception Exception frame is not in stack limits => unable to dispatch exception
when I'm trying to start any of the affected games (no crash dialog or backtrace is generated).

cfca12e48608d9f32b87f78e2545b4ba967b56af is the first bad commit
commit cfca12e48608d9f32b87f78e2545b4ba967b56af
Author: Piotr Caban 
Date:   Wed Oct 12 11:55:35 2011 +0200

    msvcrt: Use ismbcodepage instead of mb_cur_max in mbcodepage dependent functions.

:040000 040000 1c5bff30fe9c68e8126e70796a1c6c6162c821e2 a2979fe70afe6db12cd865e3e5b3c257e285d3c6 M	dlls

Native msvcrt.dll doesn't help.

The problem is reproducible in the demo for And Yet It Moves.

Fedora 15 x86
wine-1.3.30-70-gd0c38ec
gcc version 4.6.1 20110908 (Red Hat 4.6.1-9) (GCC)",1,"0"
"WINE-20934","Bloom filter shows artifacts in fr-041_debris (demoscene demo)","Created attachment 25091
Comparison shot between Windows Vista Home Premium and Wine 1.1.33

I wanted to test to see how far Wine got and decided to try some things that depend on weird Windows-specific quirks. So: demoscene demo's. :)

This demo runs perfectly in Wine except for the bloom filter. I've added two comparison shots that show the difference between the demo running in Windows Vista Home Premium and Wine 1.1.33 on Linux Mint 7 (Ubuntu 9.04).

You can download the demo here: http://www.pouet.net/prod.php?which=30244",134,"0"
"WINE-15529",".debris hangs shortly after starting","Created attachment 16489
Hung shortly after the loading screen

I ran this once and ended up with long stack trace that said this as the final message:

Backtrace:
XIO:  fatal IO error 12 (Cannot allocate memory) on X server :0.0
      after 2041 requests (2039 known processed) with 0 events remaining.

I ran it again and saved the complete trace in the attached file.",559,"0"
"WINE-26836","winedbg continuously emits error messages when attempting to debug a PE executable","Created attachment 34195
+server+winedbg trace of problematic winedbg run (lzma compressed)

When attempting to launch a PE executable under winedbg in wine-1.3.18-60-gfa608e2 winedbg continuously emits the errors:

err:winedbg:dbg_handle_debug_event Unknown thread
...
err:winedbg:dbg_handle_debug_event 0021:0022: not a registered process or thread (perhaps a 16 bit one ?)

This prevents the usage of winedbg for debugging. Since debugging worked without issue in wine-1.3.18 a regression test was performed which indicated:

900352bc6bd32c6524658083339ba119620be9c7 is the first bad commit
commit 900352bc6bd32c6524658083339ba119620be9c7
Author: Alexandre Julliard 
Date:   Mon Apr 18 14:14:40 2011 +0200

    server: Store a mapping instead of a file for process dlls.

:040000 040000 4cd29cf3673989e25ae0ef37a21dc1dea925c14d 241a6bf79c619f4c2765eeb4f35e9092742870c3 M	dlls
:040000 040000 e2f419cea04f4faa62d1518b7729d3aef7941146 fba51b003c8b09c5aedbfcc65b687de7026ff58b M	include
:040000 040000 3193c92d93582f39738e86ba518d70179719f56d f8f65b7b47a5ffdb66d3a462d667fe37bcd3c905 M	server",0,"0"
"WINE-18180","License server problem","The client exe tried to connect to a windows server on tcp port 9000. Client needs to get a licence from the server. The wine client gives error 'Unable to get license from 192.168.0.2:9000. But there same client exe gets the license in while executed in Windows OSes.",3,"0"
"WINE-2748","Space Empires: Starfury fails to run","fixme:ddraw:DirectDrawEnumerateExA no non-display devices supported.
fixme:ddraw:DirectDrawEnumerateExA no detached secondary devices supported.
fixme:ddraw:Main_DirectDraw_SetCooperativeLevel (0x77c70c90)->(0001002400000008)

This game completely fails to run and upon trying to run it the game goes full
screen regardless of wine AppDefaults settings and then nothing happens black
screen and only way to close it is to kill the xserver from console.",2315,"1"
"WINEHQ_APPS_DATABASE-16193","AppDB generates too much work for Administrators","I spend a few minutes nearly every day approving half a dozen test results but there is more people submitting test results than anyone has time to care to read each individual report.

99% of the test results that people submit where there is no maintainer for the application are OK and don't need to be manually approved.

I propose that the AppDB be changed to simply accept new test results when there is no maintainer and not require moderation.",11,"0"
"WINE-19315","Call Of Duty 4 - graphical glitches (post-processing works intermittently)","In Wine 1.1.24 Call Of Duty 4 has absolutely no graphical glitches once Depth of Field and Glow are disabled.

But since Wine 1.1.25 often there are glitches where post-processing seems to be temporarily disabled for a few milliseconds regularly. This results in quick flashes and it makes it nearly impossible to play certain missions (especially President Fulani-something cinematic near the beginning). Sometimes the graphic post-processing is blur and again it flickers between a blurred and a non-blurred image. Sometimes also the post-processing disabling stick and it only disappears when getting back to the menu (Esc) and back again to the game (Esc again).",11,"0"
"WINE-19096","iexplore's gecko installer broken","Created attachment 22047
+urlmon

Run:
$ rm -rf $HOME/.wine  wine iexplore.exe http://www.winehq.org
Click install.
Crash!

Regression caused by http://source.winehq.org/git/wine.git/?a=commitdiffh=150f79b5876016b93dc384bb0919e2798326a7f7
author	Jacek Caban  Tue 23 Jun 2009 12:53:10 +0000 (14:53 +0200)
committer	Alexandre Julliard  Tue 23 Jun 2009 13:53:01 +0000 (15:53 +0200)
commit	150f79b5876016b93dc384bb0919e2798326a7f7
tree	2cb2cf9f795d54c9f2ea47d43ddeed5095c43581
parent	c32925aecd31feb62d677b81a665bc2fa3905dce

urlmon: Query for IHtmlNegotiate[2] interfaces when needed.

Backtrace:
=>0 0x7e191748 BSCHttpNegotiate_BeginningTransaction+0x68(iface=0x137570 szURL=0x138338 szHeaders=0x7e1b0c60 dwReserved=0 pszAdditionalHeaders=0x79e574) [/home/austin/wine-git/dlls/urlmon/bindctx.c:324] in urlmon (0x0079e0c8)
  1 0x7e19f9ca HttpProtocol_open_request+0x65a(prot=0x137010 url=0x138338 request_flags=4194304 bind_info=0x134644) [/home/austin/wine-git/dlls/urlmon/http.c:156] in urlmon (0x0079e788)
  2 0x7e1a2bd4 protocol_start+0x224(protocol=0x137010 prot=0x137098 url=0x138338 protocol_sink=0x134650 bind_info=0x134644) [/home/austin/wine-git/dlls/urlmon/protocol.c:252] in urlmon (0x0079e7c8)
  3 0x7e19e7c2 HttpProtocol_Start+0xb2(iface=0x137098 szUrl=0x138338 pOIProtSink=0x134650 pOIBindInfo=0x134644 grfPI=0 dwReserved=0) [/home/austin/wine-git/dlls/urlmon/http.c:395] in urlmon (0x0079e808)
  4 0x7e197dc4 ProtocolHandler_Start+0x204(iface=0x134654 szUrl=0x138338 pOIProtSink= pOIBindInfo=0x1377c8 grfPI=272 dwReserved=0) [/home/austin/wine-git/dlls/urlmon/bindprot.c:605] in urlmon (0x0079e888)
  5 0x7e197b12 BindProtocol_Start+0xb2(iface=0x134640 szUrl=0x138338 pOIProtSink=0x1377c4 pOIBindInfo=0x1377c8 grfPI= dwReserved=) [/home/austin/wine-git/dlls/urlmon/bindprot.c:383] in urlmon (0x0079e8c8)",3,"0"
"WINE-8525","Pokerstars cashier window freezes","When I log into pokerstars and attempt to do anything in the cashier window the
whole application freezes.  I'm using wine 0.9.36 on fedora core 6 pokerstars
version 2.188.",554,"0"
"WINE-39195","msvcr120.dll.nextafter is needed by Sonkwo","http://www.sonkwo.com is a game store in China.

0. Download http://www.sonkwo.com/installer/SonkwoInstaller.exe
$ sha1sum SonkwoInstaller.exe
0ef9ccba21b0b00ebeb312a40f2f5ce752fadd16  SonkwoInstaller.exe


2. wine SonkwoInstaller.exe
wine: Call from 0x7b83c2b3 to unimplemented function msvcr120.dll.nextafter aborting
wine: Unimplemented function msvcr120.dll.nextafter called at address 0x7b83c2b3 (thread 002a) starting debugger...",118,"0"
"WINE-27583","PowerPC/Sparc builds broken in dlls/d3dx9_36/tests/mesh.c","austin@gcc40:~/wine-git/dlls/d3dx9_36/tests$ make
ccache gcc -c -I. -I. -I../../../include -I../../../include  -DWINE_STRICT_PROTOTYPES -DWINE_NO_NAMELESS_EXTENSION  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -Wdeclaration-after-statement -Wempty-body -Wstrict-prototypes -Wtype-limits -Wwrite-strings -Wpointer-arith  -g -O2  -o mesh.o mesh.c
mesh.c: In function 'test_create_skin_info':
mesh.c:4812: error: 'FP_NAN' undeclared (first use in this function)
mesh.c:4812: error: (Each undeclared identifier is reported only once
mesh.c:4812: error: for each function it appears in.)
make: *** [mesh.o] Error 1

introduced by 01ff07e2e1d2e77575ddbd88a705ef12ea6f9073.

austin@gcc40:~/wine-git$ uname -a
Linux gcc40 2.6.26-2-powerpc64 #1 SMP Thu May 13 07:29:31 UTC 2010 ppc64 GNU/Linux

austin@gcc40:~/wine-git$ cat /etc/issue
Debian GNU/Linux 5.0 \n \l",0,"0"
"WINE-7359","Vector NTI installer creates a lnk to re-start itself which does not properly reference RUNDLL32.EXE","Sorry to flood with bugs but there are a bunch in the installer and I thought
I'd document them (although I have a script that installs it just fine). This is
actually a rather strange error the installer tries to install MS components it
needs (e.g. MDAC) and then creates an MsiExecuter.lnk file in the StartUp area
of the Start Menu so that the installer will restart when the user reboots (of
course wine currently ignores these files but this may not be true forever).

In any case the weird thing is that under wine both with wine MSI and native
MSI the link references C:\rundll32.exe which of course does not exist. I
looked through the WINEDEBUG=+msi+relay logs and it looks like the installer
is looking in the wrong directory for rundll32.exe (in the case of the wine MSI
it looks in C:\ which is where the CreateProcess in dlls/msi/action.c creates
processes in native MSI it creates the link in the current directory which is
also incorrect) and creates the wrong link. However interestingly in Windows
98 it actually finds the _right_ directory and links c:\windows\system32.exe. I
will attach the two lnk files and the output of:

grep -A 1000 -B 1000 rundll32 log

where log is the (very large) WINEDEBUG=+msi+relay log of running wine setup.exe.

Misha

p.s. since the path is not correct with both wine MSI and native MSI and is
only correct on a native Windows system (I tested on 98 on XP it does not need
to install these components as they are already there so it is not testable) so
I am putting the bug in wine-kernel as this is where file finding and such seems
to be. Please correct if it is wrong.",9,"0"
"WINE-16616","Wine's D3DXOF rises an out of memory","Created attachment 18175
+d3d only fixme

Hi
i've an application 'soldner gold edition' using d3dxof. When i use the native dll the game loads but with wines d3dxof it ends up in an out of memory.
I have attached logfiles one with standard output one with WINEDEBUG=+d3dxof and another one with WINEDEBUG=+d3d (only the lines with 'fixme' otherwise it would be too big).
The WINEDEBUG=+d3d logfile is not complete i aborted because the debug messages are iterating in a loop.",1049,"1"
"WINE-24723","Lost Horizon crash/page fault during Chapter 2","Created attachment 31233
Console/Debug log

Lost Horizon plays perfectly until Chapter 2. During this mission there is one scene where during dialog it crashes with a page fault.

Attached a full log.",2451,"1"
"WINE-23828","And Yet It Moves demo requires 12 functions from msvcp80","offset 0001b95c MSVCP80.dll
  Hint/Name Table: 0001B9F4
  TimeDateStamp:   00000000 (Wed Dec 31 16:00:00 1969)
  ForwarderChain:  00000000
  First thunk RVA: 00019048
  Ordn  Name
  1945  ?endl@std@@YAAAV?$basic_ostream@DU?$char_traits@D@std@@@1@AAV21@@Z 1bdc0
   792  ??6?$basic_ostream@DU?$char_traits@D@std@@@std@@QAEAAV01@P6AAAV01@AAV01@@Z@Z 1be06
  1392  ?_Osfx@?$basic_ostream@DU?$char_traits@D@std@@@std@@QAEXXZ 1be56
   785  ??6?$basic_ostream@DU?$char_traits@D@std@@@std@@QAEAAV01@H@Z 1bd80
  3034  ?uncaught_exception@std@@YA_NXZ 1be94
  2874  ?setstate@?$basic_ios@DU?$char_traits@D@std@@@std@@QAEXH_N@Z 1beb6
  3071  ?write@?$basic_ostream@DU?$char_traits@D@std@@@std@@QAEAAV12@PBDH@Z 1bd3a
  2071  ?flush@?$basic_ostream@DU?$char_traits@D@std@@@std@@QAEAAV12@XZ 1bcf8
  1355  ?_Lock@?$basic_streambuf@DU?$char_traits@D@std@@@std@@QAEXXZ 1bcb8
  2921  ?sputc@?$basic_streambuf@DU?$char_traits@D@std@@@std@@QAEHD@Z 1bc78
  2924  ?sputn@?$basic_streambuf@DU?$char_traits@D@std@@@std@@QAEHPBDH@Z 1bc34
  2719  ?read@?$basic_istream@DU?$char_traits@D@std@@@std@@QAEAAV12@PADH@Z 1bbee
  1475  ?_Unlock@?$basic_streambuf@DU?$char_traits@D@std@@@std@@QAEXXZ 1bbac",35,"0"
"WINE-9662","C&C3 crash","Starting with 0.9.45 shortly after beginning play the game crashes with a dialog that says 
Direct3D error 0x0x8876017c (D3DERR_OUTOFVIDEOMEMORY)
8 addresses:
(0): (unknown mod) (unknown)
*times 8*
Because of the severity of this error the game will now exit

Git bisect yields

[ad692f2a83c11ba0c9bb1d0e21d4d95029a65942] wined3d: Add PBO support for dynamically locked surfaces.

as the commit that directly caused the error to show up.",2,"0"
"WINE-25994","Process Hacker 2.x needs ntdll.dll.NtCreateKeyedEvent","Created attachment 33136
Terminal output on Wine 1.3.13

Steps to reproduce:
1) remove ~/.wine
2) winetricks gecko
3) install Process Hacker
4) copy winsta.dll to system32
5) wine ProcessHacker.exe

Behaviour:
There is Wine's error.

Expected behaviour:
There should be no error.",929,"1"
"WINE-24271","Oblivion loses sound during gameplay","Oblivion when we start a new game it have sound and works really good no major issues.
However when I load a game it lose the sound completely.
Another issue is that the main menu screen - where we select new game load game continue ... - there is no sound also.",231,"0"
"WINE-25588","TYPE and MORE integrated commands ignore charset","Using wine cmd or wine wineconsole cmd in a language using non ASCII characters using HELP correctly displays accentuated characters.

TYPE and MORE integrated commands do not.

Works: HELP
Doesn't: HELP | MORE
         HELP > help.txt followed by MORE help.txt

(similar for TYPE)",660,"0"
"WINE-41059","Necropolis requires OMSetDepthStencilState Two-sided stencil testing when using DirectX 11","I am running some tests on Necropolis when it's being ran in DirectX 11 mode. 

Obviously the game is going to have issues with DirectX 11 at the moment but I did notice some interesting terminal output that I have not seen in some of the other DirectX 11 games I've been testing in Wine. 

Apart from the usual spam of these two lines: 

fixme:d3d11:d3d11_immediate_context_OMSetBlendState Per-rendertarget blend not implemented.
fixme:d3d11:d3d11_immediate_context_OMSetBlendState Color mask > 3 not implemented.

this line shows up occasionally: 

fixme:d3d11:d3d11_immediate_context_OMSetDepthStencilState Two-sided stencil testing not supported.
fixme:d3d11:d3d11_immediate_context_OMSetDepthStencilState Two-sided stencil testing not supported.

in the terminal. 

I am currently running the game in Wine 1.9.15-132-g0f2a776 in Windows 7 mode.",119,"0"
"WINE-17715","Incorrect translation of D3D asm instruction expp","Hi there

currently wined3d (I only tested this in ARB mode but it might also affect GLSL mode) the D3D assembler instruction expp is incorrectly translated to ARBvp assembler language.

wined3d takes this D3D asm line expp r3.y r3 and translates it into EXP R3.y R3. Well this isn't working.

EXP is of scalarop type the first parameter being of masked destination register type (masking is used in this case above) and the second parameter (here lies the problem) is of type scalar source register.

Sadly R3 is a vector :(

Well let's add there full shader source for completeness:
--------------------------------------------
vs_1_0
//D3DX8 Shader Assembler Version 0.91
mov r0 v0
add r1 r0 -c85
dp3 r1 r1 r1
rsq r1.x r1.y
mov r3 r0
dp3 r3.w r3 r3
rsq r3.w r3.w
mul r7 r3 r3.w
mul r1.x r1.x r1.y
mad r2.x r1.x c86.x c86.y
slt r4 r2.x c0
mul r4 r4 -c83.w
max r2.x r2.x -r2.x
add r2.x r4.z r2.x
mul r3 r2.x c83.y
expp r3.y r3
mad r3 r3.y c83.z c83.w
mul r2 r3.x r3.x
mul r3.y r2.x r3.x
mul r3.z r2.x r3.y
mul r3.w r2.x r3.z
dp4 r2 c82 r3
mul r2 r2 c86.z
mul r1.x r1.x c86.w
add r1.x c1 -r1.x
max r1.x c0 r1.x
mad r0.y r2 r1.x r0.y
dp4 oPos.x r0 c2
dp4 oPos.y r0 c3
dp4 oPos.z r0 c4
dp4 oPos.w r0 c5
mov oT0 v3
mov oT1 v3
mov oT2 v3
mov oT3 v3
mov oD0 c1
mov oFog.x c0
--------------------------------------------

First of all according to the current MSDN the instruction used above in the source is NOT valid.

See this: http://msdn.microsoft.com/en-us/library/bb173373(VS.85).aspx

They explicitly state expp dst src.{x|y|z|w} as the syntax.
They furthermore mention:
------------QUOTE---------------------------
src is a source register. Source register requires explicit use of replicate swizzle that is exactly one of the .x .y .z .w swizzle components (or the .r .g .b .a equivalents) must be specified.
------------UNQUOTE--------------------------

Well this comment about the src reg doesn't seem to be valid at all....

Let's just take a look at the original D3D8 documentation (D3DX8 Shader Assembler Version 0.91 <- !!!).

To fully quote this:
------------------------------------------------------
expp

Provides exponential 2x partial support.

Syntax:
expp   vDest vSrc0


Registers:
vDest: Destination register holding the result of the operation.
vSrc0: Source register specifying the input argument.

Operation:
The following code fragment shows the operations performed by the expp instruction to write a result to the destination.
    SetDestReg()
    SetSrcReg(0)

    float w = m_Source[0].w
    float v = (float)floor(m_Source[0].w)

    m_TmpReg.x = (float)pow(2 v)
    m_TmpReg.y = w - v

    // Reduced precision exponent
    float tmp = (float)pow(2 w)
    DWORD tmpd = *(DWORD*)

    m_TmpReg.z = *(float*)
    m_TmpReg.w = 1

    WriteResult()

Remarks:
The expp instruction produces undefined results if fed a negative value for the exponent.
This instruction provides exponential base 2 partial precision. It generates an approximate answer in vDest.z and allows for a more accurate determination of vDest.x*function(vDest.y) where function is a user approximation to 2*vDest.y over the limited range (0.0 <= vDest.y < 1.0).
This instruction accepts a scalar source and reduced precision arithmetic is acceptable in evaluating vDest.z. However the approximation error must be less than 1/(211) the absolute error (10-bit precision) and over the range (0.0 <= t.y < 1.0). Also expp returns 1.0 in w.
The following example illustrates how the expp instruction might be used. 
expp r5 r0
------------------------------------------------------

So the correct translation should be EXP R3.y R3.w

CCing Stefan Dsinger and Henri Verbeet.

I tried to patch this myself but it looks like that expp has to be moved out of shader_hw_map2gl to be able to do such an adjustement (but maybe not?).",1735,"1"
"WINE-31887","QQDownload crash at start","Download QQDownload from http://softdl1.tech.qq.com/soft/3/QQDownloadSetup_35_685.exe

~/.wine/drive_c/Program Files/Tencent/QQDownload$ wine QQDownload.exe

The app crash at start:
Backtrace:
=>0 0x00000000 (0x00174ac8)
  1 0x001100e8 (0x0061aba4)
  2 0x006b0053 in qqdownload (+0x2b0052) (0x00570230)
0x00000000: -- no code accessible --

native atl.dll works around.

A +atl trace show:
trace:atl:DllMain (0x0x7c940000 1 (nil))
trace:atl:AtlModuleGetClassObject 0x59f75dc {5fb319d1-8625-4c34-b57e-0daf8302e1b6} {00000001-0000-0000-c000-000000000046} 0x32f1d0
warn:atl:AtlModuleGetClassObject no class object found for {5fb319d1-8625-4c34-b57e-0daf8302e1b6}
fixme:dbghelp:elf_search_auxv can't find symbol in module
trace:atl:DllMain (0x0x7c940000 8 (nil))",92,"0"
"WINE-30897","Europa Universalis III demo crashes while 'Loading Map-Sprites...' without native d3dxof","Created attachment 40496
terminal output

This bug applies to the demo version of EU3 I don't have the problem with the full version of EU3 Complete. The same problem with Wine 1.0.1 1.2.3 1.4 so it's not a regression.

The problem: the game crashes while loading to the menu at the 'Loading Map-Sprites..' stage.
Native d3dxof.dll is a workaround.

Steps to reproduce the problem:
1. Install the demo
2. winetricks vcrun6 (native msvcp60 is needed)
3. Open settings.txt and adjust screen resolution in case the default resolution is not supported by your monitor/video card
4. Start the demo with eu3demo.exe. The game crashes early during the loading stage",379,"0"
"WINE-38848","valgrind shows several uninitialized values in dmime/tests/dmime.c:test_track()","==13484== Conditional jump or move depends on uninitialised value(s)
==13484==    at 0x4F6F3D73: _itoa_word (in /usr/lib/libc-2.21.so)
==13484==    by 0x4F6F71AE: vfprintf (in /usr/lib/libc-2.21.so)
==13484==    by 0x4F7176D8: vsprintf (in /usr/lib/libc-2.21.so)
==13484==    by 0x4F6FE737: sprintf (in /usr/lib/libc-2.21.so)
==13484==    by 0x4AF2502: wine_dbgstr_guid (test.h:533)
==13484==    by 0x4AF03FD: test_track (dmime.c:516)
==13484==    by 0x4AF0766: func_dmime (dmime.c:558)
==13484==    by 0x4AF270F: run_test (test.h:584)
==13484==    by 0x4AF2B57: main (test.h:666)
==13484==  Uninitialised value was created by a stack allocation
==13484==    at 0x4AF01A6: test_track (dmime.c:474)
==13484== 

==13484== Conditional jump or move depends on uninitialised value(s)
==13484==    at 0x4F6F5DAB: vfprintf (in /usr/lib/libc-2.21.so)
==13484==    by 0x4F7176D8: vsprintf (in /usr/lib/libc-2.21.so)
==13484==    by 0x4F6FE737: sprintf (in /usr/lib/libc-2.21.so)
==13484==    by 0x4AF2502: wine_dbgstr_guid (test.h:533)
==13484==    by 0x4AF03FD: test_track (dmime.c:516)
==13484==    by 0x4AF0766: func_dmime (dmime.c:558)
==13484==    by 0x4AF270F: run_test (test.h:584)
==13484==    by 0x4AF2B57: main (test.h:666)
==13484==  Uninitialised value was created by a stack allocation
==13484==    at 0x4AF01A6: test_track (dmime.c:474)
==13484== 

==13484== Conditional jump or move depends on uninitialised value(s)
==13484==    at 0x4F6F5E9E: vfprintf (in /usr/lib/libc-2.21.so)
==13484==    by 0x4F7176D8: vsprintf (in /usr/lib/libc-2.21.so)
==13484==    by 0x4F6FE737: sprintf (in /usr/lib/libc-2.21.so)
==13484==    by 0x4AF2502: wine_dbgstr_guid (test.h:533)
==13484==    by 0x4AF03FD: test_track (dmime.c:516)
==13484==    by 0x4AF0766: func_dmime (dmime.c:558)
==13484==    by 0x4AF270F: run_test (test.h:584)
==13484==    by 0x4AF2B57: main (test.h:666)
==13484==  Uninitialised value was created by a stack allocation
==13484==    at 0x4AF01A6: test_track (dmime.c:474)

==13484== Conditional jump or move depends on uninitialised value(s)
==13484==    at 0x400A6B5: bcmp (vg_replace_strmem.c:1007)
==13484==    by 0x4AF0441: test_track (dmime.c:516)
==13484==    by 0x4AF0766: func_dmime (dmime.c:558)
==13484==    by 0x4AF270F: run_test (test.h:584)
==13484==    by 0x4AF2B57: main (test.h:666)
==13484==  Uninitialised value was created by a stack allocation
==13484==    at 0x4AF01A6: test_track (dmime.c:474)
==13484== 

==13484== Conditional jump or move depends on uninitialised value(s)
==13484==    at 0x400A6E4: bcmp (vg_replace_strmem.c:1007)
==13484==    by 0x4AF0441: test_track (dmime.c:516)
==13484==    by 0x4AF0766: func_dmime (dmime.c:558)
==13484==    by 0x4AF270F: run_test (test.h:584)
==13484==    by 0x4AF2B57: main (test.h:666)
==13484==  Uninitialised value was created by a stack allocation
==13484==    at 0x4AF01A6: test_track (dmime.c:474)
==13484== 

==13484== Conditional jump or move depends on uninitialised value(s)
==13484==    at 0x4AF1BE5: winetest_vok (test.h:311)
==13484==    by 0x4AF1DC0: winetest_ok (test.h:357)
==13484==    by 0x4AF045B: test_track (dmime.c:516)
==13484==    by 0x4AF0766: func_dmime (dmime.c:558)
==13484==    by 0x4AF270F: run_test (test.h:584)
==13484==    by 0x4AF2B57: main (test.h:666)
==13484==  Uninitialised value was created by a stack allocation
==13484==    at 0x4AF01A6: test_track (dmime.c:474)
==13484==",12,"0"
"WINE-5481","Installing MSXML 4.0 SP2 SDK causes a page fault.","Installing MSXML 4.0 SP2 SDK causes a page fault.",6,"0"
"WINE-31879","Aquanox: black screen in virtual desktop mode","Created attachment 41959
terminal output

Aquanox as well as the sequel Aquanox 2 show a black screen on startup and the screen remains that way (you can hear the sound of the game but can't see anything).
In Wine's full screen mode the game is visible but the screen is positioned incorrectly (the lower right part of the game screen is off screen).
Can be reproduced with the demo version as well.

It is a regression in the git version:

4ac1a5ac608bad7111f7cb99170a3be99b5059f0 is the first bad commit
commit 4ac1a5ac608bad7111f7cb99170a3be99b5059f0
Author: Alexandre Julliard 
Date:   Wed Oct 3 11:19:10 2012 +0200

    winex11: Allow changing the pixel format of a window from a different thread.

:040000 040000 33e1d7ef3f15aafa9e989204e8d800948c7e8fd4 1a29c7d92b865a00043d7e77155ccfba23a71093 M	dlls

Reverting the patch fixes the problem.

Fedora 17
Nvidia 250 / driver 304.37
X.Org X Server 1.12.3
Gnome 3.4.2",1,"0"
"WINE-5554","Tachyon the Fringe crashes when detecting video modes","The game crashes out when you select either the Video option in the menu to
select video modes or you select to play as a video mode hasn't been set and it
needs to detect one before starting the game. The log attached is from the game
being started the menu being displayed and then the game trying to detect modes
and crashing out.",928,"1"
"WINE-28008","RC Cars fails to start unless network option disabled","Created attachment 35855
plain terminal output (only built-in dlls)

When launching RC Cars the game exception handler kicks in and displays the following message:
'Hardware exception: Access violation. Exception address: 0x7BC355F5'. 
Thus the game fails to start.

I found out that one of the game options namely 'NET_Init' in the config file (Config.gm) must be disabled and the game will start normally. Unfortunately this makes multiplayer unavailable in the game...

Installing native directplay components via winetricks doesn't resolve the problem.

Maybe it gives a clue on the problem that the game's own debug log file always ends with:
error: IDirectPlay8Peer_EnumServiceProviders() failed

error: _netProvInit() failed

Probably not only directplay is involved something else is missing too.

The demo linked in the URL field can be used for testing the problem but the installer of the demo hits bug #28006.
You need to install the demo with 1.3.22 (or older) until bug #28006 gets fixed.

Fedora 15 x86",47,"0"
"WINE-23169","GeForce FX: Extremely low performance with NPOT textures","The quirk used to prevent the use of OpenGL 2.0's NPOT texture functionality on GeForce FX-series GPUs is not applied to all cards in that series leading to software fallback on them.

Adding a check for CARD_NVIDIA_GEFORCEFX_5200 to dlls/wined3d/directx.c:match_geforce5() corrects the issue completely.

For reference my specific card is the FX 5500 with driver version 169.12.",4,"0"
"WINE-38261","Playchess doesn't install anymore","err:msi:ACTION_InstallFiles Unable to load media info for LF_CENTRAL_atl100_x86 (1627)
err:msi:ITERATE_Actions Execution halted action LInstallFiles returned 1627
err:msi:ACTION_InstallFiles Unable to load media info for LF_CENTRAL_atl100_x86 (1627)

git show 4c1791f53ef4fefe9ed4f4475cb0c23a1fbb001a | patch -p1 -R

Fixes the issue",4,"0"
"WINE-10850","Bug when selecting text in Qt 3 QLineEdit","Hi

The attached minimalistic example application demonstrates a WINE bug when using a QLineEdit widget from Qt 3:

* Enter some text in the line edit.
* Select some text using the mouse.
* Click into the line edit

Native Windows:
-> The selected text simply gets unselected.

Using WINE:
-> The selected text gets deleted.

Kind regards
Markus",41,"0"
"WINE-6785","Continuum doesn't run in non-virtual desktop when windowed","Continuum when run in a non-virtual desktop displays the correct menu but it
doesn't display anything in the window that opens if you try to enter an arena.
 It works fine in a virtual desktop.  This only occurs in the windowed mode.  If
run in an unwindowed mode without a virtual desktop there is no problem.",506,"0"
"WINE-4547","Hyperlinks in text boxes do not work.","In Starcraft map editor trigger conditions are detailed in a text box after
they are selected. They are summarized with a sentence in which some words are
underlined and colored in blue. These words are hyperlinked. Clicking on them
normally pops a window in which you make a choice to build your trigger.
Clicking on these hyperlinks currently does not work. These words are considered
as normal text.",191,"0"
"WINE-42416","iMesh 10 crashes at startup (IWMReader::QueryInterface doesn't support IWMReaderAccelerator 'BDDC4D08-944D-4D52-A612-46C3FDA07DD4')","Hello folks

continuation of bug 26603

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/iMesh Applications/iMesh

$ WINEDEBUG=+tid+seh+relay+wmvcore wine ./iMesh.exe >>log.txt 2>&1
...
014c:Ret  PE DLL (proc=0x7c14d51bmodule=0x7c140000 Lwmvcore.dllreason=PROCESS_ATTACHres=(nil)) retval=1
014c:Call wmvcore.WMCreateReaderPriv(0033f710) ret=00c7ace7
014c:trace:wmvcore:WMCreateReader ((nil) 0 0x33f710)
014c:Ret  wmvcore.WMCreateReaderPriv() retval=00000000 ret=00c7ace7
014c:trace:wmvcore:WMReader_AddRef (0xe6c4b20) ref=2
014c:trace:wmvcore:WMReader_QueryInterface (0xe6c4b20)->(IID_IWMReaderAdvanced 0x2a7fb88)
014c:trace:wmvcore:WMReader_AddRef (0xe6c4b20) ref=3
014c:trace:wmvcore:WMReader_QueryInterface (0xe6c4b20)->(IID_IWMReaderAdvanced2 0x2a7fb8c)
014c:trace:wmvcore:WMReader_AddRef (0xe6c4b20) ref=4
014c:trace:wmvcore:WMReader_QueryInterface (0xe6c4b20)->(IID_IWMReaderAdvanced3 0x2a7fb90)
014c:trace:wmvcore:WMReader_AddRef (0xe6c4b20) ref=5
014c:trace:wmvcore:WMReader_QueryInterface (0xe6c4b20)->(IID_IWMReaderAdvanced4 0x2a7fb94)
014c:trace:wmvcore:WMReader_AddRef (0xe6c4b20) ref=6
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({bddc4d08-944d-4d52-a612-46c3fda07dd4} 0x2a7fb98)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({96406bec-2b2b-11d3-b36b-00c04f6108ff} 0x2a7fb9c)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({d979a853-042b-4050-8387-c939db22013f} 0x2a7fba0)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({96406bed-2b2b-11d3-b36b-00c04f6108ff} 0x2a7fba4)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({56a86897-0ad4-11ce-b03a-0020af0ba770} 0x2a7fba8)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({00ef96cc-a461-4546-8bcd-c9a28f0e06f5} 0x2a7fbac)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({8bfc2b9e-b646-4233-a877-1c6a079669dc} 0x2a7fbb0)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({df683f00-2d49-4d8e-92b7-fb19f6a0dc57} 0x2a7fbb4)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({96406bda-2b2b-11d3-b36b-00c04f6108ff} 0x2a7fbb8)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({15cf9781-454e-482e-b393-85fae487a810} 0x2a7fbbc)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({15cc68e3-27cc-4ecd-b222-3f5d02d80bd5} 0x2a7fbc0)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({d2827540-3ee7-432c-b14c-dc17f085d3b3} 0x2a7fbc4)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({befe7a75-9f1d-4075-b9d9-a3c37bda49a0} 0x2a7fbc8)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({f28c0300-9baa-4477-a846-1744d9cbf533} 0x2a7fbcc)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({fdbe5592-81a1-41ea-93bd-735cad1adc05} 0x2a7fbd0)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({f369e2f0-e081-4fe6-8450-b810b2f410d1} 0x2a7fbd4)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({5c938aeb-6378-479e-bfd5-eafba63dc6e9} 0x2a7fbd8)
014c:fixme:wmvcore:WMReader_QueryInterface (0xe6c4b20)->({7af7d5ed-4ef9-48da-a4b6-8ea7eb38f5cc} 0x33f6e8)
014c:trace:wmvcore:WMReader_Release (0xe6c4b20) ref=5
014c:trace:wmvcore:WMReader_Release (0xe6c4b20) ref=4
014c:trace:wmvcore:WMReader_Release (0xe6c4b20) ref=3
014c:trace:wmvcore:WMReader_Release (0xe6c4b20) ref=2
014c:trace:wmvcore:WMReader_Release (0xe6c4b20) ref=1
014c:trace:wmvcore:WMReader_Release (0xe6c4b20) ref=0
...
014c:Call KERNEL32.RaiseException(e06d736300000001000000030033f720) ret=010c8fc5 
...
Unhandled exception: C++ exception(object = 0x0033f753 type = 0x01564b0c) in 32-bit code (0x7b445e53).
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:0063 GS:006b
 EIP:7b445e53 ESP:0033f644 EBP:0033f6a8 EFLAGS:00200216(   - --  I   -A-P- )
 EAX:7b43469d EBX:00000000 ECX:0000000c EDX:0033f664
 ESI:0033f70c EDI:0033f6d0
...
Backtrace:
=>0 0x7b445e53 RaiseException+0x7f(code= flags= nbargs= args=) [/home/focht/projects/wine/wine.repo/src/dlls/kernel32/except.c:84] in kernel32 (0x0033f6a8)
  1 0x7bc7c1b2 relay_call+0x39() in ntdll (0x0033f6e4)
  2 0x7b432415 in kernel32 (+0x12414) (0x0033f72c)
  3 0x010c8fc5 in imesh (+0xcc8fc4) (0x0033f72c)
  4 0x0069b551 in imesh (+0x29b550) (0x7b42e908)
  5 0x49e80004 (0x00da6854)
0x7b445e53 RaiseException+0x7f [/home/focht/projects/wine/wine.repo/src/dlls/kernel32/except.c:84] in kernel32: addl	$12%esp
84	    RtlRaiseException( 
Modules:
Module	Address			Debug info	Name (214 modules)
PE	  400000- 1937000	Export          imesh
PE	 1d70000- 1e36000	Deferred        resourcesloc
PE	 2520000- 25c3000	Deferred        nickel
PE	 e780000- e996000	Deferred        nss3
PE	10000000-10212000	Deferred        htmlayout
ELF	433c8000-433cb000	Deferred        libx11-xcb.so.1
ELF	4b4ac000-4b4ca000	Deferred        libgcc_s.so.1
PE	661c0000-662a4000	Deferred        mozglue
PE	69e40000-6d7d7000	Deferred        xul
PE	70a80000-70b5d000	Deferred        lgpllibs
ELF	7ac00000-7ac8c000	Deferred        riched20
  \-PE	7ac20000-7ac8c000	\               riched20
ELF	7b400000-7b7e9000	Dwarf           kernel32
  \-PE	7b420000-7b7e9000	\               kernel32
ELF	7ba33000-7ba60000	Deferred        libvorbis.so.0
ELF	7ba60000-7baef000	Deferred        libvorbisenc.so.2
ELF	7baef000-7bb52000	Deferred        libflac.so.8
ELF	7bb52000-7bc00000	Deferred        libgcrypt.so.20
ELF	7bc00000-7bd09000	Dwarf           ntdll
  \-PE	7bc30000-7bd09000	\               ntdll 
...
Threads:
process  tid      prio (all id:s are in hex) 
...
0000014b (D) C:\Program Files\iMesh Applications\iMesh\iMesh.exe
	00000183    0
	00000182    0 
...
	0000014e    0
	0000014d   -1
	0000014c    1 <== 
--- snip ---

https://msdn.microsoft.com/en-us/library/windows/desktop/dd743266(v=vs.85).aspx

https://msdn.microsoft.com/en-us/library/windows/desktop/dd757426(v=vs.85).aspx

It wants 'IWMReaderAccelerator' interface.

$ sha1sum iMeshV10pl.exe 
d589e7a3a37669bd1cb4d254f1c77559db7a1be2  iMeshV10pl.exe

$ du -sh iMeshV10pl.exe 
15M	iMeshV10pl.exe

$ wine --version
wine-2.1-126-g06c5a9a

Regards",164,"0"
"WINE-29328","Installation of Solidworks license manager fails with msi error 1603","Created attachment 37934
WINEDEBUG=+msi

Solidworks 2011 is not installable because the installation of Solidworks License manager exits with error 1603 stopping all the installation process.


err:msi:ITERATE_Actions Execution halted action LSWRegistrationProcess returned 1603

I guess that this action a few lines before the error may be involved : 

trace:msi:MsiDatabaseOpenViewW LSELECT `SWRegTlb`.`Component_``SWRegTlb`.`InstallCondition``SWRegTlb`.`UninstallCondition``SWRegTlb`.`HelpDir``SWRegTlb`.`IgnoreExitCode``Component`.`Attributes``Component`.`Directory_``File`.FileName` FROM SWRegTlbComponentFile WHERE `SWRegTlb`.`Component_`=`Component`.`Component` AND `SWRe... 0x7ee618
trace:msi:MsiDatabaseOpenViewW LSELECT `SWRegTlb`.`Component_``SWRegTlb`.`InstallCondition``SWRegTlb`.`UninstallCondition``SWRegTlb`.`HelpDir``SWRegTlb`.`IgnoreExitCode``Component`.`Attributes``Component`.`Directory_``File`.FileName` FROM SWRegTlbComponentFile WHERE `SWRegTlb`.`Component_`=`Component`.`Component` AND `SWRe... 0x7ee618
trace:msi:MSI_DatabaseOpenViewW LSELECT `SWRegTlb`.`Component_``SWRegTlb`.`InstallCondition``SWRegTlb`.`UninstallCondition``SWRegTlb`.`HelpDir``SWRegTlb`.`IgnoreExitCode``Component`.`Attributes``Component`.`Directory_``File`.FileName` FROM SWRegTlbComponentFile WHERE `SWRegTlb`.`Component_`=`Component`.`Component` AND `SWRe... 0x7ee518

.....

trace:msi:MSI_ProcessMessage (nil) (nil) (nil) 0 10 L\tSW MSG: Failed to Process the SWTypeLib Table",27,"0"
"WINE-782","Wine fails to keep an applications child windows always on-top.","I use windows for approximately 3 applications - 2 of which have decent
replacements under linux - one of which does not.  This 3rd application is
called ELF - its a telnet program designed for playing muds. It functions mostly
under wine except for one problem which has kept me going back to windows on a
regular basis.  By executing the appropriate scripting commands ELF will create
additional windows which you can send text too.  In Win2k - these windows will
happily stay always on-top of the application itself.  allowing me to work in
the main window and have interesting things which I might otherwise miss because
of alot of action on the main window appear on these sub windows which float
above the application.

However when I run this application on Wine - giving focus to the application
causes it to end up on top of all the child windows rendering them useless to
my needs.

I am thinking that these are not 'standard' always on top windows because if you
have other applications then they will not sit above them.  ie its only ontop
when the application has focus.
fiddling with warnings etc ...
I ended up using this execution line
wine --debugmsg fixme+allerr+allwarn+allwarn-heap Elf.exe
heap warnings come at a huge rate ... and trace ... wow :P

 the things which seem most interesting are
warn:x11drv:SWP_DoOwnedPopups (10024) hInsertAfter = 0000

and
warn:listbox:ListBoxWndProc_common [30066]: unknown msg b029 wp 00000000 lp 00000000
warn:listbox:ListBoxWndProc_common [30066]: unknown msg b004 wp 00000000 lp 43a3d32c

i get stacks of 
warn:gdi:GDI_GetObjPtr Invalid handle 0 as well - but the other 3 messages
appear when i switch focus between the main application and child windows.


turning on trace for x11drv - didnt leave me much more informed - but if wanted
the data is ofcourse available...

not sure if this is the right component - but hmmm anyway...",776,"0"
"WINE-5196","Tribes Vengeance unabled to move mouse in menu","I am unabled to move the mouse
I always jumps back to the middle of the screen
even in virtual desktop

wine CVS 20060507",331,"0"
"WINE-41052","Failure to create D3D9 device on i915","Created attachment 55224
Test case

I'm testing the attached source (compilable with wineg++ or mingw32-g++) on Intel Atom N550 which is i915-class GPU. I get the following output on it:

$ wine --version ./d3d9-init-test.exe
wine-1.9.14
fixme:win:EnumDisplayDevicesW ((null)00x32f8580x00000000) stub!
Error: Failed to create Direct3D device: invalid call

wine-1.5.17-7-g67886fed despite multiple fixme and err prints does at least create the device (i.e. the test prints Init OK).

wine-1.7.33-84-gfecbc88 already fails.",181,"0"
"WINE-11954","Google Sketchup Google bug splat never finish sending report.","Created attachment 11279
output from wine gooogle bug squash

When Google sketchup crashes which it does frequently google bug splat starts. If you describe what happens and send a report bug splat starts transmitting something but will never finish. The little 'sending error report'-window can not be shut down. You have to use the gnome-system monitor to shut down that process. 

I think this bug should be prioritised so that the google developers see the Sketchup crashes and can go on to fix the bugs.

I attached the terminal output.",65,"0"
"WINE-42035","WindBot needs msvcp120.?_2@placeholders@std@@3V?$_Ph@$01@2@A","I found this bug while trying to run a bit of software called WindBot but it seems if it's what I expect that it's going to be much more generic. I think the title contains all the info someone expert enough to work out the problem would need.

If anyone wants to repro the file I'm trying to run is here:

https://www.tibiawindbot.com/downloads/windbot11-2.9.0-beta.34.exe

Sorry if links are not allowed please grumble at me if that's the case. I'm literally brand spanking new here.

The installer runs fine then you need to run the file within which is given a random name (it's a bot for an MMORPG which users suspect may have client-side detection). That file starts up and falls over with the dialog detailing:

The procedure entry point ?_2@placeholders@std@@3V?$_Ph@$01@2@A could not be located in the dynamic link library MSVCP120.dll

If there is any extra information I can provide please ask. I'm fairly experienced with Linux though not so much with Wine so please step-by-step me for Wine and just ask for Linux.

I've just tested it and on a 32-bit wine everything works as intended so that helps to isolate the issue a little further.",140,"0"
"WINE-26333","Star Wars: Galactic Battlegrounds: Clone Campaigns 1.0x crashes on pressing 'Multiplayer' -> 'Show Games'","Created attachment 33552
crash log for Wine 1.3.15

A plain crash.",1497,"1"
"WINE-22012","Cinema 4d 10: Entering arrowed submenus in dropdowns crashes menu alone.","This issues is known NOT to exist in any of the recent versions of Wine UNTIL 1.1.40. This is a new bug where if you click the File menu dropdown and mouse over the Recent Files or Export menus the menu will crash not allowing you to easily export files in the program or use any other arrow-listed menus (these occur very commonly throughout the program). The terminal didn't output anything specific while running Wine but there is a video attached which exhibits this behavior. It DOES NOT occur in Wine version 1.1.39. This is a NEW bug.",38,"0"
"WINE-2959","CVS Regression - Undefined References in dinput/tests/joystick.c","Patch: http://cvs.winehq.org/patch.py?id=17431 produces the following errors 
on my system aborting compilation:- 
 
joystick.o(.text+0x543): In function `EnumJoysticks': 
wine/dlls/dinput/tests/joystick.c:165: undefined reference to `c_dfDIJoystick' 
joystick.o(.text+0x592):/wine/dlls/dinput/tests/joystick.c:169: undefined 
reference to `c_dfDIJoystick2'",0,"0"
"WINE-37776","iTunes 12.0.1 crashes on startup","Created attachment 50313
Backtrace

I installed iTunes 12.0.1 64Bit on Wine 1.7.33 on Linux Mint 17.1 64Bit.

With wine-gecko2.34 installed it crashes on startup.
Without wine-gecko2.34 installed it loads up but I cant see any text or icons(random clicking does give occasional dialog boxes).",1236,"1"
"WINE-5817","Lord of the Rings Fellowship of the Ring demo won't install","The game installer crashes with a dialog that states it cannot download
ISSscript.msi and gives the following errors.

wine Fellowship_Demo.exe
err:ole:create_server class {a52d1d8e-bcca-11d4-ab7d-00b0d02332eb} not registered
err:ole:CoGetClassObject no class object {a52d1d8e-bcca-11d4-ab7d-00b0d02332eb}
could be created for context 0x4
fixme:wininet:InternetGetConnectedState always returning LAN connection.",158,"0"
"WINE-29086","winhlp32.exe: no readable content","Created attachment 37483
Main view in winhlp32.exe of win32.hlp

Strange characters produced by 'winhlp32.exe' showing my win32.hlp (Windows-API SDK: Win32.hlp)

See screenshot and the attached logfiles.

The WINEPREFIX was just newly created and is not customized by anything.",3,"0"
"WINE-11863","Dance eJay 7 Demo crashes with pagefault and backtrace in quartz","Created attachment 11150
quartz debug channel and backtrace for Dance eJay 7 Demo

When starting the Dance eJay 7 Demo with Wine Git version wine-0.9.56-420-g22f146f the application page faults inside quartz.dll. Relevant backtraces are attached.",1,"0"
"WINE-34123","Sonic & All-Stars Racing Transformed: the game fails to initiate due to Wine failing to mount its CD images","Created attachment 45376
Terminal output for the demo version of SASRT.

Attempting to launch the video game Sonic All-Stars Racing Transformed results in a black screen/window. The game is unable to load its assets as these are located on several encrypted .M00 and .toc CD images as well as one .M01 CD image all of which Wine is unable to mount (the .M00 and .M01 files contain the raw CD data while the .toc files contain the file structure). All of these files are located in the game's Data folder.

I've tested both a purchased Steam version and a demo provided by Intel both yield the same result. You can see the terminal output for the demo on the attachment.

I've also discussed the issue on the WineHQ forums and the Steam forums:

WineHQ: 
http://forum.winehq.org/viewtopic.php?f=8&t=19327&sid=eeda4892ca0c2d0e4b882a248a1f79b3

Steam:
http://steamcommunity.com/app/212480/discussions/0/864972621000530642/",845,"1"
"WINE-11663","Guild Wars seems to hang with intel X3100","Created attachment 10876
Error Messages from running wine Gw.exe

gw.exe seems to hang when running on my laptop with a Intel GMA X3100.
End process does not work have to kill.
Usually get nothing. If I specify Emulate a Virtual Desktop I just get a blank window and still nothing happens.

Not sure if this is a driver issue (X3100 is a relatively new card).",264,"0"
"WINE-25585","Release key event is lost during lags in some games","When playing Oblivion it is possible to go into the situation when it is not possible to stop running after some lag (loading objects during location change making final blow to a monster etc.) in game. Neither pressing any keys nor reloading to a save can fix this - only complete restart of the game. It looks like wine skips release key event and can't acquire it anymore.",1360,"1"
"WINE-836","Speed up PDB support","PDB files contain 'hashtables' that make accessing symbol information very fast.
The problem is that winedbg does not support these hashtables. Because of this
loading debug information from PDB files is very slow. So slow that it can cause
critical sections to time out (minutes). This performance issue is a problem for
people porting their own programs to Wine.

(People using the PDB files that are shipped with Microsoft's development SDK
escape this problem because these are stripped down)",3607,"1"
"WINE-1896","MS Flight Simulator 98 fails to start","Wine version : 20031212 (can't select version in bugzilla)

I achived to install Microsoft Flight Simulator 98. Thanks for your work.

Now the game can't start allthough it displays the first image of the wellcome
movie.

Here is the console trace:
---
[j@laptop tmp]$ wine /home/wine/Program\ Files/Microsoft\ Games/Flight\
Simulator/FLTSIM98.EXE
Loading required GL library /usr/X11R6/lib/libGL.so.1.2
fixme:keyboard:X11DRV_KEYBOARD_DetectLayout Your keyboard layout was not found!
Using closest match instead (French keyboard layout) for scancode mapping.
Please define your layout in dlls/x11drv/keyboard.c and submit them
to us for inclusion into future Wine releases.
See the Wine User Guide chapter Keyboard for more information.
Xlib:  extension XFree86-DRI missing on display :0.0.
fixme:imm:ImmAssociateContext (0x10022 (nil)): semi-stub
fixme:ddraw:Main_DirectDraw_SetCooperativeLevel (0x40395b08)->(0001002200000008)
fixme:msvideo:ICGetDisplayFormat (0x10x403a8e800x404502e0000)stub!
fixme:mci:MCIWndProc support for MCIWNDM_ message WM_USER+108 not implemented
fixme:mci:MCIWndProc support for MCIWNDM_ message WM_USER+1030 not implemented
fixme:mci:MCIWndProc support for MCIWNDM_ message WM_USER+106 not implemented
fixme:mci:MCIWndProc support for MCIWNDM_ message WM_USER+106 not implemented
fixme:mci:MCIWndProc support for MCIWNDM_ message WM_USER+106 not implemented
fixme:mci:MCIWndProc support for MCIWNDM_ message WM_USER+106 not implemented
fixme:mci:MCIWndProc support for MCIWNDM_ message WM_USER+106 not implemented",146,"0"
"WINE-9695","Anno1701 will crash after a few minutes gameplay","Hi i got Anno1701 working with wine x.43 but since x.45 i get this error message after a few minutes of gameplay and the wine window closes:
i got this line over and over till the applincation crashes err:d3d_surface:IWineD3DSurfaceImpl_LockRect The surface already has PBO memory allocated!
and in the end this:
err:ntdll:RtlpWaitForCriticalSection section 0xf34ba0 ? wait timed out in thread 0009 blocked by 000d retrying (60 sec)
fixme:winmm:MMDRV_Exit Closing while ll-driver open

may be you can fix the bug or suggest some new registry setting to solve this.",45,"0"
"WINE-14287","Windows Live Installer does not start","the installer does not come up : fixme:advapi:CheckTokenMembership ((nil) 0x12550f8 0x33fddc) stub!",725,"0"
"WINE-966","Dragon Naturally Speaking main program crashes","Bug comments restored from Gmane.org: 
 
After getting the program installed and successfully going through the presetup 
(setting speaker & mic volumes) the main program is loaded.  After the window 
appears it crashes and loads the debugger.  Following is the backtrace: 
 
Backtrace:                                                                      
                            
=>0 0x4008b676 (GetThreadQueue16+0x66 in libntdll.dll.so) (ebp=42816870)        
                            
  1 0x406a7b1b (USER32.DLL.GetFocus+0x1277 in user32.dll.so) (ebp=428168b0)     
                            
  2 0x406a84c9 (USER32.DLL.SetWindowsHookExA+0x41 in user32.dll.so) 
(ebp=428168f0)                          
  3 0x4001891e (DD10HOOK.DLL.HookSetGlobalParam+0xd5e in 
D:\NATSPEAK\PROGRAM\DD10HOOK.DLL) (ebp=428169a0)   
  4 0x40018f9e (DD10HOOK.DLL.HookSetGlobalParam+0x13de in 
D:\NATSPEAK\PROGRAM\DD10HOOK.DLL) (ebp=428169f8)  
  5 0x40019a2c (DD10HOOK.DLL.HookSetGlobalParam+0x1e6c in 
D:\NATSPEAK\PROGRAM\DD10HOOK.DLL) (ebp=42816a50)  
  6 0x40019903 (DD10HOOK.DLL.HookSetGlobalParam+0x1d43 in 
D:\NATSPEAK\PROGRAM\DD10HOOK.DLL) (ebp=42816ab0)  
  7 0x00444374 (natspeak.exe..text+0x43374 in D:\NatSpeak\Program\natspeak.exe) 
(ebp=42816b00)              
  8 0x00443956 (natspeak.exe..text+0x42956 in D:\NatSpeak\Program\natspeak.exe) 
(ebp=42816ba0)              
  9 0x00444791 (natspeak.exe..text+0x43791 in D:\NatSpeak\Program\natspeak.exe) 
(ebp=42816c28)              
  10 0x5f401cea (MFC42.DLL.6374+0x22 in C:\WINDOWS\SYSTEM\MFC42.DLL) 
(ebp=42816c48)                         
  11 0x5f401c73 (MFC42.DLL.1109+0x74 in C:\WINDOWS\SYSTEM\MFC42.DLL) 
(ebp=42816ca8)                         
  12 0x5f401bfb (MFC42.DLL.1578+0x2a in C:\WINDOWS\SYSTEM\MFC42.DLL) 
(ebp=42816cc4)                         
  13 0x5f401bba (MFC42.DLL.1579+0x39 in C:\WINDOWS\SYSTEM\MFC42.DLL) 
(ebp=42816cf0)                         
  14 0x406c9d33 (USER32.DLL.GetTaskmanWindow+0xc7 in user32.dll.so) 
(ebp=42816d14)                          
  15 0x406c9dd5 (USER32.DLL.GetTaskmanWindow+0x169 in user32.dll.so) 
(ebp=42816d64)                         
  16 0x406d04ce (USER32.DLL.CallWindowProcA+0x9a in user32.dll.so) 
(ebp=42816da4)                           
  17 0x406b001a (USER32.DLL.DispatchMessageA+0x136 in user32.dll.so) 
(ebp=42816df4)                         
  18 0x5f4011ce (MFC42.DLL.5307+0x3a in C:\WINDOWS\SYSTEM\MFC42.DLL) 
(ebp=40fb2e24)                         
  19 0x00000113 (ebp=0001002f)                                                  
                            
  20 0x24232221 (DD10SHRD.DLL..reloc+0x141a1221) (ebp=201f1e1d)                 
                            
*** Invalid address 0x201f1e1d (DD10SHRD.DLL..reloc+0x10160e1d 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-08-15 
14:24 ------- 
Could you attach the last 200 lines of a --debugmsg +relay (before the debugger 
is invoked) please. That together with the backtrace will give a clearer picture 
of what wine was doing just befor the crash. 
 
 
------- Additional Comments From roz  one.net  2002-08-15 16:14 ------- 
It seems as though the crash happens when the separate program that interprets 
the spoken words is started. 
 
 
------- Additional Comments From roz  one.net  2002-08-15 16:14 ------- 
Created an attachment (id=266) 
200 line relay trace",486,"0"
"WINE-42597","Mouse wheel doesn't scroll in MyLifeOrganized","I'm using Ubuntu with Unity and in MLO for Windows (https://www.mylifeorganized.net/todo-list-windows.shtml) the mouse wheel doesn't do anything.

I'm not sure but I think this is a regression from 1.8.",123,"0"
"WINE-10412","Squares in light effects","With Wine 0.9.49 light effects in many games are composed of squares instead of being smooth. There were no such problems with 0.9.48. Games with this problem include Guild Wars Flatout 2 and CNC3.
Gentoo 64bit GeForce 8800 GTX driver 100.14.19.",19,"0"
"WINE-26162","Visual C++ 2005 Trial install fails","Now that bug 25331 is fixed and Visual C++ 2005 Express installs again
I tried Trial.  Sadly it still seems to fail. 

First problem seems to be a shdocvw problem:

fixme:shdocvw:ControlSite_OnFocus (0x4048c38)->(0)
fixme:mshtml:HlinkTarget_SetBrowseContext (0x40469a0)->((nil))
fixme:shdocvw:ClOleCommandTarget_Exec Unimplemented cmdid 28
trace:seh:raise_exception code=c0000005 flags=0 addr=0x7ed55a31
ip=7ed55a31 tid=002f
trace:seh:raise_exception  info[0]=00000001
trace:seh:raise_exception  info[1]=00470000
trace:seh:raise_exception  eax=9999cccc ebx=7ede8ff4 ecx=00000000
edx=00000067 esi=00000328 edi=00470000

ie7 seems to work around that (haven't tried Jacek's beta gecko yet).

After that it gets further but aborts saying that visual studio
isn't installed.  The console log doesn't say much it ends with 

trace:msi:MSIREG_OpenProductKey (L{1862162E-3BBC-448F-AA63-49F33152D54A} 4 0)
trace:msi:MSIREG_OpenProductKey squished (LE2612681CBB3F844AA36943F13255DA4)
trace:msi:MSIREG_OpenInstallProps L{1862162E-3BBC-448F-AA63-49F33152D54A}
trace:msi:MSIREG_OpenInstallProps squished (LE2612681CBB3F844AA36943F13255DA4)
trace:msi:MsiQueryProductStateW -> -1

I think this worked with wine-1.3.4 but I haven't done the regression.",20,"0"
"WINE-40781","KSP Trajectory Optimization Tool (using MATLAB Runtime (MCR)) Could not successfully parse URI string","In https://bugs.winehq.org/show_bug.cgi?id=40557 I got assistance getting KSP Trajectory Optimization tool.

The maintainer has since updated it to use a newer version of the MATLAB Runtime (from 2014b to 2015b).

Now when launched in wine a small error dialog appears that says Could not successfully parse URI string. Screenshot attached.

To reproduce follow instructions here:
http://forum.kerbalspaceprogram.com/index.php?/topic/33568-winmac-ksp-trajectory-optimization-tool-v154-ksp-v11x-compatibility/&page=1

MATLAB Runtime download:
http://www.mathworks.com/supportfiles/downloads/R2015b/deployment_files/R2015b/installers/win64/MCR_R2015b_win64_installer.exe

KSP TOT download:
https://dl.dropboxusercontent.com/u/29126891/KSPTOT.zip


I'm using WINE staging 1.9.11 on OS X 10.11.5

$ wine ~/Downloads/KSPTrajectoryOptimizationTool.exe 
fixme:winediag:start_process Wine Staging 1.9.11 is a testing version containing experimental patches.
fixme:winediag:start_process Please mention your exact version when filing bug reports on winehq.org.
fixme:ntdll:NtCreateNamedPipeFile Message mode not supported falling back to byte mode.
fixme:ntdll:NtCreateNamedPipeFile Message mode not supported falling back to byte mode.
fixme:ntdll:NtCreateNamedPipeFile Message mode not supported falling back to byte mode.
fixme:console:AttachConsole stub ffffffff
fixme:ver:GetCurrentPackageId (0x412cfc0 0x0): stub
fixme:heap:RtlSetHeapInformation 0x10000 0 0x412d2f8 4 stub
fixme:ntdll:NtCreateNamedPipeFile Message mode not supported falling back to byte mode.
fixme:heap:RtlSetHeapInformation 0xe460000 0 0x412ce80 4 stub
err:dbghelp:SymCleanup this process has not had SymInitialize() called for it!
>>>> error dialog appears here <<<<<
fixme:msvcrt:__clean_type_info_names_internal (0xc7c4028) stub",220,"0"
"WINE-11184","Performance regression in variable substitutions.","Created attachment 10240
Benchmark with Wine 0.9.52 and 0.9.53 doing the same thing.

After installing wine version 0.9.53 I discovered a big performance hit in some scripts i used before:

I removed  ~/.wine/ but it did not changed anything.",0,"0"
"WINE-5402","Multiple MFC-based apps crash during non-modal child dialog control creation with active window being zero (Canon PhotoStitch 3.1.13 Flexible Renamer v8.4)","I was able to install PhotoStitch 3.1 no problem but I get errors in ntdll when
I try to run it.

I tried looking for an existing bug but I really haven't a clue what terms to
search for.  Sorry if this is a duplicate.",4554,"1"
"WINE-28484",".NET Framework 4.0: Crash after extracting files - unimplemented wer.WerReportAddDump","Created attachment 36530
Terminal output second part with disabled wer.dll (via winecfg)

When trying to install .NET 4.0 the installer extracts all files and then crashes there isn't even a install dialogue box.

I'm using Wine 1.3.29 on a 64-Bit Arch Linux machine with a clean WINEPREFIX WINEARCH is set to win32. Also I use the standalone installer from http://www.microsoft.com/download/en/details.aspx?id=17718 and I have wine_gecko installed from the Arch repositories.",2,"0"
"WINE-23755","Everquest 2 demo/Pirates of the Burning Sea installer crashes","Created attachment 29774
output of 'wine LaunchPad.exe'

After downloading and launching the Everquest 2 streaming client it displays a blank gray window for about two minutes (see logs) and a second window with just the SOE logo in it then crashes with an unhandled exception.

The program works correctly when tested against Windows XP Pro SP3.

Note: An Everquest 2 account is NOT needed to work on this bug as it occurs prior to login.

The program is available here: http://launcher.station.sony.com/games/eq2/live/launcher_setup.exe",1023,"1"
"WINE-28852","Star Trek Online sound distorted/stutters","around Wine 1.1.40 STO worked fine with mmdevapi set to disabled.

At 1.3.25 of course it had to be enabled for sound... but since the forcing over to mmdevapi for sound sound has never worked in this game properly (at least on CoreAudio).

up to the current 1.3.31 it still has the same problem.  The sound stutters and echoes itself over and over at each sound effect... for a long time making the sound next to useless.

I do not know of this affects more than just mmdevapi on CoreAudio... but sound used to work fine before mmdevapi.",144,"0"
"WINE-23033","Tages Protection v5.x: games report DLL not found shell.dll16.dll (Runaway 2: The Dream Of The Turtle ...)","Created attachment 28552
The error window.

After I started Runaway 2 : The Dream Of The Turtle a windows appears with an error message: DLL not found shell.dll16.dll",2810,"1"
"WINE-4529","In Firefox 1.5 background images displayed wrong","Start Firefox 1.5.  
View http://kegel.com/wine/gmailstar.html
The star should be yellow.  Instead it is white and black.

Long story:
this bug makes gmail look clunky.  Here's how to see it in
its natural habitat:

Log in to your gmail account.
(If you need one I can invite you I have 100 invites left.)
The 'star' symbol (a small gif) is displayed in two places:
1) after the word 'Starred' in the left navbar
2) in the list of messages each line in the list has
a checkbox a star (on or off) the name of the sender 
and the subject.  

The star in the left navbar looks fine it's displayed
using a foreground img link.
The stars in the list of messages are displayed using
a css background style and look like crap
and are broken -- you see only an inverse of a star
and the star image itself is not really shown so you
can't tell if the star is on or off. 

You can see the HTML involved if you do a Save Page
grep all the files for star_off_sm_2.gif
or star_on_sm_2.gif and run the matching files
through tidy.  To save you the pain
I have isolated a minimal HTML test and uploaded it to
http://kegel.com/wine/gmailstar.html
This displays the star as a background
in the same way gmail does it looks
like crap under wine but ok under native firefox.",22,"0"
"WINE-21538","SSL implementation is incomplete (affects yahoo and SSL'ed ICQ Miranda connections)","Created attachment 25947
WINEDEBUG=+secur32+crypt32+winsock wine miranda32.exe

Steps to reproduce:

1. Download Miranda
2. Set up ICQ profile on http://www.icq.com/
3. Run Miranda with the given profile data
4. Change connection type to SSL in ICQ plugin parameters
5. Try to connect

Connection will fail with timeout.",905,"1"
"WINE-20371","SolidWorks 2008: Installation fails","Created attachment 24138
wine-1.1.31 with dotnet installed through winetricks

I'm using Fedora 11 32 bit with Wine 1.1.31

The installation of SolidWorks 2008 fails with msiexec error. Last installer step was something like adding Windows registry keys.

The application needs .NET Framework 3.0. If i install it through winetricks then whole wineprefix is 2.9 GB big after installation error. If I use clean wineprefix then whole wineprefix is 2.4 GB big after installation error.",30,"0"
"WINE-6202","Live For Speed Could not detect any suitable screen modes","This message I receive in new Wine 0.9.21",14,"0"
"WINE-1293","Internet Explorer 6.1SP1 cannot download files.","Bug comments restored from Gmane.org: 
 
Explorer 6.1SP1 ran on wine cvs with --winver=winxp cannot download its setup
files (Please make sure you are connected to the Internet..etc). The error
messages follow. Please not networking seems to work since the kazaa installer
downloaded its components fine. Winehack preloads a library prior to running
wine to solve the threading issue with glibc 2.3.1.

[phantom@cobra phantom]$ winehack ie6*
Got eroloc 0x4011a614 & 0x40248b10
Got eroloc 0x804981c & 0x4015eb10
fixme:win32:PE_CreateModule Security directory ignored
fixme:advapi:CheckTokenMembership ((nil) 0x4039c778 0x408d2cfc) stub!
fixme:process:CreateProcessA (E:\IXP000.TMP\ie6wzd.exe...): NORMAL_PRIORITY_CLA
                                                              SS ignored
Got eroloc 0x4011a614 & 0x40248b10
fixme:cursor:CURSORICON_SimulateLoadingFromResourceW Animated icons not correctl
                                                              y implemented!
0x41790000 
fixme:cursor:CURSORICON_SimulateLoadingFromResourceW icon entry found! 0x4179000
                                                              0
fixme:cursor:CURSORICON_SimulateLoadingFromResourceW icon size ok. offset=0x4179
                                                              0074 
fixme:ntdll:NtQueryInformationProcess (0xffffffff0x0000001a0x408d2cb00x000000
                                                              04(nil))stub!
fixme:advapi:CheckTokenMembership ((nil) 0x403ae5d8 0x408d25cc) stub!
fixme:dosfs:QueryDosDeviceA (A:) not detected as DOS device!
fixme:dosfs:QueryDosDeviceA (B:) not detected as DOS device!
fixme:setupapi:SetupInstallFromInfSectionW unsupported flags 106
fixme:urlmon:URLMON_DllRegisterServer (void): stub
fixme:setupapi:SetupInstallFromInfSectionW unsupported flags 106
fixme:ole:CoCreateInstance no classfactory created for CLSID {6e449686-c509-11cf
                                                             
-aafa-00aa00b6015c} hres is 0x80040150
fixme:setupapi:SetupInstallFromInfSectionW unsupported flags 106
[phantom@cobra phantom]$


------- Additional Comments From mike  theoretic.com  2003-03-30 15:16 -------
Are you behind a proxy?

By explorer I assume you mean Internet Explorer?


------- Additional Comments From ivg2  cornell.edu  2003-03-30 22:06 -------
Yes I mean internet explorer. 
No I am not behind a proxy. 


------- Additional Comments From mike  theoretic.com  2003-03-31 03:57 -------
Confirming as I've seen this issue before I normally just copy the files it
downloads into the same directory. I thought it'd be fixed by a patch that went
in a few weeks ago but that was for proxies.",1214,"1"
"WINE-25787","MYST V Demo: Black screen after into movies","Created attachment 32862
Terminal output: wine MystVDemo.exe + WINEDEBUG=+d3d wine MystVDemo.exe

The problem occurs once the user has finished watching the Ubisoft and CyanWorlds introduction .bik videos. The screen is black and flickers numbers/letters and a pointer finger followed by a completely black screen which locks up the game.

I've done a trace on d3d which seems to be causing it. Attached.",899,"1"
"WINE-32347","Alien8 and Head Over Heels crash when window is moved partly off-screen","This issue applies to at least two game remakes available from
http://retrospec.sgn.net/

Alien8: http://retrospec.sgn.net/game-links.php?link=alien8
Head Over Heels: http://retrospec.sgn.net/game-links.php?link=hoh

Source code is available for Alien8.

I'm testing with wine-1.5.18-114-ga61f68f Lubuntu 11.10 x86-64 Nvidia driver
304.64.

Both games crash when you drag the game window so it is partly off the right and/or bottom edge of the screen. (There is no crash when the window is off the left and/or top edge.)

The crash didn't give a very useful backtrace. Sometimes when it crashed there was no error dialog just this console text:
err:seh:raise_exception Unhandled exception code c0000005 flags 0 addr 0x7bc4b43a",1212,"1"
"WINE-24835","Graphical corruption in Verizon Media Manager without native GDIplus","Created attachment 31411
Media Manager without native GDIplus.

Similar to http://bugs.winehq.org/show_bug.cgi?id=23956 (which was about text not displaying) Verizon Media Manager needs a native GDIplus in order to display properly.  The screen has numerous areas of black where it shouldn't be and that is obscuring the controls and other parts of the interface.

I've tried to get a GDIplus trace log but if I wait long enough for the interface to come up the file is already 500 MB in size.  If that's fine please tell me and I'll upload it to a place of your choosing.",161,"0"
"WINE-42570","dinput/tests/mouse intermittently fails in Acquire() and GetDeviceData()","Created attachment 57480
log with +dinput

The following lines are sometimes printed:

mouse.c:143: Test failed: Acquire() should have failed: 00000000
mouse.c:147: Test failed: Acquire() failed: 00000001

Less often 2-4 of the following lines may be printed as well:

mouse.c:152: Test failed: GetDeviceData() failed: 00000000 cnt:0
mouse.c:158: Test failed: GetDeviceData() failed: 00000000 cnt:0
mouse.c:166: Test failed: GetDeviceData() failed: 00000000 cnt:0
mouse.c:177: Test failed: GetDeviceData() failed: 00000000 cnt:0

This affects at least the f25 and hd6800 test machines. If there is any relevant information I can provide about my machine please let me know.",250,"0"
"WINE-15120","EVE Online: Only shows a black screen","I recently upgraded to 1.1.3 with the hope that maybe EVE would work a little bit better. I was able to get premium graphics content but it would not render ship and station models. When I disabled the premium content and EVE restarted all I got was a black screen. Downgrading to 1.1.1 did not fix it nor did reinstalling EVE.",487,"0"
"WINE-14128","Oblivion crashes during certain quests when entering certain doors or jumping into water","Created attachment 14368
Crash Log for Oblivion Bug

I've noticed during the dark brotherhood quests when using backbuffer for OffScreenRenderingMode that the game may crash when certain things are done. Entering certain doors will always cause a crash jumping into the water during certain points of certain quests will also cause a crash. It's seems that numerous things trigger this crash but they all produce an almost identical back trace. If anyone has trouble reproducing this bug then I'll post additional info / my hardware.",590,"0"
"WINE-29973","StarBurn doesn't recognize its default drive selection for erasing","Created attachment 39019
Terminal output

In StarBurn's erase disc dialog a list of detected CD/DVD/Blu-Ray drives is provided with one of those drives selected by default. However just clicking next to erase the disc in the preselected drive fails with an error claiming no device was selected. It works after deselecting the drive and then selecting it again.

This is a regression:

59e59c6bf97540a1c8ca5c248a10b9114cce9608 is the first bad commit
commit 59e59c6bf97540a1c8ca5c248a10b9114cce9608
Author: Nikolay Sivov 
Date:   Thu Jul 23 23:50:12 2009 +0400

    comctl32/listview: Don't alter selection mark in LVM_SETITEMSTATE.

:040000 040000 3b933d2d7fd43bcb781f1d1ce8dbe9f79d8b7b3b f109d330ce3227ec4a3226ccaba0b790d421a078 M    dlls

Reverting the patch allows the default selection to be recognized properly.

Steps to reproduce:

1. Ensure a mounted rewritable optical disc is available
2. Create a symlink at $WINEPREFIX/dosdevices/cdrom0 linked to the device node of the drive containing the disc
3. Install and run StarBurn
4. Right-click the drive at the bottom of the window and choose 'erase disc'
5. Click next",119,"0"
"WINE-14585","Anquet maps won't install with internal installer error number 536870920.","When running the demo installer downloadable from http://www.anquet.com/ (version 6.2) the installer fails with internal installer error. The error code is 536870920.

Upon clicking OK to close the error pop-up the installer tries to download and install the .NET framework but after downloading fails again with Failed to verify digital signature of file http://download.microsoft.com/download/5/6/7/567758a3-759e-bf8f-52154438565a/dotnetfx.exe.

Upon clicking OK the installer dies. Nothing is installed.",202,"0"
"WINEHQ_BUGZILLA-12649","Add wine 0.9.60 version to the list of available versions","Summary tells it all.",2,"0"
"WINE-30220","Unhandled privileged instruction when starting Minitab 16 (Sentinel HASP hardlock.sys kernel driver tries to write to CR4/not handled in ntoskrnl emulate_instruction)","The following error is printed to the terminal when I startup Minitab 16. However there is no effect on the GUI and the application continues to work as normal. Bug 30219 could be related. 

$ env WINEPREFIX=/home/prabhjot/.myWineBottles/Minitab16/ wine C:\Program Files\Minitab\Minitab 16\Mtb.exe
fixme:ntoskrnl:KeInitializeMutex stub: 0x5b4a80 0
fixme:ntoskrnl:KeWaitForSingleObject stub: 0x5b4a80 0 0 0 (nil)
wine: Unhandled privileged instruction at address 0x5adf59 (thread 0019) starting debugger...
err:ole:CoRegisterClassObject object already registered for class {03e42d3f-a029-4137-b411-244c669f3fbd}
fixme:richedit:IRichEditOle_fnSetHostNames stub 0x2894338 Minitab Mtb
fixme:richedit:IRichEditOle_fnSetHostNames stub 0x2894338 Minitab Project Manager
fixme:richedit:ME_HandleMessage EM_SETTARGETDEVICE doesn't use non-NULL target devices
fixme:process:GetProcessWorkingSetSize (0xffffffff0x32f9d80x32f9dc): stub
fixme:shell:SHGetFileInfoW set icon to shell size stub
fixme:shell:SHGetFileInfoW set icon to shell size stub
fixme:ole:CoResumeClassObjects stub",1023,"1"
"WINE-16635","Mathematica 7 Player crashes on startup with unimplemented KERNEL32.dll.GetErrorMode","The free player installs fine but crashes on startup with
unimplemented function KERNEL32.dll.GetErrorMode 

After the first backtrace it also complains
unimplemented function KERNEL32.dll.GetLSCallbackTarget
unimplemented function KERNEL32.dll.GetLSCallbackTemplate",18,"0"
"WINE-27250","Prey receives a truncated hostname from hostname.exe ?","See bug 27170 for the original bug. Prey uses 'hostname' to get the hostname and uses this for the default device name. My current machine's hostname is 'aw21'. With wine-1.3.20-230-g456e48e when running the prey installer it thinks my hostname is 'aw2'. As a test I made a simple exe that returns a longer string:
austin@aw21 ~ $ cat foo.c 
#include 
int main(void)
{
printf(test\n)
return 0
}

and compiled with mingw32 renamed to hostname.exe and set to native. Prey then sees 'test' as my full hostname. Something in the current hostname implementation isn't making prey happy...",11,"0"
"WINE-12404","Lotus Notes doesn't show window contents after minimize then unminimize","I have been running Lotus Notes under wine for a few years.  I run Debian GNU/Linux testing version.  Today I upgraded wine from 9.56 to 9.58.  After I did so Lotus Notes has major problems.  After I minimize the window when I unminimize it all that I get is the window frame and the minimize/maximize/close bar.  The window content just shows the desktop below it.  I see no content.  I rebooted my computer to see if that helps.  It didn't help.  Sometimes the very first time I unminimize after starting Notes the window shows.  All other times nothing shows after unminimizing the window.

Lotus Notes version 7.0.2
Wine version from Debian GNU/Linux testing 9.58-1",193,"0"
"WINE-4162","Orcad 9.2.2 installation crashes on serial# copy & paste","from wine 0.9.1 thru 0.9.3 Orcad 9.2.2 installation is broken and does not work
any more when you copy/paste the serial number the app is just killed and the
error message is as follows:
X Error of failed request:  BadAtom (invalid Atom parameter)
  Major opcode of failed request:  17 (X_GetAtomName)
  Atom id in failed request:  0x0
  Serial number of failed request:  559
  Current serial number in output stream:  561

The last version I used that worked was 0.9-1 from debian (unstable) binaries

Regards",274,"0"
"WINE-13100","Sanitarium - D3D fails to create DIB section and page fault","Created attachment 12879
console backtrace

During Sanitarium testing when switching from loading screen to level 2 scene
rendering a D3D error occurs then a page fault leading to game crash:

[...]
fixme:ddraw:IDirectDrawImpl_WaitForVerticalBlank (0x13f090)->(1(nil)): Stub
fixme:ddraw:IDirectDrawImpl_WaitForVerticalBlank (0x13f090)->(1(nil)): Stub
err:d3d_surface:IWineD3DBaseSurfaceImpl_CreateDIBSection CreateDIBSection failed!
err:d3d_surface:IWineD3DBaseSurfaceImpl_CreateDIBSection CreateDIBSection failed!
wine: Unhandled page fault on write access to 0x00000000 at address 0x433fed (thread 0027) starting debugger...

The game was launched in the console see the backtrace in attachment.

This bug is not the same as #6828.",533,"0"
"WINE-14503","Riched20 assertion failure when running DNS9.0","Created attachment 14825
Last few lines of terminal output before crash.

To recreate crash:

Installed Dragon NaturallySpeaking 9.0 Preferred with 
wine-1.1.1-55-g6dd7f06
Enabled pulseaudio by running the following:
  padsp winecfg
In audio I selected OSS toggled off others pushed default sample rate to 4800. 
Closed winecfg. 
Navigated to folder then ran
  padsp wine natspeak

DNS ran great for a while then crashed. I was pushing the program hard. 
The error seems to have nothing to do with sound however usually DNS runs without crashing and using PulseAudio is the only thing different that I did.",189,"0"
"WINE-19703","Vypress Chat: crashes","Created attachment 23005
console output

I try to execute this program but it crashes when load main window.",75,"0"
"WINE-38224","AcceptEx detaches the socket from its IO completion port","Created attachment 51024
Source + binary for BugAcceptEx

Hello

On a server I have a listening socket
    lListeningSocket := socket (PF_INET SOCK_STREAM IPPROTO_TCP)
    CreateIoCompletionPort (lListeningSocket lIoCompletionPort 0 0)
    bind (lListeningSocket PSockAddr (@lAddress)^ SizeOf (TSockAddrIn))
    listen (lListeningSocket 1)
and I prepare a socket for a new connection
    lSocket := socket (PF_INET SOCK_STREAM IPPROTO_TCP)
    CreateIoCompletionPort (lSocket lIoCompletionPort 0 0)
then call AcceptEx
    lPtrAcceptEx (lListeningSocket lSocket ...)

GetQueuedCompletionStatus (lIoCompletionPort ...) signals completion for AcceptEx for an incoming connection (so CreateIoCompletionPort (lListeningSocket ...) works fine) but never signals completion for events on lSocket not even a disconnection.

If I call again
   CreateIoCompletionPort (lSocket lIoCompletionPort 0 0)
after the completion of AcceptEx it works fine.
So AcceptEx as detached lSocket from the IO completion port.

To help reproducting it I created a little command line server BugAcceptEx.exe
Here attached is the code (Delphi) and the executable.

In a command prompt run
  BugAcceptEx 1234
and in another command prompt
  telnet localhost 1234
and press a key

Under Windows it works fine under Mac + Wine the server signals the incoming connection but never signals data nor disconnection.

Now if you do
  BugAcceptEx 1235 WithPatch
and
  telnet localhost 1235
it works fine

Thank you for your help.

Regards

Michel Terrisse",148,"0"
"WINEHQ_APPS_DATABASE-8121","Links on the left can not be select when javascript is disabled","When I disable java-script none of the links work on the left side. Making it
impossible to navigate.",1,"0"
"WINE-42507","Final Fantasy XI Online: Intermittent crashes.","Created attachment 57389
Backtrace With Terminal Output (tidseh)

The game crashes seemingly without doing anything in particular though most often it has happened after having moved from an area to another or right after having entered the game world the player having gained control of their character.

Usually after having moved to a different area the crash occurs when moving the player character or/and the camera.

It has also happened while the game window was in the background not active.

Perhaps somewhat interestingly it seems to always crash in '0x79db5d60':

Backtrace:
=>0 0x79db5d60 in libnvidia-glcore.so.378.13 (+0x14d3d60) (0x676cf844)

Reverting wined3d: Do not preload the buffer in wined3d_buffer_unmap(). (6fd212818d6ade9d571aba1566b5e56ce594b01b) seems to fix/avoid this.",5,"0"
"WINE-12680","jack driver produces buffer underruns (regression)","This is a regression introduced by the patch for winejack.drv by Andrew Talbot.
After this patch wine produces buffer underruns with the following error output:
err:wave:JACK_callback_wwo buffer underrun of 1024 frames
(where '1024' my differ from system to system depending on the jack configuration).

When winejack.drv is substituted by the one from 0.9.58 everything is fine.

To reproduce just use the jack driver in winecfg.",13,"0"
"WINE-28516","Red Alert 3 crashes when loading map","Created attachment 36596
wine-1.3.29 output

The menu works fine when loading any map (tutorial skirmish mission) the game crashes immediately.

A regression test returned this result:
08186a9c26e954aea26ad0129cae35f24f18054e is the first bad commit
commit 08186a9c26e954aea26ad0129cae35f24f18054e
Author: Mariusz Pluciski 
Date:   Thu Jun 30 14:59:46 2011 +0200

    shell32: Check for known folder existance.

:040000 040000 b3f8d21b18277ad943ac1b8d0f723d2fd967960f 8db8eca5b64afce8ab414dd5437335dbe3e19299 M	dlls

This patch was committed between wine-1.3.23 and wine-1.3.24 so wine-1.3.24 is the first bad version.
I have tested in current git head (wine-1.3.29-99-g3960ea8) and the problem is exactly the same.

Output with of wine-1.3.29 is attached.",136,"0"
"WINE-31186","Star Wars: The Old Republic: Launcher display incorrectly can't launch game","Since the latest update on July 10 2012 the launcher of Star Wars: The Old Republic displays wrongly making it unusable so that the game can not be started.

It appears that the launcher is drawn at an incorrect offset (you can still see its top-left-ish corner in the bottom-right corner of the area the launcher is normally shown.

This happens in both wine 1.5.8 patched with the fix for bug 29168 as well as a stock wine 1.4-rc1.

Default debug output wine shows:

fixme:iphlpapi:NotifyAddrChange (Handle 0x32cbcc overlapped 0xee4e10): stub
fixme:winsock:WSALookupServiceBeginW (0x32cc78 0x00000ff0 0x32ccb4) Stub!
[0710/152156:ERROR:network_change_notifier_win.cc(111)] WSALookupServiceBegin failed with: 8 
fixme:winhttp:request_query_option unimplemented option 93
fixme:winhttp:request_query_option unimplemented option 93
fixme:winhttp:request_query_option unimplemented option 93
fixme:winhttp:request_query_option unimplemented option 93
fixme:winhttp:request_query_option unimplemented option 93
fixme:winhttp:request_query_option unimplemented option 93
fixme:winhttp:request_query_option unimplemented option 93
err:ole:CoInitializeEx Attempt to change threading model of this apartment from multi-threaded to apartment threaded
fixme:winhttp:request_query_option unimplemented option 93
fixme:winhttp:request_query_option unimplemented option 93
fixme:winhttp:request_query_option unimplemented option 93
fixme:winhttp:request_query_option unimplemented option 93
fixme:winhttp:request_query_option unimplemented option 93
fixme:winhttp:request_query_option unimplemented option 93
fixme:winhttp:request_query_option unimplemented option 93
fixme:toolhelp:CreateToolhelp32Snapshot Unimplemented: heap list snapshot
fixme:toolhelp:Heap32ListFirst : stub
fixme:win:EnumDisplayDevicesW ((null)00x3247f00x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x31e3d80x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x3227a40x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x3247d00x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x3248100x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x3247b40x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x3d3a2a80x00000000) stub!
Exception: resolve: Unknown error
fixme:win:EnumDisplayDevicesW ((null)00x3d392400x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x3d391800x00000000) stub!
fixme:ddraw:ddraw7_Initialize Ignoring guid {aeb2cdd4-6e41-43ea-941c-8361cc760781}.
fixme:devenum:DEVENUM_ICreateDevEnum_CreateClassEnumerator Category {33d9a760-90c8-11d0-bd43-00a0c911ce86} not found
fixme:devenum:DEVENUM_ICreateDevEnum_CreateClassEnumerator Category {33d9a761-90c8-11d0-bd43-00a0c911ce86} not found
fixme:devenum:DEVENUM_ICreateDevEnum_CreateClassEnumerator Category {cc7bfb41-f175-11d1-a392-00e0291f3959} not found
fixme:devenum:DEVENUM_ICreateDevEnum_CreateClassEnumerator Category {cc7bfb46-f175-11d1-a392-00e0291f3959} not found
Exception: resolve: Unknown error
Exception: resolve: Unknown error
fixme:winhttp:WinHttpDetectAutoProxyConfigUrl discovery via DHCP not supported
fixme:winhttp:request_query_option unimplemented option 93",440,"0"
"WINE-40179","Cannot insert mpg files in Powerpoint 2010","Created attachment 53687
Log trying to insert mpg in Powerpoint 2010

The two videos from bug 17448

http://fgouget.free.fr/tmp/wine-test-videos/daytona_crw.mpg
http://fgouget.free.fr/tmp/wine-test-videos/Ikea_Tidy_up_2_11.mpg

now work for me in Powerpoint 2003 and 2007 but not Powerpoint 2010. Powerpoint 2010 pops up an error message that says Powerpoint cannot insert a video from the selected file. Verify that the necessary codec for this media is installed and then try again. 

Terminal output (full log attached) includes this line:

** (wine:22741): CRITICAL **: gst_audio_format_to_string: assertion 'format != GST_AUDIO_FORMAT_UNKNOWN' failed",91,"0"
"WINE-25062","popen: the stderr from the child process is (wrongly) redirected to the parent's stdin","When a child process is popened in read mode the child's stdout and stderr are both redirected do parent's stdin which is wrong: only the child's stdout shoud be redirected child's stderr should be the same as (inherited from) the parent's stderr.

In the following example the This is stdout text should be displayd in upper-case: THIS IS STDOUT and the This is stderr should be displayed in lower-case.

Both child.c and parent.c should be compiled executables should be located in the same directory and parent.exe should be executed.

I compiled the example in three different ways:
1) msvc 6.0 using static libraries on Windows
2) msvc 6.0 using msvcrt.dll compilation on Windows
3) mingw using msvcrt.dll cross-compilation on Linux

All three executables works correctly on Windows platforms (tested on Windows XP) while ony the no. 1) woks correctly on Linux + Wine: it uses the statically linked popen implementation from msvc library. No. 2) and no. 3) display incorrect uppercase THIS IS STDERR: they both use the Wine msvcrt.dll.

I think that this proves that the bug is in the Wine msvcrt.dll popen implementation.

Example:

child.c:
----8<----
#include 

int
main (void)
{
  fprintf (stdout This is stdout\n)
  fprintf (stderr This is stderr\n)
  return 0
}
---->8----

parent.c:
----8<----
#include 
#include 

int
main (void)
{
  FILE *fp

  if (NULL != (fp = _popen(.\\child rt)))
    {
      int c

      while (EOF != (c = getc (fp)))
        putc (toupper (c) stdout)
      _pclose (fp)

      return 0
    }
  else
    {
      perror (parent)
      return 1
    }
}
---->8----

I took a look to the popen implementation in wine-1.3.6/dlls/msvcrt/process.c function MSVCRT__wpopen(): all special handling of fdStdErr in case of readPipe seems suspicious to me...

Borut",9,"0"
"WINE-35138","Keil uVision 3 IDE (PK51 version) crashes when coming out of hardware debug session","Created attachment 46872
details of keil after crashing.

Keil Uvision 3 (PK51 version) crashes when coming out of hardware on chip debug session of the executing program.",9,"0"
"WINE-8105","%SystemRoot% is not accessible","The Protel99 install was succes but the setup maked something wrong.
All my wine programs (totalcmd winecfg ...) got this:

Warning: the specified Windows directory L%SystemRoot% is not accessible.

but all programs run except the Protel99. It crashes at startup.",237,"0"
"WINE-8083","C&C 3 Demo crash with out of memory","I've followed all instructions provided by appDB game starts and runs very
smoothly however it _always_ crashes or freezes after some minutes of playing.

helps?",3,"0"
"WINE-15242","Photoshop CS2: Typing causes excessive processor use and brief unresponsiveness","Open Photoshop CS2. 
Open an image
Press T to select the typing tool.
Click.
Type quickly.

Watch your system monitor's CPU usage leap all over the place. If you type the right speed photoshop doesn't get a chance to update the image with your text and the cursor moves with nothing appearing behind it. All the text pops in at once when your CPU gets a chance to breathe.

Hit CTRL-Enter to finish typing.
Press V to select the movement tool.
Press the down arrow to move the text box incrementally.

Watch your system monitor's CPU usage leap all over the place.
Let go of down and watch all the cached keystrokes keep your text box sliding off the edge of your image.

In Windows as soon as you let go of the arrow keys the object stops moving.
In Windows when you type text appears immediately on the image.
In Windows typing doesn't take a bunch of CPU time.",1769,"1"
"WINE-20198","Help icon crashes Internet Explorer 7","Created attachment 23816
Gzipped wine default console output

If you hover over the help icon (ALT+l) of IE7 for more than a second the browser crashes.

Replicated with 1.1.30~winehq0~ubuntu~9.04-0ubuntu1 and 1.1.29~winehq0~ubuntu~9.04-0ubuntu1 .
With 1.0.1-2 the IE7 does not start at all...

I used the HOWTO on http://www.wine-reviews.net/wine-reviews/applications/ie-7-on-linux-with-wine.html to install the IE7.",155,"0"
"WINE-9055","pthreads-w32 Test Suite fails under wine","Up-to-date git wine fails priority1.c test case due to incorrect
SetThreadPriority behavior.

once[234].c fail due to lower limits on the # of threads under wine.",6,"0"
"WINE-34567","qq 2012 installer crashes at 100%","http://dl_dir.qq.com/qqfile/qq/QQ2012/QQ2012.exe 
sha1sum ea20cd09390588ea0943e0d0f9af56544a4cac4f

The installer gets to about 100% then crashes with

err:msvcrt:MSVCRT__invalid_parameter (null):0 (null): (null) 0
wine: Unhandled exception 0xc0000417 in thread 1c at address 0x7b83b292 (thread 
001c) starting debugger...
Backtrace:
=>0 0x7b83b292 RaiseException+0x62(code= flags=<coul
dn't compute location> nbargs= args=<couldn't compu
te location>) [/home/dank/wine-git/dlls/kernel32/except.c:85] in kernel32 (0x03d
bd4d8)
  1 0x7c7864cd MSVCRT__invalid_parameter+0x9c() in msvcrt (0x03dbd548)
  2 0x7c7c538c MSVCRT_wcsrtombs_s_l+0x19b() in msvcrt (0x03dbd5a8)
  3 0x7c7cdbd0 MSVCRT_wcstombs_s+0x2f(ret=0x3dbd5e0 mbstr=C:\users\dank\Deskto
p\ size=0x400 wcstr=??QQ.lnk count=0x3c) [/home/dank/wine-git/dlls/msvcrt/
wcs.c:519] in msvcrt (0x03dbd5c0)
  4 0x30072a17 in common (+0x72a16) (0x03dbd9e8)
  5 0x30076a8d in common (+0x76a8c) (0x03dbda68)
  6 0x00479877 in qq2012 (+0x79876) (0x03dbdd6c)

winetricks vcrun2005 lets you get past this crash.",5,"0"
"WINE-43844","Skyrim can not load skse when upgrade to 2.18","Created attachment 59401
stdout that wine output.

After upgrade to wine-staging skyrim can not load skse_1_9_32.dll which is normal in 2.17.",47,"0"
"WINE-14696","Mordor: the Depths of Dejenol installer crashes when running UNWIP.EXE","Created attachment 15181
output of WINEDEBUG=warn+all 

The installation starts okay when I do the wine.inf change required to load ddeml.dll (bug 7326) and set the windows version to Win95. Then it tries to extract files from some .WIP files using the UNWIP.EXE and fails. 
A message from Setup Unzipper shows Errors encountered: 0. 
My guess is that running UNWIP.EXE results in an error as the string Setup Unzipper is found in the UNWIP.EXE.

Attaching the debug logs from start up to the error (the action starts at about line 530).

$> file unwip.exe says:
unwip.exe: MS-DOS executable NE for MS Windows 3.x

Reading the test reports for the game in wine appdb it says that the game installed using version 0.9.58 of wine so this looks like a regression.",1,"0"
"WINE-9637","Switchball only shows a blank screen","Created attachment 8037
Switchball start log

I installed the game Switchball  the installation was fine but I couldn't manage to start the game.

wine Switchball.exe

The log is attached to this bug message.",581,"0"
"WINE-39586","Fallout 4 - Steam Version - Crash on Start-up","Created attachment 52749
Log File of Fallout 4

Loading the game via Steam or the Fallout 4 Launcher both produce a crash.
Trying this via a winewrapper (PlayOnLinux) or regular wine produces the same result.

This seems to be due to some kind of 64bit error.

Attached is a log.

This is the first bug report I have ever filed and think I have filed it correctly. Please feel free to yell RTFM if you want if I've made a mistake. :P",760,"0"
"WINE-5212","MSI: Abby Finereader Professional Trial doesn't install with a language different from english","Fresh wine installation on ubuntu dapper. The program installs with setup
language set to english but no other language works (german dutch french).

Does not work means essential widgets are missing only one option field is
shown but the license and the cancel/continue buttons aren't displayed.",55,"0"
"WINE-28391","Thief Gold Edition Portal: sound is broken when using coreaudio driver","Created attachment 36405
Log of WINEDEBUG=+winmm+wave+midi+dsound wine THIEFG.EXE

The new winmm coreaudio driver is broken. I have tested so far:
* the game Portal
* the game Thief Gold Edition

Every time the effects are the same. After some seconds sometimes more sometimes less the sound and music stops. If in debug mode (WINEDEBUG=+winmm+wave+midi+dsound) the game will freeze otherwise the game can be continued but without sound or music. 

Another symptom is the test sound button in winecfg: the sound is scratchy as if on a gramophone record grooves are skipped. 

See log of WINEDEBUG=+winmm+wave+midi+dsound wine THIEFG.EXE attached.",116,"0"
"WINE-3915","Win32 GTK apps are all black when run in WINE (dogfood)","Product: Wine
Version: 0.9.1-winehq-3
Component: wine-gui
OS: Linux (reproduced on both Debian and Ubuntu)
Severity: major (if you need to run GTK apps critical)
Summary: Win32 GTK apps are all black when run in WINE almost no features of
the GUI are visible except buttons.
Description:
I noticed in cross-compiling my Linux GTK apps for Windows (Win32) users that
the apps look good in real Windows but look almost entirely black when run in
Wine. I tried installing a Windows Classic theme in Wine but all it did was
make the Progress Bars flash occasionally visible. [side note: the GTK apps I
tested all also required an unavailable Windows DLL USP10.DLL]

Steps to Reproduce: I cross-compile since I no longer have any Windows-based
development boxes. So I don't know if this also happens with GTK apps natively
compiled on a Win32 box. But regardless my apps do look normal if you run them
in native windows they only have this black-on-black problem when run in Linux
under WINE.

To reproduce you'll need to install the standard GTK Win32 port that most
everyone uses for GIMP and GAIM from here:
http://gimp-win.sourceforge.net/

(You may also need USP10.DLL as mentioned above too)

Then just run a GTK Win32 program in wine -- I could send you an executable if
that is easier or you could cross-compile an official GTK Tutorial Hello
World program using these instructions:
https://sourceforge.net/docman/display_doc.php?docid=30849&group_id=149086

More info on this bug (in fact the request from a poster that I post this here
as a bug) is in this comp.emulators.ms-windows.wine thread:
http://groups.google.com/group/comp.emulators.ms-windows.wine/msg/b67c096722232d3c?dmode=source&hl=en

There are a few thing sent out to stderr when I run the app:

@ubuntu:~/Programming/GTKCrossCompile_HelloWorld$ wine helloworld.exe
fixme:font:load_VDMX Failed to retrieve vTable
fixme:font:load_VDMX Failed to retrieve vTable

(helloworld.exe:8): Pango-WARNING **: Couldn't load font MS Shell Dlg 8
falling back to Sans 8

Beyond that let me know if there is any more info I can provide.
Thanks!",1044,"1"
"WINE-8156","PAF 5 individual notes editor truncates displayed text at 32K","PAF 5 under Wine truncates the displayed individual notes (and perhaps other
blocks of text too) at about 32K bytes/characters.  Sam Foit first discovered
this problem but he asked me to file it.  I don't have a Gatesware system act
as control group but Sam Foit assures me PAF 5 on an XP system displays text
much larger than 32K.  The full text appears to be saved to files and exported
it's just the displaying in the notepad-like editor panel that truncates the
text.  I tested a similar file in Wine's Notepad and it displayed all the text
I tried.

I'll attach a GEDCOM file that serves as a test case.  To duplicate the problem
start up PAF 5 do new import the GEDCOM file close the statistics panel
double click on Fred Flintstone click on the 'notes' button scroll to the
bottom of the editor panel.  The full file has 30 verses but only about 20
display in PAF under Wine.

I will request that Sam Foit try my GEDCOM file with both Wine and XP to provide
a second witness of the difference.",151,"0"
"WINE-35840","'Das Fussball Studio' (VB6 based german soccer league db app) reports Run-time error '445' (needs ITextStream ReadAll method implementation)","Hello folks

continuation of bug 35474 (needs patch http://bugs.winehq.org/attachment.cgi?id=47855 applied).

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/Das Fussball Studio

$ WINEDEBUG=+tid+seh+relay+variant+ole+scrrun wine ./Das\ Fussball\ Studio.exe >>log.txt 2>&1
...
0027:trace:scrrun:file_OpenAsTextStream (0x12f6b0)->(1 0 0x33f9c8)
0027:Call ntdll.RtlAllocateHeap(001100000000000000000028) ret=7ddb3408
0027:Ret  ntdll.RtlAllocateHeap() retval=0017c9c8 ret=7ddb3408
0027:Call KERNEL32.CreateFileW(00197040 LC:\\users\\focht\\Application Data\\Das Fussball Studio\\SetupData.xml800000000000000000000000000000030000008000000000) ret=7ddb4c80
0027:Ret  KERNEL32.CreateFileW() retval=0000008c ret=7ddb4c80
0027:Call KERNEL32.GetFileSizeEx(0000008c0017c9e0) ret=7ddb4cd9
0027:Ret  KERNEL32.GetFileSizeEx() retval=00000001 ret=7ddb4cd9
0027:fixme:scrrun:textstream_ReadAll (0x17c9c8)->(0x33fa18): stub
0027:trace:scrrun:textstream_AddRef (0x17c9c8)->(2)
0027:trace:scrrun:textstream_QueryInterface (0x17c9c8)->({df0b3d60-548f-101b-8e65-08002b2bd119} 0x33f870)
0027:trace:scrrun:textstream_Release (0x17c9c8)->(1)
0027:Call oleaut32.SysFreeString(00000000) ret=6600e1a9
0027:Ret  oleaut32.SysFreeString() retval=0033f820 ret=6600e1a9
0027:Call oleaut32.SysFreeString(00000000) ret=6600e1ae
0027:Ret  oleaut32.SysFreeString() retval=0033f820 ret=6600e1ae
0027:Call oleaut32.SysFreeString(00000000) ret=6600e1b3
0027:Ret  oleaut32.SysFreeString() retval=0033f820 ret=6600e1b3
0027:Call KERNEL32.RaiseException(c000008f00000001000000020033f850) ret=660d0956
0027:trace:seh:raise_exception code=c000008f flags=1 addr=0x7b83ab7b ip=7b83ab7b tid=0027
0027:trace:seh:raise_exception  info[0]=deadcafe
0027:trace:seh:raise_exception  info[1]=deadcafe
0027:trace:seh:raise_exception  eax=7b826be1 ebx=7b8ba000 ecx=deadcafe edx=0033f7a4 esi=0033f850 edi=0033f810
0027:trace:seh:raise_exception  ebp=0033f7e8 esp=0033f784 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000283
0027:trace:seh:call_stack_handlers calling handler at 0x426186 code=c000008f flags=1
...
0027:Call KERNEL32.WideCharToMultiByte(000000000000000000196fac LRun-time error '445':\n\nObject doesn't support this actionffffffff022c4238000000720000000000000000) ret=660711c4 
--- snip ---

'winetricks wsh57' works around.

$ sha1sum DFS_Setup_852.exe 
841d3cb8dac5077f83b97952b53a9b166c099f4e  DFS_Setup_852.exe

$ du -sh DFS_Setup_852.exe 
17M	DFS_Setup_852.exe

$ wine --version
wine-1.7.15

Regards",12,"0"
"WINE-11154","Thief: the dark project / Thief 2: the metal age - crash on 3d engine startup on nvidia TNT2","Created attachment 10194
output

Starting a new game or loading a saved game crashes wined3d",2,"0"
"WINE-27141","Brink (Splash Damage Bethesda Softworks) (Steam) fails to launch","Created attachment 34662
brink console output

The game appears to start with the brink icon showing in the panel but then hangs up everything and produces a wine/program error dialog.

Tested with wine-1.3.19-284-g35c743b please see attached brinkconsole.txt.

Note: I have not loaded any winetricks yet (except steam of course) because I wanted to have as pristine console output as possible.",1394,"1"
"WINE-13174","Launching the game through AssassinsCreed_Game.exe fails","Created attachment 12983
What the error shows.

Launching the game through AssassinsCreed_Game.exe fails and prints the following error.",244,"0"
"WINE-33268","SlingPlayer 2.0.4 screen flickers when pointer over screen","Created attachment 44008
Wine 1.5.26 console output

When streaming video in SlingPlayer 2.0.4 under Wine 1.5.26 the screen flickers.

This video shows the effect:
http://www.youtube.com/watch?v=xX61ldJFmF8

This never used to occur but WMP10 (or WMP9) is now required to work around Bug 28669.

WINEARCH=win32 winetricks -q gdiplus quartz wmp10
required to work around a plethora of bugs.

Using a native qcap.dll makes no difference.",1731,"1"
"WINE-2592","SetCompositionWindow Errors","Trying to run something called nitto. 
wine starts it we get the splash screen and a login (like we do under 
windoze).  We are able to see errors spooling past on the console.  They 
consist of quite a few of: 
 
fixme:imm:ImmGetContext (0x10028): stub 
fixme:imm:ImmSetCompositionWindow STUB 
 
The program then ends and the window it is running in closes on this error: 
 
err:seh:EXC_DefaultHandling Exception frame is not in stack limits => unable to 
dispatch exception. 
 
I am not sure which error is the worse one or if one is causing the other!",1128,"1"
"WINE-17666","WinARM make crashes","Due to some mysterious problem with ARM GCC mismatch in the FP settings that
nobody never specified I cannot use Linux native arm-elf-gcc.

I found that the WinARM version works under Windows and therefore
as almost the last resort (the last one is to use Windows)
tried to compile under Wine. It failed.

The error message looks as:
make: Interrupt/Exception caught (code = 0xc0000005 addr = 0xf7d3f54a)

Importance: Wine was the last workaround I could think out
I will switch to Windows for development.

Steps to reproduce:

1. Get WinARM-20060606. It is available in a number of places google gives:
http://winarm.alexthegeek.com/WinARM-20060606.zip
http://www.siwawi.arubi.uni-kl.de/avr_projects/arm_projects/WinARM-20060606.zip
Unpack it as C:\WinARM.

2. Get the project: go to olimex.com and find the STR-H711 board page
get the OpenOCD-projects100.zip archive with the projects.
http://www.olimex.com/dev/str-h711.html
http://www.olimex.com/dev/soft/arm/OpenOCD-projects100.zip

It includes a number of projects we need str_711 from it.
Unpack it as C:\workarm\str_711.

3. Run the tools.

3a)
wineconsole cmd

3b)
Z:\home\mg>set path=C:\WinARM\binC:\WinARM\utils\bin%path%
Z:\home\mg>path
PATH=C:\WinARM\binC:\WinARM\utils\binC:\windows\system32C:\windows

3c)
Z:\home\mg>c:
C:\>cd workarm/str_711
C:\workarm\str_711>

Now you can run `make clean` or manually clean it and run `make`

3d)
C:\workarm\str_711>make clean

-------- begin (mode: ROM_RUN) --------

Cleaning project:
rm -f main.out
make: Interrupt/Exception caught (code = 0xc0000005 addr = 0xf7d3f54a)
C:\workarm\str_711>

--end of report--",282,"0"
"WINE-2386","WINNLS* commented stubs","Seems like WINNLS* functions' stubs are commented out of user32.spec. 
I was trying YuGiOh Power of Chaos before but it won't work if at least 
WINNLSEnableIME's stub is uncommented (still isn't working but at least seems 
to start with this).",1101,"1"
"WINE-6056","Vertex shaders bug in Prince of Persia demo","In the demo of Prince Of Persia sand of times one can't see the movie
introduction when Vertex sharders support is Hardware in winecfg. 
If Vertex Shaders support is None in winecfg all is fine and one can see the
intro movies.
The problem seem to be the following lines when ertex shaders support is checked:

err:d3d_shader:vshader_input_is_color Either no vertexdeclaration present or
register not matched. This should never happen.
trace:d3d_shader:shader_addline GL HW (9 181) : MOV R8 vertex.attrib[0]
trace:d3d_shader:shader_addline GL HW (10 198) : MOV TMP_OUT R8
trace:d3d_shader:shader_addline GL HW (11 247) : MOV result.color.primary
vertex.attrib[3].zyxw
err:d3d_shader:vshader_input_is_color Either no vertexdeclaration present or
register not matched. This should never happen.
trace:d3d_shader:shader_addline GL HW (12 281) : DP4 R7.x vertex.attrib[0] C[4]
err:d3d_shader:vshader_input_is_color Either no vertexdeclaration present or
register not matched. This should never happen.
trace:d3d_shader:shader_addline GL HW (13 315) : DP4 R7.y vertex.attrib[0] C[5]
err:d3d_shader:vshader_input_is_color Either no vertexdeclaration present or
register not matched. This should never happen.
trace:d3d_shader:shader_addline GL HW (14 349) : DP4 R7.z vertex.attrib[0] C[6]
err:d3d_shader:vshader_input_is_color Either no vertexdeclaration present or
register not matched. This should never happen.

I attached two console outputs with winedebug=+d3d_shader one is for vertex
shader support checked the other without vertex shader support.

Joaopa",200,"0"
"WINE-4969","IDA Pro Trial 5.0 doesn't run VkKeyScan failure?","IDA Pro trials are time limited.
While the 4.7 and 4.8 trials worked the 5.0 trial does not.

Error shown is:
========
\cfg\idagui.cfg 193: BitwiseNegate = '~'
Illegal hotkey
========

See screenshots.",767,"0"
"WINE-13338","cygwin installer crashes in /etc/postinstall/00bash.sh","Installation was smooth until it tried to run
the postinstall scripts it got to 14% then
complained
 393321 [proc_waiter] bash 37! _cygtls::handle_exceptions: Exception: STATUS_ACCESS_VIOLATION
fixme:advapi:ImpersonateLoggedOnUser (0xd8)
fixme:advapi:ImpersonateLoggedOnUser (0xd8)
 393865 [proc_waiter] bash 37! open_stackdumpfile: Dumping stack trace to bash.exe.stackdump
but no good stack dump is output.

You can reproduce this by running 'wine bash.exe' in cygwin's bin.

+relay seems to show it's inside a call to ReadFile():

003d:Call KERNEL32.ReadFile(000000e47e39e790000000a47e39e78c00000000) ret=61099eaa
trace:file:ReadFile 0xe4 0x7e39e790 164 0x7e39e78c (nil)
003c:Call KERNEL32.WaitForSingleObject(000001100000ea60) ret=61097f94
003c:Ret  KERNEL32.WaitForSingleObject() retval=00000000 ret=61097f94
003c:Call KERNEL32.CloseHandle(00000110) ret=61097fa8
003c:Ret  KERNEL32.CloseHandle() retval=00000001 ret=61097fa8
003c:Call KERNEL32.WaitForMultipleObjects(000000020067b92800000000ffffffff) ret=61048886
003c:Ret  KERNEL32.WaitForMultipleObjects() retval=ffffffff ret=61048886
trace:seh:raise_exception code=c0000005 flags=0 addr=0x610476d9
trace:seh:raise_exception  info[0]=00000000
trace:seh:raise_exception  info[1]=0000019c
trace:seh:raise_exception  eax=00000000 ebx=611697b8 ecx=ffffffff edx=61124b01 esi=00000000 edi=611030e4
trace:seh:raise_exception  ebp=0067c528 esp=0067c4b0 cs=0073 ds=007b es=007b fs=0033 gs=003b flags=00010286
trace:seh:call_stack_handlers calling handler at 0x61018970 code=c0000005 flags=0",151,"0"
"WINE-2476","Compiling of int13.c fails because of missing include","Compilation of Wine-20040813 stopped at dlls/winedos/int13.c with error:
In file included from int13.c:34:
/usr/include/linux/fd.h:342: error: variable or field `__user' declared void
/usr/include/linux/fd.h:342: error: parse error before '*' token
/usr/include/linux/fd.h:360: error: parse error before '}' token

I edited dlls/winedos/int13.c and added before line 34 the following:
# include 
which fixed the problem.

I am using Linux 2.6.7 with a con kolivas patch (ck6) on slackware 10.0.",0,"0"
"WINE-17733","Trivial Pursuit Unhinged +NoCD fails to load","Created attachment 19946
Screenshot of error message

Atari Trivial Pursuit Unhinged (plus the NoCD crack to workaround SecuRom copy protection) fails to load and shows error **MAIN - Audio device didn't initialize which appears to be a problem in dmusic or dmloader.

err:dmloader:IDirectMusicLoaderImpl_IDirectMusicLoader_SetObject : could not attach stream to file

Using winetricks directx9 removes this error but creates another two errors (something to do with DataPak) followed by an unhandled exception apparently caused by an Ogg Vorbis problem (there is an ogg.dll that comes with the app).

Disabling audio through winecfg brings back the **MAIN - Audio device didn't initialize message.",1188,"1"
"WINE-653","Can't install ms Age of empires Trial form win98se installation cd","I tried the versions on the installation CD of windows 98 second edition (I do NOT 
have dual boot Mandrake is just to good)  for age of empires I got this
message in windows (wine) box: DirectX 5.0 or later is not installed. Yoy must
install DirectX 5.0 od later to play Age of Empires Expantion Trail I clicked
on OK and program shut down here is the shell output:
$ wine msaoex.exe
fixme:win32:PE_CreateModule Security directory ignored
fixme:psdrv:PSDRV_SelectBitmap stub
fixme:psdrv:PSDRV_SelectBitmap stub
fixme:psdrv:PSDRV_SelectBitmap stub
fixme:psdrv:PSDRV_SelectBitmap stub
fixme:ole:CoCreateInstance no classfactor created for CLSID [fbf23b40-e3f0-101b-
8488-00aa003e56f8] hres is 0x80040154
$",815,"1"
"WINE-11194","FileZilla 3.0.5.2 crashes if changing local working directory","Created attachment 10253
Log from running FileZilla using wine

The Windows version of FileZilla 3.0.5.2 crashes if run through Wine.

You can download FileZilla from http://filezilla-project.org/download.php?type=client

I'm using Wine compiled from the Git sources checked out on 2008-01-14.

Steps to reproduce: Start FileZilla and double-click on the C: drive in the file list.

Please see the attached log. Let me know if you need further information.",248,"0"
"WINE-25714","All tool buttons in CHM viewer are displayed as printer","Created attachment 32758
screenshot

All tool buttons in CHM viewer are displayed as printer including those for forward backward settings etc.

ftp://ftp.ents.ru/ctm/dcl/distr/setup.chm",263,"0"
"WINE-5456","EpromM51 crashes on startup","When I try to launch the freeware eprom burner program from
http://www.willem.org/ZIP/epr097ja.zip
I get a page fault.
I set my Windows version to Windows 95 using winecfg (95 or 98 is necessary for
the program to work the error is the same with 98).
I remember that it worked some time ago.
I see the same error with the official Debian apackages from Debian unstable
(wine 0.9.12) and the dapper packages from winehq (wine 0.9.15).
Here is the console output with wine0.9.12 first and wine 0.9.15 below:

philipp@notebook2:~/.wine/drive_c/Programme/eprom$ wine EpromM51.exe
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsice.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lntice.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lntice7871.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lnticed052.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Ltrwdebug.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Ltrw.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Ltrw2000.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsuperbpm.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Licedump.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lregmon.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lfilemon.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lregvxd.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lfilevxd.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lvkeyprod.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lbw2k.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsiwdebug.vxd. Try setting Windows
version to 'nt40' or 'win31'.
wine: Unhandled page fault on read access to 0x00007b17 at address 0x4c9cd0
(thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: page fault on read access to 0x00007b17 in 32-bit code
(0x004c9cd0).
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:1007 GS:0033
 EIP:004c9cd0 ESP:7f9cfe9b EBP:7f9cfeb3 EFLAGS:00010203(   - 00      - RI1C)
 EAX:00000000 EBX:7fc848bc ECX:c0000135 EDX:00000134
 ESI:00007b07 EDI:004ed832
Stack dump:
0x7f9cfe9b:  004ed832 009cf02e 7fc848bc 5b000000
0x7f9cfeab:  7fc848bc 009c007b 009c007b 00000000
0x7f9cfebb:  00007b07 6c007300 9c007b8e 7f007300
0x7f9cfecb:  9c007bff bf00737f 00007b3a 9c007300
0x7f9cfedb:  00007b00 9c007300 4e007b00 9c007300
0x7f9cfeeb:  9c007b00 9c00737f c8007b7f f400737f
0200: sel=1007 base=7fe42000 limit=00001fff 32-bit rw-
Backtrace:
=>1 0x004c9cd0 in epromm51 (+0xc9cd0) (0x004c9cd0)
  2 0x00000000 (0x00000000)
  3 0x00000000 (0x00000000)
0x004c9cd0: movl        0x10(%esi)%eax
Modules:
Module  Address                 Debug info      Name (85 modules)
PE      0x00400000-009cfb98     Export          epromm51
ELF     0x7bf00000-7bf03000     Deferred        
ELF     0x7c771000-7c7bf000     Deferred        libgcrypt.so.11
ELF     0x7c7bf000-7c7ed000     Deferred        libcrypt.so.1
ELF     0x7c804000-7c87e000     Deferred        libgnutls.so.13
ELF     0x7c87e000-7c8ad000     Deferred        libcups.so.2
ELF     0x7c8ad000-7c90b000     Deferred        shlwapi
  \-PE  0x7c8c0000-7c90b000     \               shlwapi
ELF     0x7c90b000-7c9e2000     Deferred        shell32
  \-PE  0x7c920000-7c9e2000     \               shell32
ELF     0x7c9e2000-7ca11000     Deferred        winspool
  \-PE  0x7c9f0000-7ca11000     \               winspool
ELF     0x7ca11000-7cab3000     Deferred        comdlg32
  \-PE  0x7ca20000-7cab3000     \               comdlg32
ELF     0x7cab3000-7cac7000     Deferred        lz32
  \-PE  0x7cac0000-7cac7000     \               lz32
ELF     0x7cac7000-7cae0000     Deferred        version
  \-PE  0x7cad0000-7cae0000     \               version
ELF     0x7caec000-7caf0000     Deferred        libgpg-error.so.0
ELF     0x7cbf7000-7cc29000     Deferred        uxtheme
  \-PE  0x7cc00000-7cc29000     \               uxtheme
ELF     0x7cc29000-7cc54000     Deferred        ws2_32
  \-PE  0x7cc30000-7cc54000     \               ws2_32
ELF     0x7cc54000-7cc6e000     Deferred        wsock32
  \-PE  0x7cc60000-7cc6e000     \               wsock32
ELF     0x7cc6e000-7cd09000     Deferred        oleaut32
  \-PE  0x7cc90000-7cd09000     \               oleaut32
ELF     0x7cd09000-7cd28000     Deferred        iphlpapi
  \-PE  0x7cd10000-7cd28000     \               iphlpapi
ELF     0x7cd28000-7cd74000     Deferred        rpcrt4
  \-PE  0x7cd40000-7cd74000     \               rpcrt4
ELF     0x7cd74000-7ce0a000     Deferred        ole32
  \-PE  0x7cd90000-7ce0a000     \               ole32
ELF     0x7ce0a000-7ce2a000     Deferred        mpr
  \-PE  0x7ce10000-7ce2a000     \               mpr
ELF     0x7ce2a000-7cef0000     Deferred        comctl32
  \-PE  0x7ce30000-7cef0000     \               comctl32
PE      0x7cef0000-7cf63000     Deferred        xea2cec.tmp
ELF     0x7cf69000-7cf6e000     Deferred        libxfixes.so.3
ELF     0x7cf6e000-7cf77000     Deferred        libxcursor.so.1
ELF     0x7cf77000-7cf93000     Deferred        imm32
  \-PE  0x7cf80000-7cf93000     \               imm32
ELF     0x7cf93000-7cfb0000     Deferred        ximcp.so.2
ELF     0x7cfb0000-7cfb4000     Deferred        libxrandr.so.2
ELF     0x7cfb4000-7cfbc000     Deferred        libxrender.so.1
ELF     0x7f0a4000-7f2f3000     Deferred        i915_dri.so
ELF     0x7f2f3000-7f2fa000     Deferred        libdrm.so.2
ELF     0x7f2fa000-7f369000     Deferred        libgl.so.1
ELF     0x7f369000-7f36e000     Deferred        libxdmcp.so.6
ELF     0x7f36e000-7f436000     Deferred        libx11.so.6
ELF     0x7f436000-7f444000     Deferred        libxext.so.6
ELF     0x7f444000-7f45c000     Deferred        libice.so.6
ELF     0x7f45c000-7f4e1000     Deferred        winex11
  \-PE  0x7f470000-7f4e1000     \               winex11
ELF     0x7f4e1000-7f501000     Deferred        libexpat.so.1
ELF     0x7f501000-7f531000     Deferred        libfontconfig.so.1
ELF     0x7f531000-7f59d000     Deferred        libfreetype.so.6
ELF     0x7f59d000-7f5df000     Deferred        advapi32
  \-PE  0x7f5b0000-7f5df000     \               advapi32
ELF     0x7f5e2000-7f5f6000     Deferred        libz.so.1
ELF     0x7f6d7000-7f78d000     Deferred        gdi32
  \-PE  0x7f6f0000-7f78d000     \               gdi32
ELF     0x7f78d000-7f8c0000     Deferred        user32
  \-PE  0x7f7b0000-7f8c0000     \               user32
ELF     0x7f9d1000-7f9d3000     Deferred        xlcutf8load.so.2
ELF     0x7f9d3000-7f9d8000     Deferred        libxxf86vm.so.1
ELF     0x7fbd8000-7fce0000     Deferred        kernel32
  \-PE  0x7fbf0000-7fce0000     \               kernel32
ELF     0x7fdf1000-7fdf6000     Deferred        libxxf86dga.so.1
ELF     0x7fdf6000-7fe02000     Deferred        libnss_files.so.2
ELF     0x7fe02000-7fe0c000     Deferred        libnss_nis.so.2
ELF     0x7fe0c000-7fe22000     Deferred        libnsl.so.1
ELF     0x7fe22000-7fe2b000     Deferred        libnss_compat.so.2
ELF     0x7fe2c000-7fe35000     Deferred        libsm.so.6
ELF     0x7fe35000-7fe40000     Deferred        libgcc_s.so.1
ELF     0x7fe46000-7fe6c000     Deferred        libm.so.6
ELF     0x7fe6c000-7ff62000     Deferred        libwine_unicode.so.1
ELF     0x7ff62000-7ffe0000     Deferred        ntdll
  \-PE  0x7ff70000-7ffe0000     \               ntdll
ELF     0xb7e16000-b7e1a000     Deferred        libdl.so.2
ELF     0xb7e1a000-b7f52000     Deferred        libc.so.6
ELF     0xb7f53000-b7f65000     Deferred        libpthread.so.0
ELF     0xb7f65000-b7f68000     Deferred        libxau.so.6
ELF     0xb7f7c000-b7f96000     Deferred        libwine.so.1
ELF     0xb7f98000-b7faf000     Deferred        ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
0000000a
        0000000b    0
00000008 (D) C:\Programme\eprom\EpromM51.exe
        00000009    0 <==
Wine exited with a successful status
philipp@notebook2:~/.wine/drive_c/Programme/eprom$ wine EpromM51.exe
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsice.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lntice.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lntice7871.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lnticed052.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Ltrwdebug.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Ltrw.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Ltrw2000.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsuperbpm.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Licedump.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lregmon.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lfilemon.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lregvxd.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lfilevxd.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lvkeyprod.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lbw2k.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsiwdebug.vxd. Try setting Windows
version to 'nt40' or 'win31'.
wine: Unhandled page fault on read access to 0x00007300 at address 0x7ffac1dd
(thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: page fault on read access to 0x00007300 in 32-bit code
(0x7ffac1dd).
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:003b GS:0033
 EIP:7ffac1dd ESP:7f9cfe17 EBP:7f9cfe1f EFLAGS:00010246(   - 00      -RIZP1)
 EAX:00000000 EBX:7fc85204 ECX:ffffffff EDX:00007300
 ESI:7f9cfe4b EDI:00007300
Stack dump:
0x7f9cfe17:  00000000 7f9cfe4b 7f9cfe5f 7fc20724
0x7f9cfe27:  7f9cfe4b 00007300 00000000 00000000
0x7f9cfe37:  00000000 00000000 00000000 00000000
0x7f9cfe47:  00000000 00000000 00007300 7fc85204
0x7f9cfe57:  00000002 7f9cfea7 7f9cfe7f 7fc3d2c4
0x7f9cfe67:  00007300 00000000 9cfea000 7fc85204
fixme:ntdll:RtlNtStatusToDosErrorNoTeb no mapping for c0000119
Backtrace:
=>1 0x7ffac1dd RtlInitAnsiString+0x1c in ntdll (0x7ffac1dd)
  2 0x7fc20724 FILE_name_AtoW+0x29 in kernel32 (0x7fc20724)
  3 0x7fc3d2c4 GetModuleHandleExA+0x56 in kernel32 (0x7fc3d2c4)
  4 0x7fc3d315 GetModuleHandleA+0x2c in kernel32 (0x7fc3d315)
  5 0x00401054 in epromm51 (+0x1054) (0x00401054)
  6 0x00000000 (0x00000000)
0x7ffac1dd RtlInitAnsiString+0x1c in ntdll: repne scasb %es:(%edi)
Modules:
Module  Address                 Debug info      Name (85 modules)
PE      0x00400000-009cfb98     Export          epromm51
ELF     0x7bf00000-7bf03000     Deferred        
ELF     0x7c724000-7c772000     Deferred        libgcrypt.so.11
ELF     0x7c772000-7c7a0000     Deferred        libcrypt.so.1
ELF     0x7c7b7000-7c831000     Deferred        libgnutls.so.13
ELF     0x7c831000-7c860000     Deferred        libcups.so.2
ELF     0x7c8ba000-7c8e9000     Deferred        winspool
  \-PE  0x7c8c0000-7c8e9000     \               winspool
ELF     0x7c8e9000-7c945000     Deferred        shlwapi
  \-PE  0x7c900000-7c945000     \               shlwapi
ELF     0x7c945000-7ca22000     Deferred        shell32
  \-PE  0x7c960000-7ca22000     \               shell32
ELF     0x7ca22000-7cac3000     Deferred        comdlg32
  \-PE  0x7ca30000-7cac3000     \               comdlg32
ELF     0x7cac3000-7cad7000     Deferred        lz32
  \-PE  0x7cad0000-7cad7000     \               lz32
ELF     0x7cad7000-7caf0000     Deferred        version
  \-PE  0x7cae0000-7caf0000     \               version
ELF     0x7cc02000-7cc06000     Deferred        libgpg-error.so.0
ELF     0x7cc0b000-7cc3c000     Deferred        uxtheme
  \-PE  0x7cc10000-7cc3c000     \               uxtheme
ELF     0x7cc3c000-7cc66000     Deferred        ws2_32
  \-PE  0x7cc40000-7cc66000     \               ws2_32
ELF     0x7cc66000-7cc80000     Deferred        wsock32
  \-PE  0x7cc70000-7cc80000     \               wsock32
ELF     0x7cc80000-7cd18000     Deferred        oleaut32
  \-PE  0x7cca0000-7cd18000     \               oleaut32
ELF     0x7cd18000-7cd37000     Deferred        iphlpapi
  \-PE  0x7cd20000-7cd37000     \               iphlpapi
ELF     0x7cd37000-7cd8a000     Deferred        rpcrt4
  \-PE  0x7cd50000-7cd8a000     \               rpcrt4
ELF     0x7cd8a000-7ce1f000     Deferred        ole32
  \-PE  0x7cda0000-7ce1f000     \               ole32
ELF     0x7ce1f000-7ce3e000     Deferred        mpr
  \-PE  0x7ce30000-7ce3e000     \               mpr
ELF     0x7ce3e000-7cf00000     Deferred        comctl32
  \-PE  0x7ce50000-7cf00000     \               comctl32
PE      0x7cf00000-7cf73000     Deferred        xea2cec.tmp
ELF     0x7cf78000-7cf7d000     Deferred        libxfixes.so.3
ELF     0x7cf7d000-7cf86000     Deferred        libxcursor.so.1
ELF     0x7cf86000-7cfa2000     Deferred        imm32
  \-PE  0x7cf90000-7cfa2000     \               imm32
ELF     0x7cfa2000-7cfbf000     Deferred        ximcp.so.2
ELF     0x7cfbf000-7cfc7000     Deferred        libxrender.so.1
ELF     0x7f0af000-7f2fe000     Deferred        i915_dri.so
ELF     0x7f2fe000-7f305000     Deferred        libdrm.so.2
ELF     0x7f305000-7f374000     Deferred        libgl.so.1
ELF     0x7f374000-7f379000     Deferred        libxdmcp.so.6
ELF     0x7f379000-7f441000     Deferred        libx11.so.6
ELF     0x7f441000-7f459000     Deferred        libice.so.6
ELF     0x7f459000-7f4dc000     Deferred        winex11
  \-PE  0x7f470000-7f4dc000     \               winex11
ELF     0x7f4dc000-7f4fc000     Deferred        libexpat.so.1
ELF     0x7f4fc000-7f52c000     Deferred        libfontconfig.so.1
ELF     0x7f52c000-7f598000     Deferred        libfreetype.so.6
ELF     0x7f598000-7f5d9000     Deferred        advapi32
  \-PE  0x7f5a0000-7f5d9000     \               advapi32
ELF     0x7f5d9000-7f5e4000     Deferred        libgcc_s.so.1
ELF     0x7f5e7000-7f5fb000     Deferred        libz.so.1
ELF     0x7f6dc000-7f78d000     Deferred        gdi32
  \-PE  0x7f6f0000-7f78d000     \               gdi32
ELF     0x7f78d000-7f8c0000     Deferred        user32
  \-PE  0x7f7b0000-7f8c0000     \               user32
ELF     0x7f9d1000-7f9df000     Deferred        libxext.so.6
ELF     0x7fbdf000-7fce0000     Export          kernel32
  \-PE  0x7fc00000-7fce0000     \               kernel32
ELF     0x7fdf0000-7fdf4000     Deferred        libxrandr.so.2
ELF     0x7fdf4000-7fe00000     Deferred        libnss_files.so.2
ELF     0x7fe00000-7fe0a000     Deferred        libnss_nis.so.2
ELF     0x7fe0a000-7fe20000     Deferred        libnsl.so.1
ELF     0x7fe20000-7fe29000     Deferred        libnss_compat.so.2
ELF     0x7fe29000-7fe2b000     Deferred        xlcutf8load.so.2
ELF     0x7fe2b000-7fe30000     Deferred        libxxf86vm.so.1
ELF     0x7fe32000-7fe37000     Deferred        libxxf86dga.so.1
ELF     0x7fe37000-7fe40000     Deferred        libsm.so.6
ELF     0x7fe44000-7fe6a000     Deferred        libm.so.6
ELF     0x7fe6a000-7ff62000     Deferred        libwine_unicode.so.1
ELF     0x7ff62000-7ffe0000     Export          ntdll
  \-PE  0x7ff70000-7ffe0000     \               ntdll
ELF     0xb7e46000-b7e4a000     Deferred        libdl.so.2
ELF     0xb7e4a000-b7f82000     Deferred        libc.so.6
ELF     0xb7f82000-b7f94000     Deferred        libpthread.so.0
ELF     0xb7f95000-b7f98000     Deferred        libxau.so.6
ELF     0xb7fac000-b7fc6000     Deferred        libwine.so.1
ELF     0xb7fc8000-b7fdf000     Deferred        ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
0000000a
        0000000b    0
00000008 (D) C:\Programme\eprom\EpromM51.exe
        00000009    0 <==",90,"0"
"WINE-21475","TI Interactive application fails when attempting to display the TI math palette","Created attachment 25861
TI Interactive +ole trace

With wine-1.1.37 after using winetricks to install vcrun6sp6 and installing the TI Interactive trial launching TI Interactive dismissing the trial and registration dialogs and then pressing Ctrl+M (or doing Insert -> Math Box) yields a message box that states:

Failed to create object. Make sure the object is entered in the system registry.

Using native ole32 from the dcom98 redist allows the TI Interactive application to display the TI math palette panel as expected. From the +relay log:

0009:Call ole32.OleCreate(0032e75440a3fca8000000010000000000e62710001b793800e626c8) ret=40a2b858
0009:trace:ole:OleCreate ({5af21a82-ca6e-11d2-9613-004033a5109d} {00000000-0000-0000-c000-000000000046} 1 (nil) 0xe62710 0x1b7938 0xe626c8)
...
0009:Ret  ole32.OleCreate() retval=80070057 ret=40a2b858
...
0009:Call KERNEL32.RaiseException(e06d736300000001000000030032e64c) ret=40a09610

It seems that the failure of OleCreate is the culprit. A +ole log is attached.",2236,"1"
"WINE-29342","Bloxx It shows only a blank screen","Created attachment 37966
Terminal output

Regression testing indicated:

10d2a9375ddfac47de8957c7d126a28d82f15701 is the first bad commit
commit 10d2a9375ddfac47de8957c7d126a28d82f15701
Author: Henri Verbeet 
Date:   Mon Dec 12 20:53:56 2011 +0100

    ddraw: Add support for clipped blits.

:040000 040000 e00012e8b149f8843d339e5fd840d655ded4fdc8 2b7ddc00f02e590bb054fec1204f3e0288d03cf7 M    dlls

Reverting the patch restored the correct display. The problem occurs with a Radeon HD 4250 and a GMA 950 (though it looks like it stopped working with ddr=opengl on the GMA 950 prior to this commit).",24,"0"
"WINE-23381","Newsbin Pro MOTD dialog fails to dismiss correctly","Created attachment 29142
Terminal Output

The MOTD Screen displays an 'invalid application error when booted and when the ok button is pressed. The only way to clear the windows is to hit the close button. The program functions normally after that.",3,"0"
"WINE-38562","Ghost Recon Advanced Warfighter 2 hangs with the splash screen","Created attachment 51441
terminal output

The game hangs upon starting constantly using 100% CPU. Virtual desktop mode as well as traditional fullscreen mode have this bug.

Regression introduced by

bed7e69a14489998ef943b76022fd9520018cdba is the first bad commit
commit bed7e69a14489998ef943b76022fd9520018cdba
Author: Aric Stewart 
Date:   Mon Apr 20 13:40:26 2015 -0500

    server: Do not replace focus and active windows with NULL on thread_attach_input.

Note: the game has bug #37843 (or is that bug #37716 ?I'm always confused with those 2 bugs).

Tested in wine-1.7.42-115-g3ec3fa5
Fedora 21 x86
Nvidia binary drivers 340.76
XOrg 1.16.3
XFCE 4.10

ghost_recon_advanced_warfighter_2.exe (1.8 GB download size)
sha1: 76bbb81d6d8e4d0ce9b4639264bec694d0da0bca",8,"0"
"WINE-24239","IW2 Edge of Chaos loses sound every few milliseconds","The following is spammed once per second in game:

fixme:quartz:AsyncReader_FindPin (LOutput 0x33f2e0)

Every time the game gains focus (after an alt tab ...) sound starts back up for a few milliseconds (maybe 150ms) and then is lost again.

There is no rendering nor sound when the game is not focused -- I believe that's intended.


(Tentatively marking quartz)",280,"0"
"WINE-23836","Game Explorer Manager does not start","err:ntdll:NtQueryInformationToken Unhandled Token Information class 20!
fixme:exec:SHELL_execute flags ignored: 0x00000100
err:ntdll:NtQueryInformationToken Unhandled Token Information class 20!
fixme:exec:SHELL_execute flags ignored: 0x00000100
err:ntdll:NtQueryInformationToken Unhandled Token Information class 20!
fixme:exec:SHELL_execute flags ignored: 0x00000100

Repeats forever",24,"0"
"WINE-42516","Kholat hangs on splash screen","Created attachment 57402
log

Game hangs after ~10 seconds.

wine-2.2-119-g1cc93e3",2,"0"
"WINE-8547","Intel Image processing Library - ipla6 error preventing operation.","I have a program that I have to run to process some files with proprietary file
formats.  This program installs with no issues but it won't run when I start it.

I get a Windows error box that says:
--------------------
In function ipiAllocateImage{}: [file iplalloc.c line 315]
for allocate image data

Insufficient memory
(status: -4)

ErrMode=IPL_ErrorModel.eaf

Terminate the application?

Yes No

-------------------

I click no and I get an error and a back trace that I will attach.",320,"0"
"WINE-23175","Zak McKracken - Between Time and Space fails to play back intro video (ICM_DECOMPRESS_GET_FORMAT problems with Xvid)","Created attachment 28827
Zak McKracken - Between Time and Space output

After starting Zak McKracken - Between Time and Space and waiting for the loading animation to complete an intro video is supposed to be played but only the audio portion of the video is played back correctly and the video is simply rendered as black for the duration.",3194,"1"
"WINE-8754","Games doesn't receive keyboard Input (BuildActionMap SetActionMap EnumDevicesBySemantics)","Hy
I found a Bug in Need for Speed Underground 1 and 2:
You're not able to use the Keyboard as a input device. Wine doesn't recognize
that as a bug so I couldn't figure out what causes the problem.",1475,"1"
"WINE-14379","Ares does not connect to its network","I downloaded Ares and tried to use it only to be unable to connect to their servers. I have set up ports to correspond to my router but it still doesn't connect. This is weird as it does connect when I use Ares in Windows. Somoeone has already complained of this issue as well look in AppDB for more info.",20,"0"
"WINE-41583","Starcraft 2 hangs with setup_exception stack overflow","Here is my environment.

Arch Linux up-to-date.
Wine: 1.9.21-1
Starcraft: 3.7.0

The game hangs soon after the start. Tested ~10 times and the hang is easily reproducible. Here is wine log for one of the hangs:

$ wine ~/.wine/drive_c/Games/StarCraft\ II/StarCraft\ II.exe 
fixme:heap:RtlSetHeapInformation (nil) 1 (nil) 0 stub
err:winediag:schan_imp_init Failed to load libgnutls secure connections will not be available.
fixme:winhttp:get_system_proxy_autoconfig_url no support on this platform
fixme:winhttp:WinHttpDetectAutoProxyConfigUrl discovery via DHCP not supported
fixme:ver:GetCurrentPackageId (0x456e9e8 (nil)): stub
fixme:wininet:InternetSetOptionW Option 77 STUB
err:wininet:open_http_connection create_netconn failed: 12029
Object moved
Object moved to here.

fixme:ver:GetCurrentPackageId (0x49ce9e8 (nil)): stub
fixme:wininet:InternetSetOptionW Option 77 STUB
err:wininet:open_http_connection create_netconn failed: 12029
Object moved
Object moved to here.

fixme:wininet:InternetSetOptionW Option 77 STUB
err:wininet:open_http_connection create_netconn failed: 12029
fixme:win:EnumDisplayDevicesW ((null)00x33f5a40x00000000) stub!
fixme:wbemprox:wbem_locator_ConnectServer unsupported flags
fixme:wbemprox:client_security_SetBlanket 0x7daff7c0 0x15ff78 10 0 (null) 3 3 (nil) 0x00000000
fixme:wbemprox:client_security_Release 0x7daff7c0
fixme:wininet:InternetSetOptionW Option 77 STUB
fixme:winhttp:get_system_proxy_autoconfig_url no support on this platform
fixme:winhttp:WinHttpDetectAutoProxyConfigUrl discovery via DHCP not supported
fixme:wbemprox:enum_class_object_Next timeout not supported
fixme:ver:GetCurrentPackageId (0x456e9e8 (nil)): stub
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:advapi:EventRegister {5eec90ab-c022-44b2-a5dd-fd716a222a15} 0x1ee483b 0x1f5f6d0 0x1f5f6e8
fixme:advapi:EventSetInformation 2 0x1f5b49a 43
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:advapi:EventRegister {5eec90ab-c022-44b2-a5dd-fd716a222a15} 0x19a1123 0x1dbf110 0x1dbf128
fixme:advapi:EventSetInformation 2 0x1d2a3b0 43
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
err:winediag:schan_imp_init Failed to load libgnutls secure connections will not be available.
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:ver:GetCurrentPackageId (0x4b3e9b8 (nil)): stub
fixme:advapi:OpenEventLogW ((null)LSystem) stub
fixme:advapi:ReadEventLogA (0xcafe42420x000000090x000000000x1a90f80x000100000x33f2880x33f28c) stub
fixme:advapi:CloseEventLog (0xcafe4242) stub
Object moved
Object moved to here.

fixme:font:RemoveFontMemResourceEx (0x82d3f5c1) stub
fixme:font:RemoveFontMemResourceEx (0x82db2589) stub
fixme:font:RemoveFontMemResourceEx (0x82374351) stub
fixme:ntdll:NtLockFile I/O completion on lock not implemented yet
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:win:RegisterDeviceNotificationA (hwnd=0x10096 filter=0x6fde9dcflags=0x00000000) returns a fake device notification handle!
fixme:process:SetProcessDEPPolicy (3): stub
fixme:heap:RtlSetHeapInformation (nil) 1 (nil) 0 stub
fixme:imm:ImmDisableTextFrameService Stub
fixme:nls:GetThreadPreferredUILanguages 00000038 0x33f474 (nil) 0x33f478
fixme:nls:get_dummy_preferred_ui_language (0x38 0x33f474 (nil) 0x33f478) returning a dummy value (current locale)
fixme:nls:GetThreadPreferredUILanguages 00000038 0x33f474 0x492cb30 0x33f478
fixme:nls:get_dummy_preferred_ui_language (0x38 0x33f474 0x492cb30 0x33f478) returning a dummy value (current locale)
fixme:winsock:WSALookupServiceBeginW (0x33f348 0x00000ff0 0x33f384) Stub!
fixme:iphlpapi:NotifyAddrChange (Handle 0x33f4b0 overlapped 0x493fd6c): stub
fixme:win:RegisterDeviceNotificationW (hwnd=0x100a2 filter=0x33f4bcflags=0x00000000) returns a fake device notification handle!
fixme:win:RegisterDeviceNotificationW (hwnd=0x100a2 filter=0x33f4bcflags=0x00000000) returns a fake device notification handle!
fixme:ver:GetCurrentPackageId (0x8abe9e8 (nil)): stub
fixme:win:EnumDisplayDevicesW ((null)00x33ede00x00000000) stub!
fixme:toolhelp:CreateToolhelp32Snapshot Unimplemented: heap list snapshot
fixme:toolhelp:Heap32ListFirst : stub
fixme:shell:SetCurrentProcessExplicitAppUserModelID LBlizzardEntertainment.Battlenet.beta: stub
err:ole:CoGetClassObject class {77f10cf0-3db5-4966-b520-b7c54fd35ed6} not registered
err:ole:CoGetClassObject no class object {77f10cf0-3db5-4966-b520-b7c54fd35ed6} could be created for context 0x1
fixme:msg:ChangeWindowMessageFilterEx 0x100ac c060 1 (nil)
fixme:heap:RtlSetHeapInformation (nil) 1 (nil) 0 stub
fixme:ole:CoInitializeSecurity ((nil)-1(nil)(nil)03(nil)0(nil)) - stub!
fixme:wbemprox:wbem_locator_QueryInterface interface {00000126-0000-0000-c000-000000000046} not implemented
fixme:console:AttachConsole stub ffffffff
err:winediag:schan_imp_init Failed to load libgnutls secure connections will not be available.
fixme:winhttp:get_system_proxy_autoconfig_url no support on this platform
fixme:winhttp:WinHttpDetectAutoProxyConfigUrl discovery via DHCP not supported
fixme:toolhelp:CreateToolhelp32Snapshot Unimplemented: heap list snapshot
fixme:toolhelp:Heap32ListFirst : stub
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
err:ole:CoGetClassObject class {77f10cf0-3db5-4966-b520-b7c54fd35ed6} not registered
err:ole:CoGetClassObject no class object {77f10cf0-3db5-4966-b520-b7c54fd35ed6} could be created for context 0x1
err:ole:CoGetClassObject class {77f10cf0-3db5-4966-b520-b7c54fd35ed6} not registered
err:ole:CoGetClassObject no class object {77f10cf0-3db5-4966-b520-b7c54fd35ed6} could be created for context 0x1
fixme:win:EnumDisplayDevicesW ((null)00x33c2840x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x33c3040x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x33c2040x00000000) stub!
fixme:wtsapi:WTSRegisterSessionNotification Stub 0x100d0 0x00000000
fixme:wgl:X11DRV_wglGetPixelFormatAttribivARB unsupported 2008 WGL Attribute
fixme:ntdll:EtwRegisterTraceGuidsW (0x20c7440 0x41b0d00 {3dada31d-19ef-4dc1-b345-037927193422} 1 0x4179430 (null) (null) 0x41b0d18): stub
fixme:ntdll:EtwRegisterTraceGuidsW   register trace class {00000000-0000-0000-0000-000000000000}
err:ole:CoGetClassObject class {77f10cf0-3db5-4966-b520-b7c54fd35ed6} not registered
err:ole:CoGetClassObject no class object {77f10cf0-3db5-4966-b520-b7c54fd35ed6} could be created for context 0x1
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
err:winediag:schan_imp_init Failed to load libgnutls secure connections will not be available.
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:process:SetProcessDEPPolicy (3): stub
fixme:heap:RtlSetHeapInformation (nil) 1 (nil) 0 stub
fixme:ntdll:EtwRegisterTraceGuidsW (0x10157440 0x12240d00 {3dada31d-19ef-4dc1-b345-037927193422} 1 0x12209430 (null) (null) 0x12240d18): stub
fixme:ntdll:EtwRegisterTraceGuidsW   register trace class {00000000-0000-0000-0000-000000000000}
fixme:gdi:GdiInitializeLanguagePack stub
fixme:ver:GetCurrentPackageId (0x241e9e8 (nil)): stub
fixme:crypt:CRYPT_CheckUsages unimplemented for RequestedIssuancePolicy
fixme:crypt:CRYPT_CheckUsages unimplemented for RequestedIssuancePolicy
fixme:mpr:WNetGetUniversalNameW (LC:\\Games\\StarCraft II\\SC2Data\\data 0x00000001 0x61ea4ec 0x61ea4e8): stub
fixme:mpr:WNetGetUniversalNameW (LC:\\Games\\StarCraft II\\SC2Data\\data 0x00000001 0x61ea4ec 0x61ea4e8): stub
fixme:mpr:WNetGetUniversalNameW (LC:\\Games\\StarCraft II\\SC2Data\\data 0x00000001 0x61ec3cc 0x61ec3c8): stub
fixme:mpr:WNetGetUniversalNameW (LC:\\Games\\StarCraft II\\SC2Data\\data 0x00000001 0x61e9cac 0x61e9ca8): stub
fixme:mpr:WNetGetUniversalNameW (LC:\\Games\\StarCraft II\\SC2Data\\data 0x00000001 0x61ea9fc 0x61ea9f8): stub
fixme:mpr:WNetGetUniversalNameW (LC:\\Games\\StarCraft II\\SC2Data\\data 0x00000001 0x61ec4c4 0x61ec4c0): stub
err:ole:CoGetClassObject class {77f10cf0-3db5-4966-b520-b7c54fd35ed6} not registered
err:ole:CoGetClassObject no class object {77f10cf0-3db5-4966-b520-b7c54fd35ed6} could be created for context 0x1
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
err:winediag:schan_imp_init Failed to load libgnutls secure connections will not be available.
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:process:SetProcessDEPPolicy (3): stub
fixme:heap:RtlSetHeapInformation (nil) 1 (nil) 0 stub
fixme:ntdll:EtwRegisterTraceGuidsW (0x10157440 0x12240d00 {3dada31d-19ef-4dc1-b345-037927193422} 1 0x12209430 (null) (null) 0x12240d18): stub
fixme:ntdll:EtwRegisterTraceGuidsW   register trace class {00000000-0000-0000-0000-000000000000}
fixme:gdi:GdiInitializeLanguagePack stub
fixme:ver:GetCurrentPackageId (0x241e9e8 (nil)): stub
fixme:system:SystemParametersInfoW Unknown action: 116
 fixme:win:EnumDisplayDevicesW ((null)00x3387140x00000000) stub!
fixme:ddraw:DirectDrawEnumerateExA flags 0x00000002 not handled
fixme:win:EnumDisplayDevicesW ((null)00x3381b40x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x337f340x00000000) stub!
fixme:ddraw:ddraw7_Initialize Ignoring guid {aeb2cdd4-6e41-43ea-941c-8361cc760781}.
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:advapi:EventRegister {5eec90ab-c022-44b2-a5dd-fd716a222a15} 0x180001000 0x180012030 0x180012050
fixme:advapi:EventSetInformation 2 0x18000fd60 43
fixme:shell:SetCurrentProcessExplicitAppUserModelID LBlizzardEntertainment.StarCraftII.StarCraftII: stub
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:advapi:EventRegister {5eec90ab-c022-44b2-a5dd-fd716a222a15} 0x701000 0x712030 0x712050
fixme:advapi:EventSetInformation 2 0x70fd60 43
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:ver:GetCurrentPackageId (0xdce570 (nil)): stub
fixme:ntdll:server_ioctl_file Unsupported ioctl 900c0 (device=9 access=0 func=30 method=0)
fixme:process:SetProcessDEPPolicy (1): stub
fixme:hnetcfg:fw_profile_get_FirewallEnabled 0x6db30 0x1e8e938
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
 fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:ntdll:NtQuerySystemInformation info_class SYSTEM_PERFORMANCE_INFORMATION
fixme:mpr:WNetGetUniversalNameW (LC:\\Games\\StarCraft II\\SC2Data\\data 0x00000001 0x2bdc640 0x2bdc600): stub
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:winhttp:get_system_proxy_autoconfig_url no support on this platform
fixme:winhttp:WinHttpDetectAutoProxyConfigUrl discovery via DHCP not supported
fixme:wevtapi:EvtSubscribe ((nil) (nil) LSystem L*[System[(EventID=4101)]] (nil) (nil) 0x140b3b1b0 1) stub
fixme:win:EnumDisplayDevicesW ((null)00x1e8ec500x00000000) stub!
fixme:shell:SHGetPropertyStoreForWindow (0x20120 0x141d50040 0x1e8ef08) stub!
fixme:shell:SHGetPropertyStoreForWindow (0x20120 0x141d50040 0x1e8ef10) stub!
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:ver:GetCurrentPackageId (0x23fcb0 (nil)): stub
fixme:advapi:EventUnregister deadbeef: stub
fixme:win:EnumDisplayDevicesW ((null)00x1e8a3b00x00000000) stub!
fixme:d3d:debug_d3dformat Unrecognized 0x36314644 (as fourcc: DF16) WINED3DFORMAT!
fixme:d3d:wined3d_get_format Can't find format unrecognized (0x36314644) in the format lookup table
fixme:d3d:debug_d3dformat Unrecognized 0x36314644 (as fourcc: DF16) WINED3DFORMAT!
fixme:d3d:wined3d_get_format Can't find format unrecognized (0x36314644) in the format lookup table
fixme:d3d:debug_d3dformat Unrecognized 0x34324644 (as fourcc: DF24) WINED3DFORMAT!
fixme:d3d:wined3d_get_format Can't find format unrecognized (0x34324644) in the format lookup table
fixme:d3d:debug_d3dformat Unrecognized 0x34324644 (as fourcc: DF24) WINED3DFORMAT!
fixme:d3d:wined3d_get_format Can't find format unrecognized (0x34324644) in the format lookup table
fixme:win:EnumDisplayDevicesW ((null)00x1e89f200x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x1e8a3200x00000000) stub!
fixme:actctx:parse_depend_manifests Could not find dependent assembly LMicrosoft.VC80.CRT (8.0.50727.6195)
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:winsock:WSAIoctl WS_SIO_UDP_CONNRESET stub
fixme:avrt:AvSetMmThreadCharacteristicsW (LAudio0x891e518): stub
fixme:avrt:AvSetMmThreadCharacteristicsW (LAudio0x34ae518): stub
fixme:avrt:AvSetMmThreadCharacteristicsW (LAudio0x34ae518): stub
fixme:winsock:WSAIoctl WS_SIO_UDP_CONNRESET stub
err:ole:CoInitializeEx Attempt to change threading model of this apartment from multi-threaded to apartment threaded
err:ole:CoInitializeEx Attempt to change threading model of this apartment from multi-threaded to apartment threaded
err:ole:CoInitializeEx Attempt to change threading model of this apartment from multi-threaded to apartment threaded
err:ole:CoInitializeEx Attempt to change threading model of this apartment from multi-threaded to apartment threaded
err:ole:CoInitializeEx Attempt to change threading model of this apartment from multi-threaded to apartment threaded
err:ole:CoInitializeEx Attempt to change threading model of this apartment from multi-threaded to apartment threaded
err:ole:CoInitializeEx Attempt to change threading model of this apartment from multi-threaded to apartment threaded
err:ole:CoInitializeEx Attempt to change threading model of this apartment from multi-threaded to apartment threaded
fixme:imm:NotifyIME IMC_SETCONVERSIONMODE
fixme:imm:ImmReleaseContext (0x20120 0x9daf0): stub
fixme:winsock:WSAIoctl WS_SIO_UDP_CONNRESET stub
fixme:winsock:WSAIoctl WS_SIO_UDP_CONNRESET stub
err:seh:setup_exception stack overflow 3296 bytes in thread 00e0 eip 000000007bc96c99 esp 0000000001690920 stack 0x1690000-0x1690000-0x1e90000

^^^^^^^^^^^^^^^ HANGS HERE ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

fixme:wtsapi:WTSUnRegisterSessionNotification Stub 0x200d6
fixme:advapi:UnregisterTraceGuids deadbeef: stub
fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)
fixme:ver:GetCurrentPackageId (0x33fdac (nil)): stub
fixme:sync:SetWaitableTimerEx (0x20c 0x33f9fc 0 (nil) (nil) (nil) 32) semi-stub
fixme:win:UnregisterDeviceNotification (handle=0xcafeaffe) STUB!
fixme:win:UnregisterDeviceNotification (handle=0xcafeaffe) STUB!
fixme:iphlpapi:CancelIPChangeNotify (overlapped 0x493fd6c): stub
fixme:advapi:UnregisterTraceGuids deadbeef: stub
fixme:font:RemoveFontMemResourceEx (0x82a04371) stub
fixme:font:RemoveFontMemResourceEx (0x838c3279) stub
fixme:font:RemoveFontMemResourceEx (0x82a32559) stub
fixme:win:UnregisterDeviceNotification (handle=0xcafecafe) STUB!
fixme:advapi:EventUnregister deadbeef: stub
fixme:advapi:EventUnregister 0: stub
fixme:advapi:EventUnregister deadbeef: stub
fixme:advapi:EventUnregister 0: stub",519,"0"
"WINE-7291","StretchRect slow HL2 down to 0 fps.","Certain shader effects slow HL2 down to 0 fps. These effects include:

The magnifying glass in Dr Kleiners lab
The transparent tubes in Dr Kleiners lab
The force-fields on Combine stationary shields.
Under water.

The effects don't render properly either.

My system:
OS: Ubuntu 6.10
Driver: nvidia-glx 1.0.8776+2.6.17.7-10.1
GPU: Nvidia 7800 GT",19,"0"
"WINE-20248","iTunes 9 crashes on load","iTunes 9 and 9.0.1 either crash on load or crash right after loading.",153,"0"
"WINE-21426","Fallout Tactics no longer works","Fallout Tactics was working in 1.1.35 in full screen mode. It is not longer true for 1.1.36.

Ubuntu 9.10

Unfortunately I am unable to provide regression tests as git misbehaves with my externally attached storage and can't switch between branches as git constantly complains about lots of local modifications no matter which revert way I use.",58,"0"
"WINE-16832","Hinterland fails to run wine reports Unhandled page fault to NULL","Ubuntu 8.10 x86_64 using the budgetdedicated.com wine 1.1.12 package.

I attempted to run Hinterland and it eventually resized the window it had spawned to about 1280x1024 displayed the company logo then abruptly transitioned to a bright white screen. At the same time horrible static started blaring from my speakers.

Clicking anywhere in the window resulted in the Unhandled page fault on write access to 0x00000000 noted in the summary.

I will shortly be attaching the console output and backtrace.",2136,"1"
"WINE-38769","Additional AES algorithms in schannel break wine build","Hi Jacek
I finally found some time for wine and your todays patch broke my wine building machine (no offence c)


commit 3617e2b2a9f028347702c87da97e6a74f854027e
Author: Jacek Caban 
Date:   Tue Jun 16 13:46:32 2015 +0200

    secur32: Added support for a few more algorithms in schannel_get_cipher_algid.



wine-1.7.45-88-g1342254 builds fine but wine-1.7.45-89-g3617e2b fails with:

make[1]: Entering directory '/build/wine_git_build_32/dlls/secur32'
gcc -m32 -c -o schannel_gnutls.o ../../../wine_git_build/dlls/secur32/schannel_gnutls.c -I. \
  -I../../../wine_git_build/dlls/secur32 -I../../include -I../../../wine_git_build/include \
  -I/usr/include/p11-kit-1 -D__WINESRC__ -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing \
  -Wdeclaration-after-statement -Wempty-body -Wignored-qualifiers -Wstrict-prototypes -Wtype-limits \
  -Wunused-but-set-parameter -Wvla -Wwrite-strings -Wpointer-arith -Wlogical-op -gdwarf-2 \
  -gstrict-dwarf -fno-omit-frame-pointer -g -O0
../../../wine_git_build/dlls/secur32/schannel_gnutls.c: In function schannel_get_cipher_algid:
../../../wine_git_build/dlls/secur32/schannel_gnutls.c:302:10: error: GNUTLS_CIPHER_AES_128_GCM undeclared (first use in this function)
     case GNUTLS_CIPHER_AES_128_GCM: return CALG_AES_128
          ^
../../../wine_git_build/dlls/secur32/schannel_gnutls.c:302:10: note: each undeclared identifier is reported only once for each function it appears in
../../../wine_git_build/dlls/secur32/schannel_gnutls.c:304:10: error: GNUTLS_CIPHER_AES_256_GCM undeclared (first use in this function)
     case GNUTLS_CIPHER_AES_256_GCM:
          ^
Makefile:339: recipe for target 'schannel_gnutls.o' failed
make[1]: *** [schannel_gnutls.o] Error 1
make[1]: Leaving directory '/build/wine_git_build_32/dlls/secur32'
Makefile:13239: recipe for target 'dlls/secur32' failed
make: *** [dlls/secur32] Error 2",1,"0"
"WINE-8225","Fireworks 8 trial hangs on splash screen","The Fireworks 8 trial installs ok
(though there's a heap err in the console)
but it doesn't start up.  It hangs at the splash screen.",387,"0"
"WINE-36859","Don't Starve 2.4.0 does not start: Missing Shader 'shaders/font.ksh'.","Created attachment 48952
Wine Log

Try to run Don't Starve 2.4.0 game.
Got the following error:
wine: Unhandled exception 0x80000003 in thread 9 at address 0x558efc (thread 0009) starting debugger...
ERROR: Missing Shader 'shaders/font.ksh'.
Assert failure '0' at ..\source\renderlib\OpenGL\HWEffect.cpp(86): Trace follows...

Attached are log and backtrace.",771,"0"
"WINE-4747","Steam always runs on top of other windows","Subject says it all. Transgaming ActiveX is installed (and should work).
This is a problem especially since on attempt to launch Half Life 2 Steam
remains in the middle of the screen even as HL2 goes into fullscreen. Clicking
on the Steam window causes HL2 to crash and/or freeze all of X (other than the
mouse).
==============

Error output on launching Steam (if applicable):

fixme:font:WineEngCreateFontInstance just using first face for now
fixme:font:WineEngCreateFontInstance just using first face for now
err:ole:CoGetClassObject class {4955dd33-b159-11d0-8fcf-00aa006bcc59} not registered
err:ole:CoGetClassObject no class object {4955dd33-b159-11d0-8fcf-00aa006bcc59}
could be created for for context 0x1
fixme:ole:CoCreateInstance no classfactory created for CLSID
{4955dd33-b159-11d0-8fcf-00aa006bcc59} hres is 0x80040154
fixme:process:SetProcessWorkingSetSize (0xffffffff-1-1): stub - harmless",344,"0"
"WINE-34281","PlotSoft PDFill 10 fails on startup reports 'No Fonts found under: C:\\windows\\Fonts' (at least one font name in registry must contain 'truetype' token)","Name: PlotSoft PDFill 10.0 (build 4)
Executables: PDFill.exe or PDFill_PDF_Tools.exe (they are two independent executables)
Download page: http://www.pdfill.com/download.html

Installation steps:
1. install GhostScript 8.63 from http://www.plotsoft.com/download/gs863w32.exe ( http://goput.it/vz9v.png )
2. install Sun Java Virtual Machine 1.6 from http://www.plotsoft.com/download/jre-6-windows-i586.exe ( typical installation )
3. install PDFill from http://www.plotsoft.com/download/PDFill.exe ( http://goput.it/39j9.png ) (md5sum: c64ad2db2153af1d4ef69b88d34ec2a9)

I tested some Wine versions on some GNU/Linux distributions:

- wine-1.4.1 on Kubuntu 13.04 x64
both executables work perfectly ( http://goput.it/str/kk7d.png )

- wine-1.6 (build from ppa:ubuntu-wine/ppa) on Kubuntu 13.04 x64
- wine-1.6 (build from ppa:ubuntu-wine/ppa) on Ubuntu 13.04 x86
- wine-1.7 (compiled from http://sourceforge.net/projects/wine/files/Source/wine-1.7.0.tar.bz2 source) on Ubuntu 13.04 x86
1. I launch wine ./PDFill_PDF_Tools.exe or wine ./PDFill.exe (their bad behaviours are the same)
2. on startup it displays a message box complaining No Fonts found ( http://goput.it/str/t9es.png )
3. I click Ok button
4. it displays the window Browse folders ( http://goput.it/str/6cv6.png )
5. I select C:\windows\Fonts or /usr/share/wine/fonts (/home/luca/.wine/drive_c/windows/Fonts or Z:\home\luca\.wine\ etc. cannot be selected because hidden folders are not visible)
6. I click Ok or Cancel button
7. it quits without warnings or errors (except for a fixme)",1094,"1"
"WINE-30420","pyjamas desktop (python26 + python-comtypes MSHTML.DLL from IE8) fails due to unsupported ReadTypeLib header","amazingly IE8 works.  python26 works.  python-comtypes barfs for the sole reason that (as can be seen below) LoadTypeLibEx fails.

what python-comtypes does is find the dll extract its typelibrary and auto-generates python code which caches all the COM functions.

an strace shows that atl.dll is correctly being located but the fact
that the function fails makes it impossible to proceed.

however - and this is the absolutely amazing bit - if i comment out the line of python code (line 39 below) GetModule('atl.dll') then ALL OTHER GetModule CALLS WORK!

this is just absolutely stunning.  pyjamas-desktop - a highly sophisticated application that relies heavily on python COM bindings to MSHTML.DLL actually bloody well works.

the only other thing i spotted was that in the conversion process one of the GetModule calls threw these errors:

fixme:ole:ITypeInfo_fnGetRefTypeInfo Can't find pRefType for ref 3e8
fixme:ole:ITypeInfo_fnGetRefTypeInfo Can't find pRefType for ref 3e8
fixme:ole:ITypeInfo_fnGetRefTypeInfo Can't find pRefType for ref 10b30
fixme:ole:ITypeInfo_fnGetRefTypeInfo Can't find pRefType for ref 1142c
fixme:ole:ITypeInfo_fnGetRefTypeInfo Can't find pRefType for ref 3e8

other than that this is a staggeringly-impressive result.


C:\pyjamas\examples\helloworld>python Hello.py
fixme:ole:TLB_ReadTypeLib Header type magic 0x00405a4d not supported.
err:ole:TLB_ReadTypeLib Loading of typelib Latl.dll failed with error 0
Traceback (most recent call last):
  File Hello.py line 1 in 
    import pyjd # this is dummy in pyjs.
  File C:\Python26\lib\site-packages\pyjd\__init__.py line 43 in 
    from mshtml import *
  File C:\Python26\lib\site-packages\pyjd\mshtml.py line 39 in 
    GetModule('atl.dll')
  File C:\Python26\lib\site-packages\comtypes\client\_generate.py line 97 in GetModule
    tlib = comtypes.typeinfo.LoadTypeLibEx(tlib)
  File C:\Python26\lib\site-packages\comtypes\typeinfo.py line 480 in LoadTypeLibEx
    _oleaut32.LoadTypeLibEx(c_wchar_p(szFile) regkind byref(ptl))
  File _ctypes/callproc.c line 924 in GetResult
WindowsError: [Error -2147312566] Windows Error 0x80029C4A

C:\pyjamas\examples\helloworld>",986,"1"
"WINE-2605","Borland qtinf70 draw problems","Widgets drawn by the dll used by CLX apps created with Borland Delphi has some
shape and size problems.

In this illustration program the source program and screenshots how the app
looks like in Windows is included.

See for yourself...",1334,"1"
"WINE-25949","Divinity 2: The Dragon Knight Demo - fails to start with builtin msvcr80 (purist)","Created attachment 33083
WINEDEBUG=+msvcrt (trimmed bzip2'ed)

Install the game then native d3dx9_36 with winetricks. Set msvcr80 to builtin in winecfg. Start the game. You'll get the introduction credits then a black screen with a rotating icon in the bottom right. With native msvcr80 it stays here for 2-3 seconds then you get the start menu. With builtin it hangs here indefinitely.

Apparently it crashes with builtin:
err:msvcrt:MSVCRT__invalid_parameter (null):0 (null): (null) 0
wine: Unhandled exception 0xc0000417 at address 0x7b839713 (thread 0026) starting debugger...

Backtrace:
=>0 0x7b839713 RaiseException+0x83(code=0xc0000417 flags= nbargs=0 args=0xb7744331) [/home/austin/wine-git/dlls/kernel32/except.c:84] in kernel32 (0x0b9de7dc)
  1 0x7e9829e9 MSVCRT__invalid_parameter+0x68(expr=0x0(nil) func=0x0(nil) file=0x0(nil) line=0 arg=0) [/home/austin/wine-git/dlls/msvcrt/errno.c:427] in msvcrt (0x0b9de81c)
  2 0x7e9955b8 MSVCRT__mbstowcs_s_l+0x97(ret=0x0(nil) wcstr=Init.bnk????? size=0x8 mbstr=Init.bnk count=0x8 locale=(nil)) [/home/austin/wine-git/dlls/msvcrt/mbcs.c:1845] in msvcrt (0x0b9de84c)
  3 0x7e9956ee MSVCRT__mbstowcs_s+0x2d(ret=0x0(nil) wcstr=Init.bnk????? size=0x8 mbstr=Init.bnk count=0x8) [/home/austin/wine-git/dlls/msvcrt/mbcs.c:1863] in msvcrt (0x0b9de94c)
  4 0x00f07fa5 in divinity2 (+0xb07fa4) (0x0017fac0)

+msvcrt/backtrace attached",58,"0"
"WINE-5745","ExpressPCB aborts on startup","Now that bug 3752 is fixed let's see if ExpressPCB actually runs... nope.
Here's a greatly abbreviated +text log:

fixme:ole:CoRegisterMessageFilter message filter has been registered but will
not be used
fixme:ole:OleLoadPictureEx
(0x7edd39547740{7bf80980-bf32-101a-8bbb-00aa00300cab}x=0y=0f=00x7fc8fa18)
partially implemented.
err:toolbar:ToolbarWindowProc unknown msg 2210 wp=00000001 lp=00010030
...
fixme:ole:OleLoadPictureEx
(0x7edd39546061{7bf80980-bf32-101a-8bbb-00aa00300cab}x=0y=0f=00x7fc8f9e8)
partially implemented.
trace:text:DrawTextExW L&File -1 [(424)-(424)] 00000420
trace:text:DrawTextExW Params: iTabLength=0 iLeftMargin=0 iRightMargin=0
...
trace:text:DrawTextExW L&Help -1 [(20724)-(20724)] 00000420
trace:text:DrawTextExW Params: iTabLength=0 iLeftMargin=0 iRightMargin=0
fixme:ole:OLEPictureImpl_SaveAsFile (0x7fe3c3f8)->(0x7fe71ee8 0 (nil)) hacked
stub.
trace:text:DrawTextExW L&File -1 [(424)-(424)] 00000420
trace:text:DrawTextExW Params: iTabLength=0 iLeftMargin=0 iRightMargin=0
...
trace:text:DrawTextExW L&Help -1 [(20724)-(20724)] 00000420
trace:text:DrawTextExW Params: iTabLength=0 iLeftMargin=0 iRightMargin=0
fixme:ole:OLEPictureImpl_Invoke (dispid: 0):Stub
fixme:ole:OLEPictureImpl_FindConnectionPoint no connection point for
{33ad4ed2-6699-11cf-b70c-00aa0060d393}
trace:text:DrawTextExW L&OK -1 [(1640)-(4872)] 00000440
trace:text:DrawTextExW Params: iTabLength=0 iLeftMargin=0 iRightMargin=0
trace:text:DrawTextExW LRun-time error '438':\n\nObject doesn't support this
property or method -1 [(00)-(3520)] 00000450",321,"0"
"WINE-36285","valgrind shows several leaks in kernel32/tests/debugger.c","==28825== 99 bytes in 1 blocks are definitely lost in loss record 135 of 229
==28825==    at 0x7BC4C735: notify_alloc (heap.c:255)
==28825==    by 0x7BC50F79: RtlAllocateHeap (heap.c:1716)
==28825==    by 0x4B4AB31: doChildren (debugger.c:703)
==28825==    by 0x4B4B71F: func_debugger (debugger.c:840)
==28825==    by 0x4C087A8: run_test (test.h:584)
==28825==    by 0x4C08B97: main (test.h:654)
==28825==",50,"0"
"WINE-11062","CSLU toolkit doesn't create menus when you run its setup.bat","The CSLU toolkit installer is a complex 
thing that downloads all sorts of stuff.
When it finishes c:\program files\cslu seems to
be there ok.  Inside that directory is a setup.bat
that creates start menu entries.  Running that
batch file with 
  wine start setup.bat
does indeed create .lnk files in 
c:/windows/profiles/All Users/Start Menu/CSLU Toolkit
but no menu entries are created in ~/.local/share/applications/wine.
Running
  WINEDEBUG=+shell+menubuilder+process wine cmd /c setup.bat
I see 
trace:shell:StartLinkProcessor starting Lwinemenubuilder.exe -w \RAD.lnk\
...
warn:menubuilder:InvokeShellLinker Unknown link location LC:\\windows\\profiles\\ALL_~DGY\\STAR~DZT\\CSLU Toolkit\\RAD.lnk. Ignoring.

GetLinkLocation calls GetFullPathNameW() to get the full
path but it also needs to call GetLongPathNameW()
or the names won't match its hardcoded list of allowed locations.

I'll submit a patch that fixes this.",2,"0"
"WINE-12540","Favourites menu doesn't work as expected","In Watchtower Library 2007 the Favourites menu doesn't work as expected.

First some set up:
1. Open some article
2. Use Favourites menu to Add to favourites
3. Repeat 1 and 2 one or more times.

Now when trying to open a favourite here's the correct behaviour:
1. Open Favourites menu
2. Click on the first added article
3. The article displays in the viewer
4. Open menu again
5. Click on the second or any other than first article
6. It displays correctly.

However something diffrent happens:
1. Open Favourites menu
2. Click on the first added article
3. The article displays in the viewer
4. Open menu again
5. Click on the second or any other than first article
6. Program displays FIRST added article not the one selected.

This behaviour renders Favourites menu useless. It works correctly under Windows XP. It's worth noting that favourites are executed by an external program that comes with Watchtower Library 2007 - WTFavLauncher.exe and the favourites are files located in windows/profile directory with *.wtfav extension. It seems that regardless of which item in menu user clicks WTFavLancher picks always first added file. I have no idea whether the WTLib doesn't pass the parameter correctly or the WTFavLauncher program can't locate the file.
It's also worth noting that executing WtFavLauncher.exe manually with filename of some favourite item as a parameter it works correctly - displays given article in Watchtower Library program.

What logs can I attach to help to solve this issue?",46,"0"
"WINE-22277","Pool Sharks requires implemented GdipSetImageAttributesWrapMode","Created attachment 27214
Pool Sharks .NET unhandled exception output

After installing dotnet20 from winetricks and installing Pool Sharks starting its launcher yields a managed exception:

System.NotImplementedException: Not implemented.
   at System.Drawing.Imaging.ImageAttributes.SetWrapMode(WrapMode mode Color color Boolean clamp)
   at System.Drawing.Imaging.ImageAttributes.SetWrapMode(WrapMode mode)
   at System.Windows.Forms.ControlPaint.DrawBackgroundImage(Graphics g Image backgroundImage Color backColor ImageLayout backgroundImageLayout Rectangle bounds Rectangle clipRect Point scrollOffset RightToLeft rightToLeft)
...

Using native gdiplus successfully works around this exception.",118,"0"
"WINE-41040","VariantChangeTypeEx lead to error when casting IUnknown(nil) -> IDispatch","Sample Delphi code works well on Windows

var
  unk: IUnknown
  V: Variant
begin
  unk := nil
  V := VarAsType(unk varDispatch) // type error here in wine
end",0,"0"
"WINE-39287","Huawei HiSuite 2.3.55 installer crashes","Created attachment 52363
stack trace of what has happened

Error in ntdll during hisuite Huawei install",2,"0"
"WINE-33189","wineconsole can't launch batch filenames with parenthesis","If you launch a batch file which has a parenthesis in its filename you get an infinite loop.

I'm currently using ArchLinux.

=== How to reproduce ===
mkdir -p $HOME/a
echo -n -e @echo off\r\nnotepad.exe\r\n > $HOME/a/test(123).bat
wineconsole $HOME/a/test(123).bat

I'm also using Ubuntu with wine 1.4.1 which does not have this behaviour they may have fixed it as I had it before Ubuntu Raring on Precise maybe they have a patch already.",86,"0"
"WINE-41231","regedit no longer processes registry input from stdin using - as filename","regedit since around 1.9.17 no longer processes registry input from stdin:

Steps to reproduce:
1. run command from shell: regedit -
2. add appropriate registry input lines in stdin and end with Ctrl-D

Expected: the registry entry should be added in registry (use regedit GUI to view)
Actual: No change in registry

This looks like a regression after commit 256290f regedit: Parse command-line input using Unicode. In regedit.c PerformRegAction() after testing if - and setting reg_file=stdin it skips over else statement and just reaches break statement without calling import_registry_file().",34,"0"
"WINE-7835","Anno 1701 crash at startup","Anno 1701 crashes at startup with a popup saying fatal error or no disk space
The console shows :
The app requests more than one back buffer this can't                        
                                        be supported properly. Please configure
the application to use double buffering(=1 back buffer) if possible

i tried backbuffer pbuffer and fbo since glsl is enable din my configuration.",1296,"1"
"WINE-43348","valgrind shows some definite leaks in dlls/msacm32/tests/msacm.c","../../../tools/runtest -q -P wine -T ../../.. -M msacm32.dll -p msacm32_test.exe.so msacm && touch msacm.ok
==11599== 50 bytes in 1 blocks are definitely lost in loss record 115 of 287
==11599==    at 0x7BC50812: notify_alloc (heap.c:254)
==11599==    by 0x7BC54C93: RtlAllocateHeap (heap.c:1716)
==11599==    by 0x487C2D8: test_acmFormatChoose (msacm.c:1260)
==11599==    by 0x487CC27: func_msacm (msacm.c:1446)
==11599==    by 0x487DA78: run_test (test.h:603)
==11599==    by 0x487DEC9: main (test.h:687)
==11599==",4,"0"
"WINE-20159","EVE Online crashes on Character selection screen","Compiled myself a fresh Wine 1.1.30 today.
Started EVE Online.
Unfortunately after logging in when the Character selection screen should appear EVE crashes.
This worked with 1.1.29 so this is a regression.

Last messages on the console:
[lots of err:heap:HEAP_ValidateInUseArena ... ]
err:heap:HEAP_ValidateInUseArena Heap 0x110000: prev arena 0x6c1c5e0 is not prev for in-use 0x6c47110
wine: Unhandled page fault on read access to 0x00000054 at address 0xb7ac978a (thread 002a) starting debugger..

Starting the debugger then hangs EVE (wine) has to be killed with a SIGTERM.

Bisecting between 1.1.29 and 1.1.30 brought me to:
wine-git $ git bisect bad
a8e8f763bfa6674c803b8986722e3c40c962bd6b is first bad commit
commit a8e8f763bfa6674c803b8986722e3c40c962bd6b
Author: Henri Verbeet 
Date:   Thu Sep 17 23:03:25 2009 +0200

    wined3d: Don't free D3D textures until the wined3d texture is destroyed.

:040000 040000 17ec2aff8812a23360a314a711bb4a0bcd451908 254cf97c166716c86a78400f6196e90d07363b6c M      dlls
:040000 040000 dcce0db77cda8db42d77817baad3a25c86a0722a 990b2b596a7a3733ff1ee0b8052ac25a91b576a5 M      include

Can someone please add Henri Verbeet to the CC? I'm to stupid to use the CC function... 

Greetings
Jan",4,"0"
"WINEHQ_APPS_DATABASE-14009","Trackmania Nations Forever is in the appdb twice","I'm the maintainer of http://appdb.winehq.org/objectManager.php?sClass=version&iId=12137 but there's also http://appdb.winehq.org/objectManager.php?sClass=version&iId=11595

I didn't create either but I can't decide where it belongs. Can you please decide where it should be and merge/delete as appropriate? In the comments on the first link you can read some arguments for where it should be.",0,"0"
"WINE-40219","Multiple applications need msvcr120.dll.?_Id@_CurrentScheduler@details@Concurrency@@SAIXZ (Kontakt 5 Player Serato DJ 1.9.2 Cisco Jabber 11.6 Darkest Dungeon Sonic Pi 2)","The Kontakt 5 player application crashes on unimplemented function:
wine: Call from 0x7b83be8c to unimplemented function msvcr120.dll.?_Id@_CurrentScheduler@details@Concurrency@@SAIXZ aborting

The application can be downloaded from:
http://www.native-instruments.com/en/products/komplete/samplers/kontakt-5-player/free-download/ (asks for email).",413,"0"
"WINE-16454","emule crashs after an undefined time","Created attachment 17805
logfile

I attach the standard console output. Sorry but I couldn't say anything more about the crash.

I don't know whether you need more information about this crash.",219,"0"
"WINE-7933","c-evo doesnt play mp3 then has access violation","access violation at address 004995f1 in module 'cevo.exe'. Read of address 00000000.

http://www.c-evo.org/files/files.php",2032,"1"
"WINE-30974","No backtrace with Visual C++ 2010 .pdb files in large app Unsupported type 1404 in STRUCT field list","When trying to get a backtrace from a large proprietary app built with
Visual C++ 2010 wine's backtracer issues the errors seen in bug 30973
along with a few more e.g.

fixme:dbghelp_msc:codeview_add_type_struct_field_list Unsupported type 1404 in STRUCT field list
fixme:dbghelp_msc:codeview_fetch_type Cannot locate type 103
fixme:dbghelp_msc:codeview_get_type Returning NULL symt for type-id 103
fixme:dbghelp_msc:codeview_snarf S-Udt nullptr_t: couldn't find type 0x103

and fails to generate a useful backtrace.",1059,"1"
"WINE-9425","Select behavior different on Wine","#include stdafx.h
#include 

int _tmain(int argc _TCHAR* argv[])
{
  SOCKET fd
  WORD wVersionRequested
  WSADATA wsaData

  wVersionRequested = MAKEWORD( 2 2 )
  WSAStartup(wVersionRequested 
  fd = socket(AF_INET SOCK_STREAM 0)
  if (fd != INVALID_SOCKET)
  {
    fd_set readfds
    struct timeval select_timeout 

    FD_ZERO(
    FD_SET(fd 
    select_timeout.tv_sec=2 
    select_timeout.tv_usec=0 

    if (select((int) fd+1 &readfds NULL NULL 
      &select_timeout) != SOCKET_ERROR)
    {
      if(FD_ISSET(fd &readfds))
        printf(THIS IS WINE\n)
      else
        printf(THIS IS WINDOWS\n)
    }
      else printf(got a socket error\n)

    closesocket(fd)
  }
  return 0
}",2831,"1"
"WINE-18610","Quicken 2009 crashes","Created attachment 21292
Output from wine qw.exe

Upon updating my Wine installation from 1.1.21 to 1.1.22 Quicken 2009 Rental Property Manager has ceased to run.  It starts asks for the password of my default Quicken file and then fails.  A small window titled Crash briefly appears after which point the application exits.

I've gone back and forth between 1.1.21 and 1.1.22 several times to confirm that the failure is repeatable.  My environment is Fedora 10 x86-64.  I build each version of Wine myself using tools/wineinstall.

Please find attached the log output when I run wine qw.exe from the command line.  Note that this fails the same way as when I start Quicken from the icon.",15,"0"
"WINE-10708","Wine lacks support for animated cursors","Currently Wine lacks support for Animated cursors meaning that in games that use them you either have no mouse at all or just the basic X mouse (which in itself is a bug so eventually until this is fixed these games will lack a cursor entirely).

Some examples of games are Battlefield 2 Act of War Command & Conquer Generals etc. Ranked Major because it affects quite a few applications.",355,"0"
"WINE-40406","Doom 4 requires bcrypt RNG provider","Created attachment 54138
Doom4 logs

Distribution :
Linux 4.3.0-1-amd64 #1 SMP Debian 4.3.3-5 (2016-01-04) x86_64 GNU/Linux

Description :
I have access to Doom4 Closed Beta the game launch successfully.
On Main menu If I click on multiplayer button I get the following message : Unable to obtain title storage. Please check your network connection and try again.

Analysis :

After adding some logs in Wine I saw that RNG & AES algorithm are not implemented in bcrypt_main.c

Solutions :

Implement RNG and AES algorithm in bcrypt.dll.so.
I tried to implement it myself but I'm not familiar with encryption. Any help would be appreciate. It looks RSA is not implemented too. (bug 39582)",1,"0"
"WINE-16292","Activeworlds client 4.2 update fails with reason 13","Installs ok won't start unless you do winetricks mfc42.
Then it starts and notices it needs an update
if you accept it downloads it and then fails with reason 13.
winetricks wininet works around this and gets you to the
next problem.",267,"0"
"WINE-16170","Call of Duty 5 and MotoGP08 crash","Due to KSDATAFORMAT_SUBTYPE_WAVEFORMATEX (00000000-0000-0010-8000-00aa00389b71) subtype is not supported Call of Duty 5 will crash and MotoGP08 exists silenty.
With commenting out supported subtype check CoD starts and MotoGP08 goes further then hits black screen (as Devil May Cry 4's engine)",190,"0"
"WINE-5643","Some keys are not working","Max payne 2 has some problems with some actions... Pause and Use are not 
working neither the selection of gun with the numbers (123...) It is not a 
problem of which key is assigned to those actions changing them doesnt make 
this action work! I read something of this being a regression in the DINPUT 
implementation...

In the URL is the place to download the game DEMO. No really sure if in the 
DEMO the problem exists... guess so",7,"0"
"WINE-15046","Graphics Corruption in Star Trek Legacy","Created attachment 15701
Wine output

When playing Star Trek Legacy graphics corruption will occur. Extent of corruption varies at first from your ship disappearing to the entire screen going black. Happens at random points in game. I am using a Nvidia GeForce 8600 GT with 512MB of Ram with nvidia binary driver version 173.14.12.",449,"0"
"WINE-STAGING-43891","RAGE (Steam) crashes after start in wine-staging","Created attachment 59507
terminal output

The game starts properly in the development version of Wine (2.19) but crashes in the Staging version (tested with the following Staging versions: 2.10 2.14 2.18 and with current Staging-git).
Reproduced the crash with the following Nvidia driver versions: 378.13 384.59 and with current 387.12.
With nouveau and Mesa 17.2.2 the game crashes in a different way (both in Staging and the development version) that's probably bug #38969.

The patch in Staging which causes the problem:

https://github.com/wine-compholio/wine-staging/blob/master/patches/opengl32-Revert_Disable_Ext/0001-Revert-opengl32-Return-a-NULL-pointer-for-functions-.patch

Arch Linux x86_64
OpenGL vendor string: NVIDIA Corporation
OpenGL renderer string: GeForce GT 730/PCIe/SSE2
OpenGL core profile version string: 4.5.0 NVIDIA 387.12",336,"0"
"WINE-25048","ManyCam: Fails to start","Created attachment 31746
Image showing the problem

Steps to reproduce:
1) remove ~/.wine
2) winetricks gecko
2) install ManyCam
3) wine ManyCam.exe

Behaviour:
See attachment

Expected behaviour:
Application should start

In terminal there is only

fixme:win:RegisterDeviceNotificationW (hwnd=0x30028 filter=0x7a31b4flags=0x00000004) returns a fake device notification handle!
fixme:wininet:CommitUrlCacheEntryInternal entry already in cache - don't know what to do!

Additional info:
dmesg about my camera

[    9.640061] Linux video capture interface: v2.00
[    9.894542] uvcvideo: Found UVC 1.00 device Acer HD Crystal Eye webcam (064e:a117)
[    9.902957] input: Acer HD Crystal Eye webcam as /devices/pci0000:00/0000:00:1a.7/usb1/1-3/1-3:1.0/input/input7


I'm using wine-1.3.6-240-g791b22a on 32 bit Fedora 14",132,"0"
"WINE-17980","BDE application cannot open any db file","REGRESSION: wine 1.1.18 breaks BDE application which uses PARADOX driver
The application simply cannot open any db file showing Invalid file name error followed by memory access exception message (EDatabaseError).
Rolling back to 1.1.17 solved the problem.

Not sure how to collect useful tracking information with wine. Please let me know then steps and will get the info.

Application (trial English version): http://mirror1.keepsoft.com/download/hbk4.exe
Application (trial Russion version): http://www.keepsoft.ru/files/homebuh/homebuh.exe
Note I experienced the problem with Russian version of the application.

Package: wine_1.1.18~winehq0~ubuntu~8.04-0ubuntu1_i386.deb
OS: Ubuntu 8.04",20,"0"
"WINE-13124","Graphical glitches in cursor for Diner Dash Hometown Hero","Trying to play Diner Dash Hometown Hero (free demo at http://www.bigfishgames.com/download-games/2347/diner-dash-hometown-hero/index.html) I get black squares around the cursor that makes the cursor and the image below it dissapear making the game unplayable.
In the console I get a lot of messages sayin:

fixme:d3d_surface:IWineD3DSurfaceImpl_BltOverride Implement hardware blit between two surfaces on the same swapchain

and 

fixme:d3d_surface:surface_download_data Read back converted textures unsupported format=WINED3DFMT_X8R8G8B8",1048,"1"
"WINE-20420","VB6 Font size problem with custom usercontrols","Created attachment 24231
Test VB6 wrong font size

There is an important issue with font size with VB6 applications.

I adjusted some VB6 applications from xp to linux using wine and the major problem consists of something wrong on saved font size.

The test application has a label with a tahoma 14 font and the same saved in a usercontrol with a property bag: in windows the two labels have obviously the same size but not in wine!

On load event font name and size are printed on the respective label: It seems the property value is right but font is not!",893,"1"
"WINE-19548","Image deblurring tool requires implemented SetThreadIdealProcessor when run on multi-core machines","Created attachment 22773
SetThreadIdealProcessor hack

With wine-1.1.26-231-gfe9d360 when the image deblurring tool is used to execute a deblurring operation on a system with multiple processors the tool eventually aborts with:

system error(120): __kmp_launch_monitor: SetThreadIdealProcessor: Call not implemented

for which a fixme is emitted:

fixme:thread:SetThreadIdealProcessor (0xfffffffe): stub

Hacking the SetThreadIdealProcessor stub to return 0 works around the problem.",11,"0"
"WINE-37225","QQ 6.3: QQApp.exe Crashes after login","QQ is a popular IM client in China.       

1.Download from http://dldir1.qq.com/qqfile/qq/QQ6.3/12369/QQ6.3.exe

2.use winetrick wenquanyi fakechinese to fix the problems on Chinese fonts.

3.Start QQ from C:/Program Files/Tencent/QQ/Bin/QQ.exe and QQ.exe will start QQApp.exe at background.

4. An error dialog complains the security component of QQ is broken. close the dialog

5. login with the folloing testing account:
account: 1469264807
Password: winedebug

6. QQ.exe begin to login then QQApp.exe will crash.


NOTICE:
QQApp.exe has some kind of communication(may be RPC) with QQ.exe QQApp.exe can't be started directly.

Winedbg pop info window may not get backtrace in some environment when QQApp.exe crashes.

QQApp.exe load lua engine to run scripts.",341,"0"
"WINE-43740","GenerateMips not implemented for d3d10 (Just Cause 2)","(Since this is about a wine-staging patch i selected wine-staging)

Since 2.17-staging we have this patch (https://dev.wine-staging.com/patches/190/). It fixed the GenerateMips for (somemost?) directx11 games but it is missing for directx10.
Just Cause 2 reports fixme:d3d11:d3d10_device_GenerateMips iface 0x3625c24 shader_resource_view 0xc61eb74 stub!

It *should* be very much the same function just with other structs i guess the missing dx10 function is at https://source.winehq.org/git/wine.git/blob/HEAD:/dlls/d3d11/device.c#l4175

we already have unsafe_impl_from_ID3D10ShaderResourceView at https://source.winehq.org/git/wine.git/blob/HEAD:/dlls/d3d11/view.c#l2338

but i wasn't able to locate the equivalent of device_from_immediate_ID3D11DeviceContext (at https://source.winehq.org/git/wine.git/blob/HEAD:/dlls/d3d11/device.c#l42) for directx10

but i gonna leave that to the real programmers anyway )",160,"0"
"WINE-9925","SafeDisc 1.x encrypted .ICD executables crash in entry point (import fixups should be done before any user code is run)","SafeDisc 1.x fails to work on Wine because of this bug.

Here is what happens:
1. SD creates a new process for the game with CREATE_SUSPENDED flag.
2. Injects some code into new process to be executed first
3. Resumes the new process.
4. Injected code is being executed
5. Wine does import fixups and fails because they are already fixedup (by an injected code).

What should happen is Wine should not let injected code to run until final stages of the process setup are finished. In this case it is import fixups.",90,"0"
"WINE-6694","Java App Problems with Filechooser","It seems there is a Bug with Java Apps.
Testet with wine from 0.9.16 to 0.9.25.

I tried to use a small Java app.
In the app is a Button which calls a File Chooser.
If i click the button nothing happens.
Wine/Java write the following Output:

fixme:shell:DllGetClassObject failed for CLSID=
        {208d2c60-3aea-1069-a2d7-08002b30309d} (My Network Places)
err:shell:SHCoCreateInstance LoadFromShell failed for CLSID=
        {208d2c60-3aea-1069-a2d7-08002b30309d} (My Network Places)
Exception in thread AWT-EventQueue-0 java.lang.InternalError: Could not bind 
shell folder to interface
        at sun.awt.shell.Win32ShellFolder2.initSpecial(Native Method)
        at sun.awt.shell.Win32ShellFolder2.(Unknown Source)
        at sun.awt.shell.Win32ShellFolderManager2.getNetwork(Unknown Source)
        at sun.awt.shell.Win32ShellFolder2.getFileSystemPath(Unknown Source)
        at sun.awt.shell.Win32ShellFolder2.getChildByPath(Unknown Source)
        at sun.awt.shell.Win32ShellFolderManager2.getPersonal(Unknown Source)
        at sun.awt.shell.Win32ShellFolder2.listFiles(Unknown Source)
        at sun.awt.shell.ShellFolder.listFiles(Unknown Source)
        at sun.awt.shell.Win32ShellFolderManager2.get(Unknown Source)
        at sun.awt.shell.ShellFolder.get(Unknown Source)
        at 
javax.swing.plaf.metal.MetalFileChooserUI.updateUseShellFolder(Unknown Source)
        at javax.swing.plaf.metal.MetalFileChooserUI.installComponents(Unknown 
Source)
        at javax.swing.plaf.basic.BasicFileChooserUI.installUI(Unknown Source)
        at javax.swing.plaf.metal.MetalFileChooserUI.installUI(Unknown Source)
        at javax.swing.JComponent.setUI(Unknown Source)
        at javax.swing.JFileChooser.updateUI(Unknown Source)
        at javax.swing.JFileChooser.setup(Unknown Source)
        at javax.swing.JFileChooser.(Unknown Source)
        at javax.swing.JFileChooser.(Unknown Source)
        at CI.actionPerformed(LWSN)
        at javax.swing.AbstractButton.fireActionPerformed(Unknown Source)
        at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)
        at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)
        at javax.swing.DefaultButtonModel.setPressed(Unknown Source)
        at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown 
Source)
        at java.awt.Component.processMouseEvent(Unknown Source)
        at javax.swing.JComponent.processMouseEvent(Unknown Source)
        at java.awt.Component.processEvent(Unknown Source)
        at java.awt.Container.processEvent(Unknown Source)
        at java.awt.Component.dispatchEventImpl(Unknown Source)
        at java.awt.Container.dispatchEventImpl(Unknown Source)
        at java.awt.Component.dispatchEvent(Unknown Source)
        at java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)
        at java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)
        at java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)
        at java.awt.Container.dispatchEventImpl(Unknown Source)
        at java.awt.Window.dispatchEventImpl(Unknown Source)
        at java.awt.Component.dispatchEvent(Unknown Source)
        at java.awt.EventQueue.dispatchEvent(Unknown Source)
        at java.awt.EventDispatchThread.pumpOneEventForHierarchy(Unknown 
Source)
        at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
        at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
        at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
        at java.awt.EventDispatchThread.run(Unknown Source)


According to Suns Bug Database this error occurs with Java on WinNT.
Link for Suns Bug:

http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4879395

Wine is set to Win2k also tried the others (Win9x fails with Java at all...)

The Java app works perfectly with same the setup on Crossover 6.0 beta2.

Must be a error in wine itself not a missing registry entry i think because 
i tried the registry created by crossover with wine and it still fails.",718,"0"
"WINE-22581","Internet Explorer 3.01 crashes on some web pages (unimplemented function ole2disp.dll16.VARIANTINIT)","Created attachment 27709
Full crash log

IE 3.01 for Windows 3.1 crashes when attempting to load some web pages. For instance attempting to search in AppDB triggers this crash. Probable culprit:

wine: Call from 0x7b837bea to unimplemented function ole2disp.dll16.VARIANTINIT aborting
wine: Unimplemented function ole2disp.dll16.VARIANTINIT called at address 0x7b837bea (thread 001a) starting debugger...",2072,"1"
"WINE-22789","Bonzai3D irretrievable following window minimize","Minimizing the app from the (Gnome) window manager renders the app irretrievable.  Maximize reopens the window but all controls app windows palettes etc. fail to display. Subsequently impossible to kill the app.",723,"0"
"WINE-42876","iTunes needs function msvcp140.dll._Lock_shared_ptr_spin_lock","Created attachment 57995
Crash Backtrace Dump file

Trying to install iTunes 64 bit on Linux Mint 18. Install crashes with
 Unhandled exception: unimplemented function  msvcp140.dll._Lock_shared_ptr_spin_lock called in 64-bit code (0x000000007b44f007).",0,"0"
"WINE-16281","Support for animated cursors is not implemented","As per the title currently only the first frame of the animated cursor is shown the cursor itself doesn't play.",676,"0"
"WINE-36207","Steel Beasts v1.19 demo installer crashes on exit","Created attachment 48328
terminal output

At the end of the installation when you close the Wine Explorer window showing the installed shortcuts there is a crash preceded by an
>err:heap:validate_block_pointer Heap 0x110000: bad flags 00000001 for in-use arena 0x13b400
error.

Despite of the crash the game is installed correctly.

This is the commit that introduced the crash:

116e33d50a3435a539bcf7e9b93ab4adbfbecef9 is the first bad commit
commit 116e33d50a3435a539bcf7e9b93ab4adbfbecef9
Author: Alexandre Julliard 
Date:   Thu Oct 17 18:01:04 2013 +0200

    shell32: Delay initialization of the icon cache until needed.

:040000 040000 ef0d7553dec7d91788b2ea39482f823f3a1975aa 522d7157e3be8944bb65d8768e2d2883d8f242de M	dlls

The previous commit (4c6e039aa153aaf3576d52a4106e97bd4d0b1159) results a different backtrace at the end of installation so I couldn't decide which one is the real culprit.

Still present in wine-1.7.17-148-g2e5cb7a",1,"0"
"WINE-27635","FlyLinkDC: Incorrect display images","Created attachment 35330
Screenshot

All images in FlyLinkDC ( http://code.google.com/p/flylinkdc/ ) looks like compressed twice.",104,"0"
"WINE-17310","Window looses its top returning from fullscreen and is undragable from normal means","When  is used from fullscreen the window appears in the upper left and looses the top of the window(cannot drag with mouse noramlly).

It will drag if you hold down alt however.",2505,"1"
"WINE-3324","Corel Draw 11 msi bug (I think)","Hi 

I compiled and installed the latest CVS today and had another go ad installing
corel draw. It got much further than before but still isn't there.

I removed my ~/.wine directory
mounted the cdrom and ran
wine ./Setup.exe &>~/winedebug1
First off there is no license text shown but you can accept and proceed. It then
dies with 

Error Number 0x80040702
Desription: Failed to load dll MCSetup.dll

So then I found the dll in /cdrom/Setup so did
rm -r ~/.wine
cd /cdrom/Setup
wine ../Setup.exe &>~/winedebug2

This time I get all the way though choosing where to install and the type of
install (Typical) until finally

Error: -1603 Fatal error during installation
Consult windows installation help

The debug output is at 
http://www.srcf.ucam.org/~grhe2/wine-debug1
http://www.srcf.ucam.org/~grhe2/wine-debug2

If you want any more debug output or want wine run with any other options just
email me

Glyn",293,"0"
"WINE-25605","The Settlers 3: Save as bitmap crashes world editor","Steps to reproduce:
1) remove ~/.wine
2) install The Settlers 3 Gold
3) wine S3Editor.exe
4) File->Save as bitmap

Behaviour:
Silent exit.

Expected behaviour:
No silent exit.

Terminal output:
fixme:commdlg:GetFileName95 Flags 0x00008000 not yet implemented
X Error of failed request:  BadAlloc (insufficient resources for operation)
  Major opcode of failed request:  53 (X_CreatePixmap)
  Serial number of failed request:  46724
  Current serial number in output stream:  46745",915,"1"
"WINE-36501","Dyn Updater v4.1.10 'DynUpConfig' tool crashes on startup ('Win32_NetworkAdapterConfiguration' WMI class 'Description' property missing)","Created attachment 48576
Dyn Updater configuration 4.1.10 error

Dyn Updater configuration 4.1.10 install perfect I went through all the wine installation great when I open the dyn updater to put in my username and password  I get an error and closes with wine",987,"1"
"WINE-29603","Ski Challenge 2010: extremely long loading times (unless Win98 mode is set)","Starting a new game in Ski Challenge 2010 demo takes an unusually long time: 5-7 minutes.
Lowering the screen resolution/detail level disabling audio don't make a difference.
Besides the default Windows XP mode I tried with Win2000 Vista as well as Windows 7 mode: all the same.

What does seem to improve the loading time considerably is to set the Windows version to Win98 in winecfg: loading a new game takes only 15-30 seconds (depending on the detail level).

Steps to reproduce the problem with the demo:
1. Install the demo. Select 'Use custom installation' option and uncheck the option 'Run Ski Challenge 2010 (FTV)'.
2. Start the demo by Updater.exe. The updater will fail dismiss the error message. The launcher should appear.
3. In the launcher go to  -->  then click on . Click on .
4. When the main menu appears click on  -->  select a course and click on .
5. The game is loading but it seems to take forever to get into the game.

Terminal output doesn't reveal anything suspicious just lots of
fixme:d3d:resource_check_usage Unhandled usage flags 0x8

Fedora 16
Nvidia 250 / driver 290.10",2441,"1"
"WINE-26992","Windows Live FolderShare 14.x needs advapi32.RegisterTraceGuidsW() impl (or at least semi-stub)","Hello

Windows Live FolderShare 14.0.1383.0530 crashes on startup due to RegisterTraceGuidsW() being a stub.

--- snip ---
$ wine ./FolderShare.exe 
fixme:heap:HeapSetInformation (nil) 1 (nil) 0
11:27:22.265 core.cpp:1112!initPaths (NORMAL): got application exec location: C:\Program Files\Windows Live\FolderShare
11:27:22.269 configfile.cpp:176!readConfigFile (CRITICAL): unable to open config file: C:\users\focht\Local Settings\Application Data\FolderShare\settings\global.ini err: 2
11:27:22.269 core.cpp:1464!loadGlobalSettings (ERROR): Error reading config file 'C:\users\focht\Local Settings\Application Data\FolderShare\settings\global.ini'readConfigFile returned 0 fileSize is -1
Opened log: C:\users\focht\Local Settings\Application Data\FolderShare\logs\%COMPUTERNAME%.dev=0.2011-05-01.1127.8-1.log
fixme:advapi:RegisterTraceGuidsW (0x4bdb18 (nil) {fde002b2-8125-44b2-b3ca-a6f8549c91bf} 3 0x32f11c (null) (null) 0x500340)
wine: Unhandled exception 0x80000003 at address 0x4b691d (thread 0009) starting debugger...
--- snip ---

Logfile:

--- snip ---
11:28:54.762 global.cpp:175!InitLogger (DETAIL): InitLogger called. outputMask: 2 serverType: 3 maxMegaBytes: 5
11:28:54.763 etw.cpp:193!Etw::RegisterTracing (CRITICAL): FAILED: assert(result == NO_ERROR)
--- snip ---

Trace log:

--- snip ---
0027:Call advapi32.RegisterTraceGuidsW(004bdb1800000000004e74d0000000030032f11c000000000000000000500340) ret=004bdc54
0027:fixme:advapi:RegisterTraceGuidsW (0x4bdb18 (nil) {fde002b2-8125-44b2-b3ca-a6f8549c91bf} 3 0x32f11c (null) (null) 0x500340)
0027:Ret  advapi32.RegisterTraceGuidsW() retval=00000078 ret=004bdc54
...
0027:trace:seh:raise_exception code=80000003 flags=0 addr=0x4b691d ip=004b691e tid=0027
0027:trace:seh:raise_exception  eax=00000000 ebx=ffffffff ecx=338ba91e edx=004fee04 esi=0043ed68 edi=00443dd4
0027:trace:seh:raise_exception  ebp=0032f0f8 esp=0032f0f4 cs=0073 ds=007b es=007b fs=0033 gs=003b flags=00000202
0027:trace:seh:call_vectored_handlers calling handler at 0x68ca76fe code=80000003 flags=0
0027:trace:seh:call_vectored_handlers handler at 0x68ca76fe returned 0
0027:trace:seh:call_stack_handlers calling handler at 0x452d10 code=80000003 flags=0
0027:Call KERNEL32.GetLastError() ret=00452823
0027:Ret  KERNEL32.GetLastError() retval=00000000 ret=00452823
0027:Call KERNEL32.UnhandledExceptionFilter(0032ebec) ret=00451cec
wine: Unhandled exception 0x80000003 at address 0x4b691d (thread 0027) starting debugger...
--- snip ---

--- snip dlls/advapi32/eventlog.c ---
ULONG WINAPI RegisterTraceGuidsW( WMIDPREQUEST RequestAddress
                PVOID RequestContext LPCGUID ControlGuid ULONG GuidCount
                PTRACE_GUID_REGISTRATION TraceGuidReg LPCWSTR MofImagePath
                LPCWSTR MofResourceName PTRACEHANDLE RegistrationHandle )
{
    FIXME((%p %p %s %u %p %s %s %p)\n RequestAddress RequestContext
          debugstr_guid(ControlGuid) GuidCount TraceGuidReg debugstr_w(MofImagePath)
          debugstr_w(MofResourceName) RegistrationHandle)
    return ERROR_CALL_NOT_IMPLEMENTED
}
--- snip dlls/advapi32/eventlog.c ---

Regards",12,"0"
"WINE-28810","d3dx9_36/tests/mesh.ok: D3DXLoadMeshTest fails under valgrind","Under Valgrind make mesh.ok fails with
mesh.c:2333: Test failed: Vertex[7]: Expected diffuse b3ffffff got b2ffffff
mesh.c:2333: Test failed: Vertex[11]: Expected diffuse b3ffffff got b2ffffff
mesh.c:2333: Test failed: Vertex[18]: Expected diffuse b3ffffff got b2ffffff
mesh.c:2406: Test failed: Vertex[7]: Expected diffuse b3ffffff got b2ffffff
mesh.c:2406: Test failed: Vertex[11]: Expected diffuse b3ffffff got b2ffffff
mesh.c:2406: Test failed: Vertex[18]: Expected diffuse b3ffffff got b2ffffff

This is on my i5 laptop nvidia GeForce GTS 360M NVIDIA 280.13.
The test passes without valgrind.",2594,"1"
"WINE-37127","PVS-Studio Error: Unreliable tests","PVS-Studio identifies Unreliable tests. Some of the modules' folders contain the test folder with source files for tests. Debug information is printed through the 'ok' macro. Here are a few suspicious fragments:

V501 There are identical sub-expressions to the left and to the right of the '==' operator: ddsd3.lpSurface == ddsd3.lpSurface dsurface.c 272

...
ok(ddsd3.lpSurface == ddsd3.lpSurface    //<==
  lpSurface from GetSurfaceDesc(%p) differs\
    from the one returned by Lock(%p)\n
  ddsd3.lpSurface ddsd2.lpSurface)      //<==
...

It very much looks like a typo. I suspect this code should compare the same variables that are printed.

V502 Perhaps the '?:' operator works in a different way than it was expected. The '?:' operator has a lower priority than the '==' operator. url.c 767

...
ok(size == no_callback ? 512 : 13 size=%d\n size)
...

The precedence of the == operator is higher than that of '?:' so the size variable is not compared to the values 512 and 13. The expression is always true as it evaluates either to 512 or 13 which means this check doesn't check anything.

Other similar fragments:

    V502 Perhaps the '?:' operator works in a different way than it was expected. The '?:' operator has a lower priority than the '==' operator. string.c 1086
    V502 Perhaps the '?:' operator works in a different way than it was expected. The '?:' operator has a lower priority than the '==' operator. string.c 1111
    V502 Perhaps the '?:' operator works in a different way than it was expected. The '?:' operator has a lower priority than the '==' operator. reader.c 761
    V502 Perhaps the '?:' operator works in a different way than it was expected. The '?:' operator has a lower priority than the '==' operator. protocol.c 2928
    V502 Perhaps the '?:' operator works in a different way than it was expected. The '?:' operator has a lower priority than the '==' operator. dde.c 1594
    V502 Perhaps the '?:' operator works in a different way than it was expected. The '?:' operator has a lower priority than the '==' operator. reader.c 761


details on the V501 error here: http://www.viva64.com/en/d/0090/
details on the V502 error here: http://www.viva64.com/en/d/0091/",72,"0"
"WINE-7345","utorrent: missing tab icons","Icons are missing on the tabs (General Peers etc.) at the bottom. Fine with
native comctl32.",2,"0"
"WINE-4243","some ground / wall textures missing in wow -opengl version","i compiled wine 0.9.5 from cvs yesterday before i applied the 2 wow related
patches from the gentoo wiki it seemed to work fine but i noticed that on
several locations missing textures.
e.g in the safe in ironforge there should be sort of lattice 
also on the ground of the ring in ironforge there should be something similar.

i dont know if it comes from latest patch 1.9 from blizzard or from wine release ...",584,"0"
"WINE-5946","text rendering using vsfilter doesn't properly display (affects Flash Pro 8)","Using virtualdubmod and avisynth everything is working properly except when
trying to render text on the video.  It seems that under wine it can't tell that
each letter is a seperate character.  It stacks everything ontop of each other.
 It does however work if each character is seperated by a text formatting
command in the sub file. I'm using virtualdub 1.5.10.2 build 2540.  Vsfilter
version 2.37. and avisynth 2.5.6a.",2108,"1"
"WINE-39198","Etherlords 2 demo installer receives an exception after start","Created attachment 52254
terminal output

The installer starts and gets past the initial file extraction stage then I'm getting an error message titled 'Unhandled Exception'. The contents of the error message:
'Error number: 0x80040707
Description: Dll function call crashed:
ISRT._SetTitle
Setup will now terminate.'

Afterwards the installer quits.

According to my testing this was introduced by

commit e5edbc6fa00192a8048a3b81c70075537eaa2c97
Author: Jacek Caban 
Date:   Fri Aug 28 14:58:55 2015 +0200

    ole32: Use proper IUnknown implementation when finding and creating stub manager.

The commit can't be reverted cleanly on current git but the installer works properly with the previous commit 60451f9855791a6ee4d10ca569153df51249711b.

wine-1.7.50-194-g99ecebe
Fedora 22 32-bit",1,"0"
"WINE-4590","Dungeon Keeper II Demo (and full versions 1.0 1.7) do not run","When run under wine the game creates a window with a solid black image for less
than one second and suddenly exits without any messages from wine.

See debugging output in the attachments.",467,"0"
"WINE-44626","AvP Classic 2000 (Steam) launcher crashes when attempting to start the game","Created attachment 60615
terminal output

Aliens versus Predator 2000 Classic launcher initializes correctly but crashes when I click on the red or green button to start the game.
No demo version available on Steam.

The result of the regression test:

There are only 'skip'ped commits left to test.
The first bad commit could be any of:
8600c2a57394b4d71e465e192b3621154b07c5ce   -> Wine build fails
e150f96a3e2134d99e17417adae8982c4398d9ff    -> Wine build fails
49abeb63cb88ea2efa6ad599047745bd8794f03c    -> the launcher crashes

Prior to 8600c2a57394b4d71e465e192b3621154b07c5ce the game starts properly.

Tested and reproduced with wine-3.2-206-g9ae8b8c00f.",9,"0"
"WINE-32853","Microsoft Expression Design 4 (Free Version) installer fails while trying to check for msi.dll file version (MsiGetFileVersion)","Hello folks

Microsoft Expression Design 4 (Free Version) installer still fails.

Prerequisite: 'winetricks -q dotnet40'

Suffers from bug 32471 hence:

WINEDLLOVERRIDES=d3d9=d wine ./Design_Trial_en.exe

Managed backtrace:

--- snip ---
(29.44): CLR exception - code e0434352 (first chance)
OS Thread Id: 0x44 (5)
Child SP IP       Call Site
093bd8f0 7b83aa73 [HelperMethodFrame: 093bd8f0] 
093bd940 08c719e0 Microsoft.WindowsInstaller.Installer.FileVersion(System.String)
093bd958 08c718c4 Microsoft.WindowsInstaller.Installer.get_Version()
093bd968 08c71454 XSetupAct.ConfigMSI.CheckSupportedMsiVersion()
093bd9dc 08c71129 XSetupAct.ConfigMSI.OnTaskWorkerDoWork(System.Object System.ComponentModel.DoWorkEventArgs)
093bda10 0439721a System.ComponentModel.BackgroundWorker.OnDoWork(System.ComponentModel.DoWorkEventArgs)
093bda24 04397121 System.ComponentModel.BackgroundWorker.WorkerThreadStart(System.Object)
093bdc3c 791421db [HelperMethodFrame_PROTECTOBJ: 093bdc3c] System.Runtime.Remoting.Messaging.StackBuilderSink._PrivateProcessMessage(IntPtr System.Object[] System.Object Int32 Boolean System.Object[] ByRef)
093bdf90 04396032 System.Runtime.Remoting.Messaging.StackBuilderSink.AsyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage System.Runtime.Remoting.Messaging.IMessageSink)
093bdff4 04395ea5 System.Runtime.Remoting.Proxies.AgileAsyncWorkerItem.DoAsyncCall()
093be000 04395e59 System.Runtime.Remoting.Proxies.AgileAsyncWorkerItem.ThreadPoolCallBack(System.Object)
093be008 04395c9d System.Threading.QueueUserWorkItemCallback.WaitCallback_Context(System.Object)
093be010 04395aa9 System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
093be034 0439588b System.Threading.QueueUserWorkItemCallback.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem()
093be048 04394ea6 System.Threading.ThreadPoolWorkQueue.Dispatch()
093be094 04394c3c System.Threading._ThreadPoolWaitCallback.PerformWaitCallback()
093be454 791421db [DebuggerU2MCatchHandlerFrame: 093be454] 
--- snip ---

Relay trace log:

--- snip ---
...
002e:Call msi.MsiGetFileVersionW(013f03f8 LC:\\windows\\system32\\Msi.dll0458da500458db44000000000458db40) ret=08fd03f2
002e:trace:msi:MsiGetFileVersionW LC:\\windows\\system32\\Msi.dll 0x458da50 0 (nil) 0
002e:Call version.GetFileVersionInfoSizeW(013f03f8 LC:\\windows\\system32\\Msi.dll00000000) ret=7ce994ca 
...
002e:Ret  version.GetFileVersionInfoSizeW() retval=000006ac ret=7ce994ca
002e:Call ntdll.RtlAllocateHeap(0011000000000000000006ac) ret=7ce904de
002e:Ret  ntdll.RtlAllocateHeap() retval=072efeb8 ret=7ce904de
002e:Call version.GetFileVersionInfoW(013f03f8 LC:\\windows\\system32\\Msi.dll00000000000006ac072efeb8) ret=7ce99541
...
002e:Ret  version.GetFileVersionInfoW() retval=00000001 ret=7ce99541
002e:Call version.VerQueryValueW(072efeb87cef66fe L\\0458d9040458d908) ret=7ce99592
002e:Ret  version.VerQueryValueW() retval=00000001 ret=7ce99592
002e:Call version.VerQueryValueW(072efeb87cef57c0 L\\VarFileInfo\\Translation0458d9000458d908) ret=7ce9968a
002e:Ret  version.VerQueryValueW() retval=00000001 ret=7ce9968a
002e:Call ntdll.RtlFreeHeap(0011000000000000072efeb8) ret=7ce90514
002e:Ret  ntdll.RtlFreeHeap() retval=00000001 ret=7ce90514
002e:Ret  msi.MsiGetFileVersionW() retval=000000ea ret=08fd03f2
...
--- snip ---

MsiGetFileVersionW() is called a second time now with pcchVersionBuf properly set (++pcchVersionBuf of first call):

--- snip ---
...
002e:Call msi.MsiGetFileVersionW(013f03f8 LC:\\windows\\system32\\Msi.dll0458da580458db44000000000458db40) ret=08fd03f2
002e:trace:msi:MsiGetFileVersionW LC:\\windows\\system32\\Msi.dll 0x458da58 15 (nil) 4
002e:Call version.GetFileVersionInfoSizeW(013f03f8 LC:\\windows\\system32\\Msi.dll00000000) ret=7ce994ca 
...
002e:Ret  version.GetFileVersionInfoSizeW() retval=000006ac ret=7ce994ca
002e:Call ntdll.RtlAllocateHeap(0011000000000000000006ac) ret=7ce904de
002e:Ret  ntdll.RtlAllocateHeap() retval=072efeb8 ret=7ce904de
002e:Call version.GetFileVersionInfoW(013f03f8 LC:\\windows\\system32\\Msi.dll00000000000006ac072efeb8) ret=7ce99541 
...
002e:Ret  version.GetFileVersionInfoW() retval=00000001 ret=7ce99541
002e:Call version.VerQueryValueW(072efeb87cef66fe L\\0458d9140458d918) ret=7ce99592
002e:Ret  version.VerQueryValueW() retval=00000001 ret=7ce99592
002e:Call version.VerQueryValueW(072efeb87cef57c0 L\\VarFileInfo\\Translation0458d9100458d918) ret=7ce9968a
002e:Ret  version.VerQueryValueW() retval=00000001 ret=7ce9968a
002e:Call ntdll.RtlFreeHeap(0011000000000000072efeb8) ret=7ce90514
002e:Ret  ntdll.RtlFreeHeap() retval=00000001 ret=7ce90514
002e:Ret  msi.MsiGetFileVersionW() retval=000000ea ret=08fd03f2 
...
002e:Call KERNEL32.FormatMessageA(0000120000000000000000ea00000000072ef6880000040000000000) ret=08fd0b83
002e:Ret  KERNEL32.FormatMessageA() retval=00000016 ret=08fd0b83
...
002e:Call KERNEL32.MultiByteToWideChar(0000000000000001072ef688 More data available.\r\nffffffff013f0db000000017) ret=793eddaa
...
002e:Call msi.MsiGetLastErrorRecord() ret=08fd0cac
002e:fixme:msi:MsiGetLastErrorRecord 
002e:Ret  msi.MsiGetLastErrorRecord() retval=00000000 ret=08fd0cac
002e:Call KERNEL32.RaiseException(e043435200000001000000050458da44) ret=791cac08
002e:trace:seh:raise_exception code=e0434352 flags=1 addr=0x7b83aa73 ip=7b83aa73 tid=002e
002e:trace:seh:raise_exception  info[0]=80131501
002e:trace:seh:raise_exception  info[1]=00000000
002e:trace:seh:raise_exception  info[2]=00000000
002e:trace:seh:raise_exception  info[3]=00000000
002e:trace:seh:raise_exception  info[4]=79140000
002e:trace:seh:raise_exception  eax=7b826849 ebx=7b8b96b0 ecx=79140000 edx=0458d928 esi=0458da00 edi=0458d980
002e:trace:seh:raise_exception  ebp=0458d958 esp=0458d8f4 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000283 
...
--- snip ---

Pseudo code of app:

--- snip ---
int cchVersionBuf = 0
int cchLangBuf = 0
int ret = MsiGetFileVersion( path szVersionBuf 
if( ret == 0xea) {
    reserve( szVersionBuf ++cchVersionBuf)
    ret = MsiGetFileVersion( path szVersionBuf 
}
--- snip ---

MSDN: http://msdn.microsoft.com/en-us/library/windows/desktop/aa370122%28v=vs.85%29.aspx

--- quote ---
...
The MsiGetFileVersion returns the version string and language string in the format that the installer expects to find them in the database. If you want only version information set lpLangBuf and pcchLangBuf to 0 (zero).
...
lpVersionBuf [out]

    Returns the file version.

    Set to 0 for language information only.
pcchVersionBuf [in out]

    In and out buffer count as the number of TCHAR.

    Set to 0 (zero) for language information only. On input this is the full size of the buffer including a space for a terminating null character. If the buffer passed in is too small the count returned does not include the terminating null character.
lpLangBuf [out]

    Returns the file language.

    Set to 0 (zero) for version information only.
pcchLangBuf [in out]

    In and out buffer count as the number of TCHAR.

    Set to 0 (zero) for version information only. On input this is the full size of the buffer including a space for a terminating null character. If the buffer passed in is too small the count returned does not include the terminating null character.
--- quote ---

Source: http://source.winehq.org/git/wine.git/blob/5891ce25e5b45e69611c2848b87f9bf7a9c416bf:/dlls/msi/msi.c#l3155

---snip ---
3155 static UINT get_file_version( const WCHAR *path WCHAR *verbuf DWORD *verlen
3156                               WCHAR *langbuf DWORD *langlen )
3157 {
...
3180     if (verlen)
3181     {
3182         if (VerQueryValueW( version szVersionResource (LPVOID *)&ffi &len ) && len > 0)
3183         {
3184             sprintfW( tmp szVersionFormat
3185                       HIWORD(ffi->dwFileVersionMS) LOWORD(ffi->dwFileVersionMS)
3186                       HIWORD(ffi->dwFileVersionLS) LOWORD(ffi->dwFileVersionLS) )
3187             if (verbuf) lstrcpynW( verbuf tmp *verlen )
3188             len = strlenW( tmp )
3189             if (len >= *verlen) ret = ERROR_MORE_DATA
3190             *verlen = len
3191         }
3192         else
3193         {
3194             if (verbuf) *verbuf = 0
3195             *verlen = 0
3196         }
3197     }
3198     if (langlen)
3199     {
3200         if (VerQueryValueW( version szLangResource (LPVOID *)&lang &len ) && len > 0)
3201         {
3202             sprintfW( tmp szLangFormat *lang )
3203             if (langbuf) lstrcpynW( langbuf tmp *langlen )
3204             len = strlenW( tmp )
3205             if (len >= *langlen) ret = ERROR_MORE_DATA
3206             *langlen = len
3207         }
3208         else
3209         {
3210             if (langbuf) *langbuf = 0
3211             *langlen = 0
3212         }
3213     }
3214     msi_free( version )
3215     return ret
3216 }
---snip ---

It seems the app wants only version information but additionally passes langlen by reference (.NET code).
Both verlen and langlen ref values get set by MsiGetFileVersion() during first call.
verlen is properly increased by app (NULL terminator) but langlen ref value is ignored by app -> passed again unmodified at second call.
Wine returns ERROR_MORE_DATA because it thinks the app also wants language information passing insufficient langlen leading to app failure.

Regards",1,"0"
"WINE-8107","Civilization 4 Warlords fails to start due to XML issues","This is different from the original Civilization 4 issue in that using the
msxml3 override doesn't fix it just changes the behavior. In either case you
get a messsage:

Caught unhandled exception creating XML parser object. Current XML file is:

The only difference being is that WITH the override it says that and then
closes. WITHOUT the override it says that (with an xml file after it) twice then
pagefaults.",1316,"1"
"WINE-26013","Brigade E5 crashes at startup","Created attachment 33178
Console log of crash with +tid +d3dxof and +d3dxof_parsing

When launching Brigade E5 the intro movies play and then the game crashes when it would normally be turning on the main menu. I've sorted through a +all trace and the only warn preceding the crash process was:

warn:d3dxof:IDirectXFileEnumObjectImpl_GetNextDataObject Object is not correct

Review the d3dxof trace shows that the parser had been reading the input file into templates until the one immediately before the warn. There were some heap allocation activity when the first line in what should have been the new template should have been detected but I'm not sure if that is expected.

The demo available at http://games.softpedia.com/progDownload/Brigade-E5-New-Jagged-Union-Demo-Download-8874.html has the same problem.

I've attached a console log of the crash with traces of d3dxof and d3dxof_parsing on.",68,"0"
"WINE-31213","Amnesia - The Dark Descent: launcher.exe crashes on start","Created attachment 40989
terminal output

The launcher for Amnesia: The Dark Descent fails to start in Wine 1.5.8 it crashes in opengl32.

This is a regression from Wine 1.5.8:

0045ec9dfb29a36e7b00357c90f3b57f642506e1 is the first bad commit
commit 0045ec9dfb29a36e7b00357c90f3b57f642506e1
Author: Alexandre Julliard 
Date:   Fri Jun 29 12:29:55 2012 +0200

    opengl32: Use proper handles for GL contexts and pass a context pointer to the WGL driver functions.

:040000 040000 daf708bd78c0154f0a25f5b31d7208797229d4b0 0499c46534559dd9e015adb2c9831324b011cced M	dlls
:040000 040000 699b46a2a6e28c5f1465717fbb8dead2f24f5cd1 c28ecfa9c7275e33f01dde9ad6c4aea592d053bb M	include

Fedora 17 x86
Nvidia 250 / driver 295.59
X.Org X Server 1.12.2",2,"0"
"WINE-30485","MeGUI 2112 crashes after first update / restart (application XML settings can't be fully deserialized due to oleaut32 VarDecRound being a semi-stub)","Created attachment 39866
Wine MeGUI console log (first run)

ARCH-Linux x86_64 (fully updated). Clean win32 prefix.


MeGUI (OpenSource GUI wrapper for various video encoding utilities) download latest build at:
http://sourceforge.net/projects/megui/files/latest/download?source=files


Install:
winetricks dotnet11
winetricks dotnet20
winetricks gdiplus
(all successfully install)

I've also tried installing avisynth 2.5.8 and K-Lite-Mega-Codec-Pack-7.8
(does step makes little difference to the MeGUI program crash).

MeGUI will run. Update itself. Updates are stored in a local /update_cache folder as zip'd/7z'd archives. Gets to a stage of asking for a system restart. Whether you say yes or no (and manually shutdown MeGUI with the Exit menu option) the program eventually crashes. The Wineserver shuts down. Starting MeGUI again results in an immediate crash.

This a deal breaker for the software. The download MeGUI zip archive needs to be updated to extract the tools in the /update_cache folder. Otherwise there will not be any encoders available to use. Earlier installable executable version of MeGUI exhibits an identical crash when updated...


Bob",517,"0"
"WINE-20875","EasyWorship 2009 crashes before UI loads","Created attachment 25022
Console output from program run

Program loads splash screen. Brings up Error: Exception EExternalException in module KERNEL32.dll at 000A3458. External Exception C0000025

Closes without getting to main program screen.",0,"0"
"WINE-32218","LTSpice: Objects not resized when the window is resized","Steps to reproduce:
1) Download install and run LTSpice - http://ltspice.linear.com/software/LTspiceIV.exe
2) Create a new schematic (File -> New Schematic)
3) Press L click somewhere (this will create a component in the screen)
4) Press ESC to go back to the select tool hold CTRL and right-click the component to open a properties window.
5) Resize the window.

The internal window listview will not get resized to match the new window size.

This is not a duplicate of bug 3037 and may or may not be a duplicate of bug 7007 it will take a while to check.",2243,"1"
"WINE-2979","copyprotection: GameMaker not working","I'm attempting to install game maker which is a program that....does the
obvious. There is no other way to install it other than the exes.

I installed the attached 6.1 beta installer and it freezes at the end of the
attached log.",144,"0"
"WINE-1885","Wine does not trim trailing spaces from LoadLibrary calls","Because of a bug in one of my Windows programs I was issuing

h=LoadLibrary(frq                  )

This loaded frq.dll on Win2K which is what I wanted.

However on a fake-windows install of Wine-20030813 the call fails.  I see from
the module trace's that wine tries to load 
frq                  .dll 
which does not exist.  I could work around this by copying frq.dll to 
frq                  .dll.

This does bring up the question of which dll would get loaded in Win2K if I had
both frq.dll and frq                  .dll  It turns out that frq.dll still
gets loaded (if one is to believe the Output window in VS).  If no frq.dll
exists but only frq                  .dll exists then the LoadLibrary call
fails(!). My conclusion for Win2K is that trailing spaces should always be
trimmed for LoadLibrary if no extension is present in module name.  If the
extension is present then Win2K will load the module with spaces in the filename.",673,"0"
"WINE-28223","kernel32:debugger fails on Windows 7","The kernel32:debugger test times out on my Windows 7 VM because Windows 7  brings up a dialog telling me that (a child of) kernel32_crosstest.exe crashed and  asking whether to stop it or search for a fix online. Each of them causes a delay in the execution and together they translate into a timeout when run by WineTest.
  
These are caused the SetErrorMode(0) call in doCrash().
If I change it to SetErrorMode(SEM_NOGPFAULTERRORBOX) then I no longer get the dialog and the test does not time out. Instead it has a bunch of failures :-(",961,"1"
"WINE-23678","Crystal Cubes: fonts not drawn correctly","Created attachment 29641
screenshot showing the wrong fonts

Crystal Cubes is a freeware tetris clone in 3D. During gameplay text in the upper row ('Score Rows Level') is not displayed correctly. As if they were only partially drawn.
The text displayed correctly in Wine-1.0 and got messed up since 1.1.0.

Result of regression testing:

8a6628aea59f6f7ba0eb85d6a72297bbb72e7b85 is the first bad commit
commit 8a6628aea59f6f7ba0eb85d6a72297bbb72e7b85
Author: Dmitry Timoshkov 
Date:   Tue Jun 24 16:11:21 2008 +0900

    gdi32: Font scaling transform is performed separately.

:040000 040000 7cc89af320d454940bad8e8f73712eccf92a3919 7e4c02c7f5cb4715c20194183dafaacd61654202 M	dlls

The patch can only be reverted cleanly on 1.1.2 and that fixed the issue. 
Also after 'git checkout 8a6628aea59f6f7ba0eb85d6a72297bbb72e7b85' the fonts are messed.

and 'git revert 8a6628aea59f6f7ba0eb85d6a72297bbb72e7b85' brings back the original state.

Author of the patch added to CC.
Note: the game needs native msxml3 and d3dx9_36.dll to start properly.

Fedora 13
Wine-1.2
Nvidia 7600 series card / driver 195.36.31",12,"0"
"WINE-42841","Tree of Savior: Missing function concrt140.dll.?_GetNumberOfVirtualProcessors@_CurrentScheduler@details@Concurrency@@SAIXZ","Tree of Savior used to work fine until an update some weeks ago now the game crashes when making the following call:

lua\IESInit.lua(4)wine: Call from 0x7b437c48 to unimplemented function concrt140.dll.?_GetNumberOfVirtualProcessors@_CurrentScheduler@details@Concurrency@@SAIXZ aborting",1,"0"
"WINE-25235","Wrong italian translation in add/remove programs","IDS_CPL_TITLE Agiungi/Rimuovi Programmi
should be instead
Aggiungi/Rimuovi Programmi",3,"0"
"WINE-27656","Deus Ex: Human Revolution - Severe graphical glitches","Created attachment 35366
Output when running in terminal

Menu & cutscenes work fine upon loading the 3d level there are graphical anomalies. When moving camera the world disappears except for a few nearby objects. Attached are the terminal output and a screenshot displaying glitch.",2189,"1"
"WINE-28824","shell32/tests/recyclebin.ok: uninitialised value used in TRASH_GetDetails","In make recyclebin.ok valgrind complains:

 Conditional jump or move depends on uninitialised value(s)
    at __mktime_internal (mktime.c:428)
    by mktime (mktime.c:518)
    by TRASH_GetDetails (trash.c:444)
    by TRASH_EnumItems (trash.c:523)
    by SHQueryRecycleBinW (recyclebin.c:859)
    by SHQueryRecycleBinA (recyclebin.c:848)
    by test_query_recyclebin (recyclebin.c:74)
    by func_recyclebin (recyclebin.c:106)
    by run_test (test.h:556)
    by main (test.h:624)
  Uninitialised value was created by a stack allocation
    at TRASH_GetDetails (trash.c:367)",973,"1"
"WINE-29381","Sonic Generations: configuration tool turns into a zombie process when closed","Created attachment 38028
Sonic Generations Configuration tool console output

After choosing what hardware you have in the configuration tool for Sonic Generations you click save and quit the window closes but the process is still in process monitor and is a zombie process",1349,"1"
"WINE-27682","Avant Browser needs HTMLDocument_elementFromPoint","Move mouse over or click something and you get
fixme:mshtml:HTMLDocument_elementFromPoint
and nothing.

http://www.avantbrowser.com/",108,"0"
"WINE-22726","CodeGear RAD Studio 2007/2009 installation errors: column 3/4 out of range missing column in table LProperty","+++ This bug was initially created as a clone of Bug #13042 +++

The installer of CodeGear RAD Studio 2007 and 2009 fails as reported in #13042. That bug contains a patch which fixes this problem and allows the installation to continue. However later on it still fails:

err:msidb:get_tablecolumns column 3 out of range
err:msidb:get_tablecolumns column 4 out of range
err:msidb:get_tablecolumns missing column in table LProperty

I have reported this as a new bug because at first sight this looks completely unrelated but if that was wrong this can be closed as a duplicate.

The steps I have taken to see this problem:
- Start with a clean config
- Set mode to Windows 2000
- Install MDAC 2.8 SP1
- Set mode back to Windows XP
- Make the RAD Studio (2007 or 2009) installation disc available as D:\
- Run D:\Install\Setup.exe
- Click Retry once during the automatic .NET Framework installation
- Choose your selection same problem with everything except for the first option (CodeGear RAD Studio) deselected as with everything selected
- Proceed with the installation

It finishes unpacking and I find the unpacked files as for example

  .wine/drive_c/users/Public/Application Data/{B278BA8C-C407-4742-B58E-CE34D8C8A15B}/corey/B1A48A5A/39948DF1/bds.exe

and those files look correct or at least the text files that I could check do.

However then it hangs. The installer says Windows Installer on the console I see error messages (look up) and the only action I can take is to click Cancel which also doesn't actually work.

I am using Wine 1.1.44 as reported by wine --version. I do not know what more information you need but I will be happy to answer any questions.",1157,"1"
"WINE-14354","Wineasio in no longer available in the Audio selection of MyOrgan","Wineasio is no longer available in the Audio selection of MyOrgan (a virtual pipe organ program).

I'm using Puppy Linux 4.00. When using WINE 0.9.61 with Wineasio 0.7.3 the Wineasio option is available in the audio dropdown. After upgrading my WINE version to 1.1.0 this option is no longer available (only the dmix interface is). Re-registering Wineasio made no difference.

I tried this on a completely new install of Puppy/Wine with the same result. I am using the Slackware build of WINE 1.1.0. I then tried WINE 1.0 RC4 with the same result.

This may be a Wineasio bug but as it all works so nicely in 0.9.61 I'm unsure where to start...",185,"0"
"WINE-9376","Trendyflash Site Builder displays blank window","Recently in
http://www.linuxforums.org/forum/linux-applications/101239-flash-site-wizard.html
a user mentioned he'd like trendy flash site builder to run in wine.

The app downloads and installs fine (though it has a nasty
EULA that lets them come on your premises to inspect usage).
However its main window is simply blank.
It looks like it's trying to use jscript but 
installing wsh56 doesn't get rid of the symptom.",269,"0"
"WINE-20485","Uninitialised memory reference in FTP_DoPassive","(Found via
http://kegel.com/wine/valgrind/logs/2009-10-26-08.26/diff-mshtml_htmllocation.txt )

http://kegel.com/wine/valgrind/logs/2009-10-26-08.26/vg-mshtml_htmllocation.txt
shows

 Conditional jump or move depends on uninitialised value(s)
    at  FTP_DoPassive (ftp.c:3028)
  Uninitialised value was created by a client request
    at  mark_block_uninitialized (heap.c:187)
    by  RtlAllocateHeap (heap.c:1429)
    by  INTERNET_AllocThreadError (internet.c:3050)
    by  INTERNET_GetResponseBuffer (internet.c:3174)
    by  FTP_DoPassive (ftp.c:3019)

I suspect it's the unconditional skip of four bytes...
maybe that skips over the terminating null sometimes.

   3027    p = lpszResponseBuffer+4 /* skip status code */
   3028    while (*p != '\0' 

The code is not new but the error is so maybe this only happens
if there's a network error.",1680,"1"
"WINE-19222","menus jump and scramble input for MS SQL Server Management Studio Express","Created attachment 22223
wine ssmsee.exe >& ssmsee_out.log

In Microsoft SQL Server Management Express right-clicking on many of the icons in the Object Explorer pane produces a menu.  This works correctly.  However right-clicking again (or releasing the right-click) to select an entry in the pop-up menu causes another menu to open based on the mouse location of the selection coordinates.

The input passed to the original pop-up menu does not correlate to anything I see.  It is definitely not what I selected.

Workaround:  I can select the correct entry by using the arrow keys and Alt-Key combinations instead of the mouse once the menu has been opened.

Incidentally when almost any WINE app is launched I see an Exception raised error dialog box which reads:

Unhandled page fault on write access to 0x00000016 at address 0x7ef93536. Do you wish to debug it? Yes|No

Choosing No dismisses the dialog and no adverse results seem to occur.  Hopefully it is unrelated...",1108,"1"
"WINE-34677","e-carte bleue la banque postale doesn't work at all","I install the e-carte bleue (by la banque postale) app on my PC but a window say that there is a serious problem and have to be closed",7,"0"
"WINE-17084",".NET 1.0: imagehlp.ImageGetDigestStream needs more flesh (assembly registration fails)","Hello

a bit of nostalgia ... I happen to test .NET 1.0 Framework and promptly found a bug in post install step.

--- snip ---
...
Microsoft (R) .NET Framework Assembly Registration Utility 1.0.3705.0
Copyright (C) Microsoft Corporation 1998-2001.  All rights reserved.

err:ole:CoGetClassObject class {00000349-0000-0000-c000-000000000046} not registered
err:ole:CoGetClassObject class {00000349-0000-0000-c000-000000000046} not registered
err:ole:create_server class {00000349-0000-0000-c000-000000000046} not registered
fixme:ole:CoGetClassObject CLSCTX_REMOTE_SERVER not supported
err:ole:CoGetClassObject no class object {00000349-0000-0000-c000-000000000046} could be created for context 0x17
fixme:imagehlp:ImageGetDigestStream (0x148 4 0x79310a0c 0x33f704): stub
RegAsm error: Index was outside the bounds of the array.
fixme:ole:CoGetContextToken stub
err:msi:ITERATE_Actions Execution halted action LInstallFinalize returned 1603
err:msi:ITERATE_Actions Execution halted action LExecuteAction returned 1603
--- snip ---

Trace log:

--- snip ---
0009:Call KERNEL32.CreateFileW(00153d48 LC:\\windows\\Microsoft.NET\\Framework\\v1.0.3705\\RegAsm.exe800000000000000100000000000000030000000000000000) ret=791b81ab
0009:Ret  KERNEL32.CreateFileW() retval=00000150 ret=791b81ab
0009:Call KERNEL32.GetModuleHandleW(7923122c Lmscorwks.dll) ret=7923115e
0009:Ret  KERNEL32.GetModuleHandleW() retval=791b0000 ret=7923115e
0009:Call KERNEL32.GetModuleFileNameW(791b00000032f4bc00000104) ret=792311a3
0009:Ret  KERNEL32.GetModuleFileNameW() retval=00000039 ret=792311a3
0009:CALL MSVCR70.wcsrchr() ret=792311b6
0009:RET  MSVCR70.wcsrchr() retval=0032f514 ret=792311b6
0009:CALL MSVCR70.wcscpy() ret=792311ce
0009:RET  MSVCR70.wcscpy() retval=0032f516 ret=792311ce
0009:Call KERNEL32.LoadLibraryExW(0032f4bc LC:\\windows\\Microsoft.NET\\Framework\\v1.0.3705\\imagehlp.dll0000000000000000) ret=791bde71
0009:Call PE DLL (proc=0x60df3458module=0x60de0000 Limagehlp.dllreason=PROCESS_ATTACHres=(nil))
0009:Call KERNEL32.DisableThreadLibraryCalls(60de0000) ret=60df1cdb
0009:Ret  KERNEL32.DisableThreadLibraryCalls() retval=00000001 ret=60df1cdb
0009:Call KERNEL32.HeapCreate(000000000001000000000000) ret=60df1cfa
0009:Ret  KERNEL32.HeapCreate() retval=02d50000 ret=60df1cfa
0009:Ret  PE DLL (proc=0x60df3458module=0x60de0000 Limagehlp.dllreason=PROCESS_ATTACHres=(nil)) retval=1
0009:Ret  KERNEL32.LoadLibraryExW() retval=60de0000 ret=791bde71
0009:Call KERNEL32.GetProcAddress(60de000079310bdc ImageGetDigestStream) ret=79310b16
0009:Ret  KERNEL32.GetProcAddress() retval=60df10d8 ret=79310b16
0009:Call imagehlp.ImageGetDigestStream(000001500000000479310a0c0032f704) ret=79310b2e
0009:fixme:imagehlp:ImageGetDigestStream (0x150 4 0x79310a0c 0x32f704): stub
0009:Call KERNEL32.SetLastError(00000078) ret=60df28d1
0009:Ret  KERNEL32.SetLastError() retval=00000078 ret=60df28d1
0009:Ret  imagehlp.ImageGetDigestStream() retval=00000000 ret=79310b2e
0009:Call KERNEL32.CloseHandle(00000150) ret=79310bc4
0009:Ret  KERNEL32.CloseHandle() retval=00000001 ret=79310bc4
0009:Call KERNEL32.FreeLibrary(60de0000) ret=79310bd2
0009:Call PE DLL (proc=0x60df3458module=0x60de0000 Limagehlp.dllreason=PROCESS_DETACHres=(nil))
0009:Call KERNEL32.HeapDestroy(02d50000) ret=60df1d19
0009:Ret  KERNEL32.HeapDestroy() retval=00000001 ret=60df1d19
0009:Ret  PE DLL (proc=0x60df3458module=0x60de0000 Limagehlp.dllreason=PROCESS_DETACHres=(nil)) retval=1
0009:Ret  KERNEL32.FreeLibrary() retval=00000001 ret=79310bd2
...
0009:Call KERNEL32.RaiseException(e0434f4d000000010000000000000000) ret=7921e860
0009:trace:seh:raise_exception code=e0434f4d flags=1 addr=0x7b844f7c ip=0x7b844fff tid=0009
0009:trace:seh:raise_exception  eax=7b82cca9 ebx=7b8c3940 ecx=00000000 edx=00000010 esi=0032f430 edi=0032f3b0
0009:trace:seh:raise_exception  ebp=0032f398 esp=0032f334 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000246
0009:trace:seh:call_stack_handlers calling handler at 0x7921e874 code=e0434f4d flags=1
--- snip ---

With ImageGetDigestStream() sufficiently implemented assembly registration succeeds and installer completes (tested).

Be aware there is some sporadic heap corruption happening not yet tracked down (also in .NET 1.1 installer) which might sometimes fail the installer -> run installer again.

Regards",554,"0"
"WINE-33693","Spin Tires tech demo needs msvcr90.dll.wctomb_s","Created attachment 44611
terminal output

The demo crashes on startup with the built-in msvcr90:

wine: Call from 0x7b83acd2 to unimplemented function msvcr90.dll.wctomb_s aborting

Mscodescan output:
./SpinTires.exe imports following stub symbols:
  msvcr90:wctomb_s",57,"0"
"WINE-33827","The Testament of Sherlock Holmes inverted shadows and sharpness","Created attachment 44843
log

Issues on a clean wineprefix.",76,"0"
"WINE-41911","Multiple Microsoft applications need kernel32.FindNLSStringEx (Studio One 3 Microsoft Office 2016 PowerShell 6)","Studio One 3 fails to launch because of this error:

wine: Call from 0x7bc6159c to unimplemented function KERNEL32.dll.FindNLSStringEx aborting",467,"0"
"WINE-22941","New behaviour of wineconsole (Alt+F4 emulation by [x] button pressing) causes problems with FAR manager","In 1.2-rc2 under KDE 3.5.9 (Mandriva 2008.1) an incorrect behaviour of FAR Manager 1.70 is found. This problem is new even 1.2-rc1 has it not. FAR manager is a win32 console norton-like file manager wich can be used under wine using wineconsole. Like other two-panel file managers FAR supports own hot keys which not always are the same as the standard hot keys in MSWindows. E.g. Alt+F4 is for FAR not a command for closing but for editing a file. In native MSWindows there are exist two ways to terminate FAR: 1) F10 key causes internal terminating of application with a prompt dialog auto-saving of preferences etc. 2) Clicking on the Close button [x] on the top of the border of console window causes terminating of FAR immediately (that can be useful to preserve default settings etc). Before the last WINE release-candidate the behaviour of WINECONSOLE was the same as of the native MSWindow console and I could quickly terminate FAR using KDE-made [x] button. Now clicking [x] (Standard Close Button on the right-top of KDE window containing WINECONSOLE) causes an emulation of a pressing of Alt+F4. At result the FAR manager does not terminate but opens a current file for edit. That is a wrong behaviour wich can cause different problems for console applications with non-standard hot keys (Maybe introducing a possibility to customize the handling of the standard WINECONSOLE buttons could be also a good solution).",18,"0"
"WINE-6556","allTunes - embedded browser is not inside application","Embedded browser should stay on it's own tab - news. But it appears at the top
left corner of the screen as unmanaged window. See screen-shot.",13,"0"
"WINE-28910","cnet download app never gets past loading screen","Terminal shows:
fixme:msxml:ClassFactory_QueryInterface interface {342d1ea0-ae25-11d1-89c5-006008c3fbfc} not implemented

winetricks -q msxml3 works around it.

You'll need native ie6 (not ie7!) to get this far see bug 28601.",4,"0"
"WINE-33011","Metatrader4 crashes trying to open message","Created attachment 43622
backtrace

After installing application simply launch terminal.exe and try to open any existing message from a tab at the bottom. Wine will crash in mshtml with attached backtrace.",1,"0"
"WINE-38533","opengl32/tests/opengl.c hangs under valgrind (i965/mesa)","Not much info in the default output.

err:dib:dibdrv_wine_get_wgl_driver OSMesa not compiled in no OpenGL bitmap support
opengl.c:616: Tests skipped: Unable to find a suitable pixel format
opengl.c:616: Tests skipped: Unable to find a suitable pixel format
==3234== Syscall param writev(vector[...]) points to uninitialised byte(s)
==3234==    at 0x4F7A0F4B: ??? (in /usr/lib/libc-2.21.so)
==3234==    by 0x5CEBA28: ??? (in /usr/lib/libxcb.so.1.1.0)
==3234==    by 0x5CEBF07: ??? (in /usr/lib/libxcb.so.1.1.0)
==3234==    by 0x5CEBFAB: xcb_writev (in /usr/lib/libxcb.so.1.1.0)
==3234==    by 0x5BDB113: _XSend (in /usr/lib/libX11.so.6.3.0)
==3234==    by 0x5BDB4B4: _XFlush (in /usr/lib/libX11.so.6.3.0)
==3234==    by 0x5BB99BB: XFlush (in /usr/lib/libX11.so.6.3.0)
==3234==    by 0x5B0A8BD: create_whole_window (window.c:1477)
==3234==    by 0x5B0B657: X11DRV_create_win_data (window.c:1803)
==3234==    by 0x5B0C34C: X11DRV_WindowPosChanging (window.c:2153)
==3234==    by 0x513D8E0: set_window_pos (winpos.c:2062)
==3234==    by 0x5132F9C: WIN_CreateWindowEx (win.c:1578)
==3234==    by 0x51335ED: CreateWindowExA (win.c:1716)
==3234==    by 0x4AD9A7F: test_setpixelformat (opengl.c:306)
==3234==    by 0x4ADEDEC: func_opengl (opengl.c:1706)
==3234==    by 0x4ADFD4A: run_test (test.h:584)
==3234==    by 0x4AE0191: main (test.h:666)
==3234==  Address 0x571b61d is 189 bytes inside a block of size 16384 alloc'd
==3234==    at 0x4008D0E: calloc (vg_replace_malloc.c:626)
==3234==    by 0x5BC93B4: XOpenDisplay (in /usr/lib/libX11.so.6.3.0)
==3234==    by 0x5B12EFF: x11drv_init_thread_data (x11drv_main.c:658)
==3234==    by 0x5B06DB7: thread_init_display (x11drv.h:347)
==3234==    by 0x5B0B5BA: X11DRV_create_win_data (window.c:1794)
==3234==    by 0x5B0C34C: X11DRV_WindowPosChanging (window.c:2153)
==3234==    by 0x513D8E0: set_window_pos (winpos.c:2062)
==3234==    by 0x5132F9C: WIN_CreateWindowEx (win.c:1578)
==3234==    by 0x51335ED: CreateWindowExA (win.c:1716)
==3234==    by 0x4ADE9FB: func_opengl (opengl.c:1637)
==3234==    by 0x4ADFD4A: run_test (test.h:584)
==3234==    by 0x4AE0191: main (test.h:666)
==3234==  Uninitialised value was created by a stack allocation
==3234==    at 0x5B08792: set_mwm_hints (window.c:702)
==3234== 

mesa is 10.5.1-1.20150314.fc22",177,"0"
"WINE-13327","StarryNight Pro: Window is painted black","Starry Night Pro Plus 6 paints the screen black when started.

This is an amateur astronomy planetarium program that uses the QuickTime libraries to render the night sky.

I am aware that QuickTime has issues about painting the screen black. The solution to the QuickTime problem is quite well known: Set the Video rendering to Safe Mode (GDI only).

The above hack solves the problem of QuickTime painting the screen black but does not solve the problem of Starry Night painting the screen black.",107,"0"
"WINE-29628","Sylenth1: crashes at startup","Created attachment 38384
Wine crash log

When trying to load the Sylenth1 VSTi in any kind of host Wine crashes with a stack dump and backtrace.

You can download Sylenth1 from:

http://www.lennardigital.com/modules/downloads
(5MB no sign up required.)

This happens in all hosts I tried native Linux ones (LMMS QTractor) as well as Windows ones running in Wine (FL Studio Reaper.)

The easiest and fastest way to reproduce the error is:

  * Install LMMS (should be available in all distros)
  * Install Sylenth1 with Wine
  * Run LMMS
  * Insert the VeSTige instrument into the song editor.
    You do that by clicking on the Instruments icon in the
    vertical bar to the left and drag&dropping the VeSTige
    item into the song editor.
  * In the VeSTige GUI (click the newly added VeSTige instrument
    to bring up the GUI) click the folder icon select the
    Sylenth1Demo.dll and click OK.

At the moment the DLL runs Wine crashes.

I'm using Wine 1.3.37 on Gentoo Linux AMD64.",2258,"1"
"WINE-20883","Faults on Portuguese translation of the Winecfg.exe program","I would like to inform the following faults on Portuguese translation of Applications section of the Winecfg.exe program: 1) the text Verso do Windows appears incomplete 2) Adiconar aplicao... instead of Adicionar aplicao....

Thank you",3,"0"
"WINE-17408","ASPI crashes randomly","Created attachment 19482
Backtrace of two crashes

ASPI (online version) crashes randomly usually when network connection is bad.

Reproducibility: crash occurs on cca. 15% of all runs 

Backtrace is attached. I'm willing to do more testing if needed.",193,"0"
"WINE-3694","Sibelius crashes after opening any file","Both versions of Sibelius I have install and open fine but they both crash
after opening any file.  The demo of Sibelius 4 is freely downloadable at
http://sibelius.com/download/  and it comes with some example files found in
c:\Program Files\Sibelius Software\Sibelius Demo\Example Scores.  It looks
like it's crashing after user32.GetSubMenu() returns NULL.",438,"0"
"WINE-22659","1by1 player: file/song list text overlaps and becomes unreadable if enlarged","Just a minor glitch...

If you are running 1by1 Player via Wine (see download link) and go into the settings e.g. press  click the List tab and then move the slider labelled Font and size towards the right too much in order to make the font larger the track listing becomes unreadable.  What's supposed to happen is the font becomes larger to make it easier to read (this does not happen if you run 1by1 player in Windows).

Try it and see.",257,"0"
"WINE-5786","Crash while using MSRDO in a Visual Basic 5 Application","I have many applications made in visual basic 5 that use msrdo to connecto to
MSSQL 6.5. All of them crash when the program tries to use the rdo even after
send any package over the net.
I've got a little example propgram taht only use this feature to test it. You
can download it in:
https://newproxi1.moron.gov.ar/ext/PruebaRdoSetup.zip",850,"1"
"WINE-14986","Rome Total War v1.5 Gold crashs if buttons that highlight on mouse hover","Created attachment 15596
Regression Testing from Wine-0.9.59 to Wine-0.9.60 with RomeTotalWarv1.5Gold

kurppis wrote (Comment #6 from http://bugs.winehq.org/show_bug.cgi?id=13501 ) :
>Confirmed this one too. During battle buttons that highlight on mouse hover
>cause the game to crash with a page fault. Also pressing F1 to bring key help
>crashes the game (also in campaign map). The error looks like this:
>wine: Unhandled page fault on read access to 0x0372e87d at address 0xc4deed
>(thread 0009) starting debugger...
>Unhandled exception: page fault on read access to 0x0372e87d in 32-bit code
>(0x00c4deed).

I made a regression testing from good release Wine-0.9.59 to bad release Wine-0.9.60. I added the result as an attachment.

If I made it correct there is a problem with preloader: Reserve low memory areas in separate chunks.",29,"0"
"WINE-24610","Touhou games: no text in dialogue boxes","Somewhere between 1.1.31 and 1.1.42 bug 22341 seems to have reappeared.

Exact same symptoms - no text in dialogue boxes. Verified with Touhou 6 to 8 on Ubuntu Lucid wine 1.1.42 1.2 and 1.3.4.",418,"0"
"WINE-28914","Crimzon Clover 1.01 shows only black screen","Created attachment 37164
WINE messages shown

When you start Crimzon Clover you are presented with an options dialog to select screen resolution etc.  No matter which options are selected you get a black screen (or a black window if you selected a windowed display mode).

This issue affects only the retail version of Crimzon Clover (the free version 0.20 works great in WINE).

The messages that WINE displays (see attachment) are very similar to the ones in bug 26917.  As both Endless Alice Crysis and Crimzon Clover are doujin games I wonder if this issue is related to programming methods or libraries unique to Japan.",111,"0"
"WINE-28520","Surface flips ignore vsync flags in ddraw (Claw Diablo II Imperium Galactica II Incoming Panzer General II Unreal)","There has been a behavior change in the game Diablo II caused by

http://source.winehq.org/git/wine.git/?a=commith=1aeee59bd8b6172c848c8029e1a55ddac1f93c44
Author: Henri Verbeet 
Date:   Thu Sep 15 20:01:50 2011 +0200
    ddraw: Use offscreen backbuffers.

Before this patch the frame rate in the game menu (press Esc while in game) was limited to <=60. Now the frame rate can reach hundreds. Behavior on Windows: frame rate is limited at 60.

The reason I am reporting this: Shortly after opening the game menu there often is a short but very noticeable phase where everything behaves sluggishly making it very hard to select the desired entry with the mouse.

The sluggishness/slowdown itself may not be a Wine bug since is not a problem when I switch NVIDIA PowerMizer from its default Adaptive to Prefer Maximum Performance. That however is not an acceptable permanent solution on a laptop. Sync to VBlank settings do not change the behavior.

So far I have only been able to observe the slowdown when running the game in Direct3D mode although the frame rate is now also unlimited when running in DirectDraw mode. All observations have been made with Diablo II Lord of Destruction 1.13c.",2376,"1"
"WINE-42209","Native Instruments Native Access 1.0.25 (R37) crashes on unimplemented function concrt140.dll.??1_ReentrantBlockingLock@details@Concurrency@@QAE@XZ","Created attachment 56847
Error message content

I have Visual C++ 2015 redistributables installed. WhenI try to run the program I get the error message.",55,"0"
"WINE-8299","Enabling Hardware Vertex Shaders crashes Guildwars on intel","Enabling Use Hardware Vertex Shaders causes the game to crash instead of
showing the log in screen but the splash screen does display okay.  This is an
intel graphics card.",245,"0"
"WINE-41998","Regression in wined3d crashes visual novel A drug that makes you dream","Created attachment 56422
Crashlog

Commit in question:
4a9304305ae2940288e9382926a6931dd46982d5
Author: Henri Verbeet 
Date:   Tue Mar 29 16:45:33 2016 +0200

    wined3d: Simplify checking if the released resource is in use as a rendertarget in device_resource_released().
    
    Signed-off-by: Henri Verbeet 
    Signed-off-by: Alexandre Julliard 


Patch doesn't revert cleanly so I couldn't test reversing the commit.

The last lines before the crash seem interesting.
Wine seems to still use the device later crashes in device_resource_released at device->fb.render_targets[i] because render_targets is NULL. Also device->ref is 44003456 what can't be.",20,"0"
"WINE-16239","Cake Poker installer requires native msxml3","Created attachment 17499
Cake Poker installer msxml traces

With today's Git (wine-1.1.9-139-g8cdbeac) when starting the installer during the install phase a dialog box appears with the message:

Failed to copy 'C:\windows\temp\42238\.exe' to 'C:\Program Files\\.exe error: File not found (2)

Using the suggestion from the AppDB entry for the application to install native msxml3 the installation succeeds. msxml traces are attached.",696,"0"
"WINE-4724","fixme:x11drv:X11DRV_SelectPen extended pen not supported","Running DeltaCAD in Wine 0.9.8 (Fedora Core 4 RPM installation) I get popup
errors whenever I try to select a different line type. Output of winedbg is:

=====
0x006385fc: movl        %edi0x0(%esp)
Wine-dbg>cont
fixme:gdi:ExtCreatePen PS_USERSTYLE not handled
fixme:x11drv:X11DRV_SelectPen extended pen 0x3ba4 not supported
fixme:gdi:ExtCreatePen PS_USERSTYLE not handled
fixme:x11drv:X11DRV_SelectPen extended pen 0x4864 not supported
fixme:gdi:ExtCreatePen PS_USERSTYLE not handled
fixme:x11drv:X11DRV_SelectPen extended pen 0x50a4 not supported
fixme:gdi:ExtCreatePen PS_USERSTYLE not handled
fixme:x11drv:X11DRV_SelectPen extended pen 0x58e4 not supported
fixme:gdi:ExtCreatePen PS_USERSTYLE not handled
fixme:x11drv:X11DRV_SelectPen extended pen 0x612c not supported
fixme:gdi:ExtCreatePen PS_USERSTYLE not handled
fixme:x11drv:X11DRV_SelectPen extended pen 0x8080 not supported
fixme:gdi:ExtCreatePen PS_USERSTYLE not handled
fixme:x11drv:X11DRV_SelectPen extended pen 0x8908 not supported
fixme:gdi:ExtCreatePen PS_USERSTYLE not handled
fixme:x11drv:X11DRV_SelectPen extended pen 0x9148 not supported
fixme:gdi:ExtCreatePen PS_USERSTYLE not handled
fixme:x11drv:X11DRV_SelectPen extended pen 0x9988 not supported
fixme:gdi:ExtCreatePen PS_USERSTYLE not handled
fixme:x11drv:X11DRV_SelectPen extended pen 0xa1d0 not supported
Process of pid=0x0000000a has terminated
=====

Software did not have problems in Wine 0.9.7 and prior. Have not tried
reinstalling DeltaCAD.",5,"0"
"WINE-26365","Geneforge 1 - text gets cut away","Text gets cut-away on the right side of dialogue screen (letters often get cut in half) and character statistics screen. No errors are displayed.",1983,"1"
"WINE-8115","MyScribe loads but doesn't go past the login screen (Centos 4.4)","MyScribe can be installed (even if with some problems) but after the
installation almost no operation is possible.

I can see the login window. The menus have the text scambled. If I type in the
login window the text is scrambled and doesn't log me in anyway.",378,"0"
"WINE-27514","Winole does not work with Wine","A 32 bits Windows .exe that requires Winole does not work in Wine.",9,"0"
"WINE-5818","Wined3d crash in Gods:  Lands of Infinity demo","Demo of Gods: crashes when loading menu. I attached the console output

Joaopa",432,"0"
"WINE-1757","Ran Caseware 2001 under Wine and crashed Linux","Wine Debug Report
=================
I attempted to run Caseware 2001 under Wine
 
 // (wine-20030911-1rh9winehq.i686.rpm)
 // Red Hat 9
 // KDE 3.1.10
 // Kernel 2.4 20-8
 // Hardware
 // ========
 // Gigabyte 6INXP mothereboard
 // Pentium IV 2.53 Ghz
 // 256 Meg of RAM
 // Dual Boot using GRUB
  
This caused Linux crash requiring a hardware reset to restart. This was
reproduced several times.
 
The execution point was the directory holding the data file to be opened by
Caseware:
 /mnt/win98d/caseware_data_files/
The file being: 1069-02-BRIT.ac.
 
The program name is cwin32.exe
I then ran the program from bash using the following two commands:
 
# echo quit | wine -debugmsg +relay /mnt/win98c/program
files/caseware/cwin32.exe >& cware.out
# tail -n 100 cware.out > cware_report.txt

The resultant file cware_report.txt holds the last 100 lines see below signoff.

Alan Secker
alan@asandco.co.uk

0009:Ret  ntdll._LeaveSysLevel() retval=00000000 ret=408ffc82
0009:Call ntdll.GlobalGetAtomNameW(0000c051409658b00000003c) ret=408d3009
0009:Ret  ntdll.GlobalGetAtomNameW() retval=0000000e ret=408d3009
0009:Call ntdll._EnterSysLevel(40963a40) ret=408ffc52
0009:Ret  ntdll._EnterSysLevel() retval=400e2a40 ret=408ffc52
0009:Call ntdll._LeaveSysLevel(40963a40) ret=408ffc82
0009:Ret  ntdll._LeaveSysLevel() retval=00000000 ret=408ffc82
0009:Ret  window proc 0x101b4bf2
(hwnd=0x2003cmsg=WM_STYLECHANGEDwp=ffffffeclp=40860748) retval=00000000
0009:Call ntdll.GlobalLock16(0000018f) ret=408f675c
0009:Ret  ntdll.GlobalLock16() retval=4057b770 ret=408f675c
0009:Ret  user32.SetWindowLongA() retval=00000000 ret=40f048fc
0009:Ret  shell32.DragAcceptFiles() retval=00000000 ret=5f40bdc3
0009:Call user32.SetActiveWindow(0002003c) ret=1010d9be
0009:Call ntdll._EnterSysLevel(40963a40) ret=408ffc52
0009:Ret  ntdll._EnterSysLevel() retval=400e2a40 ret=408ffc52
0009:Call ntdll._LeaveSysLevel(40963a40) ret=408ffc82
0009:Ret  ntdll._LeaveSysLevel() retval=00000000 ret=408ffc82
0009:Ret  user32.SetActiveWindow() retval=00010024 ret=1010d9be
0009:Call ntdll.TlsGetValue(00000001) ret=5f401018
0009:Ret  ntdll.TlsGetValue() retval=4057bff0 ret=5f401018
0009:Call ntdll.TlsGetValue(00000001) ret=5f401018
0009:Ret  ntdll.TlsGetValue() retval=4057bff0 ret=5f401018
0009:Call user32.GetParent(00010024) ret=5f401281
0009:Call ntdll._EnterSysLevel(40963a40) ret=408ffc52
0009:Ret  ntdll._EnterSysLevel() retval=400e2a40 ret=408ffc52
0009:Call ntdll._LeaveSysLevel(40963a40) ret=408ffc82
0009:Ret  ntdll._LeaveSysLevel() retval=00000000 ret=408ffc82
0009:Ret  user32.GetParent() retval=00000000 ret=5f401281
0009:Call ntdll.TlsGetValue(00000001) ret=5f401018
0009:Ret  ntdll.TlsGetValue() retval=4057bff0 ret=5f401018
0009:Call user32.CallWindowProcA(409553d00002003c000000010000000040861150)
ret=5f401f01
0009:Call ntdll.IsBadReadPtr16(409553d00000000e) ret=4090b694
0009:Ret  ntdll.IsBadReadPtr16() retval=00000001 ret=4090b694
0009:Call ntdll._EnterSysLevel(40963a40) ret=408ffc52
0009:Ret  ntdll._EnterSysLevel() retval=400e2a40 ret=408ffc52
0009:Call ntdll._LeaveSysLevel(40963a40) ret=408ffc82
0009:Ret  ntdll._LeaveSysLevel() retval=00000000 ret=408ffc82
0009:Call ntdll._EnterSysLevel(40963a40) ret=408ffc52
0009:Ret  ntdll._EnterSysLevel() retval=400e2a40 ret=408ffc52
0009:Call ntdll._LeaveSysLevel(40963a40) ret=408ffc82
0009:Ret  ntdll._LeaveSysLevel() retval=00000000 ret=408ffc82
0009:Call ntdll.GlobalGetAtomNameW(0000c051409658b00000003c) ret=408d3009
0009:Ret  ntdll.GlobalGetAtomNameW() retval=0000000e ret=408d3009
0009:Call ntdll._EnterSysLevel(40963a40) ret=408ffc52
0009:Ret  ntdll._EnterSysLevel() retval=400e2a40 ret=408ffc52
0009:Call ntdll._LeaveSysLevel(40963a40) ret=408ffc82
0009:Ret  ntdll._LeaveSysLevel() retval=00000000 ret=408ffc82
0009:Call window proc 0x409553d0
(hwnd=0x2003cmsg=WM_CREATEwp=00000000lp=40861150)
0009:Call ntdll._ConfirmSysLevel(40963a40) ret=408ffce5
0009:Ret  ntdll._ConfirmSysLevel() retval=00000000 ret=408ffce5
0009:Call user32.DefWindowProcA(0002003c000000010000000040861150) ret=4090b20f
0009:Call ntdll._EnterSysLevel(40963a40) ret=408ffc52
0009:Ret  ntdll._EnterSysLevel() retval=400e2a40 ret=408ffc52
0009:Call ntdll._LeaveSysLevel(40963a40) ret=408ffc82
0009:Ret  ntdll._LeaveSysLevel() retval=00000000 ret=408ffc82
0009:Ret  user32.DefWindowProcA() retval=00000000 ret=4090b20f
0009:Call ntdll._EnterSysLevel(40963a40) ret=408ffc52
0009:Ret  ntdll._EnterSysLevel() retval=400e2a40 ret=408ffc52
0009:Call ntdll._LeaveSysLevel(40963a40) ret=408ffc82
0009:Ret  ntdll._LeaveSysLevel() retval=00000000 ret=408ffc82
0009:Call ntdll._EnterSysLevel(40963a40) ret=408ffc52
0009:Ret  ntdll._EnterSysLevel() retval=400e2a40 ret=408ffc52
0009:Call ntdll._LeaveSysLevel(40963a40) ret=408ffc82
0009:Ret  ntdll._LeaveSysLevel() retval=00000000 ret=408ffc82
0009:Call ntdll.GlobalGetAtomNameW(0000c051409658b00000003c) ret=408d3009
0009:Ret  ntdll.GlobalGetAtomNameW() retval=0000000e ret=408d3009
0009:Call ntdll._EnterSysLevel(40963a40) ret=408ffc52
0009:Ret  ntdll._EnterSysLevel() retval=400e2a40 ret=408ffc52
0009:Call ntdll._LeaveSysLevel(40963a40) ret=408ffc82
0009:Ret  ntdll._LeaveSysLevel() retval=00000000 ret=408ffc82
0009:Ret  window proc 0x409553d0
(hwnd=0x2003cmsg=WM_CREATEwp=00000000lp=40861150) retval=00000000
0009:Ret  user32.CallWindowProcA() retval=00000000 ret=5f401f01
0009:Call ntdll.RtlAllocateHeap(41190000000000000d466980) ret=78001089
0009:Ret  ntdll.RtlAllocateHeap() retval=4aa60020 ret=78001089
000a:Ret  ntdll.SetEvent() retval=00000001 ret=5f40dfc7
000a:Call ntdll.WaitForSingleObject(00000234ffffffff) ret=5f40dfd0
000a:Ret  ntdll.WaitForSingleObject() retval=00000000 ret=5f40dfd0
000a:Call ntdll.CloseHandle(00000234) ret=5f40dfd7
000a:Ret  ntdll.CloseHandle() retval=00000001 ret=5f40dfd7
000a:Call ntdll.Sleep(000000c8) ret=10109376
000a:Ret  ntdll.Sleep() retval=00000000 ret=10109376
000a:Call ntdll.Sleep(000000c8) ret=10109376
000a:Ret  ntdll.Sleep() retval=00000000 ret=10109376
000a:Call ntdll.Sleep(000000c8) ret=10109376
000a:Ret  ntdll.Sleep() retval=00000000 ret=10109376
000a:Call ntdll.Sleep(000000c8) ret=10109376
000a:Ret  ntdll.Sleep() retval=00000000 ret=10109376
000a:Call ntdll.Sleep(000000c8) ret=10109376
000a:Ret  ntdll.Sleep() retval=00000000 ret=10109376
000a:Call ntdll.Sleep(000000c8) ret=10109376
000a:Ret  ntdll.Sleep() retval=00000000 ret=10109376
000a:Call ntdll.Sleep(000000c8) ret=10109376
000a:Ret  ntdll.Sleep() retval=00000000 ret=10109376
000a:Call ntdll.Sleep(000000c8) ret=10109376
000a:Ret  ntdll.Sleep() retval=00000000 ret=10109376
000a:Call ntdll.Sleep(000000c8) ret=10109376
000a:Ret  ntdll.Sleep() retval=00000000 ret=10109376
000a:Call ntdll.Sleep(000000c8) ret=10109376
000a:Ret  ntdll.Sleep() retval=00000000 ret=10109376
000a:Call ntdll.Sleep(000000c8) ret=10109376",739,"0"
"WINE-4840","Buttons should act on mouseup but nothing happens until mouse moves","with wine from cvs on 2006 march 10
putty has a funny problem that is not apparant
on first few uses.  It feels as if you
forgot to click the 'open' button.
When you click again it works.  But
really all you have to do is move the
mouse slightly and the open button fires
its action and opens the session window.
So some event handling is messed up somewhere.",12,"0"
"WINE-275","CD - Linux doesn't allow raw access ?????","wtf is this 

> err:cdrom:CDROM_GetLabel We don't have a way of determining the
> label of a mixed mode CD - Linux doesn't allow raw access !!

Linux allows raw access to any IDE drives either through the /dev/hd* nodes or
if necessary suid-root permissions.",319,"0"
"WINE-14680","Avencast: Rise of the Mage blocks after loading first level","Created attachment 15142
Avencast crashing on libgl.so.1

Applying patch (and no-cd fix) 1.03 solves the video loading problem (see the other Avencast bug on bugzilla) and everything works smoothly up to 93% of the loading of the first level. At that point it hangs and error log shows a problem in libgl.so.1
I own an Nvidia 8600m GT and run 173.14.09 drivers.",385,"0"
"WINE-15573","Photoshop CS2: Main Window opens on first desktop regardless of active desktop","Switch to second desktop.

Press my gnome launcher that runs this command:

/home/USERNAME/.wine/drive_c/Program Files/Adobe/Adobe Photoshop CS2/Photoshop.exe

The Photoshop splash screen and tool palletes open in my second desktop.

The main photoshop window opens on the first desktop.


Ubuntu 8.04 with Compiz active in gnome.",2,"0"
"WINE-34279","Project I.G.I: crashes when starting game","Created attachment 45638
crash log

The installation runs pretty much ok besides crashing when opening the folder containing the crated links for the game.
Now when I try to run the game it does not start at all.
See the attached logs for further information.

I already tried fiddling around with the windows version in winecfg and installing a directx runtime.
Btw the installation of the provided dx7 runtime fails with the same error.

Thanks for any advise.",356,"0"
"WINE-28374","Libre Office 3.4.3 installer wants msvcp90.dll.??$?HDU?$char_traits@D@std@@V?$allocator@D@1@@std@@YA?AV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@0@DABV10@@Z","Winetricks vcrun2008 works around it.",65,"0"
"WINEHQ_APPS_DATABASE-4680","cannot enter registry clips or slashes don't get entered properly","when copying/pasting from a registry document the slashes appear in the wysiwyg
text interface but not in the posted comment",532,"0"
"WINE-18364","utorrent with an https tracker url stops working","Created attachment 20926
utorrent dump files with .19 and .20 wine

uTorrent 1.8.x crashes after time running when at least one torrent with an https url tracker is on it. The program tray icon stays and if you double click on it the window program is shown but it doesn't paint anything. Also the bittorrent connections stops to work.",150,"0"
"WINE-44430","Windows 10 DISM pkgmgr.exe fails to run needs api-ms-win-security-lsalookup-l2-1-0.dll","Hello folks

as it says.

Steps to reproduce

--- snip ---
# clean WINEPREFIX

$ winetricks -q dotnet452 corefonts
$ winetricks -q win10

$ wine adksetup.exe /features OptionId.DeploymentTools

$ pwd
/home/focht/.wine/drive_c/Program Files/Windows Kits/10/Assessment and Deployment Kit/Deployment Tools/x86/DISM

$ wine ./pkgmgr.exe 
...
0009:err:module:import_dll Library api-ms-win-security-lsalookup-l2-1-0.dll (which is needed by LC:\\Program Files\\Windows Kits\\10\\Assessment and Deployment Kit\\Deployment Tools\\x86\\DISM\\pkgmgr.exe) not found
...
0009:err:module:attach_dlls Importing dlls for LC:\\Program Files\\Windows Kits\\10\\Assessment and Deployment Kit\\Deployment Tools\\x86\\DISM\\pkgmgr.exe failed status c0000135
--- snip ---

MSDN: https://docs.microsoft.com/en-us/uwp/win32-and-com/win32-apis
Section: APIs from api-ms-win-security-lsalookup-l2-1-1.dll

$ sha1sum adksetup.exe 
92892e71b083fc46c907b657c300ffc32608d223  adksetup.exe

$ du -sh adksetup.exe 
1.7M	adksetup.exe

$ wine --version
wine-3.0-180-g85635db0ea

Regards",6,"0"
"WINE-12134","The Settlers Heritage of Kings: Occlusion setting regression","Created attachment 11529
Small section of the differences in output between GIT and 0.9.57 - using WINEDEBUG=trace+d3d_caps

In the game it is suppose to show units behind buildings as a solid colour when occlusion is enabled in the options but instead it shows the whole map (not including UI Health Bars etc) as that colour.

I did a regression test and found the following patch :
wined3d: Move depth/stencil verification to CheckDepthStencilCapability

I looked through the logs and found failed checks - see attached.

I am guessing it is the function : CheckDepthStencilCapability() : reporting incorrect information but I'm unsure.",0,"0"
"WINE-26091","Finale 2010 - lines that are supposed to be dashed are solid","To reproduce:
1. Start Finale 2010 and create a new document or open an existing one.
2. Click on the menu option Tool --> Smart Shape --> Dashed Line.
3. Draw the dashed line on your score.

There are a variety of methods to reproduce this this is only an example.  Both on windows & Mac this produces a dashed line but on-screen and when printing.  From Wine it produces a solid line in both of these circumstances (I've printed to both a real CUPs printer and the CUPS-PDF printer producing the same result each time).

While I haven't done a trace I'm guessing it has to do with the brush.  I hope this isn't a dupe I've searched some but couldn't find anything similar.  If it is a dupe and Finale isn't mentioned please be sure and add Finale to the affected apps (probably should be added to appdb as well).",250,"0"
"WINE-19367","EverQuest 2 crashes in third-person","Created attachment 22444
Terminal output after EQ2 finished loading.

If you leave first-person view the game immediately crashes. The game is playable in first-person. However many times the game starts in third-person and it crashes on login.",22,"0"
"WINE-13268","MsiExec Runtime Error during install","Created attachment 13113
Screenshot and console output

During the Express Install Option of KAV I get an error windows pops up with the title Microsoft Visual C++ Runtime Library that informs me that msiexec has experienced some error (erroneous loading of c runtime - see attachment).",88,"0"
"WINE-24342","MediaCoder 0.7.5.* video conversions don't work","On wine 1.3.2 MediaCoder 0.7.5.* Full when trying to convert videos the whole program stops responding onpreprocessing phase. Moreover there is no CPU usage at the time. 
Tried on MP4 and flv for various target formats.
Tried both on 0.7.5.4700 and latest update 0.7.5.4740.",9,"0"
"WINEHQ_BUGZILLA-1905","Missing Versions Of Wine In Bugzilla","Bugzilla is missing the following versions of Wine under the Version category
- 20031016
- 20031118
- 20031212",23,"0"
"WINE-2154","OrCad capture fails to load","I have had a few apps do this but after a few CVS updates only OrCad capture 
does this.  Using wine20040406 on Mandrake 9.2 and have tweaked the config 
trying to fix it.  I get this output: 
 
trace:loaddll:load_dll Loaded module LC:\\Windows\\System\\MSVCRT.dll : 
builtin 
trace:loaddll:load_dll Loaded module LC:\\Windows\\System\\advapi32.dll : 
builtin 
trace:loaddll:load_dll Loaded module LC:\\Windows\\System\\GDI32.dll : 
builtin 
trace:loaddll:load_dll Loaded module LC:\\Windows\\System\\USER32.dll : 
builtin 
trace:loaddll:load_dll Loaded module LC:\\orcadwin\\capture\\MFC42.DLL : 
native 
trace:loaddll:load_dll Loaded module LC:\\orcadwin\\capture\\OrSrcVw.dll : 
native 
trace:loaddll:load_dll Loaded module LC:\\Windows\\System\\ole32.dll : 
native 
trace:loaddll:load_dll Loaded module LC:\\Windows\\System\\SHLWAPI.dll : 
builtin 
trace:loaddll:load_dll Loaded module LC:\\Windows\\System\\COMCTL32.dll : 
native 
trace:loaddll:load_dll Loaded module LC:\\Windows\\System\\SHELL32.dll : 
native 
trace:loaddll:load_dll Loaded module LC:\\Windows\\System\\comdlg32.dll : 
native 
trace:loaddll:load_dll Loaded module LC:\\Windows\\System\\lz32.dll : 
builtin 
trace:loaddll:load_dll Loaded module LC:\\Windows\\System\\VERSION.dll : 
builtin 
trace:loaddll:load_dll Loaded module LC:\\Windows\\System\\rpcrt4.dll : 
builtin 
trace:loaddll:load_dll Loaded module LC:\\Windows\\System\\OLEAUT32.dll : 
builtin 
trace:loaddll:load_dll Loaded module LC:\\Windows\\System\\MSVCRT40.dll : 
builtin 
trace:loaddll:load_dll Loaded module LC:\\orcadwin\\capture\\Enable32.dll : 
native 
trace:loaddll:load_dll Loaded module LC:\\orcadwin\\capture\\WIDGE32.dll : 
native 
trace:loaddll:load_dll Loaded module LC:\\orcadwin\\capture\\db_dll.dll : 
native 
trace:loaddll:MODULE_LoadModule16 Loaded module krnl386.exe : builtin 
trace:loaddll:MODULE_LoadModule16 Loaded module system.drv : builtin 
trace:loaddll:MODULE_LoadModule16 Loaded module GDI.EXE : builtin 
trace:loaddll:MODULE_LoadModule16 Loaded module USER.EXE : builtin 
trace:loaddll:load_dll Loaded module Lx11drv.dll : builtin 
Loading required GL library /usr/X11R6/lib/libGL.so.1.2 
trace:loaddll:load_dll Loaded module LC:\\Windows\\System\\imm32.dll : 
builtin 
Could not load 'KEYBOARD.DLL' required by 'COMMCTRL' error=11 
err:thunk:_loadthunk (commctrl.dll Cctl1632_ThunkData16 comctl32.dll): 
Unable to load 'commctrl.dll' error 2 
err:module:LdrInitializeThunk Main exe initialization for 
LC:\\orcadwin\\capture\\capture.exe failed status c0000142",360,"0"
"WINE-34552","RTX Server needs unimplemented msvcp60.dll.??6?$basic_ostream@GU?$char_traits@G@std@@@std@@QAEAAV01@G@Z","Hello this is next bug of Bug 34550.

--- snip ---
wine: Call from 0x7b83b723 to unimplemented function msvcp60.dll.??6?$basic_ostream@GU?$char_traits@G@std@@@std@@QAEAAV01@G@Z aborting
--- snip ---

Thanks",5,"0"
"WINE-2361","Background music plays fast in The Typing of The Dead","When playing The Typing of The Dead music is normal for a short period of 
time (a few seconds) then speeds up to a high speed. The music itself is 
stored as .wav files I'm not sure how it is played. This happens every time I 
run TTOTD current CVS WINE (2004-07-15).",2685,"1"
"WINE-27136","Oblivion: Click and drang don't work","In the menu and in the game itself the cursor is present and can be moved around but neither clicks nor hoovering over a an item registers.

In the windowed mode I get e default X cursor blinking in the middle of hte screen in addition to clicks and hoovering not working.

This used to work fine in the previous versions of wine(can't tell exactly which since it's been a while but if it would be helpful I can check different versions to see when this behavior started).",13,"0"
"WINE-31683","Adobe Photoshop CS4 installer doesn't do anything","Created attachment 41652
Screenshot in wine-1.5.12-194-g688aa1f

Working around Bug 18070 the Adobe Photoshop CS4 installer gets so far and stops doing anything.

Moving the mouse around the window prints a lot of mshtml fixmes in the console which suggests that the app has not hung.

This never used to occur but a bisect may take some time.

winetricks ie6 works around this. Will update.",249,"0"
"WINE-12296","Some games are crashing when they switch the resolution","Created attachment 11743
crash log

f761b908013698ee4e015ea03f48ce5d170fb666 is first bad commit
commit f761b908013698ee4e015ea03f48ce5d170fb666
Author: Stefan Dsinger 
Date:   Sun Mar 23 16:14:05 2008 +0100

    wined3d: Free heapMemory not allocatedMemory when adjusting the surface.

:040000 040000 1ccd6cb6ba54bafb1dae966b2cd0d887aa06a074 1e875c90996f6239c2d300e67ceeb195b1698076 M      dlls

Tested with TestDrive Unlimited but I remembered it happend with some more.",9,"0"
"WINE-3500","Foobar2000 Preference dialog won't work like it should(comctl32 bug)","The left side configuration tree is messed up in foobar2000 Preference dialog.
Few first lines are hidden and can be accessed only by using keyboard arrow
keys. If the + button is cliked front of the branch in settings tree the whole
list act's weard.",411,"0"
"WINE-17435","AntiDupl: crashes when duplicated images founded","Created attachment 19516
Two console logs(with or without gdiplus.dll) with comments

if program tries to make a list of duplicated or broken images crash happens.
If gdiplus.dll not used no window appears.",530,"0"
"WINE-15212","ctSchedule.ocx: OleCreate returns E_INVALIDARG","A program trying register and load an ActiveX control ctSchedule.ocx from www.dbi-tech.com fails to do so. It's working fine in Win2000 and WinXP.

After some debugging I found out that OleCreate returns E_INVALIDARG. I've been trying to find the reason but it's a little out of my reach.

The ActiveX control seems to register okey. Regsvr32 prints the usual Successfully registered DLL CTSCHEDULE.OCX. I've checked the registry and compared to WinXP and everything seems normal.

From what I can see in the debug I think the ActiveX control is loading.

The attached file debug-simple.txt contains the relay debug channel from OleCreate is called until it returns.

The attached file debug-full.txt contains both the relay and heap debug channels.",770,"0"
"WINE-30691","excessive operator ' can probably lead to segfault","In function GetThemeSysFont() in dlls/uxtheme/metric.c there is this code (lines 120 - 123):

    if(iFontID == TMT_ICONTITLEFONT) {
        if(!SystemParametersInfoW(SPI_GETICONTITLELOGFONT sizeof(LOGFONTW) &plf 0))
             return HRESULT_FROM_WIN32(GetLastError())
    }

However the var. plf is already pointer to LOGFONT so wrong address is passed into SystemParametersInfoW(). The '&' should be removed.",7,"0"
"WINE-5143","Regression: Pacific Warriors installer fails (worked in wine0.9.12)","The installer halts with the attached output",53,"0"
"WINE-21067","OziExplorer new window has wrong colors","In OziExplorer you can open a small window which displays the entire field of the chart.  You can click at a point in this small window and the enlarged view of the map in the main window is displayed centered about that point.

The small window has what appears to be a corrupted color map.

Running Ubuntu 8.04  compiled wine wine-1.1.35 from source Oziexplorer 3.95.4s


Also auxillary windows opened at various places in OZI may appear in a different workspace than the one in which OZI is running and the ones that do open in the proper workspace are sometimes not on top but hidden under the main OZI window.",120,"0"
"WINE-14248","CTRL + Tab in Firefox 3 is intepreted as CTRL + B (dogfood)","Finally got through my 1609 page wikisurf so now I've made Windows Firefox my default browser. Disappointingly CTRL + Tab brings up the bookmark toolbar (same as CTRL + B). Interestingly CTRL + Shift + Tab does nothing instead of bringing up the bookmark library. Either way very annoying especially for tab whores such as myself.",331,"0"
"WINE-12097","Wine 1.0 should not ship out-of-sync resource translations","As seen on http://pf128.krakow.sdi.tpnet.pl/wine-transl/ we have a lot of out-of-sync resources.

Sometimes it's menus missing only a separator and some of them are probably false positives (e.g. Korean dialogs declares a font while English doesn't. But they probably need to to have Korean characters. However it would be good to have a confirmation). But often these are missing menu items or stringtable entries. This can lead to shell folders (like My Documents) not to be created or empty strings like in http://www.winehq.org/pipermail/wine-devel/attachments/20060816/1a027491/add_app-0001.png .

I think as Wine 1.0 should be a stable release we shouldn't ship such resources. We could try e.g. to add an options to wrc to copy missing strings from English stringtables while for other resources surround them by #ifdef INCLUDE_BROKEN_RESOURCES that wouldn't be set when compiling Wine but would be used be used by the statistic scripts to notify the translators about broken resources. Another solution would be to use something like the po/mo files.",86,"0"
"WINE-31877","Torchlight II does not works when winecfg is set to Vista/win7 (CSS=unicode)","Created attachment 41954
Torchlight 2 output console with Vista/win7

I know that the game works without problem in winecfg is set to XP but i want to try the game with Vista/Seven mode.

So the game does not works because there is a problem when the game wants to create the savegame file.

In the output console there is differents fixme for msvcrt after to launch the game.

I attach the output console + 2 screenshots.",87,"0"
"WINE-27955","Warspear Online sound stops after a while (Pulseaudio + patched alsa-plugins)","Created attachment 35770
log file with WINEDEBUG=+tid+mmdevapi+winmm+dsound+oss+alsa+coreaudio

After having sound for a while usually seconds the game Warspear Online stops playing sounds. Just playing a little with the buttons in the menu triggers the issue.
Of course this behavior differs from Windows XP where all the sounds play OK.

Using OpenSUSE 11.4 which comes with Pulseaudio 0.9.22 alsa 1.0.24 kernel 2.6.37 etc.
Using the soundcard from a NVIDIA GT240 which passes the sound through HDMI.

I don't remember having sound problems before (with other apps/games) with this setup. This is my first time trying this app on Wine.

I tried changing hardware/emulation in winecfg and changing sample rate from 48000 to 44100 with no effect (same symptoms).
There is only one sound device selected.

At first I though it was the alsa-plugins bug that it's mentioned in the wiki but I already applied this patch:
http://git.alsa-project.org/?p=alsa-plugins.gita=commith=e1661e3daa22cfed67c4b74099bcd97b433af24b


The game can be downloaded at: http://warspear-online.com/files/warspear.exe
(8MB file)

How to reproduce:
 Run the app click MENU Settings then click repeatedly the top right arrow or other random buttons for a while (try to vary a little e.g. click Cancel then Menu another time repeat).
Every button should make a short sound. After a while clicking buttons the app doesn't make sounds anymore.
 Alternatively play the game for a while. Every skill should make sounds plus there should be ambient noise.




My registry has the following keys:

[Software\\Wine\\Alsa Driver] 1304101305
AutoScanDevices=N
DeviceCount=1
DeviceCTL1=hw:0
DevicePCM1=pulse
UseDirectHW=N



My .asoundrc:


pcm.pulse {
    type pulse
}

ctl.pulse {
    type pulse
}
       
pcm.!default {
    type pulse
    # If defaults.namehint.showall is set to off in alsa.conf then this is
    # necessary to make this pcm show up in the list returned by
    # snd_device_name_hint or aplay -L
    hint.description Default Audio Device
}
ctl.!default {
    type pulse
}

pcm.wine {
    type asym
    playback.pcm hw:03
    capture.pcm hw:03
}

pcm.pulse_monitor {
  type pulse
  device alsa_output.hw_0_3.monitor
}

ctl.pulse_monitor {
  type pulse
  device alsa_output.hw_0_3.monitor
}

pcm.usbmic {
  type rate
  slave {
       pcm hw:10
       #rate 48000
  }
  converter samplerate_best
}",24,"0"
"WINE-29392","Multiple apps need msvcp90.dll.??0?$basic_ostringstream@GU?$char_traits@G@std@@V?$allocator@G@2@@std@@QAE@H@Z (Juggernaut MMORPG MS Office Communicator 2007 R2 Trial Cmake Elsterformular)","the program juggernautclient.exe has encountered a serious problem and needs to close.
Exception EExternalException in module ntdll.dll at 0001F977. External exception C0000025

this is what i see when i launch a program. if you need some more information i will be glad to give it to you.
thx in advice",293,"0"
"WINE-12582","solidworks crash at startup in mshtml","solidworks crashes a startup calling setup_nswindow in mshtml. It is a major regression as it used to work for a long time.

I tried to force gecko installation with winetricks gecko but it doesn't change anything (it is already installed during installation).",89,"0"
"WINE-12949","assassin's creed to slow to play","Created attachment 12690
wine console output while running the game

Running this game is to slow to play. I have decent graphics card and i can play this game on my win xp instalation wthouth issues.

But in wine everything works ok but when i enter the game its too slow to do anything ( around 0.5 - 1 fps) and i need couple of minutes to exit game because game slows down UI. When i'm in the main game menu speed is ok


i will attach errors that wine spits out.",1131,"1"
"WINE-40550","AfterEffects CS6 crashes at launch","Created attachment 54381
backtrace for crash at startup

wine 1.9.7 fresh 64-bit prefix Windows 7. 

winetricks msxml3 applied to work around bug #40548 .

After starting up the process crashes ( backtrace attached ) . Full terminal output is below.

fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92fb30 63 ) semi-stub
fixme:msvcp:locale__Locimp__Makexloc (0x92fb30 63 0xe76bbf0 (nil)) semi-stub
fixme:msvcp:locale__Locimp__Makewloc (0x92fb30 63 0xe76bbf0 (nil)) semi-stub
fixme:msvcp:locale__Locimp__Makeushloc (0x92fb30 63 0xe76bbf0 (nil)) semi-stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92faf0 63 ) semi-stub
fixme:msvcp:locale__Locimp__Makexloc (0x92faf0 63 0xe77e0d0 (nil)) semi-stub
fixme:msvcp:locale__Locimp__Makewloc (0x92faf0 63 0xe77e0d0 (nil)) semi-stub
fixme:msvcp:locale__Locimp__Makeushloc (0x92faf0 63 0xe77e0d0 (nil)) semi-stub
fixme:heap:RtlSetHeapInformation 0xebb0000 0 0x92fc60 4 stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92f4a0 1 C) semi-stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92eed0 1 C) semi-stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92f930 1 C) semi-stub
fixme:heap:RtlSetHeapInformation 0xfea0000 0 0x92fc10 4 stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92f588 1 C) semi-stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92f578 1 C) semi-stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92f398 1 C) semi-stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92f6b8 1 C) semi-stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92f3d0 1 C) semi-stub
fixme:msvcp:_Locinfo__Locinfo_ctor_cat_cstr (0x92ee50 1 C) semi-stub
fixme:wtsapi:WTSRegisterSessionNotification Stub 0x10056 0x00000001
fixme:ntdll:NtSetInformationToken unimplemented class 24
fixme:nls:GetUserPreferredUILanguages stub: 8 0x92e7e4 (nil) 0x92e7e0
fixme:ntdll:NtLockFile I/O completion on lock not implemented yet
err:ole:CoInitializeEx Attempt to change threading model of this apartment from apartment threaded to multi-threaded
fixme:ole:CoInitializeSecurity ((nil)-1(nil)(nil)03(nil)0(nil)) - stub!
fixme:wbemprox:client_security_SetBlanket 0x7f7afbed0020 0xa8410 10 0 (null) 3 3 (nil) 0x00000000
fixme:wbemprox:client_security_Release 0x7f7afbed0020
fixme:wtsapi:WTSUnRegisterSessionNotification Stub 0x10056
wine: Unhandled exception 0xe06d7363 in thread 24 at address 0x7b44e66c (thread 0024) starting debugger...
fixme:heap:RtlSetHeapInformation (nil) 1 (nil) 0 stub
fixme:ntdll:NtLockFile I/O completion on lock not implemented yet
fixme:ole:CoInitializeSecurity ((nil)-1(nil)(nil)03(nil)0(nil)) - stub!
fixme:wbemprox:client_security_SetBlanket 0x7e1db7a0 0x137b50 10 0 (null) 3 3 (nil) 0x00000000
fixme:wbemprox:client_security_Release 0x7e1db7a0
fixme:heap:RtlSetHeapInformation (nil) 1 (nil) 0 stub
fixme:ntdll:NtLockFile I/O completion on lock not implemented yet
fixme:nls:GetUserPreferredUILanguages stub: 8 0x34d310 (nil) 0x34d314
err:winsock:WSAIoctl -> _WSAIO(IOC_WS2 23) request failed with status 0x2733
err:winsock:WSAIoctl -> _WSAIO(IOC_WS2 23) request failed with status 0x2733
err:ole:CoInitializeEx Attempt to change threading model of this apartment from apartment threaded to multi-threaded
fixme:ole:CoInitializeSecurity ((nil)-1(nil)(nil)03(nil)0(nil)) - stub!
fixme:wbemprox:client_security_SetBlanket 0x7c4607a0 0x1c4088 10 0 (null) 3 3 (nil) 0x00000000
fixme:wbemprox:client_security_Release 0x7c4607a0
fixme:wininet:InternetCheckConnectionW 
fixme:imm:ImmReleaseContext (0x10094 0x47a9900): stub",4,"0"
"WINE-STAGING-39348","Multiple games hang on exit when CSMT enabled","Created attachment 52444
winedbg bt all

I have some games that freeze on exit when CSMT is enabled.The game executable remains in memory and constantly uses 100% cpu after exiting the game.
Most of the games with this problem are older titles using Directx 6-8 some of them are newer ones built on DX9.
With disabled CSMT those games always quit properly.
Plain terminal output doesn't show anything related.
Reproduced with nvidia binary driver 340.93 and nouveau/mesa git.

Two examples:

1. Freespace 2 demo (DX7 60M):
http://www.fileplanet.com/126954/120000/fileinfo/Freespace-2-Demo-
(in the launcher select  then select a video mode with 3D support start the game. In the main menu press  a couple times to quit the demo).

2. Nikopol demo (DX9 355M):
http://www.fileplanet.com/191497/190000/fileinfo/Nikopol:-Secrets-of-the-Immortals-Demo

wine-1.7.51-225-g3966aff
Fedora 22 32-bit
OpenGL vendor string: nouveau
OpenGL renderer string: Gallium 0.4 on NV92
OpenGL core profile version string: 3.3 (Core Profile) Mesa 11.1.0-devel",525,"0"
"WINE-4555","SecureFX crash when browsing remote folder","Wine 0.9.7 (Package from SF)
Suse 10
SecureFX 3.0.4: http://www.vandyke.com/download/securefx/index.html
Command: wine c:\\Program Files\\SecureFX\\SecureFX.exe

This bug follows bugs 4225. I decided to open a new bug due to the note about
WineTools. Infact bug 4225 has been openen with WineTools.

I started with a fresh installation of Wine 0.9.7. SecureCRT installs and runs
fine. SecureFX also installs and runs fine but after a connection with a remote
host it crash when browsing remote folders.

The output of the crash follows.

Andrea",637,"0"
"WINE-24689","CDSpeed crashes while saving a screenshot in PNG format","Created attachment 31199
Terminal output w/ backtrace

Trying to save a screenshot of the program window in PNG format using the built-in screenshot function results in a crash. Steps to reproduce:

1. Click the button with a floppy disk icon
2. Click save (PNG format should be selected by default)

It was working in 1.3.3 so I did a regression test:

c8a48f237e43174673fa3686ebe99e42f6a0d8a4 is the first bad commit
commit c8a48f237e43174673fa3686ebe99e42f6a0d8a4
Author: Vincent Povirk 
Date:   Thu Sep 30 16:07:53 2010 -0500

    gdiplus: Don't create a DIB section for non-alpha or reference bitmaps.

:040000 040000 07d4dd9deff466eaeb5a5b4a79541bcfc8c6c1c6 3fb622798b75c1479d5ea652762809c21485ff34 M    dlls

Reverting that patch makes it possible to save PNG screenshots again.

Other reported regressions from this commit: bug 24587 and bug 24615",34,"0"
"WINE-20725","Adobe photoshop CS2 fails to install","starting 

wine /mnt/cdrom/Adobe\(R\)\ Photoshop\(R\)\ CS2/setup.exe

gives just before the setup wants to copy the data:

 err:msi:msi_dialog_bitmap_control Failed to load bitmap (null)
err:msi:msi_dialog_bitmap_control Failed to load bitmap (null)
err:msi:msi_dialog_bitmap_control Failed to load bitmap (null)
err:msi:ACTION_CallDllFunction Custom action (LC:\\windows\\temp\\msi42be.tmp:LCleanXHTML) caused a page fault: c0000005
err:seh:raise_exception Exception frame is not in stack limits => unable to dispatch exception.


then the installer exist without having anything copied.",81,"0"
"WINE-16653","Trials 2 SE normal graphics mode does not work","Normal graphics mode (the other two options are low and very low) just shows black (although the UI does appear). Apparently it uses deferred rendering which wine doesn't support? Cedega uses swiftshader which the developers claim does work.",704,"0"
"WINE-34607","When quitting the first area in Oddworld Munch's Oddysee CD the game crashes","Created attachment 46109
OMO log+error

When quitting the first area through the large gate the game crashes.

Installing directmusic fixes the problem. No demo for this game. This
is Oddboxx CD version not Steam.


Tested with:
Windows Vista (without Wine) GeForce 9600M GS--the program works fine here
Ubuntu 13.04 GeForce 9600M GS (NVIDIA driver 313)
Mac OS X 10.7.5 ATI HD 2600 Pro Mac Driver/X11",715,"0"
"WINE-1805","InternetCrackUrl incorrectly sets dwUrlPathLength","Hi

During some application testing we discovered that WinE does not correctly
mimic the WinINet function InternetCrackUrl. The real WinAPI sets the
dwUrlPathLength member of the URL_COMPONENTS structure to additionally hold
the extra info of the given URL if the extra info is not requested as a
separate component. Although this behaviour is not well documented by the
Win SDK it is for instance implemented on WinXP Win2000 and WinME and
therefore might be considered to be intended by Microsoft.

The following lines of code demonstrate the problem:

   LPCTSTR lpszURL = _T(http://www.myserver.com/myscript.php?arg=1)
   URL_COMPONENTS url

   // call 1: crack out url path and extra info
   ::ZeroMemory(
   url.dwStructSize = sizeof(url)
   url.dwHostNameLength = 1
   url.dwUrlPathLength  = 1
   url.dwExtraInfoLength = 1
   ::InternetCrackUrl(lpszURL 0 0 
   // dwUrlPathLength is 13 holding /myscript.php

   // call 2: only crack out url path
   ::ZeroMemory(
   url.dwStructSize = sizeof(url)
   url.dwHostNameLength = 1
   url.dwUrlPathLength  = 1
   ::InternetCrackUrl(lpszURL 0 0 
   // now dwUrlPathLength should be 19 holding /myscript.php?arg=1
   // while WinE still sets it to 13

OK it is of course no great deal to write code that correctly runs on real
Win systems and on WinE (2-3 lines did it). But programers who rely on this
behaviour will for example wonder why their applications don't transmit any
HTTP GET parameters when they call HttpOpenRequest with lpszObjectName set
to the URL path component returned by InternetCrackUrl...",521,"0"
"WINE-38988",".NET applications using System.Decimal to float conversion may return wrong results ('VarR4FromDec' divisor integer overflow)","Created attachment 51943
executable showing the results of the code quoted above

The bug was detected on a system as follows:
* Linux Mint 17 64-bit
* Wine 1.6.2 with a 32-bit environment
* orginal Microsoft .net framework installed in Wine (irrelevant if V2 or V3.5 or V4 irrelevant if installed directly or using winetricks)

If a .net program written in C# and running on a system as described above uses an explicit conversion from decimal data type to float data type this conversion sometimes gives wrong results. There is no error message at all but the result is completely wrong i.e. it is not just a matter of rounding. However the result is not always wrong but only for certain numbers (see below).

The same program executed on a Windows system or on a Linux system with Mono works fine. Therefore the program seems to call some functions within the original MS .net framework which are not correctly executed by Wine.

The C# code which demonstrates the bug is as follows:

			// example #1
			decimal d = -0.594059405941m
			float f = (float) d
			Console.WriteLine ( Value as decimal:  + d )
			Console.WriteLine ( Value converted to float:  + f )
			// example #2
			d = 0.605321507761m
			f = (float) d
			Console.WriteLine ( Value as decimal:  + d )
			Console.WriteLine ( Value converted to float:  + f )

A compiled file is attached. Run it on a Windows system or on a Linux system with Mono and it works fine. Run it using Wine with the original MS .net framework and the bug will occur.",21,"0"
"WINE-28325","Dragon NaturallySpeaking 11.0 Standard no longer completes user training successfully","Dragon NaturallySpeaking 10 Standard used to run very well but now no longer works at all. 

I am reporting this bug against 1.2.3 because that is the last version that installs NatSpeak although it does not run.

To reproduce:
I have Oneiric with all updates 64-bit. I got 1.2.3 off the ubuntu repository. 
I installed NatSpeak 10.0 Standard. 

Installation seemed to go all right. 
I then tried to do the initial setup. 
The steps for measuring microphone accuracy and the training went well. After that a couple of steps such as training (I check No to that) went by. 

Then it froze. The following two lines appeared on the terminal screen the first was repeated 4 times the second 9. 

fixme:psapi:GetProcessImageFileNameA (0x54c 0x4d0e470 520) stub
err:ole:CoRevokeClassObject called from wrong apartment should be called from 800000038",406,"0"
"WINE-6305","Debugger fails to backtrace a crashed program claims no process is loaded","...
wine: Unhandled exception 0x80000003 at address 0x94a76d (thread 0009) starting
debugger...
Modules:
Cannot get info on module while no process is loaded
Threads:
process  tid      prio (all id:s are in hex)
0000000a
        0000000b    0
00000008 (D) (null)
        0000001b    0
...",5,"0"
"WINE-4227","QuickTest Pro 8.2 fails to install","QuickTest Pro 8.2 has a free 14 day trial which you can download
immediately after registering.  I downloaded it from
http://downloads.mercury.com/cgi-bin/portal/download/loginForm.jsp?id=51
The installer locks up after getting the user information.
To reproduce you need to convince it that IE is installed
using a trick like:

notepad
wineserver -k
cat >> $HOME/.wine/system.reg <<_EOF_

[Software\\Microsoft\\Internet Explorer]
Version=6.0.2900.2180
_EOF_

Then run the setup.  Here's a log:

fixme:msi:MsiInstallProductW
LZ:\\home\\dank\\QTPCD_FCS\\QuickTest\\ISScript8.Msi LREBOOT=ReallySuppress
ADDLOCAL=All
err:msi:ITERATE_DuplicateFiles Failed to copy file Lc:\\Program Files\\Common
Files\\InstallShield\\Driver\\8\\Intel 32\\IDriver.exe -> Lc:\\Program
Files\\Common Files\\InstallShield\\Driver\\8\\Intel 32\\ last error 80
fixme:msi:ITERATE_DuplicateFiles We should track these duplicate files as well
fixme:msi:ACTION_HandleStandardAction unhandled standard action
LRemoveRegistryValues
fixme:msi:ACTION_HandleStandardAction unhandled standard action LRemoveFolders
fixme:msi:MsiGetProductInfoW L{CEDCF205-DE6E-4D59-866D-4F66E11734E9}
LInstallSource 0x7c78f948 0x7b93de94
fixme:msi:ACTION_HandleStandardAction unhandled standard action LValidateProductID
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7d0e07c00x7d0e07c4) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7d0e07bc0x7d0e07c0) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7b93de780x7b93de7c) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7b93dd580x7b93dd5c) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7b93de740x7b93de78) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7b93dd540x7b93dd58) stub!
fixme:ole:_copy_arg Should not use VariantChangeType here. (conversion from 0x3
-> 0xb) 000dffff
fixme:msi:MsiGetProductInfoW L LInstalledProductName 0x7b2564d8 0x7b93d1d4
fixme:ole:_copy_arg Should not use VariantChangeType here. (conversion from 0x3
-> 0xb) 7bec0000
fixme:ole:_copy_arg Should not use VariantChangeType here. (conversion from 0x3
-> 0xb) 7becffff
fixme:win:SetWindowTextA setting text QuickTest Professional 8.2 of other
process window (nil) should not use SendMessage
fixme:x11drv:X11DRV_SetWindowRgn not supported on other thread window 0x1003e
wine: Call from 0x7bb9c5e0 to unimplemented function
msi.dll.MsiGetLastErrorRecord aborting

I did try the obvious (making a dummy MsiGetLastErrorRecord that
just returns NULL) but it didn't help.",456,"0"
"WINE-17819","OpenInsight's OpenEngine does not function.","Created attachment 20070
Described in first post.  Collection of debug info. 

I was able to open Revelations OpenInsight 8.0.7 (without hanging) in 1.1.17.  However OpenEngine fails to function and appears instead as a messed up box to the side.  See attachment.

It's clear progress is being made as it now does open without hanging but OpenEngine (a component of OpenInsight that loads alongside OpenInsight) does not.  

Attached zip file contains:
- full terminal output (term_output.txt)
- a screenshot of what it's supposed to look like from XP (OpenEngine.png)
- a screenshot of what it really looks like (OpenEngine_wine.png)
- winedbg relay log (relay.txt) for opening the program clicking around in the dead OpenEngine window and terminating with Ctrl+C",10,"0"
"WINE-1029","OmniBack Windows GUI does not startup at all","Bug comments restored from Gmane.org: 
 
The HP OmniBack Windows 4.1 GUI does not startup at all. Error message: 
 
flinx:~/.wine/fake_windows/Program Files/OmniBack/bin $ wine omnicc.exe 
fixme:string:GetDateFormatW STUB (should call OLE_GetFormatW) 
fixme:string:GetDateFormatW STUB (should call OLE_GetFormatW) 
Cannot open desired message catalog! 
Aborting! 
Wine failed with return code 3",448,"0"
"WINE-33359","WinRT/ARM port of Audacity crashes in dll entry point due to incorrect thumb2 mode MOVW/MOVT relocation type processing","Hello folks

as the summary says ...

--- snip ---
...
002e:Call PE DLL (proc=0x41f6f258module=0x41ef0000 Lmsvcrt.dllreason=PROCESS_ATTACHres=(nil)) 
...
002e:trace:module:load_dll looking for Lwxbase28u_net_vc_custom.dll in LZ:\\home\\linaro\\wine-apps\\audacity\\Audacity.C:\\windows\\system32C:\\windows\\systemC:\\windowsC:\\windows\\system32C:\\windowsC:\\windows\\system32\\wbem
002e:trace:module:get_load_order looking for LZ:\\home\\linaro\\wine-apps\\audacity\\Audacity\\wxbase28u_net_vc_custom.dll
...
002e:trace:module:load_native_dll Trying native dll LZ:\\home\\linaro\\wine-apps\\audacity\\Audacity\\wxbase28u_net_vc_custom.dll
002e:trace:module:map_image mapped PE file at 0x42150000-0x42174000
002e:trace:module:map_image mapping section .text at 0x42151000 off 400 size d400 virt d338 flags 60000020
002e:trace:module:map_image clearing 0x4215e400 - 0x4215f000
002e:trace:module:map_image mapping section .rdata at 0x4215f000 off d800 size ec00 virt eb28 flags 40000040
002e:trace:module:map_image clearing 0x4216dc00 - 0x4216e000
002e:trace:module:map_image mapping section .data at 0x4216e000 off 1c400 size 800 virt b6c flags c0000040
002e:trace:module:map_image clearing 0x4216e800 - 0x4216f000
002e:trace:module:map_image mapping section .pdata at 0x4216f000 off 1cc00 size 1200 virt 11e0 flags 40000040
002e:trace:module:map_image clearing 0x42170200 - 0x42171000
002e:trace:module:map_image mapping section .rsrc at 0x42171000 off 1de00 size 800 virt 748 flags 40000040
002e:trace:module:map_image clearing 0x42171800 - 0x42172000
002e:trace:module:map_image mapping section .reloc at 0x42172000 off 1e600 size 1a00 virt 18f0 flags 42000040
002e:trace:module:map_image clearing 0x42173a00 - 0x42174000
002e:trace:module:map_image relocating from 0x10000000-0x10024000 to 0x42150000-0x42174000 
...
002e:trace:module:load_dll looking for LMSVCR110.dll in LZ:\\home\\linaro\\wine-apps\\audacity\\Audacity.C:\\windows\\system32C:\\windows\\systemC:\\windowsC:\\windows\\system32C:\\windowsC:\\windows\\system32\\wbem
002e:trace:module:load_dll Found LC:\\windows\\system32\\msvcr110.dll for LMSVCR110.dll at 0x420e0000 count=2
002e:trace:imports:import_dll --- _calloc_crt MSVCR110.dll.496 = 0x41eff9c0
...
002e:trace:imports:import_dll --- _initterm_e MSVCR110.dll.701 = 0x41ef955c
002e:trace:imports:import_dll --- _amsg_exit MSVCR110.dll.474 = 0x41ef73b8
002e:trace:imports:import_dll --- _malloc_crt MSVCR110.dll.827 = 0x41f00efc
002e:trace:imports:import_dll --- _unlock MSVCR110.dll.1165 = 0x41efd460
002e:trace:imports:import_dll --- __dllonexit MSVCR110.dll.390 = 0x41ef67ec
002e:trace:imports:import_dll --- _lock MSVCR110.dll.810 = 0x41efa480
002e:trace:imports:import_dll --- _onexit MSVCR110.dll.976 = 0x41efbae8
002e:trace:imports:import_dll --- _initterm MSVCR110.dll.700 = 0x41ef951c
002e:warn:module:import_dll No implementation for MSVCR110.dll.__C_specific_handler imported from LZ:\\home\\linaro\\wine-apps\\audacity\\Audacity\\wxbase28u_net_vc_custom.dll setting to 0x419a0288
002e:trace:imports:import_dll --- __C_specific_handler MSVCR110.dll.349 = 0x419a0288
002e:trace:imports:import_dll --- ?terminate@@YAXXZ MSVCR110.dll.313 = 0x41ef61c4
002e:trace:imports:import_dll --- ??1type_info@@UAA@XZ MSVCR110.dll.112 = 0x41ef59ec
002e:trace:module:load_dll looking for LKERNEL32.dll in LZ:\\home\\linaro\\wine-apps\\audacity\\Audacity.C:\\windows\\system32C:\\windows\\systemC:\\windowsC:\\windows\\system32C:\\windowsC:\\windows\\system32\\wbem
002e:trace:module:load_dll Found LC:\\windows\\system32\\KERNEL32.dll for LKERNEL32.dll at 0x40a00000 count=21 
...
002e:trace:loaddll:load_native_dll Loaded LZ:\\home\\linaro\\wine-apps\\audacity\\Audacity\\wxbase28u_net_vc_custom.dll at 0x42150000: native
002e:trace:module:load_dll Loaded module LZ:\\home\\linaro\\wine-apps\\audacity\\Audacity\\wxbase28u_net_vc_custom.dll (native) at 0x42150000
...
002e:trace:module:process_attach (Lwxbase28u_net_vc_custom.dll0x1) - START 
...
002e:Call PE DLL (proc=0x4215d539module=0x42150000 Lwxbase28u_net_vc_custom.dllreason=PROCESS_ATTACHres=0x1)
002e:Call KERNEL32.GetSystemTimeAsFileTime(4143fcb0) ret=4215d78b
002e:Ret  KERNEL32.GetSystemTimeAsFileTime() retval=00000000 ret=4215d78b
002e:Call KERNEL32.GetCurrentThreadId() ret=4215d799
002e:Ret  KERNEL32.GetCurrentThreadId() retval=0000002e ret=4215d799
002e:Call KERNEL32.GetTickCount64() ret=4215d7a5
002e:Ret  KERNEL32.GetTickCount64() retval=00000000002f5c5f ret=4215d7a5
002e:Call KERNEL32.QueryPerformanceCounter(4143fcb8) ret=4215d7b5
002e:Ret  KERNEL32.QueryPerformanceCounter() retval=00000001 ret=4215d7b5
002e:trace:seh:raise_exception  info[0]=00000000
002e:trace:seh:raise_exception  info[1]=72657468
002e:trace:seh:raise_exception  Pc:72657468 Sp:4143fc70 Lr:4215d3bb Cpsr:200f0030 r0:4215f5a0 r1:4215f5ac r2:0000 r3:0001
002e:trace:seh:raise_exception  r4:4216eb5c r5:4216eb58  r6:0000  r7:0001 r8:42150000 r9:42150000 r10:40046000 Fp:4143fca0 Ip:4205f00c
002e:trace:seh:call_stack_handlers calling handler at 0x4041d6fc code=c0000005 flags=0
002e:trace:seh:RtlUnwind code=c0000005 flags=2
002e:exception in PE entry point (proc=0x4215d539module=0x42150000reason=PROCESS_ATTACHres=0x1)
002e:Ret  PE DLL (proc=0x4215d539module=0x42150000 Lwxbase28u_net_vc_custom.dllreason=PROCESS_ATTACHres=0x1) retval=0
002e:Call PE DLL (proc=0x4215d539module=0x42150000 Lwxbase28u_net_vc_custom.dllreason=PROCESS_DETACHres=0x1)
002e:Ret  PE DLL (proc=0x4215d539module=0x42150000 Lwxbase28u_net_vc_custom.dllreason=PROCESS_DETACHres=0x1) retval=0
002e:warn:module:process_attach Initialization of Lwxbase28u_net_vc_custom.dll failed
002e:trace:module:process_attach (Lwxbase28u_net_vc_custom.dll0x1) - END
002e:trace:module:process_attach (LAudacity.exe0x1) - END 
--- snip ---

--- snip ---
Wine-gdb> bt
#0  0x72657468 in ?? ()
#1  0x4211d3ba in ?? ()
#2  0x4211d3ba in ?? ()

Wine-gdb> x/10i 0x4211d3aa
   0x4211d3aa:  ldr     r1 [pc #120]   (0x4211d424)
   0x4211d3ac:  ldr     r0 [pc #112]   (0x4211d420)
   0x4211d3ae:  movs    r3 #1
   0x4211d3b0:  dmb     ish
   0x4211d3b4:  str     r3 [r4 #0]
   0x4211d3b6:  bl      0x4211d654
   0x4211d3ba:  cmp     r0 #0

Wine-gdb> x/10i 0x4211d654
   0x4211d654:  movw    r12 #61452      0xf00c
   0x4211d658:  movt    r12 #16897      0x4201
   0x4211d65c:  ldr.w   pc [r12]

Wine-gdb> x/10x 0x4201f00c
0x4201f00c :       0x72657469      0x726f7461      0x3f554740      0x61686324
0x4201f01c :       0x72745f72      0x73746961      0x73404740      0x40406474
0x4201f02c :       0x56403240      0x30403233
--- snip ---

imm16 from MOVT should be 0x4211 in this case (final relocation: 0x4211f00c)

From ARM Architecture Reference Manual Thumb-2 Supplement:

--- quote ---
Assembler syntax

MOVT  #

where:

S If present specifies that the instruction updates the flags. Otherwise the instruction does not
update the flags.
 See Standard assembler syntax fields on page 4-6.
 Specifies the destination register.
 Specifies the immediate value to be written to . It must be in the range 0-65535.

MOVT #

Operation

if ConditionPassed() then
EncodingSpecificOperations()
R[d] = imm16
// R[d] unchanged

Exceptions

None.
--- quote ---

The opcode encodes as follows:

--- snip ---
11110|i|10  1100|imm4|  0|imm3|Rd|  imm8

d = UInt(Rd)

Encoding of imm16 argument for MOVT and MOVW Thumb2 instructions:

imm16 = imm4:i:imm3:imm8
--- snip ---

Example with original opcodes (unprocessed relocation):

--- snip ---
Wine-gdb> x/10i 0x4214d660
...
0x0cb8f24f   movw    r12 #61624  0xf24f -> i=0x0 imm4=0xf
                                   0x0cb8 -> imm3=0x0 Rd=0xc imm8=0xb8
                                   -> low imm16=0xf0b8

0x0c00f2c1   movt    r12 #4096   0xf2c1 -> i=0x0 imm4=0x1
                                   0x0c00 -> imm3=0x0 Rd=0xC imm8=0x00
                                   -> high imm16=0x1000

0xf000f8dc   ldr.w   pc [r12]
--- snip ---

Wine source: http://source.winehq.org/git/wine.git/blob/cd03a51e7ddcafb3cf98b6c1dd5469bb92b8adcd:/dlls/ntdll/loader.c#l2154

With relocations fixed all dll entry points are correctly executed including Wine builtin MSVC++ 2012 runtime initialization.
The app then runs into bug 33195

Regards",6,"0"
"WINE-16591","Sword of the Stars crashes after intro movies before main menu","This program used to work great.
Regression testing shows that git commit 4adb342327c520d2bc1f245525666a8c09e358ec causes this crash.  Reverting this commit at current HEAD (1.1.11 - 0b3b6e67ea663e853cc6bb93f4da447ab934e50d) restores functionality.",3,"0"
"WINE-4855","ZOC window does not retain size after workspace switch","ZOC 5.06 runs in Gnome workspace 2. If I click on another workspace to switch to
it ZOC's window suddenly becomes very small which is reflected by the window's
icon. When I return to workspace 2 I have to manually resize the ZOC window.",955,"1"
"WINEHQ_BUGZILLA-40855","Add blank lines after the Packaging product to make Wine look more important","Before the Packaging product was invented Wine was at the top and there was a long distance between it and the rest of the products (gecko apps database...).

Since the products are arranged alphabetically now the Packaging comes first so please add some empty lines between the end of Packaging description so that Wine stands alone and clear to avoid mistakes.


Packaging   : Bugs in WineHQ provided packaging


     Wine   : <-- You probably want to use that link there!
                  Wine bugs. Submit bugs related to Wine here.
              <-- Use this if in doubt!


Winegecko  : For bugs in wine's bundled gecko.
Winestaging: For bugs that occur in wine-staging but not in wine-development

Or if this is just my paranoia please close as invalid.",0,"0"
"WINE-23248","MMO client 7million crashes on startup","The game allocates all your video ram one megabyte at a time
then thinks for a few seconds and crashes.   Happens with
either http://content.deepsilver.com/kochmedia/downloads/7million/de-uk/7Million_0_16_0-minimum.exe
or 
http://content.deepsilver.com/kochmedia/downloads/7million/de-uk/7Million_0_17_0-full.exe

(The beta was said to work well in wine so perhaps they've
added hackshield or something that wine doesn't support?)

Here's the (20 line) log:

C:\users\dank\Local Settings\Application Data\7Million>7million
fixme:actctx:parse_depend_manifests Could not find dependent assembly LMicrosoft.VC80.CRT (8.0.50608.0)
Error writing 19 bytes to log\7million.txt windows error code 0x57.  Disk full?
fixme:win:EnumDisplayDevicesW ((null)00x33b32c0x00000000) stub!
err:d3d:resource_init Out of adapter memory
err:d3d9:device_parent_CreateSurface (0x1394bc) CreateSurface failed returning 0x8876017c
fixme:d3d_texture:texture_init Failed to create surface 0x1c7320 hr 0x8876017c
fixme:win:EnumDisplayDevicesW ((null)00x33de940x00000000) stub!
fixme:ddraw:DirectDrawEnumerateExA flags 0x00000005 not handled
fixme:win:EnumDisplayDevicesW ((null)00x33d9700x00000000) stub!
fixme:win:GetRawInputDeviceList (pRawInputDeviceList=(nil) puiNumDevices=0x33e3d4 cbSize=8) stub!
fixme:win:GetRawInputDeviceList (pRawInputDeviceList=0x33e370 puiNumDevices=0x33e3d4 cbSize=8) stub!
fixme:system:SystemParametersInfoW Unimplemented action: 94 (SPI_GETMOUSETRAILS)
fixme:system:SystemParametersInfoW Unimplemented action: 93 (SPI_SETMOUSETRAILS)
fixme:imm:ImmGetOpenStatus (0x138a68): semi-stub
fixme:imm:ImmReleaseContext (0x5005e 0x138a68): stub
fixme:d3d:swapchain_init Add OpenGL context recreation support to context_validate_onscreen_formats
err:d3d:swapchain_setup_fullscreen_window Changing the window style for window 0x5005e but another style (96080000 00000000) is already stored.
fixme:d3d:swapchain_init Add OpenGL context recreation support to context_validate_onscreen_formats
!xra
 400
err:seh:raise_exception Unhandled exception code c0000005 flags 0 addr 0x25e98b4",104,"0"
"WINE-16325","incorrect font rendering for CJK programs","Created attachment 17630
patches in a tar.bz archive

If a CJK program uses ANSI_CHARSET to create font instance text is not correctly rendered the result is that 
some text in the affected programs are not correctly displayed.  This is not a critical problem but I consider
it a blocker for most Chinese Wine users as it happens massively.

This problem is reported and fixed here:

http://bugs.winehq.org/show_bug.cgi?id=4065

However the fix only dealt with a particular program (picasa) and is not a universal fix.  A hack specifically designed for 
Chinese user (codepage 936) is proposed but not accepted because it is not universal.  This patch is based on the
cp936 hack proposed in bug #4065.

The patch has two flavor the first one uses GetACP() to obtain correct codepage to use which is preferred.  The second
will use environment variable WINE_DEFAULT_CODEPAGE if not defined will NOT affect original code flow.  The 2nd
method added a little bit inconvenience for CJK users but maintains maximum compatibility because as discussed
on the Ubuntu Chinese forum there are better solutions which is out of my ability to change:

http://forum.ubuntu.org.cn/viewtopic.php?f=121&t=169647 (Chinese)",1667,"1"
"WINE-37163","WiX Toolset v3.8 installer doesn't open with Wine-Mono (unimplemented CorBindToCurrentRuntime)","Created attachment 49394
wix38-stderr

The WiX Toolset installer (version 3.8) hangs without opening any windows. The console output is attached.",19,"0"
"WINE-33997","win86emu needs Unimplemented function KERNEL32.dll.CreateSymbolicLinkA","PostInstall.exe from win86emu says:
wine: Call from 0xb6b71868 to unimplemented function KERNEL32.dll.CreateSymbolicLinkA aborting

I already checked that it doesn't try to import something from kernel32 per ordinal.",652,"0"
"WINE-13520","Facewound crosshair does not render","Created attachment 13450
Console log from launching and exiting facewound

The crosshair in Facewound does not render at any time. The cursor does not appear to be animated. On the off chance that it could be useful I attached the console output from starting up and quitting the game. The mouse appears when it is not the crosshair like when it's over the buttons in the menu.",117,"0"
"WINE-33882","gtags (GNU GLOBAL) 6.2.x crashes on indexing of large projects","Created attachment 44957
This is gotten from Wine crash screen

Hi

I'm using GTags for Windows that's working fine on Windows but on Linux using Wine it crashes complaining about not having enough memory. It only happens when I'm indexing large projects (for example Linux kernel source).
I've attached the backtrace.

The console error messages are:

sort: cannot create temporary file: \s1r.: Permission denied
wine: Unhandled page fault on read access to 0x585f0000 at address 0x415d27 (thread 002a) starting debugger...
fixme:ole:RemUnknown_QueryInterface No interface for iid {00000019-0000-0000-c000-000000000046}
$ sort: write failed: -: No space left on device

GTags for Windows can be found at
http://adoxa.3eeweb.com/global/index.html (GLOBAL 6.2.8)
or as link from
http://www.gnu.org/software/global/download.html (DOS and Windows 32 version) which will actually lead you to the address above.

Thanks
Pavel",351,"0"
"WINE-14468","Hearts of Iron 2: Armageddon stops loading savegames","After upgrading to 1.1.1 the game of Hearts of Iron 2: Armageddon stops loading savegames. You can start new game play for some time then save but you can't load. Also there is a crash when leaving current game through Surrender button this bug is of the same nature probably. 1.1.0 is OK.",35,"0"
"WINE-3665","Intro video in Half-Life 2 very slow (1 fps)","The intro video in Half-Life 2 is very slow (one-two fps) while in-game the  
performance is rather good (15-60 fps on my not-so-good GeForce FX Go 5200  
AGP 4x NVidia drivers 7664). I have tested the demo however you should be 
able to reproduce it in the retail version too.",376,"0"
"WINE-44804","PCBWeb crashes: Call to unimplemented function d3dx11_43.dll.D3DX11CreateTextureFromFileW","As the title says.

For info to see the crash follow recipe in:

https://bugs.winehq.org/show_bug.cgi?id=39775#c9",6,"0"
"WINE-7025","StgOpenStorage API function should not create a file if file does not exist","Comparing the behaviour of StgOpenStorage in Wine and WindowsXP
Windows: StgOpenStorage calls CreateFileW with the creation parameter set to
OPEN_EXISTING even if the file does not exist.
Wine: StgOpenStorage calls CreateFileW with the creation parameter set to
CREATE_NEW if the file does not exist.

This confuses an application that I am trying to get fully working (Orcad
Capture 9.2) because it expects the StgOpenStorage API to return an error if
the file does not exist. I removed the code in StgOpenStorage that creates the
file if it does not exist so it now behaves as the Windows fn does and this
fixed this particular bug in Orcad.",7,"0"
"WINE-2940","err:edit:EDIT_WM_Command unknown menu item please report","While running Smalltalk Express for Win16 It showed this log and asked me to 
report. Here we go",25,"0"
"WINE-22685","unimplemented function msvcr90.dll._wmakepath_s (affects Spiceworks)","(This seems to be the next problem after bug 12838.)

To repeat:

rm -rf ~/.wine
wget http://download.spiceworks.com/Spiceworks.exe
mkdir tmp
cd tmp
7z x ../Spiceworks.exe
wine spiceworks_package.exe

This outputs:

fixme:actctx:parse_depend_manifests Could not find dependent assembly LMicrosoft.VC90.CRT (9.0.21022.8)
fixme:msvcrt:_controlfp_s ((nil) 65536 196608) semi-stub
wine: Call from 0x6833a812 to unimplemented function msvcr90.dll._wmakepath_s aborting
wine: Unimplemented function msvcr90.dll._wmakepath_s called at address 0x6833a812 (thread 0009) starting debugger...",43,"0"
"WINE-27840","winecfg crashes when using Royale (WindXP MCE) style","Here's the backtrace: http://pastebin.com/UXpRHW19

Steps to reproduce:
1. Enable Royale style in Desktop integration
2. Apply it close winecfg
3. Start winecfg
4. Get division by zero

This is a regression introduced by this commit:

1805f123b08cac862667d1543e198ece57a6ef77 is the first bad commit
commit 1805f123b08cac862667d1543e198ece57a6ef77
Author: Alexandre Julliard 
Date:   Mon Jul 11 13:44:26 2011 +0200

    gdi32: Compute StretchBlt rectangles in gdi32.

:040000 040000 4928a30fafa35387074a9b91e663d5c75e880caa f4b7dd10babb080036b952a5e7bffe2917c4a5c4 M      dlls
:040000 040000 d5f2b5905e0eb3bf218a94a50c689603171151a3 4af948028fe6710e8d164acf590ac8bfe5252491 M      include",3,"0"
"WINE-43897","CHM viewer navigation items are not longer shown","Even when explicitely configured to be shown in the CHM file Wine 2.19's CHM viewer only shows the HTML content without the navigation toolbars. This previously worked as expected as late as Wine 2.14 (see e.g. issue #41985).

To reproduce download OpenMPT from https://openmpt.org/download and open the CHM help from the Help menu or try to open the CHM file directly from your file browser.",77,"0"
"WINE-6314","Emperor.exe crashes when -c is not given in commandline options","Emperor battle for dune crashes when executed with wine emperor.exe must be
executed with wine emperor.exe -c the -c option disabled texture compression
according to the game's readme file.",792,"0"
"WINE-4850","Skype 2.0 splash screen graphic missing","Skype 2.0.* splash screen graphic is missing even with Mozilla Active X Control
used ( I believe this screen uses IE's renderer to place the graphic there). 
Pretty trivial but a bug nevertheless.",259,"0"
"WINE-18557","Slingplayer 2.0 Setup Assistant fails and hangs app","Created attachment 21218
wine-1.1.21-316-g8f33420 console output

Slingplayer 2.0 opens the Setup Assistant to set Slingplayer and Slingbox settings update firmware and to log into Sling.com to retrieve personal information.

The Setup Assistant is basically a web page loaded in a small window that interacts with the Slingplayer via what appears to be Javascript and ActiveX.

Upon loading the Assistant nothing happens just a blank screen.  Closing the window makes the Slingplayer unusable and has to be killed.

Installing IE6 throws a bunch of scripting and ActiveX errors before also failing.",3146,"1"
"WINE-20664","the MCI devices badly re-enter the player loop.","Somehow trying and accessing a wave device sometimes manages to stop another playing sample.  Yet the second call is normally returned with 265=MCIERR_DEVICE_OPEN (mapped from 4=MMSYSERR_ALLOCATED).

To reproduce you need audible sound.

Using my interactive MCI shell from bug #20232 comment #10 try the following

1. open long-playing-sample.wav alias a
2. open sample.wav alias b
3. play a from 0
4. play b from 0 wait

Repeat 4) playing b until a is interrupted (=you hear no more sound). If a ends normally repeat from step 3. Within less than 30 trials a's sound will be interrupted on my single core Linux box wither either ALSA or OSS with or without PulseAudio in Ubuntu Intrepid.

When this happens try
5. status a mode   => playing
6. stop a          => hangs
7. ^C

It seems more likely to happen after a has finished playing once. Or whatever Voodoo is needed.",481,"0"
"WINE-32776","Crashes in Legacy 5 resulting in its database being corrupted","Created attachment 43279
Program error details and backtrace.

After loading Legacy5 open an individual's window.
Try to open a new event or edit an existing one and Legacy crashes and its database gets corrupted and can no longer be used.",0,"0"
"WINE-23790","Cursors in City of Heroes draw incorrectly with ATI graphics","In City of Heroes some cursors draw with incorrect transparency creating colored halos or borders.  The easiest cursor to see this on is the ordinary white arrow pointer which has a white border on the bottom and right edges.  Other cursors especially drag-and-drop cursors are also affected.

This bug appears when using an ATI graphics card but not an NVidia graphics card.",92,"0"
"WINE-27776","Aquarium: Invalid floating point operation","Git commit d59c3d45e34817e08e68305d3e5f632e3c8523a3
gdiplus: Use DrawDriverString to draw the text in DrawString (2011-06-27) causes Aquarium (a chess app) to produce a series of Invalid floating point operation dialogs. This is a regression.

The problem seems to be related to the term args->y on line 4625. If I replace this with the value 0.0 the errors do not occur.",7,"0"
"WINE-32862","Microsoft Expression Design 4 (Free Version) needs WindowsCodecsExt.dll (Microsoft Windows Codecs Extended Library)","Hello folks

now that Microsoft Expression Design 4 (Free Version) installs successfully it fails on startup.

Prerequisite: 'winetricks -q dotnet40 corefonts'

Suffers from bug 32471 hence:

WINEDLLOVERRIDES=d3d9=d wine

Managed backtrace:

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/Microsoft Expression/Design 4
...
$ WINEDLLOVERRIDES=d3d9=d wine ./Design.exe
...
Unhandled Exception: System.Windows.Markup.XamlParseException: Provide value on 'System.Windows.Baml2006.TypeConverterMarkupExtension' threw an exception. ---> System.DllNotFoundException: Unable to load DLL 'WindowsCodecsExt.dll': Exception from HRESULT: 0x8007007E
   at MS.Win32.PresentationCore.UnsafeNativeMethods.WICCodec.CreateColorTransform(BitmapSourceSafeMILHandle& ppWICColorTransform)
   at System.Windows.Media.Imaging.ColorConvertedBitmap.FinalizeCreation()
   at System.Windows.Media.Imaging.ColorConvertedBitmap..ctor(BitmapSource source ColorContext sourceColorContext ColorContext destinationColorContext PixelFormat format)
   at System.Windows.Media.Imaging.BitmapSource.CreateCachedBitmap(BitmapFrame frame BitmapSourceSafeMILHandle wicSource BitmapCreateOptions createOptions BitmapCacheOption cacheOption BitmapPalette palette)
   at System.Windows.Media.Imaging.BitmapFrameDecode.FinalizeCreation()
   at System.Windows.Media.Imaging.BitmapFrameDecode..ctor(Int32 frameNumber BitmapCreateOptions createOptions BitmapCacheOption cacheOption BitmapDecoder decoder)
   at System.Windows.Media.Imaging.BitmapDecoder.SetupFrames(BitmapDecoder decoder ReadOnlyCollection`1 frames)
   at System.Windows.Media.Imaging.BitmapDecoder.get_Frames()
   at System.Windows.Media.Imaging.BitmapFrame.CreateFromUriOrStream(Uri baseUri Uri uri Stream stream BitmapCreateOptions createOptions BitmapCacheOption cacheOption RequestCachePolicy uriCachePolicy)
...
--- snip ---

Also interesting stuff (for later improvements):

--- snip ---
fixme:wincodecs:ColorContext_InitializeFromFilename (0x1148f468LC:\\windows\\system32\\spool\\drivers\\color\\sRGB Color Space Profile.icm)
fixme:wincodecs:TiffFrameDecode_GetColorContexts (0x114f59700(nil)0x329594): stub
fixme:wincodecs:TiffDecoder_GetColorContexts (0x114f5be80(nil)0x329594)
fixme:wintab32:X11DRV_WTInfoW WTI_INTERFACE unhandled index 9
fixme:wintab32:X11DRV_WTInfoW Unhandled Category 300
fixme:wintab32:X11DRV_WTInfoW Unhandled Category 3325804
--- snip ---

$ du -sh Design_Trial_en.exe 
47M    Design_Trial_en.exe

$ sha1sum Design_Trial_en.exe 
65229a31f44d5adcf11edd7a849f8e3d9c4e8233  Design_Trial_en.exe

$ wine --version
wine-1.5.22-265-g07be9f0

Regards",8,"0"
"WINE-26211","Dragon Age II Demo launcher crashes","To work around bug 26205 do
  wget http://winetricks.googlecode.com/svn/trunk/src/winetricks-alpha
  winetricks-alpha d3dx9_36 d3dx11_43

The game's launcher then starts but on my Ubuntu 10.10 laptop
there's a crash dialog (which can be ignored)
the console says

fixme:quartz:AsyncReader_QueryInterface No interface for {56a868b5-0ad4-11ce-b03a-0020af0ba770}!
fixme:gstreamer:GST_QueryInterface No interface for {56a868b5-0ad4-11ce-b03a-0020af0ba770}!
fixme:quartz:DSoundRender_QueryInterface No interface for {56a868b5-0ad4-11ce-b03a-0020af0ba770}!
wine: Unhandled page fault on read access to 0x2009e65c at address 0x2009e65c (thread 0021) starting debugger...

and the Bioware / EA / dragon logo movie is silent.

Doing
  winetricks-alpha devenum
gets rid of the crash and makes the logo movie play sound.",1659,"1"
"WINE-5319","msvc4.0 installer splash screen Explore the CD button does nothing","I'm revisiting my tests of Visual C++ 4.0
( see http://kegel.com/wine/winelog.html#msvc4 ).
It's working well on the whole but: the explore disk
button on the CD-ROM still doesn't work it does absolutely
nothing.  Here's the interesting part of WINEDEBUG=+process setup.exe:

trace:process:CreateProcessW app (null) cmdline LEXPLORER.EXE .
trace:process:find_exe_file looking for LEXPLORER.EXE
trace:process:find_exe_file Trying native exe Lc:\\windows\\system32\\EXPLORER.EXE
trace:process:find_exe_file Trying built-in exe
Lc:\\windows\\system32\\EXPLORER.EXE
trace:process:CreateProcessW starting Lc:\\windows\\system32\\EXPLORER.EXE as
Winelib app
trace:process:init_current_directory starting in L..\\ 0x18
trace:process:__wine_kernel_init starting process
name=LC:\\windows\\system32\\EXPLORER.EXE argv[0]=EXPLORER.EXE
trace:process:CreateProcessW app (null) cmdline Lwinefile.exe .\\
trace:process:find_exe_file looking for Lwinefile.exe
trace:process:find_exe_file Trying native exe LC:\\windows\\system32\\winefile.exe

Oddly running
   winefile .\\
from the Linux command line worked fine.  So there's something
fishy going on.",430,"0"
"WINE-31370","Full screen functionality broken in full screen programs","Any programs which able to switch full screen is broken in full screen mode.
As soon as it tries to switch in full screen and configured to displayed in desktop it switch to window with decorations and panel other it.

Regression test showed:
401d12085bc897e973badee3260aa41389c63c8e is the first bad commit
commit 401d12085bc897e973badee3260aa41389c63c8e
Author: Henri Verbeet 
Date:   Fri Jul 13 12:53:11 2012 +0200

    winex11: Fix the virtual desktop check in update_desktop_fullscreen().

:040000 040000 7715ae1558216506b568d995076bf091e820d245 b518dc4d5c0d54f8038b9a57e6b3cdc774f595f5 M      dlls",14,"0"
"WINE-28737","shell32: invalid free in BrsFolderDlgProc in func_brsfolder in make brsfolder.ok?","While running make brsfolder.ok in shell32/tests valgrind complains:

fixme:shell:BrsFolder_OnCreate flags BIF_NEWDIALOGSTYLE partially implemented
Invalid free() / delete / delete[]
   at  notify_free (heap.c:262)
   by  RtlFreeHeap (heap.c:1748)
   by  IMalloc_fnFree (ifs.c:262)
   by  CoTaskMemFree (ifs.c:411)
   by  SHFree (shellole.c:330)
   by  BrsFolderDlgProc (brsfolder.c:462)
   by  ??? (in dlls/user32/user32.dll.so)
   by  call_dialog_proc (winproc.c:263)
   by  WINPROC_CallDlgProcW (winproc.c:1045)
   by  DefDlgProcW (defdlg.c:425)
   by  ??? (in dlls/user32/user32.dll.so)
   by  call_window_proc (winproc.c:242)
   by  WINPROC_call_window (winproc.c:899)
   by  call_window_proc (message.c:2211)
   by  send_message (message.c:3084)
   by  SendMessageW (message.c:3264)
   by  TREEVIEW_SendTreeviewNotify (treeview.c:502)
   by  TREEVIEW_SendExpanding (treeview.c:3213)
   by  TREEVIEW_Expand (treeview.c:3374)
   by  TREEVIEW_WindowProc (treeview.c:3549)
   by  ??? (in dlls/user32/user32.dll.so)
   by  call_window_proc (winproc.c:242)
   by  WINPROC_call_window (winproc.c:899)
   by  call_window_proc (message.c:2211)
   by  send_message (message.c:3084)
   by  SendMessageW (message.c:3264)
   by  BrsFolderDlgProc (brsfolder.c:275)
   by  ??? (in dlls/user32/user32.dll.so)
   by  call_dialog_proc (winproc.c:263)
   by  WINPROC_CallDlgProcW (winproc.c:1045)
   by  DefDlgProcW (defdlg.c:425)
   by  ??? (in dlls/user32/user32.dll.so)
   by  call_window_proc (winproc.c:242)
   by  WINPROC_call_window (winproc.c:899)
   by  call_window_proc (message.c:2211)
   by  send_message (message.c:3084)
   by  SendMessageW (message.c:3264)
   by  DIALOG_CreateIndirect (dialog.c:694)
   by  DialogBoxParamW (dialog.c:870)
   by  SHBrowseForFolderW (brsfolder.c:1129)
   by  SHBrowseForFolderA (brsfolder.c:1092)
   by  test_selection (brsfolder.c:344)
   by  func_brsfolder (brsfolder.c:364)
   by  run_test (test.h:556)
   by  main (test.h:624)
 Address 0x7f012958 is 0 bytes inside a block of size 14 free'd
   at  notify_free (heap.c:262)
   by  RtlFreeHeap (heap.c:1748)
   by  WineEngInit (freetype.c:1349)
   by  DllMain (gdiobj.c:582)",5,"0"
"WINE-9011","incorrect dup() behavior","I consider it incorrect although I may be wrong about this. The following
program returns 1 on Windows but 3 on Wine:

#include 
int main(int argcchar **argv) {
        close(1)
        fprintf(stderr%d\ndup(2))
        return 0
}

An exception was made in msvcrt_free_fd() to avoid using file handles < 3 for
dup(). Is it really necessary?",269,"0"
"WINE-6947","CSpy/Tab: Tabs are in the wrong order","In CSpy's Tab application the tabs are in the wrong order. (See screenshot)",504,"0"
"WINE-12513","Cepstral SwiftTalker changes font when modifying a different option","1. Install Cepstral SwiftTalker along with a voice (Callie in the URL listed above)
2. Run c:\Program Files\Cepstral\bin\swifttalker.exe

The text is displayed in a normal weight font (it looks like Courier New).

3. Select Tools->Options
4. Press OK

The text is now in an italic weight. If you go to Tools->Options and select the Display / Font tab the font is Courier New Italic and there is no Courier New in the list.

Why is SwiftTalker not finding Courier New when it appears to be using it fine on first install?",267,"0"
"WINE-36655","valgrind shows an unitialized variable in mountmgr.sys/device.c (d3d9/tests/d3d9ex.c)","==6715== Thread 4:
==6715== Syscall param writev(vector[...]) points to uninitialised byte(s)
==6715==    at 0x431A82C: writev (writev.c:54)
==6715==    by 0x7BC7FE0B: send_request (server.c:213)
==6715==    by 0x7BC7FF9D: wine_server_call (server.c:294)
==6715==    by 0x5B66A38: put_message_in_queue (message.c:3141)
==6715==    by 0x5B66DE9: send_inter_thread_message (message.c:3209)
==6715==    by 0x5B670CA: send_message (message.c:3277)
==6715==    by 0x5B67511: SendMessageTimeoutW (message.c:3414)
==6715==    by 0x5B692FD: bcast_childwindow (message.c:4265)
==6715==    by 0x5B9B07A: EnumDesktopWindows (win.c:3336)
==6715==    by 0x5B6967E: bcast_desktop (message.c:4315)
==6715==    by 0x5BA9587: EnumDesktopsW (winstation.c:454)
==6715==    by 0x5B697DB: bcast_winsta (message.c:4329)
==6715==    by 0x5BA8CFB: EnumWindowStationsW (winstation.c:238)
==6715==    by 0x5B69B06: BroadcastSystemMessageExW (message.c:4398)
==6715==    by 0x5B698F9: BroadcastSystemMessageW (message.c:4350)
==6715==    by 0x5710683: send_notify (device.c:186)
==6715==    by 0x571214A: add_dos_device (device.c:812)
==6715==    by 0x570F70C: udisks2_add_device (dbus.c:479)
==6715==    by 0x570F90D: udisks2_add_devices (dbus.c:517)
==6715==    by 0x570FEC6: dbus_thread (dbus.c:717)
==6715==  Address 0x599e5ce is on thread 1's stack
==6715==  Uninitialised value was created by a stack allocation
==6715==    at 0x571062B: send_notify (device.c:178)
==6715==",1659,"1"
"WINE-11201","Dungeon Siege v.1.11.1462 crashes after intro sequence","Created attachment 10270
Backtrace from winedbg

Dungeon Siege patched to the latest verion (1.11.1462) crashes immediately after the opening intro sequence.

The crash occurs both with an emulated desktop and full screen and the backtrace is the same. This with a clean .wine and default settings.",12,"0"
"WINE-19755","Open Watcom 1.8's binw/wcc.exe complains Not enough memory on exec","The dos compiler wcc.exe fails to start.
To repeat:
 $ sh winetricks openwatcom
 $ wine c:\\WATCOM\\binw\\wcc
Not enough memory on exec

The related app owcc starts ok:
$ wine c:\\WATCOM\\binw\\owcc
Usage: owcc [-?] [options] file ...",782,"0"
"WINE-40303","Control Data passed in DIALOGEX Resource passes pointer with offset sizeof(WORD)","Created attachment 53942
Sourcecode for a test program

When DIALOGEX Resources contain Custom data like in:

DEFPUSHBUTTON OK IDOK 148 6 50 14 { 1 2 3 4 5 }

The pointer passed in WM_CREATE is two bytes higher than in windows. In Windows (Tested with Vista an Windows 7 64-Bit) it Points to the Number of Words in Wine it points to the first data byte.

Microsoft Specs for this stuff are here:

https://msdn.microsoft.com/de-de/library/windows/desktop/ms645389%28v=vs.85%29.aspx

Attached file dialogtest.zip is sourcecode for a test program with a simple custom control that displays the passed control data.

Bug is in Version 1.6.2 (Debian Jessie) and 1.9.5 (Last Download).

My suggestion for a patch:

--- wine-1.6.2.orig/dlls/user32/dialog.c
+++ wine-1.6.2/dlls/user32/dialog.c
@@ -2347 +2348 @@ static const WORD *DIALOG_GetControl32(
             TRACE(\n)
             TRACE(  END\n )
         }
-        info->data = p + 1
+        info->data = p
         p += GET_WORD(p) / sizeof(WORD)
     }
     else info->data = NULL",932,"1"
"WINE-12892","Winedbg crashes on a simple mingw binary","Created attachment 12598
Crashy file

A simple one-line null pointer cross-compiled with i586-mingw32msvc-gcc -g -O2 crashes winedbg after it is trying to get a backtrace. If I strip the file it will work.",3,"0"
"WINE-28979","monochrome bitmap printing problem","I have a test program which prints out a monochrome and colored bitmap and some text. It prints outs the monochrome image inverted and non inverted. 
On windows this test app works as expected it prints black drawings with white background on none inverted page white pixels and black background on inverted pages. I tested this with PDFCreator and a real HP laserjet compatible printer.  

Running this application on wine shows coloring problems (see appended screenshots). 

I have verified that this is not an os related problem by running this test on two different opensuse linux machines one with running version 11.2 and the other opensuse 11.4. On both machines this problems occurs with slightly different wrong colors (green on the other machine) 

I created the appended pdf files on both machines using a generic postscript level 2 printer driver and converted it to pdf with ps2pdf. 

Binaries source and wine log with WINEDEBUG=+all of the related test program are also appended.  The related gdi commands are located in the source at PrintThread.cpp:AddContentToPage()

To print start the app press  enter 7 then enter  and 

Content of appended testcase.zip 

GdiPrintSample-bin.zip
GdiPrintSample-patched.zip
output-windows.pdf
output-wine.pdf
wine_debug.bz2",1,"0"
"WINE-18434","Unhandled page fault while using gecko to browser a URL","Created attachment 21037
partical output with WINEDEBUG=+all option

I am using Gentoo Distro 32bit configuration. I tested 1.1.15 1.1.17 to 1.1.21. All of them have this bug. 

Everytime I do the test I remove my .wine folder and /usr/share/wine folder.",492,"0"
"WINE-33616","secur32: assertion failure in libgcrypt when loding a page (wine iexplore)","Created attachment 44498
Log with +ieframe+secur32

Using wine iexplore to navigate to

https://developer.mozilla.org/en-US/demos/detail/bananabread

produce an assertion failure in libgcrypt just after 
004b:trace:secur32:schan_QueryContextAttributesW context_handle 0x22ed298 attribute 0x53 buffer 0x467d63c

(when pasting the url with http a redirection to https occur)


To get the log the 32bit iexplore.exe.so must be used:
- when using the 64bit iexplore winedbg failed to catch the crash
  the page loads with lots of different failures and later winedbg crash
  (that's for a different bug)

- when calling iexplore with the target url IEMain is called with an
  ANSI string as URL (that's for a different bug)

-- 
By by ... Detlef",642,"0"
"WINE-31533","Copy from Onenote 2010 to linux native or even wine apps fails","Hello All

I am using Wine 1.5 and have installed Microsoft office 2010 X86 version. The problem is that when I copy something from onenote and try to paste on linux application i.e gedit open office or even on Wine apps i.e MS word ONENOTE crashes and restarts.

This makes it impossible to copy anything (mainly text) from ONENOTE to any other app. Same bug has been reported before (Bug 18242) for ONENOTE 2007 but it is abandoned at this moment.

It is because of this bug smoothly working ONENOTE becomes unusable. Strange this is but no such problem occurs with other products such as MS word presentation 2010.

I hope that this bug is fixed ASAP.

Thanks

Atul",2103,"1"
"WINE-19438","Formula Broomstick crashes on startup in d3dxof","With wine-1.1.26-183-gc6570a5 when launching Formula Broomstick the application crashes with a backtrace in d3dxof. The relevant traces are attached.",221,"0"
"WINE-36065","PunkBuster service tests fail (DeleteService should mark active services in SCM database as pending for deletion)","Hello folks

although not really a problem because of the state of PunkBuster (bug 9685) it still highlights a Wine bug.

PunkBuster service components test tool: http://www.evenbalance.com/index.php?page=pbsvcfaq.php

--- snip ---
...
Checking PnkBstrK driver status    NOT FOUND
Extracting new PnkBstrK to:
   C:\users\focht\Application Data\PnkBstrK.sys
                                   OK
Sending load packet to PnkBstrB    SENT
Checking PnkBstrK driver status    NOT FOUND
Manually stopping PnkBstrB         FAILED - no handle
--- snip ---

Relevant part of trace log:

--- snip ---
$ WINEDEBUG=+tid+seh+loaddll+service+relay wine ./pbsvc.exe >>log.txt 2>&1
...
0044:Call advapi32.CreateServiceA(00135c480041e168 PnkBstrK0041e168 PnkBstrK000f01ff0000000100000003000000010041b000 C:\\windows\\system32\\drivers\\PnkBstrK.sys0000000000000000000000000000000000000000) ret=004078e5
0044:trace:service:CreateServiceA 0x135c48 PnkBstrK PnkBstrK
0044:trace:service:CreateServiceW 0x135c48 LPnkBstrK LPnkBstrK 
...
0016:trace:service:svcctl_CreateServiceW (LPnkBstrK LPnkBstrK 0xf01ff LC:\\windows\\system32\\drivers\\PnkBstrK.sys) 
...
0016:Call advapi32.RegCreateKeyW(0000002400119aa0 LPnkBstrK0084e4a8) ret=7edeb767
0016:Ret  advapi32.RegCreateKeyW() retval=00000000 ret=7edeb767
0016:Call advapi32.RegSetValueExW(000001307edf93c4 LDisplayName00000000000000010011a89000000012) ret=7edeb689
0016:Ret  advapi32.RegSetValueExW() retval=00000000 ret=7edeb689
...
0016:trace:service:scmdatabase_add_service 0x11a950 
...
0044:Ret  advapi32.CreateServiceA() retval=001f6108 ret=004078e5
0044:Call advapi32.CloseServiceHandle(001f6108) ret=004078f8
0044:trace:service:CloseServiceHandle 0x1f6108 
...
0044:Ret  advapi32.OpenServiceA() retval=001f55c8 ret=00407901
0044:Call advapi32.StartServiceA(001f55c80000000000000000) ret=0040793b
0044:trace:service:StartServiceA (0x1f55c80(nil))
0044:trace:service:StartServiceW 0x1f55c8 0 (nil) 
...
0042:trace:service:svcctl_StartServiceW (0x118d38 0 (nil)) 
...
0042:Call KERNEL32.CreateProcessW(00000000001191a0 LC:\\windows\\system32\\winedevice.exe PnkBstrK00000000000000000000000000000400005400000000000000c4e4c800c4e50c) ret=7edece8f
...
000d:Call KERNEL32.__wine_kernel_init() ret=7bc5a402
...
0042:Ret  KERNEL32.CreateProcessW() retval=00000001 ret=7edece8f 
...
0042:trace:service:service_send_start_message LPnkBstrK (nil) 0 
...
000d:trace:service:service_run_main_thread Starting 1 services running as process 71 
...
0025:trace:service:service_control_dispatcher got request 1 for service LPnkBstrK
0025:trace:service:SERV_OpenServiceW 0x119790 LPnkBstrK 32768 
...
0025:trace:service:SERV_OpenServiceW returning 0x11ac48
0025:trace:service:service_handle_start LPnkBstrK argsize 10 
...
0034:Call advapi32.RegisterServiceCtrlHandlerExW(00115292 LPnkBstrK7edfc61f00000000) ret=7edfc86c
0034:trace:service:RegisterServiceCtrlHandlerExW LPnkBstrK 0x7edfc61f (nil)
0034:Ret  advapi32.RegisterServiceCtrlHandlerExW() retval=0011a918 ret=7edfc86c
0034:Call advapi32.SetServiceStatus(0011a9180053e97c) ret=7edfc8c9
0042:trace:service:service_wait_for_startup 0x11a950
0034:trace:service:SetServiceStatus 0x11a918 30 2 0 0 0 0 2710
...
0016:trace:service:svcctl_SetServiceStatus (0x11aed8 0x11adc4) 
...
0044:Ret  advapi32.StartServiceA() retval=00000001 ret=0040793b 
...
0034:Call driver init 0x100033c0 (obj=0x7edff4c0str=L\\Registry\\Machine\\System\\CurrentControlSet\\Services\\PnkBstrK) 
...
0034:Call advapi32.SetServiceStatus(0011a9180053e97c) ret=7edfc8f8
0034:trace:service:SetServiceStatus 0x11a918 30 4 5 0 0 0 2710 
...
0044:Call advapi32.DeleteService(00137f70) ret=00407549
0044:trace:service:DeleteService (0x137f70) 
...
0016:trace:service:scmdatabase_remove_service 0x11a950
0016:Call advapi32.RegDeleteTreeW(0000002400119aa0 LPnkBstrK) ret=7edebbce
0016:Ret  advapi32.RegDeleteTreeW() retval=00000000 ret=7edebbce 
...
0044:Ret  advapi32.DeleteService() retval=00000001 ret=00407549 
...
0043:Call advapi32.OpenServiceA(00137f200041e168 PnkBstrK000f01ff) ret=00407510
0043:trace:service:OpenServiceA 0x137f20 PnkBstrK 983551
0043:trace:service:SERV_OpenServiceW 0x137f20 LPnkBstrK 983551 
...
0016:trace:service:svcctl_OpenServiceW (LPnkBstrK 0xf01ff) 
...
0043:trace:service:SERV_OpenServiceW returning (nil) 
...
0043:Ret  advapi32.OpenServiceA() retval=00000000 ret=00407510 
...
--- snip ---

The tool extracts installs and starts the kernel service.
Meanwhile the tool issues a request to mark the service for deletion - kind of auto-cleanup.
After that it starts polling of the service status to check if the service is actually running (it is).

The problem: Wine doesn't implement the deferred deletion of active services and removes the service entry while the service is alive (state 'running').
All subsequent service lookup/status requests fail because the entry is now missing from database.

MSDN: http://msdn.microsoft.com/en-us/library/windows/desktop/ms682562%28v=vs.85%29.aspx

--- quote ---
DeleteService function

Marks the specified service for deletion from the service control manager database.

...
The DeleteService function marks a service for deletion from the service control manager database. The database entry is not removed until all open handles to the service have been closed by calls to the CloseServiceHandle function and the service is not running. A running service is stopped by a call to the ControlService function with the SERVICE_CONTROL_STOP control code. If the service cannot be stopped the database entry is removed when the system is restarted.
--- quote ---

While you're at it ... please add a TRACE to DeleteService():

http://source.winehq.org/git/wine.git/blob/929d9fb9f79b9ba0b7392215e51a152ec709d62c:/dlls/advapi32/service.c#l1086

I used the 'service' debug channel first and lost some time because I didn't see the the service deletion part (it's only visible if one uses the heavy relay gun).
This would be consistent with other TRACE messages for service API.

Regards",50,"0"
"WINE-29081","Drag and Drop: Duplicate entries in winamp playlist window","Created attachment 37475
Wine log for xdnd

Operating System: Kubuntu 10.04 LTS with KDE 4.4.5 / i386 / nvidia grafics driver

Bug is related to winamp a windows music player (www.winamp.com). Other applications may be affected by this bug.

Problem:
Every File drag and dropped to the playlist-window of winamp will duplicated. It generates double entries for every file dropped to the playlist-window.

Version of wine:
This bug has been introduced since version 1.3x. In wine 1.2 everything is fine.

Details:
If you drag drop a file to the main window of winamp no duplicate entries will be generated. But if you drop a file to the playlist-window (a window within the winamp application) you will get two entries (duplicated). So it seems to me that the bug is connected to how the drag drop code specifies the target window.


Wine trace (WINEDEBUG=xdnd wine winamp.exe)
last lines in wine 1.2x:
----------------------------
trace:xdnd:X11DRV_XDND_DropEvent 
trace:xdnd:X11DRV_XDND_SendDropFiles Sending WM_DROPFILES: hWnd(0x0x10056) 0x1356a4(LE:\\x.mp3)
trace:xdnd:X11DRV_XDND_FreeDragDropOp 

last lines in wine 1.3x:
----------------------------
trace:xdnd:X11DRV_XDND_DropEvent 
trace:xdnd:X11DRV_XDND_SendDropFiles Sending WM_DROPFILES: hWnd(0x0x101e0) 0x1abe6c(LZ:\\home\\angel\\Desktop\\x.mp3)
trace:xdnd:create_stream_from_map size 4096
trace:xdnd:XDNDDATAOBJECT_QueryGetData (0x68a29320 0x7adbb4={.tymed=0x1 .dwAspect=1 .cfFormat=49326}
trace:xdnd:XDNDDATAOBJECT_QueryGetData application didn't find UniformResourceLocator
trace:xdnd:XDNDDATAOBJECT_QueryGetData (0x68a29320 0x7adba0={.tymed=0x1 .dwAspect=1 .cfFormat=15}
trace:xdnd:XDNDDATAOBJECT_QueryGetData application found CF_HDROP
trace:xdnd:XDNDDATAOBJECT_GetData (0x68a29320 0x7adba0 0x7adbd8)
trace:xdnd:XDNDDATAOBJECT_GetData application is looking for CF_HDROP
trace:xdnd:XDNDDATAOBJECT_QueryGetData (0x68a29320 0x7adba0={.tymed=0x1 .dwAspect=1 .cfFormat=15}
trace:xdnd:XDNDDATAOBJECT_QueryGetData application found CF_HDROP
trace:xdnd:X11DRV_XDND_DropEvent drop succeeded
trace:xdnd:X11DRV_XDND_FreeDragDropOp 

It seems that with wine 1.3 new code for a better drag and drop functionality has been introduced. But also leading to a bug with duplicate entries.

Maybe someone can fix this? Would be nice :-)",1363,"1"
"WINE-20554","Populous 3 fails to start","Created attachment 24514
Console output with the bad commit

Populous 3 begins qith wine 1.1.39 but fails with wine 1.1.32. I hav3e made a regression test and I have found out that 

6b8753185f30197047773af6a26eafd34d45367c is first bad commit
commit 6b8753185f30197047773af6a26eafd34d45367c
Author: Roderick Colenbrander 
Date:   Sat Sep 26 14:52:46 2009 +0200

    winex11: Add support for 16-bit/32-bit DIB sections.

:040000 040000 f2d2821909d152a1d37ae2932bf6017d7b622344 74221a3bdd0b8be716ed4c7900a58fddc93a2f08 M	dlls

Find attached the console output of populous 3 with the bad commit.",714,"0"
"WINE-38220","Chemcraft crashes","Created attachment 51020
Chemcraft crash backtrace

After upgrading wine from 1.7.33 to 1.7.38 Chemcraft_b405 (http://chemcraftprog.com/files/Chemcraft_b405_win.exe) doesn't start anymore.

I try bisecting following http://wiki.winehq.org/RegressionTesting.
Git says that f16cf541068831074a6891688d947f0ce32abdd9 comit is the first bad commit. I try ot revert this commit but it's failed because of some commits with this code was made.

Also I reproduce this crash with the current git wine (ed92458754ce21b4d4719168515866fc1bb340ad).

I attach backtrace which was made by winedebugger.

P.S. Old versions of Chemcraft (b382 and below) works with wine-1.7.38.",6,"0"
"WINE-5760","Save As Open dialog windows show blank field when dealing with .mus .mid files","While using Finale 2005 the save as dialog and similar ones like it show just
a blank space in the Files of type field but only when saving a file or
trying to load a file of any type.

Interestingly when exporting a file as a .wav or .mp3 the Files of type list
is populated despite the fact that wineconsole's output shows that the same
function is being used.

Given that it's not a crash I'll only be attaching wineconsole's output
especially since Finale 2005 won't load while running WINEDEBUG.",1566,"1"
"WINE-19081","Force closing winhlp32 without a file loaded pops up an error dialog (appinstall)","Created attachment 22023
ahk test

A bit hard to explain...but launching 'wine winhlp32' with no arguments open wine help along with a file open dialog. That's all well and good same as windows. Now let's get tricky. Force the winhlp32 window to close (not the file open dialog). On windows exits with no problems. On wine pops up a dialog:
ERROR
Cannot find ''. Do you want to find this file yourself?

I'll attach an AHK script to show what I mean...If you want to verify on windows change 'Wine' to 'Windows'.",2469,"1"
"WINE-18652","Battlefield 2: Doesn't close cleanly","Created attachment 21367
First and second error

I'm using Wine 1.1.22 (compiled from source using gcc version 4.3.2 20081105 (Red Hat 4.3.2-7) ) on Fedora 10 i386.

ORM=fbo
GFX=NVIDIA 9xxx (drivers 185.18.10)
Emulate a virtual desktop 1024x768

The problem is that Battlefield 2 (Deluxe version patched to v1.41) doesn't close cleanly. I get two errors (attachment) one after another no matter if i choose Continue Try again or Cancel

steps to reproduce:
1) start Battlefield 2 by wine BF2.exe +menu 1 +fullscreen 1
2) press quit
3) get errors",311,"0"
"WINE-3270","Problem with minimized top-level windows","When running PokerStars client app (downloadable from PokerStars.com 3M
download size) in 'Managed' mode (default) main window often becomes not only
minimized but also resized to 1x1 pixel without any option to restore it back.
With Managed=N or Desktop parameter the problem doesn't occur doesn't
occur either under CrossOver. Problem reported for Gnome/KDE/xfce. 

Steps to reproduce:
- download client from pokerstars.com (3M) install client as 
'wine PokerStarsInstall.exe' (goes smooth)
- start client (should be started from the same directory where .exe resides - 
either as wine PokerStarsUpdate.exe or as wine PokerStars.exe) main window
will be shown. 
- double-click on any table in the list table will be opened and main window
will be minimized (and in fact sized to 1x1). 
- Now click on 'Leave Table' button on the table this table window will be
closed but main window will stay 1x1 sized and won't ever be restored. 
- There is a wierd workaround  (at least under Gnome seems to exist under other
managers either) - if _before_ closing the table window you will click on
main-window-image-in-taskbar once (to remove 1x1 window 'moving' it to the
taskbar) closing table window will restore main window properly.",986,"1"
"WINE-25660","Half-Life 1 Demo: The selected D3D mode is not supported by your video card.","Half-Life 1 Demo or full game says The selected D3D mode is not supported by your video card. Steps to reproduce:

 * install the demo
 * (optional speed-up) rename media/intro.avi to media/intro.avix
 * Menu -> Configuration -> Video modes -> (tab) Direct3D -> (choose) 1024x768
 * New Game -> The selected D3D mode is not supported by your video card


1. I did a regression test between 1.3.6 and 1.3.7:

commit 7661e8986c7bed0a6735f04d6be660cf0f6a7ed0
Author: David Adam 
Date:   Wed Nov 3 07:10:54 2010 +0100

    ddraw: Exclusive mode is the corner case for SetCooperative not the normal mode.

2. No other bug report suffers from this commit.

3. Revert of this patch after git checkout makes that problem go away.

4. Adding author of this patch to CC.


--private keyword: bisected",358,"0"
"WINE-17720","Pefect World MS crashes when minimized","When/if i ever minimize the game it crashes on me. Literally will crash or freeze. This error wasn't encountered in windows so i'm guessing it's something with WINE. If screen is minimized it'll crash or freeeze everytime. It never fails.",545,"0"
"WINE-35678","Defiance patcher crashes on start (gdiplus/GdipDrawImagePointsRect)","Backtrace:
=>0 0x7e5541e4 GdipDrawImagePointsRect+0xe14(graphics= image= points= count= srcx= srcy= srcwidth= srcheight= srcUnit= imageAttributes= callback= callbackData=) [/home/austin/wine-git/dlls/gdiplus/graphics.c:2943] in gdiplus (0x0033bf68)
  1 0x7e555432 GdipDrawImageRectRectI+0x181(graphics= image= dstx= dsty= dstwidth= dstheight= srcx= srcy= srcwidth= srcheight= srcUnit= imageAttributes= callback= callbackData=) [/home/austin/wine-git/dlls/gdiplus/graphics.c:3130] in gdiplus (0x0033c038)

Appears to only happen on first run.",35,"0"
"WINE-37373","No Limits 2: Help files fails to show text. Needs Times New Roman or dwrite ability to use font replacements","Created attachment 49699
Teminal output

In No Limits 2 roller coaster simulator when the help file is viewed no text is displayed only images.
A demo of the program is available: http://www.maddata.com/nolimits2/download02/NoLimits_Demo_Install.exe.

I have attached a copy of the terminal output I believe the problem is related to the final three lines of the output (those lines appear when I click on help in the program.)

To Duplicate the bug install the program launch the program on the main menu click Help.
This is a regression.  This bug does not appear in wine version 1.7.12.
This problem is present in both the 32 and 64 bit versions.
I have been spending the last couple of weeks attempting to run a regression test.  I have attempted the test many times running wine in both 32 and 64 bit.  I can get a good install of wine64 compiling from source.  However every time I try to run the bisect I have a problem similar to this one: https://forum.winehq.org/viewtopic.php?p=76960.

I will be happy to get the regression test done if I can get a bisected version of wine to run.",493,"0"
"WINEHQ_APPS_DATABASE-18664","Merging an application with itself causes all child objects to be deleted","Just happened with this app:
http://appdb.winehq.org/objectManager.php?sClass=application&iId=9759

Rosanne had processed this app just before I opened it to process.  The result being that the appdb found a duplicate entry: but it was the same app.
(Carelessly) I merged the app with itself this deleted all versions and test data.

A number of possible solution:
1. Apps shouldn't find themselves as duplicates (identifiable by their numeric ID).
2. An error message should appear when attempting to merge an app with itself.
3. It certainly shouldn't delete all objects at a bare minimum.

Better yet of course:  Once an app is processed attempting to process it again should report an error and fail e.g. App already processed.",32,"0"
"WINE-10464","Regression when installing Skype","Created attachment 9184
Log of install

Installing Skype fails with current GIT. Regression testing shows:

bb747e4fbe6619fa0e862102cc26456118355c67 is first bad commit
commit bb747e4fbe6619fa0e862102cc26456118355c67
Author: James Hawkins 
Date:   Thu Nov 15 02:58:21 2007 -0600

    msi: Simplify ready_media.

:040000 040000 4427bd29ebdf6f67f29a9711cf050cdd4c1c2881 9e465b06f84804eee325a6a15c0727c54af395ae M      dlls

I've attached the log with a clean .wine and only running winecfg before trying the install. (Skype doesn't work on W2K/XP but that's another issue). It looks like it's basically the same bug as bug 10463 although a different patch is mentioned there.",3,"0"
"WINE-10065","MSN Messenger Doesn't Show New Conversation Windows","Created attachment 8623
This is what the console shows when the error happens.

When someone talk to you and you haven't open a window whit that person the window is not showed. You had to open a window with all your contacst until you find the one who write you.",144,"0"
"WINE-36544","The Weather Channel Desktop App for Windows fails to install","Created attachment 48639
Backtrace text file

When attempting to open and install the app an error occurs stating missing files. 

http://www.weather.com/mobile/win7desktop/installer/twcsetup.exe

Lubuntu 14.04
GNOME v3.8.4
Kernel 3.13.0.-27-generic",259,"0"
"WINE-19082","Missing pixels in the widgets","Created attachment 22026
Buttons affected

In almost all the controls in Wine there are a missing pixel in the corners that maybe it's a little detail but it can make a huge difference in how the applications looks. You can check the issue on the attached screenshots. (If you don't see the problem you just have to zoom in the image.)",298,"0"
"WINE-19303","Sketchup 7 shows toolbars and menus but work area is blank","Created attachment 22349
Sketchup started using the command in the Sketchup icon

I am attempting to run Sketchup7 from Wine 1.1.25 under Ubuntu 9.04 (Gnome). I have installed winetricks and done the OPEN-GL fix.

Sketchup loaded under Wine but when running the program while the toolbars and menus all display correctly the work area remains blank (black). The cursor displays in the work area but when you draw with it there aren't any lines.

I assumed this was a problem which required the use of a new graphics card until last week when after downloading lots of updates Sketchup began to work the correct way the display was white with the axis lines showing. I decided I wanted a different template so I changed it and re-started Sketchup. After re-starting the work area was once again blank (black).",1817,"1"
"WINE-10233","TCM_GETCURFOCUS returns negative value","Hello

Before patch

Author: Hagop Hagopian 
Date:   17-03-2007 19:16:08
Parent: comctl32: tab: Added message sequence tests for the tab c...
Child: winex11.drv: In the case requested glyphs do not present...
Branch: master (d3drm: Implement D3DRMCreateColorRGB.) 
Follows: wine-0.9.33 (Release 0.9.33.)
Precedes: wine-0.9.34 (Release 0.9.34.)
    comctl32: tab: Minor bug fixes in the curSel and curFocus getters and setters.

The TCM_GETCURFOCUS messages refused to return negative values. This seems to be the correctly M$ Windows behavior. With the patch if the tab is not already rendered TCM_GETCURFOCUS returns -1. 

0009:Ret  window proc 0x4eb6b7
(hwnd=0x10056msg=TCM_GETCURFOCUSwp=00000000lp=00000000)
retval=ffffffff",1,"0"
"WINE-23784","Ballistic (Paddle) game - mouse pointer leaves the game's Window when it shouldn't","To start playing the game you right-click then move the horizontal paddle with your mouse.  Your mouse is NOT supposed to leave the window until you right-click again.

I thought I'd post this bug report for anyone using Wine to run these classic Windows 3.1 16-bit games.

I have tried going into Wine configuration and ticking Allow DirectX apps to stop the mouse leaving their window but that doesn't work.  I don't think 16-bit games like ballistic use DirectX?",371,"0"
"WINE-7846","Counter Strike 1.6 : Sound desync","Using default OpenGL engine and sound defaults with OSS there is a sound
desynchonisation in CS 1.6.",127,"0"
"WINE-41140","gcc6: comctl32 build warnings","Created attachment 55346
comctl32/listview.c log

With Debian's gcc update new warnings appeared.",1,"0"
"WINE-27501","atlas.ti fails open any project file due to lack in ole32 implementation","Every time I try to open project file in Atlas.ti by Scientific Software it ends with Access Violation error. It has something to do with:

fixme:storage:PropertyStorage_ReadProperty unsupported type 8

So PROPVARIANT 8 is undeclared/unsupported within PropertyStorage_ReadProperty located in wine-1.3.22/dlls/ole32/tests/propvariant.c

Is it possible to add support for property type 8 in wine's ole32.dll implementation?",1035,"1"
"WINE-42355","Artifacts in GTAIV appear and disappear when driving","Created attachment 57123
Screenshot of the artifact

When you enter a car and they try driving you'll sometimes notice strange artifacts appear. They fade in then sometimes persist for several frames and then disappear. See screenshots attached.

This is a regression introduced by the following commit. In this version the artifacts appear not too often  I have to play for about a minute until I notice one. In wine-2.0-235-g2dd0fb8 they appear after about 10 seconds of driving in the game.

602a23a60aaab164acb8a2767094d545172ab4cf is the first bad commit
commit 602a23a60aaab164acb8a2767094d545172ab4cf
Author: Henri Verbeet 
Date:   Fri Jan 27 11:36:31 2017 +0100

    wined3d: Just use glBufferSubData() in buffer_direct_upload().
    
    It might seem like a good idea to try to use glMapBufferRange() in
    buffer_direct_upload() but it really isn't. The interesting cases for
    glMapBufferRange() are GL_MAP_INVALIDATE_BUFFER_BIT or
    GL_MAP_UNSYNCHRONIZED_BIT but the only way for those to be set here
    would be for the buffer to be mapped with WINED3D_MAP_DISCARD or
    WINED3D_MAP_NOOVERWRITE before the buffer object was created. In that
    case the GPU is obviously not using the buffer object so
    glMapBufferRange() doesn't help. On the other hand if the buffer is
    currently in use by the application and neither WINED3D_MAP_DISCARD nor
    WINED3D_MAP_NOOVERWRITE is set glMapBufferRange() would need to wait
    for the GPU to finish using the buffer object while glBufferSubData()
    may decide not to.
    
    Signed-off-by: Henri Verbeet 
    Signed-off-by: Alexandre Julliard 

:040000 040000 259531ef529ef96cbec7388bca99af40efaa9874 3e0b99a8b0fba782ad69ed0a8e00d2a64c363ae3 M      dlls",13,"0"
"WINE-11754","Access violation running application from NAVIGON","Created attachment 11011
stderr running wine fresh.exe

After sucessfull install of NAVIGON fresh i try to open the program but get an Access violation.

NAVIGOB fresh is downloadable from NAVIGON.COM",938,"1"
"WINE-29733","Notepad: replace dialog is popup when press backspace","To reproduce just using wine notepad to open notepad then press Backspace.
expect result is delete a character but in wine notepad a replace dialog popup such as Ctrl+h is pressed.


regression.


eaa8fad52eda4f7a33782f08929aae4f52037bb6 is the first bad commit
commit eaa8fad52eda4f7a33782f08929aae4f52037bb6
Author: Alexandre Julliard 
Date:   Tue Jan 24 14:20:05 2012 +0100

    notepad: Add message contexts for accelerators that can be translated.

:040000 040000 fa5bb6a48b483cf8b3b3a1faa8b6a65ccfad824c 9f10dfe2fe2d9336f82cb57298e98f11671e01a5 M      po
:040000 040000 b8f0a515c86e3dd75c2b0a9f20eed3dde5e05368 6d7011520825a511ad9337a90f2c947b419b7b17 M      programs",2,"0"
"WINE-24711","AV Voice Changer Software Diamond 7.0 (VcsCore.exe) crashes on startup","AV VCS 7.0 Gold does not work in this version of wine.

This bug report is being filed by an Ubuntu user but the owner of the laptop is less knowledgeable therefore if you need any further debugging information or logs please request them but it may take up to 2 weeks for a response.

Thank you guys.",1396,"1"
"WINE-15802","Turok 1.0.1.363: Mouse move does not work.","Turok 1.0.1.363: Game play is ok but only with cursor keys move. Mouse move does not work. Mouse click is ok.",1256,"1"
"WINE-5928","Timeless Time and Expense 3.0: bad fields in calendar/time entries","You can download a time limited version of this program for testing at:
http://www.magsoftwrx.com/  << Select the Personal version.

Installed fine including a shortcut on the desktop.

http://pastebin.ca/128075 << terminal output with default settings and files

replaced comclt32.dll via instructions via IRC support.

http://pastebin.ca/128082 << terminal output with replaced file. Program did not
launch.
http://www.magsoftwrx.com/screens.htm << that is what it's supposed to look
like. Here is what it looks like >>
http://img205.imageshack.us/my.php?image=screenshotgl1.png

Since times can't be put in this stops use of the program all together. Other
than the missing calendars on the main window and lack of time entry
everything else seems to work fine.",2765,"1"
"WINE-28823","riched20/tests/editor.ok: TRACE() of uninitialized value triggered by test_word_movement()?","Valgrind complains:

 Conditional jump or move depends on uninitialised value(s)
    at _itoa_word (_itoa.c:196)
    by vfprintf (vfprintf.c:1619)
    by vsprintf (iovsprintf.c:43)
    by sprintf (sprintf.c:34)
    by default_dbgstr_wn (debug.c:374)
    by NTDLL_dbgstr_wn (debugtools.c:107)
    by wine_dbgstr_wn (debug.c:421)
    by debugstr_wn (debug.h:257)
    by ME_WordBreakProc (string.c:183)
    by ME_CallWordBreakProc (string.c:214)
    by ME_MoveCursorWords (caret.c:741)
    by ME_ArrowKey (caret.c:1579)
    by ME_KeyDown (editor.c:2110)
    by ME_HandleMessage (editor.c:4028)
    by RichEditWndProc_common (editor.c:4499)
    by RichEditWndProcA (editor.c:4524)
    by ??? (winproc.c:172)
    by call_window_proc (winproc.c:242)
    by WINPROC_call_window (winproc.c:908)
    by call_window_proc (message.c:2211)
    by send_message (message.c:3084)
    by SendMessageA (message.c:3286)
    by send_ctrl_key (editor.c:4665)
    by test_word_movement (editor.c:5952)
  Uninitialised value was created by a client request
    at mark_block_uninitialized (heap.c:208)
    by initialize_block (heap.c:239)
    by RtlAllocateHeap (heap.c:1703)
    by heap_alloc (editor.h:30)
    by ME_MakeStringB (string.c:39)
    by ME_MakeStringN (string.c:46)
    by ME_InsertRunAtCursor (run.c:372)
    by ME_InternalInsertTextFromCursor (caret.c:467)
    by ME_InsertTextFromCursor (caret.c:541)
    by ME_HandleMessage (editor.c:3565)
    by RichEditWndProc_common (editor.c:4499)
    by RichEditWndProcA (editor.c:4524)
    by ??? (winproc.c:172)
    by call_window_proc (winproc.c:242)
    by WINPROC_call_window (winproc.c:908)
    by call_window_proc (message.c:2211)
    by send_message (message.c:3084)
    by SendMessageA (message.c:3286)
    by test_word_movement (editor.c:5947)",1037,"1"
"WINE-24452","FurMark doesn't exit","Steps to reproduce:

1) Install FurMark
2) Run FurMark
3) Quit button doesn't work window manager X button doesn't work.",224,"0"
"WINE-11755","MediaMonkey 3.0.2 Error initializing Media Player","In the release version of MediaMonkey the program throws a Error during player Initialization dialog during startup.  The program will not play mp3's.",303,"0"
"WINE-10521","make test crashes msvcrt/tests/heap.c...","The msvcrt heap test has been consistently crashing on my computer since the following commit:
commit  a1e4758f076190dbef7d06f9e10241d0aabe3788
Author: Dan Kegel 
Date:   Tue Nov 6 16:52:19 2007 -0800
It crashes with WINEDEBUG= (access to 0x04030205) and WINEDEBUG=warn+heap (access to 0x55555559) and an assertion aborts the program with WINEDEBUG=+heap.
It crashes when compiling (GCC 4.1.1 from Debian stable) the whole Wine DLLs programs and executables with -O0 -O2 and -O3 so that is probably not due to a compiler optimization screwup.


I've been discussing the issue for a while with Dan and he is able to reproduce the problem.
However all commit a1e4758f... does is fixing two memory leaks. Therefore neither of us feels that the change in this commit should cause a crash. There may be a problem somewhere else. Since it touches the heap subsystem I'm putting severity to major.


While commenting tests in order to reduce the testcase by looking at the traces I found that a crash can be triggered (but not reproducably...) with the single:
test_aligned_realloc(256 512 16)
(everything before and after this line being commented).
Strange.


Attached is a tarball I sent to Dan which contains:
* a script to run the test in various situations. Compilation is not part of the script if you want to run Valgrind you have to edit the location of valgrind to match the location of Wine-improved Valgrind ( http://wiki.winehq.org/Wine_and_Valgrind )
* traces created by the script
* I noticed that a 'invalid arena magic' warning is triggered by warn+heap before the crash occurs so I made a trivial patch that adds printing of the invalid arena magic values.
I think it helps debugging the issue by showing the exact kind of overwrite that occurred: 1-byte 2-byte 4-byte which bytes of the arena are affected etc.
With warn+heap (crash) the arena magic is 0x00555555.
With +heap (assert failed) the arena magic is 0x55555555.",8,"0"
"WINE-41489","notepad++ escape key","Created attachment 55865
showing the esc character

When using notepad++ 
press a key for menu (left mouse click  or  with keyboard)
than press escape (esc)
menu disappears 

the problem is that where the cursor stands a strange character appears  as marking that esc was pressed",239,"0"
"WINE-33958","wine programs crash with joystick connected (OS X)","I have a original XBOX controller and use a third-party driver (which is officially discontinued since OS X Tiger but was updated some time ago to be 64bit compatible. It is the only driver out there for XBOX 1 controller for OS X so I have to use it.
This driver seems to mess up the UNIX device manager (or similar as I don't have any consolidated knowledge) resulting in crashing any wine process accessing the controller as a input device.

I get the following error message (repetitive) from the console whenever the controller is connected:

sudo[4755]:   [CURRENT_USER] : TTY=unknown  PWD=/  USER=root  COMMAND=/usr/bin/renice [#] -p [#]

Although this issue does not seem to be related to wine itself it reveals some vulnerability (I think).
It may be worth fixing as this might occur this other devices too.

Best
Rastafabi",288,"0"
"WINE-19554","Men of War crashes on boot","Created attachment 22783
crash log

The game crashes just after the intro videos and before the 'Loading' window comes up.

This is a regression that was broken with this commit:

commit 40565211fb70bff4b1622570a6b11edd646c00bd
Author: Henri Verbeet 
Date:   Mon Jun 29 10:11:23 2009 +0200

    wined3d: Prevent GL calls from DestroyContext() if we failed to make the GL context current.

    This can happen if the window is destroyed before the device is released.

:040000 040000 9ea4ffa5fa3865f84b854623d40ccf25829078a4 f9899f5fd0a869d682581ee44349784aa982872a M      dlls",35,"0"
"WINE-5483","Installshield fails with the Pro evolution soccer 3 demo","With this demo Installshield begins to copy the first files and then stops. A
window appears with the (translated from french...) text:
Transfer error
Error:-5 Path %s not found 

Here is the console output

Joaopa

PS:I use the cvs dated of 2006-06-20.",4,"0"
"WINE-2620","notes 6.5.1 fails when trying to switch ID in windows modes other than win98","When activating menu item Switch User ID notes 6.5.1 crashes with NSD (notes 
debugger) running. It happens in these windows emulation modes: nt40 
win2k3 winxp. In mode win98 however notes does NOT crash and 
successfully switches the ID.

I've placed archive with wine config run options and output logs of failed 
(nt40win2k3winxp) and successful (win98) runs of Switch ID here:

http://geocities.com/spytar/notes_switchid.tgz",609,"0"
"WINE-13647","DSM Plugin for UltraVNC 1.0.4 Doesn't Work","Created attachment 13629
relay log

The plugin allows the connection to be encrypted. When selecting the DSM plugin and trying to connect you receive an error Connection Failed - Error Reading Protocol Version. The plugin can be found at ...

http://msrc4plugin.home.comcast.net/~msrc4plugin/

A relay log is attached. A few key lines I noticed from a brief look at the log for anything obvious...

0009:Ret  rsaenh.CPImportKey() retval=00000000 ret=7eb91d13
0009:Ret  advapi32.CryptImportKey() retval=00000000 ret=10001f3d
0009:Call KERNEL32.MultiByteToWideChar(000000000000000010009ea8 Error importing key.ffffffff0000000000000000) ret=7df81852

My guess is this is wine trying to import the rc4.key file the plugin uses. Is this a crypt related issue?",523,"0"
"WINE-27874","Configure detects no Sound System","Configure prints the warning:

No sound system was found. Windows applications will be silent.

This is as far as I can see a typo within the configure script.
On line 11748 it should be '$COREAUDIO' not '$COREAUDIOLIBS'.
With that change wine compiles fine and outputs sound.

As this is my first time to file a bug I have no idea how to file a patch... so I apologize for that.",2,"0"
"WINE-14228","Strip off double quotes from path before trying to load COM servers (Microsoft Device Emulator 3.0/Device Emulator Manager)","Hello

after getting past:

http://bugs.winehq.org/show_bug.cgi?id=5351 (winetricks volnum)

and the minor nuisance 

http://bugs.winehq.org/show_bug.cgi?id=11936 (installer window size too small)

it gets installed.
When trying to run Device Emulator Manager it fails to load the COM server.

--- quote ---
wine ./dvcemumanager.exe 
fixme:heap:HeapSetInformation (nil) 1 (nil) 0
err:ole:CoGetClassObject class {74ad2302-a606-428e-b40f-f04b8964adb6} not registered
err:ole:CoGetClassObject no class object {74ad2302-a606-428e-b40f-f04b8964adb6} could be created for context 0x1
fixme:advapi:RegisterTraceGuidsW 0x406377 0x432ac0 0x4033e0 1 0x32ddf0 (null) (null) 0x432ac8
err:ole:COMPOBJ_DllList_Add couldn't load in-process dll L\C:\\Program Files\\Microsoft Device Emulator\\1.0\\DeviceEmulatorProxy.dll\
err:ole:create_server class {063e2de8-aa5b-46e8-8239-b8f7ca43f4c7} not registered
fixme:ole:CoGetClassObject CLSCTX_REMOTE_SERVER not supported
err:ole:CoGetClassObject no class object {063e2de8-aa5b-46e8-8239-b8f7ca43f4c7} could be created for context 0x17
--- quote ---

The double quotes around the path *are* part of the key and cause the failure when trying to load the proxy (LoadLibraryExW with altered search path).

This works in Windows.

Best place to strip off double quotes before passing the path further is probably COM_RegReadPath() in dlls/ole32/compobj.c

Regards",517,"0"
"WINE-31505","AVR Studio 4.18 SP2 (build 700) crashes during build of projects","Created attachment 41421
Chrash log

Problem with building and debugging. AVR Studio crushes.",538,"0"
"WINE-24402","winegcc does not properly pass cmdline args e.g. -Wb--as-cmd=as --32","When trying to build a simple test.c file with winegcc winegcc fails to properly pass over commandline arguments to winebuild.

test.c only contains an emtpy main function. In practise this error was verified with the vst plugin of lmms.

Test cmdline: 
winegcc test.c -o test -m32 -Wb--as-cmd=as --32--ld-cmd=ld -melf_i386

Resulting output:
winebuild: as --32 failed with status 1
winegcc: winebuild failed

Another testcase

Cmdline:
winegcc test.c -o test -m32 -Wb--as-cmd=as --ld-cmd=ld 

Output:
winebuild: as  failed with status 1
winegcc: winebuild failed

Running the same first cmdline with the -v option reveals the error:

winegcc test.c -o test -m32 -Wb--as-cmd=as --32--ld-cmd=ld -melf_i386 -v

-----
gcc -m32 -fshort-wchar -DWINE_UNICODE_NATIVE -D_REENTRANT -fPIC -DWIN32 -D_WIN32 -D__WIN32 -D__WIN32__ -D__WINNT -D__WINNT__ -D__stdcall=__attribute__((__stdcall__)) -D__cdecl=__attribute__((__cdecl__)) -D_stdcall=__attribute__((__stdcall__)) -D_cdecl=__attribute__((__cdecl__)) -D__fastcall=__attribute__((__fastcall__)) -D_fastcall=__attribute__((__fastcall__)) -D__declspec(x)=__declspec_##x -D__declspec_align(x)=__attribute__((aligned(x))) -D__declspec_allocate(x)=__attribute__((section(x))) -D__declspec_deprecated=__attribute__((deprecated)) -D__declspec_dllimport=__attribute__((dllimport)) -D__declspec_dllexport=__attribute__((dllexport)) -D__declspec_naked=__attribute__((naked)) -D__declspec_noinline=__attribute__((noinline)) -D__declspec_noreturn=__attribute__((noreturn)) -D__declspec_nothrow=__attribute__((nothrow)) -D__declspec_novtable=__attribute__(()) -D__declspec_selectany=__attribute__((weak)) -D__declspec_thread=__thread -D__int8=char -D__int16=short -D__int32=int -D__int64=long long -D__WINE__ -c -o test-5hFdhw.o -m32 -v test.c -isystem/usr/include/wine/windows 


STRIPPED

 /usr/lib/gcc/x86_64-unknown-linux-gnu/4.5.1/cc1 -fpreprocessed /home/armin/.ccache/tmp/test.tmp.Armin-Lappy.24225.i -quiet -dumpbase test.tmp.Armin-Lappy.24225.i -m32 -mtune=generic -march=x86-64 -auxbase-strip /home/armin/.ccache/8/f/e763402f4ba107ebe0a46887176150-5354.o.tmp.Armin-Lappy.24225 -version -fshort-wchar -fPIC -o /tmp/cc1MonbO.s

STRIPPED

winebuild -v -fno-asynchronous-unwind-tables -m32 -D_REENTRANT -fPIC --exe -o test.exe-mBoapU.spec.o -F test.exe --subsystem console -L/usr/lib/wine -L/usr/lib -L/usr/lib -L/usr/local/lib -L/lib --as-cmd=as --32 --ld-cmd=ld -melf_i386 -- test-5hFdhw.o 
as --32 --32 -o test.GRCnmk.o test.QLV4hW.s
winebuild: as --32 failed with status 1
winegcc: winebuild failed
------

The error lies in $WINESRC/tools/winegcc/winegcc.c lines 1360 and following. Winegcc assumes that the command line arguments remain quoted as shown in the cmdline above but instead winegcc receives the following as 4th arg --as-cmd=as --32 (as verified with a simple program just outputting the args) so actually the quotes get lost and need to be manually filled in if winegcc starts a script running winebuild. Franky I don't know too much of the process used here.


Attached is a chatlog between me and A. Hentschel.",1001,"1"
"WINE-25476","MS Office Pro 2010 Trial: setup.exe is started when starting installed apps","To reproduce:
1. Download the trial from Microsoft
2. Install it without customizing. The default install includes Outlook.
3. Try to run Word Excel or Powerpoint the installer will start up while the app is loading.
4. If you wait the installer will eventually crash.

If Outlook is not installed this does not happen.",362,"0"
"WINE-19014","Casino Club crashes when typing in login-box","Created attachment 21912
data that is written to .xsession-errors

Casino Club software crashes when attempting to enter username/password (or when trying to login with a saved username/password)

The crash happens immediately so you don't have to register to reproduce the crash.

Version 1.1.21 and previous versions work fine 1.1.22 and 1.1.23 both crash

Setup for the casino-program is available at the URL above installation runs smooth without any (reported) problems.
After initial setup it prompts to download data for offline use (roulette or slot-machine.. games) - no problem so far.

After installation is complete the login-screen shows up with text-entry boxes to input username and the password.

Try to enter something into the user-name box  crash.
logs/back trace attached.",1,"0"
"WINE-6430","many objects in EVE Online appear to have some texture problems","The object textures in EVE Online have lines in them sometimes.
See the planet on the screenshot.",152,"0"
"WINEHQ_BUGZILLA-3431","Unable to change Assigned To field as submitter should be able to?","Although I am the submitter of http://bugs.winehq.org/show_bug.cgi?id=3429
 I cannot change the assigned to field although the error I get when I attempt
to do so suggests that the submitter should be able to change it.

The email at http://www.winehq.org/pipermail/wine-devel/2005-September/040041.html
suggests that it should be reassigned.",679,"0"
"WINE-1060","Mouse cursor disappears occasionally","Bug comments restored from Gmane.org: 
 
A recent CVS change causes the mouse pointer to randomly disappear during 
drawing operations in Xnews v5.08.12.  It's tricky to reproduce but I can 
usually do it by moving the mouse pointer over the MDI window tabs at the 
bottom while a newsgroup is refreshing in the active window.  Switching in and 
out of the application or between MDI windows a few times will usually bring it 
back until it happens again.  I've traced the problem to this patch 
 
specifically the 
file windows/syscolor.c.  Version 1.34 of SYSCOLOR_MakeObjectSystem has the 
problem 1.33 does not. 
 
In order to use Xnews at all with the latest CVS it may be necessary to 
temporarily roll back to version 1.143 of dlls/comctl32/listview.c due to bug# 
1041. 
 
 
------- Additional Comments From prupe  myrealbox.com  2002-10-07 17:56 ------- 
Fixed in syscolor.c 1.35. 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2003-03-26 
15:39 ------- 
Closing",5,"0"
"WINEHQ.ORG-8227","Broken link on front page to X.org","The link within the first paragraph and in the following text is broken:

'Wine is an Open Source implementation of the Windows API on top of X and Unix.'

It points to a 404 page.

Perhaps this would be a better link:

http://en.wikipedia.org/wiki/X_protocol",7,"0"
"WINE-35343","dialog windows are too large","Sometimes windows are created much larger than they should be. I've noticed this in an installer and also in wordpad's exit without saving confirmation dialog. Easiest way to reproduce:

1. Open wordpad.
2. Type some things.
3. Click the x button to close wordpad.
4. Click Cancel on the dialog.
5. Repeat steps 3 and 4 until the dialog appears larger than normal.

I think this was not the case in 1.7.10 (will retest) and only really appeared in git today or yesterday. I will try to do a bisect.",1040,"1"
"WINE-12486","Microsoft Office Standard 2007 installation failure","Created attachment 12047
console error messages

The installation does not crash but does not continue with an error message about missing or corrupted files. The message is in (Brazilian) Portuguese bt says something like:
-----
Installation Error(Window Title)

Installation cannot continue because a required file is corrupted or unavailable. Execute the installation again from the source disk or download place(?or site?).
-----
Tested on Ubuntu Hardy Heron Beta with wine 0.9.59. strangely bugzilla only lists up to 0.9.58.",109,"0"
"WINE-35466","Can't paste into search dialog of notepad","Doesn't happen in wordpad but in notepad!

open notepad
write test
select and copy it or copy text from somewhere else
open the search dialog e.g. with Ctrl+F
press Ctrl+V
   expected text to be in the search editcontrol
   but text appears in the notepad window
if you right-click the editcontrol and select paste it works...",136,"0"
"WINE-29774","Texture filtering doesn't work in nGlide","Created attachment 38665
NFS: Porsche Unleashed as it works with nGlide

When I run games such as Mortal Kombat 4 or Need for Speed: Porsche Unleashed using nGlide Glide wrapper there is no texture filtering. Textures look pixelated as if it were sotware rendering.",2222,"1"
"WINE-15374","The Witcher - Game cannot be registered","Created attachment 16223
Output of wine during the reigstering process

I tried to register the game using the launcher. It did not work. Things that you have to do to register it:

1. Log into the website (http://thewitcher.com)
2. Log into the launcher with the same account

At step 2 the process fails. After loggin in and entering the CD key the application complains that you should log into the website if you are you should make sure that Internet Explorer has cookies enabled and redo the procedure. I double checked that I was logged in and that FireFox had cookies enabled. Still the same failure.
Now I took ies4linux and did it with this. It did not work. Same for Opera (native and wine).

The terminal provided a bit of output but I don't think that it can be of some importance:
When entering a key into a textfield the following line is displayed once per keypress:
>err:x11drv:X11DRV_CreateBitmap Trying to make bitmap with planes=1 bpp=24

At the end when the failed message pops up the following lines are displayed:
>fixme:wininet:INET_QueryOption INTERNET_OPTION_SECURITY_FLAGS: Stub
>fixme:wininet:InternetSetOptionExW Flags 00000000 ignored
>fixme:wininet:InternetSetOptionW Option INTERNET_OPTION_SECURITY_FLAGS STUB

The lines beneath this mentioned appeared by closing the launcher.
The whole error output is attached to this report.",18,"0"
"WINE-28862","cannot download watchtower library 2010","I have an application from Softpedia which purports be allow one to run Watchtower Library on a Mac but it does not work.  After I downloaded the Watchtower CD when I try to run the program I get a encountered a serious error message.  The error message also suggested that I report the bug to winehq.",757,"0"
"WINE-36302","valgrind shows several leaks in msxml3/tests/saxreader.c","Created attachment 48400
valgrind log

==30812== 32 bytes in 1 blocks are definitely lost in loss record 267 of 774
==30812==    at 0x7BC4C735: notify_alloc (heap.c:255)
==30812==    by 0x7BC50F79: RtlAllocateHeap (heap.c:1716)
==30812==    by 0x5191FF0: CreateStreamOnHGlobal (hglobalstream.c:591)
==30812==    by 0x4A8A289: test_mxwriter_stream (saxreader.c:4172)
==30812==    by 0x4A9647E: func_saxreader (saxreader.c:5613)
==30812==    by 0x4AAC96C: run_test (test.h:584)
==30812==    by 0x4AACD5B: main (test.h:654)
==30812== 

==30812== 88 bytes in 1 blocks are definitely lost in loss record 440 of 774
==30812==    at 0x7BC4C735: notify_alloc (heap.c:255)
==30812==    by 0x7BC50F79: RtlAllocateHeap (heap.c:1716)
==30812==    by 0x7B84586B: HeapAlloc (heap.c:271)
==30812==    by 0x7B8466BC: GlobalReAlloc (heap.c:693)
==30812==    by 0x5191A56: HGLOBALStreamImpl_SetSize (hglobalstream.c:381)
==30812==    by 0x4A7D5BD: create_test_stream (objidl.h:4391)
==30812==    by 0x4A7F57A: test_saxreader (saxreader.c:2430)
==30812==    by 0x4A963FA: func_saxreader (saxreader.c:5592)
==30812==    by 0x4AAC96C: run_test (test.h:584)
==30812==    by 0x4AACD5B: main (test.h:654)
==30812== 

==30812== 124 bytes in 1 blocks are definitely lost in loss record 493 of 774
==30812==    at 0x7BC4C735: notify_alloc (heap.c:255)
==30812==    by 0x7BC5161A: RtlReAllocateHeap (heap.c:1883)
==30812==    by 0x7B8458E5: HeapReAlloc (heap.c:281)
==30812==    by 0x7B846646: GlobalReAlloc (heap.c:679)
==30812==    by 0x5191A56: HGLOBALStreamImpl_SetSize (hglobalstream.c:381)
==30812==    by 0x51916F1: HGLOBALStreamImpl_Write (objidl.h:4391)
==30812==    by 0x619B3EB: write_data_to_stream (objidl.h:4384)
==30812==    by 0x619B643: flush_output_buffer (mxwriter.c:604)
==30812==    by 0x619BC78: mxwriter_Release (mxwriter.c:774)
==30812==    by 0x4A8ADD2: test_mxwriter_stream (msxml2.h:22158)
==30812==    by 0x4A9647E: func_saxreader (saxreader.c:5613)
==30812==    by 0x4AAC96C: run_test (test.h:584)
==30812==    by 0x4AACD5B: main (test.h:654)
==30812== 

etc.",605,"0"
"WINE-26795","White scrollbar background in builtin iexplore","Created attachment 34140
Screenshot

The scrollbars in Wine's iexplore.exe have a white background in 1.3.18 rather than the expected dithered grey (using default theme/color settings). My regression test indicated:

44f530275afcdde9febc06bc110631c0d5a56f77 is the first bad commit
commit 44f530275afcdde9febc06bc110631c0d5a56f77
Author: Huw Davies 
Date:   Mon Apr 11 10:00:28 2011 +0100

    gdi32: Implement SelectBrush for solid brushes.

:040000 040000 fe5cb65bd7393fd8687462e71d8d20a6f8878025 8e26d193f2547fc1bd4790b138db0d548b54312b M    dlls

Attempting to revert led to a compilation error.",2,"0"
"WINE-14861","SetDIBits crashes with overlapping src/dst rectangles on the same bitmap","Created attachment 15404
crash log

A user reported trouble with this installer in appdb. There are already 2 bugs opened for older versions of Nokia Suite  but this one seems to behave differently as it crashes right away somewhere along SetDIBits

As this looks like a regression i'm currently trying to find the evil patch",634,"0"
"WINE-30617","Assassin's Creed 2 and Revelations look in wrong place for saved games?","With Bruno Jesus we create a hack to pass the ReadFileEx error for the Ubisoft Game Launcher (see bug #28119).
I tried the hack with 3 games and they work correctly.

But for two games (Assassin's Creed 2 and Revelations) the savegame does not works correctly. The savegame folder is here : c:/users/berillions/Local Settings/Application Data/Ubisoft Game Launcher/savegame_storage/XXX/40/

These folders exist and the savegame files too but when you launch the game the savegame is not found you can only begin a new game.

This is a message that i found in my +file log :
warn:file:CreateFileW Unable to create file
LC:\\users\\berillions\\Local Settings\\Application Data/Ubisoft Game
Launcher/savegame_storage/YmVyaWxsaW9ucw==/40/2.save.extendedmeta
(status c0000034)

trace:file:CreateFileW returning 0xffffffff

I don't think that the error come from the hack for Assassin's Creed Brotherhood the savegame works correctly because the savegame files are not in the same folder. For Brotherhood the savegame can be found here : c:/users/berillions/Saved Games/Assassin's Creed Brotherhood/SAVES

I found that the error c0000034 (STATUS_OBJECT_NAME_NOT_FOUND) means file is not found.

I attached the complete +file log.",149,"0"
"WINE-17253","Luka: exits soon after start","The game Luka und das geheimnisvolle Silberpferd v1.0.1 is affected by a regression introduced in
commit e016d2ec5e38a4128840d5444225a2ecfaead5de
Author: Alexandre Julliard 
Date:   Wed Jan 14 20:20:14 2009 +0100
    kernel32: Remove the DIB section hack in WriteFile now that NtWriteFile takes care of it.
5 lines of code in dlls/kernel32/file.c

Prior to it it would start fine. Since then it exits soon after start reporting fifty thousand times the following error:
err:wgl:X11DRV_wglGetPixelFormatAttribivARB (0x220): unexpected iPixelFormat() vs nFormats(16) returns FALSE",149,"0"
"WINEHQ_APPS_DATABASE-38168","Keyword field unused","The maintainer guidelines indicate that Keywords are used by the search engine but this does not seem to be true.  The application Pony Art CD (https://appdb.winehq.org/objectManager.php?sClass=version&iId=31453) has the keyword horses set but the term does not appear (singular or plural) in its description version description or test results.  It is not listed when searched for with the WineHQ search box Google directly or the AppDB search (https://appdb.winehq.org/objectManager.php?sClass=application&bIsQueue=false&bIsRejected=false&sTitle=Browse%20Applications&iItemsPerPage=25&iPage=1&iappFamily-appNameOp0=2&sappFamily-appNameData0=horses).

Either this needs to be fixed or the field removed and maintainer guidelines updated accordingly.",848,"1"
"WINEHQ_APPS_DATABASE-30358","Add 1.4.* to stable branches","1.4 is recent enough that it is still showing on the dropdown list of versions for test reports but it needs to be added to the list of stable versions that always display or it will drop off the list in a few weeks.",68,"0"
"WINE-5670","Ubuntu package doesn't work with Diablo II on Battle.net","I can't get Diablo II to work in the Battle.net. When I try to join a 
Battle.net Game everything seems to work fine at first but after one or two  
seconds in the game i get a message saying Ihre Verbindung wurde 
unterbrochen 
(german for Your connection was interrupted).",83,"0"
"WINE-42965","BeamNG.drive 0.9.x crashes on unimplemented function api-ms-win-core-memory-l1-1-2.d.CreateFileMappingW","Created attachment 58099
backtrace logs from wine crash

I'm using Early Access BeamNG.drive-0.9.0.5.4267 downloaded from HumbleBundle and using wine v2.6 via wineskin.",2,"0"
"WINE-11","StrokePath ignores PS_JOIN_xxx","Test program: Chap04/endjoin in the Petzold 95 (Programming Windows 95)

This example draws three 'V' formed of two segments each. Each V has a different
type of end (PS_CAP_xxx) and a different type of joint (PS_JOIN_xxx). StrokePath
takes PS_CAP_xxx into account but ignores PS_JOIN_xxx.

See also:
 * http://fgouget/wine/PrgWin95/Chap4.shtml#endjoin
and
 * http://fgouget/wine/PrgWin95/endjoin-win95.gif
    A screenshot of what it's supposed to look like",1694,"1"
"WINE-20290","Crash when opening Splinter Cell Pandora Tomorrow or Chaos Theory's multiplayer mode","Created attachment 23976
Wine output

When opening Splinter Cell Pandora Tomorrow's multiplayer mode (c:\Program Files\UBISOFT\Splinter Cell Pandora Tomorrow\online\System\shadowstrike_static_retail.exe) the splash screen of the game shows up but crashes a few seconds later.
Interestingly doing the same with Splinter Cell Chaos Theory yields the same result: the splash screen is shown for a few seconds then it crashes.
The terminal also says the same error in both cases:
wine: Unhandled page fault on read access to 0x00000000 at address 0x7e525377 (thread [something])

Tried in a clean Wine prefix for both and installing various winetricks stuff didn't change anything.

Since the servers for Splinter Cell Pandora Tomorrow have been taken offline and support has been halted the game's multiplayer mode isn't really worth a lot right now (only LAN mode works). In such circumstances would it be acceptable to upload it somewhere for devs to download it? The multiplayer part of the game is a standalone package free of CD protection and everything.

Using Wine 1.1.30 on Kubuntu 9.04 64-bit with unpatched Wine 32-bit from the prepackaged .deb repo although the crash has happened with every version of Wine I had the occasion of using (Wine 1.1.8 to 1.1.30).",1,"0"
"WINE-11917","Parallel port printing problem (missing flow control?)","http://www.winehq.org/pipermail/wine-users/2008-March/029601.html
and
http://www.winehq.org/pipermail/wine-users/2008-March/029648.html
say that printing directly to a dot-matrix printer
by writing directly to LPT1 works if you write one
byte at a time but fails with missing chars if you
write many bytes at a time.",0,"0"
"WINE-5267","Regression: regedit crashes when trying to edit a string value with theming enabled.","With latest git and 0.9.13 regedit crashes with enabled theming. This worked 
fine with 0.9.11. The interesting part of the backtrace (yes I should better 
attach it but it's only 6 lines)

Unhandled exception: page fault on read access to 0xffff0024 in 32-bit code 
(0xffff0024).
Backtrace:
=>1 0xffff0024 (0xffff0024)
  2 0x7e968b36 subclass_proc0+0x77(wnd=0x20032 msg=0x14 wParam=0x254 
lParam=0x0) [dlls/comctl32/theming.c:89] in comctl32 (0x7e968b36) 
[...]

This didn't happen in 0.9.11. The regression test will follow although I 
assume it's related to one of the patches starting with 
http://source.winehq.org/git/?p=wine.gita=commith=98658699020ab3bb04da2a2d2959c7cd709fa7a4",6,"0"
"WINE-44245","Gray / black screen on Android 8+","Created attachment 60040
Gray screen on OnePlus 3T

After running Win3.0 RC3 first unpacking then writes Setting up windows environment.
After that the gray screen (as in the screenshot).

Android version: 8.0.0
OhygenOS version: OP3T_0.2_Open_19",326,"0"
"WINE-18207","Installation of the Children of the Nile demo 3 crashes","Created attachment 20701
console output

Installing the demo 3 of Children of the nile crashes at the end.
This does not prevent to play the demo though.",505,"0"
"WINE-38198","Colin McRae Rally 2005 crashes at start","Game crash at begins using clean prefix",605,"0"
"WINE-23945","Textures are not properly rendered in Deus-Ex:Invisible War","In menu and in game console spams:
fixme:d3d:state_wrap (WINED3DRS_WRAP0) Texture wrapping not yet supported.
The game runs very slow unplayable. 
I've also noticed short moments when everything is upside-down - just when moving the mouse.
It makes the game unplayable.",1049,"1"
"WINE-13519","Master of Orion 3 shows black screen","Created attachment 13447
console output

After start the game shows black screen instead of menu. Mouse cursor can be moved and as the mouse moves the sound indicates that different interface elements become active as the cursor points on them but nothing is displayed. The screen remains black all the way. The console output is attached.",182,"0"
"WINE-5915","Application gets crashed when I press enter in combobox (While Cursor is present in combo)","When list box of combo box is expanded no crash occurs when I press enter. When
list box of combo box isnt expanded and cursor is present in combo box and I
press enter Application crashes. 

I tried to debug the wine code and could find the place from where crash
occurred. It is coming from /home/ravinder/winecode/wine-0.9.16/dlls/user/edit.c


case WM_GETDLGCODE:

                 result = DLGC_HASSETSEL | DLGC_WANTCHARS | DLGC_WANTARROWS
                
                 if (es->style & ES_MULTILINE)
                 {
                   result |= DLGC_WANTALLKEYS
                   break
                }

               if (lParam && (((LPMSG)lParam)->message == WM_KEYDOWN))
                {
                   int vk = (int)((LPMSG)lParam)->wParam

                   if (es->hwndListBox && (vk == VK_RETURN || vk == VK_ESCAPE))
                   {
                      if (SendMessageW(GetParent(hwnd) CB_GETDROPPEDSTATE 0 0))
++		{
++			       MessageBoxA(NULLINSIDE IF LOOP EDIT MB_OK)
                result |= DLGC_WANTMESSAGE
++		}
++		else
++		{
++			//Some Code is missing to handle this situation when list box of combo box
isnt expanded.
++                }
                }
                 break


I tried sending different messages from this place like WM_KILLFOCUS but crash
inst being avoided. In one case crash stops when I remove the  
                    if (SendMessageW(GetParent(hwnd) CB_GETDROPPEDSTATE 0 0))
and put directly 
                result |= DLGC_WANTMESSAGE under
if (es->hwndListBox && (vk == VK_RETURN || vk == VK_ESCAPE))
But in this case focus isnt lost.

I made a test case but I wasnt able to simulate the issue in test case. I have
attached the screenshot of the issue and log generated with channel as edit and
combo.",685,"0"
"WINE-14522","Spellforce has bad quality ground textures","Like the title says.
This is likely due some LOD malfunction.
The ground which is farther from the players view looks more detailed and high res this leads me to the conclusion that the LOD of the game operates the exact opposite what it should. Also this explains the slowness of the game. With ground I mean the grass and hills which are basically just one big surface. However the textures of the buildings and trees which are complex 3d models are looking great.

In the console there are some of these messages:
fixme:d3d:WineD3D_ChoosePixelFormat Add OpenGL context recreation support to SetDepthStencilSurface
fixme:d3d_surface:IWineD3DSurfaceImpl_LoadTexture (0x175d58d8) Operation not supported for scratch textures",2375,"1"
"WINE-28171","Text Service and Input Languages crash: Unimplemented function imm32.dll.ImmGetHotKey","Created attachment 36091
Log: unimplemented function imm32.dll.ImmGetHotKey

1. copy native input.dll sptip.dll and sapi.dll

2. regsvr32 sptip.dll for class {dcbd6fa8-032f-11d3-b5b1-00c04fc324a1}
regsvr32 sapi.dll for class {a910187f-0c7a-45ac-92cc-59edafb77b53}

3. import keyboard_layouts.reg with regedit which is download from
http://www.geekstogo.com/forum/index.php?app=core&module=attach&section=attach&attach_id=25945
( referer url:
http://www.geekstogo.com/forum/topic/222396-cant-change-language-settings-for-keyboard/
)


4. start the Text Service and Input Languages :
$ wine control input.dll

(notes: without step 3 there will be an incompatible keyboard driver
detected error and the input.dll control panel can not display complete I'm
not sure if it this a wine bug) 

5. click Key settings then crash:
fixme:msvcrt:_setmbcp trail bytes data not available for DBCS codepage 0 - assuming all bytes
fixme:msctf:InputProcessorProfiles_GetLanguageList Semi-STUB:(0x13afd0)
wine: Call from 0x7b83a537 to unimplemented function imm32.dll.ImmGetHotKey aborting",154,"0"
"WINE-30170","Afterburner 3D: screen not drawn properly (orm=fbo)","Created attachment 39373
terminal output (orm=fbo)

Now that bug #8433 has been fixed the game can get past the initial loading screen without crashing but the screen is not refreshing after the loading screen is displayed. You can hear audio playing and various text is displayed (overwritten) on the loading screen.
At some point menu options appear at the bottom of the screen and you can start a new game by pressing . You can hear audio from the game but the screen is still showing the corrupted loading screen.

Setting OffscreenRenderingMode to backbuffer acts as a workaround. One of the drawbacks of this setting is that the opening screens showing the graphic card and input setup are displayed upside down. Once the game begins to load the screen is displayed normally.
Performance is abysmal when you start a new game but I don't know if this is due to the backbuffer setting.

Fedora 16
Nvidia 250 / driver 290.10
X.Org X Server 1.11.4",1258,"1"
"WINE-4445","CPU usage causes Diablo II game to lose sync with self","When hosting a TCP/IP game with Diablo II the game switches to the Your  
connection has been interrupted screen when too much CPU is used by outside  
processes.  This happens when hosting a game so there is no external network  
connection to interrupt although the game uses net sockets to communicate  
with itself when hosting. 
 
http://appdb.winehq.org/commentview.php?appId=74&versionId=315&threadId=10525",582,"0"
"WINEHQ.ORG-29259","wrong info on download page for Debian binary packages","on page http://www.winehq.org/download/ I find for Debian binary packes:

  Download Debian packages - binary .debs for Debian Lenny Squeeze and Sid

but on the linked pages (http://www.winehq.org/download/debian and indirectly http://dev.carbon-project.org/debian/wine-unstable/) and via personal communication with the maintainer Kai Wassenbch I learned that there the only packages available are for Sid none for Squeeze nor for Lenny.

So please adjust the entry for Debian binary packages on the main download page http://www.winehq.org/download/ to reflect the status.

BTW: Debian Squeeze repositoriers provide only vintage Wine 1.0.1-3.1

--
  Bernhard",556,"0"
"WINE-18900","Wineserver crashes starting Team Fortress 2","Created attachment 21742
Backtrace and additional info

With current git & Steam updates wineserver crashes when starting Team Fortress 2:

Program terminated with signal 11 Segmentation fault.
#0  0x08072893 in wake_thread (thread=0xf8) at ../../wine.git/server/thread.c:604
604         for (count = 0 thread->wait count++)",4,"0"
"WINE-28259","Jedi Knight demo crashes in ddraw","Created attachment 36211
terminal output

This bug (regression) appeared a couple of days ago in git and it prevents bug #28157 from testing.

Symptom: The demo crashes right after starting in Wine's ddraw component.

This is caused by

76fecde8fb2d335e4855bec6d36ffe16cbed04f3 is the first bad commit
commit 76fecde8fb2d335e4855bec6d36ffe16cbed04f3
Author: Stefan Dsinger 
Date:   Fri Aug 26 14:22:40 2011 +0200

    ddraw: Introduce a function to convert a DDSURFACEDESC to a DDSURFACEDESC2.

:040000 040000 5e597610866aded4d579f3406fb158e950e740c3 5bffaefddf571ab094cca924f12bc5544ade8c1b M	dlls

Fedora 15 x86
Nvidia gfx card / driver 280.13",5,"0"
"WINE-25098","BrainSplode! crashes with Unimplemented function d3dx9_36.dll.D3DXCreateTextA","Crashes when clicking the menu in game with
wine: Call from 0x7b837342 to unimplemented function d3dx9_36.dll.D3DXCreateTextA aborting",103,"0"
"WINE-13469","cmd can't handle long input (buffer overflow)","Python doesn't work correctly when it have to make system calls with long strings.
For example:
> wine python.exe
> import os
> os.system(asdpoasid*1000)

The same trouble happens when calling very long urls with the webbrowser module (with the open function)",295,"0"
"WINE-1966","Pull down menus don't display correctly in Sharpeye","Downloaded SharpEye from www.visiv.co.uk.

All menus have XM infront of them e.g. XMFile instead of File which the author
of SharpEye says must be a problem with Wine.",721,"0"
"WINE-23214","WM Desktop Alert crashes immediately after being run without native gdiplus","Right after being run the WM Desktop Alert crashes before it can fetch the latest deal from the site or display any kind of notification",33,"0"
"WINE-34815","iexplore hotmail.com needs IHTMLFrameBase::get_onload","Continuation from bug27694",136,"0"
"WINE-18831","Lord of the Rings Online: Mines of Moria post-processing misplaces objects","Created attachment 21634
Screenshot of what Bree looks like with post-processing and WINE 1.1.22

After updating from WINE 1.1.22 to 1.1.23 when I have post-processing enabled in Lord of the Rings Online: Mines of Moria objects do not appear as they should.

Example:
When walking away from water the water seems to replace the ground just behind me as though it were following me but flickers.

Example:
Trees in Bree appear duplicated and in the wrong place (see attached screenshots).",15,"0"
"WINE-8706","incorrect window behavior in responses to WM_MOUSEACTIVATE","I have a test program with two windows. The parent window has a custom window
procedure that handles WM_MOUSEACTIVATE. Depending on the selection in the child
window the parent window can respond to WM_MOUSEACTIVATE with: MA_ACTIVATE
MA_ACTIVATEANDEAT MA_NOACTIVATE MA_NOACTIVATEANDEAT.

On Windows with focus on the child window:
1) MA_NOACTIVATEANDEAT prevents the parent window from getting focus when the
parent window's title bar is clicked
2) MA_NOACTIVATE and MA_NOACTIVATEANDEAT prevents the parent window from getting
focus when the parent window is clicked
3) MA_ACTIVATEANDEAT and MA_NOACTIVATEANDEAT prevents the parent window from
being closed when the parent window's close (X) button is clicked

On Wine all three of these cases fail.",28,"0"
"WINE-19012","Thief 2 demo crashes on new game","Created attachment 21910
Log of Thief 2 Demo crash

Running a recent wine build (git update shortly before 1.1.24 release but after including recent fixes to repair breakage of Thief 2) the Thief 2 Demo crashes with the attached backtrace.",76,"0"
"WINE-24873","LTSPICE crashes some seconds after running a simulation","Created attachment 31482
LTSPICE IV crashes

I can open and edit Spice models and circuits without problem but when I run a circuit simulation LTSPICE IV will crash after about 10 to 30 seconds.

The simulation actually works.  I do see what I expect for some seconds.

It seems to crash faster with multiple simulation nodes but I have to say it is apparently random.  Best I've seen is about 30 seconds worst about 1 second.

attached the error message.  Please direct me to suitable logs if you require them.

regards",740,"0"
"WINE-7364","Petzold MDIdemo application shows bad focus behaviour","Modified the well known Petzold mdidemo code to bring up two child window at
startup and from the file menu you can choose which of them to bring to front
(via setfocus message).",6,"0"
"WINE-18529","Two directX bugs in XNA-based games (Infiniminer/Paddles)","Hi i saw this thread http://ubuntuforums.org/showthread.php?t=1162360 someone trying to run this game gave it a shot as well. The error-messagebox says:
-----------------------------------------------------------------------------
No suitable graphics card found.

The device creation parameters contain invalid configuration options.

This program requires pixel shader 1.1 and vertex shader 1.1. 
------------------------------------------------------------------------------


Doesn't really reveal anything. So i decided to give a simpler xna game a try: 

http://www.phstudios.com/tutorials/xna/Paddles/Paddles.zip

Running this gives a lot more info in the console:

Unhandled Exception: Microsoft.Xna.Framework.NoSuitableGraphicsDeviceException: The device creation parameters contain invalid configuration options. ---> System.ArgumentException: The selected MultiSampleQualityLevel value is invalid for the selected MultiSampleType.
   at Microsoft.Xna.Framework.GraphicsDeviceManager.ValidateGraphicsDeviceInformation(GraphicsDeviceInformation devInfo)
   at Microsoft.Xna.Framework.GraphicsDeviceManager.CreateDevice(GraphicsDeviceInformation newInfo)

So the  The selected MultiSampleQualityLevel value is invalid for the selected MultiSampleType is apparently the bug. 
That's bug one then.

I can only do stupid hacks the hack 1 attached  gets the game a bit further. It then crashes with:

Unhandled Exception: System.ArgumentException: The device name is not valid. Device names are in the form \\.\\DEVICE1
Parameter name: screenDeviceName
   at Microsoft.Xna.Framework.WindowsGameWindow.ScreenFromDeviceName(String screenDeviceName)
 
Apperently it's not happy with what wine returns for ScreenDeviceName. It expects something like \\\\.\\DISPLAY1 i think wine returns something like
\\.\\DISPLAY

With the hack/patch 2 the paddles game starts fine then.

The other Infimer game also gets further with the two patches but then halts at a sound error and still doesn't run :(. If a directx developer could have a look and fix this that'd be nice i think these bugs will affect all xna games",9,"0"
"WINE-26315","Fatal Error while launching Paintball 2","While launching Paintball 2 (http://digitalpaint.org/) a window appears which says that an error occurs and paintball2.exe must be terminated.

But the application starts normally and works fine.",578,"0"
"WINE-8064","DxO Optics Pro 4 installer doesn't display text properly","You have to install native msxml3 for this to install at all
(that's another bug) and it fails at the end because it requires
.NET 2.0 (that's another bug).

Inbetween with native msxml3 installed the installer runs well
except that it doesn't display text on the two main checkbox
lists in the installer.",592,"0"
"WINE-13803","QUIK Junior not restored child windows regression.","Created attachment 13836
Incorrectly restored window

Sorry for bad English.
I try run QUIK Junior broker client (test version) with wine 1.0-rc4 (the same result with wine 0.9.36 and highest). This is MDI Windows application.
When the parent window blocked (crosses) the child window I press the button Maximize on child window. Then I press button Restore on child window but window is not restored. This bug does not exist when I use wine version 0.9.29.

The client can be downloaded here: http://www.bcs.ru/brok_rus/quik/download/quik_v5_07_junior.zip
In the attachment there is a screenshot of incorrectly restored window.",208,"0"
"WINE-38654","Multiple games have rendering issues when anti-aliasing enabled (King's Bounty series GTA: San Andreas Tomb Raider: Anniversary)","Created attachment 51581
terminal output

When in-game anti-aliasing is enabled water is not rendered properly in the King's Bounty games. Reproducible when the player is on the adventure map and some water is nearby. When water quality is set 'normal' then water textures are completely messed up (see attached screenshot). When water quality=high then water looks a bit better but still not correct.

Can be reproduced in KB: Legends demo. The game needs native d3dx9_36.

Reverting the following commit fixes the issue:

commit 90d8896826043bdf8c294018acc663c5d6684935
Author: Stefan Dsinger 
Date:   Fri May 22 10:11:22 2015 +0200

    wined3d: Allow specifying a different depth stencil location.
    
    This is for drivers that do not support depth stencil textures but
    happily support depth stencil renderbuffers.

Rendering issues occur in GTA: San Andreas as well with that commit (noticeable when the player enters a Pizza Hut: floor textures are broken when AA enabled).

Fedora 21
Nvidia GeForce 250 GTS / binary drivers 340.76",11,"0"
"WINE-816","Direct3D - Tanarus dosen't run","Tanarus is a propietary but free game from Sony downlodable from
www.tanarus.com here is the bug_report.pl output

Auto-generated debug report by Wine Quick Debug Report Maker Thingy:
WINE Version:                Wine 20020509
Windows Version:             None Installed
Distribution:                Mandrake 8.2
Kernel Version:              2.4.18-6mdk
OS Type:                     Linux
CPU:                         i686
GCC Version:                 Configured with: ../configure --prefix=/usr
--mandir=/usr/share/man --infodir=/usr/share/info --datadir=/usr/share/gcc-3.0.4
--enable-shared --enable-threads=posix --disable-checking --enable-long-long
--enable-cstdio=stdio --enable-clocale=generic
--enable-languages=cc++f77objcjava --program-suffix=-3.0.4 --enable-objc-gc
--host=i586-mandrake-linux-gnu --with-system-zlib
Program:                     tanarus
Program Type:                Unsure
Debug Options:               -debugmsg +relay
Other Extra Commands Passed:
Extra ./configure Commands:  None
Wine Dependencies:
	libntdll.dll.so => /usr/lib/wine/libntdll.dll.so (0x40028000)
	libwine.so => /usr/lib/wine/libwine.so (0x4011c000)
	libwine_unicode.so => /usr/lib/wine/libwine_unicode.so (0x40132000)
	libm.so.6 => /lib/libm.so.6 (0x401fc000)
	libc.so.6 => /lib/libc.so.6 (0x4021e000)
	libdl.so.2 => /lib/libdl.so.2 (0x4035a000)
	/lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0x40000000)

Last 200 lines of debug output follows:
080721a0:Ret  user32.DefWindowProcW() retval=00000000 ret=406015dd
080721a0:Ret  window proc 0x40601570
(hwnd=00020023msg=WM_NCDESTROYwp=00000000lp=00000000) retval=00000000
080721a0:Call x11drv.DestroyWindow(00020023) ret=406edf7a
080721a0:Ret  x11drv.DestroyWindow() retval=00000001 ret=406edf7a
080721a0:Call window proc 0x406a6c70
(hwnd=00020022msg=WM_NCDESTROYwp=00000000lp=00000000)
080721a0:Ret  window proc 0x406a6c70
(hwnd=00020022msg=WM_NCDESTROYwp=00000000lp=00000000) retval=00000000
080721a0:Call x11drv.DestroyWindow(00020022) ret=406edf7a
080721a0:Ret  x11drv.DestroyWindow() retval=00000001 ret=406edf7a
080721a0:Call window proc 0x4069e740
(hwnd=00010025msg=WM_NCDESTROYwp=00000000lp=00000000)
080721a0:Ret  window proc 0x4069e740
(hwnd=00010025msg=WM_NCDESTROYwp=00000000lp=00000000) retval=00000000
080721a0:Call x11drv.DestroyWindow(00010025) ret=406edf7a
080721a0:Ret  x11drv.DestroyWindow() retval=00000001 ret=406edf7a
080721a0:Call window proc 0x406cccb0
(hwnd=00020021msg=WM_NCDESTROYwp=00000000lp=00000000)
080721a0:Call window proc 0x401b53
(hwnd=00020021msg=WM_NCDESTROYwp=00000000lp=00000000)
080721a0:Ret  window proc 0x401b53
(hwnd=00020021msg=WM_NCDESTROYwp=00000000lp=00000000) retval=00000000
080721a0:Ret  window proc 0x406cccb0
(hwnd=00020021msg=WM_NCDESTROYwp=00000000lp=00000000) retval=00000000
080721a0:Call x11drv.DestroyWindow(00020021) ret=406edf7a
080721a0:Ret  x11drv.DestroyWindow() retval=00000001 ret=406edf7a
080721a0:Ret  user32.DestroyWindow() retval=00000001 ret=004023da
080721a0:Call kernel32.ExitProcess(00000000) ret=004023e2
080721a0:Call PE DLL (proc=0x408aa2b4module=4089e000type=0res=0x1)
080721a0:Call kernel32.WaitForSingleObject(00000038ffffffff) ret=408a89d9
080721a0:Ret  kernel32.WaitForSingleObject() retval=00000000 ret=408a89d9
080721a0:Call kernel32.ReleaseSemaphore(000000380000000100000000) ret=408a8a18
080721a0:Ret  kernel32.ReleaseSemaphore() retval=00000001 ret=408a8a18
080721a0:Call kernel32.CloseHandle(00000038) ret=408a847f
080721a0:Ret  kernel32.CloseHandle() retval=00000001 ret=408a847f
080721a0:Call kernel32.UnmapViewOfFile(50000000) ret=408a848b
080721a0:Ret  kernel32.UnmapViewOfFile() retval=00000001 ret=408a848b
080721a0:Call kernel32.CloseHandle(00000040) ret=408a8497
080721a0:Ret  kernel32.CloseHandle() retval=00000001 ret=408a8497
080721a0:Ret  PE DLL (proc=0x408aa2b4module=4089e000type=0res=0x1) retval=0
080721a0:Call PE DLL (proc=0x409423c4module=40925000type=0res=0x1)
080721a0:Call ntdll.RtlDeleteCriticalSection(4096965c) ret=409302ab
080721a0:Ret  ntdll.RtlDeleteCriticalSection() retval=00000000 ret=409302ab
080721a0:Call ntdll.RtlDeleteCriticalSection(40969674) ret=409302b7
080721a0:Ret  ntdll.RtlDeleteCriticalSection() retval=00000000 ret=409302b7
080721a0:Ret  PE DLL (proc=0x409423c4module=40925000type=0res=0x1) retval=1
080721a0:Call PE DLL (proc=0x40987000module=4097f000type=0res=0x1)
080721a0:Ret  PE DLL (proc=0x40987000module=4097f000type=0res=0x1) retval=1
080721a0:Call PE DLL (proc=0x408d58b0module=408c4000type=0res=0x1)
080721a0:Call kernel32.IsBadWritePtr(40386efc00000048) ret=408df4e0
080721a0:Ret  kernel32.IsBadWritePtr() retval=00000000 ret=408df4e0
080721a0:Call ntdll.RtlFreeHeap(403600000000000040386efc) ret=408d58a8
080721a0:Ret  ntdll.RtlFreeHeap() retval=00000001 ret=408d58a8
080721a0:Ret  PE DLL (proc=0x408d58b0module=408c4000type=0res=0x1) retval=1
080721a0:Call PE DLL (proc=0x412f29b4module=412ed000type=0res=0x1)
080721a0:Call ntdll.RtlAllocateHeap(413000000000000000000043) ret=412f2277
080721a0:Ret  ntdll.RtlAllocateHeap() retval=4130010c ret=412f2277
080721a0:Call user32.CharLowerA(41300143 msacm32.dll) ret=412f22a8
080721a0:Ret  user32.CharLowerA() retval=41300143 ret=412f22a8
080721a0:Call advapi32.RegCreateKeyA(800000024130010c
Software\\Microsoft\\AudioCompressionManager\\DriverCache\\msacm32.dll405b490c)
ret=412f2477
080721a0:Call kernel32.GetVersion() ret=4086e1da
080721a0:Ret  kernel32.GetVersion() retval=c0000004 ret=4086e1da
080721a0:Call ntdll.RtlInitAnsiString(405b47ec4130010c
Software\\Microsoft\\AudioCompressionManager\\DriverCache\\msacm32.dll)
ret=4086e242
080721a0:Ret  ntdll.RtlInitAnsiString() retval=00000043 ret=4086e242
080721a0:Call ntdll.RtlInitAnsiString(405b47e400000000) ret=4086e252
080721a0:Ret  ntdll.RtlInitAnsiString() retval=00000000 ret=4086e252
080721a0:Call ntdll.RtlAnsiStringToUnicodeString(4011b0d8405b47ec00000000)
ret=4086e25b
080721a0:Ret  ntdll.RtlAnsiStringToUnicodeString() retval=00000000 ret=4086e25b
080721a0:Call ntdll.RtlAnsiStringToUnicodeString(405b47dc405b47e400000001)
ret=4086e270
080721a0:Ret  ntdll.RtlAnsiStringToUnicodeString() retval=00000000 ret=4086e270
080721a0:Call
ntdll.NtCreateKey(405b490c000f003f405b47f400000000405b47dc0000000000000000)
ret=4086e292
080721a0:Ret  ntdll.NtCreateKey() retval=00000000 ret=4086e292
080721a0:Call ntdll.RtlFreeUnicodeString(405b47dc) ret=4086e29a
080721a0:Ret  ntdll.RtlFreeUnicodeString() retval=00000001 ret=4086e29a
080721a0:Call ntdll.RtlNtStatusToDosError(00000000) ret=4086e2a0
080721a0:Ret  ntdll.RtlNtStatusToDosError() retval=00000000 ret=4086e2a0
080721a0:Ret  advapi32.RegCreateKeyA() retval=00000000 ret=412f2477
080721a0:Call advapi32.RegSetValueExA(00000038412f8348
cFormatTags0000000000000004413000b800000004) ret=412f2499
080721a0:Call kernel32.GetVersion() ret=4086f0b3
080721a0:Ret  kernel32.GetVersion() retval=c0000004 ret=4086f0b3
080721a0:Call ntdll.RtlInitAnsiString(405b4820412f8348 cFormatTags) ret=4086f17a
080721a0:Ret  ntdll.RtlInitAnsiString() retval=0000000c ret=4086f17a
080721a0:Call ntdll.RtlAnsiStringToUnicodeString(4011b0d8405b482000000000)
ret=4086f191
080721a0:Ret  ntdll.RtlAnsiStringToUnicodeString() retval=00000000 ret=4086f191
080721a0:Call
ntdll.NtSetValueKey(000000384011b0d80000000000000004413000b800000004)
ret=4086f1af
080721a0:Ret  ntdll.NtSetValueKey() retval=00000000 ret=4086f1af
080721a0:Call ntdll.RtlNtStatusToDosError(00000000) ret=4086f1d3
080721a0:Ret  ntdll.RtlNtStatusToDosError() retval=00000000 ret=4086f1d3
080721a0:Ret  advapi32.RegSetValueExA() retval=00000000 ret=412f2499
080721a0:Call advapi32.RegSetValueExA(00000038412f8354
cFilterTags0000000000000004413000b400000004) ret=412f24b7
080721a0:Call kernel32.GetVersion() ret=4086f0b3
080721a0:Ret  kernel32.GetVersion() retval=c0000004 ret=4086f0b3
080721a0:Call ntdll.RtlInitAnsiString(405b4820412f8354 cFilterTags) ret=4086f17a
080721a0:Ret  ntdll.RtlInitAnsiString() retval=0000000c ret=4086f17a
080721a0:Call ntdll.RtlAnsiStringToUnicodeString(4011b0d8405b482000000000)
ret=4086f191
080721a0:Ret  ntdll.RtlAnsiStringToUnicodeString() retval=00000000 ret=4086f191
080721a0:Call
ntdll.NtSetValueKey(000000384011b0d80000000000000004413000b400000004)
ret=4086f1af
080721a0:Ret  ntdll.NtSetValueKey() retval=00000000 ret=4086f1af
080721a0:Call ntdll.RtlNtStatusToDosError(00000000) ret=4086f1d3
080721a0:Ret  ntdll.RtlNtStatusToDosError() retval=00000000 ret=4086f1d3
080721a0:Ret  advapi32.RegSetValueExA() retval=00000000 ret=412f24b7
080721a0:Call advapi32.RegSetValueExA(00000038412f8360
fdwSupport0000000000000004413000bc00000004) ret=412f24d5
080721a0:Call kernel32.GetVersion() ret=4086f0b3
080721a0:Ret  kernel32.GetVersion() retval=c0000004 ret=4086f0b3
080721a0:Call ntdll.RtlInitAnsiString(405b4820412f8360 fdwSupport) ret=4086f17a
080721a0:Ret  ntdll.RtlInitAnsiString() retval=0000000b ret=4086f17a
080721a0:Call ntdll.RtlAnsiStringToUnicodeString(4011b0d8405b482000000000)
ret=4086f191
080721a0:Ret  ntdll.RtlAnsiStringToUnicodeString() retval=00000000 ret=4086f191
080721a0:Call
ntdll.NtSetValueKey(000000384011b0d80000000000000004413000bc00000004)
ret=4086f1af
080721a0:Ret  ntdll.NtSetValueKey() retval=00000000 ret=4086f1af
080721a0:Call ntdll.RtlNtStatusToDosError(00000000) ret=4086f1d3
080721a0:Ret  ntdll.RtlNtStatusToDosError() retval=00000000 ret=4086f1d3
080721a0:Ret  advapi32.RegSetValueExA() retval=00000000 ret=412f24d5
080721a0:Call advapi32.RegSetValueExA(00000038412f836b
aFormatTagCache00000000000000034130015800000008) ret=412f24f8
080721a0:Call kernel32.GetVersion() ret=4086f0b3
080721a0:Ret  kernel32.GetVersion() retval=c0000004 ret=4086f0b3
080721a0:Call ntdll.RtlInitAnsiString(405b4820412f836b aFormatTagCache)
ret=4086f17a
080721a0:Ret  ntdll.RtlInitAnsiString() retval=00000010 ret=4086f17a
080721a0:Call ntdll.RtlAnsiStringToUnicodeString(4011b0d8405b482000000000)
ret=4086f191
080721a0:Ret  ntdll.RtlAnsiStringToUnicodeString() retval=00000000 ret=4086f191
080721a0:Call
ntdll.NtSetValueKey(000000384011b0d800000000000000034130015800000008)
ret=4086f1af
080721a0:Ret  ntdll.NtSetValueKey() retval=00000000 ret=4086f1af
080721a0:Call ntdll.RtlNtStatusToDosError(00000000) ret=4086f1d3
080721a0:Ret  ntdll.RtlNtStatusToDosError() retval=00000000 ret=4086f1d3
080721a0:Ret  advapi32.RegSetValueExA() retval=00000000 ret=412f24f8
080721a0:Call ntdll.RtlFreeHeap(41300000000000004130010c) ret=412f250d
080721a0:Ret  ntdll.RtlFreeHeap() retval=00000001 ret=412f250d
080721a0:Call ntdll.RtlFreeHeap(4130000000000000413000cc) ret=412f27fa
080721a0:Ret  ntdll.RtlFreeHeap() retval=00000001 ret=412f27fa
080721a0:Call ntdll.RtlFreeHeap(4130000000000000413000ec) ret=412f2812
080721a0:Ret  ntdll.RtlFreeHeap() retval=00000001 ret=412f2812
080721a0:Call ntdll.RtlFreeHeap(413000000000000041300158) ret=412f2829
080721a0:Ret  ntdll.RtlFreeHeap() retval=00000001 ret=412f2829
080721a0:Call ntdll.RtlFreeHeap(413000000000000041300094) ret=412f2872
080721a0:Ret  ntdll.RtlFreeHeap() retval=00000001 ret=412f2872
080721a0:Call kernel32.HeapDestroy(41300000) ret=412f2a53
080721a0:Ret  kernel32.HeapDestroy() retval=00000001 ret=412f2a53
080721a0:Ret  PE DLL (proc=0x412f29b4module=412ed000type=0res=0x1) retval=1
080721a0:Call PE DLL (proc=0x40884c20module=40881000type=0res=0x1)
080721a0:Call kernel32.TlsFree(00000000) ret=40884c80
080721a0:Ret  kernel32.TlsFree() retval=00000001 ret=40884c80
080721a0:Call kernel32.UnMapLS(00000000) ret=40884b3b
080721a0:Ret  kernel32.UnMapLS() retval=00000000 ret=40884b3b
080721a0:Call kernel32.UnMapLS(00000000) ret=40884b47
080721a0:Ret  kernel32.UnMapLS() retval=00000000 ret=40884b47
080721a0:Call kernel32.UnMapLS(00000000) ret=40884b53
080721a0:Ret  kernel32.UnMapLS() retval=00000000 ret=40884b53
080721a0:Call kernel32.UnMapLS(00000000) ret=40884b5f
080721a0:Ret  kernel32.UnMapLS() retval=00000000 ret=40884b5f
080721a0:Ret  PE DLL (proc=0x40884c20module=40881000type=0res=0x1) retval=1
080721a0:Call PE DLL (proc=0x405de9e4module=405d3000type=0res=0x1)
080721a0:Call user32.UnregisterClassA(40635b85 SysAnimate3200000000) ret=405d708d
080721a0:Ret  user32.UnregisterClassA() retval=00000001 ret=405d708d
080721a0:Call user32.UnregisterClassW(40635f72 LComboBoxEx3200000000)
ret=405db1dd
080721a0:Ret  user32.UnregisterClassW() retval=00000000 ret=405db1dd
080721a0:Call user32.UnregisterClassA(406387e3 SysDateTimePick3200000000)
ret=405e31a1
080721a0:Ret  user32.UnregisterClassA() retval=00000000 ret=405e31a1
080721a0:Call user32.UnregisterClassA(40638f46 flatsb_class3200000000)
ret=405e390d
080721a0:Ret  user32.UnregisterClassA() retval=00000001 ret=405e390d
080721a0:Call user32.UnregisterClassA(4063955b SysHeader3200000000) ret=405e6a3d
080721a0:Ret  user32.UnregisterClassA() retval=00000001 ret=405e6a3d
080721a0:Call user32.UnregisterClassA(40639869 msctls_hotkey3200000000)
ret=405e72dd
080721a0:Ret  user32.UnregisterClassA() retval=00000001 ret=405e72dd
080721a0:Call user32.UnregisterClassW(4063a4aa LSysIPAddress3200000000)
ret=405ebecd
080721a0:Ret  user32.UnregisterClassW() retval=00000000 ret=405ebecd
080721a0:Call user32.UnregisterClassW(4063a902 LSysListView3200000000)
ret=405f9c5d
080721a0:Ret  user32.UnregisterClassW() retval=00000001 ret=405f9c5d
080721a0:Call user32.UnregisterClassA(4063879e SysMonthCal3200000000)
ret=405fe83d
080721a0:Ret  user32.UnregisterClassA() retval=00000000 ret=405fe83d
080721a0:Call user32.UnregisterClassA(4063d094 NativeFontCtl00000000)
ret=405fea6d
080721a0:Ret  user32.UnregisterClassA() retval=00000000 ret=405fea6d
080721a0:Call user32.UnregisterClassA(4063d607 SysPager00000000) ret=406011ed
080721a0:Ret  user32.UnregisterClassA() retval=00000000 ret=406011ed
080721a0:Call user32.UnregisterClassW(4063d964 Lmsctls_progress3200000000)
ret=40601c4d
080721a0:Ret  user32.UnregisterClassW() retval=00000001 ret=40601c4d
080721a0:Call user32.UnregisterClassA(4063f653 ReBarWindow3200000000)
ret=4060e4ed
080721a0:Ret  user32.UnregisterClassA() retval=00000000 ret=4060e4ed
080721a0:Call user32.UnregisterClassW(40640fba Lmsctls_statusbar3200000000)
ret=40610d4d
080721a0:Ret  user32.UnregisterClassW() retval=00000001 ret=40610d4d
080721a0:Call user32.UnregisterClassA(406419c6 SysTabControl3200000000)
ret=4061530d
080721a0:Ret  user32.UnregisterClassA() retval=00000001 ret=4061530d
080721a0:Call user32.UnregisterClassA(4063806a ToolbarWindow3200000000)
ret=4061f13d
080721a0:Ret  user32.UnregisterClassA() retval=00000001 ret=4061f13d
080721a0:Call user32.UnregisterClassA(406380c6 tooltips_class3200000000)
ret=4062355d
080721a0:Ret  user32.UnregisterClassA() retval=00000001 ret=4062355d
080721a0:Call user32.UnregisterClassA(40644158 msctls_trackbar3200000000)
ret=4062621d
080721a0:Ret  user32.UnregisterClassA() retval=00000001 ret=4062621d
080721a0:Call user32.UnregisterClassA(40644e6d SysTreeView3200000000)
ret=4062dc9d
080721a0:Ret  user32.UnregisterClassA() retval=00000001 ret=4062dc9d
080721a0:Call user32.UnregisterClassW(4064570c Lmsctls_updown3200000000)
ret=4062f62d
080721a0:Ret  user32.UnregisterClassW() retval=00000001 ret=4062f62d
080721a0:Call gdi32.DeleteObject(00000ba6) ret=405deb92
080721a0:Ret  gdi32.DeleteObject() retval=00000001 ret=405deb92
080721a0:Call gdi32.DeleteObject(00000074) ret=405deba6
080721a0:Ret  gdi32.DeleteObject() retval=00000001 ret=405deba6
080721a0:Call kernel32.GlobalDeleteAtom(0000c00d) ret=405debbb
080721a0:Ret  kernel32.GlobalDeleteAtom() retval=00000000 ret=405debbb
080721a0:Call kernel32.HeapDestroy(411c0000) ret=405debf0
080721a0:Ret  kernel32.HeapDestroy() retval=00000001 ret=405debf0
080721a0:Ret  PE DLL (proc=0x405de9e4module=405d3000type=0res=0x1) retval=1
080721a0:Call PE DLL (proc=0x40699f90module=4067a000type=0res=0x1)
080721a0:Ret  PE DLL (proc=0x40699f90module=4067a000type=0res=0x1) retval=1
080721a0:Call PE DLL (proc=0x40a03af0module=409f2000type=0res=0x1)
080721a0:Ret  PE DLL (proc=0x40a03af0module=409f2000type=0res=0x1) retval=1
080721a0:Call PE DLL (proc=0x40798064module=4078a000type=0res=0x1)
080721a0:Ret  PE DLL (proc=0x40798064module=4078a000type=0res=0x1) retval=1
080721a0:Call PE DLL (proc=0x4081b3e0module=4080b000type=0res=0x1)
080721a0:Ret  PE DLL (proc=0x4081b3e0module=4080b000type=0res=0x1) retval=1

I have a copy of the full debug report if it is needed.
Thank you!",3503,"1"
"WINE-33937","[EA Origin]Pictures don't display correctly with Wine set to win7","Created attachment 45074
Origin with Wine set to WinXP

Hi

When i launch EA Origin when Wine is set to Win7 the picture in Games tab or Shop tab don't display correctly.

I attach to screenshot 1 wine Origin with XP mode and the second with Seven mode.

Concerning the output i don't attach them because it's the same for both but i have only these message when i launch Origin with Seven mode :

err:shell:ShellLink_QueryInterface -- Interface: E_NOINTERFACE
err:shell:ShellLink_QueryInterface -- Interface: E_NOINTERFACE

I have these message when the window's Origin appears.

Max",915,"1"
"WINE-14290","winhelp: temporary 100% CPU use when loading some help files","When loading some help files Wine winhelp appears to hang for a while with 100% CPU use.

To demonstrate download quenzar.hlp from
  http://bugs.winehq.org/attachment.cgi?id=14572
and load into Wine winhelp.

CPU usage goes to 100% for about a minute (on my old slow PC) but the help window does open eventually. There is no delay when opening the same file with the Windows 95 WINHLP32.EXE under Wine.",2718,"1"
"WINE-4647","Morpheus is crashing","It is interestiong that Morpheus.exe runs in wine 0.9.5 and it totally crashes
in wine 0.9.8. In wine 0.9.5 it crashes after loading image but now it crashes
immediatelly after execution.

fixme:ole:OLEPictureImpl_Invoke (dispid: 0):Stub
fixme:ole:OLEPictureImpl_Invoke (dispid: 0):Stub
fixme:ole:OLEPictureImpl_Invoke (dispid: 0):Stub
fixme:ole:OLEPictureImpl_Invoke (dispid: 0):Stub
fixme:ole:OLEPictureImpl_Render Not quite correct implementation of rendering ic
ons...
fixme:ole:OleLoadPictureEx (0x413c4ccc36460{7bf80980-bf32-101a-8bbb-00aa00300
cab}x=0y=0f=00x4067f29c) partially implemented.
fixme:ole:OleLoadPictureEx (0x413c4ccc22461{7bf80980-bf32-101a-8bbb-00aa00300
cab}x=0y=0f=00x4067f26c) partially implemented.
fixme:ole:OLEPictureImpl_get_hPal unimplemented for type 3. Returning 0 palette.
fixme:ole:OleLoadPictureEx (0x413c4ccc192621{7bf80980-bf32-101a-8bbb-00aa0030
0cab}x=0y=0f=00x4067f26c) partially implemented.
fixme:ole:OleLoadPictureEx (0x413c4ccc3341{7bf80980-bf32-101a-8bbb-00aa00300c
ab}x=0y=0f=00x4067f26c) partially implemented.
fixme:ole:OleLoadPictureEx (0x413c4ccc192621{7bf80980-bf32-101a-8bbb-00aa0030
0cab}x=0y=0f=00x4067f26c) partially implemented.
fixme:ole:OleLoadPictureEx (0x413c4ccc3341{7bf80980-bf32-101a-8bbb-00aa00300c
ab}x=0y=0f=00x4067f26c) partially implemented.
fixme:ole:OLEPictureImpl_SaveAsFile (0x40419ca0)->(0x427b9dc0 0 (nil)) hacked
 stub.
fixme:ole:OLEPictureImpl_get_hPal unimplemented for type 3. Returning 0 palette.
wine: Unhandled page fault on write access to 0x40da36df at address 0x427ae154 (
thread 0009) starting debugger...",704,"0"
"WINE-10636","simcity 4 3D objects become invisible","On 0.9.49 simcity 4 runs almost flawlessly. On 0.9.50 it becomes unplayable because the 3d objects become invisible and only sometimes they flicker back visibly but just for an instant.",1514,"1"
"WINE-28813","usp10/tests: uninitialized stack variable in test_ScriptXtoX","Valgrind complains

Conditional jump or move depends on uninitialised value(s)
   at  get_glyph_cluster_advance (usp10.c:1663)
   by  ScriptXtoCP (usp10.c:1871)
   by  test_ScriptXtoX (usp10.c:1937)
   by  func_usp10 (usp10.c:2584)
   by  run_test (test.h:556)
   by  main (test.h:624)
 Uninitialised value was created by a stack allocation
   at  test_ScriptXtoX (usp10.c:1887)

Conditional jump or move depends on uninitialised value(s)
   at  get_glyph_cluster_advance (usp10.c:1663)
   by  ScriptXtoCP (usp10.c:1897)
   by  test_ScriptXtoX (usp10.c:1937)
   by  func_usp10 (usp10.c:2584)
   by  run_test (test.h:556)
   by  main (test.h:624)
 Uninitialised value was created by a stack allocation
   at  test_ScriptXtoX (usp10.c:1887)",1,"0"
"WINE-14078","Rewrite typelib marshaller on top of NDR functions","[Copied from wine-devel.]
Dan K. wrote in 
http://www.winehq.org/pipermail/wine-devel/2008-June/066540.html
--- snip ---
While looking at the valgrind warning in
http://kegel.com/wine/valgrind/logs-2008-06-20/vg-oleaut32_tmarshal.txt

 Conditional jump or move depends on uninitialised value(s)
   at  serialize_param (tmarshal.c:736)
   by  serialize_param (tmarshal.c:744)
   by  xCall (tmarshal.c:1414)
   by  ???
   by  func_tmarshal (tmarshal.c:1179)
   by  run_test (test.h:449)
   by  main (test.h:498)
 Uninitialised value was created by a stack allocation
   at  test_typelibmarshal (tmarshal.c:762)

The problem happens during a call to this method
where widget is a pointer to an uninitialized pointer
which will receive the pointer to the widget:

   interface IKindaEnumWidget : IUnknown
   {
       HRESULT Next(
                    [out] IWidget **widget)

I discovered that the attached patch prevented the problem.
I don't quite understand why at first glance
widget is an out parameter from the function
why would it be dereferenced while serializing
the call?

--- snip ---

Rob Shearman wrote:
http://www.winehq.org/pipermail/wine-devel/2008-June/066571.html

--- snip ---
It's a bug in the typelib marshaller. It doesn't check whether a
VT_PTR type is actually an interface pointer and not access it on
input when the parameter is an [out] parameter. Note that because of
the memory re-use semantics it is legal to access memory passed in to
a remote function even when the parameter is [out].

I think it's getting close to the time to reimplement the typelib
marshaller on top of NDR functions so that we don't have to implement
these subtleties twice would improve performance and would reduce the
amount of code.
--- snip ---",3794,"1"
"WINE-25340","Multiple apps need support for COM server information from PE manifest a.k.a registration/registry-free COM (Exact Audio Copy (EAC) AliWangWang ...)","The program will not run. Soon after attempting to run the software a window titled Unhandled exception appears saying at 01537EB0 -> ACCESS_VIOLATION with no other option than to click an OK button.",1068,"1"
"WINE-16883",".NET 3.0: WCF installer fails due bug in services.exe svcctl_GetServiceKeyNameW","Hello

after getting past bug 16882 (WMI is needed) we resume where we left: bug 16878

---
1. clean WINEPREFIX
2. sh mywinetricks -q wmicore
3. sh winetricks -q dotnet20
4. download .NET 3.0 Framework installer from: http://download.microsoft.com
/download/4/d/a/4da3a5fa-ee6a-42b8-8bfa-ea5c4a458a7d/dotnetfx3setup.exe
(sha1sum: 
a566bcd2ffffc3842a95adc57f7df3f8cd11577f)
5. export _SFX_CAB_SHUTDOWN_REQUEST=1 (workaround see bug 9158)
6. wine ./dotnetfx3setup.exe

It might take a while until all required packages are downloaded using BITS.

Note: If you need to redo steps backup the directory dotnetfx304506.30 from
c:\\windows\\temp to a different location remove ~/.wine copy
dotnetfx304506.30 again to c:\\windows\\temp to prevent BITS from
downloading over and over again.

---

The WCF installer still fails:

c:\\windows\\temp\\dd_dotnetfx3error.txt:

--- snip ---
[01/11/0914:18:10] Windows Communication Foundation: [2] Error: Installation failed for component Windows Communication Foundation. MSI returned error code 1603
[01/11/0914:18:21] WapUI: [2] DepCheck indicates Windows Communication Foundation is not installed.
--- snip ---

c:\\windows\\temp\\dd_wcf_retMSI1CB9.txt:

--- snip ---
1: C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModelReg.exe /r /x /y /v 2:  
1: ERROR: Process returned non-0 value! CMDLINE: C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModelReg.exe /r /x /y /v 2:  
1: Failed 2:
--- snip ---

--- snip ---
ServiceModelReg [14:18:09:203]: Starting tool 'C:\windows\system32\wbem\mofcomp.exe' with parameters 'C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModel.mof'.
ServiceModelReg [14:18:09:328]: Microsoft (R) 32-bit MOF Compiler Version 1.50.1085.0001
ServiceModelReg [14:18:09:329]: Copyright (c) Microsoft Corp. 1997-1999. All rights reserved.
ServiceModelReg [14:18:09:423]: 
ServiceModelReg [14:18:09:425]: Parsing MOF file: C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModel.mof
ServiceModelReg [14:18:09:446]: MOF file has been successfully parsed
ServiceModelReg [14:18:09:447]: Storing data in the repository...
ServiceModelReg [14:18:10:115]: An error occurred while creating object 3 defined on lines 20 - 24:
ServiceModelReg [14:18:10:116]: 0X80041002 Class instance or property 'HostingModel' was not found.
ServiceModelReg [14:18:10:122]: Compiler returned error 0x80041001
ServiceModelReg [14:18:10:122]: 
ServiceModelReg [14:18:10:122]: 
ServiceModelReg [14:18:10:124]: Tool 'C:\windows\system32\wbem\mofcomp.exe' with parameters 'C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModel.mof' exited with code '3'.
ServiceModelReg [14:18:10:166]: Warning: Failure executing C:\windows\system32\wbem\mofcomp.exe with parameters C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModel.mof: System.ApplicationException: Unexpected result 3 executing C:\windows\system32\wbem\mofcomp.exe with C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModel.mof
   at System.ServiceModel.Install.InstallHelper.ExecuteWait(String program String parameters Int32[] allowedExitCodes)
   at System.ServiceModel.Install.WmiInstallComponent.OnInstall(OutputLevel outputLevel)
ServiceModelReg [14:18:10:231]: Error: WMI classes are not installed.
ServiceModelReg [14:18:10:233]: Repairing: Windows CardSpace (idsvc)
ServiceModelReg [14:18:10:251]: System.AccessViolationException: Attempted to read or write protected memory. This is often an indication that other memory is corrupt.
   at System.ServiceModel.Install.NativeMethods.ChangeFailureActions(ServiceHandle hService Int32 dwInfoLevel SERVICE_FAILURE_ACTIONS& lpInfo)
   at System.ServiceModel.Install.ServiceHandle.SetFailureActions(TimeSpan resetPeriod TimeSpan[] restartPeriods)
   at System.ServiceModel.Install.ServiceInstallComponent.OnInstall(OutputLevel outputLevel)
   at System.ServiceModel.Install.InfoCardServiceInstallComponent.OnInstall(OutputLevel outputLevel)
   at System.ServiceModel.Install.ServiceInstallComponent.Reinstall(OutputLevel outputLevel)
   at Microsoft.Tools.ServiceModel.ServiceModelReg.PerformAction(ActionItem actionItem Nullable`1 confirmUninstall)
   at Microsoft.Tools.ServiceModel.ServiceModelReg.Run(String[] args)
   at Microsoft.Tools.ServiceModel.ServiceModelReg.TryRun(String[] args)
=== Verbose logging stopped: 1/11/2009  14:18:10 ===
--- snip ---

Ok lets leave the WMI failures aside (despite having native WMI core installed) and see how far it goes.

That infocard service (re)install looks bugged:

--- snip ---
0035:trace:service:OpenSCManagerW ((null)(null)0x00000001)
0035:trace:service:sc_handle_alloc sc_handle type=0 -> 0x18ef38
0013:trace:service:svcctl_OpenSCManagerW ((null) (null) 1)
0035:trace:service:OpenSCManagerW returning 0x18ef38 (access : 0x00000001)
0035:CALL MSVCR80.memcpy() ret=79e808d5
0035:RET  MSVCR80.memcpy() retval=0017b820 ret=79e808d5
0035:trace:service:GetServiceKeyNameW 0x18ef38 L 0x88e170 0x33f1f0
0014:trace:service:svcctl_GetServiceKeyNameW (Lidsvc 256)
0035:CALL MSVCR80.memcpy() ret=79e808d5
0035:RET  MSVCR80.memcpy() retval=00a4333c ret=79e808d5
0035:CALL MSVCR80.memcpy() ret=79e808d5
0035:RET  MSVCR80.memcpy() retval=0017b820 ret=79e808d5
0035:trace:service:GetServiceDisplayNameW 0x18ef38 Lidsvc 0x17b820 0x33f1f0
0013:trace:service:svcctl_GetServiceDisplayNameW (Lidsvc 1)
0035:CALL MSVCR80.memcpy() ret=79e808d5
0035:RET  MSVCR80.memcpy() retval=00a4333c ret=79e808d5
0035:CALL MSVCR80.memset(0033f0c4000000000000002c0033f0bc) ret=79eef4cb
0035:RET  MSVCR80.memset() retval=0033f0c4 ret=79eef4cb
0035:CALL MSVCR80.memcpy() ret=79e770f8
0035:RET  MSVCR80.memcpy() retval=0033f02c ret=79e770f8
0035:CALL MSVCR80.memset(0033ea2c000000000000001c0033ea70) ret=79e7d873
0035:RET  MSVCR80.memset() retval=0033ea2c ret=79e7d873
0035:CALL MSVCR80.memcpy() ret=79e808d5
0035:RET  MSVCR80.memcpy() retval=0017b820 ret=79e808d5
0035:CALL MSVCR80.memcpy() ret=79e808d5
0035:RET  MSVCR80.memcpy() retval=00a4363c ret=79e808d5
0035:CALL MSVCR80.memcpy() ret=79e770f8
0035:RET  MSVCR80.memcpy() retval=0033f10c ret=79e770f8
0035:CALL MSVCR80.memcmp(008647a8032e66b900000012) ret=79efee2f
0035:RET  MSVCR80.memcmp() retval=00000000 ret=79efee2f
0035:trace:seh:raise_exception code=e0434f4d flags=1 addr=0x7b844f54 ip=0x7b844fd7 tid=0035
0035:trace:seh:raise_exception  info[0]=80131509
0035:trace:seh:raise_exception  eax=7b82cc91 ebx=7b8c3940 ecx=00000000 edx=0033f0f0 esi=0033f0f0 edi=e0434f4d
0035:trace:seh:raise_exception  ebp=0033f0b8 esp=0033f054 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000246
0035:trace:seh:call_stack_handlers calling handler at 0x79f9a3c8 code=e0434f4d flags=1
0035:CALL MSVCR80._except_handler4_common(7a38124079e717fb0033f0640033f1080033ecf00033eb90) ret=79f9a3e7
0035:RET  MSVCR80._except_handler4_common() retval=00000001 ret=79f9a3e7
0035:trace:seh:call_stack_handlers handler at 0x79f9a3c8 returned 1
0035:trace:seh:call_stack_handlers calling handler at 0x7a3197d4 code=e0434f4d flags=1 
--- snip ---

If we dump the corresponding SCM entry:

--- snip ---
000d:trace:service:scmdatabase_load_services Loading service Lidsvc
000d:trace:service:load_service_config Image path           = L\C:\\windows\\Microsoft.NET\\Framework\\v3.0\\Windows Communication Foundation\\infocard.exe\
000d:trace:service:load_service_config Group                = (null)
000d:trace:service:load_service_config Service account name = LLocalSystem
000d:trace:service:load_service_config Display name         = LWindows CardSpace
000d:trace:service:load_service_config Service dependencies : (none)
000d:trace:service:load_service_config Group dependencies   : (none) 
--- snip ---

That GetServiceKeyNameW() API failure seems to be ok because the app passes the key name itself idsvc and not the service display name.
The following GetServiceDisplayNameW() also fails leading to app error/exception.

If you look closer you see svcctl_GetServiceDisplayNameW (Lidsvc 1) -> buffer length 1 passed.
This is clearly not what the app intended.
The app reuses the length parameter from GetServiceKeyNameW() passing it again into GetServiceDisplayNameW() but Wine changed it to 1 which seems incorrect.

--- snip programs/services/rpc.c ---
DWORD svcctl_GetServiceKeyNameW(
    SC_RPC_HANDLE hSCManager
    LPCWSTR lpServiceDisplayName
    WCHAR *lpBuffer
    DWORD cchBufSize
    DWORD *cchLength)
{
...
    entry = scmdatabase_find_service_by_displayname(manager->db lpServiceDisplayName)
    if (entry != NULL)
    { 
...
    else
    {
        *cchLength = 1
        err = ERROR_SERVICE_DOES_NOT_EXIST
    }

    scmdatabase_unlock(manager->db)

    if (err != ERROR_SUCCESS && cchBufSize > 0)
        lpBuffer[0] = 0

    return err
}
--- snip programs/services/rpc.c --

This doesn't look right a conformance test case should reveal the correct behaviour.
I already verified this with a patch.

Regards",11,"0"
"WINE-8197","Soulseek p2p program (slsk.exe version 157 test8) has crashing after load files and trying connect to slsk server","Sice version 0.9.35 the Soulseek p2p program ( slsk.exe version 157 test8) has 
crashing after load files and ( i hope) trying connect slsk server.

please include AMT ( america Manaus Time zone -> GMT-4 ) too


Package: wine
Version: 0.9.36~winehq0~ubuntu~7.04-1
Severity: important

-- System Information:
Debian Release: 4.0
  APT prefers feisty-updates
  APT policy: (500 'feisty-updates') (500 'feisty-security') 
(500 'feisty')
Architecture: i386 (i686)
Shell:  /bin/sh linked to /bin/dash
Kernel: Linux 2.6.20-15-386
Locale: LANG=pt_BR.UTF-8 LC_CTYPE=pt_BR.UTF-8 (charmap=UTF-8)",319,"0"
"WINE-20521","Nocturnal Illusion crashes","I have had a slew of older Windows 3.1 Programs breaking under the latest development versions of Wine.

wine: Unhandled division by zero at address 0x123f:0x0000e82b (thread 001c) starting debugger...
Unhandled exception: divide by zero in 16-bit code (123f:e82b).
In 16 bit mode.
Register dump:
 CS:123f SS:124f DS:124f ES:102f FS:0063 GS:006b
 IP:e82b SP:5866 BP:0000 FLAGS:0202(  R- --  I   - - - )
 AX:69d5 BX:006c CX:006e DX:0275 SI:25a0 DI:0000
Stack dump:
0x124f:0x5866:  124f 124f e7e6 0081 0000 0005 25a2 e4d2
0x124f:0x5876:  0000 28b8 e4da d93f 123f 0005 0081 1227
0x124f:0x5886:  0000 124f 0000 0468 101f 0000 0000 0000
0249: sel=124f base=003dc478 limit=0000b0bf 16-bit rw-
0205: sel=102f base=000f0400 limit=000000ff 16-bit rw-
Backtrace:
=>0 0x123f:0xe82b (0x124f:0x0000)
0x123f:0xe82b: divw     %cx%ax
Modules:
Module  Address                 Debug info      Name (69 modules)
ELF     7bf00000-7bf04000       Deferred        
ELF     7e161000-7e176000       Deferred        sound.drv16.so
PE      7e170000-7e176000       Deferred        sound.drv16
ELF     7e176000-7e18a000       Deferred        mouse.drv16.so
PE      7e180000-7e18a000       Deferred        mouse.drv16
ELF     7e18a000-7e19f000       Deferred        keyboard.drv16.so
PE      7e190000-7e19f000       Deferred        keyboard.drv16
ELF     7e19f000-7e1b4000       Deferred        display.drv16.so
PE      7e1a0000-7e1b4000       Deferred        display.drv16
ELF     7e1b4000-7e1c8000       Deferred        comm.drv16.so
PE      7e1c0000-7e1c8000       Deferred        comm.drv16
ELF     7e1c8000-7e1de000       Deferred        midimap
  \-PE  7e1d0000-7e1de000       \               midimap
ELF     7e1de000-7e205000       Deferred        msacm32
  \-PE  7e1e0000-7e205000       \               msacm32
ELF     7e205000-7e21e000       Deferred        msacm32
  \-PE  7e210000-7e21e000       \               msacm32
ELF     7e21e000-7e303000       Deferred        libasound.so.2
ELF     7e339000-7e371000       Deferred        winealsa
  \-PE  7e340000-7e371000       \               winealsa
ELF     7e371000-7e3fa000       Deferred        winmm
  \-PE  7e380000-7e3fa000       \               winmm
ELF     7e3fa000-7e461000       Deferred        winedos
  \-PE  7e400000-7e461000       \               winedos
ELF     7e461000-7e46b000       Deferred        libxcursor.so.1
ELF     7e46b000-7e470000       Deferred        libxfixes.so.3
ELF     7e470000-7e473000       Deferred        libxcomposite.so.1
ELF     7e473000-7e47c000       Deferred        libxrandr.so.2
ELF     7e47c000-7e485000       Deferred        libxrender.so.1
ELF     7e485000-7e48a000       Deferred        libxxf86vm.so.1
ELF     7e48a000-7e4ab000       Deferred        imm32
  \-PE  7e490000-7e4ab000       \               imm32
ELF     7e4ab000-7e4c9000       Deferred        libxcb.so.1
ELF     7e4c9000-7e4e3000       Deferred        libice.so.6
ELF     7e4e3000-7e624000       Deferred        libx11.so.6
ELF     7e624000-7e636000       Deferred        libxext.so.6
ELF     7e636000-7e640000       Deferred        libsm.so.6
ELF     7e647000-7e650000       Deferred        librt.so.1
ELF     7e650000-7e676000       Deferred        mmsystem.dll16.so
PE      7e660000-7e676000       Deferred        mmsystem.dll16
ELF     7e676000-7e71c000       Deferred        winex11
  \-PE  7e680000-7e71c000       \               winex11
ELF     7e75c000-7e8af000       Deferred        libxml2.so.2
ELF     7e8af000-7e8e0000       Deferred        libfontconfig.so.1
ELF     7e8e0000-7e8f4000       Deferred        libz.so.1
ELF     7e8f4000-7e978000       Deferred        libfreetype.so.6
ELF     7e978000-7e97b000       Deferred        libxinerama.so.1
ELF     7e97b000-7e982000       Deferred        libxdmcp.so.6
ELF     7e982000-7e986000       Deferred        libxau.so.6
ELF     7e9ae000-7ea0a000       Deferred        advapi32
  \-PE  7e9c0000-7ea0a000       \               advapi32
ELF     7ea0a000-7eab3000       Deferred        gdi32
  \-PE  7ea20000-7eab3000       \               gdi32
ELF     7eab3000-7ec10000       Deferred        user32
  \-PE  7ead0000-7ec10000       \               user32
ELF     7ed68000-7eee6000       Deferred        kernel32
  \-PE  7ed80000-7eee6000       \               kernel32
ELF     7eee6000-7ef0c000       Deferred        libm.so.6
ELF     7ef17000-7ef2c000       Deferred        system.drv16.so
PE      7ef20000-7ef2c000       Deferred        system.drv16
ELF     7ef2c000-7ef42000       Deferred        winevdm
  \-PE  7ef30000-7ef42000       \               winevdm
ELF     7ef42000-7f000000       Deferred        ntdll
  \-PE  7ef50000-7f000000       \               ntdll
ELF     f7ca5000-f7ca9000       Deferred        libdl.so.2
ELF     f7ca9000-f7dfb000       Deferred        libc.so.6
ELF     f7dfb000-f7e13000       Deferred        libpthread.so.0
ELF     f7e49000-f7f86000       Deferred        libwine.so.1
ELF     f7f87000-f7fa4000       Deferred        ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
0000000e
        00000015    0
        00000014    0
        00000010    0
        0000000f    0
00000011
        00000017    0
        00000016    0
        00000013    0
        00000012    0
00000018 (D) C:\windows\system32\winevdm.exe
        0000001c    0 <==
        0000001b    0
        0000001a    0
        00000019    0
0000001f
        00000020    0
Backtrace:
=>0 0x123f:0xe82b (0x124f:0x0000)
err:ntdll:RtlpWaitForCriticalSection section 0x7eee38c0 syslevel.c: Win16Mutex wait timed out in thread 0019 blocked by 001c retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x7eee38c0 syslevel.c: Win16Mutex wait timed out in thread 001b blocked by 001c retrying (60 sec)

Several Windows 3.x programs have started giving divide overflows",2106,"1"
"WINE-20735","Photoshop Elements 8 installer: Empty dropdown-list","Created attachment 24794
Screenshot of the installer

The dropbox besides Country/Region has no content and you can not enter anything. And because of this you can not continue the install-process.",154,"0"
"WINE-13605","unimplemented function d3dx9_36.dll.D3DXCreateTextureFromFileInMemoryEx","Conducted on a clean wine install. Installation works fine had to install a nocd and a directx dll in windows32 according to the game wiki but the game still bails out after the intro movies producing a box wih error during the starting game screen:

shared.fx(40036): warning X4000: Use of potentially uninitialized variable (_OUT_position)
shared.fx(40135): warning X4000: Use of potentially uninitialized variable (_OUT_normal)
shared.fx(40036): error X4575: Reading uninitialized value
shared.fx(40135): error X4575: Reading uninitialized value
skin_color_mesh.fx(22227): ID3DXEffectCompiler::CompileEffect: There was an error compiling expression
ID3DXEffectCompiler: Compilation failed

This happens no matter whether the latest patch is used or not.",842,"1"
"WINE-3304","Impossible to print from wordview (97/2000 and 2003)","Printing from a number of applications works. But I can't print from either
wordview 97/2000 nor 2003. In both cases I get on the console the message
fixme:richedit:RichEditANSIWndProc Unhandled EM_GETTEXTEX flags 0x1. Both
programs give the warning: This is not a valid number.

In the case of wordview 2003 I can see that the problem is related to the number
of pages to print: Acknowledging the warning leads to the printer dialog with
the cursor on the number of pages to print. Every try to change that number
again gives the messages fixme:richedit:RichEditANSIWndProc Unhandled
EM_GETTEXTEX flags 0x1. As long as the printer dialog is open I get
continually: fixme:winspool:EnumJobsW
(0x1first=0no=0level=1job=(nil)cb=00x7b96ddf40x7b96dde8) stub!

In the case of wordview 97/2000 I get an unhandled exception:

fixme:richedit:RichEditANSIWndProc Unhandled EM_GETTEXTEX flags 0x1
fixme:ole:CoRegisterMessageFilter stub
wine: Unhandled exception (thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: page fault on read access to 0x2ffff30c in 32-bit code
(0x300fdc92).
In 32 bit mode.
fixme:dbghelp:sffip_cb NIY on 'c:\w96\build\win\shp96v\WordView.pdb'
fixme:dbghelp_msc:pe_load_debug_directory This guy has FPO information
Register dump:
 CS:0f33 SS:0f3b DS:0f3b ES:0f3b FS:003b GS:0033
 EIP:300fdc92 ESP:7b96e870 EBP:7b96ec7c EFLAGS:00010296(   - 00      RISAP1)
 EAX:ffff8002 EBX:00000000 ECX:7a640000 EDX:00000002
 ESI:7a7541b0 EDI:7b96f698
Stack dump:
0x7b96e870:  7b96e8a0 7bedc15d 7b96e888 00000000
0x7b96e880:  00989680 7b96e890 43200eb5 000e5e51
0x7b96e890:  00000000 7befcba0 00000004 7b96e8cc
0x7b96e8a0:  7bedc15d 7b96e8b4 00000000 00989680
0x7b96e8b0:  7b96e8bc 43200eb5 000e5ed9 00000000
0x7b96e8c0:  7befcba0 00000004 00000008 7b96e970
Backtrace:
=>1 0x300fdc92 in wordview (+0xfdc92) (0x7b96ec7c)
  2 0x300fec52 in wordview (+0xfec52) (0x7b96ee90)
err:dbghelp:pe_load_dbg_file -Unable to peruse .DBG file MSO97v.dbg (MSO97v.dbg)
  3 0x307875d4 HdlgFromWindow+0x168 in mso97v (0x7b96eebc)
  4 0x3077de15 HdlgStartDlg+0x25b in mso97v (0x7b96ef24)
  5 0x3077dbcf HdlgStartDlg+0x15 in mso97v (0x7b96ef5c)
  6 0x30130375 in wordview (+0x130375) (0x7b96ef84)
  7 0x3013026e in wordview (+0x13026e) (0x7b96efc0)
  8 0x3013020a in wordview (+0x13020a) (0x7b96f008)
  9 0x301301bc in wordview (+0x1301bc) (0x7b96f020)
  10 0x30130164 in wordview (+0x130164) (0x7b96f058)
  11 0x300fd46e in wordview (+0xfd46e) (0x7b96f6c0)
  12 0x301659d4 in wordview (+0x1659d4) (0x7b96f6f8)
  13 0x301702ec in wordview (+0x1702ec) (0x7b96f784)
  14 0x30070521 in wordview (+0x70521) (0x7b96fb08)
  15 0x7ad4afaf WINPROC_wrapper+0x17 in user32 (0x7b96fb2c)
  16 0x7ad4b316 WINPROC_wrapper+0x37e in user32 (0x7b96fb64)
  17 0x7ad522d7 CallWindowProcA+0x137 in user32 (0x7b96fb98)
  18 0x7ad2100a DispatchMessageA+0xda in user32 (0x7b96fbcc)
  19 0x301971d2 in wordview (+0x1971d2) (0x3022cbe0)
  20 0x00000111 (0x00010022)
  21 0x00000000 (0x00000000)
0x300fdc92: movzwl      0x3000f308(%eax2)%eax
Modules:
Module  Address                 Debug info      Name (72 modules)
PE      0x30000000-30250000     Export          wordview
PE      0x306c0000-30866000     Export          mso97v
PE      0x30b50000-30c2b000     Deferred        wwint32v
ELF     0x7995e000-799a0000     Deferred        riched20
  \-PE  0x79970000-799a0000     \               riched20
ELF     0x799b7000-79a2b000     Deferred        wineps.drv
  \-PE  0x799e0000-79a2b000     \               wineps.drv
ELF     0x79d9e000-79dce000     Deferred        uxtheme
  \-PE  0x79db0000-79dce000     \               uxtheme
ELF     0x7a3ec000-7a496000     Deferred        libdb3.so.3
ELF     0x7a496000-7a49a000     Deferred        libgpg-error.so.0
ELF     0x7a49a000-7a4e7000     Deferred        libgcrypt.so.11
ELF     0x7a4e7000-7a4f7000     Deferred        libtasn1.so.2
ELF     0x7a4f7000-7a55e000     Deferred        libgnutls.so.11
ELF     0x7a67e000-7a683000     Deferred        libnss_db.so.2
ELF     0x7a683000-7a6a0000     Deferred        libcups.so.2
ELF     0x7a7a9000-7a7b2000     Deferred        libxcursor.so.1
ELF     0x7a7c3000-7a7e2000     Deferred        imm32
  \-PE  0x7a7d0000-7a7e2000     \               imm32
ELF     0x7a7e2000-7a851000     Deferred        libgl.so.1
ELF     0x7a851000-7a918000     Deferred        libx11.so.6
ELF     0x7a918000-7a938000     Deferred        libexpat.so.1
ELF     0x7a938000-7a967000     Deferred        libfontconfig.so.1
ELF     0x7a978000-7a98a000     Deferred        libz.so.1
ELF     0x7a98a000-7a9f7000     Deferred        libfreetype.so.6
ELF     0x7aa08000-7aa35000     Deferred        winspool.drv
  \-PE  0x7aa10000-7aa35000     \               winspool.drv
ELF     0x7aa35000-7aaf8000     Deferred        comctl32
  \-PE  0x7aa40000-7aaf8000     \               comctl32
ELF     0x7aaf8000-7ab56000     Deferred        shlwapi
  \-PE  0x7ab10000-7ab56000     \               shlwapi
ELF     0x7ab56000-7ac21000     Deferred        shell32
  \-PE  0x7ab70000-7ac21000     \               shell32
ELF     0x7ac21000-7ac41000     Deferred        iphlpapi
  \-PE  0x7ac30000-7ac41000     \               iphlpapi
ELF     0x7ac41000-7ac8c000     Deferred        rpcrt4
  \-PE  0x7ac60000-7ac8c000     \               rpcrt4
ELF     0x7ac8c000-7adbe000     Export          user32
  \-PE  0x7acb0000-7adbe000     \               user32
ELF     0x7adbe000-7ae4f000     Deferred        ole32
  \-PE  0x7ade0000-7ae4f000     \               ole32
ELF     0x7ae4f000-7ae58000     Deferred        libgcc_s.so.1
ELF     0x7af23000-7b82e000     Deferred        gdi32
  \-PE  0x7af70000-7b82e000     \               gdi32
ELF     0x7b82e000-7b870000     Deferred        advapi32
  \-PE  0x7b840000-7b870000     \               advapi32
ELF     0x7baef000-7bc00000     Deferred        kernel32
  \-PE  0x7bb20000-7bc00000     \               kernel32
ELF     0x7bd1d000-7bd27000     Deferred        libnss_files.so.2
ELF     0x7bd27000-7bd30000     Deferred        libnss_nis.so.2
ELF     0x7bd30000-7bd44000     Deferred        libnsl.so.1
ELF     0x7bd44000-7bd4c000     Deferred        libnss_compat.so.2
ELF     0x7bd5d000-7bd7f000     Deferred        libm.so.6
ELF     0x7bd7f000-7be74000     Deferred        libwine_unicode.so.1
ELF     0x7be85000-7bf00000     Deferred        ntdll
  \-PE  0x7bea0000-7bf00000     \               ntdll
ELF     0x7bf00000-7bf03000     Deferred        
ELF     0x7bf11000-7bf14000     Deferred        iso8859-15.so
ELF     0x7bf15000-7bf33000     Deferred        ximcp.so.2
ELF     0x7bf33000-7bf37000     Deferred        libxrandr.so.2
ELF     0x7bf37000-7bf3f000     Deferred        libxrender.so.1
ELF     0x7bf3f000-7bf4d000     Deferred        libxext.so.6
ELF     0x7bf4d000-7bf64000     Deferred        libice.so.6
ELF     0x7bf64000-7bf6d000     Deferred        libsm.so.6
ELF     0x7bf7b000-7bf7e000     Deferred        xlcdef.so.2
ELF     0x7bf7e000-7c000000     Deferred        winex11.drv
  \-PE  0x7bf90000-7c000000     \               winex11.drv
ELF     0xb7e76000-b7e79000     Deferred        libdl.so.2
ELF     0xb7e79000-b7fae000     Deferred        libc.so.6
ELF     0xb7fae000-b7fbd000     Deferred        libpthread.so.0
ELF     0xb7fbe000-b7fd7000     Deferred        libwine.so.1
ELF     0xb7fe9000-b8000000     Deferred        ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
00000008 (D) C:\Programme\wordview\wordview.exe
        0000000c    0
        0000000b    0
        0000000a    0
        00000009    0 <==
WineDbg terminated on pid 0x8",392,"0"
"WINE-8208","Flanker 2.5 fails to launch","When trying to launch flanker 2.5 I get the following text repeatedly and just a
black screen shows in wine.

fixme:devenum:DEVENUM_ICreateDevEnum_CreateClassEnumerator Category
{cc7bfb41-f175-11d1-a392-00e0291f3959} not found
fixme:devenum:DEVENUM_ICreateDevEnum_CreateClassEnumerator Category
{cc7bfb46-f175-11d1-a392-00e0291f3959} not found
err:ole:CoGetClassObject class {07b65360-c445-11ce-afde-00aa006c14f4} not registered
err:ole:CoGetClassObject no class object {07b65360-c445-11ce-afde-00aa006c14f4}
could be created for context 0x1
err:quartz:GraphBuilder_Connect Unable to create filter (80040154) trying next one",427,"0"
"WINE-2212","Navigon Mobile Navigator with flickering fonts in menu","Environment:
Hardware: i386 AMD Athlon Matrox G400
OS: Debian Linux testing kernel 2.6.5 XFree 4.3.0.1 (16 bit color depth)

Mobile Navigator Notebook is a door-to-door GPS navigation software
(www.navigon.de).
The installation with the installer does not work at all so I copied an
installed version from my Windows machine and tried to get it running (requires
msvcp60.dll).
When I start the programm the splash screen appears for some seconds. Then a
warning is displayed that you should not operate the software while driving.
This warning message looks ok but when the main menu appears there are only
empty flickering areas. When I click on such a button the button text is visible.


The programm is pretty unusable this way. I hope you find a remedy for this
problem. For more informatio please email me.",514,"0"
"WINE-30352","builtin iexplore + selenium hangs on startup","1. Download and install python26 from
http://www.python.org/ftp/python/2.6/python-2.6.msi

2. Download and install easyinstall from
http://pypi.python.org/packages/2.6/s/setuptools/setuptools-0.6c11.win32-py2.6.exe#md5=1509752c3c2e64b5d0f9589aafe053dc

3. start wine cmd install Selenium with easyinstall :
easyinstall selenium

4. start the sample python-selenium script as attachment selenium-Ie.py :
$ wine 'c:\python26\python.exe' selenium-Ie.py

$ ./selenium-Ie.sh 


Expect result:
Iexplore will open google search for cheese as a keyword automatic then quit. All these are control by selenium
Actual result:
Iexplore hangs on start up with following messages:

fixme:ieframe:ClassFactory_QueryInterface (0x7eb7cb04)->({00000003-0000-0000-c000-000000000046} 0x33fb50)
fixme:ole:CoResumeClassObjects stub
fixme:storage:create_storagefile Storage share mode not implemented.
fixme:urlmon:URLMoniker_BindToObject use running object table
fixme:ieframe:handle_navigation_error Navigate to error page

winetricks wininet will workaround for it but there will be a crash in IEDriver of selenium then.",758,"0"
"WINE-5503","Opening help in Office97 triggers unhandled page fault","When I open the help in Word97 an unhandled page fault is triggered. I will 
attach the console output.",602,"0"
"WINE-14930","SPSS 16/17 Adobe Audition 2 Framemaker 9 installers fail during file extraction","Created attachment 15510
SPSS 16 standard error with cabinet traces

While trying to test bug 12018 with current Git (wine-1.1.2-551-g34aa6b7) I encountered an installation failure during file extraction. The relevant messages are:

err:msi:msi_cabextract FDICopy failed
err:msi:ACTION_InstallFiles Failed to extract cabinet: LBas.cab
err:msi:ITERATE_Actions Execution halted action LInstallFinalize returned 1627
err:msi:ITERATE_Actions Execution halted action LExecuteAction returned 1627

The issue seemingly lies in FDICopy so I have attached cabinet traces.",386,"0"
"WINE-27654","Sound fails after level start in System Shock 2","Hi

I'm trying to play System Shock 2 under wine.

I have an Ubuntu 11.04 machine running wine 1.2.3.

Everything works perfectly except that the sound fails immediately after the first loading screen (at the recruitment level)

I've had it work once every other time it's failed.
Game stability seems to be related to level of logging enabled for instance:

WINEDEBUG=warn+all causes the game to crash during the intro video (usually fine video and audio)

WINEDEBUG=-all+dsalsa does not although sounds does of course still fail.

I also included this which is the highest level for +all that works:

WINEDEBUG=error+all

Regards

James.",471,"0"
"WINE-21046","cmd does not handle all operators in 'if' command","bug 15359 mentions that firefox's build scripts use commands like
  IF %ERRORLEVEL% EQU 0
wine's cmd only supports == and != operators
windows' cmd also supports equ neq lss leq gtr geq.",1044,"1"
"WINE-12730","gdi32: some tests fail when X is run in 16 bit mode but not 32 bit","Created attachment 12382
+gdi trace in git

+make[2]: *** [bitmap.ok] Error 2
+make[2]: *** [font.ok] Error 2
+make[2]: *** [palette.ok] Error 3
+make[2]: Target `test' not remade because of errors.
+make[1]: *** [gdi32/tests/__test__] Error 2

Tried running make -k test with X in 16 bit mode. Surprisingly all the graphics tests still passed (more likely skipped didn't check). However gdi32 is fishy and not skipping but instead failing.

+gdi log attached",1371,"1"
"WINE-18786","Minitab doesn't run anymore","According to the App DB Minitab 15.1 and Minitab 14.1 can be run with wine 0.9.54 or 0.9.55 installing dcom98 but it doesn't help anymore in fact if you install it then would not be able to install neither Minitab 14.1 nor Minitab 15.1. Both versions of Minitab install successfully with default settings but they can't be run in any way. For Minitab 15.1 an error window from HASP Alladin software is shown. This is a regression since it was possible to make this two applications be run in an older version of wine.",187,"0"
"WINE-40920","Into The Stars (UE4 game) crashes while loading with SwapChain->GetFullscreenState error","Created attachment 55026
Terminal output Wine 1.9.13-144-g9729d15 Windows 7 mode

The Unreal Engine 4 game Into The Stars crashes while loading in a clean Windows 7 prefix. 

I am attempting to run the game on an Nvidia GTX 970 using the proprietary drivers (367.27) in Wine 1.9.13-144-g9729d15.",30,"0"
"WINEHQ_APPS_DATABASE-10153","Can't remove bug link","This is still broken",2,"0"
"WINE-10686","Marangatu fails with Object doesn't support this action","Created attachment 9523
Full terminal log

The eset.exe fails to start bringing up a message box saying that Runtime Error 445 Object doesn't support this action and then Wine pagefaults. Full terminal output and error message attached.",2322,"1"
"WINE-35635","VMXBuider 0.8 (VB6 app) fails to create new VM reporting Run-time error '445' - filesys_get_Drives","With problem described in bug 8539 fixed next one is missing IDriveCollection support:

---
fixme:scrrun:filesys_QueryInterface Unsupported interface {7fd52380-4e07-101b-ae2d-08002b2ec713}
fixme:scrrun:filesys_QueryInterface Unsupported interface {37d84f60-42cb-11ce-8135-00aa004bb851}
fixme:scrrun:filesys_get_Drives 0x7d510ef4 0x33f260
fixme:scrrun:filesys_QueryInterface Unsupported interface {df0b3d60-548f-101b-8e65-08002b2bd119}
---",4,"0"
"WINE-33909","loader/Makefile.in not compatible with BSD make","Compiling on PC-BSD 9 (Based on FreeBSD 9.1) hangs when it gets to compiling the loader:
[austin@pcbsd-7162 ~/wine-git/loader]$ make
gcc -c -I. -I. -I../include -I../include  -D__WINESRC__   -Wall -pipe -fno-strict-aliasing -Wdeclaration-after-statement -Wstrict-prototypes -Wwrite-strings -Wpointer-arith -gdwarf-2 -fno-omit-frame-pointer -I/usr/local/include -g -O2 -fno-builtin -o main.o main.c
LC_ALL=C sed -e 's@PACKAGE_VERSION\@1.6-rc3g'  >wine_info.plist || (rm -f wine_info.plist && false)

Using GNU make works around it:
[austin@pcbsd-7162 ~/wine-git/loader]$ gmake
LC_ALL=C sed -e 's@PACKAGE_VERSION\@1.6-rc3g' wine_info.plist.in >wine_info.plist || (rm -f wine_info.plist && false)
gcc -o wine -Wl--export-dynamic -Wl--section-start.interp=0x60000400 main.o -L../libs/wine -lwine ../libs/port/libwine_port.a -lpthread  -L/usr/local/lib -Wl--rpath\$ORIGIN/../libs/wine
gcc -o wine-installed -Wl--export-dynamic -Wl--section-start.interp=0x60000400 main.o -L../libs/wine -lwine ../libs/port/libwine_port.a -lpthread  -L/usr/local/lib -Wl--rpath\$ORIGIN/`../tools/relpath /usr/local/bin /usr/local/lib` -Wl--enable-new-dtags
LC_ALL=C sed -e 's@bindir\@/usr/local/bing' -e 's@dlldir\@/usr/local/lib/wineg' -e 's@PACKAGE_STRING\@Wine 1.6-rc3g' wine.man.in >wine.man || (rm -f wine.man && false)
LC_ALL=C sed -e 's@bindir\@/usr/local/bing' -e 's@dlldir\@/usr/local/lib/wineg' -e 's@PACKAGE_STRING\@Wine 1.6-rc3g' wine.de.man.in >wine.de.man || (rm -f wine.de.man && false)
LC_ALL=C sed -e 's@bindir\@/usr/local/bing' -e 's@dlldir\@/usr/local/lib/wineg' -e 's@PACKAGE_STRING\@Wine 1.6-rc3g' wine.fr.man.in >wine.fr.man || (rm -f wine.fr.man && false)
LC_ALL=C sed -e 's@bindir\@/usr/local/bing' -e 's@dlldir\@/usr/local/lib/wineg' -e 's@PACKAGE_STRING\@Wine 1.6-rc3g' wine.pl.man.in >wine.pl.man || (rm -f wine.pl.man && false)

It's a regression introduced by c40a72223c9f13aa18d0d5cf7a8071618da6599e",3,"0"
"WINE-2486","Anchors property not emulated with Wine!","Hi all

I created a simple application with Delphi and realised that if I set the
Anchors property to auto-align a component to 'grow' each time a the window
was Maximized or Resized Wine couldn't do this... In result emulating my
program with Wine I could not Maximize or Resize the form!!!

The Anchors property on Delphi has the capability to set an anchor in
four ways (Top Left Right Bottom) so that if I set a anchor at the top
and at the bottom resizing the window vertically would automatically resize
the component to fit the window!


I will try this on the new realesed version but I don't think it will work.




Thank you
Love Wine",383,"0"
"WINE-853","Terragen LCMapStringA( ... ) vs wine-20020605","Bug comments restored from Gmane.org: 
 
wine Terragen.exe throws X error: Failed to load TreeView ... outdated 
COMCTL32.OCX ... after Terragen main window has opened.  Using COMCTL32.OCX 
that 
came with Terragen. 
 
Console errors refer to LCMapStringA( ... ): unimplemented 4 times prior to 
and 4 times after:  Loading modules in C:\Program Files\Terragen\ etc. 
 
No Windows partition present at runtime - on purpose - but do have the 
capability to borrow (copy) system files & DLLs to Linux for Linux to use at 
runtime.  Just don't know where to put them - OR - is updated source required 
for OLE or what? 
 
Using Linux Mandrake 8.1 kernel 2.4.8-26mdk KDE 2.2.1 freetype-2.1.2 
Xwindows 3.3.6 libGL.so.1.2 and building wine-20020605 with gcc-2.96.  Not 
using Xwindows 4.2.0 just yet. 
 
NotePad.exe and WinMine.exe test apps both work fine.  Thanks! 
 
 
------- Additional Comments From apa3a  yahoo.com  2002-07-04 10:22 ------- 
Terragen is a scenery rendering software. Free version can be freely downloaded 
from http://www.planetside.co.uk/terragen/tginstall.shtml. 
Michael what version do you use? 
Version 0844 is the most recent at present time. 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-04 
10:29 ------- 
Added download keyword 
 
 
------- Additional Comments From ithaqua  inreach.com  2002-07-15 13:36 ------- 
Maybe somebody knows exactly which DLL dependencies I should set? Could 
somebody post a sample 
~/.wine/config that is known working with Terragen 0.8.44? So far debug does not look 
like it is 
throwing the final error message any ideas? Is Xwindows v3.3.6 okay? Terragen 
0.8.44 and DCOM95 are 
now installed. Terragen loads in both of the following cases:1) Using builtin comctl32 
the 
left-column child window select buttons are not all visible just part of the first one. In 
the 
Landscape child window the terrain-sculpting buttons do appear with good icons 
but 
funny text (that text was supposed to be Small Med Large I think).2) Using native 
comctl32 the left-column child window select buttons are all properly visible. But in 
the Landscape 
window the terrain-sculpting buttons do not appear at all. In both cases there is 
another problem - 
I think it is a general case. From the Landscape child window click Surface Map then 
in Surface 
Map click Edit ! 
 
Color then wine Terragen just locks-up. Landscape -> Surface Map -> Tex same 
lock-up. 
Cloudscape -> Edit Cloud Color same lock-up. Water -> Edit Diffuse/Transparent 
Color same 
lock-up. Killing the wine Terragen process seems to be the only recovery (back to the 
console). All 
the rest seems working fine including nice rendering. So if anybody has the .srf file 
format spec in 
full detail that alone might be enough. 
 
 
------- Additional Comments From apa3a  yahoo.com  2002-07-15 14:26 ------- 
Researching the main issue - the application startup problem. 
The problem occurs because application tries to create a COM object using not 
registered class ID. This is a class ID from the OLEAUT32.DLL provided with the 
application. You can fix the problem by registering the dll. 
To register the dll run command: 
regsvr32 OLEAUT32.DLL in the application directory. 
Try to do this instead of installing and using additional dlls. 
 
I suggest you to submit other issues in separate bug reports.",1187,"1"
"WINE-39797","The suffering does not start needs wmasf.dll","Created attachment 53108
Terminal output

Just installed The suffering on clean wine prefix 32-bit

The game does not star.",90,"0"
"WINE-1105","Ctrl-Up/Down in ListViews","Bug comments restored from Gmane.org: 
 
This can be viewed in any listview in report mode for instance by putting an 
open dialog in listview mode or using WinZip. 
 
Ctrl+Up/Down Arrow does not seem to work. More precisely the current position 
of the cursor is not shown in any way although a slight flicker gives us a hint 
that the cursor really is moving.",1070,"1"
"WINE-25339","make install-dev target broken for empty directory structures","../tools/mkinstalldirs -m 755 /home/austin/blah/share/man/man1
mkdir /home/austin/blah/share
chmod 755 /home/austin/blah/share
mkdir /home/austin/blah/share/man
chmod 755 /home/austin/blah/share/man
mkdir /home/austin/blah/share/man/man1
chmod 755 /home/austin/blah/share/man/man1
/usr/bin/install -c   ./winemaker /home/austin/blah/bin/winemaker
/usr/bin/install -c  -m 644  winemaker.man /home/austin/blah/share/man/man1/winemaker.1
/usr/bin/install -c  -m 644  winemaker.de.man /home/austin/blah/share/man/de.UTF-8/man1/winemaker.1
/usr/bin/install: cannot create regular file `/home/austin/blah/share/man/de.UTF-8/man1/winemaker.1': No such file or directory
make[1]: *** [install-dev] Error 1
make[1]: Leaving directory `/home/austin/wine-git/tools'
make: *** [install-dev] Error 2

I've got a patch sending it now. Filing a bug so that the fix can be cherry-picked for 1.2.2.",1,"0"
"WINE-8333","Installer missing Q in Quiet option for UI Level in CellFactor:Revolution installer","When installing the game CellFactor:Revolution I noticed this in the console. It
appears we are missing the letter Q in Quiet for the UI Level.

trace:msi:MSIHiddenWindowProc 1 0x34fc8c
Unknown option Luiet for UI level
trace:msi:MsiSetInternalUI 00000005 (nil)",1,"0"
"WINE-28708","gdiplus/tests/image.ok: test_fromhicon triggers reference of uninitialized variable from SetDIBits","Running make image.ok in gdiplus/tests Valgrind complains:

Conditional jump or move depends on uninitialised value(s)
   at colorref_to_pixel_colortable (primitives.c:1088)
   by convert_to_1 (primitives.c:2903)
   by convert_bitmapinfo (dc.c:293) 
   by SetDIBits (dib.c:594)
   by nulldrv_StretchDIBits (dib.c:443)
   by StretchDIBits (dib.c:474)
   by stretch_blt_icon (cursoricon.c:2077)
   by CreateIconIndirect (cursoricon.c:2135)
   by test_fromhicon (image.c:1167)
   by func_image (image.c:2583)
   by run_test (test.h:556)
   by main (test.h:624)
 Uninitialised value was created by a stack allocation
   at SetDIBits (dib.c:503)",926,"1"
"WINE-11217","X Error of failed request:  BadAlloc","Created attachment 10295
Crash log

The game Archlord (available free at www.archlordgame.com) installs using wine. For starting some dlls were missing and were copied an registered to the necessary location (shdocvw.dll).
Now the application crashs on startup. A splash screen could be seen for a split second. The problem is a BadAlloc in the X system.",1422,"1"
"WINE-25991","DameWare Exporter: Unimplemented function netapi32.dll.NetUseDel","Created attachment 33135
Terminal output on Wine 1.3.13

Steps to reproduce:
1) remove ~/.wine
2) winetricks gecko
3) install DameWare Exporter
4) wine DWExporter.exe
5) press F5

Behaviour:
There is Wine's error.

Expected behaviour:
There should be no error.",3,"0"
"WINE-32876","Space Giraffe screen gets flipped and mirrored over a diagonal line","Created attachment 43420
Screenshot of Space Giraffe running in windowed mode

Playing the later levels of Space Giraffe Specifically Space Level 16 Babylon and Ting the display gets flipped upside down and then mirrored across a diagonal from top right to bottom left depending on where the player is on the web",78,"0"
"WINE-27549","Frozen Synapse crash","after a while later in the game in a mission where you have to defend a room i'm getting an error message and then the debugger prints a message i'll attach. interestingly enough i can play on some times but most of the time i have to restart the game after that error.",1091,"1"
"WINE-28672","VirtualDub: crash when using directx for display panes","Latest wine updates are causing constant crashes in VirtualDub these happens with several file types since wine-1.3.28 and I've been able to load back those files after disabling directx usage.
Running wine from console (when using directx as I used to do) gives me a single error report (among several fixme messages as usual) when VD has loaded the file and is about to show it:

err:d3d:context_create wglSwapIntervalEXT failed to set swap interval 1 for context 0x20b1c8 last error 0x591

then the application crashes and shows a dialog box with an alert An integer division by zero occurred in module 'VirtualDub' which I believe is not really related to the crash.
The error message (d3d error) points me to a video issue which in fact disappears when disabling directx for display panes.
These crashes appeared when upgrading from 1.3.26 to 1.3.28 (there was no 1.3.27 wine binary for my lucid lynx) and still happen with 1.3.29.",1925,"1"
"WINE-10241","Fonts are unreadable when using Turkish Locale","Created attachment 8868
LC_ALL=tr_TR.UTF-8 wine Empire\ XP.exe

Country names are unreadable when using Turkish Locale.",390,"0"
"WINE-32108","Borderlands 2 (Steam) fails to start","After installation when i press play i just get an error so i cant start the game. the dialog said i shoult report it.",539,"0"
"WINE-7021","Republic Commando demo cannot find my soundcard","When I try to start the Star Wars Republic Commando demo a messagebox pops up
showing following error message:
Star Wars Republic Commando has detected that your sound card is either missing
or disabled. A sound card is required to play.
But I have a working sound card and the sound in the menu of the game works.
When I click on OK in the messagebox the game terminates.

I have done a +relay+msgbox trace. It seems as if an error occurs in the
function DirectSoundCreate() in dsound.dll which returns DSERR_ALLOCATED. MSDN
says about this return value: The request failed because resources such as a
priority level were already in use by another caller.

The demo is available under 
http://www.3dgamers.com/dlselect/games/swrepubliccommando/republiccommandodemo.exe.html
and
http://www.worthdownloading.com/download.php?gid=235&id=3537",220,"0"
"WINEHQ.ORG-9466","the api status page doesn't work","This is what it say

Warning: mysql_num_fields(): supplied argument is not a valid MySQL result resource in /home/winehq/opt/tools/winapi_stats.php on line 118 Warning: mysql_fetch_array(): supplied argument is not a valid MySQL result resource in /home/winehq/opt/tools/winapi_stats.php on line 129

last modified: Fri Aug 24 9:53:14 CDT 2007",483,"0"
"WINE-15500","Can't select options in the menus","If you try to select any option inside a menu in IFC Trade Terminal the menu won't detect that the mouse is over the option. You have to choose the option with the keyboard.",1117,"1"
"WINE-13378","Xplorer2 lite crashes in SHChangeNotify when deleting directory","I've been playing with alternate shells lately and
an article on the ten best windows apps listed Xplorer2
http://blogs.zdnet.com/Bott/?p=402&page=3
so I gave the Lite version a try http://www.zabkat.com/x2lite.htm

Seemed ok until I tried deleting a directory.
Picak a directory to delete by 
selecting it in the left pane then click the big 'X' icon
and confirm.  Bammo!  I'll attach a log.",786,"0"
"WINE-40392","ComicRack 0.9.x (.NET 4.5 app) hangs/crashes on startup when executing WMI query","As the title says.
ComicRack: (http://comicrack.cyolito.com/files/comicrack/ComicRackSetup09178.exe)

This happens after adding stub for IsDPIAware  i`ve sent a patch for this.
I`ll attach log hereafter.

Using native wbemprox makes the app go further throwing up another errormessagebox (i suspect from windowscodecs i`ll investigate further). Nicely enough there`s an option ``Try resume``. After clicking this the application starts and seems to work.",302,"0"
"WINE-17060","Eve Online graphical glitch","Created attachment 18870
wine output

The screen turns white for a few seconds before turning to normal textures.
This only happens when running the eve premium client with the Cache turned off in the game.
See the attachment for the output.",537,"0"
"WINE-22936","AutoCAD 2008: QuickCalc fails to start","Created attachment 28393
QuickCalc window

Steps to reproduce:
1) winetricks dotnet20
2) install AutoCAD 2008
3) start AutoCAD 2008
4) RMB in drawing area and choose QuickCalc from drop down menu

Behaviour:
Nothing happens
Expected Behaviour:
Window from attachment should be displayed

Workaround:
Use native gdiplus

After clicking QuickCalc the following is in terminal:

fixme:shell:SHAutoComplete stub
fixme:bitmap:CreateDIBSection should fail 48 bpp compression 0
err:xrender:get_xrender_format_from_color_shifts No XRender format found!
fixme:ole:OLEFontImpl_QueryInterface () : asking for unsupported interface {c3fcc19e-a970-11d2-8b5a-00a0c9b7c9c4}
fixme:ole:OLEFontImpl_QueryInterface () : asking for unsupported interface {b196b283-bab4-101a-b69c-00aa00341d07}
fixme:ole:OLEFontImpl_QueryInterface () : asking for unsupported interface {00000003-0000-0000-c000-000000000046}
fixme:ole:OLEFontImpl_QueryInterface () : asking for unsupported interface {00000144-0000-0000-c000-000000000046}
fixme:shell:SHAutoComplete stub
fixme:shell:SHAutoComplete stub
fixme:shell:SHAutoComplete stub
fixme:shell:SHAutoComplete stub",746,"0"
"WINE-4610","total media time is invalid","While testing vlc-0.8.4a-win32 (http://appdb.winehq.org/appview.php?versionId=4271):

Run from the App-Directory: wine vlc.exe
(I used streaming to udp/127.0.0.1 as transport and a native vlc as output.
The Bug exists also when using local output but ddraw crashed wine and
ESD-Audio is unusable).

Tested with various avi and mp3-files:

The total Time is sometimes negativ or much to large (>10000 hours) and changes
often but not every second (when the actual time is updated)
example: -12598:-30:-59

The Position-Slider stay on the left Position.


-- 
By by ... Detlef",454,"0"
"WINE-6420","Magic Workstation: errors using network","I use MWS (Magic Workstation) 0.94f
When I try to connect to an opponent or to a server I get this error:
Could not receive data(10004: Interrupted system call)

To reproduce this error do the following:
Dowload the file
http://www.magicworkstation.com/files/mws094f.exe
and install it.

Then run MWSPlay.exe and select 
File -> New Game -> Load Deck (select any mwDeck in there)
-> Start Game -> Call

Then a window with this message popus",430,"0"
"WINE-5939","MS Money 2004 trial doesn't install many files","The trial version of MS Money 2004 is freely downloadable
and seems to install but the main .exe fails to get installed.
There are lots of messages like
err:msi:ACTION_InstallFiles compressed file wasn't extracted (Lc:\\Program
Files\\Microsoft Money\\System\\compdll.dll)
...
err:msi:ACTION_InstallFiles compressed file wasn't extracted (Lc:\\Program
Files\\Microsoft Money\\System\\msmoney.exe)",7,"0"
"WINE-16960","UnrealTournament video issue: wined3d: Add support for EXT_vertex_array_bgra.","Created attachment 18736
video issues in UnrealTournament

Hello
I have found a regression in wine-1.1.13 that causes video
issues in UnrealTournament.

I have run a regression test:
b1812c690c52c568222963da77a9c427b704197e is first bad commit
commit b1812c690c52c568222963da77a9c427b704197e
Author: Henri Verbeet 
Date:   Thu Jan 8 10:19:17 2009 +0100

    wined3d: Add support for EXT_vertex_array_bgra.
    
    This allows us to skip BGRA->RGBA color conversion for vertex attributes if
    this extension is present.

:040000 040000 a801fc4b8945a58ea5cbe84fca7b2f5a41a7d364 9661beec58147589793e11944d7c14c045dafdf1 M	dlls

CCing the author did not work:
CC: 	hverbeet@codeweavers.com did not match anything",7,"0"
"WINE-26765","x86_64 OS should not be selectable on a 32-bit system","winecfg currently allows a user to select any Windows version that has been added to Wine but 2008R2 does not support 32-bit processors.

Maybe this can be solved by defining VER_PLATFORM_WIN64_NT ?

Any app expecting a 64-bit processor should fail but this is bound to come up at some point in the future.

If/when other architectures are supported the list will change again.

Not sure how big a headache this is to resolve but it is only a trivial issue AFAICT.

I'm sure we've all seen the list before:
http://en.wikipedia.org/wiki/Comparison_of_Windows_versions#NT_Kernel-based",1025,"1"
"WINE-18540","Slingplayer EU 1.5.1 installer random unhandled page fault","Created attachment 21203
wine-1.1.21-290-gd4e1d88 +ole last 500 lines

The Slingplayer installer will randomly cause a page fault.
This will occur at a specific point just before asking whether or not to install the Windows Media 9.5 codecs.
This occurs about 10% of the time (it actually occurs twice in succession each time so maybe there's some garbage left in the memory).
Workaround is run the installer again.
Native quartz and qcap needed to get this far.

This is the suspicious looking line that appears only during the failure:
err:ole:TMStubImpl_Invoke invoke call failed with exception 0xc0000005 (-1073741819)

Full +ole is 90MiB so attaching the last 500 lines.",260,"0"
"WINE-38736","Volume Shadow Copy Service (VSS) Backup/Restore Test Tool from Windows SDK 8.1 needs api-ms-win-security-lsalookup-l1-1-0.dll","Hello folks

as the summary says.

Prerequisite for Windows SDK 8.1 install:

* new 32-bit WINEPREFIX
* 'winetricks -q dotnet40 corefonts'
* change WinVer to 'Vista'
* install .NET Framework 4.5 from 'winetricks' cache or download (to avoid .NET Framework 2.x 3.x install which is not needed here)

Run the SDK installer with WinVer set to 'Windows 8.1' and 'dwrite' component disabled to get all Windows 8+ components installed

--- snip ---
$ WINEDLLOVERRIDES=dwrite=d wine ./sdksetup.exe
--- snip ---

Run the tool:

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/Windows Kits/8.1/bin/x86

$ wine ./betest.exe 
fixme:wer:WerSetFlags (2) stub!
fixme:heap:RtlSetHeapInformation (nil) 1 (nil) 0 stub
fixme:process:SetProcessShutdownParameters (00000380 00000000): partial stub.
fixme:ntdll:WinSqmIsOptedIn () stub
fixme:ole:RemUnknown_QueryInterface No interface for iid {00000019-0000-0000-c000-000000000046}
err:module:import_dll Library api-ms-win-security-lsalookup-l1-1-0.dll (which is needed by LC:\\Program Files\\Windows Kits\\8.1\\bin\\x86\\betest.exe) not found
err:module:LdrInitializeThunk Main exe initialization for LC:\\Program Files\\Windows Kits\\8.1\\bin\\x86\\betest.exe failed status c0000135
--- snip ---

Windows 7 API set:

http://www.geoffchappell.com/studies/windows/win32/apisetschema/ms-win-security-lsalookup-l1-1-0.htm

--- quote ---
API-MS-Win-Security-LSALookup-L1-1-0

All the functions in the API-MS-Win-Security-LSALookup-L1-1-0 set are exports from SECHOST version 6.1 and higher and are not documented (though they are each declared in one or another SDK header file):

    LookupAccountNameLocalA
    LookupAccountNameLocalW
    LookupAccountSidLocalA
    LookupAccountSidLocalW
    LsaLookupClose
    LsaLookupFreeMemory
    LsaLookupGetDomainInfo
    LsaLookupManageSidNameMapping
    LsaLookupOpenLocalPolicy
    LsaLookupTranslateNames
    LsaLookupTranslateSids

The Windows 7 schema redirects this API Set to SECHOST. 
--- quote ---

$ sha1sum sdksetup.exe 
4540251f0ca62da5fd8e68cd4e3129930e7c5ae9  sdksetup.exe

$ du -sh sdksetup.exe 
976K	sdksetup.exe

$ wine --version
wine-1.7.44-173-g42cbc05

Regards",200,"0"
"WINE-29625","TreeView item label truncated when made bold","Created attachment 38379
Screenshot showing the treeview with mouse over and mouse away from the item

SQLyog uses TVIS_BOLD style to indicate the active database in object browser. 

When the mouse is over the item with TVIS_BOLD it wont show in bold font. When you move the mouse away it will become bold but the label is truncated. This works fine in Windows.

A screenshot showing the problem is attached.",488,"0"
"WINE-26575","Homefront: annoying buzz sound in menu/game","Separate from bug 26574 there is an annoying buzzing sound when sitting at the menu/in game. Using driver acceleration=emulation doesn't make a difference.",549,"0"
"WINE-22780","Trackmania United Forever crashes with complex shaders enabled","Created attachment 28107
Log

TMU crashes with recent Wine versions (at least 1.1.42-44)

When I select SM 2.0 or any enhanced graphical options (such as 'Blur') the game crashes in a few seconds.",670,"0"
"WINE-3897","BeginUpdateResource  & EndUpdateResource are not implemented","I cannot run the InnoSetup compiler on Wine 0.9.1 because it seems that
BeginUpdateResource failed is not implemented in the wine api.

BeginUpdateResource does not exists for win9x and appeared in NT 2k...

Is there a chance to see BeginUpdateResource implemented soon ?

Cheers

   Ludo.",598,"0"
"WINE-17393","MansionPoker: Closing a poker table or exiting the program makes the application crash with a runtime error","Created attachment 19456
Console output after crash

Exiting the program or closing a poker table closes the whole program with a runtime error.

See attachment for details",1547,"1"
"WINE-7203","Characters in TES: Oblivion are broken","Patch [17/49] wined3d: Rewrite shader_glsl_mov() to properly take the	write
mask into account caused regression in TES: Oblivion with this patch all
characters in Oblivion are broken (with UseGLSL enabled).",26,"0"
"WINE-2355","Wine says it's unable to map static data into process memory space","I've been trying to play the rather old game Master of Orion II which 
according to the app DB works in Wine.  The installation went through without 
a hitch but the game is unable to start giving this error message: 
 
err:dplay:DPLAYX_ConstructData : unable to map static data into process memory 
space (487) 
err:module:LdrInitializeThunk Main exe initialization for LC:\\Program 
Files\\Microprose\\Orion2\\Orion95.exe failed status c0000142",451,"0"
"WINE-14832","Need for Speed Underground - Crash after aprox. 1 minut of gaming","Created attachment 15379
Output error log - After 1 min of playing in the game the menu works fine

Ubuntu 8.04
P4 - 18GHZ
512MB

Need For Speed Underground crashes after aprox 1 minut...

In order to get it up and running I used the following config:
winecfg: Disable sound Emulate Desktop add dinput8.dll disable vertex shader support enable pixelshader. 

The game was legal bought.
Installed at default location inside drive_c",1057,"1"
"WINE-TESTBOT-35846","Mark http://testbot.winehq.org/ as deprecated","When visiting http://testbot.winehq.org/ versus http://newtestbot.winehq.org/ there is no indication that http://testbot.winehq.org/ is deprecated / running the old server. There should be a note/redirect link at the top of the page.",560,"0"
"WINE-2121","unimplemented function netapi32.dll NetServerGetInfo","Hello   
   
  I'm triing to run a windows program ( Sophos antivirus)   
   
  but cannont complete because gives the following error:   
   
Unhandled exception: unimplemented function netapi32.dll.NetServerGetInfo  
called in 32-bit code (0x4056f056).  
In 32-bit mode.  
0x4056f056 (__wine_unimplemented+0x52 [netapi32.spec.c] in NETAPI32.DLL): jmp    
0x4056f050 (__wine_unimplemented+0x4c [netapi32.spec.c] in NETAPI32.DLL)  
Unable to open file netapi32.spec.c  
  
  I'me tried to set netapi32.dll as native but it seems that wine runs   
  builtin only.   
   
   I'm new about wine any suggestion is very very welcome.   
   
   best regards   
   
     Diego",590,"0"
"WINE-564","Implement function GetGUIThreadInfo","The function GetGUIThreadInfo in USER32.dll is unable to locate.",634,"0"
"WINE-18808","Microsoft FlightSimulator 9 (2004): surface errors and missing textures","Created attachment 21600
log using wine 1.1.23

I could not find any other matching bug so I'm opening a new one:

Microsoft FlightSimulator 9 (2004) uses DirectX 9. It works since wine 1.1.23 but there are severe graphics-related bugs:

Terrain and Objects are transparent or get black. Sometimes they are newly textured after a while or game crashes.

This is wines output:
 fixme:d3d:context_check_fbo_status FBO status GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT_EXT (0x8cd6) [...]
and:
 err:d3d_surface:IWineD3DSurfaceImpl [...] Surface does not have any up to date location
 fixme:d3d:IWineD3DDeviceImpl_UpdateSurface >>>>>>>>>>>>>>>>> GL_INVALID_VALUE (0x501) from glTexSubImage2D @ device.c / 6010

I attached a full log.

My GFX-card is a Nvidia Geforce 8800GTX with Nvidia driver 180.44. Clean wineprefix. wine-windows-version set to Xp also tested 98. I could not find a demo of version 9 but will test FS 10 (X) later on.

Thanks.",384,"0"
"WINE-29412","Right click on system tray icon not work","Hello the right click on system tray icon don't show menu under wine with Qt 4.8 (work under windows).
Example application: http://files.first-world.info/ultracopier/tp/Ultracopier-0.3.0.0-portable-win32.zip

Thanks to fix it.",1764,"1"
"WINE-409","Provide a regedit.exe replacement","Some installers invoke regedit.exe to register some of their dlls. One such
installer is the installer for the Adobe SVG Plugin. Other times some
documentation tells users to run this tool themselves to install/remove registry
keys.
Wine already has a similar tool called regapi but:
 * it is not command-line compatible
 * the files it uses are not in the same format
   (to be checked)
So this task is about modifying regapi to make it compatible with regedit
possibly via usage of a special option which can be trivially added by a wrapper
script.
Creating a separate tool should be avoided if at all possible (code duplication
maintainability etc).",138,"0"
"WINE-28499","Enterprise Architect docked window icons fail no longer have a transparent background","Created attachment 36560
Screenshot of the Docked Window heading.

All Docked window icons have a pink background instead of being transparent.",2,"0"
"WINE-8408","unimplemented function ntoskrnl.exe.memset","Wine 16.May.2007 CVS

when I try to run Tribes Vengeance the games run but the 
ntoskrnl.exe crash because of an unimplmented function.
I know the ntoskrnl.exe is still brand new but I wonder why
it crash beceause of a find_forwarded_export function
even a new .wine could not solve this problem.

err:module:find_forwarded_export module not found for 
forward 'msvcrt._except_handler3' used by Lc:
\\windows\\system32\\ntoskrnl.exe
err:module:find_forwarded_export module not found for forward 'msvcrt.memcpy' 
used by Lc:\\windows\\system32\\ntoskrnl.exe
err:module:find_forwarded_export module not found for forward 'msvcrt.memset' 
used by Lc:\\windows\\system32\\ntoskrnl.exe
wine: Call from 0x241b77 to unimplemented function ntoskrnl.exe.memset 
aborting
wine: Unimplemented function ntoskrnl.exe.memset called at address 0x241b77 
(thread 000b) starting debugger...
Unhandled exception: unimplemented function ntoskrnl.exe.memset called in 
32-bit code (0x7efa3bec).

I am not very fimilar with this stuff but I tought that

ntoskrnl.exe.spec:
@ cdecl -private memset(ptr long long) msvcrt.memset
means it need not be implemented.
correct me if I am wrong :)

My last guess is that it could be a kind of link error.

And please tell me if I should stop to open bug reports for 
ntoskrnl.exe (for now) because it is extremly brand new",374,"0"
"WINE-32960","Unimplemented function user32.dll.UserHandleGrantAccess","Created attachment 43530
Terminal output on Wine 1.5.22

Steps to reproduce:
1) remove ~/.wine
2) install Acrobat Reader 11 PL
3) start Acrobat Reader 11 PL

Behaviour:
Wine error.

Expected behaviour:
No Wine error.",24,"0"
"WINE-39932","bat-script with quotes cann't be called using CreateProcess","Created attachment 53340
executable with source code to reproduce the problem

This problem exists in software to configure HMI panels from OWEN and Xinje. 

http://www.owen.ru/catalog/graficheskaya_panel_operatora_s_sensornim_upravleniem_owen_sp270/93620873 (Russian)

To reproduce this problem easily minimal test program is created. See attached archive cmd_call_batch.tar.xz.

Here are technical details of the problem. To appear following conditions need to be met: 
- bat-script is called using CreateProcess
- name of bat-script is quoted
- some parameters of bat-scrits are quoted.

For example

test2.bat param1 param2

wine runs bat-script using cmd. 
cmd /c test2.bat param1 param2
On Windows cmd fails if name of bat-script and parameters both are quoted. To avoid this problem attached patch always removes quotes from bat-script's name before cmd is called.",1151,"1"
"WINE-18297","Easybooks crashes","I am trying to run an accounting program called Easybooks in Ubuntu 9.04 (runs ok in winXP) 

the verion of wine am using is wine 1.0.1

run from terminal it comes up with the following error

rod@rod-desktop:~$ wine EDP\EasyBooks\EasyBooks.exe
err:local:LOCAL_GetBlock not enough space in USER heap 10d7 for 80 bytes
err:local:LOCAL_GetBlock not enough space in USER heap 10d7 for 80 bytes
err:local:LOCAL_GetBlock not enough space in USER heap 10d7 for 80 bytes

I am totaly new to wine and Terminal but keen to learn

any suggestions

cheers
Rod",168,"0"
"WINE-5623","GetAsyncKeyState wrong if querying process doesn't have focus","GetAsyncKeyState doesn't return the correct key state if the focused process is
different from the process querying the key state. In Windows the call works
regardless of focused process.

GetAsyncKeyState does a lookup in the global key_state_table in
winex11.drv/keyboard.c and each process gets a separate instance of this table.

http://msdn2.microsoft.com/en-us/library/h90dkhs0.aspx gives two ways to
implement shared data while vitamin on IRC mentioned this might belong in
SharedUserData.",1914,"1"
"WINE-36603","valgrind shows uninitialized memory use in winspool.drv/tests/info.c","==21038== Conditional jump or move depends on uninitialised value(s)
==21038==    at 0x5550802: get_special_root_hkey (registry.c:282)
==21038==    by 0x5552E61: RegQueryValueExW (registry.c:1355)
==21038==    by 0x49F9199: OpenPrinterW (info.c:2551)
==21038==    by 0x49F901C: OpenPrinterA (info.c:2495)
==21038==    by 0x49978C8: test_EnumForms (info.c:808)
==21038==    by 0x49A2438: func_info (info.c:3031)
==21038==    by 0x49A32B1: run_test (test.h:584)
==21038==    by 0x49A369F: main (test.h:654)
==21038==  Uninitialised value was created by a stack allocation
==21038==    at 0x49F9091: OpenPrinterW (info.c:2532)
==21038== 

==21038== Conditional jump or move depends on uninitialised value(s)
==21038==    at 0x5550802: get_special_root_hkey (registry.c:282)
==21038==    by 0x5552E61: RegQueryValueExW (registry.c:1355)
==21038==    by 0x49F0C6E: get_dword_from_reg (info.c:493)
==21038==    by 0x49F91CA: OpenPrinterW (info.c:2553)
==21038==    by 0x49F901C: OpenPrinterA (info.c:2495)
==21038==    by 0x49978C8: test_EnumForms (info.c:808)
==21038==    by 0x49A2438: func_info (info.c:3031)
==21038==    by 0x49A32B1: run_test (test.h:584)
==21038==    by 0x49A369F: main (test.h:654)
==21038==  Uninitialised value was created by a stack allocation
==21038==    at 0x49F9091: OpenPrinterW (info.c:2532)
==21038== 

==21038== Conditional jump or move depends on uninitialised value(s)
==21038==    at 0x5550802: get_special_root_hkey (registry.c:282)
==21038==    by 0x5552827: RegSetValueExW (registry.c:1212)
==21038==    by 0x49F0D7E: set_reg_DWORD (info.c:510)
==21038==    by 0x49F91F0: OpenPrinterW (info.c:2554)
==21038==    by 0x49F901C: OpenPrinterA (info.c:2495)
==21038==    by 0x49978C8: test_EnumForms (info.c:808)
==21038==    by 0x49A2438: func_info (info.c:3031)
==21038==    by 0x49A32B1: run_test (test.h:584)
==21038==    by 0x49A369F: main (test.h:654)
==21038==  Uninitialised value was created by a stack allocation
==21038==    at 0x49F9091: OpenPrinterW (info.c:2532)
==21038== 


I do have a network printer available to wine.",13,"0"
"WINE-14412","staruml can't load examples","This is the next bug in this app after bug 5565.

To reproduce:

rm -rf .wine
wget
http://internap.dl.sourceforge.net/sourceforge/staruml/staruml-5.0-with-cm.exe
wget http://kegel.com/wine/winetricks
sh winetricks vcrun6 
wine staruml-5.0-with-cm.exe

Then run the app and do File / Open and load one of the examples.
You will see an OLE error dialog and the fixme
fixme:msxml:domdoc_put_onReadyStateChange 
When you quit the app will crash:
wine: Unhandled exception 0x0eedfade at address 0x0000:0x7ee2b974 (thread 0028) starting debugger...

(winetricks msxml4 should rescue it I haven't checked that since bug 5565.)",956,"1"
"WINE-8856","Winomega crashes with page fault","This is a regression introduced by:

  commit 5817e366346fc9c0e23d30c9d65cbf47c5815e6d
  Author: Alexandre Julliard 
  Date:   Tue Jun 19 16:58:42 2007 +0200

      ntdll: Improved the stub behavior of
NtQuerySystemInformation(SystemModuleInformation).

when running Winomega (installer at http://winomega.com/womega.exe) ntdll
produces a page fault accessing 0x0.",31,"0"
"WINE-32330","Steam slow to redraw when dragging offscreen in virtual desktop","Install steam. Open it in a fullscreen virtual desktop.

Drag it around. It's fast.

Drag it offscreen it becomes really slow to drag around.",393,"0"
"WINE-9839","Game cannot connect using DirectPlay8.1","This game: Trash [free download from http://www.inhumangames.com ]
is unable to connect to the server in latest git. I have used the directplay DLLs and associated overrides described on the wiki [ http://wiki.winehq.org/DirectPlayGames ]. Using the native DLLs wine produces no errors or fixme's related to the issue. The only error appears in the game Could not connect to lobby.
It is my understanding that this game's lobby should work as it is DirectPlay8.1.

I was curious on the status of the opensource DirectPlay8.1 libraries. They seem to be a long time coming. Any updates from the two people working on them?

Thanks
 - xSacha",433,"0"
"WINE-33516","Galactic Civilizations II page faults and crashes when a new campaign is started.","Created attachment 44361
stderr output of optirun wine GalCiv2.exe

I'm trying to run Galactic Civilizations II v1.53 (the latest) I got the game installed through GameStop with the environment variable export WINEARCH=win32. The game starts up with some errors about screen resolution color depth and ActiveX acceleration not being active but reading other bug reports this is normal.

When I start a new game I click next a few times until everything is set up and when I click next the last time the program crashes with a page fault.

I've seen two other bug reports with similar problems (16235 and 19293) but they are quite old. The first is closed with status FIXED and the second has status UNCONFIRMED.

I've tried running the program both with and without optirun but they give the same result. I've also tried the demo and there the problem isn't present.",0,"0"
"WINE-35389","64-bit Newsbin Pro 6.50 crashes on startup","Created attachment 47215
newsbinpro 64bit 6.50 build 3126 crash dump in wine 1.4.1

newsbinpro 64bit 6.50 build 3126 crashes http://www.newsbinpro.com/",119,"0"
"WINE-8844","ShoreTel Client installer crashes when searching for related applications","Running the ShoreTel Client installer crashes during the install at Searching
for Related Applications.",503,"0"
"WINE-34275","Louisiana Adventure Demo fails with 'OLE error 80004001' (HTMLStyleSheet_GetIDsOfNames is a stub)","Created attachment 45631
log

Fails after launch.",3,"0"
"WINE-36109","Magic & Mayhem 2: The Art of Magic sometimes fails to run without native dplay","Created attachment 48291
MM2 demo error message+log

Attaching the error message and logs. The bug doesn't happen on Linux. A demo is available.

Mac OS X 10.9.2 ATI HD 2600 Pro Mac Driver/X11",136,"0"
"WINE-9357","1964 crashes:wine client error:9: write: Bad address","Hi a user submitted this into appdb rated garbage. It crashes immediately with:
wine client error:9: write: Bad address

To me it looks like there's something going wrong in advapi32.RegSetValueEx

Maybe this needs a small test case and see if that's really the problem. Attached is a +all trace",3,"0"
"WINE-21124","Text cursor and some of mouse cursors are not solid in Word 2003","Cursors instead appear dotted as in screenshot",160,"0"
"WINE-452","Correct internationalization method of programs winehelp progman notepad clock","All these programs provide to user possibility to change language of the
application. Language resource id is chosen based on language id.

Instead the applications should specify language in the resource files.
LoadString and other Load* functions can select resource based on its language
and on current language of the environment. User controls to change language
should be removed.

See as example wineconsole application which uses correct approach.

Tip: to test internationalization you can change language of the environment by
setting LANG environment variable like (for bash):

$ export LANG=en_US
$ notepad&",239,"0"
"WINE-32904","Opera installer needs GetNamedSecurityInfo to return an owner for registry keys (dogfood)","Created attachment 43456
opera installer console output

(I assume that's the problem anyway I was asked to file a new bug over at 32360 as Erich Hoover said What appears to be
going on here is that the default ACL for registry keys is not accepted by the
Opera installer. Anwyay here's what I posted there...)

It doesn't crash now at least. What does happen is the progress bar gets most
of the way done and then pops up a bunch of registry error dialogs (giving the
options Ignore and Close eventually one only allows Close then deletes
everything) here's the text of the first:

Failed to modify registry
Software\Classes\Opera{Product}.HTML\FriendlyTypeName. Error code: 39

Each comes with this corresponding error on the console:

fixme:advapi:GetExplicitEntriesFromAclW (nil) 0x33e2a8 0x33e2b0",65,"0"
"WINE-4643","InstallShield (QuickBooks) says not enough space","The QuickBooks Pro 2006 InstallShield installer say there is not enough space
on drive c:\ to extract this package during the beginning of the process. 
However my c:\ has 45GB free and I removed the z:\ link (which by default
pointed to / which had only 1GB free).  Therefore InstallShield should only see
45GB free.

QuickBooksPro2006.exe is available at
.

System:
- WINE CVS 20 Feb 2006 compiled with GCC 4.0.2
- WINE 9.7 from RPM
- Fedora Core 4
- Linux 2.6.15-1.1831_FC4",685,"0"
"WINE-4275","Earth 2160 crashs at start","This is Earth 2160 v1.1. 
I start Earth and for a second I can see a black screen than a msgbox pops up
with: An error has occurred during initialization of Direct3D. This can be
caused by your graphics card configuration or driver. Try to start the program
in Safe Mode (- safe mode execution parameter).

FAQ says: Your graphics card does not support 1.2 or higher Per-Pixel Shader!
Unfortunately you need a new graphics card.

So this seems to be just another pixel shader issue nethertheless i provide a log.",416,"0"
"WINE-10514","BatteryFormulaRacing: Crash on Unimplemented function wsock32.dll.AcceptEx","Hi a user submitted this application into the appdb with garbage test results. I tried it and it crashes/hangs with the the message of the summary.",0,"0"
"WINE-1507","X error of failed request: BadValue (integer parameter out of range for operation)","Hello
Running wine winword.exe when trying to open a existing word document i got the 
following error message:

fixme:hook:NotifyWinEvent (327730x10042-41)-stub!
X Error of failed request:  BadValue (integer parameter out of range for operati
on)
  Major opcode of failed request:  1 (X_CreateWindow)
  Value in failed request:  0x0
  Serial number of failed request:  2300
  Current serial number in output stream:  2303
Wine failed with return code 1

thank you for your help",1,"0"
"WINE-2005","make depend problem with KDE 3.2 (arts 1.2.0)","The artsc-config --cflags returns the following string on my machine

    -I/opt/kde/include/artsc -pthread -I/usr/local/include/glib-2.0   
    -I/usr/local/lib/glib-2.0/include

and the makedep program is unhappy with the -pthread flag.  I was able to work
around this problem by modifying the dlls/winmm/Makefile and removing the
offending flag.",0,"0"
"WINE-18852","3dmark Vantage requires avrt.dll","err:module:import_dll Library AVRT.dll (which is needed by LC:\\Program Files\\Futuremark\\3DMark Vantage\\benchmark.dll) not found

AVRT.dll ships with Windows as of Windows Vista - eg see http://msdn.microsoft.com/en-us/library/ms681960(VS.85).aspx AvQuerySystemResponsiveness et al.",165,"0"
"WINE-9214","winecfg Graphics tab broken","As of the latest Git when selecting the graphics tab there are two problems:

Emulate a virtual desktop cannot be visibly unchecked although no matter what
you do it is always disabled.

The Apply button always start off available (not greyed out) even though no
changes have been made.",1,"0"
"WINE-22907","CamStudio displays an error when record button is pressed  (ICOpen with fccHandler = 0 is not supported)","The CamStudio screen casting software for Windows does not run on Wine despite installing it without any problems.

The main purpose of this report is to let the Wine developers know that CamStudio - after installing - does not work under Wine at all (with AND without the use of winetricks).

Having read the test page for CamStudio it recommends using winetricks to add mfc42.  I did that and CamStudio now opens after installing but it won't record (it's effectively useless).  It comes up with the following error message:

Error Creating AVI File.

Before dismissing this bug report please remember that I tried CamStudio without winetricks first and it does not run at all after installing.",1975,"1"
"WINE-4426","Emperor patch fails while preparing InstallShield","The 1.0.1.0 patch for Emperor: The Rise of the MIddle Kingdom fails swhile
preparing the InstallShield Wizard displaying the following dialogue box

An installation support file could not be installed. (0x8000ffff)",429,"0"
"WINE-7696","GLXBadDrawable during CreateContext Execution","Like in title the call to:
fixme:d3d9:IDirect3DDevice9Impl_GetDepthStencilSurface Call to
IWineD3DDevice_GetRenderTarget failed
is unsupported at the moment what results in further failure:
X Error of failed request:  GLXBadDrawable
  Major opcode of failed request:  143 (GLX)
  Minor opcode of failed request:  5 (X_GLXMakeCurrent)
  Serial number of failed request:  1834
  Current serial number in output stream:  1834
Tested with GTR2 FIA racing.
See detailed log in attachment.",102,"0"
"WINE-12474","Resolume Avenue 3.3.2 - Black video preview windows","Created attachment 12030
The few lines outputed in the terminal

Resolume has several preview windows in it's interface and they are all black making the application useless.",2761,"1"
"WINE-33338","Oxford English Dictionary crashes on start","Created attachment 44095
backtrace as recommended on bug reporting page

Upgrade to 1.5.27 from 1.5.26 causes a Program Error: The program winedvm has encountered a serious problem ....",73,"0"
"WINE-3745","pixmantec rawshooter 2006 premium fails with copy protection","the pixmantec rawshooter 2006 uses binary obfuscation / copy protection 
which is still to hard for WINE. 
 
I am not sure what it uses perhaps shrinker. 
$ wine RawShooter.exe  
fixme:reg:RegSetKeySecurity :(0x7040x56a77e00): stub 
Bus error 
$  
 
 
it triggers repeated exceptions for 0 pointer access for illegal instructons 
(lock lock movl $fixedaddress...) and finally : 
0009:Ret  msvcrt.fopen() retval=00000000 ret=56a5231b 
0009:Call msvcrt._except_handler3(55bc93e055bc945455bc911455bc90d4) 
ret=5572cc12 
0009:Call ntdll.RtlUnwind(55bc9454000000000000000000000000) ret=570f4e61 
fs=1007 
 eax=570ecc05 ebx=57113aa8 ecx=55bc8f28 edx=55bc9464 esi=55bc9454 edi=55bc8f28 
 ebp=55bc8ed8 esp=55bc8ecc ds=002b es=002b gs=0063 flags=00200246 
0009:Ret  ntdll.RtlUnwind() retval=00000000 ret=570f4e61 fs=1007 
 eax=00000000 ebx=57113aa8 ecx=55bc8f28 edx=55bc9464 esi=55bc9454 edi=55bc8f28 
 ebp=55bc8ed8 esp=55bc8ecc ds=002b es=002b gs=0063 flags=00200246 
0009:Call kernel32.GetVersionExA(55bc93b8) ret=56a424e3 
0009:Call ntdll.RtlGetVersion(55bc91e0) ret=55a51898 
0009:Ret  ntdll.RtlGetVersion() retval=00000000 ret=55a51898 
0009:Ret  kernel32.GetVersionExA() retval=00000001 ret=56a424e3 
0009:Call msvcrt.??2@YAPAXI@Z(00000010) ret=56a43d94 
0009:Call ntdll.RtlAllocateHeap(558b00000000000000000010) ret=570fcd7a 
0009:Ret  ntdll.RtlAllocateHeap() retval=5715ddd0 ret=570fcd7a 
0009:Ret  msvcrt.??2@YAPAXI@Z() retval=5715ddd0 ret=56a43d94 
0009:Call kernel32.VirtualAlloc(00000000000010000000100000000004) 
ret=56a60d47 
0009:Call 
ntdll.NtAllocateVirtualMemory(ffffffff55bc93580000000055bc93700000100000000004) 
ret=55a51d17 
0009:Ret  ntdll.NtAllocateVirtualMemory() retval=00000000 ret=55a51d17 
0009:Ret  kernel32.VirtualAlloc() retval=572a0000 ret=56a60d47 
Bus error",337,"0"
"WINE-1793","Some apps print backward and upside down","There was a bug in Win.  which caused some programs to print backwards and upside down.  
This was fixed by Microsoft but not before many programs were written to generate printing 
that was backwards and upside down.  The Wine Postscript driver does not support this ability 
to handle backwards printing.",829,"1"
"WINE-7295","wine.inf's timezone data is inconsistent with Windows","There are quite a lot of timezones where Wine's registry timezone data (defined
in tools/wine.inf) does not match what Windows has.
Where does wine.inf's current data come from?
Where can one find authoritative data for this?

* wine.inf's TZI field does not match Windows for these time zones:
  Won't this impact email tools?
  Arabic Standard Time
  Azores Standard Time
  Caucasus Standard Time
  Dateline Standard Time
  E. South America Standard Time
  GTB Standard Time
  Iran Standard Time
  Israel Standard Time
  New Zealand Standard Time
  Newfoundland Standard Time
  Pacific SA Standard Time

* wine.inf is missing some time zones:
  Ekaterinburg Standard Time
  Greenland Standard Time
  Mid-Atlantic Standard Time
  Nepal Standard Time
  Sri Lanka Standard Time
  W. Central Africa Standard Time

* wine.inf has an extra time zone:
  Mexico Standard Time 2

* Wine's display name is not in the same format as the Windows one:
  For instance for Tonga Standard Time:
  Windows has: Display=(GMT+13:00) Nuku'alofa
  Wine has   : Display=Pacific/Tongatapu",610,"0"
"WINE-3394","the hobbit demo install craches with wine cvs 2005-09-25","download game demo (170Mo) at :
ftp://ftp.vugames.com/pub/sierra/hobbit/demos/thehobbit\(TM\)_demo.exe

$ wine thehobbit\(TM\)_demo.exe

fixme:msi:MsiInstallProductW LC:\\windows\\temp\\pft6a4.tmp\\isscript.msi
LREBOOT=ReallySuppress ADDLOCAL=All
fixme:msi:ACTION_HandleStandardAction unhandled standard action LSelfUnregModules
fixme:msi:ACTION_HandleStandardAction unhandled standard action LRemoveFiles
fixme:msi:ACTION_InstallFiles Write DiskPrompt
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
message repeated 150 times 
...
fixme:msi:ACTION_HandleStandardAction unhandled standard action
LRemoveRegistryValues
fixme:msi:ACTION_HandleStandardAction unhandled standard action LRemoveFolders
fixme:msi:ACTION_HandleStandardAction unhandled standard action LValidateProductID
fixme:msi:ACTION_HandleStandardAction unhandled standard action LIsolateComponents
fixme:msi:ACTION_HandleStandardAction unhandled standard action
LMigrateFeatureStates
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7a0997880x7a09978c) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7a0997840x7a099788) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7bacdee00x7bacdee4) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7bacdde80x7bacddec) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7bacdedc0x7bacdee0) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7bacdde40x7bacdde8) stub!
fixme:ole:_copy_arg Should not use VariantChangeType here. (conversion from 0x3
-> 0xb) 79a3ffff
fixme:win:SetWindowTextA setting text The Hobbit(TM) Demo Setup of other
process window (nil) should not use SendMessage
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7bacdedc0x7bacdee0) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7bacdde40x7bacdde8) stub!
fixme:x11drv:X11DRV_SetWindowRgn not supported on other thread window 0x1003e
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7bacdee00x7bacdee4) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7bacdde80x7bacddec) stub!
fixme:ole:_copy_arg Should not use VariantChangeType here. (conversion from
0x4003 -> 0x2) 7a090000
fixme:ole:VARIANT_UserFree handle unknown complex type
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7bacdee00x7bacdee4) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x7bacdde80x7bacddec) stub!
fixme:msi:MsiInstallProductW LC:\\windows\\temp\\pft6a4.tmp\\The Hobbit(TM)
Demo.msi LADDLOCAL=CD_ResidentMain_App AI=\C:\\Program Files\\Sierra\\The
Hobbit(TM) Demo\\Common\\AI\\\ ALLUSERS=2 ALLUSERSPROFILE=C:\\
ARPCOMMENTS=\The Hobbit(TM) Demo\ ARPCONTACT=\Customer Support Department\
ARPHELPLINK=http://www.sierra.com/support.do ARPHELPTELEPHONE=\1 (310)
649-8033\ ARPNOMODI...
fixme:ole:RpcChannelBuffer_GetDestCtx (0x79b6c2180x79b6c21c) stub!
fixme:msi:ACTION_HandleStandardAction unhandled standard action LValidateProductID
err:msi:deformat_environment Unknown environment variable LALLUSERSPROFILE
fixme:msi:ACTION_HandleStandardAction unhandled standard action LIsolateComponents
fixme:msi:ACTION_HandleStandardAction unhandled standard action LSetODBCFolders
fixme:msi:ACTION_HandleStandardAction unhandled standard action
LMigrateFeatureStates
fixme:msi:ACTION_HandleStandardAction unhandled standard action
LRemoveExistingProducts
fixme:rpc:RpcImpersonateClient (0x78aedf48): stub
fixme:ole:RpcChannelBuffer_GetDestCtx (0x781ce12c0x781ce130) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x781ce0b00x781ce0b4) stub!
err:msi:process_action_return_value Invalid Return Code 2
err:msi:ITERATE_Actions Execution halted due to error (1603)
fixme:ole:RpcChannelBuffer_GetDestCtx (0x781ce1800x781ce184) stub!
fixme:ole:RpcChannelBuffer_GetDestCtx (0x781ce1040x781ce108) stub!
fixme:rpc:RpcServerUnregisterIf (IfSpec == (RPC_IF_HANDLE)^(nil) MgrTypeUuid ==
(null) WaitForCallsToComplete == 0): stub

here a dialog box say : 

ERROR: -1603 Fatal error during installation 
consult Windows Installer Help (Msi.chm) or MSDN for more information 

I clic OK buton

fixme:rpc:RpcServerUnregisterIf (IfSpec == (RPC_IF_HANDLE)^(nil) MgrTypeUuid ==
(null) WaitForCallsToComplete == 0): stub
fixme:ole:_copy_arg Should not use VariantChangeType here. (conversion from 0x3
-> 0xb) 78c20000

then program window  say : 

InstallSheild Wizard Completed 
the wizard was interrupted before ...... 

I clic finish

fixme:ole:RpcChannelBuffer_GetDestCtx (0x7962e7d40x7962e7d8) stub!
err:ole:dispatch_rpc no apartment found for ipid
{ffffffff-ffff-ffff-3300-000012000000}
err:rpc:I_RpcReceive we got fault packet with status 6be
err:ole:dispatch_rpc no apartment found for ipid
{ffffffff-ffff-ffff-3300-000012000000}
err:rpc:I_RpcReceive we got fault packet with status 6be
err:ole:dispatch_rpc no apartment found for ipid
{ffffffff-ffff-ffff-3300-000012000000}
err:rpc:I_RpcReceive we got fault packet with status 6be
err:ole:dispatch_rpc no apartment found for ipid
{ffffffff-ffff-ffff-3300-000012000000}
err:rpc:I_RpcReceive we got fault packet with status 6be

here i get the prompt and all proccess close except one : 
 /usr/local/bin/wine-preloader /usr/local/bin/wine-pthread
C:\PROG~FBU\FICH~TPV\INST~JM1\Driver\7\INTE~MEX\IDriver.exe -Embedding",127,"0"
"WINE-18041","Teamviewer 4 crash on Add group of Partner List","Created attachment 20435
Console output

If I open the Partner List in Teamviewer (icon at the right bottom corner) and click on the first toolbar icon (Add Group) then the application hangs. Always.

To reproduce just download the free for personal use version of Teamviewer and follow the steps above.",158,"0"
"WINE-1171","regression of sound from vvresion 20020411","Bug comments restored from Gmane.org:

The ability of using window program sound from MMSSTV and TRUETTY has 
disappeared from the latest version. Using Mandrake 8.1 on one box and 
Mandrake 9.0 on another. Same problem exists on both machines. Uninstalled the 
20020904-7 and went back to the 20020411 version and everything works again on 
both machines.


------- Additional Comments From mcbridematt  hotmail.com  2002-12-02 02:55
-------
Found the same problems with Total Annihilation on a RH 7.3 Box. Cavedog Intro
movie sound plays finally :-) but anything other than that has called it a day.
(It thinks my DirectX is too old first time it's said that)",374,"0"
"WINE-9369","cannot use context menu in password gorilla","Password gorilla is a cross platform app written in tcl/tk but I tried the Windows version anyway.

For all items in a password file it is possible to right-click to bring up the context menu but clicking on the menu items in the context menu makes the context menu disappear without taking the selected action.",885,"1"
"WINE-7950","DirectX strange render window cutoff in Candytron both Party and Final version","This is a 64k demo by Farb-rausch that same group created several using the
same procedural content engine and pretty much all of them function as intended
and don't exhibit that bug.
Essentially:
1-upon starting the render window is correctly dimensioned as full screen (800x600)
2-after content generation bar reaches completion 3D starts running in full
screen correctly
3-after the first screen blackout the render window is truncated on the left
(+-20% of screen) and bottom (+- 30% of screen)

Playback goes well anyway only minor defects such as overly strong HDR-like
effect and some missing fonts in the background (but only some - this may come
from a build defect as other fonts appear)

Problem occurs in both GLSL and ARB modes (they seem identical otherwise). It
has been made for Geforce2-level hardware.

It once seemed to be very sensitive to sound emulation (required OSS driver
emulation) but now works with ALSA with 'standard' acceleration.

No error message in console when the bug occurs (only thing appearing is the
frame buffer size stub - making available RAM 128 Mb changes nothing) - as such
I guess it's not a missing function but rather a bug in an existing function.",1142,"1"
"WINE-3755","FillGLCaps may be wrong about gl_version with the nvidia drivers","I got the following output:

fixme:d3d_caps:IDirect3D8Impl_FillGLCaps found GL_VERSION  (2.0.0 NVIDIA
76.76)->(0x004c1dfc) = 76.7676
fixme:d3d_caps:IDirect3D8Impl_FillGLCaps found GL_RENDERER (GeForce Go
6800/PCI/SSE2)->(0x00c8)

where 76 is major and 7676 is minor version? ddraw checks for a \d+.\d+.\d+
match which seems more proper.",3,"0"
"WINE-18168","cmd fails when passing environment variables in a batfile","This is a BDE installaation file:
set SysDir=%windir%\system

if %OS%==Windows_NT (set SysDir=%SysDir%32)

%sysdir%\regsvr32.exe /S bdeinst.dll


While processing the line with set SysDir=%SysDir%32 cmd fails with the following error:

Z:\home\vyaltseva3\MDPROJECT>set SysDir=C:\windows\system
Z:\home\vyaltseva3\MDPROJECT>if Windows_NT==Windows_NT 
Z:\home\vyaltseva3\MDPROJECT>set SysDir=C:\windows\system32
wine: Unhandled page fault on read access to 0x00000000 at address 0x7ee214cb (thread 001c) starting debugger...
Unhandled exception: page fault on read access to 0x00000000 in 32-bit code (0x7ee214cb).
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:0033 GS:003b
 EIP:7ee214cb ESP:00331820 EBP:00331cd8 EFLAGS:00210202(   - 00      - -RI1)
 EAX:00154bf8 EBX:7ee26ff4 ECX:00000000 EDX:00000000
 ESI:00000000 EDI:0000000c
Stack dump:
0x00331820:  00110000 00000000 00004000 00000003
0x00331830:  7ee24e30 ffffffff 00000000 00000000
0x00331840:  00000000 00000000 7ee253f3 7ee66704
0x00331850:  7ee251d0 7ee25410 00331cb0 00331ca4
0x00331860:  00154bf8 00000000 00000006 00000014
0x00331870:  00230c2e 0000001c 00000003 00154bf8
Backtrace:
=>0 0x7ee214cb WCMD_execute+0xcb() in cmd (0x00331cd8)
  1 0x7ee1627b in cmd (+0x1627b) (0x00331d38)
  2 0x7ee16616 WCMD_if+0x186() in cmd (0x00331f78)
  3 0x7ee221ec WCMD_execute+0xdec() in cmd (0x00332438)
  4 0x7ee225ab WCMD_process_commands+0x9b() in cmd (0x00332478)
  5 0x7ee12173 WCMD_batch+0x123() in cmd (0x003364c8)
  6 0x7ee21349 WCMD_run_program+0xba9() in cmd (0x0033f0d8)
  7 0x7ee21777 WCMD_execute+0x377() in cmd (0x0033f598)
  8 0x7ee225ab WCMD_process_commands+0x9b() in cmd (0x0033f5d8)
  9 0x7ee22f6e wmain+0x8de() in cmd (0x0033fee8)
  10 0x7ee23692 in cmd (+0x23692) (0x0033ff08)
  11 0x7b877dc0 in kernel32 (+0x57dc0) (0x0033ffe8)
  12 0xb7f53da7 wine_switch_to_stack+0x17() in libwine.so.1 (0x00000000)
0x7ee214cb WCMD_execute+0xcb in cmd: movzwl	0x0(%ecx%edx1)%eax",191,"0"
"WINE-28398","Might & Magic VI Heroes - fails to start game crashes right after menu","Created attachment 36412
Backtrace

HOMM6 fails to start crashes while loading. Backtrace attached.

Link to the game:
http://www.fileplanet.com/221898/220000/fileinfo/Might-&-Magic-Heroes-VI-Demo

I am using newest wine from GIT.",951,"1"
"WINE-17455","UnrealED 2: Cannot manipulate the viewports in any way.","Created attachment 19534
Log of UnrealED session

Now that bug 7451 is fixed it is possible to start the unreal editor.  Everything works... except for any kind of viewport manipulation (which is done by clicking and dragging in the viewport with various combinations of shift control etc.)  As a result it is impossible to use the editor because you simply cannot see all parts of the map nor move things around in the viewports.

It is however possible to subtract a cube and then apply textures to the surfaces that are initially visible by clicking on them in the viewport.

This may affect other versions of the unreal editor but I am not sure.

The attached log was output when starting an unrealed session attempting to click and drag on the main viewport then quitting.  However all of the log messages were output before I touched the viewport.",2015,"1"
"WINE-35932","EvoSvc (Evolve Service .NET 4.0 app) fails to register video codecs with Windows Media Player (missing 'HKLM\\SOFTWARE\\Microsoft\\Multimedia\\WMPlayer\\Extensions' registry key)","Hello folks

after fixing bug 35924 the client still reports problems with the service.

Prerequisite: 'winetricks -q dotnet40 corefonts'

'EvolveClient.log'

--- snip ---
2014-Apr-05 21:34:48.656883 - System: Microsoft Windows NT 5.1.2600 Service Pack 3
2014-Apr-05 21:34:48.703646 - Running version 1.8.3.
2014-Apr-05 21:34:48.711243 - Running against production backend.
2014-Apr-05 21:35:51.509870 - Testing connection to service...
2014-Apr-05 21:35:51.521973 - StartEvolveService: Attempting to start service: EvoSvc.
2014-Apr-05 21:35:52.107810 - StartEvolveService: Service EvoSvc started.
2014-Apr-05 21:35:52.110547 - Successfully verified connection to service.
2014-Apr-05 21:35:52.149689 - Successfully started crash watchdog.
2014-Apr-05 21:35:52.153756 - Caught exception when attempting to register video codecs with Windows Media Player: [EvoSvcClientClrThunk.RpcExceptionClr: Exception of type 'EvoSvcClientClrThunk.RpcExceptionClr' was thrown.]
...
--- snip ---

'EvoSvc.log'

--- snip ---
2014-Apr-05 21:35:51.602663 - EvoSvc.exe version 1.8.3.
2014-Apr-05 21:35:51.606479 - Evolve Service was successfully enabled in the Windows Firewall.
2014-Apr-05 21:35:51.606815 - Evolve Client was successfully enabled in the Windows Firewall.
2014-Apr-05 21:35:51.607065 - Loading Evolve configuration...
2014-Apr-05 21:35:51.608974 - Could not load configuration file. Using default configuration.
2014-Apr-05 21:35:51.609137 - Running against production backend.
2014-Apr-05 21:35:51.609756 - Starting RPC server...
2014-Apr-05 21:35:51.610435 - Successfully started RPC server.
2014-Apr-05 21:35:52.146059 - Started client crash watchdog.
2014-Apr-05 21:35:52.151554 - Making sure video codecs are properly registered with Windows Media Player...
2014-Apr-05 21:35:52.151738 - Could not open registry key: SOFTWARE\Microsoft\Multimedia\WMPlayer\Extensions. File not found. (2).
2014-Apr-05 21:36:03.462868 - Received SERVICE_CONTROL_SHUTDOWN. Initiating shutdown...
2014-Apr-05 21:36:03.467605 - Shutting down...
2014-Apr-05 21:36:03.467718 - Shutting down RPC server...
2014-Apr-05 21:36:03.470507 - Successfully updated the LAN Bridger configuration file.
2014-Apr-05 21:36:03.472371 - Thread Pool: Created worker threads successfully.
2014-Apr-05 21:36:03.472470 - Thread Pool: Shutting down worker threads...
2014-Apr-05 21:36:03.472745 - Thread Pool: Shut down worker threads successfully.
2014-Apr-05 21:36:03.472997 - Stopped client crash watchdog.
2014-Apr-05 21:36:03.473853 - Successfully updated the LAN Bridger configuration file.
2014-Apr-05 21:36:03.474138 - RPC server shut down.
2014-Apr-05 21:36:03.474442 - Service stopped.
--- snip ---

Adding the key makes the service happy:

--- snip ---
$ wine reg add HKLM\\Software\\Microsoft\\Multimedia\\WMPlayer\\Extensions
--- snip ---

The service will add the following sub-key data:

--- snip ---
[HKEY_LOCAL_MACHINE\Software\Microsoft\Multimedia\WMPlayer\Extensions]

[HKEY_LOCAL_MACHINE\Software\Microsoft\Multimedia\WMPlayer\Extensions\.mkv]
Permissions=dword:0000000f
PermissionsAddedByEvolve=dword:00000001
Runtime=dword:00000007
RuntimeAddedByEvolve=dword:00000001

[HKEY_LOCAL_MACHINE\Software\Microsoft\Multimedia\WMPlayer\Extensions\.mov]
Permissions=dword:0000000f
PermissionsAddedByEvolve=dword:00000001
Runtime=dword:00000007
RuntimeAddedByEvolve=dword:00000001
--- snip ---

'EvoSvc.log'

--- snip ---
2014-Apr-05 21:46:45.788496 - EvoSvc.exe version 1.8.3.
2014-Apr-05 21:46:45.791622 - Evolve Service was successfully enabled in the Windows Firewall.
2014-Apr-05 21:46:45.791964 - Evolve Client was successfully enabled in the Windows Firewall.
2014-Apr-05 21:46:45.792172 - Loading Evolve configuration...
2014-Apr-05 21:46:45.793703 - Successfully loaded the Evolve configuration file.
2014-Apr-05 21:46:45.793835 - Running against production backend.
2014-Apr-05 21:46:45.794412 - Starting RPC server...
2014-Apr-05 21:46:45.794984 - Successfully started RPC server.
2014-Apr-05 21:46:46.324862 - Started client crash watchdog.
2014-Apr-05 21:46:46.332122 - Making sure video codecs are properly registered with Windows Media Player...
2014-Apr-05 21:46:46.332439 - Registered .mov with Windows Media Player.
2014-Apr-05 21:46:46.332641 - Registered .mkv with Windows Media Player.
2014-Apr-05 21:46:46.332703 - No need to register .mkv with Windows Media Player.
2014-Apr-05 21:46:46.343371 - New UI client connected. Sending state...
2014-Apr-05 21:46:46.343504 - Successfully sent state to new UI client.
2014-Apr-05 21:46:46.343785 - UI notification callback failed: 0x000006A6.
2014-Apr-05 21:46:46.345137 - UI disconnected. Leaving any lobbies currently in progress...
2014-Apr-05 21:46:46.345421 - Stopped client crash watchdog.
2014-Apr-05 21:46:46.345570 - Waiting 5 seconds for the client to reconnect before shutting down...
2014-Apr-05 21:46:51.346371 - Shut down timer expired. Shutting down service...
2014-Apr-05 21:46:51.347513 - StopService: Telling service to stop...
2014-Apr-05 21:46:51.347823 - Received SERVICE_CONTROL_STOP. Initiating shutdown...
2014-Apr-05 21:46:51.349821 - Shutting down...
2014-Apr-05 21:46:51.349913 - Shutting down RPC server...
2014-Apr-05 21:46:51.351567 - Successfully updated the LAN Bridger configuration file.
2014-Apr-05 21:46:51.352819 - Thread Pool: Created worker threads successfully.
2014-Apr-05 21:46:51.352924 - Thread Pool: Shutting down worker threads...
2014-Apr-05 21:46:51.353661 - Thread Pool: Shut down worker threads successfully.
2014-Apr-05 21:46:51.354831 - Successfully updated the LAN Bridger configuration file.
2014-Apr-05 21:46:51.355325 - RPC server shut down.
2014-Apr-05 21:46:51.355675 - Thread Pool: Shutting down worker threads...
2014-Apr-05 21:46:51.355794 - Thread Pool: Shut down worker threads successfully.
2014-Apr-05 21:46:51.355864 - Service stopped.
--- snip ---

The login dialog is shown and after supplying the credentials it starts some auto-updater.

$ sha1sum EvolveSetup.exe 
0c9f92f1ed5f97bced68c1185525dfe78900f795  EvolveSetup.exe

$ du -sh EvolveSetup.exe 
3.2M	EvolveSetup.exe

$ wine --version
wine-1.7.16-1-gb772260

Regards",6,"0"
"WINE-9584","Mame will not start due to missing Direct3D functionality","The windows version of MAME will not start. The following error text is printed when using Mame's verbose mode.

Video: Monitor 00000001 = \\.\DISPLAY1 (primary)
fixme:win:EnumDisplayDevicesW ((null)00x2a6f7c00x00000000) stub!
Direct3D: Using Direct3D 9
Direct3D: Configuring adapter #0 = Direct3D HAL
Direct3D: Error - Device does not support per-refresh presentations
Direct3D: Using dynamic textures
Error: Device does not meet minimum requirements for Direct3D rendering
Unable to initialize Direct3D.
Unable to complete window creation


I quickly went through Mame's source code. This text is printed in function device_create in src/osd/windows/drawd3d.c. The actual test for capabilities is done in the function device_verify_caps: tempcaps & D3DPRESENT_INTERVAL_ONE.

Steps to reproduce:

1. Download Mame (I used version 118)
2. Download e.g. Gridlee rom set from http://www.mamedev.org/roms/
3. Install Mame place gridlee.zip to the roms subdirectory
4. cd to mame directory
5. wine mame.exe -v roms/gridlee.zip

The rom file is not strictly necessary but having one is the common use case.",6,"0"
"WINE-14420","Condemned Criminal Origins Mouse Cursor Unable to initialise","Created attachment 14739
Screenshot of the Error Message in WINE

When Launching the game Condemned Criminal Origins I received an Error Stating exactly ERROR in CInterfaceMgr::Init():  Could not initialize Cursor!. Due to this error the game/WINE just closes automatically thus You cannot launch the game and at least cannot get into the menu.",290,"0"
"WINE-8290","Lotus Notes 6.5 demo fails to install","The install chokes after
err:msi:ITERATE_StartService Failed to start service LMulti-user Cleanup Service",798,"0"
"WINE-29544","StarCraft BroodWar crashes when I try to click on map","Since Wine 1.3.29 StarCraft BroodWar crashes when I try to click on map and I must to kill SC process.
My distribution: Fedora 16.
That is full text of bug log:
err:seh:setup_exception_record stack overflow 1200 bytes in thread 0009 eip 6806d634 esp 00230e80 stack 0x230000-0x231000-0x330000


StarCraft BroodWar works very good with Fedora 14 and Wine 1.3.24.",23,"0"
"WINE-15755","Some applications do not correctly detect administrative privileges","With 1.1.7 when trying to launch the installer a message box displays with the message You don't have permission to install games from Big Fish Games on this computer. Please login with an administrator account and try again. The only emitted standard error messages are:

fixme:advapi:CheckTokenMembership ((nil) 0x12be08 0x33ee14) stub!
fixme:advapi:CheckTokenMembership ((nil) 0x12be08 0x33ee14) stub!
fixme:advapi:CheckTokenMembership ((nil) 0x12be08 0x33ee14) stub!
fixme:advapi:CheckTokenMembership ((nil) 0x12be08 0x33ee14) stub!",381,"0"
"WINEHQ_BUGZILLA-43016","Missing component comsvcs","Can someone add component comsvcs which will also cover mtxdm.",0,"0"
"WINE-42708","Soul Reaver GOG Cinematics stopped working","Created attachment 57684
terminal output

Video playback for Legacy of Kain: Soul Reaver (GOG version) does no longer work. It worked with Wine 1.6.2 from the Stable branch of Debian (8 Jessie) 64 bit while now the screen is black (or for the introduction with a darkened game menu as if a fade to black failed) while the audio plays normally.",53,"0"
"WINE-37096","Problems with DC Universe Online and Virtual Desktops","Created attachment 49318
Comparison of wine 1.2 and 1.7.24

DC Universe starts itself up in a multi-stop process using a launcher. When Play is clicked on the launcher the game appears to start in a blank dos window that changes to full screen. Then a screen appears where one can select or create a character. Pressing play here begins actual game play.

To install and run DC Universe requires winetricks xact ie8 vcrun2005 vcrun2010

My machine is a core i5 desktop with radeon graphics (catalyst 13.35). I run opensuse 13.1 KDE with three virtual desktops which I switch between using ctrl-f1/ctrl-f2/ctrl-f3. 

For stable play the game has to be run using the Emulate Virtual Desktop option from winecfg. Behavior (or misbehavior) changes using recent wine versions. I am attaching an annotated log file comparing wine version 1.2.2

Summary

with wine version 1.2: if one does not run emulate virtual desktop the launcher appears and pressing play results in a minimized game window. If you open the window right away it is blank and if you don't open it right away you'll eventually know when the game is ready to play because you'll hear the music played at the character screen. Then you can maximize the window and play but switching virtual desktops caused the game to crash. With emulate virtual desktop selected in winecfg and set to full screen you can see that the launcher opens what appears to be a dos window (minimized). Opening it gives a blank window until the full screen game starts. If you leave it minimized you can always see the minimized window icon even after the full screen game starts (does not interfere with game play). 

With more recent versions of wine:
With emulate virtual desktop off in winecfg the game launcher will appear and pressing play will cause the game to start minimized just like in 1.2 but if you don't open the minimized window the game will freeze and crash. With emulate virtual desktop on the game will start normally and run will but will freeze when switching KDE virtual desktops.

Sorry if all that was long winded.",659,"0"
"WINE-121","Detect lack of ~/.winerc /etc/wine.conf and autolaunch winesetup","The winelauncher should automatically detect the lack of a config
file and autolaunch the setup utility.  That way a first time run of
Wine results in a nice user experience.",734,"0"
"WINE-26113","gameux/gamestatistics shows a ton of valgrind warnings","Created attachment 33291
valgrind log

The first:
 Conditional jump or move depends on uninitialised value(s)
    at  lstrlenW (winbase.h:2268)
    by  GameStatisticsImpl_GetCategoryTitle (gamestatistics.c:830)
    by  test_gamestatisticsmgr (gamestatistics.c:366)
    by  func_gamestatistics (gamestatistics.c:446)
    by  run_test (test.h:556)
    by  main (test.h:624)
  Uninitialised value was created by a client request
    at  mark_block_uninitialized (heap.c:208)
    by  initialize_block (heap.c:239)
    by  RtlAllocateHeap (heap.c:1702)
    by  create_IGameStatistics (gamestatistics.c:1001)
    by  GameStatisticsMgrImpl_GetGameStatistics (gamestatistics.c:1098)
    by  test_gamestatisticsmgr (gamestatistics.c:344)
    by  func_gamestatistics (gamestatistics.c:446)
    by  run_test (test.h:556)
    by  main (test.h:624)

looks like a test failure that occurs under WINEDEBUG=warn+heap:
gamestatistics.c:368: Test failed: getting category title failed

But there's more:
 24 bytes in 3 blocks are definitely lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  SysAllocStringLen (oleaut.c:235)
    by  bstr_from_xmlChar (msxml_private.h:295)
    by  domelem_getAttribute (element.c:1056)
    by  GAMEUX_loadStatisticsFromFile (gamestatistics.c:514)
    by  GAMEUX_loadGameStatistics (gamestatistics.c:630)
    by  GameStatisticsMgrImpl_GetGameStatistics (gamestatistics.c:1107)
    by  test_gamestatisticsmgr (gamestatistics.c:344)
    by  func_gamestatistics (gamestatistics.c:446)
    by  run_test (test.h:556)
    by  main (test.h:624)

...

 48 bytes in 3 blocks are definitely lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  heap_alloc (msxml_private.h:420)
    by  create_children_nodelist (nodelist.c:318)
    by  node_get_child_nodes (node.c:246)
    by  domelem_get_childNodes (element.c:262)
    by  GAMEUX_loadStatisticsFromFile (gamestatistics.c:530)
    by  GAMEUX_loadGameStatistics (gamestatistics.c:630)
    by  GameStatisticsMgrImpl_GetGameStatistics (gamestatistics.c:1107)
    by  test_gamestatisticsmgr (gamestatistics.c:344)
    by  func_gamestatistics (gamestatistics.c:446)
    by  run_test (test.h:556)
    by  main (test.h:624)

...
 
 120 bytes in 6 blocks are definitely lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  SysAllocStringLen (oleaut.c:235)
    by  bstr_from_xmlChar (msxml_private.h:295)
    by  domelem_getAttribute (element.c:1056)
    by  GAMEUX_loadStatisticsFromFile (gamestatistics.c:561)
    by  GAMEUX_loadGameStatistics (gamestatistics.c:630)
    by  GameStatisticsMgrImpl_GetGameStatistics (gamestatistics.c:1107)
    by  test_gamestatisticsmgr (gamestatistics.c:344)
    by  func_gamestatistics (gamestatistics.c:446)
    by  run_test (test.h:556)
    by  main (test.h:624)
 
and a few possibly lost as well.",560,"0"
"WINE-35269","Mobile Master crashes on startup (array-index out of bounds for IFile_tid in scrrun get_typeinfo)","Hello folks

while verifying bug 27180 I stumbled into another problem :|

Relevant part of backtrace:

--- snip ---
Unhandled exception: page fault on read access to 0x00000001 in 32-bit code (0xf7550803).
...
Backtrace:
=>0 0xf7550803 __memcmp_sse4_2+0x163() in libc.so.6 (0x0033e488)
  1 0x7e713a8e ITypeLib2_fnGetTypeInfoOfGuid+0xcd(iface= guid= ppTInfo=) [/home/focht/projects/wine/wine-git/dlls/oleaut32/typelib.c:4960] in oleaut32 (0x0033e488)
  2 0x7ded5435 get_typeinfo+0x81(tid=IFile_tid typeinfo=0x33e548) [/home/focht/projects/wine/wine-build32/dlls/scrrun/../../include/oaidl.h:2669] in scrrun (0x0033e508)
  3 0x7ded0ad7 file_GetIDsOfNames+0xba(iface= riid= rgszNames= cNames= lcid= rgDispId=) [/home/focht/projects/wine/wine-git/dlls/scrrun/filesystem.c:704] in scrrun (0x0033e588)
  4 0x72a478d1 in msvbvm60 (+0x1078d0) (0x0033e5b8)
  5 0x72a48336 in msvbvm60 (+0x108335) (0x0033e5e4)
  6 0x72a410e0 in msvbvm60 (+0x1010df) (0x0033f848)
  7 0x72991d33 in msvbvm60 (+0x51d32) (0x0033f854)
  8 0x004454e4 in mobilemaster (+0x454e3) (0x0033f864)
...
0xf7550803 __memcmp_sse4_2+0x163 in libc.so.6: movl	0xfffffff0(%edx)%ebx
Modules:
Module	Address			Debug info	Name (72 modules)
PE	  400000-  bc6000	Export          mobilemaster
PE	113d0000-114c0000	Deferred        tssofficemenu1d
PE	72940000-72a93000	Export          msvbvm60
ELF	7b800000-7ba61000	Dwarf           kernel32
...
Threads:
process  tid      prio (all id:s are in hex)
...
00000024 MMStarter.exe
	00000025    0
00000026 (D) C:\Program Files\Mobile Master\MobileMaster.exe
	00000029    0
	00000028    0
	00000027    0 <== 
--- snip ---

Trace log with +ole gives a bit of hint ...

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/Mobile Master

$ WINEDEBUG=+tid+seh+relay+scrrun+typelib wine ./MMStarter.exe >>log.txt 2>&1
...

0026:trace:scrrun:file_GetIDsOfNames (0x152b538)->({00000000-0000-0000-0000-000000000000} 0x33e5c0 1 1033 0x33e5c4)
0026:trace:ole:ITypeLib2_fnGetTypeInfoOfGuid 0x173af8  0x33e4c4
0026:trace:seh:raise_exception code=c0000005 flags=0 addr=0xf748d803 ip=f748d803 tid=0026
0026:trace:seh:raise_exception  info[0]=00000000
0026:trace:seh:raise_exception  info[1]=00000001
0026:trace:seh:raise_exception  eax=001773d8 ebx=f748d800 ecx=42c642c1 edx=00000011 esi=0033e4a0 edi=7deecda0
0026:trace:seh:raise_exception  ebp=0033e488 esp=0033e428 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00010287
--- snip ---

Strange GUID in second parameter of ITypeLib2_fnGetTypeInfoOfGuid() -)

Source: http://source.winehq.org/git/wine.git/blob/a29d77088ac2b07fb68d84646be2884f49e9df7a:/dlls/scrrun/scrrun_private.h#l24

--- snip ---
24 typedef enum tid_t
25 {
26     NULL_tid
27     IDictionary_tid
28     IFileSystem3_tid
29     IFolder_tid
30     ITextStream_tid
31     IFile_tid
32     LAST_tid
33 } tid_t
--- snip ---

The corresponding array and referencing code:

Source: http://source.winehq.org/git/wine.git/blob/a29d77088ac2b07fb68d84646be2884f49e9df7a:/dlls/scrrun/scrrun.c#l103

--- snip ---
103 static REFIID tid_ids[] = {
104     &IID_NULL
105     &IID_IDictionary
106     &IID_IFileSystem3
107     &IID_IFolder
108     &IID_IFile
109 }

...

127 HRESULT get_typeinfo(tid_t tid ITypeInfo **typeinfo)
128 {
...
136     if(!typeinfos[tid]) {
137         ITypeInfo *ti
138
139         hres = ITypeLib_GetTypeInfoOfGuid(typelib tid_ids[tid] 
140         if(FAILED(hres)) {
141             ERR(GetTypeInfoOfGuid(%s) failed: %08x\n debugstr_guid(tid_ids[tid]) hres)
142         }
144
...
151 }
--- snip ---

'ITextStream_tid' was added with commit http://source.winehq.org/git/wine.git/commitdiff/49a8d4ecb0cb868451c7ba3ded34d4e69248d8c4 but the array was not synchronized leading to out-of-bound indexing for 'IFile_tid'.

$ sha1sum MobileMasterInst.exe 
0bedc83c67f4a0181aac916150457f395f095526  MobileMasterInst.exe

$ du -sh MobileMasterInst.exe 
21M	MobileMasterInst.exe

$ wine --version
wine-1.7.9-209-gb231b4b

Regards",1,"0"
"WINE-4564","richedit:RichEditANSIWndProc EM_AUTOURLDETECT: stub","While testing NSIS 2.14 (http://appdb.winehq.org/appview.php?versionId=1508):

$ wine apps/_install/nsis-2.14-setup.exe

(when the License-Window comes up:)
fixme:richedit:RichEditANSIWndProc WM_SETFONT: stub
fixme:richedit:RichEditANSIWndProc EM_AUTOURLDETECT: stub
fixme:richedit:RichEditANSIWndProc EM_EXLIMITTEXT: stub



-- 
By by ... Detlef",46,"0"
"WINE-16090","Fritz 11 Crashes on exit with builtin shdocvw","Created attachment 17320
crash log

Fritz 11 (Chessbase.com application) works fine including the inline html pages but crashes on exit when using builtin shdocvw.

The crash doesn't occur using windows native shdocvw.",463,"0"
"WINE-19507","Harry Potter a. t. Half-Blood Prince Demo Installer in infinite loop","Created attachment 22694
Errors thrown when installing Harry Potter a t Half-Blood Prince

The program causing the problem is the demo of Harry Potter and the Half-Blood Prince which can be downloaded at http://harrypotter.ea.com/#/Downloads/demo.

In order to check what went wrong with the installer I unzipped the File and manually started the actual installer (EASetup.exe).

The installer works fine until the actual install when right before copying the first files it gets stuck displaying Status: Removing files. In the meantime the console keeps printing:
fixme:mscoree:LoadLibraryShim (0x1272ab0 Lfusion.dll (nil) (nil) 0xbfd3a0): semi-stub
fixme:fusion:get_assembly_directory Ignoring assembly architecture

If a native fusion.dll is used the installer works.

I have tried this with 1.1.26 and the git version wine-1.1.26-231-gfe9d360 and a clean .wine directory.

Attached is a the console output.

MfG
Karl",321,"0"
"WINE-10340","Pro evolution soccer 2008","During the game of the master league legue or other the game blocker while save or load data! I hope in solution thank you",1374,"1"
"WINE-36765","AES 128 works different on Win7 and on Wine win7","Created attachment 48823
src and compiled exe for test

Hello

I have a windows application that uses CryptoAPI.
I've found that encrypted text differs when application runs on real Win7 machine and on Wine.
When I encrypt/decrypt the same data on Windows everything works fine. When I encrypt/decrypt the same data on Wine everything works fine too. The problem happens when I encrypt on Windows and decrypt on Wine. I made a simple application to show that encrypted results differ.

Please run cryptoapi_test.exe from the attachement on Windows and on Wine and you will get different results. Src also attached. I also attached the same crypt test on JavaScript and Python for reference (they give the same result as on Windows).

I found the similar bug #28673 but it has a very messy description.",34,"0"
"WINE-15077","Myth II 1.6 fails with Wine 1.1.3 (regression from 1.1.2)","Created attachment 15752
Output of Myth II Soulblighter 1.6 correct execution in Wine 1.1.2

Myth II Soulblighter 1.6 (http://projectmagma.net/downloads/myth2_16/) in classic mode worked correctly in Wine 1.1.2.

After upgrading to 1.1.3 it doesn't start anymore.

I attach the output of running it up to the menu and exiting successfully in Wine 1.1.2 and the output of trying to run it (crashing) in Wine 1.1.3.",27,"0"
"WINE-31817","Tencent RTX Client 2010 installer fails to register Shell extension handler 'RTXShlMenu.dll' (missing 'HKCR\\*\\shellex\\ContextMenuHandlers' and 'HKCR\\folder\shellex\ContextMenuHandlers' registry keys)","wine-1.5.13-431-ga6adbf5

Download: http://c.uzzf.com//cl/rtxclient2010_ins.zip

1. winetricks vcrun6sp6
(workaround bug 27109 and bug 657)

2. install RTX
$ wine rtxclient2010formal.exe 

while installing a popup menu says RTXShlMenu.dll fail to register.

Full log:
--- 
fixme:advpack:write_predefined_strings SYS_MOD_PATH needs more work
Failed to register DLL C:\Program Files\Tencent\RTXC\RTXShlMenu.dll
fixme:atl:AtlModuleInit SEMI-STUB (0x3eb418 0x3ea2e8 0x3c0000)
err:ole:CoReleaseMarshalData IMarshal::ReleaseMarshalData failed with error 0x8001011d
err:ole:CoRevokeClassObject COM was not initialized
---

After installing we can reproduce the failure by:

$ cd ~/.wine/drive_c/Program\ Files/Tencent/RTXC/
$ regsvr32 RTXShlMenu.dll 
Failed to register DLL RTXShlMenu.dll",1162,"1"
"WINE-6566","Musicbrainz Tagger doesn't work after version 0.9.16 of Wine","Fails with the error Could not obtain OLE control window handle (Programs own
popup error rather than Wine). I'm currently doing regression testing on it to
find out what broke it.",27,"0"
"WINE-26005","Flowcode v4 : double click on component macros crashes","Flowcode v4 crashes when double-click on a macros name of component as LED or 7 seg. display.

Same error with one-click on init macro for a LCD display.

logs :
err:variant:SafeArrayCopy not copying an array of 0 elements
err:seh:raise_exception Unhandled exception code e06d7363 flags 1 addr 0x7b83a772",471,"0"
"WINE-43913","Process Hacker 3.x needs ntdll.dll.RtlDosPathNameToNtPathName_U_WithStatus","Created attachment 59537
crash log

Tested latest available build for Process Hacker. Version 3.x will be using Visual Studio 2017.

sha1sum processhacker-3.0.1022-bin.zip
fdd9479e2a2ca85153d679eea7b7e6fa1560e327  processhacker-3.0.1022-bin.zip

du -sh processhacker-3.0.1022-bin.zip
4.8M	processhacker-3.0.1022-bin.zip

Source: https://github.com/processhacker2/processhacker",3,"0"
"WINE-9922","'make test' hangs with *** glibc detected *** urlmon_test.exe.so: double free","Alexandre and I have both seen this.  He says it's a race.

Here's the log:

../../../tools/runtest -q -P wine -M urlmon.dll -T ../../.. -p urlmon_test.exe.so protocol.c && touch protocol.ok
protocol.c:370: Test failed: unexpected call ReportProgress_FINDINGRESOURCE
protocol.c:375: Test failed: szStatustext != www.winehq.org
protocol.c:383: Test failed: unexpected call ReportProgress_CONNECTING
protocol.c:386: Test failed: Unexpected szStatusText
*** glibc detected *** urlmon_test.exe.so: double free or corruption (fasttop): 0x7c02b4c0 ***
======= Backtrace: =========
/lib/tls/i686/cmov/libc.so.6[0x601c0d65]
/lib/tls/i686/cmov/libc.so.6(cfree+0x90)[0x601c4800]
/usr/lib/i686/cmov/libcrypto.so.0.9.8(CRYPTO_free+0x3a)[0x644d44aa]
/usr/lib/i686/cmov/libcrypto.so.0.9.8(X509_VERIFY_PARAM_free+0x6f)[0x6457996f]
/usr/lib/i686/cmov/libssl.so.0.9.8(SSL_free+0x64)[0x644831d4]
/home/dank/wine-git/loader/../dlls/wininet/wininet.dll.so(NETCON_close+0xa1)[0x60a42a41]
/home/dank/wine-git/loader/../dlls/wininet/wininet.dll.so[0x60a3202a]
/home/dank/wine-git/loader/../dlls/wininet/wininet.dll.so(WININET_Release+0x4d)[0x60a3a38d]
/home/dank/wine-git/loader/../dlls/wininet/wininet.dll.so(InternetQueryDataAvailable+0x69)[0x60a3d4a9]
/home/dank/wine-git/loader/../dlls/urlmon/urlmon.dll.so[0x6063e1fe]
/home/dank/.wine/dosdevices/z:/home/dank/wine-git/dlls/urlmon/tests/urlmon_test.exe.so[0x6060b589]
/home/dank/.wine/dosdevices/z:/home/dank/wine-git/dlls/urlmon/tests/urlmon_test.exe.so(func_protocol+0x407)[0x6060bea7]
/home/dank/.wine/dosdevices/z:/home/dank/wine-git/dlls/urlmon/tests/urlmon_test.exe.so[0x606136f8]
/home/dank/.wine/dosdevices/z:/home/dank/wine-git/dlls/urlmon/tests/urlmon_test.exe.so(main+0x14d)[0x60613d8d]
/home/dank/.wine/dosdevices/z:/home/dank/wine-git/dlls/urlmon/tests/urlmon_test.exe.so[0x60613e5b]
/home/dank/wine-git/loader/../dlls/kernel32/kernel32.dll.so[0x60416cbe]
/home/dank/wine-git/loader/../libs/wine/libwine.so.1[0x600259d7]",16,"0"
"WINE-14427","widl crashes in dlls/rpcrt4","Created attachment 14749
gdb backtrace

I am unable to compile Wine 1.1.1. 1.0 and 1.1.0 compile fine. I am getting the following error:

../../tools/widl/widl -I. -I. -I../../include -I../../include  -D__WINESRC__ -D_RPCRT4_ -DCOM_NO_WINDOWS_H -DMSWMSG  -c -C epm_c.c epm.idl
make[2]: *** [epm_c.c] Segmentation fault

Interestingly it crashes only if widl is compiled with -O2 (01 and 3 work). I compiled widl with -O2 -g and ran it in gdb. I'm attaching the backtrace.
I'm using Gentoo and gcc version is Gentoo 4.1.2 p1.0.2.

If you think this is compiler related should I post a bug at Gentoo?",479,"0"
"WINE-14740","Combat Arms 3.7 installer html-based UI layout is distorted","The installer shows only a white window with the buttons Agree or Disagree. After that a second window pops up completely blank and without buttons. Pressing ESC on the keyboard quits the installer.

The registration and the game is free to use and play.",1958,"1"
"WINEHQ.ORG-17110","Typos in documentation Configuring Wine","3.1.4 -Drive Settings
existing text in paragraph 2: You can change where this drives points to by changing what's in the Path: box.

drives should read drive

correction: You can change where this drive points to by changing what's in the Path: box.

3.1.6
Wine supports the newer MSStyles typ of themese.
Wine supports the newer MSStyles type of themes.

3.2
There's actually more of a chance you'll need to dip into the registry to change an applications' settings than Wine itself
-should be application's

para 2
To counter this there's several things to consider. 
To counter this there are several things to consider. 


Aside from these minor typos it's a very well-written document and very easy to follow.

Regards

Andrew Singleton",763,"0"
"WINE-27056","WebcamMax: Crash at installation","Created attachment 34487
Terminal output on wine-1.3.19-49-g92e05ed

Steps to reproduce:
1) remove ~/.wine
2) winetricks gecko
3) wine WebcamMax-7.2.8.2.MultiLanguage.Setup.exe
4) next->next->next...

Behaviour:
Crash.

Expected behaviour:
No crash.

Workaround:
winetricks wininet",547,"0"
"WINE-10085","Adobe Bridge CS2 complains that it can't start due to licensing restrictions (affects photoshop)","I'm testing the Adobe Bridge that comes with the Photoshop CS2 trial. On Windows during the 30 days or trial this application works. It shows the same message when these 30 days passes.",2575,"1"
"WINE-12860","magic the gathering online v3 doesn't run","Created attachment 12557
error log

so when trying to run mtgo v3 i have the attached tracelog.

mtgo v3 is .net dependent so i figure that might be the problem... not sure though.

this happens either running Renamer.exe or MTGO_NET.exe",3,"0"
"WINE-21523","iexplore doesn't follow redirects","Visiting an url that redirects via 302 or 307 response code doesn't work

wine iexplore http://elfe.mine.nu/302.php
wine iexplore http://elfe.mine.nu/307.php

expected would be to open the winehq webpage but a white page is shown

php source would be 

",467,"0"
"WINE-26872","Cannot create new profile in Dawn of War demo","Created attachment 34255
Screenshot of problem

Load the DoW demo and you are confronted with a Create profile window.
Enter a profile name TEST.
Hit create.
Nothing happens.  The profile is not created so you cannot continue.

Nothing in the console except
fixme:process:GetProcessWorkingSetSize (0xffffffff0xacb8f00xacb8f4): stub

My last test report in Wine 1.1.18 doesn't mention such a problem but I cannot compile this far back for some reason so cannot run a regression test.",312,"0"
"WINE-37046","Roblox Studio/Player fails to download games ('Accept-Encoding' header is valid for 'HTTP/1.0' requests)","Created attachment 49228
RobloxStudio wininet log

Hi it seems Roblox Studio cannot load games without using the winetricks wininet verb (which is bad because it causes a very long hang when loading) which is slightly frustrating. I've attached an error log which was executed with the wine debug channels fixme-d3d+wininet. Please let me know if any more information is needed. Thanks",202,"0"
"WINE-27388","IE8 UTF-7 doesn't work","Created attachment 35017
stderr output

IE8 doesn't display UTF-7 HTML files at all.

Works fine under real Windows:
C:\Users\username\testhtml>c:\progra~1\intern~1\iexplore file:///c:/Users/username/testhtml/test.html

using:
Mozilla/4.0 (compatible MSIE 8.0 Windows NT 6.1 Win64 x64 Trident/4.0 .NET CLR 2.0.50727 SLCC2 .NET CLR 3.5.30729 .NET CLR 3.0.30729 Media Center PC 6.0)

Doesn't work under Wine:
$ wine c:\\prog~fbu\\inte~h1a\\iexplore file:///z:/home/test/test.html 2> dump.log
using:
Mozilla/4.0 (compatible MSIE 8.0 Windows NT 5.1 Trident/4.0)

Wine IE8 installed using rm -rf ~/.wine winetricks ie8.

The relevant stderr output is probably this:
fixme:nls:WideCharToMultiByte UTF-7 not supported

The same message about UTF-7 not being supported is also mentioned in bug 18659 but this is probably a different bug.

Note that Windows IE is 64-bit while Wine IE is 32-bit using a 32-bit Linux kernel. I'm not sure if this matters. Both IE versions were used on the same computer so all hardware is the same.",1346,"1"
"WINE-10437","Altium Designer crash","I'll describe all my movements - step by step.
1. I installed latest (at the moment) wine-0.9.49 from sources on Fedora8.
2. I installed my application of interest - Altium Designer 6.7
3. Tried to run it wihtout luck.
4. Found in appDB some hints and installed using winetricks dcom98 fakeie6 mdac28 corefonts tahoma cc580. All installations went well.
5. I tried to run Altium Designer again and it started but crashed when trying to open any file. 
6. AppDB tells that it was tested with wine-0.9.35. I decided to try it.
7. Uninstalled wine-0.9.49 and installed wine-0.9.35 from sources.
8. I did not change drive_c as it was installed previously with 0.9.49. Now tried to run Altium Designer. And oh wonder! I can use it wihout any visible problems.
9. I decided to find out - which version of wine caused the problem. I tried one by one all versions from 0.9.35 to 0.9.43. Works just fine except some minor problems which I can live with. The version which causes problem is 0.9.44. All subsequent versions also have this problem.

Now to the description of behavior.
1. Starting the application like that wine c:\Program Files\Altium Designer 6\DXP.exe
2. I see splash screen and log of different components loading on it.
3. Application windows is opening and I can select to open or create new file.
4. On whatever type of file this operation causes applcation to freese for 20 seconds then I see in the wine log endless list of 
err:region:CombineRgn Invalid rgn=(nil)
err:region:CombineRgn Invalid rgn=(nil)
err:region:CombineRgn Invalid rgn=(nil)
err:region:CombineRgn Invalid rgn=(nil)
err:region:CombineRgn Invalid rgn=(nil)
err:region:CombineRgn Invalid rgn=(nil)
err:region:CombineRgn Invalid rgn=(nil)
err:region:CombineRgn Invalid rgn=(nil)

This continues for 3-4 minutes.
After that I see in the wine log following:

And this all ends with at this point.
5. I tried to look at the sources but as I am very new to wine I could only get to the source of this endless CombineRgn errors. It comes from /dlls/gdi32/region.c file. Particularly function CombineRgn makes it. I could not find a function which calls this function. 
This behavior is with all versions of wine from 0.9.44 to 0.9.49.
So at this point I ask community to help solve this bug in wine.",258,"0"
"WINE-13797","wineconsole curses backend wraps cursor in cmd incorrectly","When wineconsole is built with SVR4 curses instead of ncurses cmd.exe appears to work correctly until enough text has been printed to reach the bottom of the screen at which point the cursor jumps to the topmost line of the screen. Entering text will move the cursor along the topmost line but the text will not be visible. The cursor will remain on that line indefinitely.

As an example:

Start cmd: wineconsole --backend=curses cmd

Press return lots of times or run dir on a large directory.

The cursor will jump to the top of the screen and stay there.",1575,"1"
"WINE-11596","Lost Planet:Extreme Condition DX9 Demo: black screen in-game","After loading a level wine fails to render the 3D scene but displaying only time counter compass and life bar. 
And there's a strange small stripe in the bottom of the screen which change colour while moving mouse around.
My graphic card is a Nvidia 8800 GT.",711,"0"
"WINE-6042","Adobe Photoshop Elements 4 trial installer requires serial number from ini file","Photoshop Elements 4 trial is delivered as a zip file
PSE_40_WWE_TRYBUY.zip.  Inside it is the usual Setup.exe.
Running the Setup.exe prompts you for a serial number.
The serial number to use is given in the file Abcpy.ini next
to the Setup.exe in the line
 SERIALNUMBERTRYOUT=1057-1044-5671-2189-1140-6013
Presumably the user shouldn't have to grovel through
the files that come with the installer to figure this out.",56,"0"
"WINE-27596","Font selection dialog appearance is slightly broken","Created attachment 35278
Font selection dialog in built-in notepad

See the attached screenshot.

In the sample area there are two extraneous lines (one vertical another horizontal).",257,"0"
"WINE-22409","Dxdllreg.exe encountered a problem and closed","Created attachment 27427
Backtrace for MTG Online (dxdllreg.xe)

I installed Magic The Gathering Online (latest MTGOInstall.exe).
Before I installed Mono 2.20 for Windows by winetricks.
MTGO installed DirectX but I know shouldn't install DirectX in Wine. So after MTGO started (wine C:\Program Files\Magic Online\Renamer.exe) (it also started Kicker.exe) error occured (The program dxdllreg.exe has encountered a serious problem and needs to close. We are sorry for the inconvenience.)
And the program started with bad graphic and the Unknown error for less then second.",0,"0"
"WINE-11198","C & C Tiberian Sun reporsts comctl32.dll is an older version on winver higher then 98","Created attachment 10262
The report when wine is set to win XP

C & C Timberian Sun reports that the comctl32.dll is an older version when in wine is set to a windows version higher the windows 98. (never tried winver ME) But on XP or win 2000 you get this error. After that wine reports that comctl32.dll is up todate thus a catch 22.",189,"0"
"WINE-2224","Corel Draw 10 setup32.exe needs administrator privileges","When I run de setup32.exe to install Corel Drawn 10 this setup open message box
ask me about adminstrator privileges to install this software but i dont know
what I set de administrator privileges for wine....

My Config file is :

[wine]
Windows = c:\\windows
System = c:\\windows\\system
Temp = e:\\
Path = c:\\windowsc:\\windows\\systeme:\\e:\\testf:\\
Profile = c:\\windows\\Profiles\\Administrador
GraphicsDriver = x11drv
ShowDirSymlinks = 1
ShowDotFiles = 1
ShellLinker = wineshelllink

# [wineconf]

[Version]
 Windows version to imitate
(win95win98winment351nt40win2kwinxpwin2k3win20win30win31)
Windows = win98
 DOS version to imitate
DOS = 6.22

And the wine debug message is:

bash-2.05b$ wine msiexec.exe /i CorelDRAW\ 10.msi
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:powermgnt:SetThreadExecutionState (0x80000001): stub harmless.
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:advapi:SetThreadToken ((nil) 0x6c): stub (NT impl. only)
fixme:ntdll:NtAdjustPrivilegesToken
(0x6c0x000000000x412ddac40x00000000(nil)(nil))stub!
fixme:ntdll:NtAdjustPrivilegesToken
(0x6c0x000000000x412ddac40x00000000(nil)(nil))stub!
fixme:ntdll:NtAdjustPrivilegesToken
(0x6c0x000000000x412ddac40x00000000(nil)(nil))stub!
fixme:advapi:SetThreadToken ((nil) 0x48): stub (NT impl. only)
fixme:powermgnt:SetThreadExecutionState (0x80000000): stub harmless.
fixme:advapi:SetThreadToken ((nil) (nil)): stub (NT impl. only)
fixme:ntdll:NtAdjustPrivilegesToken
(0x480x000000000x4065e0e80x00000000(nil)(nil))stub!",539,"0"
"WINE-8437","Fahrenheit: can't install a Patch","I can't install the Fahrenheit 1.1 Patch with msiexec /p 
Fahrenheit_Patch1_1.msp no window nothing only

punx69@BlackBox:~$ msiexec /p Fahrenheit_Patch1_1.msp
fixme:msi:MsiApplyPatchW LFahrenheit_Patch1_1.msp (null) 0 (null)
punx69@BlackBox:~$",66,"0"
"WINE-8021","Oblivion map stopped working from Wine 0.9.33 (pbuffer)","Oblivion map (nearest surroundings) worked well in Wine 0.9.32 when using
pbuffer output. fbo was broken in 0.9.32.

From Wine 0.9.33 this map is broken in all output modes (fbo pbuffer
backbuffer) it displays only location icons (marketers ruins...).",4,"0"
"WINE-30899","SlingPlayer 1.5 UI broken","Created attachment 40512
Corrupt UI in Wine 1.5.6

In Wine 1.5.6 the SlingPlayer UI appears broken (see attached screenshot). Problem not present in Wine 1.4. This is a regression.

dc3a08d840186c7692cc3cae45bdd517ab099e07 is the first bad commit
commit dc3a08d840186c7692cc3cae45bdd517ab099e07
Author: Vincent Povirk 
Date:   Tue Feb 14 13:50:59 2012 -0600

    gdiplus: Rewrite SOFTWARE_GdipFillRegion to call brush_fill_pixels less.

Reverting this commit fixes the problem.

Workaround is native gdiplus.

The only relevant output with built-in gdiplus is:

fixme:gdiplus:resample_bitmap_pixel Unimplemented interpolation 7

A +gdiplus trace is enormous.",2001,"1"
"WINE-36110","Drakan: screen flickers and graphics are distorted (Mac OS X only bug)","Created attachment 48292
Drakan Log

The problem doesn't occur in Wine 1.7.11. Could it be a regression? I have problems doing regression tests on Mac OS X can a more advanced user look at this please?

On Ubuntu everything works fine. A demo is available. Attaching logs.

Mac OS X 10.9.2 ATI HD 2600 Pro Mac Driver/X11",516,"0"
"WINE-12361","Exact Audio Copy 0.99pb4 crashes in winemenubuilder when creating png icon","http://xithium.wordpress.com/2008/04/04/41/
complained that recent wine crashed on exact audio copy
so I gave it a try.  Sure enough the following crash 
happened during installation:

Unhandled exception: page fault on write access to 0x004586e0 in 32-bit code (0x7ec9b935).
Backtrace:
=>1 0x7ec9b935 SaveIconResAsPNG+0x275(pIcon= png_filename=0x12df60 commentW=0x33f274) [winemenubuilder/winemenubuilder.c:262] in winemenubuilder (0x0033d108)
  2 0x7ec9cb91 extract_icon+0x4a1(path=0x33f274 index=0x0 bWait=0x0) [winemenubuilder/winemenubuilder.c:517] in winemenubuilder (0x0033d3b8)
  3 0x7ec9e051 InvokeShellLinker+0x8f1(sl=0x12cfdc link=0x33f908 bWait=0x0) [winemenubuilder/winemenubuilder.c:1117] in winemenubuilder (0x0033f8a8)
...
0x7ec9b935 SaveIconResAsPNG+0x275 [winemenubuilder/winemenubuilder.c:262] in winemenubuilder: movb   %al0x0(%edx)
262                         pixel->rgbBlue  = bgColor.rgbBlue

That's in the code that was added recently to fix bug 4803.",39,"0"
"WINEHQ_BUGZILLA-18678","Broken Help link","Pick a bug:
http://bugs.winehq.org/show_bug.cgi?id=1

Click on the Help at the top.

404: Not found",819,"1"
"WINE-36829","Can not recieve kindle delivery","Created attachment 48904
error report

Not all books get delivered",1,"0"
"WINE-27152","Lemony Snickets installs in the wrong location (C:\Activision rather than C:Program files\Activison)","Created attachment 34684
+msi+msidb bzip2 -9ed

Regression introduced by:
4668091528e4d124632544b36d0ab10cc890f292 is the first bad commit
commit 4668091528e4d124632544b36d0ab10cc890f292
Author: Hans Leidekker 
Date:   Mon May 2 16:03:55 2011 +0200

    msi: Rewrite the folder resolution code to keep track of the parent-child relationship.

:040000 040000 8f4d38cbc4a97e8ea92819c04ea0cf56473f2827 9489ead3dc73fa46eb09be7e2380db31e91a2c7b M	dlls

after this commit it installs the game in C:\Activision\Lemony Snicket's A Series of Unfortunate Events Demo and an empty folder in C:\Program Files\Activision\Lemony Snicket's A Series of Unfortunate Events Demo.

Interestingly during the regression test one of the commits (not sure which) installed the game into $HOME (presumably because of it mapping to %My Documents%.",4,"0"
"WINE-22543","winedbg crashes on startup in combination with crysis","Created attachment 27650
crash log while starting winedbg

While trying to debug a problem in wined3d in combination with crysis I found a regression in dbghelp. Winedbg doesn't start anymore it gets an unhandled exception on read access on line 197 (http://source.winehq.org/git/wine.git/?a=blobf=dlls/dbghelp/pe_module.ch=39db4c6ac991cfb16d3053c54828ea7bea2e4cfdhb=fb169502a57b0c90570ebdb3dfed136967ed7240#l197).

The crash happens only in combination with crysis wine winedbg notepad works as expected.

Attached is a crash log from wine-1.1.43-408-g3317fc3.

fb169502a57b0c90570ebdb3dfed136967ed7240 is the first bad commit
commit fb169502a57b0c90570ebdb3dfed136967ed7240
Author: Eric Pouech 
Date:   Thu Mar 18 21:30:55 2010 +0100

    dbghelp: Extend the ELF image management to PE modules so we get a rather uniform interface to image manipulation.

:040000 040000 4376cb084c688ce7686ee0c7be299a47223b585e d7bf0aceeddb18f64adf86ea8d5ebfaa495aa1ff M	dlls",9,"0"
"WINE-38555","The Magic School Bus Explores the Solar System hangs  during installation","Created attachment 51431
Last 1000 lines of the +relay trace

While trying to install The Magic School Bus Explores the Solar System I encountered a thread lock:

002b:err:ntdll:RtlpWaitForCriticalSection section 0x7ea40780 syslevel.c: Win16Mutex wait timed out in thread 002b blocked by 0027 retrying (60 sec)

A search of the Internet and other wine resources led me to try a +all-relay trace to determine what was causing the problem but it yielded no error and the program still froze.",578,"0"
"WINE-11098","Vaz Modular 3.03 hangs on exit","Created attachment 10127
+dsound trace

Since this commit:

http://source.winehq.org/git/wine.git/?a=commith=322cd0b9796ed2ed7c70f7298c90980bbe064f4a

Vaz Modular 3.03 hangs when exit is selected only after some sound has been played.

i.e. to reproduce start Vaz Modular 3.03 load a bank and press play: then stop play and select file - exit or click top-right-X.

Note that the demo can't verify this since a bug exists where an exception is caused when you try to exit.",338,"0"
"WINE-19597","Sony Ericsson PC Suite 5 fails to download a required component","Created attachment 22851
wine-1.1.26-390-g31dab8f +winsock +winhttp

The PC Suite 5 will optionally download the Media Transfer Protocol but seems to only open a connection and then stops doing anything.

The file it is trying to download is http://www.sonyericsson.com/cws/download/1/521/958/1222789447/WMFDist11-WindowsXP-X86-ENU.exe",297,"0"
"WINE-17603","winecfg crashes on encountering unknown (incorrect) dll overrides","Created attachment 19771
0003-Winecfg-doesn-t-segfault-on-unknown-dll-override-mod.patch

When in the registry there is something else than known native and builtin keywords entered in dll overrides winecfg crashes on opening dll override tab. Attached patch solves the problem.",455,"0"
"WINE-13013","ProntoEdit NG 2.1.8 tree control shows all labels as ZZZ","In http://winehq.org/pipermail/wine-users/2008-May/033707.html
a user noted that he had to use winetricks to update common controls
before ProntoEdit NG's tree control would work.

The app needs mfc42 and refuses to even start unless you do
  sh winetricks vcrun6
To see the tree problem do File / New Configuration and click OK.
The labels on the tree control to the left will be all ZZZZZZ.
After
  sh winetricks cc580
they appear correct.",1840,"1"
"WINE-19","Cannot run nowExplorer: error invalid property value - due to missing font support ?","This is with current WINE CVS.
Sorry for not providing any better explanation but I don't know where to start.
Wine doesn't crash (except for one install endless loop) but it doesn't work
neither. :-(

I downloaded this file:
http://www.news-on-web.de/en/demoSoftware.html
http://www.news-on-web.de/cgi-bin/download.pl?/download/demo223e.exe

created a fresh windows tree: rm -Rf ~/.wine* ~/c
cdmkdir -p c/windows/system mkdir -p c/windows/Profiles/Administrator
(plus: Start Menu system32  Programs Program Files)
programs/regapi/regapi setValue < winedefault.reg
mv demo223e.exe ~/c/

Run the installation program:
LD_LIBRARY_PATH=~/wine/inst/lib/ PATH=~/wine/inst/bin/:$PATH wine --managed
demo223e.exe
fixme:ddeml:DdeNameService (14917701): stub
[...]
fixme:pthread_kill_other_threads_np
fixme:ole:CoSetState (0x653c3f80)stub!
fixme:ole:CoSetState ((nil))stub!
-> 100% but not finished (Cancel|Yes| goto ->) => killed!

LD_LIBRARY_PATH=.:~/wine/inst/lib/ PATH=~/wine/inst/bin/:$PATH wine --managed
Newsoweb.exe
fixme:file:_lclose16 stdio handle closed need proper conversion
fixme:file:_lclose16 stdio handle closed need proper conversion
fixme:file:_lclose16 stdio handle closed need proper conversion
err:int:INT_Int3dHandler int3d: unknown/not implemented parameters:
int3d: AX 0741 BX 70a0 CX 0a7f DX 03af SI 0741 DI 0741 DS 027f ES 0a7f
err:int:INT_Int3dHandler int3d: unknown/not implemented parameters:
int3d: AX 0815 BX 7086 CX 0a7f DX 03af SI 0815 DI 0815 DS 027f ES 0a7f
[... 40 lines of this int3d content]
-> Messagebox: nowExplorer Invalid property value MB_OL",833,"1"
"WINE-44749","Sentinel HASP 'hardlock.sys' kernel driver expects ntdll.RtlCheckRegistryKey to return STATUS_SUCCESS on empty path","Hello folks

to separate two different issues from bug 44641

Technically it was https://source.winehq.org/git/wine.git/commitdiff/f07e8ca8f01106b6d41a933f0ac393b30d505bad (ntdll: Fix RtlCheckRegistryKey when called with empty path.) which returns 'STATUS_SUCCESS' now causing the driver to execute a different code path not calling 'ntoskrnl.exe.RtlCreateRegistryKey' at this point.

Bug 44641 is about missing 'ntdll.RtlCreateRegistryKey' API -> fixed by https://source.winehq.org/git/wine.git/commitdiff/535419a2bf8da3fd21cfdede44bf51026a97b94d

Created this ticket to avoid rechristening bug 44641 

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/Minitab/Minitab 16

$ WINEDEBUG=+seh+relay+winedevice+ntoskrnl wine ./Mtb.exe >>log.txt 2>&1
...
0019:Call ntoskrnl.exe.RtlCheckRegistryKey(000000010065fb20) ret=007a8edd
0019:Call ntdll.RtlCheckRegistryKey(000000010065fb20) ret=7bc7e2bb
0019:Ret  ntdll.RtlCheckRegistryKey() retval=c0000034 ret=7bc7e2bb
0019:Ret  ntoskrnl.exe.RtlCheckRegistryKey() retval=c0000034 ret=007a8edd
0019:Call KERNEL32.RaiseException(8000010000000001000000020065fad4) ret=7ecd21a7
0019:trace:seh:raise_exception code=80000100 flags=1 addr=0x7b44667f ip=7b44667f tid=0019
0019:trace:seh:raise_exception  info[0]=7ecd21c0
0019:trace:seh:raise_exception  info[1]=7ecd6098
wine: Call from 0x7b44667f to unimplemented function ntoskrnl.exe.RtlCreateRegistryKey aborting
0019:trace:seh:call_vectored_handlers calling handler at 0x7ecc9e95 code=80000100 flags=1
0019:trace:seh:call_vectored_handlers handler at 0x7ecc9e95 returned 0
0019:trace:seh:call_stack_handlers calling handler at 0x7bcb023c code=80000100 flags=1 
--- snip ---

$ sha1sum MTBen1610su.exe 
f457d13475a783a0d2fff5566c0279640ba26bc6  MTBen1610su.exe

$ du -sh MTBen1610su.exe 
93M	MTBen1610su.exe

$ wine --version
wine-3.2-346-gb1aee9c391

Regards",0,"0"
"WINE-33513","Microsoft SQL Server 2005 Express Edition: installer fails with builtin mono (Wine requires CodeBase registry value when loading .NET COM classes)","Created attachment 44358
console output

After fixing bug 33510 the installer complains about non-existent or corrupted .NET installation when running with wine mono. Winetricks dotnet20 works around.

Attaching the console output. Missing registration for class Microsoft.SqlServer.Setup.SetupBootstrapWizard (guid 100d062d-4823-4c3e-be65-4da9b82a874b reported near the end of log) is likely the culprit.

A workaround for bug 32048 is needed to get that far.",34,"0"
"WINE-40987","Wine hangs indefinitely on start with [__NSArrayM insertObject:atIndex:]: index 6 beyond bounds [0 .. 4].","Created attachment 55145
Error log.

Running on Mac OS 10.9.5 wine hangs with an error in the logs indefinitely upon starting some internal programs (doesn't actually crash has to be killed with wineserver -k). Relevant log attached. It only happens under the Mac driver when using the X11 driver it starts as normal. Both winecfg and explorer are affected but regedit is not.",3,"0"
"WINE-1623","File Open Dialog - Unhandled Exception","Selecting anything in a File Open Dialog in ChessBase Light (a 16-bit app.) 
causes the app. to freeze with an Unhandled Exception Error.

The bug was introduced into the CVS at approx. 2003-06-24 14:00 CST.  
(Prior to that correct functionality occurred.)  This bug persists in 
20030709.

-- Andy.",20,"0"
"WINE-35439","Blackguards demo (non-Steam) shows black screen after launch","Created attachment 47296
log

It's a multilingual non-Steam and no DRM demo.",878,"1"
"WINE-44475","Microsoft SQL Server 2008 Express Edition installer fails install .NET assemblies into GAC","Hello folks

continuation of bug 34627

Download:

https://download.microsoft.com/download/c/2/8/c28cc7df-c9d2-453b-9292-ae7d242dfeca/SQLEXPR32_x86_ENU.exe

Prerequisite: 

* 'winetricks -q mspatcha' (bug 12501)
* 'winetricks -q dotnet40' (needed since it's run without Visual Studio main installer)

Microsoft SQL Server 2008 Express Edition is an optional part of Visual Studio 2010 Express full installer.
The (sub) installer for Microsoft SQL Server 2008 Express Edition fails.
A C++/managed CLR exception is thrown complaining about missing .NET assemblies.

To reproduce kill everything at the point of the crash dialog to avoid rollback ('wineserver -k'). Restart the bootstrap installer again from:

'C:\\Program Files\\Microsoft SQL Server\\100\\Setup Bootstrap\\Release\\x86\\'

--- snip ---
$ wine ./setup100.exe
...
0009:fixme:shell:URL_ParseUrl failed to parse LWindowsBase
0009:fixme:shell:URL_ParseUrl failed to parse LMicrosoft.SqlServer.Chainer.Infrastructure
0009:fixme:shell:URL_ParseUrl failed to parse LSystem
0009:fixme:console:GetConsoleProcessList (0xdb8bd41): stub
0009:fixme:shell:URL_ParseUrl failed to parse LMicrosoft.SqlServer.Configuration
0009:fixme:shell:URL_ParseUrl failed to parse LSystem.Xml
0009:fixme:shell:URL_ParseUrl failed to parse LMicrosoft.NetEnterpriseServers.ExceptionMessageBox
0009:fixme:msi:MsiProvideAssemblyW LMicrosoft.NetEnterpriseServers.ExceptionMessageBox Version=10.0.0.0 Culture=neutral PublicKeyToken=89845dcd8080cc91 processorArchitecture=MSIL LC:\\Program Files\\Microsoft SQL Server\\100\\Setup Bootstrap\\Release\\x86\\setup100.exe.config 00000000 00000000 0x33c740 0x33c73c
0009:fixme:msi:MsiProvideAssemblyW LMicrosoft.NetEnterpriseServers.ExceptionMessageBox Version=10.0.0.0 Culture=neutral PublicKeyToken=89845dcd8080cc91 processorArchitecture=MSIL (null) 00000000 00000000 0x33c740 0x33c73c

Unhandled Exception: System.IO.FileNotFoundException: Could not load file or assembly 'Microsoft.NetEnterpriseServers.ExceptionMessageBox Version=10.0.0.0 Culture=neutral PublicKeyToken=89845dcd8080cc91' or one of its dependencies. File not found.
   at Microsoft.SqlServer.Chainer.Setup.Setup.PreloadAssemblies()
   at Microsoft.SqlServer.Chainer.Setup.Setup.Main() 
--- snip ---

Trace log of the part where it tries to preload/locate the .NET assemblies from GAC:

--- snip ---
...
0071:0072:Call KERNEL32.CreateProcessW(003361e0 LC:\\Program Files\\Microsoft SQL Server\\100\\Setup Bootstrap\\Release\\x86\\setup100.exe0032c3c4 L\C:\\Program Files\\Microsoft SQL Server\\100\\Setup Bootstrap\\Release\\x86\\setup100.exe\   /ACTION=INSTALL /MEDIASOURCE=\c:\\bd487f1735de2c1c339b6b49ac55\\\\\ /ACTION=INSTALL /WORKFLOW=INSTALL /TIMESTAMP=20180205_120409 /LOGMARKER= /MEDIASOURCE=\c:\\bd487f1735de2c1c339b6b49ac55\\\\\ /INSTALL...0000000000000000000000010000002000000000000000000032c35c0032c3a8) ret=01011bfc
...
0156:0157:Call KERNEL32.__wine_kernel_init() ret=7bc6a1b2
...
0145:0146:Call KERNEL32.lstrlenW(00178738 LMicrosoft.NetEnterpriseServers.ExceptionMessageBoxfileVersion=\10.0.2531.0\version=\10.0.0.0000\culture=\neutral\publicKeyToken=\89845DCD8080CC91\processorArchitecture=\MSIL\) ret=79179ec4
0145:0146:Ret  KERNEL32.lstrlenW() retval=000000b3 ret=79179ec4
..
0156:0157:Call shlwapi.UrlGetPartW(0018ad20 LMicrosoft.NetEnterpriseServers.ExceptionMessageBox0018c1c00033cf100000000100000000) ret=79181013
0156:0157:fixme:shell:URL_ParseUrl failed to parse LMicrosoft.NetEnterpriseServers.ExceptionMessageBox
0156:0157:Ret  shlwapi.UrlGetPartW() retval=00000001 ret=79181013
...
0156:0157:Call KERNEL32.GetFileAttributesW(0033ae2c LC:\\windows\\Microsoft.Net\\assembly\\GAC_MSIL\\policy.10.0.Microsoft.NetEnterpriseServers.ExceptionMessageBox) ret=791de214
0156:0157:Ret  KERNEL32.GetFileAttributesW() retval=ffffffff ret=791de214
...
0156:0157:Call KERNEL32.GetFileAttributesW(0033c4bc LC:\\windows\\assembly\\GAC\\Microsoft.NetEnterpriseServers.ExceptionMessageBox\\10.0.0.0__89845dcd8080cc91\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll) ret=791de214
0156:0157:Ret  KERNEL32.GetFileAttributesW() retval=ffffffff ret=791de214
--- snip ---

'Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll' is indeed nowhere present in the WINEPREFIX.

The app installer log itself mentions the assemblies in question but nothing suspicious:

--- snip ---
...
1: {D441BD04-E548-4F8E-97A4-1B66135BAAA8} 2: {DABDC208-7DD5-4A0A-B5E9-53C857F7802D} 3: <\Microsoft.NetEnterpriseServers.ExceptionMessageBoxfileVersion=10.0.2531.0version=10.0.0.0000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=MSIL
1: {D441BD04-E548-4F8E-97A4-1B66135BAAA8} 2: {A72EDA2D-14E7-40C7-BAA8-25961F369C5A} 3: <\Microsoft.SqlServer.CustomControlsfileVersion=10.0.2531.0version=10.0.0.0000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=MSIL
1: {D441BD04-E548-4F8E-97A4-1B66135BAAA8} 2: {4CC7BE4F-04E1-4302-95CD-C0C29B6598B9} 3: <\Microsoft.SqlServer.WizardFrameworkLitefileVersion=10.0.1600.22version=10.0.0.00000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=MSIL
...
File: Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll Directory: GAC_32
File: Microsoft.SqlServer.Configuration.Repl_ConfigExtension.dll Directory: CurrentSetupBootstrap_32
File: Microsoft.SqlServer.CustomControls.dll Directory: GAC_32
File: Microsoft.SqlServer.WizardFrameworkLite.dll Directory: GAC_32
...
File: Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll  Directory: GAC_32  Size: 132968
File: Microsoft.SqlServer.Configuration.Repl_ConfigExtension.dll  Directory: CurrentSetupBootstrap_32  Size: 51048
File: Microsoft.SqlServer.CustomControls.dll  Directory: GAC_32  Size: 42840
File: Microsoft.SqlServer.WizardFrameworkLite.dll  Directory: GAC_32  Size: 594968
...
Action start 11:44:49: MsiPublishAssemblies.
Application Context: Assembly Name:Microsoft.SqlServer.GridControlfileVersion=10.0.2531.0version=10.0.0.0000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=x86
Application Context: Assembly Name:Microsoft.NetEnterpriseServers.ExceptionMessageBoxfileVersion=10.0.2531.0version=10.0.0.0000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=MSIL
Application Context: Assembly Name:Microsoft.SqlServer.CustomControlsfileVersion=10.0.2531.0version=10.0.0.0000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=MSIL
Application Context: Assembly Name:Microsoft.SqlServer.WizardFrameworkLitefileVersion=10.0.1600.22version=10.0.0.00000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=MSIL
Action ended 11:44:49: MsiPublishAssemblies. Return value 1. 
...
--- snip ---

The problem becomes visible when doing full trace and additional debugging.

--- snip ---
$ WINEDEBUG=+pid+seh+relay+msi wine ./SQLExpr32_x86_enu.exe >>log.txt 2>&1
...
00c7:00c8:trace:msi:ACTION_CostFinalize Calculating file cost
...
00c7:00c8:trace:msi:set_target_path file LRepairWizard_XML_32 resolves to LC:\\Program Files\\Microsoft SQL Server\\100\\Setup Bootstrap\\Release\\x86\\RepairWizard.xml
00c7:00c8:Call KERNEL32.GetFileAttributesW(0524e268 LC:\\Program Files\\Microsoft SQL Server\\100\\Setup Bootstrap\\Release\\x86\\RepairWizard.xml) ret=7d173b71
00c7:00c8:Ret  KERNEL32.GetFileAttributesW() retval=ffffffff ret=7d173b71
...
00c7:00c8:Call KERNEL32.GetTempFileNameW(05262cd0 LC:\\users\\focht\\Temp\\7d1f0bf8 Lmsi0000000205252740) ret=7d173875
00c7:00c8:Ret  KERNEL32.GetTempFileNameW() retval=00000002 ret=7d173875
00c7:00c8:Call KERNEL32.CreateDirectoryW(05252740 LC:\\users\\focht\\Temp\\msi2.tmp00000000) ret=7d17389b
00c7:00c8:Ret  KERNEL32.CreateDirectoryW() retval=00000001 ret=7d17389b
...
00c7:00c8:trace:msi:set_target_path file LRepl_ExceptionMessageBox_dll_32 resolves to LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll
....
00c7:00c8:trace:msi:set_target_path file LREPL_Microsoft_SqlServer_Configuration_Repl_ConfigExtension_dll_32 resolves to LC:\\Program Files\\Microsoft SQL Server\\100\\Setup Bootstrap\\Release\\x86\\Microsoft.SqlServer.Configuration.Repl_ConfigExtension.dll
00c7:00c8:Call KERNEL32.GetFileAttributesW(0524e3e0 LC:\\Program Files\\Microsoft SQL Server\\100\\Setup Bootstrap\\Release\\x86\\Microsoft.SqlServer.Configuration.Repl_ConfigExtension.dll) ret=7d173b71
00c7:00c8:Ret  KERNEL32.GetFileAttributesW() retval=ffffffff ret=7d173b71
...
00c7:00c8:trace:msi:calculate_install_state installing LRepl_ExceptionMessageBox_dll_32 (missing)
...
00c7:00c8:trace:msi:msi_resolve_file_source Working to resolve source of file LRepl_ExceptionMessageBox_dll_32
00c7:00c8:trace:msi:msi_resolve_source_folder working to resolve LGAC_32
...
00c7:00c8:trace:msi:msi_resolve_source_folder    already resolved to Lc:\\bd487f1735de2c1c339b6b49ac55\\PCUSOURCE\\x86\\setup\\1033\\Windows\\Gac\\
...
00c7:00c8:Call KERNEL32.GetFileAttributesW(05468fc8 Lc:\\bd487f1735de2c1c339b6b49ac55\\PCUSOURCE\\x86\\setup\\1033\\Windows\\Gac\\_yafabdp.dll) ret=7d1a61f3
00c7:00c8:Ret  KERNEL32.GetFileAttributesW() retval=00000020 ret=7d1a61f3
...
00c7:00c8:trace:msi:msi_resolve_file_source file LRepl_ExceptionMessageBox_dll_32 source resolves to Lc:\\bd487f1735de2c1c339b6b49ac55\\PCUSOURCE\\x86\\setup\\1033\\Windows\\Gac\\_yafabdp.dll
00c7:00c8:trace:msi:ACTION_InstallFiles copying Lc:\\bd487f1735de2c1c339b6b49ac55\\PCUSOURCE\\x86\\setup\\1033\\Windows\\Gac\\_yafabdp.dll to LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll
00c7:00c8:trace:msi:copy_install_file Copying Lc:\\bd487f1735de2c1c339b6b49ac55\\PCUSOURCE\\x86\\setup\\1033\\Windows\\Gac\\_yafabdp.dll to LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll
00c7:00c8:Call KERNEL32.CopyFileW(05468fc8 Lc:\\bd487f1735de2c1c339b6b49ac55\\PCUSOURCE\\x86\\setup\\1033\\Windows\\Gac\\_yafabdp.dll0524e328 LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll00000000) ret=7d1a5bcc
00c7:00c8:Ret  KERNEL32.CopyFileW() retval=00000001 ret=7d1a5bcc
00c7:00c8:Call KERNEL32.SetFileAttributesW(0524e328 LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll00000080) ret=7d1a5bfa
00c7:00c8:Ret  KERNEL32.SetFileAttributesW() retval=00000001 ret=7d1a5bfa
...
00c7:00c8:Call KERNEL32.WideCharToMultiByte(00000000000000000539c958 LAction start 12:08:59: MsiPublishAssemblies.ffffffff00000000000000000000000000000000) ret=7d1c6352
...
00c7:00c8:trace:msi:ACTION_MsiPublishAssemblies publishing LRepl_ExceptionMessageBox_dll_32
...
00c7:00c8:Call advapi32.RegCreateKeyW(800000007d1fabc0 LInstaller\\Assemblies\\Global0033e7f8) ret=7d187623
...
00c7:00c8:Call advapi32.RegSetValueExW(0000047c056a5ab8 LMicrosoft.NetEnterpriseServers.ExceptionMessageBoxfileVersion=\10.0.2531.0\version=\10.0.0.0000\culture=\neutral\publicKeyToken=\89845DCD8080CC91\processorArchitecture=\MSIL\00000000000000070033e79200000056) ret=7d1878d3
...
00c7:00c8:Call KERNEL32.WideCharToMultiByte(000000000000000005265aa0 LAction ended 12:08:56: InstallFiles. Return value 1.ffffffff00000000000000000000000000000000) ret=7d1c6352
...
00c7:00c8:Call KERNEL32.DeleteFileW(0524e328 LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll) ret=7d1c1b09
00c7:00c8:Ret  KERNEL32.DeleteFileW() retval=00000001 ret=7d1c1b09
... 
--- snip ---

Although Wine MSI does publish(!) the assemblies in registry the global shared assemblies are never installed into GAC.

Debug session of install files action (attach with debugger to sub-process):

--- snip ---
Wine-dbg>bt

Backtrace:
=>0 0x7d12b5a0 ACTION_InstallFiles+0x308(package=0x69a1440) [/home/focht/projects/wine/wine.repo/src/dlls/msi/files.c:415] in msi (0x0033e888)
  1 0x7d106c2f ACTION_HandleStandardAction+0x154(package=0x69a1440 action=InstallFiles) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:7874] in msi (0x0033ea58)
  2 0x7d106dc7 ACTION_PerformAction+0x67(package=0x69a1440 action=InstallFiles script=0xffffffff) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:7902] in msi (0x0033ea98)
  3 0x7d0f4fd7 ITERATE_Actions+0xf2(row=0x699f140 param=0x69a1440) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:513] in msi (0x0033eae8)
  4 0x7d1443b2 MSI_IterateRecords+0x82(view=0x699ecb8 count=0x0(nil) func=0x7d0f4ee4 param=0x69a1440) [/home/focht/projects/wine/wine.repo/src/dlls/msi/msiquery.c:188] in msi (0x0033eb18)
  5 0x7d0f524b ACTION_ProcessExecSequence+0xe8(package=0x69a1440) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:578] in msi (0x0033eb58)
  6 0x7d1012a9 ACTION_ExecuteAction+0x342(package=0x69a1440) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:5638] in msi (0x0033eb98)
  7 0x7d101506 ACTION_INSTALL+0x76(package=0x69a1440) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:5695] in msi (0x0033ebb8)
  8 0x7d106c2f ACTION_HandleStandardAction+0x154(package=0x69a1440 action=INSTALL) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:7874] in msi (0x0033ed88)
  9 0x7d106dc7 ACTION_PerformAction+0x67(package=0x69a1440 action=INSTALL script=0xffffffff) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:7902] in msi (0x0033edc8)
  10 0x7d10735f MSI_InstallPackage+0x3ad(package=0x69a1440 szPackagePath=c:\4d5a3e54918d6b5956e0665f28e2\PCUSOURCE\x86\setup\1033\SqlSupport.msi szCommandLine=ADDLOCAL = SupportFiles REBOOT = ReallySuppress MEDIAPACKAGEPATH = \x86\setup\1033\) [/home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:8047] in msi (0x0033ee28)
  11 0x7d139588 MsiInstallProductW+0xbd(szPackagePath= szCommandLine=) [/home/focht/projects/wine/wine.repo/src/dlls/msi/msi.c:251] in msi (0x0033ee68)
  12 0x066efe74 (0x0033eec0) 

...

Wine-dbg>info locals

0x7d12b5a0 ACTION_InstallFiles+0x308: (0033e888)
  	MSIPACKAGE* package=0x69a1440 (parameter [EBP+8])
  	MSIMEDIAINFO* mi=0x5570ab8 (local [EBP-20])
  	UINT rc=0 (local [EBP-12])
  	MSIFILE* file=0x68e9ba8 (local [EBP-16])
  	WCHAR* source=c:\4d5a3e54918d6b5956e0665f28e2\PCUSOURCE\x86\setup\1033\Windows\Gac\_yafabdp.dll (local [EBP-40]) 

Wine-dbg>s

msi_is_global_assembly () at /home/focht/projects/wine/wine.repo/src/dlls/msi/action.c:2187
2187	{

Wine-dbg>n
2188	    return comp->assembly 

Wine-dbg>p *comp
{entry={next=0x68d7b98 prev=0x68d77a8} Component=Repl_ExceptionMessageBox_dll_32 ComponentId={DABDC208-7DD5-4A0A-B5E9-53C857F7802D} Directory=GAC_32 Attributes=0x800 Condition=0x0(nil) KeyPath=Repl_ExceptionMessageBox_dll_32 Installed=INSTALLSTATE_ABSENT ActionRequest=INSTALLSTATE_LOCAL Action=INSTALLSTATE_LOCAL ForceLocalState=0 Enabled=0x1 Cost=0x20768 RefCount=0x1 FullKeypath=<\Microsoft.NetEnterpriseServers.ExceptionMessageBoxfileVersion=10.0.2531.0version=10.0.0.0000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=MSIL AdvertiseString=0x0(nil) assembly=0x68d7488 num_clients=0x1 anyAbsent=0 hasAdvertisedFeature=0 hasLocalFeature=0x1 hasSourceFeature=0}

Wine-dbg>p *comp->assembly
{feature=SupportFiles manifest=Repl_ExceptionMessageBox_dll_32 application=0x0(nil) attributes=0 display_name=Microsoft.NetEnterpriseServers.ExceptionMessageBoxfileVersion=10.0.2531.0version=10.0.0.0000culture=neutralpublicKeyToken=89845DCD8080CC91processorArchitecture=MSIL tempdir=C:\users\focht\Temp\msi2.tmp installed=0 clr_version={0 0 0 0}}
 
Wine-dbg>p *file

{entry={next=0x68e9f10 prev=0x68e9980} File=Repl_ExceptionMessageBox_dll_32 Component=0x68d7968 FileName=Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll ShortName=_yafabdp.dll LongName=Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll FileSize=0x20768 Version=10.0.2531.0 Language=0 Attributes=0 Sequence=0x8a state=msifs_installed TargetPath=C:\users\focht\Temp\msi2.tmp\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll IsCompressed=0 hash={dwFileHashInfoSize=0 dwData={0 0 0 0}} disk_id=0x1} 
--- snip ---

Source:

https://source.winehq.org/git/wine.git/blob/f9181daa1ddc2c10d3b6ddd4610bc1421cfd0f42:/dlls/msi/files.c#l437

--- snip ---
...
 437     LIST_FOR_EACH_ENTRY( file &package->files MSIFILE entry )
 438     {
 439         MSICOMPONENT *comp = file->Component
 440 
 441         if (!msi_is_global_assembly( comp ) || comp->assembly->installed ||
 442             (file->state != msifs_missing 
 443 
 444         rc = msi_install_assembly( package comp )
 445         if (rc != ERROR_SUCCESS)
 446         {
 447             ERR(Failed to install assembly\n)
 448             rc = ERROR_INSTALL_FAILURE
 449             break
 450         }
 451         file->state = msifs_installed
 452     }
--- snip ---

'file->state' was already set to 'installed' in the file install part (main loop of 'ACTION_InstallFiles') hence the global .NET assembly installation part is not executed due to line 441/442 or condition. 

With that part fixed the installer succeeds.

--- snip ---
...
00c6:00c7:Call KERNEL32.CreateFileW(0644a3a8 LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll800000000000000100000000000000030800000000000000) ret=603be944
00c6:00c7:Ret  KERNEL32.CreateFileW() retval=000003fc ret=603be944
...
00c6:00c7:trace:msi:msi_install_assembly installing assembly LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll 
...
00c6:00c7:Call KERNEL32.CopyFileW(066efe40 LC:\\users\\focht\\Temp\\msi2.tmp\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll066f0320 LC:\\windows\\assembly\\GAC_MSIL\\Microsoft.NetEnterpriseServers.ExceptionMessageBox\\10.0.0.0__89845dcd8080cc91\\Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll00000000) ret=7d41bc50
00c6:00c7:Ret  KERNEL32.CopyFileW() retval=00000001 ret=7d41bc50
...
--- snip --

Interestingly these .NET assemblies get installed in 'c:\windows\Microsoft.NET\assembly' (GAC location prior .NET 4.0) - despite only .NET 4.0 Framework/CLR being present in the prefix.

--- snip ---
$ tree --charset=ANSI windows/assembly/
windows/assembly/
|-- GAC_32
|   `-- Microsoft.SqlServer.GridControl
|       `-- 10.0.0.0__89845dcd8080cc91
|           `-- Microsoft.SqlServer.GridControl.dll
`-- GAC_MSIL
    |-- Microsoft.NetEnterpriseServers.ExceptionMessageBox
    |   `-- 10.0.0.0__89845dcd8080cc91
    |       `-- Microsoft.NetEnterpriseServers.ExceptionMessageBox.dll
    |-- Microsoft.SqlServer.CustomControls
    |   `-- 10.0.0.0__89845dcd8080cc91
    |       `-- Microsoft.SqlServer.CustomControls.dll
    `-- Microsoft.SqlServer.WizardFrameworkLite
        `-- 10.0.0.0__89845dcd8080cc91
            `-- Microsoft.SqlServer.WizardFrameworkLite.dll

10 directories 4 files
--- snip ---

This seems ok the 'Target Runtime' property in these assemblies is indeed set to v2.0.5027 (can be also viewed using 'ILSpy' 'Reflector' etc.).

$ sha1sum SQLEXPR32_x86_ENU.exe 
5f6c9597a592df4a5d969259a8e1592ecf838515  SQLEXPR32_x86_ENU.exe

$ du -sh SQLEXPR32_x86_ENU.exe 
62M	SQLEXPR32_x86_ENU.exe

$ wine --version
wine-3.1

Regards",7,"0"
"WINE-4646","Cannot run binaries created with microsoft visual c++","Any binary I create with microsoft visual c++ 2005 opens a message box with 
the error:
This application has requested the runtime to terminate it in an unusual way!

in the linux console the error reads:
Unhandled exception 0x40000015 at address ... (The address differs depending 
on how I compile)

The same application compiled with VC 6 runs fine. It seems to be something in 
the microsoft runtime.",12,"0"
"WINE-40243","Korg Nano editor USB MIDI driver won't install requires Administrator Privileges","I can't run Korg's Nano Series editor.

The Korg Kontrol Editor itself installs but I must have administrator privileges (Windows not Linux) for the USB-MIDI driver tools. And without the USB MIDI driver the program doesn't see my Nanokontrol.

In order to install the driver you must have Administrator privilege

running KXStudio (KDE) 64 bit.",307,"0"
"WINE-8539","VMXBuider 0.8 (VB6 app) fails to create new VM reporting Run-time error '-2147417848 (80010108)': Automation error","VMXBuilder crash",2463,"1"
"WINE-25827","msi install/package tests fail on clang","Created attachment 32917
+relay+seh+tid+msi+msidb

../../../tools/runtest -q -P wine -M msi.dll -T ../../.. -p msi_test.exe.so install.c && touch install.ok
fixme:ntdll:NtQueryInformationToken QueryInformationToken( ... TokenElevationType ...) semi-stub
fixme:storage:create_storagefile Storage share mode not implemented.
wine: Unhandled page fault on write access to 0x7d373834 at address 0x7bc52782 (thread 0009) starting debugger...
err:seh:raise_exception Unhandled exception code c0000005 flags 0 addr 0x7bc52782
make: *** [install.ok] Error 5


FWIW Hans had looked at this one a while back and thought it may be ole related.

+relay+seh+tid+msi+msidb attached (for install.c)",71,"0"
"WINE-44469","Multiple apps using Windows 10 v1507+ UCRT crash due to multiple missing api-ms-win-crt-private-l1-1-0.dll._o__xxx stubs/forwards (Win10 DISM pkgmgr.exe MS DirectX Shader Compiler)","Hello folks

continuation of bug 44430

Steps to reproduce

--- snip ---
# clean WINEPREFIX

$ winetricks -q dotnet452 corefonts
$ winetricks -q win10

$ wine adksetup.exe /features OptionId.DeploymentTools

$ pwd
/home/focht/.wine/drive_c/Program Files/Windows Kits/10/Assessment and Deployment Kit/Deployment Tools/x86/DISM

$ wine ./pkgmgr.exe 
...
wine: Call from 0x7bc62a40 to unimplemented function api-ms-win-crt-private-l1-1-0.dll._o__set_app_type aborting
wine: Call from 0x7bc62a40 to unimplemented function api-ms-win-crt-private-l1-1-0.dll._o__seh_filter_exe aborting
--- snip ---

The unresolved imports:

--- snip ---
$  WINEDEBUG=warn+module wine ./pkgmgr.exe 
01e4:warn:module:import_dll No implementation for api-ms-win-crt-private-l1-1-0.dll._o__exit imported from LC:\\Program Files\\Windows Kits\\10\\Assessment and Deployment Kit\\Deployment Tools\\x86\\DISM\\pkgmgr.exe setting to 0x340000
01e4:warn:module:import_dll No implementation for api-ms-win-crt-private-l1-1-0.dll._o__get_initial_wide_environment imported from LC:\\Program Files\\Windows Kits\\10\\Assessment and Deployment Kit\\Deployment Tools\\x86\\DISM\\pkgmgr.exe setting to 0x34000f
01e4:warn:module:import_dll No implementation for api-ms-win-crt-private-l1-1-0.dll._o__initialize_wide_environment imported from LC:\\Program Files\\Windows Kits\\10\\Assessment and Deployment Kit\\Deployment Tools\\x86\\DISM\\pkgmgr.exe setting to 0x34001e
01e4:warn:module:import_dll No implementation for api-ms-win-crt-private-l1-1-0.dll._o__seh_filter_exe imported from LC:\\Program Files\\Windows Kits\\10\\Assessment and Deployment Kit\\Deployment Tools\\x86\\DISM\\pkgmgr.exe setting to 0x34002d
01e4:warn:module:import_dll No implementation for api-ms-win-crt-private-l1-1-0.dll._o__set_app_type imported from LC:\\Program Files\\Windows Kits\\10\\Assessment and Deployment Kit\\Deployment Tools\\x86\\DISM\\pkgmgr.exe setting to 0x34003c
01e4:warn:module:import_dll No implementation for api-ms-win-crt-private-l1-1-0.dll._o__set_fmode imported from LC:\\Program Files\\Windows Kits\\10\\Assessment and Deployment Kit\\Deployment Tools\\x86\\DISM\\pkgmgr.exe setting to 0x34004b
01e4:warn:module:import_dll No implementation for api-ms-win-crt-private-l1-1-0.dll._o_exit imported from LC:\\Program Files\\Windows Kits\\10\\Assessment and Deployment Kit\\Deployment Tools\\x86\\DISM\\pkgmgr.exe setting to 0x34005a
01e4:warn:module:import_dll No implementation for api-ms-win-crt-private-l1-1-0.dll._o__crt_atexit imported from LC:\\Program Files\\Windows Kits\\10\\Assessment and Deployment Kit\\Deployment Tools\\x86\\DISM\\pkgmgr.exe setting to 0x340069
01e4:warn:module:import_dll No implementation for api-ms-win-crt-private-l1-1-0.dll._o__controlfp_s imported from LC:\\Program Files\\Windows Kits\\10\\Assessment and Deployment Kit\\Deployment Tools\\x86\\DISM\\pkgmgr.exe setting to 0x340078
01e4:warn:module:import_dll No implementation for api-ms-win-crt-private-l1-1-0.dll._o__configthreadlocale imported from LC:\\Program Files\\Windows Kits\\10\\Assessment and Deployment Kit\\Deployment Tools\\x86\\DISM\\pkgmgr.exe setting to 0x340087
01e4:warn:module:import_dll No implementation for api-ms-win-crt-private-l1-1-0.dll._o__cexit imported from LC:\\Program Files\\Windows Kits\\10\\Assessment and Deployment Kit\\Deployment Tools\\x86\\DISM\\pkgmgr.exe setting to 0x340096
--- snip ---

api-ms-win-crt-private-l1-1-0.dll._o__cexit
api-ms-win-crt-private-l1-1-0.dll._o__configthreadlocale
api-ms-win-crt-private-l1-1-0.dll._o__controlfp_s
api-ms-win-crt-private-l1-1-0.dll._o__crt_atexit
api-ms-win-crt-private-l1-1-0.dll._o_exit
api-ms-win-crt-private-l1-1-0.dll._o__exit
api-ms-win-crt-private-l1-1-0.dll._o__get_initial_wide_environment
api-ms-win-crt-private-l1-1-0.dll._o__initialize_wide_environment
api-ms-win-crt-private-l1-1-0.dll._o__seh_filter_exe
api-ms-win-crt-private-l1-1-0.dll._o__set_app_type
api-ms-win-crt-private-l1-1-0.dll._o__set_fmode

It's unfortunate that the initial commit which adds 'api-ms-win-crt-private-l1-1-0.dll' doesn't tell which exact Windows version *and* build and/or Windows SDK version was used to generate the export list.

https://source.winehq.org/git/wine.git/commitdiff/a3e183572a7621635025fed02c2ca771b203fbdf

Also no Bugzilla ticket found related to the addition:

https://bugs.winehq.org/buglist.cgi?bug_status=bug_status%3DCLOSED&f1=cf_fixedby_sha1sum&j_top=OR&list_id=573795&o1=equals&product=Wine&query_format=advanced&v1=a3e183572a7621635025fed02c2ca771b203fbdf

After some archaeology I found it mentioned in the mailing list: 

https://www.winehq.org/pipermail/wine-patches/2015-August/

https://www.winehq.org/pipermail/wine-patches/2015-August/141297.html ([PATCH v2 01/22] ucrtbase: Add the new universal CRT DLL.)
...
https://www.winehq.org/pipermail/wine-patches/2015-August/141306.html ([PATCH v2 16/22] api-ms-win-crt-private-l1-1-0: Add stub dll.)

--- quote ---
...
Since MSVC 2015/Windows 10 the C runtime has now been split into two
parts ucrtbase which is the generic C runtime which is now considered
a system component (in Windows 10 and as an extra installed runtime
component for older Windows version) and vcruntimeX which is specific
to the compiler version.

This uses the msvcrt implementation just like the earlier msvcr* DLLs.

Functions with names that existed in msvcr120 are hooked up so far.
---
This is updated based on ucrtbase.dll from Windows 10 RTM.
---
--- quote ---

https://technet.microsoft.com/en-us/en-en/windows/release-info.aspx

Windows 10 RTM -> Version 1507 (RTM) -> my guess it's OS build 10240.16xxx where the initial dump information was generated from.

https://www.opendll.com/index.php?file-download=api-ms-win-crt-private-l1-1-0.dll&arch=32bit&version=10.0.10586.212&dsc=ApiSet%20Stub%20DLL

-> 10.0.10586.212 shows these imports/exports so it's likely the API set was updated in Windows 10 Version 1511 (OS build 10586)

That's why I like have tickets (preferably with exact information on origin) when new (stub) dlls are added to avoid wasting time for this kind of research.

$ sha1sum adksetup.exe 
92892e71b083fc46c907b657c300ffc32608d223  adksetup.exe

$ du -sh adksetup.exe 
1.7M	adksetup.exe

$ wine --version
wine-3.0-180-g85635db0ea

Regards",360,"0"
"WINE-13478","Winehelp crash in textpad","Created attachment 13398
Messages

After closing the help in TextPad 5.2 wine crashes. Unhandled page fault on read access",198,"0"
"WINE-9023","MS Office 2003 claims not installed for this user","The MS Office 2003 installer runs reasonably smoothly
but when you then try to run the app
it exits with a dialog This app has not been installed for this user.
Please run setup.",105,"0"
"WINE-18742","WoW: Icons under d3d are incorrectly desaturated","Created attachment 21489
OpenGL/D3D desaturation comparison

The attached screenshot will speak for itself. I had to check a few times the correct behaviour under Windows. After a few discussions on IRC this is what was concluded:
- In OpenGL the icons are correctly desaturated
- In D3D WoW thinks desaturation is not supported so instead the icons will be dimmed",4,"0"
"WINE-2280","BACKSPACE and LEFT ARROW not responding with FirstClass v7.112","The BACKSPACE and LEFT ARROW keys do not work while editting a message using
firstclass v7.112 available from www.firstclass.com with Wine 2004-05-05.

These keys appear to work elsewhere withing firstclass and within other programs.",1452,"1"
"WINE-29398","foobar2000: attempting to edit advanced preferences text fields clears existing content","All foobar2000 Preferences>Advanced text fields instantly clear when single left-clicked in to edit them. Pressing Esc restores original contents or a right-click reset restores defaults if emptied field has been saved that way. Radio buttons & check boxes work fine.

Many of these fields are too long to display when not in edit mode so this can't even be worked around by writing down contents & re-entering the whole edited version.

The problem was briefly discussed here (with screen grabs): http://www.hydrogenaudio.org/forums/index.php?showtopic=54933&view=findpost&p=777079 but the suggested solution of temporarily setting comctl32 library to native in wine config did not work for me.

Bug 6148 sounds the same to me but that's fixed.

I'm using foobar 1.1.10 Wine 1.2.3 on Mint 10 with all updates applied.

Problem was also present on Wine 1.2.2 with both foobar 1.1.10 & foobar 1.1.9",0,"0"
"WINE-6588","Strange return value of the GraphBuilder_Connect function","Hello looking at the quartz.dll sources (filtergraph.c file) noticed the following:

static HRESULT WINAPI GraphBuilder_Connect(IGraphBuilder *iface
					   IPin *ppinOut
					   IPin *ppinIn)
{
    ...
    
    hr = IEnumMediaTypes_Next(penummt 1 
    if (FAILED(hr)) {
        ERR(IEnumMediaTypes_Next (%x)\n hr)
        return hr
    }

    if (!nbmt) {
        ERR(No media type found!\n)
        return S_OK // is this really OK? - DL
    }
    ...
}

If the pins were not connected - is S_OK the suitable return value?",759,"0"
"WINE-27616","Warcraft 3: missing mouse cursor","Hello!
I can't found this bug in bugzilla so i post it.
I very often play in WarCraft 3. And from some version of wine i can't see mouse cursor even i minimize game. If i try to move mouse - i see that it moves in game but i can't use it with any program while not close the game.",1270,"1"
"WINE-22601",".NET Framework 2.0 installer displays crash dialog fails with function failed error message","With wine-1.1.43-564-g1af1784 executing winetricks dotnet20 and proceeding past the EULA yields an error reporting crash dialog and setup failure with the message Function failed. in the installer window. Particular pertinent error messages are:

err:msi:store_binary_to_temp Failed to get stream
err:msi:ITERATE_Actions Execution halted action LSxsInstallCA returned 1627

Regression testing indicated:

42550953a650e1ef166339fb4e2fdc06741ad5b8 is first bad commit
commit 42550953a650e1ef166339fb4e2fdc06741ad5b8
Author: Vincent Povirk 
Date:   Tue May 4 15:15:41 2010 -0500

    ole32: Store the location of all blocks in a big block chain in memory.
    
    A big block chain is a linked list and we pretty much need random
    access to them. This should theoretically make accessing a random
    point in the chain O(log2 n) instead of O(n) (with disk access scaling
    based on the size of the read/write not its location). It
    theoretically takes O(n) memory based on the size but it can do
    better if the chain isn't very fragmented (which I believe will
    generally be the case for long chains). It also involves fetching all
    the big block locations when we open the chain but we already do that
    anyway (and it should be faster to read it all in one go than
    piecemeal).

:040000 040000 a1ca1235acef50b9287db51b2d08f203907f2c1e 16b036ee8b83707264d3d1226d9c690a72790793 M	dlls

A +storage log is attached.",1,"0"
"WINE-11173","3ds max 2008 fails to install","So as i couldn't find 3ds max 7 i gave the 2008 trial version a try but it fails quite early:

err:msi:read_properties_from_data wrong type 64 != 30


There were also some mscoree related fixme's in the console but they seem not be the problem. I'll attach a screenshot of the error",47,"0"
"WINE-25958","DreamStation 1 free music tracker visually freezes under some conditions","When you open a file and play it everything works fine except that all movable parts of the application freeze when you mouseover the main application area. Once you move mouse to certain areas like application top text menu application external window or somewhere outside of the application's window or start adjusting any settings while the song is playing it unfreezes! When you finish changing settings/mouseover the main program area it freezes again. 
Only visual audio keeps playing with no problems!
Tested also with wine 1.1.42 (in addition to 1.3.12) on different machines but both running KDE.

Application official download link: http://www.audio-simulation.com/downloads/DS1Install_R004.exe",743,"0"
"WINE-7711","TomTom Home can not detect TomTom devices","tomtom home does not find the device go 901",2719,"1"
"WINE-33101","FlashDevelop 4.3.0 (.NET 2.0 app) crashes on startup with 'Initialization failed. Please run FlashDevelop again.'","Created attachment 43772
terminal output

FlashDevelop fails initialization when I try to run it.

Download page: http://www.flashdevelop.org/community/viewtopic.php?f=11&t=10497",1019,"1"
"WINE-7787","InstallShield crashes trying to open temporary file","Installshield crashes when trying to open a not existing temporary file",481,"0"
"WINEHQ_APPS_DATABASE-19161","Script broken [AppDB] [Cron maintenance] - Orphan version cleanup","Looks like the cron maintenance script is broken for Orphan version cleanup

The script report:
-------------------------------------------------------
Found these orphaned versions in the database with
this sql command 'select versionId versionName from appVersion where appId = 0'
versionId/name
11773/1.0.1
10398/1st Throne - The Kamael
11081/2.0.0.16
11133/1.1
14849/10.00 Alpha
15895/6.0.0.689
-------------------------------------------------------

I checked and deleted these orphan versions but they continue to be listed in the report:

eg: See the link for the first appdb:
http://appdb.winehq.org/objectManager.php?sClass=version&iId=11773

which reports This entry has been deleted (class: version id: 11773)
Its content may have been moved to another entry",9,"0"
"WINE-43586","Dead Space: no shadows in game","Created attachment 58998
no shadows screenshot

Shadows were present until version 2.6
They present in v2.5 
v2.6 and later  they don't.

(Tested on Nvidia 384.59+Kubuntu 17.04)",21,"0"
"WINE-35365","Multiple applications fail to install (IE7 MS .NET Framework 4.0)","Created attachment 47169
backtrace in wine1.7.10.txt

With a clean wine-prefix winetricks -q ie7 fails
I ran a bisect and found that:

5cf3c1f4a64a0c9ec2fe97e738819f2d894eee98 is the first bad commit
commit 5cf3c1f4a64a0c9ec2fe97e738819f2d894eee98
Author: Dmitry Timoshkov 
Date:   Mon Dec 30 18:21:15 2013 +0900

    wuapi: Remove unused IUnknown *outer parameter from object constructors.


Reverting this patch fixes this problem.",3,"0"
"WINE-29315","World of Warcraft (WoW) Launcher.exe  does not run","Created attachment 37914
Launcher.exe output

Installing World of Warcraft fresh.

Following various people's help around the Internet I was able to get Launcher.exe to run for a little while then it crashed again changing game availability status.

Now when I run `wine Launcher.exe` or start it using a launcher it doesn't run and I get the messages in the attachment.",646,"0"
"WINE-22497","Garant setup file f1setup.exe crashes","Created attachment 27564
output and file f1setup.exe

Wine crashes when I start f1setup.exe",148,"0"
"WINE-28237","Hyperlinks do nothing in Internet Explorer 3.02","Created attachment 36176
+hlink log

When clicking on any link in IE 3.02 nothing happens. I tested with some older versions of Wine and found that it worked in 1.3.0 so I did a regression test:

cb5eb331590c96c26ab50cfe9ae96692dfcca34f is the first bad commit
commit cb5eb331590c96c26ab50cfe9ae96692dfcca34f
Author: Andrew Eikum 
Date:   Mon Aug 16 13:55:14 2010 -0500

    hlink: Implement HLINKGETREF flags handling.

:040000 040000 dd6714c8b823591e32d9c0f9e66f9ee1a68e4742 a82e4eda4beb5ecb0f833a0887fb152e13e7fdc0 M    dlls

Reverting that patch fixed the problem. BTW I also verified that this old version of IE still works properly with a more modern native hlink (from XP).

Steps to install IE3 and see the problem:
1. Run iexplore -unregserver
2. In winecfg add global overrides for some core IE libraries:
iexplore.exe jscript mshtml shdocvw urlmon wininet
3. Add a new application on the applications tab - infinst2.exe - and set shell32 to disabled for this executable.
4. Run the installer leave all settings at default and allow it to restart at the end.
5. On the first run of IE disable the default browser check. It will then crash from an unimplemented function.
6. Run the browser a second time and there should be no crash (just don't try to use the address bar or home button). Click any of the links on the WineHQ homepage and nothing will happen.",160,"0"
"WINE-27831","Tic Tac Toe Game (vbscript) cannot be played (colon used for placing multiple statements on the same line in select case statements)","To view page you need to
~/wine-git/wine iexplore file://c:/Game.htm

None of the blank squares can be populated(clicking) and thus the game cannot be played.

Didn't quite know what to pick for the severity so I picked minor.",965,"1"
"WINE-20961","RegEditX 2.x/3.x reports 'Internal error: could not find RegEdit window' on startup (Wine's builtin 'regedit.exe' needs to provide 'RegEdit_RegEdit' window class name)","Application description: RegEditX extends the Windows Registry Editor (REGEDIT).  A new history combo box and toolbar are inserted.  You gain quick navigation back to recently-visited keys the ability to paste keys from the Windows clipboard and incrementally type the keys manually.  In addition columns in the listbox are kept optimally sized.

Doesn't work in wine:

Internal error: could not find RegEdit window",3165,"1"
"WINE-547","DLL Separation: user32 from gdi32","Note that there is no garantee that this can really be done independently from
the other DLL separation tasks. The best way to find out it to try. If you fix
one of these references then update this bug accordingly and close it when
none remain.

./libuser32.so: undefined reference to `BITMAP_CopyBitmap'
./libuser32.so: undefined reference to `BITMAP_GetWidthBytes'
./libuser32.so: undefined reference to `DeleteMetaFile16'
./libuser32.so: undefined reference to `DIB_BitmapInfoSize'
./libuser32.so: undefined reference to `DIB_GetDIBImageBytes'
./libuser32.so: undefined reference to `ExcludeVisRect16'
./libuser32.so: undefined reference to `GetDCState16'
./libuser32.so: undefined reference to `GDIRealizePalette16'
./libuser32.so: undefined reference to `GDISelectPalette16'
./libuser32.so: undefined reference to `IsDCCurrentPalette16'
./libuser32.so: undefined reference to `REGION_CropRgn'
./libuser32.so: undefined reference to `SetDCState16'
./libuser32.so: undefined reference to `SetHookFlags16'
./libuser32.so: undefined reference to `TranslateCharsetInfo'",591,"0"
"WINE-29894","LibreOffice: sdraw.exe runs out of GDI object handles and crashes on a particular VSD file","Steps to reproduce:

Install LibreOffice 3.5.0.

Open DNetwork.vsd from http://www.microsoft.com/download/en/details.aspx?displaylang=en&id=24023 (Visio 2003 Sample: 20 Sample Diagrams).

followed by:

err:gdi:alloc_gdi_handle out of GDI object handles expect a crash
err:gdi:alloc_gdi_handle out of GDI object handles expect a crash
err:gdi:alloc_gdi_handle out of GDI object handles expect a crash
err:gdi:alloc_gdi_handle out of GDI object handles expect a crash
err:gdi:alloc_gdi_handle out of GDI object handles expect a crash
err:seh:raise_exception Unhandled exception code e06d7363 flags 1 addr 0x7b839dd2
Process of pid=0021 has terminated

Even under winedbg I cannot get a backtrace.

If it's desirable I can upload the sample file on http://ompldr.org/",24,"0"
"WINE-1521","Garmin MapSource TEMP file error","> I have eTrex Legend and want to run MapSource without Windows.
 I could install MapSource from CD-ROM with latest Wine. Fine!
 
 I tried to execute % wine MapSource.exe but got error dialog
 bellow.
 
 At: 5/30/2003 1:57:40 AM (UTC)
 OS: Windows 98
Processor: Pentium RAM: 516128 KB
 WIN_SMARTTEMPFILE.CPP-42-4.09
 Access denied",844,"1"
"WINE-26099","rpcrt4/ndr_marshal shows a ton of valgrind warnings","Created attachment 33288
valgrind log

22 bytes in 1 blocks are definitely lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  test_conformant_string (ndr_marshall.c:1545)
    by  func_ndr_marshall (ndr_marshall.c:2419)
    by  run_test (test.h:556)
    by  main (test.h:624)

...

 24 bytes in 1 blocks are definitely lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  IMalloc_fnAlloc (ifs.c:186)
    by  CoTaskMemAlloc (ifs.c:395)
    by  NdrOleAllocate (ndr_ole.c:364)
    by  my_alloc (ndr_marshall.c:42)
    by  NdrAllocate (ndr_marshall.c:417)
    by  NdrBaseTypeUnmarshall (ndr_marshall.c:6672)
    by  PointerUnmarshall (ndr_marshall.c:965)
    by  NdrPointerUnmarshall (ndr_marshall.c:1560)
    by  test_pointer_marshal (ndr_marshall.c:278)
    by  test_simple_types (ndr_marshall.c:473)
    by  func_ndr_marshall (ndr_marshall.c:2411)
    by  run_test (test.h:556)
    by  main (test.h:624)
(this one is there several times)
...

 32 bytes in 1 blocks are definitely lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  IMalloc_fnAlloc (ifs.c:186)
    by  CoTaskMemAlloc (ifs.c:395)
    by  NdrOleAllocate (ndr_ole.c:364)
    by  my_alloc (ndr_marshall.c:42)
    by  NdrAllocate (ndr_marshall.c:417)
    by  NdrNonConformantStringUnmarshall (ndr_marshall.c:2623)
    by  test_nonconformant_string (ndr_marshall.c:1678)
    by  func_ndr_marshall (ndr_marshall.c:2420)
    by  run_test (test.h:556)
    by  main (test.h:624)
 
...

 40 bytes in 1 blocks are definitely lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  IMalloc_fnAlloc (ifs.c:186)
    by  CoTaskMemAlloc (ifs.c:395)
    by  NdrOleAllocate (ndr_ole.c:364)
    by  my_alloc (ndr_marshall.c:42)
    by  NdrAllocate (ndr_marshall.c:417)
    by  NdrSimpleStructUnmarshall (ndr_marshall.c:1740)
    by  test_simple_struct_marshal (ndr_marshall.c:830)
    by  test_simple_struct (ndr_marshall.c:970)
    by  func_ndr_marshall (ndr_marshall.c:2413)
    by  run_test (test.h:556)
    by  main (test.h:624)

...

 40 bytes in 1 blocks are definitely lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  IMalloc_fnAlloc (ifs.c:186)
    by  CoTaskMemAlloc (ifs.c:395)
    by  NdrOleAllocate (ndr_ole.c:364)
    by  my_alloc (ndr_marshall.c:42)
    by  NdrAllocate (ndr_marshall.c:417)
    by  NdrSimpleStructUnmarshall (ndr_marshall.c:1740)
    by  PointerUnmarshall (ndr_marshall.c:965)
    by  NdrPointerUnmarshall (ndr_marshall.c:1560)
    by  test_pointer_marshal (ndr_marshall.c:278)
    by  test_simple_struct (ndr_marshall.c:977)
    by  func_ndr_marshall (ndr_marshall.c:2413)
    by  run_test (test.h:556)
    by  main (test.h:624)

...

 40 bytes in 1 blocks are definitely lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  IMalloc_fnAlloc (ifs.c:186)
    by  CoTaskMemAlloc (ifs.c:395)
    by  NdrOleAllocate (ndr_ole.c:364)
    by  my_alloc (ndr_marshall.c:42)
    by  NdrAllocate (ndr_marshall.c:417)
    by  test_ndr_allocate (ndr_marshall.c:1347)
    by  func_ndr_marshall (ndr_marshall.c:2417)
    by  run_test (test.h:556)
    by  main (test.h:624)
 
and a ton of possibly lost warnings as well. Full log attached.",590,"0"
"WINE-32524","mmdevdrv assertion failure on FarCry3 loading screen","When playing FarCry 3 my wine crashes with the following assertion failure:

xe: mmdevdrv.c:534: pulse_wr_callback: Assertion `oldpad >= This->pad' failed.
wine: Assertion failed at address 0xf7753425 (thread 0039) starting debugger...

So far this has happened every time at the same loading screen (3/3) but not on other loading screens. The loading screen in question is the first one in the middle of the mission to pirate cove.",769,"0"
"WINE-21310","motocross madness crashing","Hi

sorry for reporting something out of the ordinary and I'm waisting some of your time

my personnal aim is to run Microsoft's Motocross Madness (the 1st one) within a virtual computer (sorry... I'm a great fan of this game and as years passes more and more GPUs and OSs are uncompatible)

because it has a check for a 3D card before launching it's impossible to use in a windows virtual machine... but thanks to you Wine devs I'm able to use it within an Ubuntu VM

actually I was able :(

emulation as never been perfect : perfct menus but ingame textures are completely wrong (a mix of very flashy colors for the area and only black for the player) but the game was launching and somebody knowing the game could play it

but since the last Wine upgrade the game can't launch (black screen then a windows like text box telling me to report the crash if it doesn't crash the same in a real windows OS

I'm sorry if this is irrelevent and if my explanations are quite confused

Any help or tip is welcomed and if I can give you more details just tell me what to look for and I'll send it to you

PS : I had to roll back Wine version synaptics only offered me 1.0.6 version : I did and the game went back to buggy but working emulation )",97,"0"
"WINE-33592","Family Tree Builder crashes partway through import of components","Created attachment 44470
Crash report created by Wine.

version 7 of Family Tree Builder installs correctly logs in to myfamily.com downloads genealogy information but then crashes while trying to download additional components.",650,"0"
"WINE-26246","Impulse doesn't work with mono","Created attachment 33445
terminal output

When installing Impulse there is an error dialog Fatal eror in gc: Collecting from unknown thread. with OK button when you click OK Impulse claims to be installed properly. However it crash when you try to start it (there is no Wine crash dialog or backtrace just an impulse window stating there was a crash and asking if I want to submit crash report I click don't send and it terminates). Terminal output attached.

winetricks gdiplus (to workaround bug 24959) mono28 vcrun6 was used.

When installing with dotnet20 there are some other troubles (bug 20651) but it works.",1075,"1"
"WINE-23384","Clicking on Audio Tab on Winecfg takes several seconds the first time","When you open winecfg and click on Audio it will take several seconds for it to respond. About 5 to 6 seconds to respond. This was not the case in versions 1.2 rc3 and 1.2 rc4. You could click and see the Audio tab immediately.",394,"0"
"WINE-5026","X development files not found during build","I hope this isn't a duplicate but I couldn't find a solution anywhere
(including here) so I'm opening this one.

I am running x86_64 Fedora Core 5 Kernel 2.6.16-1.2080_FC5 on a 7510GX Gateway
Laptop with an AMD64 CPU and an ATI X600 GPU including the ATI graphics drivers
from:  http://rpm.livna.org/fedora/testing/5/x86_64/

First I was was working from the directions provided here:
http://appdb.winehq.org/appview.php?versionId=4031

I made it as far as running ./configure when it failed I also tried
./tools/wineinstall.

When I ran ./tools/wineinstall or ./configure I got this warning:

*** Warning: X development files not found. Wine will be built without
*** X support which currently does not work and would probably not be
*** what you want anyway. You will need to install devel packages of
*** Xlib/Xfree86 at the very least.

I have installed all developement packages I can find and I still get the error.
 I did find this site:  http://fedoraproject.org/wiki/Docs/Beats/Xorg

Which told me about this:
The /usr/X11R6/ Directory Hierarchy
X11R7 files install into /usr directly now and no longer use the /usr/X11R6/
hierarchy. Applications that rely on files being present at fixed paths under
/usr/X11R6/ either at compile time or run time must be updated. They should
now use the system PATH or some other mechanism to dynamically determine where
the files reside or alternatively to hard code the new locations possibly with
fallbacks.

I tried to continue a few times despite this warning but wine even though it
installed failed to execute.

Thanks for any help.",28,"0"
"WINE-21289","System call dup2 returns 0 for negative inputs thus behaving different from real Windows","The program below when run under Wine will print:

rc 0

When I run the same binary on Windows XP I get:

rc -1

The problem appears to be that the dup2 system function doesn't do proper input checking.

This is causing self-tests errors for projects (including several GNU projects) that use some gnulib modules.

/Simon

jas@mocca:~$ cat foo.c
#include 
#include 
#include 
#include 

/* Get declarations of the Win32 API functions.  */
# define WIN32_LEAN_AND_MEAN
# include 

int
main (void)
{
  const char *file = test-dup2.tmp
  char buffer[1]
  int fd = open (file O_CREAT | O_TRUNC | O_RDWR 0600)
  int rc

  rc = dup2 (fd -2)
  printf (rc %d\n rc)

  return 0
}
jas@mocca:~$ i586-mingw32msvc-gcc -o foo.exe foo.c
jas@mocca:~$ wine ./foo.exe
rc 0
jas@mocca:~$ wine --version
wine-1.0.1
jas@mocca:~$",6,"0"
"WINE-28025","CAJViewer 7.1 crash","1. Download CAJViewer
$ wget http://viewer.tj.cnki.net/CAJViewer%207.1.2.self.exe


2. Start CAJViewer

$ wine CAJViewer\ 7.1.2.self.exe



fixme:wininet:InternetSetOptionW Option INTERNET_OPTION_MAX_CONNS_PER_1_0_SERVER (10): STUB
fixme:mountmgr:harddisk_ioctl Unsupported ioctl 74080 (device=7 access=1 func=20 method=0)
wine: Unhandled page fault on read access to 0x00000000 at address (nil) (thread 0009) starting debugger...
Unhandled exception: page fault on read access to 0x00000000 in 32-bit code (0x00000000).
fixme:dbghelp_dwarf:compute_location Only supporting one reg (ebp/22 -> -2)",23,"0"
"WINE-3923","Steam backups only work from steam directory","I got steam installed and working properly as described in the app db. I then
tried to run a steam game backup exe (which you create so you don't have to
download games again) off a dvdrom I had and it crashed spectacularly the
output is below. So I copied the backup exe to the steam directory ran it
there and it worked fine. Changing the OS that wine pretends to be in winecfg
doesn't seem to change anything. It seems you're gonna need a bit more
information than this so just say what to grab and I'll find it out.

Output of crash (F: is dvdrom):

hutyerah@mulbox:~$ wine F:\SteamBackup Half-Life 2.exe
err:mmio:MMIO_ParseExtA No . in szFileName: 
err:mmio:MMIO_ParseExtA No . in szFileName: F:\\
hutyerah@mulbox:~$ err:mmio:MMIO_ParseExtA No . in szFileName: 
err:mmio:MMIO_ParseExtA No . in szFileName: C:\\Program Files\\Steam\\
wine: Unhandled page fault on read access to 0x00000080 at address 0x80 (thread
0041) starting debugger...
WineDbg starting on pid 0x40
Unhandled exception: page fault on read access to 0x00000080 in 32-bit code
(0x00000080).
In 32 bit mode.
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:1007 GS:0000
 EIP:00000080 ESP:4066fbe4 EBP:00000000 EFLAGS:00210206(   - 00      - RIP1)
 EAX:49ee0070 EBX:49ee0060 ECX:49ee0060 EDX:0048375c
 ESI:4066fc1c EDI:00472abc
Stack dump:
0x4066fbe4:  0042961c 4066fc1c 0048375c ffffffff
0x4066fbf4:  49eed480 ffffffff 00428f2c 4066fc1c
0x4066fc04:  0048375c 49ee0060 0048b0c0 49eed480
0x4066fc14:  00470a1c 00428fb3 49ee0060 49eeec90
0x4066fc24:  00418303 49eeec90 4066ff2c 0048b0c0
0x4066fc34:  00418323 49eeec90 00000001 0048b0c0
0200: sel=1007 base=40018000 limit=00001fff 32-bit rw-
Backtrace:
=>1 0x00000080 (0x00000000)
0x00000080: addb        %al0x0(%eax)
Modules:
Module  Address                 Debug info      Name (70 modules)
PE      0x00400000-00495000     Deferred        steamrestore
ELF     0x40000000-40017000     Deferred        ld-linux.so.2
ELF     0x4001a000-40023000     Deferred        libnss_compat.so.2
ELF     0x40023000-4002d000     Deferred        libnss_nis.so.2
ELF     0x4002d000-40047000     Deferred        libwine.so.1
ELF     0x40047000-40160000     Deferred        libc.so.6
ELF     0x40165000-401d8000     Deferred        ntdll
  \-PE  0x40180000-401d8000     \               ntdll
ELF     0x401d8000-402cd000     Deferred        libwine_unicode.so.1
ELF     0x402cd000-402f0000     Deferred        libm.so.6
ELF     0x402f2000-402fa000     Deferred        libsm.so.6
ELF     0x402fa000-40300000     Deferred        libxxf86dga.so.1
ELF     0x40306000-4031c000     Deferred        libnsl.so.1
ELF     0x4031c000-40326000     Deferred        libnss_files.so.2
ELF     0x40326000-4032b000     Deferred        libxxf86vm.so.1
ELF     0x4032b000-4032e000     Deferred        libxrandr.so.2
ELF     0x40440000-40539000     Deferred        kernel32
  \-PE  0x40460000-40539000     \               kernel32
ELF     0x40565000-4056e000     Deferred        libgcc_s.so.1
ELF     0x40670000-406c5000     Deferred        shlwapi
  \-PE  0x40680000-406c5000     \               shlwapi
ELF     0x406c5000-40747000     Deferred        ole32
  \-PE  0x406e0000-40747000     \               ole32
ELF     0x40747000-40780000     Deferred        advapi32
  \-PE  0x40750000-40780000     \               advapi32
ELF     0x40780000-40892000     Deferred        user32
  \-PE  0x407a0000-40892000     \               user32
ELF     0x40892000-40916000     Deferred        gdi32
  \-PE  0x408a0000-40916000     \               gdi32
ELF     0x40916000-40959000     Deferred        rpcrt4
  \-PE  0x40930000-40959000     \               rpcrt4
ELF     0x40959000-40976000     Deferred        iphlpapi
  \-PE  0x40960000-40976000     \               iphlpapi
ELF     0x40976000-40a35000     Deferred        shell32
  \-PE  0x40990000-40a35000     \               shell32
ELF     0x40a35000-40ae1000     Deferred        comctl32
  \-PE  0x40a40000-40ae1000     \               comctl32
ELF     0x40ae1000-40b6d000     Deferred        oleaut32
  \-PE  0x40b00000-40b6d000     \               oleaut32
ELF     0x40b6d000-40beb000     Deferred        winmm
  \-PE  0x40b80000-40beb000     \               winmm
ELF     0x40beb000-40bf9000     Deferred        libxext.so.6
ELF     0x40bf9000-40c01000     Deferred        libxrender.so.1
ELF     0x40c01000-40c6b000     Deferred        libfreetype.so.6
ELF     0x40c6b000-40c7d000     Deferred        libz.so.1
ELF     0x40c7d000-40ca4000     Deferred        libfontconfig.so.1
ELF     0x40ca4000-40cc4000     Deferred        libexpat.so.0
ELF     0x40cc4000-40d3d000     Deferred        winex11.drv
  \-PE  0x40cd0000-40d3d000     \               winex11.drv
ELF     0x40d3d000-40d55000     Deferred        libice.so.6
ELF     0x40d55000-40e1f000     Deferred        libx11.so.6
ELF     0x40e1f000-40ebe000     Deferred        libgl.so.1
ELF     0x40ece000-40ed1000     Deferred        xlcdef.so.2
ELF     0x40ed4000-40f25000     Deferred        libpthread.so.0
ELF     0x40f25000-41693000     Deferred        fglrx_dri.so
ELF     0x4174b000-4175e000     Deferred        librt.so.1
ELF     0x49c5a000-49c77000     Deferred        ximcp.so.2
ELF     0x49c77000-49c7b000     Deferred        iso8859-1.so
ELF     0x49c7b000-49c97000     Deferred        imm32
  \-PE  0x49c80000-49c97000     \               imm32
ELF     0x49c97000-49ca0000     Deferred        libxcursor.so.1.0.2
ELF     0x49ce4000-49d14000     Deferred        uxtheme
  \-PE  0x49cf0000-49d14000     \               uxtheme
ELF     0x49d70000-49d88000     Deferred        msacm.drv
  \-PE  0x49d80000-49d88000     \               msacm.drv
ELF     0x49d88000-49da9000     Deferred        msacm32
  \-PE  0x49d90000-49da9000     \               msacm32
ELF     0x49ec0000-49ed5000     Deferred        midimap
  \-PE  0x49ed0000-49ed5000     \               midimap
ELF     0x7bf00000-7bf07000     Deferred        
Threads:
process  tid      prio (all id:s are in hex)
00000040 (D) C:\Program Files\Steam\steamrestore.exe
        00000041    0 <==
00000008
        00000039    0
        00000037    0
        00000034    0
        00000032    0
        00000031    1
        0000002f    0
        0000002e    0
        0000002d    1
        0000002c    0
        0000002b    0
        0000002a    0
        00000029    0
        00000016    0
        00000015    0
        00000014    0
        0000000b    0
        0000000a    0
        00000009    0
WineDbg terminated on pid 0x40",803,"1"
"WINE-21580","Background music doesn't loop in Pikachu Volleyball 1.0","Created attachment 26025
Full terminal output

In Pikachu Volleyball (version 1.0 only) the background music doesn't loop like it does in Windows. The MIDI track plays once per match then quits. The following line of terminal output appears when the music should loop (but ends instead):

fixme:winmm:MMSYSTEM_MidiStream_Player Unknown MEVT (0x05)",6,"0"
"WINE-4175","The incorrect list window in the p-cad 2001.","You can see in screenshot that wine draws the list element widget  
incorrectly. What kind of additional information you need for resolving this 
issue?",1197,"1"
"WINE-20666","Garmin WebUpdater install screen (nearly) empty","Created attachment 24673
Screenshot

The WebUpdater installer starts fine but the screen doesn't show any controls that allow you to proceed with it.  I tried both a clean .wine and with gecko installed.  There's no console output either.  Screenshot attached.",212,"0"
"WINE-7988","Earth 2160 is crashing at loading screen","Retail version 1.3
Game is dieing at 75% of the loading screen.
Ill attach some logs.",2,"0"
"WINE-25874","tray icon in gnome panel corruption","Created attachment 32975
Image of the Gnome Panel

when I start a windows app which ship a try icon the icon copy the icon from the icon from its right side as background and then it places the current app-icon on top.

This appears by me on Ubuntu 10.04 Lucid Lynx with Gnome Panel 2.30.2 and the nofication-area panel applet has version 2.30.2",0,"0"
"WINE-6402","Virtual memory allocation fails with Adobe Acrobat 5's Paper Capture plugin","Running Adobe Acrobat 5's PaperCapture plugin it issues an error saying:

Insufficient memory to perform operation

This is displayed in a small popup-dialog and the plugin fails.

It seems that several calls to kernel32.VirtualAlloc()
ntdll.NtAllocateVirtualMemory() and related functions are executed right before
the error message is issued. See the log-output generated with WINEDEBUG=+all.

Is this maybe related to bug #4329?

The plugin actually runs as a seperate server-application capserve.exe. The
error can also be reproduced runnning wine capserve.exe without starting Acrobat.

System environment: wine 0.9.22 gcc 3.3.6 kernel 2.6.15 (Debian) dual-boot
WinXP (but not used with Wine).

The PaperCapture plugin is available for free at
http://www.adobe.com/support/downloads/detail.jsp?ftpID=1907 it needs the
commercial Adobe Acrobat 5 to run (at least to install and then run
capserve.exe individually).",126,"0"
"WINE-29677","Anno 2070 does not start","Created attachment 38490
WINEDEBUG=+ddraw+d3d

The game start with a black screen and then crashes.

I have no idea how to interpret the output.",455,"0"
"WINE-29746","iexplore does not display some YouTube images","Created attachment 38602
Terminal output (with debug gecko)

Some of the images on YouTube are not displayed in builtin iexplore. For instance the logo magnifying glass icon on the search button and alert icon next to the upcoming privacy policy change notice are missing. This worked in 1.3.15 so I did a regression test:

699e41cdd8bcda1276c98cb6d9dd0503e9465099 is the first bad commit
commit 699e41cdd8bcda1276c98cb6d9dd0503e9465099
Author: Jacek Caban 
Date:   Tue Mar 15 13:45:29 2011 +0100

    mshtml: Wine Gecko 1.2.0 release.

:040000 040000 945427379e31dde8d7d65bfab42bce43cb55293e 56e26373e5d368d9c991936e12bbf6572b51a1c8 M    dlls

git checkout 699e41cdd8bcda1276c98cb6d9dd0503e9465099 - broken
git checkout 699e41cdd8bcda1276c98cb6d9dd0503e9465099^ - works

The mentioned images are all found on the home page.

wine iexplore www.youtube.com",2,"0"
"WINE-19508","Multiple games fail to start after CreateDCW(DIB or DIRDIB) error (Cosmology of Kyoto Secret of the Luxor Pingu Pettson and Findus many Klik & Play games)","Created attachment 22696
Backtrace of Wine attempting to launch the game executable.

Ok this one is of no major importance I guess.  I just got nostalgic and wanted to play Cosmology of Kyoto again.  Anyway upon trying to launch the program I get a nice crash log and no joy.

This one is an app made with Macromedia tools.  I figured I'd go ahead an introduce a bug for this one since none exist (surprising).  The backtrace is attached below.  Cheers.",3132,"1"
"WINE-25975","Edge of Chaos window display does not update","Running the regression test but I'm caught in the middle of a crash-on-startup which was fixed but no idea when.

The video output of the game never updates by itself. It does update once if I click the window to move it (super+click ...). Every time I do that it complains:

err:x11settings:X11DRV_ChangeDisplaySettingsEx No matching mode found 1680x1050x32 @0! (XRandR)
fixme:win:EnumDisplayDevicesW ((null)00x33e9100x00000000) stub!

Last known working version: wine-1.3.0
First known broken version: wine-1.3.5",68,"0"
"WINEHQ_APPS_DATABASE-7497","Super maintaners are not notified of any messages and or changes","I have not received a single e-mail message from appdb except those I posted myself!",19,"0"
"WINE-22696","RCT2 crashes when changing screen resolution","Created attachment 27963
RCT2 Crashes with Access Violation error

In Roller Coaster Tycoon 2 when trying to change the screen resolution.
A dialog box is shown (see screenshot) and the application crashes.

This error happens every time when the menu option is clicked.

This function seemed to work in previous versions.

OpenSuse 11.2
ATI Radeon driver 6.12.4 (Mesa 7.8.1) on a ATI X1270
Resolution RCT2 at startup = 1024x768",906,"1"
"WINE-29832","Mario Forever crashes","Created attachment 38742
Crash with error

Crash with error",1796,"1"
"WINE-34318","Multiple games and applications need ntdll.dll.EtwRegisterTraceGuidsW (Process Hacker 2.x Far Cry 4)","Follow up to bug 25994. You'll need native winsta.dll to workaround bug 34317.",919,"1"
"WINE-8919","CSS Tab Designer 2 lets wine crash","wine crashes when I try to start this freeware",301,"0"
"WINE-5699","Ultima Online's installer crashes because of ole errors.","Ultima Online in AppDB: http://appdb.winehq.org/appview.php?iVersionId=4032
Ultima Online client: http://largedownloads.ea.com/pub/uo/uoml_setup.exe
Ultima Online client (mirror): http://www.download.com/Ultima-Online-Mondain-s-
Legacy-client/3000-7541_4-10432238.html

Setup crashes after Preparing setup from InstallShield Wizard.

Console output is:
fixme:ole:ITypeInfo_fnRelease destroy child objects
err:ole:get_unmarshaler_from_stream Failed to read common OBJREF header 
0x00000001
fixme:ole:NdrClearOutParameters (0x5814dc000x586d42120x5814dd34): stub
err:ole:TMStubImpl_Invoke IDispatch cannot be marshaled by the typelib marshaler
err:ole:xCall RpcChannelBuffer SendReceive failed 8000ffff",2,"0"
"WINE-40169","Recognize INTERNET_FLAG_SECURE with INTERNET_INVALID_PORT_NUMBER in GetHttpConnection","When using GetHttpConnection with the port INTERNET_INVALID_PORT_NUMBER and the flag INTERNET_FLAG_SECURE wininet interpret incorrectly and try to connect to port 80.

For example this is the code used in the windows program to make a request:



#include afxinet.h

BOOL servicioPost(const char* actionPage CString& strFormData CString& mensajeError CString& contenidoFichero){
	CString strHeaders = _T(Content-Type: application/x-www-form-urlencoded)
	CHttpConnection* pConnection = NULL
	CHttpFile*  pFile = NULL
	BOOL retorno = FALSE
	TRY{
		CInternetSession session
		pConnection = session.GetHttpConnection(DOMINIO_SERVIDOR INTERNET_FLAG_SECUREINTERNET_INVALID_PORT_NUMBER NULL NULL)
		if (pConnection){	
			pFile = pConnection->OpenRequest(CHttpConnection::HTTP_VERB_POST actionPage NULL 1 NULL NULL INTERNET_FLAG_SECURE)
			if (pFile){
				if (pFile->SendRequest(strHeaders (LPVOID)(LPCTSTR)strFormData strFormData.GetLength())){
					retorno = TRUE
					// Make another stuff
				}
			}
		}
	}
	CATCH_ALL(e){
		char mensaje[100]
		e->GetErrorMessage(mensaje 100)
		mensajeError = Error Wininet: 
		mensajeError += mensaje
	}
	END_CATCH_ALL

	if (pConnection)delete pConnection//don't skip
	if (pFile)delete pFile//don't skip

	return retorno
}",317,"0"
"WINE-26824","Anomaly: Warzone Earth Demo crashes on start","fixme:dinput:IDirectInputAImpl_QueryInterface Unsupported interface: {eb0d7dfa-1990-4f27-b4d6-edf2eec4a44c}
wine: Unhandled page fault on read access to 0x00000000 at address 0x44f6ea (thread 0025) starting debugger...
couldn't load main module (32)
Unhandled exception: page fault on read access to 0x00000000 in 32-bit code (0x0044f6ea).
...
Backtrace:
=>0 0x0044f6ea (0x00852780)
  1 0x00000000 (0x00130f08)
  2 0x7eac1a20 in dinput (+0x31a1f) (0x7eac19e0)
  3 0x7eaa62f0 in dinput (+0x162ef) (0x7eaa7e60)
  4 0xe8830845 (0x8be58955)

winetricks dinput8 works around it.",225,"0"
"WINE-26174","Theme internals crash with Unimplemented function ADVAPI32.dll.EnableTraceEx","adys@azura:~/tmp/Vista VS FINAL/explorer$ WINEPREFIX=/home/adys/tmp/ wine explorer.exe 
err:secur32:SECUR32_initSchannelSP libgnutls not found SSL connections will fail
fixme:process:SetProcessDEPPolicy (1): stub
fixme:heap:HeapSetInformation (nil) 1 (nil) 0
fixme:advapi:RegisterTraceGuidsW (0x106a6c3 0x10b1098 {2955e23c-4e0b-45ca-a181-6ee442ca1fc0} 1 0x32fd48 (null) (null) 0x10b10a0)
fixme:advapi:EventRegister {30336ed4-e327-447c-9de0-51b652c86108} 0x100e26d 0x10b11c8 0x10b1198
fixme:advapi:StartTraceW (0x32f8a4 LExplorerStartupLog 0x32f8b4) stub
wine: Call from 0x7bc4c570 to unimplemented function ADVAPI32.dll.EnableTraceEx aborting
wine: Unimplemented function ADVAPI32.dll.EnableTraceEx called at address 0x7bc4c570 (thread 0009) starting debugger...
Unhandled exception: unimplemented function ADVAPI32.dll.EnableTraceEx called in 32-bit code (0x7bc4c570).",3,"0"
"WINE-23643","America's Army 3.0 goes black after about ten minutes of play","I installed Steam with
 rm -rf ~/.wine
 sh winetricks sandbox gecko corefonts steam 
After disabling in-game notifications and chat in the Steam settings as usual
I downloaded AA3 with Steam successfully.

Running crashed immediately because it needed msvcp80.dll
 winetricks vcrun2005
worked around that.  

It then crashed quickly anyway (bug 19885)
running it outside Steam with
 cd ~/.wine/drive_c/Program Files/Steam/steamapps/common/america's army 3/Binaries
 wine AA3Game.exe 
worked around that.

It then started but screen went black right after game prompted for username.
Setting a virtual desktop in winecfg worked around that.

It then ran fine for ten minutes and then seemed to hang.
There were still sounds so it wasn't completely hung.
This happened both times I tried it.
There was nothing suspicious on the console.

(The game suffers from The Mouse Bug so you have to scrub the mouse around
to compensate.  I haven't tried any patches or settings for this yet.
Tips for newbies: in the third part of the initial obstacle course
you can't turn you have to sidestep and backstep to get through the maze.
In the weapons training use Space to pick up the weapon.)",295,"0"
"WINE-11950","TheBat! 3.99.1 show white squares not icons under wine after 0.9.56","Created attachment 11269
thebat under 0.9.57 - bad icons

TheBat ver.3.99.1 works fine under wine 0.9.46-55. Some little problem (doesn't work send buttom in composer doesn't connect to gmail using SSL) but usable.

After 0.9.56 all icons transform to white squares. Tried 0.9.57 - same effect. Go back at 0.9.55.",131,"0"
"WINE-29223","Avast! Free Antivirus shows black rectangles in place of gradients","Created attachment 37739
Good (left) and bad (right) screenshots

Some sections of the Avast GUI have a black background in place of a gradient. It's especially noticeable in the dialog that appears on first run but there are also some occurrences of the problem within the main GUI. This is a regression sort of - the problematic patch was committed shortly before the fix for bug 29108 so it never worked in unpatched Wine.

76358216f4e203d029afc1a1d5c4df6faf06a519 is the first bad commit
commit 76358216f4e203d029afc1a1d5c4df6faf06a519
Author: Alexandre Julliard 
Date:   Wed Nov 30 13:22:21 2011 +0100

    winex11: Implement rectangular gradients using XRender if supported.

:100755 100755 f573540774b5096c291138322b137e36d6ed621b cba043f2cc0f3071fa375c1fd3acfbdf63cd15b0 M    configure
:100644 100644 d6f5e6a198427ef229d09644c5e0157d8bd08687 82f7c9e2a506eff8c1eb27247314771071922820 M    configure.ac
:040000 040000 fb0ccf05af9c9c20204d218969f9499b3c5739c9 572e0dd4f6c1395ea344b03054b0a11b0b99ed6c M    dlls
:040000 040000 fd8af9726e6e9fdd9b89b39e338e069bea9c31ba 345957b05108306e84b356e7a015165689a29910 M    include

After reverting this patch the gradients appear as expected.",0,"0"
"WINE-12072","Cyberboard: popup menus are blank","Clicking on any menu in the program (either CBPlay.exe or CBDesign.exe) brings up a blank white box for the menu.  Mousing over the menu will draw each menu item as it is hilited and unhilited for having the mouse pass over it so its really only a cosmetic issue.

Tried with 0.9.57 and cvs build",519,"0"
"WINE-37701","Propellerhead Reason 8 needs mfplat.dll.MFStartup","austin@aw25 ~ $ du -h Reason_800.zip 
3.7G	Reason_800.zip
austin@aw25 ~ $ sha1sum Reason_800.zip 
3230fe80c19eed3ddb9b24eca782d23b9a0d168a  Reason_800.zip

wine: Call from 0x7b83afce to unimplemented function mfplat.dll.MFStartup aborting",6,"0"
"WINE-37527","Multiple games and applications fail to connect/login via SSL reporting 'schannel failed to setup sequence detection' (Desura client Darkfall ARMA II multiplayer)","Hello folks

found this while trying out Desura client for Windows.

The Linux client was discontinued/broken some time ago hence this might be useful for the 5 users left wanting to play with an up-to-date Desura :)

A quick search turned up some more hits on this error:

Desura -> https://forum.winehq.org/viewtopic.php?f=8&t=22986
ArmA II: Operation Arrowhead -> appdb Multiplayer
Darkfall -> reported multiple times in WineHQ forums no resolution

--- snip ---
$  pwd
/home/focht/.wine/drive_c/Program Files/Desura

$ WINEDEBUG=+tid+seh+relay+secur32 wine ./desura.exe >>log.txt 2>&1
...
002e:trace:secur32:InitializeSecurityContextA 0x2638f68 0x2638f08 secure.desura.com 0x0000811c 0 0 0xba0e154 0 (nil) 0xba0e148 0x2637970 0x2638f10
002e:trace:secur32:schan_InitializeSecurityContextA 0x2638ef0 0x2638f20 secure.desura.com 33052 0 0 0xba0e154 0 (nil) 0xba0e148 0x2637970 0x2638f10
...
002e:trace:secur32:schan_InitializeSecurityContextW 0x2638ef0 0x2638f20 Lsecure.desura.com 0x0000811c 0 0 0xba0e154 0 (nil) 0xba0e148 0x2637970 0x2638f10
002e:trace:secur32:dump_buffer_desc Buffer desc 0xba0e154:
002e:trace:secur32:dump_buffer_desc 	buffer 0: cbBuffer 258 BufferType 0x2 pvBuffer 0x2635b68
002e:trace:secur32:dump_buffer_desc 	buffer 1: cbBuffer 0 BufferType 0 pvBuffer (nil)
002e:trace:secur32:dump_buffer_desc Buffer desc 0xba0e148:
002e:trace:secur32:dump_buffer_desc 	buffer 0: cbBuffer 0 BufferType 0x2 pvBuffer (nil)
002e:trace:secur32:dump_buffer_desc 	buffer 1: cbBuffer 0 BufferType 0x11 pvBuffer (nil)
002e:trace:secur32:schan_InitializeSecurityContextW Using expected_size 258. 
...
002e:trace:secur32:schan_imp_handshake Handshake completed
...
002e:trace:secur32:ApplyControlToken 0x2638f08 0xba0e178 
...
002e:Call KERNEL32.FormatMessageA(000012000000000080090302000000000ba0e040000000ff00000000) ret=017216ce
002e:Ret  KERNEL32.FormatMessageA() retval=00000000 ret=017216ce
...
002e:trace:secur32:InitializeSecurityContextA 0x2638f68 0x2638f08 secure.desura.com 0x0000811c 0 0 (nil) 0 0x2638f08 0xba0e184 0x2637970 0x2638f10
002e:trace:secur32:schan_InitializeSecurityContextA 0x2638ef0 0x2638f20 secure.desura.com 33052 0 0 (nil) 0 0xba0e0c8 0xba0e184 0x2637970 0x2638f10
...
002e:trace:secur32:schan_InitializeSecurityContextW 0x2638ef0 0x2638f20 Lsecure.desura.com 0x0000811c 0 0 (nil) 0 0xba0e0c8 0xba0e184 0x2637970 0x2638f10
002e:trace:secur32:dump_buffer_desc Buffer desc 0xba0e184:
002e:trace:secur32:dump_buffer_desc 	buffer 0: cbBuffer 0 BufferType 0 pvBuffer (nil)
...
002e:trace:secur32:DeleteSecurityContext 0x2638f08
002e:trace:secur32:schan_DeleteSecurityContext context_handle 0x2638f20
002e:trace:secur32:schan_gnutls_log  REC[0x7c701708]: Start of epoch cleanup
002e:trace:secur32:schan_gnutls_log  REC[0x7c701708]: End of epoch cleanup
002e:trace:secur32:schan_gnutls_log  REC[0x7c701708]: Epoch #1 freed
...
002e:trace:secur32:FreeCredentialsHandle 0x2638f68
002e:trace:secur32:schan_FreeCredentialsHandle phCredential 0x2638ef0 
...
002e:Call KERNEL32.RaiseException(e06d736300000001000000030ba0e204) ret=01009339
002e:trace:seh:raise_exception code=e06d7363 flags=1 addr=0x7b83af77 ip=7b83af77 tid=002e
002e:trace:seh:raise_exception  info[0]=19930520
002e:trace:seh:raise_exception  info[1]=0ba0e248
002e:trace:seh:raise_exception  info[2]=018261d0
002e:trace:seh:raise_exception  eax=7b826e55 ebx=7b8be000 ecx=19930520 edx=0ba0e144 esi=0ba0e1e8 edi=0ba0e1b0
002e:trace:seh:raise_exception  ebp=0ba0e188 esp=0ba0e124 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000283
002e:trace:seh:call_stack_handlers calling handler at 0x17f0d98 code=e06d7363 flags=1 
...
0023:Call user32.SetWindowTextW(000100ee02635de8 LFailed to login\n\nSSL connect error (https://secure.desura.com/3/memberlogin) [schannel: failed to setup sequence detection] [58.35]) ret=01a3af80 
--- snip ---

I left out multiple non-failing 'InitializeSecurityContextA' calls denoting different connection stages/phases.

The failing call to 'ApplyControlToken' returning 'SEC_E_UNSUPPORTED_FUNCTION' is mostly harmless.
The last call to 'InitializeSecurityContextA' -> 'schan_InitializeSecurityContextA' also fails returning 'SEC_E_INCOMPLETE_MESSAGE'. .

That's on the connection/protocol tear-down path (SSL close notify message).

--- snip ---
...
01732756  LEA EAXDWORD PTR DS:[ECX+8]
01732759  MOV DWORD PTR SS:[ESP+18]0
01732761  PUSH EAX                        ptsExpiry
01732762  LEA EAXDWORD PTR DS:[ESI+44]
01732765  MOV DWORD PTR SS:[ESP+38]0
0173276D  PUSH EAX                        pfContextAttr
0173276E  LEA EAXDWORD PTR SS:[ESP+3C]
01732772  MOV DWORD PTR SS:[ESP+40]1
0173277A  PUSH EAX                        pOutput
0173277B  MOV EAXDWORD PTR DS:[1834318]
01732780  PUSH ECX                        phNewContext
01732781  PUSH 0                          Reserved2 = 0
01732783  PUSH 0                          pInput = NULL
01732785  MOV EAXDWORD PTR DS:[EAX+18]
01732788  PUSH 0                          TargetDataRep = 0
0173278A  PUSH 0                          Reserved1 = NUL
0173278C  PUSH DWORD PTR DS:[ESI+40]      fContextReq = 0x811C 
0173278F  PUSH EDX                        pszTargetName = secure.desura.com
01732790  PUSH ECX                        phContext
01732791  PUSH DWORD PTR DS:[ESI+8]       phCredential
01732794  CALL EAX                        InitializeSecurityContextA
01732796  TEST EAXEAX                    eax = 0x80090318
01732798  JE SHORT webcore.017327A1
0173279A  CMP EAX90317
0173279F  JNZ SHORT webcore.017327F6 
...
--- snip ---

fContextReq = 0x811C -> ISC_REQ_STREAM | ISC_REQ_ALLOCATE_MEMORY | ISC_REQ_CONFIDENTIALITY | ISC_REQ_SEQUENCE_DETECT | ISC_REQ_REPLAY_DETECT 

Unfortunately the failing protocol sequence on tear-down path wasn't even responsible for the problem.
It took me some good hours to debug this out as the error code is internally maintained and propagated through some objects until the C++ exception is finally raised.

At one time during SSL connection sequence the client code checks if the required context attributes are met.
It specifically looks for 'ISC_RET_SEQUENCE_DETECT' while Wine returned 0x100 ('ISC_REQ_ALLOCATE_MEMORY').

Source: http://source.winehq.org/git/wine.git/blob/4d97b3232310d8a71610a5c97b9738fbad8b5482:/dlls/secur32/schannel.c#l775

--- snip ---
775 static SECURITY_STATUS SEC_ENTRY schan_InitializeSecurityContextW(
776  PCredHandle phCredential PCtxtHandle phContext SEC_WCHAR *pszTargetName
777  ULONG fContextReq ULONG Reserved1 ULONG TargetDataRep
778  PSecBufferDesc pInput ULONG Reserved2 PCtxtHandle phNewContext
779  PSecBufferDesc pOutput ULONG *pfContextAttr PTimeStamp ptsExpiry)
780 {
...
910     *pfContextAttr = 0
911     if (ctx->req_ctx_attr & ISC_REQ_ALLOCATE_MEMORY)
912         *pfContextAttr |= ISC_RET_ALLOCATED_MEMORY
913
914     return ret
915 }
--- snip ---

You need to handle (return) more context attributes at least 'ISC_RET_SEQUENCE_DETECT' 'ISC_RET_REPLAY_DETECT' 'ISC_RET_CONFIDENTIALITY' 'ISC_RET_STREAM' in addition to 'ISC_RET_ALLOCATED_MEMORY'.

I tested a fix and it allows to login with Desura visit market place download games etc.

$ sha1sum DesuraInstaller.exe 
8694863a4fe8989de4e57d249ba23e637dc36cd7  DesuraInstaller.exe

$ du -sh DesuraInstaller.exe 
1.2M	DesuraInstaller.exe

$ wine --version
wine-1.7.30-112-g5d17f9b

Regards",148,"0"
"WINE-40487","3dmark Vantage Benchmark: unimplemented functions hal.dll.READ and WRITE PORT","http://www.futuremark.com/benchmarks/3dmark-vantage

After applying wine-staging patch from bug 20776 .
And taking create device 10 patch from bug 39834 .
And hacking around bug 38648 .

Trying to run 3dmark vantage benchamrk exposes unimplemented hal.dll read and write functions.

hal.dll.WRITE_PORT_ULONG
hal.dll.READ_PORT_UCHAR",9,"0"
"WINE-26771","Skype 5.3 install freezes","env WINEPREFIX=/export/home/merzo/.wine wine /export/second/windows/distribs/SkypeSetup.exe
fixme:win:WINNLSEnableIME hUnknown1 10094 bUnknown2 0: stub!
fixme:win:WINNLSEnableIME hUnknown1 10094 bUnknown2 -1: stub!
fixme:wininet:InternetSetOptionW Option INTERNET_OPTION_CONNECT_TIMEOUT (10000): STUB
fixme:wininet:InternetSetOptionW INTERNET_OPTION_SEND/RECEIVE_TIMEOUT 10000
fixme:wininet:InternetSetOptionW Option INTERNET_OPTION_DATA_RECEIVE_TIMEOUT (10000): STUB
err:wininet:HTTP_ParseDateAsAsctime unexpected weekday L0
err:wininet:HTTP_ParseDate unexpected date format L0
fixme:win:WINNLSEnableIME hUnknown1 1009e bUnknown2 0: stub!
fixme:win:WINNLSEnableIME hUnknown1 1009e bUnknown2 -1: stub!
fixme:win:WINNLSEnableIME hUnknown1 1009e bUnknown2 0: stub!
fixme:win:WINNLSEnableIME hUnknown1 1009e bUnknown2 -1: stub!
fixme:win:WINNLSEnableIME hUnknown1 1009e bUnknown2 0: stub!
fixme:win:WINNLSEnableIME hUnknown1 1009e bUnknown2 -1: stub!
fixme:win:WINNLSEnableIME hUnknown1 1009e bUnknown2 0: stub!
fixme:win:WINNLSEnableIME hUnknown1 1009e bUnknown2 -1: stub!
fixme:win:WINNLSEnableIME hUnknown1 1009e bUnknown2 0: stub!
fixme:win:WINNLSEnableIME hUnknown1 1009e bUnknown2 -1: stub!
fixme:win:WINNLSEnableIME hUnknown1 1009e bUnknown2 0: stub!
fixme:win:WINNLSEnableIME hUnknown1 1009e bUnknown2 -1: stub!
fixme:wininet:set_cookie persistent cookies not handled (Lexpires=Fri 13-Apr-12 09:35:07 GMT path=/ domain=.skype.com)
err:wininet:HTTP_ParseDateAsAsctime unexpected weekday L0
err:wininet:HTTP_ParseDate unexpected date format L0
fixme:storage:create_storagefile Storage share mode not implemented.

At last line install procedure freeze.",336,"0"
"WINE-8391","EDWinXP 1.50 trial version aborts after splash screen (IPicture DISPID_PICT_RENDER support missing)","Install goes fine but the app fails before it displays
its main interface.  The log shows

fixme:ole:OLEFontImpl_IPersistStreamInit_InitNew (0x1c41c1c) stub!
fixme:ole:OLEPictureImpl_QueryInterface () : asking for un supported interface {
b196b283-bab4-101a-b69c-00aa00341d07}
err:ole:OLEPictureImpl_Invoke invalid dispid 0x6 or wFlags 0x1
fixme:ole:OLEPictureImpl_FindConnectionPoint no connection point for {33ad4ed2-6
699-11cf-b70c-00aa0060d393}

The app seems to work properly (well it puts up the main interface
and can load and display files) if you use native dcom e.g.
   wget http://kegel.com/wine/winetricks
   sh winetricks dcom98",2485,"1"
"WINE-14615","rks_trial game is drawn out of place in its window","For the game Rosenkreuz Stilette in windowed mode the game is not drawn correctly unless the window is at (0 0) or bottom-left of the screen.  Otherwise the game is offset in the window by as much as it is moved from the corner.

Screenshot attached shows the problem (along with uninteresting Wine messages).",12,"0"
"WINE-168","Mouse and Keyboard input die upon entering game Snood","I'm trying to run a game called Snood under Wine version 20010112 patched up 
to the CVS release on Jan 29 2001 using the latest patch from transgaming.com. 
(Snood is available from www.snood.com). The install uses the latest install 
shield and doesn't work yet however I've taken an installation from another 
computer and loaded this into my wine directory. If I attempt to run the 
Snood.exe program using anything other than an artificial windows desktop then 
the main window that is presented (after you close the shareware registration 
window message) is entirely black and while the menus work fine there is no 
way to get graphics. With a virtual desktop however the graphics appear fine. 
However after closing the shareware registration window message the main 
window then has it's borders disappear (they are still there they just go 
black). When you click on the button for new game it usually brings you into 
the game. You then will usually be able to fire one shot. At this point in 
time you will notice a slowdown in the game and then any key/button presses 
will cease to be passed on to the program. It still captures pointer motions 
it just no longer recognizes button presses. I'm sorry for the length of this 
report however it's an odd bug to me it seems. If I can provide any further 
information for you please don't hesitate to email me at either 
akmed@iname.com or the address that forwards to mm4692@albany.edu. Attempting 
to use the base 20010112 installation only freezes the game altogether not 
allowing it to enter in to any sort of useable state. Thank you for your time. 
Even hints as to how I might further debug this would be appreciated. I 
attempt to turn DXGrab both on and off however neither mode works and in both 
methods I can move the mouse outside of the window. I'm using XFree 4.0.2 
compiled from source. I'm using a Voodoo Banshee video card and a PS/2 port 
mouse along with a standard US 104 ps/2 keyboard. Thank you

-Mike McLaughlin",1052,"1"
"WINE-29929","Beach Life Demo installer stuck at program folder selection","Created attachment 38950
stage where the setup gets stuck.

Clicking on Next at this stage does nothing. So the setup process can not finish.",1211,"1"
"WINE-26655","Wizard101 crashes when rendering webpage","After upgrading system to 1.3.17 mshtml crashes on new gecko and Wizard101 will not work.


I even tried a fresh install.  Wizard101 will not load.  It loads a webpage in the login screen.  As soon as it tries to render that page it dies.


wine: Unhandled page fault on read access to 0x00000015 at address 0x6a614b8d (thread 0020) starting debugger...
Unhandled exception: page fault on read access to 0x00000015 in 32-bit code (0x6a614b8d).
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:0033 GS:003b
 EIP:6a614b8d ESP:0033f48c EBP:0033f4c4 EFLAGS:00010212(  R- --  I   -A- - )
 EAX:0000000d EBX:0888482c ECX:00000000 EDX:0033f56c
 ESI:00000000 EDI:0033f56c
Stack dump:
0x0033f48c:  0888482c 0033f56c 0033f4a8 0000000f
0x0033f49c:  00010011 0000003f 0033f4a8 7d547ff4
0x0033f4ac:  08884820 08884820 0033f4d4 00000000
0x0033f4bc:  08884820 08884820 0033f4d4 6a8c68aa
0x0033f4cc:  6a65aa8e 7d547ff4 0033f4f4 6a627195
0x0033f4dc:  0888482c 0033f56c 00000000 00000000
Backtrace:
=>0 0x6a614b8d in xul (+0x9d4b8d) (0x0033f4c4)
  1 0x6a8c68aa in xul (+0xc868a9) (0x0033f4d4)
  2 0x6a627195 in xul (+0x9e7194) (0x0033f4f4)
  3 0x7d514952 doc_insert_script+0x3f() in mshtml (0x0033f56c)
  4 0x00000000 (0x6ac5be98)
0x6a614b8d: call        *0x8(%eax)
Modules:
Module  Address                 Debug info      Name (144 modules)
PE        400000- 692c000       Deferred        wizardlauncher
PE       6b40000- 6bc1000       Deferred        wizardlauncherui
PE       6ce0000- 6db1000       Deferred        skincrafterdll
PE      10000000-10013000       Deferred        zlib1
PE      5d360000-5d36e000       Deferred        mfc80enu
PE      61700000-61781000       Deferred        mozsqlite3
PE      61e40000-61e4c000       Deferred        mozalloc
PE      622c0000-622cc000       Deferred        plds4
PE      627c0000-627f0000       Deferred        ssl3
PE      64f40000-64f74000       Deferred        nspr4
PE      68ac0000-68acc000       Deferred        xpcom
PE      69280000-69369000       Deferred        nss3
PE      69c40000-6ad57000       Export          xul
PE      6b880000-6b89a000       Deferred        nssutil3
PE      6ce40000-6ce4d000       Deferred        plc4
PE      6d440000-6d465000       Deferred        smime3
PE      70180000-7047b000       Deferred        mozjs
PE      78130000-781cb000       Deferred        msvcr80
PE      781d0000-782df000       Deferred        mfc80
ELF     7bf00000-7bf04000       Deferred        
PE      7c420000-7c4a7000       Deferred        msvcp80
ELF     7d33d000-7d352000       Deferred        t2embed
  \-PE  7d340000-7d352000       \               t2embed
ELF     7d352000-7d378000       Deferred        usp10
  \-PE  7d360000-7d378000       \               usp10
ELF     7d378000-7d38e000       Deferred        psapi
  \-PE  7d380000-7d38e000       \               psapi
ELF     7d38e000-7d47a000       Deferred        comdlg32
  \-PE  7d390000-7d47a000       \               comdlg32
ELF     7d47a000-7d556000       Dwarf           mshtml
  \-PE  7d490000-7d556000       \               mshtml
ELF     7d556000-7d593000       Deferred        rsaenh
  \-PE  7d560000-7d593000       \               rsaenh
ELF     7d593000-7d63d000       Deferred        crypt32
  \-PE  7d5a0000-7d63d000       \               crypt32
ELF     7d63d000-7d791000       Deferred        libcrypto.so.1.0.0
ELF     7d791000-7d7e3000       Deferred        libssl.so.1.0.0
ELF     7d7ee000-7d809000       Deferred        wsock32
  \-PE  7d7f0000-7d809000       \               wsock32
ELF     7d809000-7d878000       Deferred        urlmon
  \-PE  7d810000-7d878000       \               urlmon
ELF     7d878000-7d899000       Deferred        iphlpapi
  \-PE  7d880000-7d899000       \               iphlpapi
ELF     7d899000-7d8f7000       Deferred        shdocvw
  \-PE  7d8a0000-7d8f7000       \               shdocvw
ELF     7d8f7000-7d91a000       Deferred        libpng14.so.14
ELF     7d92a000-7d930000       Deferred        libnss_dns.so.2
ELF     7d940000-7d9c0000       Deferred        windowscodecs
  \-PE  7d950000-7d9c0000       \               windowscodecs
ELF     7d9c0000-7d9d4000       Deferred        msimg32
  \-PE  7d9d0000-7d9d4000       \               msimg32
ELF     7d9d4000-7d9f1000       Deferred        oleacc
  \-PE  7d9e0000-7d9f1000       \               oleacc
ELF     7d9f1000-7da5c000       Deferred        gdiplus
  \-PE  7da00000-7da5c000       \               gdiplus
ELF     7da5c000-7da5f000       Deferred        iso8859-1.so
ELF     7da66000-7da81000       Deferred        spoolss
  \-PE  7da70000-7da81000       \               spoolss
ELF     7da81000-7daf2000       Deferred        libgcrypt.so.11
ELF     7daf2000-7db02000       Deferred        libtasn1.so.3
ELF     7db02000-7db16000       Deferred        libresolv.so.2
ELF     7db16000-7db39000       Deferred        libk5crypto.so.3
ELF     7db39000-7dbe6000       Deferred        libkrb5.so.3
ELF     7dbe6000-7dc81000       Deferred        libgnutls.so.26
ELF     7dc81000-7dcb1000       Deferred        libgssapi_krb5.so.2
ELF     7dcb1000-7dce5000       Deferred        libcups.so.2
ELF     7dcea000-7dd0b000       Deferred        localspl
  \-PE  7dcf0000-7dd0b000       \               localspl
ELF     7dd0b000-7dd43000       Deferred        winspool
  \-PE  7dd10000-7dd43000       \               winspool
ELF     7dd43000-7de30000       Deferred        oleaut32
  \-PE  7dd60000-7de30000       \               oleaut32
ELF     7de54000-7dec6000       Deferred        rpcrt4
  \-PE  7de60000-7dec6000       \               rpcrt4
ELF     7dec6000-7dfc7000       Deferred        ole32
  \-PE  7dee0000-7dfc7000       \               ole32
ELF     7e044000-7e078000       Deferred        uxtheme
  \-PE  7e050000-7e078000       \               uxtheme
ELF     7e078000-7e07e000       Deferred        libxfixes.so.3
ELF     7e07e000-7e088000       Deferred        libxcursor.so.1
ELF     7e088000-7e08c000       Deferred        libxcomposite.so.1
ELF     7e08c000-7e094000       Deferred        libxrandr.so.2
ELF     7e094000-7e09e000       Deferred        libxrender.so.1
ELF     7e09e000-7e0a4000       Deferred        libxxf86vm.so.1
ELF     7e0a4000-7e0a8000       Deferred        libxinerama.so.1
ELF     7e0a8000-7e0c9000       Deferred        imm32
  \-PE  7e0b0000-7e0c9000       \               imm32
ELF     7e0c9000-7e0cf000       Deferred        libxdmcp.so.6
ELF     7e0cf000-7e0d3000       Deferred        libxau.so.6
ELF     7e0d3000-7e0ec000       Deferred        libxcb.so.1
ELF     7e0ec000-7e0f1000       Deferred        libuuid.so.1
ELF     7e0f1000-7e109000       Deferred        libice.so.6
ELF     7e109000-7e221000       Deferred        libx11.so.6
ELF     7e221000-7e230000       Deferred        libxext.so.6
ELF     7e230000-7e239000       Deferred        libsm.so.6
ELF     7e23d000-7e242000       Deferred        libgpg-error.so.0
ELF     7e242000-7e245000       Deferred        libkeyutils.so.1
ELF     7e245000-7e24d000       Deferred        libkrb5support.so.0
ELF     7e259000-7e25d000       Deferred        libcom_err.so.2
ELF     7e25f000-7e306000       Deferred        winex11
  \-PE  7e270000-7e306000       \               winex11
ELF     7e357000-7e37d000       Deferred        libexpat.so.1
ELF     7e37d000-7e3aa000       Deferred        libfontconfig.so.1
ELF     7e3aa000-7e42d000       Deferred        libfreetype.so.6
ELF     7e42d000-7e4c5000       Deferred        winmm
  \-PE  7e440000-7e4c5000       \               winmm
ELF     7e4c5000-7e4f4000       Deferred        ws2_32
  \-PE  7e4d0000-7e4f4000       \               ws2_32
ELF     7e4f4000-7e518000       Deferred        mpr
  \-PE  7e500000-7e518000       \               mpr
ELF     7e518000-7e52d000       Deferred        libz.so.1
ELF     7e553000-7e5b8000       Deferred        wininet
  \-PE  7e560000-7e5b8000       \               wininet
ELF     7e5b8000-7e643000       Deferred        msvcrt
  \-PE  7e5d0000-7e643000       \               msvcrt
ELF     7e643000-7e72e000       Deferred        comctl32
  \-PE  7e650000-7e72e000       \               comctl32
ELF     7e72e000-7e790000       Deferred        shlwapi
  \-PE  7e740000-7e790000       \               shlwapi
ELF     7e790000-7e987000       Deferred        shell32
  \-PE  7e7a0000-7e987000       \               shell32
ELF     7e987000-7e9e2000       Deferred        advapi32
  \-PE  7e990000-7e9e2000       \               advapi32
ELF     7e9e2000-7ea6e000       Deferred        gdi32
  \-PE  7e9f0000-7ea6e000       \               gdi32
ELF     7ea6e000-7eb9d000       Deferred        user32
  \-PE  7ea80000-7eb9d000       \               user32
ELF     7eb9d000-7eba9000       Deferred        libnss_files.so.2
ELF     7eba9000-7ebc0000       Deferred        libnsl.so.1
ELF     7ed71000-7eefe000       Deferred        kernel32
  \-PE  7ed80000-7eefe000       \               kernel32
ELF     7eefe000-7ef24000       Deferred        libm.so.6
ELF     7ef31000-7ef4a000       Deferred        version
  \-PE  7ef40000-7ef4a000       \               version
ELF     7ef4a000-7f000000       Deferred        ntdll
  \-PE  7ef60000-7f000000       \               ntdll
ELF     b7602000-b7606000       Deferred        libdl.so.2
ELF     b7606000-b774c000       Deferred        libc.so.6
ELF     b774c000-b7765000       Deferred        libpthread.so.0
ELF     b7765000-b7770000       Deferred        libnss_nis.so.2
ELF     b7783000-b778b000       Deferred        libnss_compat.so.2
ELF     b778b000-b78cc000       Dwarf           libwine.so.1
ELF     b78cd000-b78eb000       Deferred        ld-linux.so.2
ELF     b78eb000-b78ec000       Deferred        [vdso].so
Threads:
process  tid      prio (all id:s are in hex)
0000000e services.exe
        0000001b    0
        00000016    0
        00000015    0
        00000014    0
        00000010    0
        0000000f    0
00000011 winedevice.exe
        00000017    0
        00000013    0
        00000012    0
00000018 plugplay.exe
        0000001c    0
        0000001a    0
        00000019    0
0000001d explorer.exe
        0000001e    0
0000001f (D) C:\Program Files\KingsIsle Entertainment\Wizard101\PatchClient\BankA\WizardLauncher.exe
        0000002c    0
        0000002b    0
        0000002a    0
        00000029    0
        00000028    0
        00000027    0
        00000026    0
        00000025    0
        00000024    0
        00000023   -1
        00000022    0
        00000021   -1
        00000020    0 <==
Backtrace:
=>0 0x6a614b8d in xul (+0x9d4b8d) (0x0033f4c4)
  1 0x6a8c68aa in xul (+0xc868a9) (0x0033f4d4)
  2 0x6a627195 in xul (+0x9e7194) (0x0033f4f4)
  3 0x7d514952 doc_insert_script+0x3f() in mshtml (0x0033f56c)
  4 0x00000000 (0x6ac5be98)",23,"0"
"WINE-23220","AT4RE FastScanner v3.0 UI button rectangle bug","When hovering the mouse over any of the three buttons Detect compiler Smart Scan or Information Wine draws a white rectangle around the button which doesn't disappear unless the window is redrawn (dragging it outside screen or minimizing and maximizing again).
On Windows there is no such white rectangles at any times.",1458,"1"
"WINE-41688","Sonic Utopia crashes at launch","Created attachment 56082
Log

When I try to run Sonic Utopia (http://www.sonicfangameshq.com/PC0/SonicUtopia10232016521.rar) with Wine it crashes instantly.",1,"0"
"WINE-3502","Foobar2000 DirectSound output causes terrible background noise","When switching the audio output from wavemixer to DirectSound in foobar the
audio gets lot more background noise.",313,"0"
"WINE-9039","GS-Auftrag Professional SQL aborts on startup","A user reported in 
http://groups.google.com/group/comp.emulators.ms-windows.wine/msg/7f162e3eb28293ce
that this app appears to hang at the splash screen.
To reproduce install the following two binaries:
ftp://ftp.gsn.de/pub/prg/WIN32/BDE/BDE32.EXE
ftp://ftp.gsn.de/pub/prg/WIN32/AUFTRAGSQL/winauf32sql.exe
and start the app.  The apparent hang is really a z-order
problem two dialogs pop up behind the splash screen.
To see the text start the program with 
  WINEDEBUG=+text wine gsauftrag.exe 
The first dialog is a question about whether to import
the example data or something I got past it by pressing the J key.
The second dialog is a warning about printers:
Achtung:
Auf Ihrem System ist derzeit kein Standarddrucker installiert!
Zur Verwendung der Druckfunktionen bzw. der Vorschau muss mindestens
ein Treiber installiert werden selbst wenn kein Drucker vorhanden ist.
Installieren Sie einen beliebigen Treiber in der Systemsteuerung.
I got past it by pressing the Enter key.

The app then appears to start properly but then puts up an error
window saying
EOleException: Unknown error
OLE-Fehler 80004001
This appears to be related to the lines
fixme:shdocvw:PersistStreamInit_InitNew (0x197ed8)
fixme:shdocvw:WebBrowser_QueryInterface
(0x197ed8)->({376bd3aa-3845-101b-84ed-08002b2ec713} 0x20b8540) interface not
supported
fixme:shdocvw:OleControl_OnAmbientPropertyChange Unknown dispID -1
fixme:shdocvw:WebBrowser_put_FullScreen (0x197ed8)->(ffffffff)
in the log.
The next thing to try is probably installing ie6 for real
and see if this goes away.  Easiest way to do that is
either use ies4linux or Codeweavers Crossover.  If that
makes this problem go away I probably guessed right
when I chose shdocvw as the category.",285,"0"
"WINE-26674","OpenGL 2.0 Shading Language Terrain Texturing Demo crashes on unimplemented function msvcp100.dll.??0?$basic_ios@DU?$char_traits@D@std@@@std@@IAE@XZ","wine: Call from 0x7b8369d2 to unimplemented function msvcp100.dll.??0?$basic_ios@DU?$char_traits@D@std@@@std@@IAE@XZ

With msvcp100.dll the demo starts.",52,"0"
"WINE-30782","msvcp71.dll.??0?$basic_istream@DU?$char_traits@D@std@@@std@@QAE@PAV?$basic_streambuf@DU?$char_traits@D@std@@@1@_N1@Z should be implemented (needed by Ship Simulator 2008 maybe others)","It is mostly like bug #26832 so this one might be marked as dupe in case #26832 is treated as catch-all metabug for basic_istream unimplemented methods in msvcp*.dll.

There's no need in attaching long logs describing the problem as it is obvious one:


wine: Call from 0x7b83a2b2 to unimplemented function msvcp71.dll.??0?$basic_istream@DU?$char_traits@D@std@@@std@@QAE@PAV?$basic_streambuf@DU?$char_traits@D@std@@@1@_N1@Z aborting
wine: Unimplemented function msvcp71.dll.??0?$basic_istream@DU?$char_traits@D@std@@@std@@QAE@PAV?$basic_streambuf@DU?$char_traits@D@std@@@1@_N1@Z called at address 0x7b83a2b2 (thread 0043) starting debugger...

This lines are extracted from logs of Ship Simulator 2008 demo trying to start up a new game with the only native DLL override used being d3dx9_36.dll. Installing vcrun2003 libs using winetricks fixes the problem and makes ShipSim2008 run pretty well under Wine (with minor text rendering glitches although).",22,"0"
"WINE-31332","Project64: about page fails to render","Created attachment 41173
terminal output

Install project64 run it. Go to 'Help' 'about Project 64'. A small window opens up that should contain the about info. Behind this iexplore.exe opens with about:blank.

winetricks -q ie7 works around it.

austin@aw25 ~ $ sha1sum setup\ Project64\ 1.6.exe 
005954395994c0a355c06abae3fc88d10ae84934  setup Project64 1.6.exe
austin@aw25 ~ $ du -h setup\ Project64\ 1.6.exe
2.0M	setup Project64 1.6.exe",663,"0"
"WINE-40342","playSNOW.exe needs implementation of KERNEL32.dll.InterlockedPushListSList","Created attachment 54025
???

i want to play snow from steam but the game wont start",41,"0"
"WINE-38980","World of Warships/Planes/Tanks client in torrent download mode crashes spuriously on high bandwidth load (i/o completion ports)","Hello folks

while checking out some 'World of Warships/Planes/Tanks' issues I've seen this turn off torrent downloader to avoid crash note multiple times in WineHQ appdb entries and also on various Internet sites.

Although this workaround solves the actual client download/updater problem it seems no one bothered to report this here for some years?

I could reproduce crashes with all 'World of WarXXX' clients using the torrent download mode.
The crash is caught before any registered JIT debugger ('AeDebug') as the client installs a top level exception filter.
Upon failure it simply displays a message box with the option to restart the download client.

Client log file:

--- snip ---
...
26/07/2015 19:46:31  		Loading localized resources...
26/07/2015 19:46:32  		Loading configuration...
26/07/2015 19:46:32  		Setup language: content_lang=en 
26/07/2015 19:46:32  		Start WoWSLauncher.exe params=C:\Games\World_of_Warships\WoWSLauncher.exe
26/07/2015 19:46:32  		Session id=a01bae86c620733b0ed98078ba6a9bbff72bfd12
26/07/2015 19:46:32  		Info for WoWSLauncher.exe: Version: 0.3.13.242 Comment: Built: 20150622 142954 Revision: #586733 (stable_3.13.3)
26/07/2015 19:46:32  		Create update folder: path=C:\Games\World_of_Warships\Updates
26/07/2015 19:46:32  		Try access patch folder: path=C:\Games\World_of_Warships\Updates
26/07/2015 19:46:32  		Create temp folder: path=C:\Games\World_of_Warships\UpdatesData\temp
26/07/2015 19:46:32  		Try access temp folder: path=C:\Games\World_of_Warships\UpdatesData\temp
26/07/2015 19:46:32  		Save configuration: path=C:\Games\World_of_Warships\WoWSLauncher.cfg
26/07/2015 19:46:33  		Start update process
26/07/2015 19:46:33  		Clear old/temp files
26/07/2015 19:46:33  		Obtain patch information. target: launcher...
26/07/2015 19:46:33  		Create update work folder: path=C:\Games\World_of_Warships\UpdatesData\launcher\
26/07/2015 19:46:33  		Try access patch work folder: path=C:\Games\World_of_Warships\UpdatesData\launcher\
26/07/2015 19:46:33  		System update. Cleaning up system update folder.
26/07/2015 19:46:33  		send http request. url: http://update.worldofwarships.eu?target=launcher&client_ver=unknown&launcher_ver=040.000242&protocol_ver=3&install_id=a01bae86c620733b0ed98078ba6a9bbff72bfd12&lang=en
26/07/2015 19:46:33  		http request complete.
26/07/2015 19:46:33  		target is up to date
26/07/2015 19:46:33  		Update complete: target=launcher
26/07/2015 19:46:33  		Obtain patch information. target: client...
26/07/2015 19:46:33  		Create update work folder: path=C:\Games\World_of_Warships\UpdatesData\client\
26/07/2015 19:46:33  		Try access patch work folder: path=C:\Games\World_of_Warships\UpdatesData\client\
26/07/2015 19:46:33  		patch is available. version_from: 0.unknown version_to: 40.105823
26/07/2015 19:46:33  		patch file. name: wows_40.103115_client.patch size: 3105783438
26/07/2015 19:46:33  		patch file. name: wows_40.103116_40.103115_client.patch size: 1487947994
26/07/2015 19:46:33  		patch file. name: wows_40.103886_40.103116_client.patch size: 37739650
26/07/2015 19:46:33  		patch file. name: wows_40.103887_40.103886_client.patch size: 2224
26/07/2015 19:46:33  		patch file. name: wows_40.105234_40.103887_client.patch size: 33520274
26/07/2015 19:46:33  		patch file. name: wows_40.105823_40.105234_client.patch size: 230571882
26/07/2015 19:46:33  		send http request. url: http://update.worldofwarships.eu?target=client&client_ver=unknown&launcher_ver=040.000242&protocol_ver=3&install_id=a01bae86c620733b0ed98078ba6a9bbff72bfd12
26/07/2015 19:46:34  		http request complete.
26/07/2015 19:46:34  		patch is available. version_from: 0.unknown version_to: 40.105823
26/07/2015 19:46:34  		patch file. name: wows_40.103115_client.patch size: 3105783438
26/07/2015 19:46:34  		patch file. name: wows_40.103116_40.103115_client.patch size: 1487947994
26/07/2015 19:46:34  		patch file. name: wows_40.103886_40.103116_client.patch size: 37739650
26/07/2015 19:46:34  		patch file. name: wows_40.103887_40.103886_client.patch size: 2224
26/07/2015 19:46:34  		patch file. name: wows_40.105234_40.103887_client.patch size: 33520274
26/07/2015 19:46:34  		patch file. name: wows_40.105823_40.105234_client.patch size: 230571882
26/07/2015 19:46:34  		Getting torrent files via http...
26/07/2015 19:46:34  		send http request(attempt: 1). url: http://wg.gcdn.co/wows_a/eu/patches/4.0_QRWpTV0q/wows_40.103115_client.patch.torrent
26/07/2015 19:46:34  		http request complete.
26/07/2015 19:46:34  		torrent file created. name: wows_40.103115_client.patch.torrent
26/07/2015 19:46:34  		send http request(attempt: 1). url: http://wg.gcdn.co/wows_a/eu/patches/4.0_QRWpTV0q/wows_40.103116_40.103115_client.patch.torrent
26/07/2015 19:46:34  		http request complete.
26/07/2015 19:46:34  		torrent file created. name: wows_40.103116_40.103115_client.patch.torrent
26/07/2015 19:46:34  		Getting patch files via ptp...
26/07/2015 19:46:34  		Initializing P2P session extensions=true
26/07/2015 19:47:55  ERROR:	Unexpected exception: code=EXCEPTION_ACCESS_VIOLATION flags=0 addr=0
26/07/2015 19:48:06  		restart launcher: cmd=-restart 
--- snip ---

The client makes extensive use of I/O Completion Ports (IOCP) with a considerable number of worker threads (thread pool) for servicing them.

Although the crash occurs kind of randomly the crash site seems not.

--- snip ---
...
00556EAB  8B4D 00         MOV ECXDWORD PTR SS:[EBP]
00556EAE  F7D9            NEG ECX
00556EB0  1BC9            SBB ECXECX
00556EB2  F7C1 70E64100   TEST ECX41E670
00556EB8  0F84 9C000000   JE WoWSLaun.00556F5A
00556EBE  8D5424 34       LEA EDXDWORD PTR SS:[ESP+34]
00556EC2  52              PUSH EDX
00556EC3  8D8E 4C020000   LEA ECXDWORD PTR DS:[ESI+24C]
00556EC9  E8 92C5F4FF     CALL WoWSLaun.?address@endpoint@detail@ip@asio@boost@@QB
00556ECE  837C24 34 01    CMP DWORD PTR SS:[ESP+34]1
00556ED3  0F94C0          SETE AL
00556ED6  0FB6C8          MOVZX ECXAL
00556ED9  51              PUSH ECX
00556EDA  57              PUSH EDI
00556EDB  8D4E 48         LEA ECXDWORD PTR DS:[ESI+48]
00556EDE  E8 6DBCFFFF     CALL WoWSLaun.00552B50
00556EE3  8B16            MOV EDXDWORD PTR DS:[ESI]
00556EE5  8B42 70         MOV EAXDWORD PTR DS:[EDX+70]
00556EE8  57              PUSH EDI
00556EE9  55              PUSH EBP
00556EEA  8BCE            MOV ECXESI
00556EEC  FFD0            CALL EAX              NULL -> *boom*
00556EEE  8B16            MOV EDXDWORD PTR DS:[ESI]
00556EF0  8B42 1C         MOV EAXDWORD PTR DS:[EDX+1C]
00556EF3  6A 00           PUSH 0
00556EF5  55              PUSH EBP
00556EF6  8BCE            MOV ECXESI
00556EF8  FFD0            CALL EAX
00556EFA  8A86 B4030000   MOV ALBYTE PTR DS:[ESI+3B4]
...
--- snip ---

I partially reconstructed the call chain for the crash site:

--- snip ---

...

...
WoWSLaun.private: unsigned int __thiscall boost::asio::detail::win_iocp_io_service::do_one(BOOLclass boost::system::error_code &)
...
WoWSLaun.public: unsigned int __thiscall boost::asio::detail::win_iocp_io_service::run(class boost::system::error_code &)
..
WoWSLaun.public: unsigned int __thiscall boost::asio::io_service::run(class boost::system::error_code &)
...
WoWSLaun.unsigned int __stdcall boost::asio::detail::win_thread_function(void *)
--- snip ---

I found some hints in the launcher about the Boost library version used:

--- snip ---
e:\work\5c6ecc6fb8b7976a\libraries\boost_1_54_0\boost/exception/detail/exception_ptr.hpp class boost::exception_ptr __cdecl boost::exception_detail::get_static_exception_object(void)   -   e:\work\5c6ecc6fb8b7976a\libraries\boost_1_54_0\boost/exception/detail/exception_ptr.hpp
...
--- snip ---

Which leads to:

http://www.boost.org/doc/libs/1_54_0/boost/asio/detail/impl/win_iocp_io_service.ipp

There is a number of internal calls in between the crash site and Boost IOCP code ('op->complete()' -> 'win_iocp_operation' + function pointer call hierarchy).

Debugging/relay tracing a problem which seems to occur at random times in a multi-Gigabyte download also requiring high download speeds is not really funny :|

Anyway it's now documented here for reference.

It would be interesting to know if this torrent download problem occurs on Windows too albeit much less frequent.
Reading up some forums I got the impression...

$ sha1sum WoWS_internet_install_eu.exe
e9d3fcc8d4d8a2a88678fa75840d4e76a71b7977  WoWS_internet_install_eu.exe

$ du -sh WoWS_internet_install_eu.exe
6.7M	WoWS_internet_install_eu.exe

$ wine --version
wine-1.7.47-196-g4e6e9a1

Regards",659,"0"
"WINE-3312","Fullscreen mode doesn't work correctly with Window Managers","IceWM is a X11 window manager that has its own panel/taskbar. Whenever I try to
play games like Starcraft in fullscreen mode this panel overlaps the game screen.",552,"0"
"WINE-1715","dlls/comctl32/toolbar.c X11DRV_CreateBitmap fails","Trace32 is a hardware debugging system which I use debug Arm
based embedded devices.

The patch committed on March 07 2003 at 17:02:46 CST by Alexandre broke the
buttons in the main window of Trace32:
  http://www.iki.fi/~jlavi/Wine/wine-20030307170246.gif
Also the Wine version 20030911 has the same problem.

The patch changed only the file dlls/comctl32/toolbar.c.

The buttons are corrupted only in the main window of Trace32 not
in its subwindows. With the same subwindows open as in the screenshot
Wine gives the following error message 108 times:
  err:x11drv:X11DRV_CreateBitmap Trying to make bitmap with planes=1 bpp=4

Here is Wine 20030307 17:02:46 output run through uniq:
 err:font:ReadFontDir Can't open directory /usr/share/wine-c/windows/Fonts
 fixme:keyboard:X11DRV_KEYBOARD_DetectLayout Your keyboard layout was not found!
 Using closest match instead (Swedish keyboard layout) for scancode mapping.
 Please define your layout in windows/x11drv/keyboard.c and submit them
 to us for inclusion into future Wine releases.
 See the Wine User Guide chapter Keyboard for more information.
 fixme:accel:CreateAcceleratorTableA should check that the accelerator
descriptions are valid return NULL and SetLastError() if not.
 err:x11drv:X11DRV_CreateBitmap Trying to make bitmap with planes=1 bpp=4
 fixme:accel:CreateAcceleratorTableA should check that the accelerator
descriptions are valid return NULL and SetLastError() if not.
 err:x11drv:X11DRV_CreateBitmap Trying to make bitmap with planes=1 bpp=4
 fixme:accel:CreateAcceleratorTableA should check that the accelerator
descriptions are valid return NULL and SetLastError() if not.
 err:x11drv:X11DRV_CreateBitmap Trying to make bitmap with planes=1 bpp=4

Just before the patch was committed on the same day the buttons worked
at 14:38:20:
  http://www.iki.fi/~jlavi/Wine/wine-20030307143820.gif
With this Wine version the output still contains X11DRV_CreateBitmap error
messages but there is only 27 of them exactly 4 times less than when buttons
are corrupted.",1240,"1"
"WINE-11552","Adobe Photoshop CS2 Open File Dialog looks different from windows","The File Open dialog (CTRL-O) looks weird. I have Screenshots of the dialog from both Linux and Windows to make this evident:


http://download.erasmix.net/CS2-WINE/Screenshot-7-1.png (Linux)
http://download.erasmix.net/CS2-WINE/Screenshot-7-2.png (Windows)",123,"0"
"WINE-44968","BASIC783Esetup.exe (Decimal BASIC) fails to install (needs SrClient.dll.SRSetRestorePoint)","Created attachment 61089
stub for srclient

Hi a user reported failing installer on the forum:
https://forum.winehq.org/viewtopic.php?f=8&t=30487

First it needs srclient i add patch for stub dll here.

Then it still fails it`s only happy if SRSetRestorePointA returns TRUE. This might however cause regressions (?).  I guess this needs more tests. Maybe we could return TRUE and set nstatus to ERROR_SERVICE_DISABLED. But as said needs more tests


http://www.geocities.jp/thinking_math_education/BASIC783Esetup.exe",4,"0"
"WINEHQ_APPS_DATABASE-33725","AppDB emails have trimmed URLs","Created attachment 44663
Sample email

Since a few days ago all emails I get from wine appdb have partially trimmed URLs (the protocol and colon are missing).

Not only does this mean they're invalid URLs but also that users can't click on the links on their emails anymore but have to copy them type https: in their browser and then paste.

I'm attaching a sample email (with no alteration done by the UA).",1308,"1"
"WINE-36171","valgrind shows several leaks in winmm/waveform.c","==4477== 6156 bytes in 342 blocks are definitely lost in loss record 823 of 838
==4477==    at 0x7BC4C6B7: notify_alloc (heap.c:255)
==4477==    by 0x7BC50EFB: RtlAllocateHeap (heap.c:1716)
==4477==    by 0x4FEACEF: WINMM_OpenDevice (waveform.c:1093)
==4477==    by 0x4FEB8D0: WOD_Open (waveform.c:1272)
==4477==    by 0x4FEF2F1: WINMM_DevicesMsgProc (waveform.c:2409)
==4477==    by 0x514943D: ??? (winproc.c:173)
==4477==    by 0x51495B2: call_window_proc (winproc.c:244)
==4477==    by 0x514B74B: WINPROC_call_window (winproc.c:900)
==4477==    by 0x51080F8: call_window_proc (message.c:2223)
==4477==    by 0x510A2FC: peek_message (message.c:2953)
==4477==    by 0x510BDA2: PeekMessageW (message.c:3757)
==4477==    by 0x4FEF773: WINMM_DevicesThreadProc (waveform.c:2503)
==4477==    by 0x7BC87017: ??? (signal_i386.c:2571)
==4477==    by 0x7BC87060: call_thread_func (signal_i386.c:2630)
==4477==    by 0x7BC86FF5: ??? (signal_i386.c:2571)
==4477==    by 0x7BC8E43C: start_thread (thread.c:428)
==4477==    by 0x4218F92: start_thread (pthread_create.c:309)
==4477==    by 0x431D7ED: clone (clone.S:129)

==4477== 240 bytes in 6 blocks are definitely lost in loss record 575 of 838
==4477==    at 0x7BC4C6B7: notify_alloc (heap.c:255)
==4477==    by 0x7BC50EFB: RtlAllocateHeap (heap.c:1716)
==4477==    by 0x5823590: IMalloc_fnAlloc (ifs.c:186)
==4477==    by 0x5823EAB: CoTaskMemAlloc (objidl.h:1236)
==4477==    by 0x69AE652: AudioClient_GetMixFormat (mmdevdrv.c:1747)
==4477==    by 0x6510860: set_format (audioclient.h:330)
==4477==    by 0x65109DF: load_driver_devices (devenum.c:464)
==4477==    by 0x6512225: MMDevEnum_Create (devenum.c:851)
==4477==    by 0x6515445: MMCF_CreateInstance (main.c:252)
==4477==    by 0x5804D96: CoCreateInstance (unknwn.h:226)
==4477==    by 0x4FE9C53: WINMM_InitMMDevices (waveform.c:843)
==4477==    by 0x4FEF50F: WINMM_DevicesThreadProc (waveform.c:2468)
==4477==    by 0x7BC87017: ??? (signal_i386.c:2571)
==4477==    by 0x7BC87060: call_thread_func (signal_i386.c:2630)
==4477==    by 0x7BC86FF5: ??? (signal_i386.c:2571)
==4477==    by 0x7BC8E43C: start_thread (thread.c:428)
==4477==    by 0x4218F92: start_thread (pthread_create.c:309)
==4477==    by 0x431D7ED: clone (clone.S:129)
==4477==",427,"0"
"WINE-39510","EZCastPro 1.4/1.5 crashes on unimplemented function USER32.dll.QueryDisplayConfig","Hello folks

continuation of bug 38745

--- snip ---
$ wine ./EZCast.exe 
fixme:win:GetDisplayConfigBufferSizes (0x1 0x33fd90 0x33fd94): stub
wine: Call from 0x7bc64a6b to unimplemented function USER32.dll.QueryDisplayConfig aborting
wine: Unimplemented function USER32.dll.QueryDisplayConfig called at address 0x7bc64a6b (thread 0009) starting debugger...
Unhandled exception: unimplemented function USER32.dll.QueryDisplayConfig called in 32-bit code (0x7bc64a6b).
--- snip ---

$ sha1sum ezcast_win.exe 
9e66078012a4cd9ac94edec6883ded3353452fa9  ezcast_win.exe

$ du -sh ezcast_win.exe 
39M	ezcast_win.exe

$ wine --version
wine-1.7.53-183-g12111d8

Regards",141,"0"
"WINE-5347","Photoshop CS CS2 startup takes too long","Hi when I try to run Photoshop CS2 (copied from my windows install so I
haven't tested the installer) the program starts to load up and then it freezes
printing this output hundreds of times in the console (never seems to end actually)

err:shell:HCR_GetFolderAttributes HCR_GetFolderAttributes should be called for
simple PIDL's only!

I'm not sure what other output I can give especially as I don't completely know
what this error means :) Maybe someone here does though.

Thanks.",507,"0"
"WINE-22501","Bioshock won't run without native msvcp80.dll","Workaround is winetricks vcrun2005

This is not easy to fix but we should have a bug for it nonetheless
even if we mark it WONTFIX.",370,"0"
"WINE-37866","Multiple .NET applications fail due to wbemdisp:services_InstancesOf stub (PaintRibbon 1.x)","Hello folks

continuation of bug 35364

Prerequisite: 'winetricks -q dotnet35sp1 corefonts'

Work around bug 34764: 'winetricks -q windowscodecs'

Work around bug 15670:

--- snip ---
$ wine reg add HKLM\\Software\\Microsoft\\Windows NT\\CurrentVersion\\ProfileList\\S-1-5-21-0-0-0-1000
--- snip ---

Relevant part of trace log:

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/Paintribbon

$ WINEDEBUG=+tid+seh+loaddll+process+ole+variant+wbemdisp+wbemprox wine ./PaintRibbon.exe >>log.txt 2>&1
...
0031:trace:wbemdisp:services_Invoke 0x6878e98 5 {00000000-0000-0000-0000-000000000000} 1033 3 0x33cc20 0x33cbec 0x33ca78 0x33cb18
0031:trace:ole:ITypeInfo_fnAddRef (0x6886a38)->ref is 2
0031:trace:ole:ITypeInfo_fnInvoke (0x6886a38)(0x6878e98id=5flags=0x000000030x33cc200x33cbec0x33ca780x33cb18)
0031:trace:ole:dump_DispParms args=1 named args=0
0031:trace:ole:dump_DispParms args:
0031:trace:ole:dump_DispParms   [0] 0x33cba0 {VT_BSTR: LWin32_BaseBoard}
0031:trace:ole:ITypeInfo_fnInvoke invoking:
LInstancesOf(4)
	parm0: LstrClass
	parm1: LiFlags
	parm2: LobjWbemNamedValueSet
	parm3: LobjWbemObjectSet
memid is 00000005
Param 0:
		tdesc.vartype 8 (VT_BSTR)
		u.paramdesc.wParamFlags PARAMFLAG_FIN
		u.paramdesc.lpex (nil)
Param 1:
		tdesc.vartype 3 (VT_I4)
		u.paramdesc.wParamFlags PARAMFLAG_FIN PARAMFLAG_FOPT PARAMFLAG_FHASDEFAULT
		u.paramdesc.lpex 0x6887578
Param 2:
		tdesc.vartype 9 (VT_DISPATCH)
		u.paramdesc.wParamFlags PARAMFLAG_FIN PARAMFLAG_FOPT PARAMFLAG_FHASDEFAULT
		u.paramdesc.lpex 0x6887590
Param 3:
		tdesc.vartype 26 (ptr to ptr to VT_USERDEFINED ref = 44c)
		u.paramdesc.wParamFlags PARAMFLAG_FOUT PARAMFLAG_FRETVAL
		u.paramdesc.lpex (nil)
	funckind: 1 (pure virtual)
	invkind: 1 (func)
	callconv: 4 (stdcall)
	oVft: 44
	cParamsOpt: 0
	wFlags: 0
	elemdescFunc (return value type):
		tdesc.vartype 25 (VT_HRESULT)
		u.paramdesc.wParamFlags PARAMFLAGS_NONE
		u.paramdesc.lpex (nil)
	helpstring: (null)
	entry: invalid
...
0031:trace:ole:ITypeInfo_fnGetRefTypeInfo (0x6886a38) hreftype 0x044c loaded SUCCESS (0x6883d08)
...
0031:trace:ole:ITypeInfo_fnInvoke changing args
0031:trace:ole:ITypeInfo_fnInvoke 0x33cba0 {VT_BSTR: LWin32_BaseBoard}
0031:trace:variant:VariantCopy (0x6889fe8 {VT_EMPTY}0x6887580 {VT_I4: 16})
0031:trace:variant:VariantClear (0x6889fe8 {VT_EMPTY})
0031:trace:variant:VariantCopy (0x6889ff8 {VT_EMPTY}0x6887598 {VT_DISPATCH: (nil)})
0031:trace:variant:VariantClear (0x6889ff8 {VT_EMPTY})
0031:trace:ole:DispCallFunc (0x6878e98 44 4 10 4 0x688a068 0x688a058 0x33c678 (vt=10))
0031:trace:ole:DispCallFunc arg 0: type VT_BSTR 0x33cba0 {VT_BSTR: LWin32_BaseBoard}
0031:trace:ole:DispCallFunc arg 1: type VT_I4 0x6889fe8 {VT_I4: 16}
0031:trace:ole:DispCallFunc arg 2: type VT_DISPATCH 0x6889ff8 {VT_DISPATCH: (nil)}
0031:trace:ole:DispCallFunc arg 3: type VT_DISPATCH|VT_BYREF 0x688a008 {VT_DISPATCH|VT_BYREF 0x33c668}
0031:fixme:wbemdisp:services_InstancesOf 
0031:trace:ole:DispCallFunc retval: 0x33c678 {VT_ERROR: 80004001}
0031:trace:variant:VariantClear (0x6889fd8 {VT_EMPTY})
0031:trace:variant:VariantClear (0x688a018 {VT_EMPTY})
0031:trace:variant:VariantClear (0x6889fe8 {VT_I4: 16})
0031:trace:variant:VariantClear (0x688a028 {VT_EMPTY})
0031:trace:variant:VariantClear (0x6889ff8 {VT_DISPATCH: (nil)})
0031:trace:variant:VariantClear (0x688a038 {VT_EMPTY})
0031:trace:ole:ITypeInfo_fnInvoke [retval] value: 0x688a008 {VT_DISPATCH|VT_BYREF 0x33c668}
0031:trace:variant:VariantInit (0x33cbec)
0031:trace:variant:VariantCopyInd (0x33cbec {VT_EMPTY}0x688a008 {VT_DISPATCH|VT_BYREF 0x33c668})
0031:trace:variant:VariantClear (0x33cbec {VT_EMPTY})
0031:trace:variant:VariantCopyInd returning 0x00000000 0x33cbec {VT_DISPATCH: (nil)}
0031:trace:variant:VARIANT_ClearInd (0x688a008 {VT_DISPATCH|VT_BYREF 0x33c668})
0031:trace:variant:VariantClear (0x688a048 {VT_EMPTY})
0031:warn:ole:ITypeInfo_fnInvoke invoked function failed with error 0x80004001
0031:trace:ole:GetErrorInfo (0 0x33c63c (nil))
0031:trace:ole:ITypeInfo_fnInvoke -- 0x80020009
0031:trace:ole:ITypeInfo_fnRelease (0x6886a38)->(1)
0031:trace:seh:raise_exception code=e06d7363 flags=1 addr=0x7b83b39f ip=7b83b39f tid=0031
0031:trace:seh:raise_exception  info[0]=19930520
0031:trace:seh:raise_exception  info[1]=0033ca34
0031:trace:seh:raise_exception  info[2]=7a096eb0
0031:trace:seh:raise_exception  eax=7b827025 ebx=7b8bf000 ecx=7a096eb0 edx=0033c980 esi=00004000 edi=79f3877c
0031:trace:seh:raise_exception  ebp=0033c9b8 esp=0033c954 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000283
--- snip ---

Source: http://source.winehq.org/git/wine.git/blob/ff251092a7b400b128e1b0096cf0dc95db500c02:/dlls/wbemdisp/locator.c#l674

--- snip ---
674 static HRESULT WINAPI services_InstancesOf(
675     ISWbemServices *iface
676     BSTR strClass
677     LONG iFlags
678     IDispatch *objWbemNamedValueSet
679     ISWbemObjectSet **objWbemObjectSet )
680 {
681     FIXME( \n )
682     return E_NOTIMPL
683 }
--- snip ---

$ sha1sum paintribbonsetup.exe 
d74c6a5ddca61c0f62019db14657993cb552daf2  paintribbonsetup.exe

$ du -sh paintribbonsetup.exe 
1.7M	paintribbonsetup.exe

$ wine --version
wine-1.7.33-191-ge899bd8

Regards",6,"0"
"WINE-7929","C&C 3 network does not work","When I enter the network lobby on two computers they are not able to see each 
other nor able to see each others' hosted games.

There are no apparent error messages on the console but enabling a winsock 
trace shows errors about reasources being temporarily unavailable.",2020,"1"
"WINE-14429","compile fail in msxml_private.h:94","Created attachment 14751
~/src/wine/wine-1.1.1$ ./tools/wineinstall 2> wineinstall.log

while compile wine (via ./tools/wineinstall) get:
-----------
In file included from attribute.c:32:
msxml_private.h:94: : expected ) before xmldoc
-----------

full log in attachment (result of ~/src/wine/wine-1.1.1$ ./tools/wineinstall 2> wineinstall.log)",2,"0"
"WINE-34170","Cabri II Plus 1.4 fails on startup"," msimtf.dll  needs to be renamed into  MSIMTF.dll  if lauching application (VS/Qt) with SWF file.

Best regards",471,"0"
"WINE-538","DLL Separation: x11drv from gdi32","Note that there is no garantee that this can really be done independently from
the other x11drv DLL separation tasks. The best way to find out it to try.
If you fix one of these references then update this bug accordingly and close
it when none remain.

./libx11drv.so: undefined reference to `CLIPPING_IntersectVisRect'
./libx11drv.so: undefined reference to `COLOR_IsSolid'
./libx11drv.so: undefined reference to `COLOR_PaletteLookupExactIndex'
./libx11drv.so: undefined reference to `COLOR_PaletteLookupPixel'
./libx11drv.so: undefined reference to `DC_GetDCPtr'
./libx11drv.so: undefined reference to `DC_InitDC'
./libx11drv.so: undefined reference to `DIB_BitmapInfoSize'
./libx11drv.so: undefined reference to `DIB_CreateDIBFromBitmap'
./libx11drv.so: undefined reference to `DIB_GetBitmapInfo'
./libx11drv.so: undefined reference to `DIB_GetDIBImageBytes'
./libx11drv.so: undefined reference to `DIB_GetDIBWidthBytes'
./libx11drv.so: undefined reference to `FONT_LogFontWTo16'
./libx11drv.so: undefined reference to `FONT_TextMetricAToW'
./libx11drv.so: undefined reference to `GDI_GetObjPtr'
./libx11drv.so: undefined reference to `GDI_ReleaseObj'
./libx11drv.so: undefined reference to `REGION_LPTODP'
./libx11drv.so: undefined reference to `RestoreVisRgn16'
./libx11drv.so: undefined reference to `SaveVisRgn16'
./libx11drv.so: undefined reference to `SelectVisRgn16'
./libx11drv.so: undefined reference to `SetHookFlags16'",591,"0"
"WINE-20654","Memory leak in RtlGetFullPathName_U (found by chromium unit_tests)","chromium leaks in unit_tests.exe's FileUtilTest.GetTempDirTest
(and others):

520 bytes in 1 blocks are definitely lost in loss record 933 of 1151 
   at notify_alloc (heap.c:214)
   by RtlAllocateHeap (heap.c:1421)
   by get_full_path_helper (path.c:643)
   by RtlGetFullPathName_U (path.c:798)
   by GetFullPathNameW (path.c:242)
   by GetTempPathW (path.c:598)
   by file_util::GetTempDir (file_util_win.cc:427)
   by `anonymous namespace'::FileUtilTest_GetTempDirTest_Test::TestBody (file_util_unittest.cc:1047)

A patch was sent on 9 Nov http://source.winehq.org/patches/data/55056 
but was rejected (it *was* kind of ugly).

This also affects a number of other Win32 api functions not just GetTempPath.",59,"0"
"WINE-31747","Colobot demo crashes when changing rendering settings","Created attachment 41747
terminal output

The game crashes when I change any of the available settings (screen resolution graphical driver full-screen/windowed mode) on the Options -> Device screen.
The game displays the following error message before crashing:
A DDraw object has a non-zero reference 
count (meaning it was not properly cleaned up).
COLOBOT will now exit.

Steps to reproduce the problem:
1. Install then start the demo with colobot.exe
2. Create a new player and go to  in the main menu
3. Select the  page and remove the checkmark from the 'Full screen' checkbox. Click on ...the game crashes at this point. Changing anything on this page results in the same crash.

According to my testing the problem appeared in Wine 1.4-rc1 and is still present in wine-1.5.13-144-ge3a2e3a.
The result of the regression test:

992dbc10786b79959d8b0a790974f6630aa81e3b is the first bad commit
commit 992dbc10786b79959d8b0a790974f6630aa81e3b
Author: Henri Verbeet 
Date:   Tue Jan 17 21:13:35 2012 +0100

    ddraw: Maintain D3D state across cooperative level changes.

:040000 040000 9b0a142ccad4726276441d6b1f07d1576b0a9f5d 1cdfa767f8258ffb112b4441d09b0d602f8db3a0 M	dlls

Fedora 17 x86
X.Org X Server 1.12.3
Nvidia 250 / driver 304.37",11,"0"
"WINE-17067","Stud_PE crashes on Tools -> Plugins","Stud_PE 4.2.0.1 the EXE viewer crashes when the Tools -> Plugins menu is opened.  Therefore the plugins cannot be used.

This freeware app can be downloaded here: http://www.cgsoftlabs.ro/studpe.html

err:seh:setup_exception_record stack overflow 124 bytes in thread 0009 eip 7ddb5ba0 esp 002312b4 stack 0x230000-0x231000-0x330000",498,"0"
"WINE-7283","Max Payne 2 doorways look like they lead to infinity/nowhere","This is best seen in the intro just before you get control as it's going through
the corridors most of the doorways showing some weird view into infinity
effect. This is also true for some of the doors in the game too especially the
first through you have to go through.",51,"0"
"WINE-38387","Multiple .NET 4.x WPF applications abort with 'Unrecoverable system error' in Win7 mode (dwrite font family resolution must be case-insensitive)","Hello folks

follow-up of bug 38132 to track the issue properly.

https://www.winehq.org/pipermail/wine-devel/2015-April/107308.html

Patch is in queue:

https://source.winehq.org/patches/data/110726

Also needed for Visual Studio 2012/2013 installers in Win7 mode (with 'winetricks corefonts' being a required prerequisite)

Regards",3,"0"
"WINE-11729","Unreal Tournament: dinput mode makes game unplayable","Hi there

new Unreal Tournament bug after the error on exit bug was fixed. This one is different however because it has to do with input.

The problem is that once you active direct input in the UT configuration menu and restart (so the change becomes active) the input sort of stops working.

What exactly happens:
I'm currently not talking about being in-game. I'm just in the menu where you land after pressing ESC in the intro sequence. Upon pressing ESC you end up with the cursor in the upper left position on the virtual windows (currently using virtual desktop so debugging is easier).
The first entry of the game menu is opened automatically (Game) and I can now move the cursor through the opened game entry selecting the children. Or I can move over to the next entry (Multiplayer Options Stat Tools ...) and select children there.
OK this is when dinput is OFF.

Now I go into the options activate dinput and leave the game. Then I start the game again and encounter this.
Upon pressing ESC the cursor is still transferred to the upper left position and the menu opens.

What is different:
When clicking the menu away (click on non-menu components) and then trying to open them again (by clicking on them) the menu item won't open (no drop-down effect). I can hear the soundeffect of the menu opening but nothing more. I can even click something (suspecting that the menu is invisible but there). So the only thing I can do is switching the app to window mode (there is a button in the upper right corner that does that) and then use the X-button on the window to close the application.

Another difference is that marking checkboxes doesn't work anymore. I was going to make another try and restarted the app this time moving right into the config menu to deactivate input. This works because ESC always lets the menu pop up. However removing the tick from the checkbox proved to be impossible.

I had to modify the UnrealTournament.ini to switch dinput off.

I created a log from the dinput run going to attach this.

Greets
Tobias",343,"0"
"WINE-29957","Silverlight 4 does not install (Microsoft PlayReady DRM scheme requires FILE_PERSISTENT_ACLS if returned filesystem type is NTFS)","Created attachment 38988
Terminal output for Silverlight 4 installer

The installer exits before it is finished and reports Unable to install Silverlight.",229,"0"
"WINE-19572","Adobe CS4 installer's Quit window has no buttons most of the time","Created attachment 22809
Quit window

Adobe Photoshop CS4's intaller has a Welcome screen with a Quit button but clicking on Quit brings up a window with no buttons (screenshot attached) most of the time...

Trying the same thing a number of times is eventually successful in latest git.",1134,"1"
"WINE-31541","Microsoft SQL Server 2005 Express Edition installer fails due to unhandled exception","Now that bug 30088 is out of the picture the installer fails with unhandled exception:
wine: Unhandled page fault on write access to 0x00000004 at address 0x7bc4a309 (thread 002a) starting debugger...
err:seh:raise_exception Unhandled exception code c0000005 flags 0 addr 0x7bc4a309

No debugger is ever started and the application terminates immediately so no backtrace.
Native msvcp80 works around this bug.

Native mspatcha.dll is required to work around bug 12501 and get this far.",21,"0"
"WINE-20963","CIV4(BTS)/steam crashes at launch after upgrade wine1.2 1.1.33-0ubuntu1~ppa1 to 1.1.34-0ubuntu1","After applying the following Update Manager upgrade on Ubuntu 9.10 amd64:
bind9-host (1:9.6.1.dfsg.P1-3) to 1:9.6.1.dfsg.P1-3ubuntu0.2
devicekit-disks (007-2ubuntu3) to 007-2ubuntu4
dnsutils (1:9.6.1.dfsg.P1-3) to 1:9.6.1.dfsg.P1-3ubuntu0.2
gnome-screensaver (2.28.0-0ubuntu3) to 2.28.0-0ubuntu3.1
google-chrome-unstable (4.0.249.22-r33427) to 4.0.249.30-r33928
libbind9-50 (1:9.6.1.dfsg.P1-3) to 1:9.6.1.dfsg.P1-3ubuntu0.2
libdns50 (1:9.6.1.dfsg.P1-3) to 1:9.6.1.dfsg.P1-3ubuntu0.2
libisc50 (1:9.6.1.dfsg.P1-3) to 1:9.6.1.dfsg.P1-3ubuntu0.2
libisccc50 (1:9.6.1.dfsg.P1-3) to 1:9.6.1.dfsg.P1-3ubuntu0.2
libisccfg50 (1:9.6.1.dfsg.P1-3) to 1:9.6.1.dfsg.P1-3ubuntu0.2
liblwres50 (1:9.6.1.dfsg.P1-3) to 1:9.6.1.dfsg.P1-3ubuntu0.2
ttf-symbol-replacement (1.1.33-0ubuntu1~ppa1) to 1.1.34-0ubuntu1
ttf-tahoma-replacement (1.1.33-0ubuntu1~ppa1) to 1.1.34-0ubuntu1
wine-gecko (1.1.33-0ubuntu1~ppa1) to 1.1.34-0ubuntu1
wine1.2 (1.1.33-0ubuntu1~ppa1) to 1.1.34-0ubuntu1
[Commit Log for Tue Dec  8 07:46:37 2009]

Steam launched properly but CIV4BTS Blanked the screen and locked the system.

In prior version CIVBTS worked fine (better than on Vista/WinXP actually)",3,"0"
"WINE-1356","Tibia game: Direct3D problems","Seems like the comments vanished for this bug... 
 
There is a flashing when you open a bag or backpack within the Tibia game. 
 
console: 
 
fixme:class:get_class_ptr reading from class of other process window 0x20024 
fixme:class:get_class_ptr reading from class of other process window 0x10023 
fixme:class:get_class_ptr reading from class of other process window 0x10027 
fixme:class:get_class_ptr reading from class of other process window 0x10026 
fixme:class:get_class_ptr reading from class of other process window 0x20025 
fixme:ddraw:Main_DirectDraw_SetCooperativeLevel 
(0x403f6388)->(0007007300000008) 
fixme:ddraw:Main_DirectDrawClipper_Initialize 
(0x403f4f50)->(0x403f63940x00000000)stub! 
Xlib:  extension XFree86-DRI missing on display :0.0. 
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_ANTIALIAS 
(00000002) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType 
D3DRENDERSTATE_LINEPATTERN (0000000a) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType 
D3DRENDERSTATE_MONOENABLE (0000000b) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_ROP2 
(0000000c) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_PLANEMASK 
(0000000d) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_LASTPIXEL 
(00000010) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_ZVISIBLE 
(0000001e) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType 
D3DRENDERSTATE_EDGEANTIALIAS (00000028) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType 
D3DRENDERSTATE_MIPMAPLODBIAS (0000002e) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType 
D3DRENDERSTATE_RANGEFOGENABLE (00000030) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_WRAP0 
(00000080) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_WRAP1 
(00000081) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_WRAP2 
(00000082) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_WRAP3 
(00000083) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_WRAP4 
(00000084) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_WRAP5 
(00000085) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_WRAP6 
(00000086) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_WRAP7 
(00000087) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_EXTENTS 
(0000008a) ! 
err:ddraw:set_render_state Unhandled dwRenderStateType 
D3DRENDERSTATE_VERTEXBLEND (00000097) ! 
fixme:ddraw:DIB_DirectDrawSurface_Blt dwFlags DDBLT_WAIT and/or DDBLT_ASYNC: 
can't handle right now. 
",916,"1"
"WINE-3534","Systray icons are not transparent...","I'm not sure if this only happens on the KDE desktop: when an application uses 
a systray icon the background of this systray icon has not the default 
background of the systray but some sort of grey. Can be checked with our 
Emtec products like Moony at http://www.emtec.com/moony. It's only a cosmetic 
thing but would be nice to have.

Thanks

Markus",913,"1"
"WINE-22346","Palm Pilot: hotsync.exe could not load 'USER.DLL' required by 'COMUT16' error=2","Hotsync.exe for Palm Pilot does not work anymore are of version 1.1.41.
reports:
Could not load 'USER.DLL' required by 'COMUT16' error=2

Also the application itself notes that COM2 is no longer available.",58,"0"
"WINE-3043","CSpy/IP Address: IPM_SETFOCUS bug","When Setfocus is called wine sets the focus to the first field of the control
regardless of what is passed as the second parameter.

The behaviour in Windows 2000 is that the second parameter defines the field
into which the focus is set i.e. 1 sends the cursor to the second number 3 to
the fourth number.  The first field is selected if the parameter is out of range.",0,"0"
"WINE-27750","No dynamic shadows with pixel shaders enabled in Tomb Raider: Anniversary","If you have Allow Pixel Shader checked in winecfg Lara doesn't cast a shadow. Disabling pixel shader enables it.

nVidia 260GTX official drivers 270.41.06 Ubuntu 11.04",221,"0"
"WINE-28828","gmail notifier getting unexpected http headers","adys@azura ~/downloads % wine GmailInstaller.exe 
fixme:wininet:URLCache_FindFirstFreeEntry Grow file
err:wininet:CommitUrlCacheEntryInternal no free entries
fixme:wininet:URLCache_FindFirstFreeEntry Grow file
err:wininet:CommitUrlCacheEntryInternal no free entries
...
fixme:wininet:URLCache_FindFirstFreeEntry Grow file
err:wininet:CommitUrlCacheEntryInternal no free entries
fixme:wininet:URLCache_FindFirstFreeEntry Grow file
err:wininet:CommitUrlCacheEntryInternal no free entries
err:wininet:HTTP_ParseRfc1123Date unexpected month L-Ja

[12:26:12]  Adys: looks like we get a http header that we don't expect",4,"0"
"WINE-40133","No Limits 2 help system needs GetOverhangMetrics()","Install the program on the main menu click Help. Tip dialog does not show any text and without GetOverhangMetrics() does not show scrollbars too.",350,"0"
"WINE-28903","Oddworld: screen stays frozen with the menu screen","This bug affects (at least) the first 2 games from the Oddworld series: Abe's Oddysee and Abe's Exoddus. The games were released around 1997/98.

The problem (in the full game Steam version here): various intro videos/splash screens are displayed correctly after starting the game. Finally the main menu appears but the screen stays frozen (not refreshing) at this point. The game is still running audio and keyboard work but all I can see is the frozen main menu.

In the demo the game starts with a black screen and the screen stays that way: normally various splash screens should be displayed then the menu should appear but you can only see a black screen. The game is running fine you can hear the sound effects keyboard also works.

The result of the regression test:

8330558e125c9073068ffbd7741f1128c17c1e08 is the first bad commit
commit 8330558e125c9073068ffbd7741f1128c17c1e08
Author: Henri Verbeet 
Date:   Mon Oct 24 21:24:37 2011 +0200

    ddraw: Keep track of the affected rectangle for ddraw_surface_update_frontbuffer().

:040000 040000 16fd239dcdf7e70872e0ff77f91e66b135638d2b 54a1e8bad30d085e9fb448096536e1e5cda6376b M	dlls

The patch cannot be reverted on the current git (wine-1.3.31-106-gda6363e) but
git checkout 8330558e125c9073068ffbd7741f1128c17c1e08  >> frozen screen
git reset --hard HEAD^   >> the game starts correctly

Nothing interesting in the terminal.

Fedora 15 x86
Gnome 3 (compositing)
X.Org X Server 1.10.4
Nvidia 250 / driver 280.13",1,"0"
"WINE-24707","RobotZ DX freezes just after you start a level","Created attachment 31217
~/wine-git/wine RobotzDX.exe &> log.txt

After you start the level in just a few seconds it becomes unplayable and requires to be killed.",732,"0"
"WINE-11802","Homeworld: sound broken usually","Usually when starting up Homeworld v1.05 the sound will not work but not always. Works fine under Wine 0.9.53.

When it doesn't work it's broken from the very beginning. At the Sierra intro movie it will not have any sound. Then there will not be any sound throughout the running of the program. There are no other noticeable issues during play. But also when this happens upon a normal exit of the app via its menu system it will normally (always?) hang in the console window after it closes its application window. In the few cases when there is sound upon startup exiting normally does not hang.

Choosing different audio drivers in winecfg seem to have any affect. 

Running 'wineboot -s' or 'wineserver -k' doesn't seem to help either.

For a while it seemed like switching the default settings Windows Version in winecfg back between 'Windows XP' and 'Windows 2000' would help but usually not. Probably just a coincidence though as sometimes it will run fine anyway and it certainly doesn't work every time.

Tested on the latest git version (wine-0.9.56-264-g848383a) broken there as well as the release version (from gentoo distro wine-0.9.56).",870,"1"
"WINE-12298","Notation Composer: crashes when opening menus when using ALSA","Created attachment 11746
Backtrace

I am trying to run the demo version of Notation Composer 2.3.3 (a midi notation program). It starts just fine but crashes when I start opening menus like File Help and so on. If I use the menus sparingly I am able to open a midi file and use some of the basic program functions like playing the file or editing the score (although my toolbar lacks icons and playback bogs the program down... topics for separate bug reports probably but perhaps that info will be useful here).

The demo can be downloaded here: http://notation.com/download/NotationComposer233TrialSmallSetup.exe

Note that I had to use winetricks and download the vcrun6 package since the install program requires mfc42.dll. Without it the trial period expires upon the first run.

Here are some details about my setup:

Wine version:               0.9.58
Windows version:            XP
Distro:                     Slackware(-current)
Kernel version:             2.6.24.3-smp
CPU:                        Intel Core 2 Duo E6750
GCC version:                4.2.3
glibc version:              2.7
xorg-server version:        1.4.0.90
Video card driver version: NVidia GeForce 8600GT 169.12
Notable configure opts:     --with-x --enable-opengl

I ran the program with:
$ wine C:\Program Files\Notation\Composer\Composer.exe > backtrace.txt 2>&1

To recreate the problem: get mfc42.dll (with winetricks vcrun6 thx Dan) install the program and start opening menus. The faster they are opened the sooner the program crashes.

A debug log is available if needed. The page fault occurs at about 1500 lines from the bottom so let me know how many lines you need.

Thanks!",826,"1"
"WINE-329","mouse double-click doesn't work in Starcraft","With the latest 8/24/01 Wine version mouse double-clicks do not work any more
in Starcraft. I ran wine on a dedicated X server 640x480 24-bit color no WM.
On the other hand the game works fine except for the double clicks.",823,"1"
"WINE-19022","BibleStudyPro: text does not display on screen","Installed BibleStudyPro from http://BibleStudyPro.com (it is a newer version of one of the Bible Study programs.)  Required Jet40 MDAC28 dotnet11 and dotnet20 from winetricks. No text displayed on initial run added riched20.  Still no text display.
Receive the following fixme:
fixme:thread:NtQueryInformationThread info class 16 not supported yet
fixme:thread:NtQueryInformationThread info class 16 not supported yet

Will attach complete run log as a gzip file.

James McKenzie",3,"0"
"WINE-43152","VistA GuiMail won't start needs adsldpc.dll","To reproduce:

1. Download and run the Astronaut VistA installer from SourceForge.
2. When prompted for the Astronaut VistA server IP Address or Name enter localhost.
3. After installation has finished run `wine 'C:\Program Files (x86)\VistA\GuiMail\GuiMail.exe'`.

Expected results:

An error dialog saying Connection to server could not be established!

Actual results:

err:module:import_dll Library adsldpc.dll (which is needed by LC:\\Program Files (x86)\\VistA\\GuiMail\\GuiMail.exe) not found
err:module:LdrInitializeThunk Main exe initialization for LC:\\Program Files (x86)\\VistA\\GuiMail\\GuiMail.exe failed status c0000135",1,"0"
"WINE-28606","Gnome-screensaver cannot lock screen while runing full-screen games","While running fullscreen games (such as CounterStrike and so on) under wine gnome-screensaver cannot lock screen. (some application uses gnome-screensaver's dbus service to ask it to lock screen). But gnome-screensaver locks screen fine if game is running using virtual desktop emulation winecfg option. But not all games are working with that option :/

I think this is Wine bug (not gnome-screensaver's one) beacause screen locking is working with wine 1.3.15 but is not working with wine 1.3.29. This was tested on Ubuntu 10.04 and 11.04.",2,"0"
"WINE-3486","Clipboard behaves strangely copying from ANSI edit control","Use the attachment to bug 2246 as a test case.

+ When run the edit field should be blank but it contains garbage.
+ You don't get what you expect when copying characters eg if the field
contains abcd and you try to copy it all you just get a.
+ Pasting seems OK.

Fixed by using native comctl32.

Almost certainly a variant of bug 3241",824,"1"
"WINE-43810","Playkey needs api-ms-win-crt-stdio-l1-1-0.dll.__stdio_common_vsprintf_p","Created attachment 59350
log report

Playkey.exe crushes in wine (fedora 26)",12,"0"
"WINEHQ.ORG-25453","LXR falsifies source code at http://source.winehq.org/source/","Please compare
http://source.winehq.org/source/dlls/winmm/tests/mci.c?v=wine-1.3.8#l288
if(!err) ok(!strcmp(buf)...
with
http://source.winehq.org/git/wine.git/?a=blobf=dlls/winmm/tests/mci.chb=c138970ea2ce0661ebb80a5e0079e284a19d3176#l288
if(!err) ok(!strcmp(buf0)...
See the missing 0? The source code never said .

At Wineconf it was suggested that the LXR package that is said to generate the source listings be updated to see if the bug would still be present then.",2974,"1"
"WINE-25104","ChooseFont dialog does not support non standard font sizes","When the Wine ChooseFont dialog is displayed it adds common font sizes to the size combobox.  If for whatever reason the logfont passed to the dialog has a lfHeight/lfWidth combination that results in a font size not contained in the font size combo box it does not get displayed in the font size text box.  

In addition if a user selects a font size not shown in the combo box the ChooseFont dialog asks like it was accepted but in fact just ignores it.

This pertains to both TrueType as well as bitmap fonts.  This most common occurance is with odd font sizes such as 13 15 etc.

This does not match the action of the normal Windows ChooseFont dialog and produces unwanted results.",1868,"1"
"WINE-25119","Text has a green background in Pikachu Volleyball 3D","Created attachment 31858
Terminal output

The text that isn't missing per bug 25118 appears on a solid green background throughout the game. Workaround is winetricks d3dx9_36.

For screenshots see:
http://bugs.winehq.org/attachment.cgi?id=31856 - builtin d3dx9_36
http://bugs.winehq.org/attachment.cgi?id=31857 - native d3dx9_36",4,"0"
"WINE-24425","err:module:find_forwarded_export function not found for forward 'krnl386.exe16.GetProcessDword'","I am getting a symbol error and I would like to know what is going on here:
Is the symbol GetProcessDword actually linked against kernel32.dll which will try and resolve against kernel386.exe? If so why isn't the GetProcessDword16 export used?

Here is the error.
err:module:find_forwarded_export function not found for forward 'krnl386.exe16.GetProcessDword' used by LC:\\windows\\system32\\KERNEL32.dll. If you are using builtin LKERNEL32.dll try using the native one instead.",1,"0"
"WINE-1604","No output text from programs run in a wcmd console","Any program run from a wcmd console produces no text output.
Output redirection from a program run directly from wine produces an empty file.
This problem was not in 20030618 it is in both RH8 and RH9",810,"1"
"WINE-13965","Can't change resolution in RTHDRIBL","Between Wine 0.9.60 and 0.9.61 it became no longer possible to open the Config Display dialog in RTHDRIBL the application simply hangs indefinitely. A bisect reveals:

628e4eece3b9bc724f8873aa3c078f545da887cc is first bad commit
commit 628e4eece3b9bc724f8873aa3c078f545da887cc
Author: Roderick Colenbrander 
Date:   Mon Apr 28 21:44:21 2008 +0000

    wined3d: Add multisampling support.

:040000 040000 7864ad7f4c0aeaa2235255e8d9065edb796f70d2 0b014ba64337d75aba8298596be87e6c9d3066b3 M      dlls
:040000 040000 d5eaaeeaa515f68aa03ecf10c3be9f2fbfa6c182 5e8b0f59abb7bec2c8af2c010b673bfb4b1b9801 M      include

This is still an issue in 1.0-rc5 and current git.

To reproduce hit F2 after the application starts.

Curiously enough multisampling appears to work (with an expected drop in performance and loss of jagginess) and can be toggled without invoking the problematic dialog.",810,"1"
"WINE-10453","Graphics bug in Supreme Commander","Created attachment 9159
Screenshot of the problem at the bisected point.

Sometime after 0.9.48 Supcom started exhibiting this problem where when using GLSL & fbo it seems as if some bloom-type filter is getting applied a bit too generously. I did a git bisect and it turned up this patch:

commit 948292dbc3930a95252fb5e03321f94a1f475db9
Author: Stefan Dsinger 
Date:   Thu Nov 1 01:38:50 2007 +0100

    wined3d: Move texture -> drawable blits to LoadLocation.

There's a related-looking error in the console output:

err:d3d_surface:IWineD3DSurfaceImpl_LoadLocation Reading back render target but SFLAG_INDRAWABLE not set

The bug also seems to get worse with the latest versions with the latest git the game is mostly a white screen. Compared to the less bugged version the console output from the latest git also contains a bunch of the following lines:

err:d3d_surface:surface_prepare_system_memory Surface without memory or pbo has SFLAG_INSYSMEM set!

as well as these at the end of the bunch.

err:d3d_shader:shader_glsl_load_psamplers Trying to load sampler Psampler8 on unsupported unit 8
err:d3d_shader:shader_glsl_load_psamplers Trying to load sampler Psampler9 on unsupported unit 9
err:d3d_shader:shader_glsl_load_psamplers Trying to load sampler Psampler10 on unsupported unit 10",50,"0"
"WINE-29314","VLC menu bar text is invisible","Created attachment 37911
Screenshot

See screenshot.

This is a regression and is still present as of wine-1.3.34-202-gb0f704d:

23c7c0469c34b072c0e6fdf5bbcab547dcc4d912 is the first bad commit
commit 23c7c0469c34b072c0e6fdf5bbcab547dcc4d912
Author: Alexandre Julliard 
Date:   Wed Oct 19 22:07:32 2011 +0200

    gdi32: Reimplement GetCharABCWidthsFloat using the integer version.

:040000 040000 9d93e4beb3b477bccdc39e0c9f5f294e9ca1b05d 2fb51c8fd8ac7d0ea09fece17797fb9c7f84beff M      dlls",2,"0"
"WINE-901","sound","Bug comments restored from Gmane.org: 
 
the I am using version 20011226 on a SuSE 8.0 machine.  The error i get is 
 
fixme:midi:OSS_MidiInit Synthesizer support MIDI in.                Not 
supported yet (please report) 
err:wave:wodPlayer_Reset grin 
 
 
I am trying to run a cbt specifically netg that has sound on it.  The sound does 
not work correctly. 
Can anyone help me fix this. 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-20 
22:57 ------- 
*** Bug 902 has been marked as a duplicate of this bug. *** 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-20 
23:08 ------- 
Well the first thing you should do is get a newer version of wine  
 
http://www.winehq.com/download/ 
 
I recommend installing from tarball. This isn't to hard to do if you follow the 
instructions in the README file. Also have a look at the wine users guide. 
 
http://www.winehq.com/Docs/wine-user/ 
 
 
------- Additional Comments From hoingram  bellsouth.net  2002-07-21 14:13 
------- 
i upgraded to version 20020710 but had the same error.  Is there anything else I 
can try? 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-21 
20:08 ------- 
What is the program that gives this error. Is there a downloadable version that 
someone could test with? If not a trace (--debugmsg +wave) that shows the 
problem would be a step in the right direction. 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2002-07-21 
20:47 ------- 
Sorry that sould probably have been --debugmsg +midi or +midi+wave 
 
 
------- Additional Comments From ppickfor  hotmail.com  2002-12-08 15:03 ------- 
netg is trying to paly real audio 14_4 files via ra16.dll 
wav output works fine 
trace from dbugmesg +wave looks fine 
I tried with various buffer sizes with no joy 
Is there anyway to trace what ra16.dll does and how it interfaces with the sound 
system 
 
 
------- Additional Comments From ppickfor  hotmail.com  2002-12-08 15:15 ------- 
Created an attachment (id=348) 
+wave log first sound is wav second sound is real audio 14_4 
 
 
------- Additional Comments From ppickfor  hotmail.com  2002-12-08 15:16 ------- 
Im using wine-20021125 on mandrake 9.0",1058,"1"
"WINE-23622","Severe bugs make displaying .chm files a disaster","Since Wine 1.2 RC6 a bug in hh.exe or hhctrl.ocx was introduced. When displaying .chm files links do not work and graphics are not displayed. I have tested this with 2 different .chm files.

This has been a problem for a very long time in Wine until these bugs have been fixed. But now someone re-introduced them.",246,"0"
"WINE-7012","Independence War 2: Edge Of Chaos fails to start","On start there comes up a black screen which soon (1sec) disappears.
I provide some logs.",1224,"1"
"WINE-3688","Starscape is unplayable in Direct3D mode","Wine 0.9 fortunately fixed a regression in InstallShield that I was having
installing Starsscape so I tried it again.

The install was perfect so I tried the game. The configuration dialog came up
and I tried it in OpenGL mode - window died WineDbg started. I'll post that log
in another bug related to OpenGL.

I tried it in DirectX mode and it started fine - but it spit out the following
and none of the textures or other objects are visible (in other words black
screen with music playing and appropriate sound effects when buttons are pressed):
wine Starscape.exe
fixme:system:SystemParametersInfoW Unimplemented action: 59 (SPI_SETSTICKYKEYS)
fixme:d3d:IWineD3DImpl_CreateDevice (0x7fd5d598) Incomplete stub for d3d8
fixme:d3d_caps:IDirect3D8Impl_FillGLCaps found GL_VERSION  (2.0.0 NVIDIA
76.76)->(0x004c1dfc)
fixme:d3d_caps:IDirect3D8Impl_FillGLCaps found GL_RENDERER (GeForce Go
6800/PCI/SSE2)->(0x0250)
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(400) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1280) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1290) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1300) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1310) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1320) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1330) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1340) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1350) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1560) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1611) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(162-1) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1630) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1641065353216) not
handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1651) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1723) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1731) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(400) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1280) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1290) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1300) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1310) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1320) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1330) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1340) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1350) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState >>>>>>>>>>>>>>>>> 501 from
glPointSize(...) @ device.c / 2946
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1560) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1610) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(162-1) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1630) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1640) not handled yet
fixme:d3d:IDirect3DDevice8Impl_SetRenderState (0x7fd60168)->(1651) not handled yet
fixme:d3d:IDirect3DDevice8Impl_GetDeviceCaps (0x7fd60168) : stub calling
idirect3d for now
fixme:ver:RtlVerifyVersionInfo (0x7fbef314350): Not all cases correctly
implemented yet
fixme:ver:RtlVerifyVersionInfo (0x7fbef314350): Not all cases correctly
implemented yet
fixme:ver:RtlVerifyVersionInfo (0x7fbef314350): Not all cases correctly
implemented yet
fixme:ver:RtlVerifyVersionInfo (0x7fbef314350): Not all cases correctly
implemented yet
fixme:ddraw:Main_DirectDraw_SetCooperativeLevel (0x7cfcc0a8)->((nil)00000008)
fixme:dinput:IDirectInputAImpl_GetDeviceStatus
(0x7c3fc028)->({6f1d2b61-d5a0-11cf-bfc7-444553540000}): stub
fixme:keyboard:X11DRV_GetKeyNameText (000000000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (005400000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (005500000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (005900000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (005a00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (005b00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (005c00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (005d00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (005e00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (005f00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (006100000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (006200000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (006300000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (006400000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (006500000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (006600000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (006700000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (006800000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (006900000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (006a00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (006b00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (006c00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (006d00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (006e00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (006f00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (007000000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (007100000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (007200000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (007300000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (007400000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (007500000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (007600000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (007700000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (007800000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (007900000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (007a00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (007b00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (007c00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (007d00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (007e00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (007f00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (010000000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (010100000x7fbef054256): unsupported key
vkey=001b ansi=001b
fixme:keyboard:X11DRV_GetKeyNameText (010e00000x7fbef054256): unsupported key
vkey=0008 ansi=0008
fixme:keyboard:X11DRV_GetKeyNameText (010f00000x7fbef054256): unsupported key
vkey=0009 ansi=0009
fixme:keyboard:X11DRV_GetKeyNameText (012a00000x7fbef054256): unsupported key
vkey=0010 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (013600000x7fbef054256): unsupported key
vkey=0010 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (013900000x7fbef054256): unsupported key
vkey=0020 ansi=0020
fixme:keyboard:X11DRV_GetKeyNameText (013a00000x7fbef054256): unsupported key
vkey=0014 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (014600000x7fbef054256): unsupported key
vkey=0091 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (014c00000x7fbef054256): unsupported key
vkey=000c ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (015400000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (015500000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (015900000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (015a00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (015b00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (015c00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (015d00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (015e00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (015f00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (016000000x7fbef054256): unsupported key
vkey=007d ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (016100000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (016200000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (016300000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (016400000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (016500000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (016600000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (016700000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (016800000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (016900000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (016a00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (016b00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (016c00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (016d00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (016e00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (016f00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017000000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017100000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017200000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017300000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017400000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017500000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017600000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017700000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017800000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017900000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017a00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017b00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017c00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017d00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017e00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:keyboard:X11DRV_GetKeyNameText (017f00000x7fbef054256): unsupported key
vkey=0000 ansi=0000
fixme:dinput:IDirectInputAImpl_GetDeviceStatus
(0x7c3fc028)->({6f1d2b60-d5a0-11cf-bfc7-444553540000}): stub

I can't think of much else of use.",2352,"1"
"WINE-5418","dlls/wined3d/device.c lines 1282-1295","if (NULL == object->glCtx) {
         ERR(cannot create glxContext\n)
         LEAVE_GL()
         return WINED3DERR_NOTAVAILABLE
     }
 
     LEAVE_GL()
     if (object->glCtx == NULL) {
         ERR(Error in context creation !\n)
         return WINED3DERR_INVALIDCALL
     } else {
         TRACE(Context created (HWND=%p glContext=%p Window=%ld VisInfo=%p)\n
                 object->win_handle object->glCtx object->win object->visInfo)
     }

------------
I'm not sure but LEAVE_GL() cannot change value in object->glCtx. If cannot
the previous code check the same twice. Or there is a good reson to do this?",14,"0"
"WINE-27004","Warcraft III fails to select units by mouse drag","Created attachment 34432
output on console probably nothing that can help

wine 1.3.19 fails to select units in Warcraft III when I try to drag left mouse button. Selecting in game is still possible by ctrl+click double click etc so it appears to be only mouse drag related problem It is regression compared to 1.3.18(and probably earlier) wine versions. I tried it with and without compiz.",76,"0"
"WINE-18705","Heavy Load first chance exception in NtQuerySystemInformation","Heavy Load from 
https://www.jam-software.de/customers/downloadTrial.php?article_no=402&language=EN&PHPSESSID=f090f4a84cbe361493cc2ad36f62d15c
crashes with the attached exception and backtrace 

Attached is all my machine information and the application which is freeware.",545,"0"
"WINE-43595","Rainmeter doesn't run demands windows 7 or later (needs ID2D1Factory1 stub)","Tested with rainmeter 4.0 final release and 4.1 beta. Tested with wine 2.15 and wine-staging 2.15.

Install works after setting the windows verison t owindows 10 but when running the program it quits with a messagebox:

> Rainmeter requires Windows 7 SP1 (with Platform Update) or later.
> For Windows XP or Vista you can download Rainmeter 3.3 from ww.rainmeter.net


Log is empty except for
> fixme:module:load_library unsupported flag(s) used (flags: 0x00000800)",153,"0"
"WINE-36216","Hearthstone fails to start says the game timed out","(not related to bug 36178)

The game is started from the Battle.net client gets to the login screen. Then the game says:

Closed
Your game timed out as it was requesting data from the Hearthstone utility service. Please relaunch Hearthstone to reconnect.


This error sometimes happened before but now it's impossible to get into the game. Looking at some wireshark logs theres a lot of crypted communication on port 1119 between hearthstone and the battle.net agent then it stops for a few seconds and the game says it timed out.",357,"0"
"WINE-27757","Igneous crashes when opened.","Created attachment 35514
This is the output of Igneous started using winedbg.

I started Igneous with 'wine Igneous.exe' in the game's folder. The game started but couldn't be played because it immediately crashed and a dialog opened saying: 'The program Igneous.exe has encountered a serious problem and needs to close.'
My DLL overrides:
d3d9.dll (native)
d3dx9_40 (native builtin)
Distribution: openSUSE 11.3 x86_64
My version of wine was installed with wine-1.3.24-1.1.x86_64.rpm from http://download.opensuse.org/repositories/Emulators:/Wine/openSUSE_11.3/",246,"0"
"WINEHQ_APPS_DATABASE-40394","Winehq.org website improvements not added to AppDB.","There have been many Winehq.org website improvements lately such as a nicer search bar and more modern navigation buttons that have not been added to AppDB.",235,"0"
"WINE-2272","Soldier of Fortune  and Soldier of Fortune II have no sound","Both these games run under Wine CVS (latest try was 6/5/2004) but have no wound
with wineoss driver.  With winealsa driver all you get is pops and clicks.

The game was started from a terminal window with wine sof.exe or wine sof2.exe
while in the game's home directory.  I did notice that if I alt-tab while in the
game and select the terminal window the game was started in I could hear noise.

These have not worked with wine since at least January.",1250,"1"
"WINE-23754","Kintecus: missing ipconfig.exe","Created attachment 29769
kintecus missing ipconfig.exe output when trying to generate ID

Kintecus creates a 'unique computer ID' which you need for the program to run. this is created when the program starts for the first time. at this point it crashes in wine with the following output:

wine: cannot find LC:\\windows\\system32\\ipconfig.exe
File not found

(see the attachment for the complete output)

essentially it is not missing 'ipconfig.exe' but it's output i.e. it doesn't use 'ipconfig.exe' to make changes but only to gather information about your machine.

a solution was provided here:
http://forum.winehq.org/viewtopic.php?p=46634#46634

essentially a fake but executable 'ipconfig.exe' is set up that echoes the normal output of the real ipconfig.exe. 



other information: wine version 1.2rc7 mac OS X 1.6 kintecus 3.96",26,"0"
"WINE-TESTBOT-32354","testbot: A crashing test is not detected","A 64bit test crashed on all 64bit testbot machines
but the summary has 0 as Number of failures.

Test run for the broken patch:
http://testbot.winehq.org/JobDetails.pl?Key=22963&log_301=1#k301

Later test:
http://testbot.winehq.org/JobDetails.pl?Key=23106&log_302=1#k302

(I send a fix for the broken code in wine in some minutes)

-- 
By by ... Detlef",1922,"1"
"WINE-2331","IE 6.1 unstable starting with 20040615","IE 6.1 is stable up until 20040505.  Starting with 20040615 on two machines it
locks up on silly stuff(even just typing in a url sometimes)",460,"0"
"WINE-8214","Swat 2 blocky screen","When trying to play swat 2 it draws the windows with black blocks on the screen.",542,"0"
"WINE-2673","Bad colors in game Heroes Of Might and Magic IV","Heroes of Might and Magic IV version 3.0c have big problem with color palette
(?] in game map. This problem exists in newest Wine versions 20041201 and
20050111 in older versions of Wine this game worked without this problem only
with some minor problems in sound and graphics. In newest versions of Wine works
faster without sound problems but with this problem is not playable.

Color in game map are wrong in big rectangle in center of map and all minimap
in right upper corner. Arround this rectangle are color good under cursor too.

I thing this can be bug in any DirectX feature implemented to two last versions.

Now i tested Wine and this game at my desktop with Gentoo graphics resolution
1280x1024 24bit (nVidia GeForce 2Ti driver version 1.0.6629 XFree 4.3.0.1
kernel 2.6.9 vanilla).

I can send screenshot if you need.",224,"0"
"WINE-28496","From Dust (Steam) crashes after loading screen","Created attachment 36557
log with page fault WINEDEBUG=+tid

Much of the Ubisoft DRM has been removed in a From Dust update allowing the game to start in Offline Mode sidestepping bug #28119.  The game launches displays a logo and then spins on a loading screen for some seconds before crashing.",953,"1"
"WINE-26114","gdi32/mapping tests shows a couple memory leaks in valgrind","12 bytes in 1 blocks are definitely lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  WineEngCreateFontInstance (freetype.c:3546)
    by  FONT_SelectObject (font.c:542)
    by  SelectObject (gdiobj.c:1114)
    by  DC_UpdateXforms (dc.c:331)
    by  SetMapMode (mapping.c:189)
    by  test_world_transform (mapping.c:190)
    by  func_mapping (mapping.c:724)
    by  run_test (test.h:556)
    by  main (test.h:624)

...

 12 bytes in 1 blocks are definitely lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  WineEngCreateFontInstance (freetype.c:3546)
    by  FONT_SelectObject (font.c:542)
    by  SelectObject (gdiobj.c:1114)
    by  DC_UpdateXforms (dc.c:331)
    by  SetWorldTransform (dc.c:1257)
    by  test_gettransform (mapping.c:671)
    by  func_mapping (mapping.c:728)
    by  run_test (test.h:556)
    by  main (test.h:624)",8,"0"
"WINE-15990","Rhapsody 4 crashes when trying to play a local .mp3 file","A user in
http://real.lithium.com/real/board/message?board.id=InstallingRhapsody&message.id=34091#M34091
asked about Rhapsody so I did a little QA on it.

The installer/upgrade crash in bug 15981 doesn't seem
to keep the app from working.  It can scan your music
directories just fine.  But when I tried using it to
play an .mp3 it failed.  Here's one crash error I saw
with the latest git and warn+heap (since I saw some heap
errors in wine from a few days ago):

fixme:msimtf:ActiveIMMApp_OnDefWindowProc Stub (0x100ca 1c 0 0)
fixme:shdocvw:navigate_bsc Navigation canceled
Unhandled exception: page fault on read access to 0x2d28a631 in 32-bit code
Backtrace:
=>1 DocHost_Release+0x22(This=0x51691e4) [dlls/shdocvw/dochost.c:534] in shdocvw
  2 WebBrowser_Release+0x5c(iface=) [dlls/shdocvw/webbrowser.c:155] in shdocvw
  3 HlinkFrame_Release+0x15(iface=0x5169174) [dlls/shdocvw/navigate.c:803] in shdocvw
  4 nsChannel_AsyncOpen+0x481(iface=0x5178658 aListener=0x52922e8 aContext=(nil)) [dlls/mshtml/nsio.c:154] in mshtml
...
  12 in docshell (+0x241f)
  13 in xpcom_core (+0x30812)
DocHost_Release+0x22 [dlls/shdocvw/dochost.c:534] in shdocvw: call       *0x8(%eax)
534             IDispatch_Release(This->client_disp)",1624,"1"
"WINE-33899","Mouse moves screen in fullscreen.","Hello Everyone

There is a problem with fullscreen when not in emulated desktop that
causes the mouse to be able to move the screen. I tested the demo of
Teenage Mutant Ninja Turtles and it has this issue. This also effects
Devil May Cry 3 and other games.",1369,"1"
"WINE-36774","Adobe Creative Cloud: Adobe Application Manager crashes after signing in","Created attachment 48836
Error details

When I try to install adobe dreamweaver cc (but also other version) precisely when I click: install or try then Adobe asks me to sign in and then wine gives me an error saying something like (I translated it from italian): the PDapp.exe programm has encountered an error and has to be closed then I click show details and the result is reported in the attachment.

Can you help me?

Thank you",72,"0"
"WINE-21998","FIFA 2010 crashes on start","Created attachment 26725
crashlog (default WINEDEBUG)

FIFA 2010 crashes on start (see log below)",452,"0"
"WINE-36227","Salammbo: invisible mouse pointer in the menus","Created attachment 48367
terminal output

The game's custom mouse pointer doesn't show up in the menus it is invisible.

A regression from 1.7.11:

adf0ab2ad889c7c6bcda484edfde9a431f829b08 is the first bad commit
commit adf0ab2ad889c7c6bcda484edfde9a431f829b08
Author: Stefan Dsinger 
Date:   Tue Jan 14 13:59:23 2014 +0100

    wined3d: Give the DIB section its own location.

:040000 040000 d47e627aba900e5bf8efc446554f5ca33af06ddf bc1f482e29904fcd5994b94e6ff63500c8f4404c M	dlls

Fedora 20
Nvidia binary drivers 337.12
X.Org X Server 1.14.4",5,"0"
"WINE-10124","Turok doesn't see D3D Compatible Adapter.","Created attachment 8692
Console output.

Some apps (game Turok - for example) refuse too run because they don't see any D3D device - Turok give me the message: No 3D accelerated hardware cards or drivers found. In the attachment you will find everything from the console. This bug does not occurs in Cedega (game see the D3D Device) so this is wine's problem. I've tested it with wines from 0.9.15 to 0.9.47 - and this error is always present.",419,"0"
"WINE-13521","liveusb-creator-2.5 unable to load win32file.pyd [dogfood]","Created attachment 13451
Generated log file

https://fedorahosted.org/liveusb-creator

Version 2.5 of the liveusb-creator tool created by the Fedora Project for Windows does not run.  I tried this on a lark expecting a fully functional GUI and errors detecting USB drives- instead it exits immediately displaying a dialog to the screen informing the user of the existance of a logfile detailing the error (attached.)",25,"0"
"WINE-38694","Waldorf Spectre crashes when clicking on buttons in the user interface","Created attachment 51617
terminal output

The application starts properly in wine-1.7.44-83-g9ce9ba3 although fonts look ugly with built-in dwrite.dll.
The crash reported here is fully reproducible on my system it's just a matter of time and tries when it happens.

Steps to reproduce the crash:
1. click the  button
2. click the  button (no need to change anything just close the window)

Repeat the above steps until the application crashes. Sometimes it takes only 2-3 tries other times it needs 8-10 attempts to reproduce the crash.

Disabling dwrite makes the crash go away.

Fedora 21 x86
wine-1.7.44-83-g9ce9ba3

Spectre-installer.exe
sha1: d384dd2f904377d8b6f2dde3d2b45fbed9a29958",7,"0"
"WINE-31566","Fallout 3: regression causes block at critical section when radio is enabled","I recently decided to go back and finish Fallout 3 and I discovered a regression when the radio is enabled:
err:ntdll:RtlpWaitForCriticalSection section 0x1e0f60 renderer.c: BaseRenderer.csRenderLock wait timed out in thread 0009 blocked by 0025 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x1e0e10 dsoundrender.c: DSoundRenderImpl.csFilter wait timed out in thread 0025 blocked by 0009 retrying (60 sec)

It's worth noting that this was rather hard to track down as the problem does not occur immediately so attempting to reproduce this requires some patience.  Anyway regression testing results are:
54eafc73e51666c3edf9fa78a0534ea7b1fa23c9 is the first bad commit
commit 54eafc73e51666c3edf9fa78a0534ea7b1fa23c9
Author: Aric Stewart 
Date:   Mon Apr 2 07:52:08 2012 -0500

    strmbase: Implement renderer quality control into the base renderer.

:040000 040000 6f88eb37386f4c2aed6e0ba842cca351f91b55ce 019588c74722acabbe36f65f3844aeb9f59639b5 M	dlls
:040000 040000 93eb4271ec29bde5578982a4d5def889cc9494c2 66d9dcda84911b46c7504052be195d7cf5448e1c M	include",711,"0"
"WINE-7401","Right-click menu on OWA does not work","When right-clicking messages in Outlook Web Access nothing happens in the IE
window. In the console this line is printed (if it helps...)

fixme:hook:IsWinEventHookInstalled (32773)-stub!",490,"0"
"WINE-3769","photodex plug in or self contained exe's uses 100% CPU","Photodex is a slide show presenter which allows zooms pans and fades in sync
with a music track. Testing done under win98 and wine cvs using  AMD 2.5Ghz 333
Mhz fsb  ll in one mother board  with 1 GB ddr. 

Install firefox for windows in wine. Visit the url and install the plug in. When
the plug in is active running or paused the processes wine-preloader X and
wineserver use 100% of the CPU. This results in choppy audio in ALSA config and
large blocks of static using OSS.

When running on same hardware on win98 and using system monitor these are the
numbers I get.
Boot
Kernel processor Usage 5%
Kernel Threads 31%

Firefox
Kernel processor Usage 5%
Kernel Threads 41%

Firefox with plug in loaded before running	
Kernel processor Usage 42%
Kernel Threads 46%

Running in window on firefox.
Kernel processor Usage peaks at 75%
Kernel Threads 46%

Full screen mode (right click menu) 1024x768 
Kernel processor Usage peaks at 90%
Kernel Threads 46%

This may be just that the thread switching overhead with the debug calls pushes
the cpu use to the limit of my hardware but a guess is the threading
model/method used is not meshing with wine implementation.",1120,"1"
"WINE-15576","Adobe Dreamweaver 8: Next link in Help doesn't work","This is the next problem after the now-solved bug 8920.

Basic help now works.  The Previous and Next links on many
help pages don't work they just blank out the content pane.

(And if you play around with it long enough it tends
to lose its marbles and say HTML rendering
currently disabled in the content pane.
This persists until you restart Dreamweaver
closing and reopening the Help window doesn't um help.
Also the Search tab is blank doesn't work at all.
But maybe those deserve their own bug reports.)

See http://wiki.winehq.org/AdobeDreamweaver for filename sha1 sum etc.",1320,"1"
"WINE-28217","Worms Armageddon frontend palette rapidly flickers between normal and messed up","Created attachment 36137
The messed-up palette.

This worked in 1.3.25. WA did not work at all in 1.3.26 producing an error message on startup.

In 1.3.27 Worms Armageddon's frontend flicks between having a messed up palette and having a normal palette on many screens. It's still usable but very uncomfortable. Ingame appears unaffected.

Presumably also affects Worms World Party but that is much harder to get working under wine.



I've fiddled with WA's own palette bug workaround settings (designed for working around palette issues in Windows Vista and later) all to no effect.

All the usual wine workarounds are enabled in WA (most notably the Use desktop window workaround which is required to actually be able to see the frontend).


Configuration of WA has not changed from 1.3.25 when it worked.

I have attached a screenshot of one of the (many? I don't know it's hard to tell) messed up states the palette gets in.",79,"0"
"WINE-13818","Yahoo! Messenger 9.0 beta installer crashes in ntdll when changing window focus","Created attachment 13865
Yahoo! Messenger installer backtrace

With Wine version wine-1.0-rc4-29-g035f1dd after the installer finishes downloading installation files if I change the focus between the installer window and another window around the 6% mark the installer crashes in HEAP_CreateFreeBlock in ntdll. If I do not remove focus from the installer window during the installation no crashes occur. Backtrace is attached.",199,"0"
"WINE-22782","Battlefield 1942: missing some textures inside vehicles","Created attachment 28110
screenshot of missing textures at top of screen and at bottom

Somewhere maybe around 1.1.38 this was working but now the textures of the inside of vehicles eg tanks was correct now they are partly missing so that the ground and sky can be seen. (see screenshot)

I should be able to complete a regression test in the next few days.

wine-1.1.44-322-g5cc00e8 geforce 8 195.36.15.",1875,"1"
"WINE-11636","eFax messenger terminates","eFax Messenger ran acceptably under 0.9.52 allowing for viewing and printing of local fax files.  However with 0.9.53 the application starts and then shortly after displaying the main window terminates.  This holds true with 0.9.54 and I have not yet tested with 0.9.55.  However reverting to 0.9.52 allows the application to run again.",4,"0"
"WINE-39092","Regression introduced with xaudio2_8","Created attachment 52084
Log of game crashing on git master

Game  fails to start after commit 929ab3e527b25bcfea375e4373230748868d8714. Reverting commit in git master fixes issue.",164,"0"
"WINE-34013","Altium Designer 10 and its installer crash in InternetQueryOptionW","After doing 'winetricks vd=1024x768' to work around bug 34012
continued with Altium Designer install.  Next problem was
it refused to accept my username and password.

+relay+seh+wininet showed that it was crashing in InternetQueryOptionW()
somehow.  The installer caught the crash so there was no backtrace but it
did give the address in the gui and said it was a read from NULL.
Passing that address to winedbg's disasm pointed to str_to_buffer().
The option it was retrieving was INTERNET_OPTION_PROXY_USERNAME 
evidently req->session->appInfo->proxyUsername was null.

This may be a regression introduced by the recent commit
bedf296a27d5689beb693637407829b0bd6d8a1c

The attached patch gets past this problem and on to the next.",19,"0"
"WINE-41381","Marvelous Designer 6 needs msvcp140.dll.?_Getcat@?$codecvt@DDU_Mbstatet@@@std@@SA_KPEAPEBVfacet@locale@2@PEBV42@@Z","Created attachment 55733
backtrace

Crashes on launch. Manjaro x86_64.

How to obtain it: http://www.marvelousdesigner.com/product/pricing -> 30 DAY FREE TRIAL!",4,"0"
"WINE-29984","Legend of Grimrock (test) crashes with Device can't render to D3DFMT_G16R16","Legend of Grimrock (an upcoming game) released a compatibility test to verify hardware.  This test fails on startup in Wine with a Device can't render to D3DFMT_G16R16 dialog.  It runs fine on the same computer running Windows XP.
I'm asking permission to redistribute the compatibility test so this can be confirmed by others.  The original release is no longer available as their testing has concluded.",42,"0"
"WINE-21494","wine(64) regedit foo.reg fails","Backtrace:
=>0 0x00007f0b7ab3cce1 read_i+0x20b() [/home/austin/64-wine-git/dlls/msvcrt/file.c:1779] in msvcrt (0x00007f0b7b3bee30)
  1 0x000000000000002c (0x00007f0b7b3bee30)
  2 0x00007f0b7da01660 in ld-linux-x86-64.so.2 (+0xd6660) (0x00007f0b7b3bee30)
  3 0x0000000000000200 (0x00007f0b7b3bee30)
  4 0x00007f0b7b3bee1c (0x00007f0b7b3bee30)
0x00007f0b7ab3cce1 read_i+0x20b [/home/austin/64-wine-git/dlls/msvcrt/file.c:1779] in msvcrt: Disasm NIY

1779	            if (bufstart[num_read-1] == '\r')


Changing num_read to DWORD_PTR fixes the crash but that causes compiler warnings. Probably an easy fix but my brain is tired...

P.S. easy to test with:
$ WINE=/path/to/64bit/wine sh winetricks nocrashdialog",7,"0"
"WINE-3668","wine crash with app orcad","With the application OrCAD wine crashes an the debugger is coming up. 
 
You can download a Demo here: http://www.orcad.com/download.orcaddemo.aspx 
 
(component guessed)",227,"0"
"WINE-18504","ToolTip doesn't hide","Created attachment 21148
ToolTip doesn't hide

After hover some widgets which displays tooltips they doesn't hide... Just take a look at the attached picture...",79,"0"
"WINE-29682","tcpanalyzer from Windows Platform SDK 7.1 crashes due to unimplemented function IPHLPAPI.DLL.GetTcpTable2","Hello

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/Microsoft SDKs/Windows/v7.1/Bin
...
$ wine ./tcpanalyzer.exe 
fixme:actctx:parse_manifest_buffer root element is L?Copyright not 
wine: Call from 0x7bc4bd9a to unimplemented function IPHLPAPI.DLL.GetTcpTable2 aborting
wine: Unimplemented function IPHLPAPI.DLL.GetTcpTable2 called at address 0x7bc4bd9a (thread 0024) starting debugger...
--- snip ---

Regards",3,"0"
"WINE-8302","Transparent backgrounds of text-labels in Ragnarok Online","I've tested this only on the character selection screen but it appears that a
text label's background goes transparent after 16 updates of text after the
initial draw.

Although this seems like it might only be cosmetic it does actually make some
things difficult.

Connect to server hit left or right 16 times all of the text labels have no
background anymore it appears to like corrupt the background of whatever's
underneath it.. making the dialog have a hole in it basically.

Screenshot will be attached.",926,"1"
"WINE-23884","Bioshock 1.0 crashes at startup","The log shows
               
fixme:d3dx:D3DXCompileShader (0x73ba1c 1182 (nil) (nil) VSMain vs_3_0 0 0x73ba08 (nil) (nil)): stub                  
wine: Unhandled page fault on read access to 0x20202030 at address 0x10b64ab4 (thread 001c) starting debugger...   

winetricks d3dx9_36 makes the problem go away.  None of this is surprising
except that I could have sworn this game was working without this at one point...
I did notice one funny thing: at the end of the install it complained
that bioshock.exe couldn't run because it needed msvcp80.dll.  Perhaps 
that caused it not to run some bundled directx9 installer.",1182,"1"
"WINE-7743","iTunesSetup 7.1.0.59 installer crashed","iTunesSetup.exe version 7.1.0.59 crashed during execution of installation scripts.",306,"0"
"WINE-31893","Portable Calibre does not run at all (python2.7)","Created attachment 41979
Back trace file

When I try to run Portable Calibre it crash with the attached back trace",191,"0"
"WINE-37018","Viber crashes when trying to make a video call","Created attachment 49186
Crash log

I have just installed Wine from the Program administration menu.
After this I installed Viber for Windows as I have only a 32 bit system.
My PC is an ACER ONE model KAV60
Writing Viber message is working fine.

/ Henning",412,"0"
"WINE-41642","S3CC921 programmer app needs ntoskrnl.exe.KeSetTimerEx","Created attachment 56017
Programmer S3CC921 chips (such as Xerox 3140/ml-1910 Xerox WC3210/SCX-4824fn etc.)

     S3CC921         Windows XP/2003  ReactOS 0.4.2     Wine

     

--
In the attachment lies with the programmer S3CC921 it should be noted that this programmer successfully works on Windows XP/2003 and ReactOS 0.4.2 but refuses to work in Wine

The report obtained by crash

--

Unhandled exception: unimplemented function ntoskrnl.exe.KeSetTimerEx called in 32-bit code (0x7b43c326).
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:0033 GS:003b
 EIP:7b43c326 ESP:0063e714 EBP:0063e788 EFLAGS:00000216(   - --  I   -A-P- )
 EAX:7b429229 EBX:00000004 ECX:0063e734 EDX:0063e7b8
 ESI:7ed475c0 EDI:001123ac
Stack dump:
0x0063e714:  7bcd8000 00000000 0063ef4c 80000100
0x0063e724:  00000001 00000000 7b43c326 00000002
0x0063e734:  7ed475c0 7ed4a2a4 7bc3ed27 7ed4fb6e
0x0063e744:  0063e7c0 7ed6bae5 7ed50798 7ed4fb1f
0x0063e754:  0063e7d0 7bc3ecf1 b76f2000 00000000
0x0063e764:  7ed6bae4 0063e7a8 b7554410 00000000
Backtrace:
=>0 0x7b43c326 in kernel32 (+0x1c326) (0x0063e788)
  1 0x7ed4757f in ntoskrnl (+0x1757e) (0x0063e7c8)
  2 0x7ed39e91 in ntoskrnl (+0x9e90) (0x0063e818)
  3 0x00741843 in i2cdrv.sys (+0x1842) (0x0063e818)
  4 0x7effb5f4 in winedevice (+0xb5f3) (0x0063e868)
  5 0x7ed40fc0 IoCreateDriver+0x32f() in ntoskrnl (0x0063e8d8)
  6 0x7effc00d in winedevice (+0xc00c) (0x0063e958)
  7 0x7bc8ecf0 in ntdll (+0x7ecef) (0x0063e9f8)
  8 0x7bc7fdec call_thread_func_wrapper+0xb() in ntdll (0x0063ea18)
  9 0x7bc82c4f call_thread_func+0xde() in ntdll (0x0063eaf8)
  10 0x7bc7fdca RtlRaiseException+0x21() in ntdll (0x0063eb18)
  11 0x7bc8a93f in ntdll (+0x7a93e) (0x0063f368)
  12 0xb75020f6 start_thread+0xc5() in libpthread.so.0 (0x0063f428)
  13 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  14 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  15 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  16 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  17 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  18 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  19 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  20 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  21 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  22 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  23 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  24 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  25 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  26 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  27 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  28 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  29 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  30 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  31 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  32 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  33 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  34 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  35 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  36 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  37 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  38 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  39 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  40 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  41 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  42 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  43 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  44 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  45 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  46 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  47 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  48 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  49 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  50 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  51 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  52 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  53 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  54 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  55 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  56 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  57 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  58 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  59 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  60 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  61 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  62 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  63 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  64 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  65 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  66 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  67 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  68 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  69 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  70 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  71 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  72 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  73 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  74 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  75 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  76 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  77 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  78 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  79 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  80 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  81 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  82 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  83 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  84 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  85 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  86 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  87 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  88 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  89 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  90 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  91 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  92 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  93 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  94 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  95 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  96 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  97 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  98 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  99 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  100 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  101 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  102 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  103 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  104 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  105 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  106 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  107 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  108 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  109 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  110 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  111 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  112 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  113 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  114 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  115 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  116 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  117 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  118 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  119 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  120 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  121 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  122 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  123 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  124 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  125 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  126 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  127 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  128 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  129 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  130 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  131 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  132 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  133 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  134 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  135 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  136 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  137 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  138 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  139 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  140 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  141 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  142 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  143 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  144 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  145 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  146 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  147 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  148 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  149 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  150 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  151 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  152 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  153 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  154 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  155 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  156 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  157 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  158 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  159 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  160 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  161 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  162 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  163 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  164 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  165 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  166 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  167 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  168 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  169 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  170 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  171 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  172 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  173 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  174 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  175 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  176 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  177 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  178 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  179 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  180 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  181 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  182 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  183 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  184 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  185 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  186 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  187 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  188 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  189 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  190 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  191 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  192 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  193 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  194 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  195 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  196 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  197 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  198 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  199 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
  200 0xb74528ce __clone+0x6d() in libc.so.6 (0x00000000)
0x7b43c326: addl	$12%esp
Modules:
Module	Address			Debug info	Name (24 modules)
PE	  740000-  742820	Export          i2cdrv.sys
ELF	7b400000-7b7e1000	Dwarf           kernel32
  \-PE	7b420000-7b7e1000	\               kernel32
ELF	7bc00000-7bcf5000	Dwarf           ntdll
  \-PE	7bc10000-7bcf5000	\               ntdll
ELF	7c000000-7c004000	Deferred        
ELF	7ec9e000-7ed1e000	Deferred        rpcrt4
  \-PE	7ecb0000-7ed1e000	\               rpcrt4
ELF	7ed1e000-7ed6d000	Dwarf           ntoskrnl
  \-PE	7ed30000-7ed6d000	\               ntoskrnl
ELF	7ed6d000-7ede4000	Deferred        advapi32
  \-PE	7ed80000-7ede4000	\               advapi32
ELF	7ede4000-7edf7000	Deferred        libnss_files.so.2
ELF	7ef75000-7efc9000	Deferred        libm.so.6
ELF	7efd0000-7efe9000	Deferred        hal
  \-PE	7efe0000-7efe9000	\               hal
ELF	7efe9000-7f000000	Dwarf           winedevice
  \-PE	7eff0000-7f000000	\               winedevice
ELF	b737c000-b7381000	Deferred        libdl.so.2
ELF	b7381000-b74fc000	Dwarf           libc.so.6
ELF	b74fc000-b7518000	Dwarf           libpthread.so.0
ELF	b754f000-b7706000	Dwarf           libwine.so.1
ELF	b7707000-b772b000	Deferred        ld-linux.so.2
ELF	b772b000-b772c000	Deferred        [vdso].so
Threads:
process  tid      prio (all id:s are in hex)
00000008 wineconsole.exe
	00000009    0
0000000e services.exe
	0000005f    0
	00000058    0
	00000055    0
	00000054    0
	0000001e    0
	00000014    0
	00000010    0
	0000000f    0
00000012 winedevice.exe
	00000024    0
	00000019    0
	00000018    0
	00000013    0
0000001c plugplay.exe
	00000021    0
	00000020    0
	0000001d    0
00000027 explorer.exe
	00000031    0
	0000002d    0
	0000002c    0
	0000002b    0
	00000028    0
00000048 cmd.exe
	00000049    0
0000004c chip921.exe
	0000004d    0
00000056 (D) C:\windows\system32\winedevice.exe
	0000005d    0
	0000005c    0 <==
	0000005b    0
	0000005a    0
	00000057    0
System information:
    Wine build: wine-1.9.22
    Platform: i386
    Version: Windows XP
    Host system: Linux
    Host version: 3.14.79-std-def-alt0.M70P.1",5,"0"
"WINE-21555","Foobar2000 crashes when trying to open containing folder of a file (needs SHELL32.dll.SHOpenFolderAndSelectItems stub)","Created attachment 25969
Output during the crash

Whenever a file in the playlist is right-clicked and the option open containing folder is chosen Foobar2000 crashes.",471,"0"
"WINE-31460","Listview LVS_EX_GRIDLINES paints thick gridlines in lists with >3855 items","I have an application that displays very long list views. The application uses the LVS_EX_GRIDLINES style to draw gridlines between rows/columns.

There appears to be a bug in Wine: the further down I scroll the thicker the horizontal gridlines get. At some point the gridlines become so thick that they obscure the whole content of the list view (gridlines4.png). However the content is still temporarily visible while Wine is busy redrawing the list view (which takes maybe a hundred milliseconds)

The first thick gridline (2 pixels high) always appears between the 3855th and 3856th items.

Using wine 1.5.10 on Arch Linux x86_64 (32-bit Windows application)

Unfortunately the application is proprietary and can't be used with an accompanying server. If you need help reproducing this issue I can try writing a simple test case.",49,"0"
"WINE-22451","Polybius crashes while loading a new game.","Created attachment 27500
default output + backtrace

Download the game after about 20 seconds of loading it will crash.
Tested with wine-1.1.43-191-g7614656.",694,"0"
"WINE-30563","WinBuilder v082: Error Invalid floating point operation. occuring when running application.","Created attachment 39985
Error log.

See attached Error log.",1,"0"
"WINE-14944","Mission planning menu in Raven Shield is not drawn correctly","Created attachment 15547
Planning menu

When first entered the mission planning menu is not drawn correctly as shown in the attached image it's flashing and showing random images from the game. I can see some hints of the buttons in menu during flashing but no cursor.

If I go back from the game to planning it seems to work.

I have no information if this has been working previously in 2004 when the game was first imported to appdb.

The single player also suffers from this problem (Custom Mission -> Practice Misson) and is downloadable from:
http://www.fileshack.com/file.x?fid=2382

I have the Nvidia binary drivers version legacy-96xx and have GeForce 7600GT if it's related.",747,"0"
"WINE-12859","HideThreadFromDebugger in NtSetInformationThread","Created attachment 12555
Add HideThreadFromDebugger to winternl.h and to NtSetInformationThread

This API exists in the windows NtSetInformationThread for some reason.

The sensible thing to do in wine here seems to be to just ignore this call.

Patch attached is against 0.9.60.",526,"0"
"WINE-25346","JASC PSP 8 fails to install","I have Ubuntu lucid and trying to install Paint Shop Pro 8 on my system. I do Applications>Wine>Wine configuration>Add application (psp8 ev in my case). I choose Windows XP as Windows version and [ok]. Nothing happens.
So I go to the user/.wine dir and I try to install psp by clicking it from there.
An installer appairs and asks me to remove/repair/modify my previous attempt to install that damned software. First I try repair but Wine stops me warning about a failure in msiexec.exe.",931,"1"
"WINE-18160","Compile broken in dlls/iphplpapi/ipstats.c on NetBSD 5.0","Created attachment 20626
hack

gcc -c -I. -I. -I../../include -I../../include  -D__WINESRC__  -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -Wdeclar
ation-after-statement -Wwrite-strings -Wpointer-arith -I/usr/pkg/include -I/usr/include -I/usr/X11R7/include/freetype2 -I/u
sr/X11R7/include -O2 -I/usr/pkg/include -I/usr/include -I/usr/X11R7/include/freetype2 -I/usr/X11R7/include  -o ipstats.o ip
stats.c
ipstats.c: In function 'GetIcmpStatistics':
ipstats.c:496: error: storage size of 'icmp_stat' isn't known
ipstats.c:496: warning: unused variable 'icmp_stat'
ipstats.c: In function 'GetIpStatistics':
ipstats.c:663: error: storage size of 'ip_stat' isn't known
ipstats.c:663: warning: unused variable 'ip_stat'
ipstats.c: In function 'GetTcpStatistics':
ipstats.c:816: error: storage size of 'tcp_stat' isn't known
ipstats.c:816: warning: unused variable 'tcp_stat'
ipstats.c: In function 'GetUdpStatistics':
ipstats.c:922: error: storage size of 'udp_stat' isn't known
ipstats.c:922: warning: unused variable 'udp_stat'
*** Error code 1

Attached patch hacks around it. Need to investigate a proper fix.",1146,"1"
"WINE-9382","Fotobuch Designer installer has a cow when installing fonts","A user reported in
http://groups.google.com/group/alt.os.linux.mandrake/msg/39367fb8618665e0
that Fotobuch Designer's installer showed error dialogs
while installing fonts.  I reproduced this with current git.
It seems that the app puts fonts in %WINDIR%/Fonts and then
calls AddFontResource with just the font's filename no
pathname and Wine prepended %WINDIR%/System to make an
absolute path.  Googling around I saw some evidence in
http://support.installshield.com/kb/view.asp?pcode=ALL&articleid=Q100057
that Windows' behavior changed over the years and
this app is relying on the older behavior.",149,"0"
"WINE-28148","Neuro Hunter: certain effects are invisible","Created attachment 36068
plain terminal output

Description: at the beginning of the game you encounter some mutants which are spitting green cloud-like acid at you. That cloud of acid is invisible when running the game under Wine.
You can only notice that something hit you by the red blood effect and by the fact that your HP is decreasing.

Steps to reproduce the issue in the demo:
1) Install the demo as usual. Launch it by NeuroHunter.exe
2) Start a new game from the menu. You can skip the conversation with the NPC by pressing . Leave the cave at the intersection turn left and follow the shaft leading to a room occupied by two lizard-like creatures. Engage them...they will answer with heavy spitting.

According to my tests Wine-1.3.22 is the first version which is able to start the game (without crashing) and the problem is already there.

I don't have Windows installed so I can't show you a picture of the correct behaviour. 
In this video @3:15 you can see what that green cloud should look like:
http://www.youtube.com/watch?v=iL8eTEC6SWw

Fedora 15 x86
Nvidia GeForce 250 / driver 280.13",1399,"1"
"WINE-30715","DVDFlick 1.3.x fails on startup with automation error (needs Scripting.Dictionary Exists method implementation)","Hello

now that Scripting.FileSystemObject is present (bug 29344) it runs further but still complains on startup.

--- snip ---
...
0024:Call ole32.CoCreateInstanceEx(004190b0000000000000000500000000000000040032f7f0) ret=660e3937
0024:trace:ole:CoCreateInstance (rclsid={ee09b103-97e0-11cf-978f-00a02463e06f} pUnkOuter=(nil) dwClsContext=00000005 riid={00000000-0000-0000-c000-000000000046} ppv=0x32f708)
...
0024:trace:ole:apartment_getclassobject found LC:\\windows\\system32\\scrrun.dll already loaded
0024:trace:ole:apartment_getclassobject calling DllGetClassObject 0x7e3bb7a0
0024:Call scrrun.DllGetClassObject(004190b07eac550c0032f69c) ret=7e9e5c12
0024:fixme:scrrun:DllGetClassObject {ee09b103-97e0-11cf-978f-00a02463e06f} {00000001-0000-0000-c000-000000000046} 0x32f69c
0024:Ret  scrrun.DllGetClassObject() retval=80040111 ret=7e9e5c12
0024:err:ole:apartment_getclassobject DllGetClassObject returned error 0x80040111 
...
0024:err:ole:create_server class {ee09b103-97e0-11cf-978f-00a02463e06f} not registered
0024:err:ole:CoGetClassObject no class object {ee09b103-97e0-11cf-978f-00a02463e06f} could be created for context 0x5
0024:Ret  ole32.CoCreateInstanceEx() retval=80040152 ret=660e3937
...
0024:Call KERNEL32.RaiseException(c000008f00000001000000020032f7e4) ret=660d0956
0024:trace:seh:raise_exception code=c000008f flags=1 addr=0x7b8393ff ip=7b8393ff tid=0024
0024:trace:seh:raise_exception  info[0]=deadcafe
0024:trace:seh:raise_exception  info[1]=deadcafe
0024:trace:seh:raise_exception  eax=7b826429 ebx=7b8b06b0 ecx=deadcafe edx=0032f70c esi=0032f7e4 edi=0032f760
0024:trace:seh:raise_exception  ebp=0032f748 esp=0032f6e4 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000287
0024:trace:seh:call_stack_handlers calling handler at 0x403be6 code=c000008f flags=1
...
0024:trace:variant:VarBstrCat LAn error occured during startup. Number -2147221166 from dvdflick:\r\nAutomation error\r\nLast DLL error: 0 
--- snip ---

Scripting.Dictionary is the friendly name of CLSID {EE09B103-97E0-11CF-978F-00A02463E06F}

'winetricks -q wsh57' works around.

Regards",1018,"1"
"WINE-26070","user32/class tests show some valgrind warnings","Invalid read of size 2
    at  RtlImageNtHeader (loader.c:2508)
    by  RtlImageDirectoryEntryToData (loader.c:2684)
    by  find_entry (resource.c:189)
    by  LdrFindResource_U (resource.c:303)
    by  find_resourceW (resource.c:139)
    by  FindResourceExW (resource.c:183)
    by  FindResourceW (resource.c:192)
    by  LoadMenuW (menu.c:4359)
    by  WIN_CreateWindowEx (win.c:1372)
    by  CreateWindowExA (win.c:1550)
    by  check_instance_ (class.c:266)
    by  test_instances (class.c:441)
    by  func_class (class.c:995)
    by  run_test (test.h:556)
    by  main (test.h:624)
  Address 0x12345678 is not stack'd malloc'd or (recently) free'd

...

 28 bytes in 1 blocks are definitely lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  DIALOG_get_info (defdlg.c:335)
    by  DIALOG_CreateIndirect (dialog.c:669)
    by  CreateDialogIndirectParamAorW (dialog.c:755)
    by  CreateDialogIndirectParamA (dialog.c:764)
    by  CreateDialogParamA (dialog.c:729)
    by  CreateDialogParamTest (class.c:878)
    by  func_class (class.c:990)
    by  run_test (test.h:556)
    by  main (test.h:624)

...

 42420 bytes in 21 blocks are possibly lost 
    at  notify_alloc (heap.c:254)
    by  RtlAllocateHeap (heap.c:1701)
    by  get_tls_data (test.h:240)
    by  winetest_set_location (test.h:275)
    by  check_instance_ (class.c:263)
    by  thread_proc (class.c:292)
    by  ??? (signal_i386.c:2473)
    by  call_thread_entry_point (signal_i386.c:2499)
    by  start_thread (thread.c:404)
    by  start_thread (in /lib/libpthread-2.11.2.so)
    by  clone (in /lib/libc-2.11.2.so)",2865,"1"
"WINE-7447","Call  to unimplemented function shell32.dll.SHGetIconOverlayIndexA","A user submitted this application into AppDB. I gave it a try as well and it
pops up a messagebox with error while the line above is in the console. the app
is japanese so i cannot read any text. The bug is also triggered while trying
to choose open from the menu",504,"0"
"WINE-11117","Youtube Downloader crashes on unimplemented shdocvw.DoFileDownload","Guess the title says it all. The application is pretty useless because of this :(",2583,"1"
"WINE-31111","wmp9 install fails with builtin pidgen","Windows Media Player 9 installer complains
wine: Call from 0x7ece4712 to unimplemented function pidgen.dll.PIDGenSimpW aborting
with current wine.  
Overriding pidgen to native works around the problem.

Oddly even though builtin pidgen returns FALSE from DLL_WINE_PREATTACH the builtin dll is used by default?",602,"0"
"WINE-5979","Regression: Font problem with WINZIP","When unzipping a file with winzip font is replaced by strange characters (see
the attached screenshot). 

Here is the only one (!!) lines of the console output
fixme:font:WineEngCreateFontInstance just using first face for now

Joaopa",7,"0"
"WINE-14384","Can not install MSDN - installer crashes","Created attachment 14685
MSDN setup log

I can't install MSDN for Visual Studio 2005. Installer crashes after I press Next on the screen where you choose Full or Custom installation. Log is attached.",19,"0"
"WINE-32937","Freemake Video Converter: needs tasklist.exe","Trying to install Freemake Video Converter

http://www.freemake.com/free_video_converter/

 It tells me 

 Setup has detected that one or more of Freemake programs are currently running

Here is terminal output strace and screenshot",321,"0"
"WINE-8288","armymen crashes wine","When trying to launch Army Men the game crashes wine.",77,"0"
"WINE-16294","Activeworlds client 4.2 doesn't think IE is installed","Do winetricks mfc42 wininet to work around bug 16292
then launch the app.  It puts up the first dialog then an
alert saying 
 Unable to load web browser! This feature requires that Microsoft's Internet Explorer 3.0 or later be installed on your system...

One sees 
fixme:shdocvw:ViewObject_SetAdvise (0xe90c50)->(1 00000000 0xe907fc)
right before the problem.  I'll attach a +relay log.

You can work around this with winetricks ie6 which installs the real ie6.",2505,"1"
"WINE-32432",".NET 2.0 Framework SDK installer fails on builtin atl80.dll (.spec file contains entries with spelling errors)","Hello folks

found while installing .NET 2.0 Framework SDK ...

--- snip ---
err:module:find_forwarded_export function not found for forward 'atl100.AltCallTermFunc' used by LC:\\windows\\system32\\atl80.dll. If you are using builtin Latl80.dll try using the native one instead. 
--- snip ---

http://source.winehq.org/git/wine.git/blob/9abb9ffe91f034eb53f5788d915d5551a1b38eba:/dlls/atl80/atl80.spec#l50

These entries have spelling errors (AltXXX vs. AtlXXX):

--- snip ---
  49 62 stub AltWinModuleRegisterClassExW
  50 63 stub AltWinModuleRegisterClassExA
  51 64 stdcall AltCallTermFunc(ptr) atl100.AltCallTermFunc
  52 65 stub AltWinModuleInit
  53 66 stub AltWinModuleTerm
--- snip ---

Regards",1,"0"
"WINE-39309","Prism Video Converter v2.48 crashes on unimplemented function mfplat.dll.MFTEnum","Created attachment 52387
unimplemented function mfplat.dll.MFTEnum

wine-1.7.50

 Unhandled exception: unimplemented function mfplat.dll.MFTEnum called in 32-bit code (0x7b83bfee).

System information:
    Wine build: wine-1.7.50
    Platform: i386 (WOW64)
    Host system: Linux
    Host version: 3.16.0-38-generic

Linux mint 17.2",596,"0"
"WINE-5758","regression: wininet:FulltiltPoker crashes in wininet","The client used to run fine up to the point where it connects to the internet.
With current git it crashes immediately.",386,"0"
"WINE-25212","piwigo ploader can't connect to the net","Hello
I try to make an application to work in wine.

It's ploader an utility coming with the Piwigo photo gallery.

It seems to work but have to connect to the web to upload photos and this
don't works.

This windows program is available here:
http://fr.piwigo.org/ext/extension_view.php?eid=270

when launched from wine it first shows locales loading:
wine pLoader.exe 
fixme:msvcrt:MSVCRT__wsetlocale 0 LChinese_People's Republic of China.936
fixme:msvcrt:MSVCRT__wsetlocale 0 LEnglish_United States.1252
(....)
then:

fixme:msvcrt:MSVCRT__wsetlocale 0 LEnglish_United States.1252
fixme:msvcrt:msvcrt_fdtoh wtf
(several times)
fixme:msvcrt:MSVCRT__sopen : pmode 0x01b6 ignored
fixme:msvcrt:msvcrt_fdtoh wtf

it asks for the gallery URL then is issues an error message: can't connect to
xxxx:80 (unknown error). I can connect from windows or some variant of Linux
(there is a linux debian only version not working on my openSUSE).

Adding :80 after the URL gives the same result (http://dodin.org:80/piwigo)

there is an offline option and under this options the program works perfectly
so only the connect problem seems to forgive it's use

the programm is a perl application.
thanks
jdd",1008,"1"
"WINE-27156","Bioshock demo: mouse jumps around menu","Regression from 1.3.19:
fd4ad5a60433b8314dce684b9d52f43769cd5867 is the first bad commit
commit fd4ad5a60433b8314dce684b9d52f43769cd5867
Author: Alexandre Julliard 
Date:   Fri May 13 12:40:19 2011 +0200

    winex11: Don't use raw events for button events so that we get the right coordinates.

:040000 040000 d046b97119984a1e2a0591144ff6ed2bc15e3ea4 465eb2f383428394793525fde1d7f7934da0d08a M	dlls

the option in winecfg to allow fullscreen windows to grab the mouse makes no difference.

You can use the custom argument '-nointro' to skip the intro videos and get straight to the menu.",41,"0"
"WINE-29888","MPLAB 8 Logic Analyzer doesn't work","Created attachment 38866
Screenshot

The Logic Analyzer in MPLAB 8 doesn't work. To reproduce:

1. Open MPLAB IDE.
2. Click Debugger Select Tool MPLAB SIM.
3. Click Debugger Settings Trace All OK.
4. Click View Simulator Logic Analyzer.
5. Click Channels Add (it doesn't matter which channel you add) OK.

The Logic Analyzer window goes black and displays either Access violation at address X. Read of address Y or Out of memory.

Installing oleaut32.dll from Windows 98SE fixes the problem.

stderr shows the following:

fixme:ole:TLB_ReadTypeLib Header type magic 0x00905a4d not supported.
err:ole:TLB_ReadTypeLib Loading of typelib LC:\\Program Files\\Microchip\\MPLAB IDE\\Simulator\\MPLogicDisplay.dll failed with error 0

But I don't think this is the problem because ReadTypeLib is called by LoadTypeLibEx which returns TYPE_E_CANTLOADLIBRARY both with and without the native oleaut32.dll.",100,"0"
"WINE-10923","JDK 6 offline installer fails to display README contents","The JDK 6 offline installer jdk-6u3-windows-i586-p.exe
tries to display the README at the end via our embedded web browser
but nothing appears in the window it's blank.",414,"0"
"WINE-38719","64-bit ARM Windows applications from Windows SDK for Windows 10 crash when accessing TEB/PEB members (AArch64 platform specific register X18 must be reserved for TEB)","Hello folks

continuation of bug 38714

'mt.exe' runs further now but still crashes.

--- snip ---
...
0027:Starting process LZ:\\root\\wine\\64\\arm64\\mt.exe (entryproc=0x14010ca70)
0027:fixme:heap:RtlSetHeapInformation (nil) 1 (nil) 0 stub
0027:trace:seh:raise_exception  info[0]=0000000000000000
0027:trace:seh:raise_exception  info[1]=0000001200000268
0027:trace:seh:call_stack_handlers calling handler at 0x7fb0d6dbbc code=c0000005 flags=0
wine: Unhandled page fault on read access to 0x1200000268 at address 0x140056d50 (thread 0027) starting debugger...
0027:trace:seh:start_debugger Starting debugger winedbg --auto 38 64
fixme:ole:RemUnknown_QueryInterface No interface for iid {00000019-0000-0000-c000-000000000046}
...
Unhandled exception: page fault on read access to 0x1200000268 in 64-bit code (0x0000000140056d50).
Register dump:
ARM64 EL0t Mode
 Pc:0000000140056d50 Sp:0000007fafe9f5a0 Lr:00000001400e94d8 Pstate:0000000020000000(--C-)
 x0: 000000000000003e x1: 0000000000000000 x2: 000000000000003e x3: 0000007fafe9f5f8 x4: 0000000000000001
 x5: 0000007fb02900e8 x6: 0000007fb029af54 x7: 0000000000000002 x8: 0000000140140220 x9: 0000001200000238
 x10:0000000000000000 x11:0000000000000000 x12:0101010101010101 x13:0000000000000028 x14:ffffffffffffffff
 x15:0000007fafd49a08 ip0:0000007fb0d92268 ip1:0000007f53e999c0 x18:0000007fb0f619d0 x19:0000007fafe9f628
 x20:000000000000003e x21:0000007fb0290750 x22:0000007fafe9fbb8 x23:0000007fafe9f698 x24:0000007fb00cd000
 x25:0000007fb02908c0 x26:0000007fdd267d80 x27:0000007fdd267cf8 x28:0000007fb00e5000 Fp:0000007fafe9f5d0
Stack dump:
0x0000007fafe9f5a0:  0000007fafe9f5c0 0000007fb0d37378
0x0000007fafe9f5b0:  0000007fafe9f5c0 0000007fb0d37510
0x0000007fafe9f5c0:  0000007fc00000e5 0000007f53e999c0
0x0000007fafe9f5d0:  0000007fafe9f650 00000001400730b0
0x0000007fafe9f5e0:  0000000000000000 000000000000001c
0x0000007fafe9f5f0:  0000007f00000000 000000000000003e
0x0000007fafe9f600:  0000007fb02908c0 0000007fdd267d80
0x0000007fafe9f610:  0000007fdd267cf8 4010040140100401
0x0000007fafe9f620:  0000000000000006 0000000000000000
0x0000007fafe9f630:  0000000000000000 0000000000000000
0x0000007fafe9f640:  0000007fafe9f670 0000007f53e99a40
0x0000007fafe9f650:  0000007fafe9f6c0 0000000140073688
Backtrace:
=>0 0x0000000140056d50 in mt (+0x56d50) (0x0000007fafe9f5d0)
  1 0x00000001400e94d8 in mt (+0xe94d7) (0x0000007fafe9f5d0)
0x0000000140056d50: be_arm64_disasm_one_insn: not done

Modules:
Module	Address					Debug info	Name (52 modules)
ELF	          400000-          413000	Deferred        
PE	       140000000-       140170000	Export          mt
...
Threads:
process  tid      prio (all id:s are in hex)
...
00000026 (D) Z:\root\wine\64\arm64\mt.exe
	00000027    0 <==
--- snip ---

Since debugging is not possible as of now an offline analysis at the crash location:

--- snip ---
...
0000000140056D38  ADD        X8 X18 #0       X18 = NtCurrentTeb()?
0000000140056D3C  LDR        X9 [X8#0x60]    Teb->Peb
0000000140056D40  ADRP       X8 #0x140140000  imports segment (.idata)
0000000140056D44  ADD        X2 X0 #0        arg3 = size
0000000140056D48  ADD        X8 X8 #0x220    HeapAlloc
0000000140056D4C  MOV        W1 #0            arg2 = flags = 0
0000000140056D50  LDR        X0 [X9#0x30]    arg1 = Peb->ProcessHeap
0000000140056D54  LDAR       X9 [X8]
0000000140056D58  BR         X9                HeapAlloc()
--- snip ---

Essentially being:

HeapAlloc( GetProcessHeap() 0 size)

Further decoded:

HeapAlloc( ((NtCurrentTeb()->ProcessEnvironmentBlock)->ProcessHeap) 0 size)

I haven't found information on register X18 being used for TEB hence this is another guess.
There is no initialization of X18 in caller chain and even in the whole app code.
Running the whole .text segment through disas only reads through ADD and LDR instructions can be found.

Other information sources:

http://lists.cs.uiuc.edu/pipermail/llvm-commits/Week-of-Mon-20150119/254111.html

([llvm] r226664 - AArch64: add backend option to reserve x18 (platform register))

https://android.googlesource.com/platform/art/+/63206f3%5E!/

(AArch64: Fix the usage of Thread Register for arm64)

--- quote ---
This patch cleans-up the usage of x18 as TR for Arm64. As described in
the Arm64 Procedure Call Standard the recommended usage for x18 is to
carry inter-procedural state (i.e. ART thread information).
...
--- quote ---

https://stackoverflow.com/questions/28109826/arm64-using-gas-on-ios

--- quote ---
X0-X7 - arguments and return value (volatile)
X8 = indirect result (struct) location (or temp reg)
X9-X15 = temporary (volatile)
X16-X17 - intro-call-use registers (PLT Linker) or temp
X18 - platform specific use (TLS)
X19-X28 - callee saved registers (non-volatile)
X29 - frame pointer
X30 - link register (LR)
SP - stack pointer and zero (XZR)
V0-V7 V16-V31 - volatile NEON and FP registers
V8-V15 - callee saved registers (non-volatile used for temp vars by compilers)
--- quote ---

$ sha1sum sdksetup.exe 
0720e4e922ff7aa8cc78b23a00906a96c2b237a4  sdksetup.exe

$ du -sh sdksetup.exe 
1.2M	sdksetup.exe

# ./wine64 --version
wine-1.7.43-178-g22983f2

Regards",9,"0"
"WINE-27803","Internet Explorer 9 installer prerequisite check fails due to mismatching ntoskrnl.exe version resource (reported Winver vs. resource version)","Hello

Internet Explorer 9 installer prerequisite checks due to mismatching ntoskrnl version resource (reported Winver vs. resource versions).

The installer uses OutputDebugString() so +debugstr gives quick glance what it does under the hood...

--- snip ---
$ WINEDEBUG=+debugstr wine ./IE9-Windows7-x86-enu.exe 
fixme:advapi:RegisterTraceGuidsW (0x6cd15f38 0x6cd20180 {e2821408-c59d-418f-ad3f-aa4e792aeb79} 1 0x32de10 (null) (null) 0x6cd20188): stub
warn:debugstr:OutputDebugStringA 00:00.001: ====================================================================\r\n
warn:debugstr:OutputDebugStringA 00:00.003: Started: 2011/07/16 (Y/M/D) 11:57:17.956 (local)\r\n
warn:debugstr:OutputDebugStringA 00:00.003: Time Format in this log: MM:ss.mmm (minutes:seconds.milliseconds)\r\n
warn:debugstr:OutputDebugStringA 00:00.003: Command line: Z:\\home\\focht\\Downloads\\IE9-Windows7-x86-enu.exe\r\n
warn:debugstr:OutputDebugStringA 00:00.042: INFO:    Setup installer for Internet Explorer: 9.0.8112.16421\r\n
warn:debugstr:OutputDebugStringA 00:00.050: ERROR:   Checking version for C:\\windows\\SYSTEM32\\ieframe.dll: Failed. (Couldn't get File Version Info size.)\r\n
warn:debugstr:OutputDebugStringA 00:00.050: ERROR:   Couldn't get File Version Info size for System32\\ieframe.dll\r\n
warn:debugstr:OutputDebugStringA 00:00.050: INFO:    Checking if iexplore.exe's current version is between 9.0.6001.0...\r\n
warn:debugstr:OutputDebugStringA 00:00.050: INFO:    ...and 9.1.0.0...\r\n
warn:debugstr:OutputDebugStringA 00:00.051: INFO:    Maximum version on which to run IEAK branding is: 9.1.0.0...\r\n
warn:debugstr:OutputDebugStringA 00:00.051: INFO:    iexplore.exe version check success. Install can proceed.\r\n
warn:debugstr:OutputDebugStringA 00:00.051: INFO:    Trying to extract ID: 6006 (0) as \IE9-neutral.Extracted.cab\\r\n
warn:debugstr:OutputDebugStringA 00:00.320: INFO:    Trying to extract ID: 5006 (0) as \IE9-support.cab\\r\n
warn:debugstr:OutputDebugStringA 00:00.861: INFO:    Operating System: Windows Workstation: 6.1.7601 (Service Pack 1)\r\n
warn:debugstr:OutputDebugStringA 00:00.862: INFO:    Windows 7 operating system detected.\r\n
warn:debugstr:OutputDebugStringA 00:00.863: INFO:    Service pack major: 1\r\n
warn:debugstr:OutputDebugStringA 00:00.863: INFO:    Service pack minor: 0\r\n
warn:debugstr:OutputDebugStringA 00:00.863: INFO:    Service pack name:  Service Pack 1\r\n
warn:debugstr:OutputDebugStringA 00:00.864: ERROR:   System version and prerequisite validation checks failed.\r\n
fixme:commctrl:TaskDialogIndirect 0x32d940 0x32d9a4 (nil) (nil)
warn:debugstr:OutputDebugStringA 00:00.865: INFO:    Setup exit code: 0x00009C53 (40019) - Unable to install on Windows prerelease version\r\n
warn:debugstr:OutputDebugStringA 00:00.910: INFO:    Cleaning up temporary files in: C:\\windows\\TEMP\\IE9acd.tmp\r\n
warn:debugstr:OutputDebugStringA 00:00.927: INFO:    Unable to remove directory C:\\windows\\TEMP\\IE9acd.tmp marking for deletion on reboot.\r\n
warn:debugstr:OutputDebugStringA 00:00.930: INFO:    Released Internet Explorer Installer Mutex\r\n
--- snip ---

+tid+seh+relay gives:

--- snip ---
...
0035:Call version.GetFileVersionInfoSizeW(0032df48 LC:\\windows\\System32\\ntoskrnl.exe0032df0c) ret=01010110
...
0035:Call version.GetFileVersionInfoW(0032df48 LC:\\windows\\System32\\ntoskrnl.exe00000000000006b400151a58) ret=0101014a 
...
0035:Ret  version.GetFileVersionInfoW() retval=00000001 ret=0101014a
0035:Call version.VerQueryValueW(00151a5801002058 L\\0032df180032df08) ret=0101016f
0035:Ret  version.VerQueryValueW() retval=00000001 ret=0101016f 
...
0035:Call KERNEL32.OutputDebugStringW(01022690 L00:12.292: ERROR:   System version and prerequisite validation checks failed.\r\n) ret=0101136b 
...
0035:Call KERNEL32.ExpandEnvironmentStringsW(0032d9d8 LInternet Explorer 9 isn't supported on pre-release versions of Windows 7 and Windows Vista. Please upgrade to a released version.0000000000000000) ret=0101054c 
--- snip ---

Winver is set to Win 7 SP1 6.1 build 7601 but version resource reports Win XP SP3.
The installer specifically checks the QFE number it must be >= 17105 (SP1?)

Source:

http://source.winehq.org/git/wine.git/blob/a0f681ad4c1626459db14668d5d046bd19b53d18:/dlls/ntoskrnl.exe/ntoskrnl.rc

$ sha1sum IE9-Windows7-x86-enu.exe 
fb2b17cf1d22f3e2b2ad339c5bd78f8fab406d03  IE9-Windows7-x86-enu.exe

$ wine --version
wine-1.3.24-174-g4b4dd30

If this bug is fixed it runs into next one (commctrl.TaskDialogIndirect being a stub).

Regards",105,"0"
"WINE-10052","MSMoney 2007 fails to load due to missing XML Interfaces.","Created attachment 8600
Wine output

MSMoney 2007 fails to start with the attached Error.  It appears that the msxml interface are not registred correctly.  

If you use the Native msxml MsMoney loads but then seg faults when you try to accept the license agreement.",58,"0"
"WINE-32447","GetFileVersion is unimplemented","Created attachment 42804
scrrun that needs to be registered

Im using a portuguese application that needs to have registered the DLL scrrun.dll.
In wine versions 1.1 -> 1.3 i used to do 
$ regsvr32 scrrun.dll 
Successfully registered DLL scrrun.dll

So everything worked until version 1.3. Since version 1.4 i do the same procedure but the program stops working and asks me to register the scrrun.dll.
The error output is this: 
wine: Unimplemented function scrrun.dll.DllGetClassObject called at address 0x7b839d82 (thread 0030) starting debugger...

I attached the scrrun.dll",27,"0"
"WINE-11543","Patrician3 does not display windows correctly and gets stuck needing manual change of the window","This patch caused Patrician3.exe to stuck. Although the proposed patch for bug 11340 allowed to move between windows and continue the program the way before applying this patch was better.

 c19af910ebafa9b1928b0f67bee68f6b0b237e8e is first bad commit
 commit c19af910ebafa9b1928b0f67bee68f6b0b237e8e
 Author: Alexandre Julliard 
 Date:   Thu Jan 17 19:53:59 2008 +0100
    winex11.drv: Don't create a win_data structure for the desktop
 window except in the process that owns it.

     Handle desktop size changes by sending a message to the desktop
 owner.

 :040000 040000 b7c030353fe92121bb999481724a3689429b2e8a
 80fd2c5f4ace2707abb01648bd61663a6c9d7626 M      dlls

Patrician3 is working wore now than before applying this change.

1. My current desktop resolution is 1280x1024
2. Patrician3 changes the resolution to 640x480
3. Then plays the initial movie.
4. Then it tries to change to 800x600 but instead of using it for the game the
desktop stucks at 800x600 and actually you realise that the window that is now
focus is just the Desktop and it is stuck except for the toolbar on the top(the
toolbar has nothing to do with the game I mean the toolbar with the menus on
Aplications System places ... and the rest of icons you have configured). The
rest of the screen is black. You can move the mouse pointer on this topbar but
as soon as you move it away the mouse pointer disappear.
5. If you then change the window (ALT + TAB) you focus the correct game
window. It does this changing the resolution to 1280x1024. 
6. Nevertheless the game options window that appear does not fill the whole
screen but just 800x600.

Before applying Alexander's patch of 17 January 2007 point 4 was:
4. The screen resolution changes to 800x600 and the game screen options appears
filling the whole screen (as it now has the correct resolution 800x600)

It behaves as if the message to resize desktop was sent to the wrong window.",18,"0"
"WINE-28888","Alt-tabbing from windowed Kanon makes it think alt is held down","- Run Kanon http://appdb.winehq.org/objectManager.php?sClass=version&iId=12764 and set it to use windowed mode.  Run another program (Firefox audacious etc. Linux version.  Not covering the Kanon window.)
- While Kanon is focused alt-tab to switch to the other program.
- Click in Kanon's window or the title bar.
- Find you can't left click to advance dialog any more (you can still right-click for menus).  Find that instead of advancing dialog enter switches between full screen and windowed.
- Switch to the other program then alt-tab back to Kanon.
- Find the problem is fixed.

Other info: I'm using XFCE4 with metacity-2.34.1.",753,"0"
"WINE-36205","TrySim v5.0 demo doesn't exit cleanly (crashes/hangs on exit)","Created attachment 48327
terminal output

When you close the application (Projekt -> Beenden) it doesn't shut down but a crash occurs. Winedbg starts but never terminates and no backtrace is generated. I can't get a backtrace even if I launch TrySim.exe with 'wine winedbg TrySim.exe'.

Fedora 20 x86
wine-1.7.17-148-g2e5cb7a

TrySimSetup.exe
md5sum 42d8aca0ada4ca25fe474638027a323a",902,"1"
"WINE-1313","The Microsoft Powerpoint viewer cannot print","Bug comments restored from Gmane.org: 
 
The Microsoft Powerpoint viewer 
http://download.microsoft.com/download/powerpoint2000/ppview97/2000/WIN98/EN-US/PPView97.exe

cannot print in wine. If you do wine ppview32 click on a .pps file and then
click
print 
the cursor turns busy until you move it but nothing happens. 
If you do wine ppview32 somefile.pps (to launch the slideshow directly
without going 
through the main dialog) and then print from the right-click menu the app just
hangs 
and nothing else happens either... 
 
When this happens the following is printed to the log: 
0009:fixme:commdlg:PRINTDLG_SetUpPrinterListComboA Can't find '(null)' in printer 
list so trying to find default 
 
N.B. There are printers defined in /etc/printcap and other apps such as the Word 
viewer the Excel viewer and the builtin notepad print just fine.


------- Additional Comments From wine  alk.org.lu  2003-03-25 14:42 -------
*** This bug has been confirmed by popular vote. ***",373,"0"
"WINE-9402","EVE Online login screen isn't a managed window anymore","The login screen of EVE Online is not a managed window after:

commit ac98e0c07535af4a373c0af343498903e2ff42a6
Author: Alexandre Julliard 
Date:   Mon Aug 20 22:06:33 2007 +0200

    winex11: Switch windows to managed mode in SetWindowPos instead of at creation time.


so it is always on top again and looses keyboard focus when using an other window",0,"0"
"WINE-5683","False color effects in text backgrounds and objects (Diablo II LoD)","This bug occurred with 0.9.17 for the first time with no other version  
before.  
  
The game I'm playing is Diablo II LoD Patch 1.11. I have been using all 0.9.x  
versions of Wine and the colors had been fine. With 0.9.17 the background 
colors of texts (like the name of objects you find on the floor) and the 
backgrouund color of objects (like you have in your inventory or chest) are 
drawn in false colors. After a short time into the game the miscolorations 
start to spread to dialog boxes. And after another short time areas of the 
screen (like the big orbs signalling your life and mana points) first go white 
then start flashing. The color flashing effects get so bad that you have to 
quit the game.  
  
The game does not crash.  
  
I will try 0.9.18 as soon as the RPM is available from:  
http://nectar.math.uni-bielefeld.de/pub/suse/apt/SuSE/10.0-i386/RPMS.wine/",13,"0"
"WINE-10746","ADinstrument Chart crashes when opening a file","Created attachment 9587
log and dump

This is my first bug report ever so please tell me if something is wrong.

I just update to wine 0.9.46 I was using 0.9.39 before. This update is the most recent stable wine in Gentoo x86 (which is the distribution I'm using).

I was using wine to run ADinstrument Chart (this is a link to the software : http://www.adinstruments.com/products/software/corporate/Chart-Software/) without problem. Now since my last update each time I try to open a file the software crash.

I'm using gcc 4.1.2

I started my program from the .drive_c directory with the command wine Program Files\Chart5fr/Chart5.exe and then proceed immediatly to open a file and it crashs. I try using my data files the exemple given with the software and data files from someone else and it crash each time.

I try to erase all the trace/dump/tmp I could find in /tmp and in c:\window\temp

I tried the WINEDEBUG=+relay trick they give on the how to report a bug page but I don't see any differences in the dump/log.

I attach all the log from launching the program to returning to the prompt.",360,"0"
"WINE-4393","Regression: Shareaza crashes on startup","After the upgrade to wine 0.9.5 Shareaza crashes on startup.  A window pops up
saying:
Microsoft Visual C++ Runtime Library

Buffer overrun detected!

A buffer overrun has been detected which has corrupted the program's internal
state.  The program cannot safely continue execution and must now be terminated.

Shareaza did not have this problem with wine 0.9.4 but 0.9.5 and 0.9.6 both
suffer from it.

It appears that the bug first appears after the commit on 2006-01-03 16:23:15
CDT where the atoms query function was implemented in the kernel dll.",13,"0"
"WINE-22216","Problem with freopen(CONOUT$ w stdout)","I am having trouble with code that reads...

	has_console = FALSE
	{
		typedef BOOL (CALLBACK* LPFNATTACHCONSOLE)(DWORD)
		LPFNATTACHCONSOLE MyAttachConsole
		HMODULE hmod

		if ((hmod = GetModuleHandle(kernel32.dll))) {
			MyAttachConsole = (LPFNATTACHCONSOLE) GetProcAddress(hmod AttachConsole)
			if (MyAttachConsole && MyAttachConsole(ATTACH_PARENT_PROCESS)) {
				freopen(CONOUT$ w stdout)
				freopen(CONOUT$ w stderr)
				dup2(fileno(stdout) 1)
				dup2(fileno(stderr) 2)
				has_console = TRUE
			}
		}
	}

The freopen calls should cause stderr and stdout to be redirected
to the console.  Under wine they are not.

The failure occurs in dlls/kernel32/console.c function OpenConsoleW
when it checks creation != OPEN_EXISTING.  creation at that point is
CREATE_ALWAYS.

Changing the check to allow CREATE_ALWAYS fixes my problem but
may not be right.

(The code is from Gnumeric btw.)",697,"0"
"WINE-26494","Office 2007 installer terminates on start","Doesn't even make it to the splash screen.

710b643b2ffe56f1ab754d030cbc651220919bfa is the first bad commit
commit 710b643b2ffe56f1ab754d030cbc651220919bfa
Author: Nikolay Sivov 
Date:   Thu Mar 10 04:19:29 2011 +0300

    msxml3: Some get_attributes() tests.

:040000 040000 84e170cc3739dbd1bddbb9e28256e18167a32ae9 d97763783886a9a1be55e5ba81f8dbc5e8124f34 M      dlls

The patch doesn't revert cleanly.",9,"0"
"WINE-44719","3dgep Learning DX12 - Lesson 1 needs unimplemented function USER32.dll.SetThreadDpiAwarenessContext","wine: Call from 0x7bc5bfbc to unimplemented function USER32.dll.SetThreadDpiAwarenessContext aborting

MSDN: https://msdn.microsoft.com/en-us/library/windows/desktop/mt748629(v=vs.85).aspx

sha1sum Tutorial1.exe
63ad5f2c250b219cc44b36eb0f24f9ddf79c8cfd  Tutorial1.exe

du -sh Tutorial1.exe
140K	Tutorial1.exe",19,"0"
"WINE-14343","Bigfishgames Play My Games Crashes With Unhandled page fault","Created attachment 14640
Debug dump of bigfishgames crash.

After installing the game installer from above attempts to run the Play My Games application link on the desktop or from the command line result in a crash. The command line command is:

vik@kereru:~/.wine/dosdevices/c:/Program Files/bfgclient$ env WINEPREFIX=/home/vik/.wine wine C:\Program Files\bfgclient\bfgclient.exe

Immediate results are:

wine: Unhandled page fault on read access to 0x003a0043 at address 0x40d5d3 (thread 0009) starting debugger...

Full version attached.

vik@kereru:~$ wine --version
wine-1.0",860,"1"
"WINE-26028","Buitin IE crash while open a activex control from Bank of Communications (wrong instance handle when registering a class using AtlModuleRegisterWndClassInfoA/W)","1. install the active control
$ rm -rf ~/.wine
$ wget https://pbank.95559.com.cn/personbank/ocx/safe_bankcomm.cab
$ cabextract safe_bankcomm.cab 
$ regsvr32 safeInput4jh.dll

2. write a html file named safeInput1.html as below:


host a http server to handle safeInput1.html

3. open safeInput1.html with wine buitin IE then crash.",80,"0"
"WINE-1175","Multisim 2001 Toolbar Creation Problem (Doesn't Display Properly)","Bug comments restored from Gmane.org:

Theres really two related problem but I put the other problem in a different
Bug Listing.

First I would let everyone to know you can download this program at
http://www.ewbeurope.com/demos.html as a demo. The
demo has the same problem as
I checked.

Now for the problem.

When the installer and all pretty much goes through smoothly.  You can also
launch the program smoothly.  But when you want to add a component like the
first one which is a battery it'll pop up a toolbar.  This toolbar if you saw
it under a windows enviroment will have two columns.  Under wine it is one
column and all the components are in the wrong place.

Please fix it so when you click on the components it will load up the Toolbars
properly with the proper order so one doesn't need to play a guessing game.",1730,"1"
"WINE-2744","Combobox loops endlessly if displayed by MDI child and mouse selects dropdown","When the following conditions are all true:
* Windows application uses MDI window
* At least one MDI child is displayed
* The MDI child displays a dropdown list (combobox without editing cap.)
* User selects with mouse (not keyboard) the combobox in order to display the
dropdown

... then the combobox starts flashing endlessly. The focus seems to alternate
between the MDI child and the colored rectangle which paints the combobox when
selected. 

I searched the bug database and bug #2147 looks like this exact same bug.
However I can provide on demand a VisualBasic 6 sample application which
reproduces the bug. This problem occurs only when a MDI child displays the
dropdown list - SDI windows and dialogs are not affected.",21,"0"
"WINE-5517","ddraw rewrite breaks GTA2","Regression testing shows this is the patch that broke the game:

c8901d6f6253f6c97610eb1068ac4ff89758ed0a is first bad commit
commit c8901d6f6253f6c97610eb1068ac4ff89758ed0a
Author: Stefan Dsinger 
Date:   Fri Jun 9 19:36:12 2006 +0200

    ddraw: Rewrite most of ddraw using WineD3D.

:040000 040000 9761355e24bc348d1e1c03110877541730611adb
67589bfed4fe0ed2619ce120d17eff82e3ca24f0 M      dlls

It's slightly complicated though as some point after this patch another patch is
added (a few days later) then the game at least starts (so another patch kinda
gets it working) but the game crashes before the menu.",100,"0"
"WINE-26732","Winecfg: tab text is missing","winecfg doesn't show the tab text any more.

Steps to reproduce:
- wine winecfg

This is a regression:
82258f4f2580a591d7a9940204b194b7f833c09d is the first bad commit
commit 82258f4f2580a591d7a9940204b194b7f833c09d
Author: Nikolay Sivov 
Date:   Sat Apr 9 19:46:59 2011 +0400

    comctl32/tab: Use dpa to store item data.

:040000 040000 a3b729820b1b9d662125e4fada10af517f3edf1a a08ba3115d11b06c74f8da69dc1d3a74adc9f8ad M	dlls",0,"0"
"WINE-5532","Commandos - Sounds only play about 30-60% before being cut off","Whenever you perform an action click a man or an object only some of the sound
is played before it is cut off and this happens every single time ingame. The
menu music and mission briefings seem unaffected.",53,"0"
"WINE-28199","Installation of vcrun6 causes undefined function _set_printf_count_output","When I install vcrun6 (using winetricks) then I'm unable to install dotnet20 or vcrun2005 or many other packages.  The installers crash or quit.

Many applications in wine then crash with errors something like:

Unimplemented function msvcrt.dll _set_printf_count_output

I ran a regression test and bisect stopped at this commit:

05ddaaf0686a0fcc10c9874a8d3abc9f35459f44 is the first bad commit
commit 05ddaaf0686a0fcc10c9874a8d3abc9f35459f44
Author: Alexandre Julliard 
Date:   Thu Aug 25 17:20:03 2011 +0200

    msvcr80: Add a WinSxS manifest resource.

:040000 040000 7ac83b8722a5fedc4ac881afd2f7fe96f4dc9bc5 555c864d57fed04525a7d8ab5e4081001a55b242 M      dlls",3,"0"
"WINE-2887","Delphi 7 complete crash on wine 20050419","Before wine 20050310 Delphi 7 ran almost perfectly stable. Starting with
20050310 a bug causing crashes with the menu system popped up (see bug id 2802).
The latest wine 20050419 completely crashes Delphi on startup making it
completely unusable.

Delphi crashes with the dialog box stating External Exception 80000101

The console Window contains the following the last two lines regarding size.cx
are when D7 crashes:
fixme:imm:ImmGetContext (0x10020): stub
fixme:imm:ImmReleaseContext (0x10020 0x4041f188): stub
fixme:pager:PAGER_Create [0x1003a] Drag and Drop style is not implemented yet.
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x10020) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:richedit:RichEditANSIWndProc EM_EXLIMITTEXT: stub
wine-pthread: run.c:522: ME_CalcRunExtent: Assertion `size.cx' failed.
wine-pthread: run.c:522: ME_CalcRunExtent: Assertion `size.cx' failed.",35,"0"
"WINE-22934","Portal from Steam - recommended texture detail low","Wine out of the box.
Portal from Steam. Only flash installed from Adobe page.

'Settings recommended for your system' set default to 'High' but 'Texture detail' to 'Low'.",860,"1"
"WINE-13758","Adobe Photoshop 7: sliders not shown","In Photoshop 7 the opacity and fill-sliders do not appear when clicked they loose focus and the 'layers'-window gets on top immediately rendering the sliders invisible and unusable.",350,"0"
"WINE-38470","__chkstk not implemented on ARM","Notepad++ crashes even before displaying the GUI due to this",56,"0"
"WINE-44999","Python 3.6.5 crashes due to unimplemented function api-ms-win-core-path-l1-1-0.dll.PathCchCanonicalizeEx.","As described in summary Python 3.6.5 crashes due to unimplemented function api-ms-win-core-path-l1-1-0.dll.PathCchCanonicalizeEx.

How to reproduce:
  1. wget https://www.python.org/ftp/python/3.6.5/win32/core.msi \
          https://www.python.org/ftp/python/3.6.5/win32/exe.msi \
          https://www.python.org/ftp/python/3.6.5/win32/lib.msi
  2. wine msiexec /i core.msi /qb TARGETDIR=C:/python3.6.5 
  3. wine msiexec /i exe.msi /qb TARGETDIR=C:/python3.6.5
  4. wine msiexec /i lib.msi /qb TARGETDIR=C:/python3.6.5
  5. cd $WINEPREFIX/drive_c/python3.6.5
  6. wine python.exe

Expected behavior:
  It starts without crashes and shows prompt (>>>) as it's in interactive mode.

Actual behavior:
  It crashes with the following message:
0009:fixme:msvcrt:_configure_wide_argv (1) stub
0009:fixme:msvcrt:_initialize_wide_environment stub
wine: Call from 0x7b43cddc to unimplemented function api-ms-win-core-path-l1-1-0.dll.PathCchCanonicalizeEx aborting
wine: Unimplemented function api-ms-win-core-path-l1-1-0.dll.PathCchCanonicalizeEx called at address 0x410073:0x7b43cddc (thread 0009) starting debugger...

Note:
  Python introduced PathCchCanonicalizeEx by following commit:
  https://github.com/python/cpython/commit/48e8c82fc63d2ddcddce8aa637a892839b551619
  I'm not sure if 0x7b43cddc actually points canonicalize function which was added by the commit. But it's very suspicious.",221,"0"
"WINE-TESTBOT-39425","Improve resilience to VM host outages","Currently the WineTestBot gets stuck when the connection to the libvirt server on the VM hosts is broken. This includes cases where the libvirt server is restarted the VM hosts is rebooted or cases where there's a network outage.

The reason is that the Engine queries the status of the VMs itself in some circumstances. This creates a TCP connection which is never recreated in case it breaks.

The proper fix is to banish all such queries from the Engine: not just to fix this issue but also because some of these operation can be long (a few seconds) and block the main loop of the single-threaded Engine which can in turn cause the website to lag.",880,"1"
"WINE-16884",".NET 3.0: WCF installer fails due to LsaLookupNames2 stub","Hello

after getting past bug 16883 the next one...

Prerequisites:

---
1. clean WINEPREFIX
2. sh mywinetricks -q wmicore
3. sh winetricks -q dotnet20
4. download .NET 3.0 Framework installer from: http://download.microsoft.com
/download/4/d/a/4da3a5fa-ee6a-42b8-8bfa-ea5c4a458a7d/dotnetfx3setup.exe
(sha1sum: 
a566bcd2ffffc3842a95adc57f7df3f8cd11577f)
5. export _SFX_CAB_SHUTDOWN_REQUEST=1 (workaround see bug 9158)
6. wine ./dotnetfx3setup.exe

It might take a while until all required packages are downloaded using BITS.

Note: If you need to redo steps backup the directory dotnetfx304506.30 from
c:\\windows\\temp to a different location remove ~/.wine copy
dotnetfx304506.30 again to c:\\windows\\temp to prevent BITS from
downloading over and over again.

---

The WCF installer still fails:

c:\\windows\\temp\\dd_wcf_retCA5476.txt:

--- snip ---
ServiceModelReg [14:57:53:680]: Starting tool 'C:\windows\system32\wbem\mofcomp.exe' with parameters 'C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModel.mof'.
ServiceModelReg [14:57:55:965]: Microsoft (R) 32-bit MOF Compiler Version 1.50.1085.0001
ServiceModelReg [14:57:55:966]: Copyright (c) Microsoft Corp. 1997-1999. All rights reserved.
ServiceModelReg [14:58:03:464]: 
ServiceModelReg [14:58:03:467]: Parsing MOF file: C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModel.mof
ServiceModelReg [14:58:06:160]: MOF file has been successfully parsed
ServiceModelReg [14:58:06:164]: Storing data in the repository...
ServiceModelReg [14:58:07:047]: An error occurred while creating object 3 defined on lines 20 - 24:
ServiceModelReg [14:58:07:053]: 0X80041002 Class instance or property 'HostingModel' was not found.
ServiceModelReg [14:58:07:280]: Compiler returned error 0x80041001
ServiceModelReg [14:58:07:280]: 
ServiceModelReg [14:58:07:291]: 
ServiceModelReg [14:58:07:330]: Tool 'C:\windows\system32\wbem\mofcomp.exe' with parameters 'C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModel.mof' exited with code '3'.
ServiceModelReg [14:58:07:473]: Warning: Failure executing C:\windows\system32\wbem\mofcomp.exe with parameters C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModel.mof: System.ApplicationException: Unexpected result 3 executing C:\windows\system32\wbem\mofcomp.exe with C:\windows\Microsoft.NET\Framework\v3.0\Windows Communication Foundation\ServiceModel.mof
   at System.ServiceModel.Install.InstallHelper.ExecuteWait(String program String parameters Int32[] allowedExitCodes)
   at System.ServiceModel.Install.WmiInstallComponent.OnInstall(OutputLevel outputLevel)
ServiceModelReg [14:58:08:291]: Error: WMI classes are not installed.
ServiceModelReg [14:58:08:304]: Repairing: Windows CardSpace (idsvc)
ServiceModelReg [14:58:08:610]: Repairing: Net.Tcp Port Sharing Service (NetTcpPortSharing)
ServiceModelReg [14:58:09:011]: System.Security.Principal.IdentityNotMappedException: Some or all identity references could not be translated.
   at System.Security.Principal.NTAccount.Translate(IdentityReferenceCollection sourceAccounts Type targetType Boolean forceSuccess)
   at System.Security.Principal.NTAccount.Translate(Type targetType)
   at System.Security.AccessControl.CommonObjectSecurity.ModifyAccess(AccessControlModification modification AccessRule rule Boolean& modified)
   at System.Security.AccessControl.CommonObjectSecurity.AddAccessRule(AccessRule rule)
   at System.ServiceModel.Install.ListenerServiceInstallComponent.SetConfigSecurity(OutputLevel outputLevel)
   at System.ServiceModel.Install.ListenerServiceInstallComponent.OnReinstall(OutputLevel outputLevel)
   at System.ServiceModel.Install.ServiceInstallComponent.Reinstall(OutputLevel outputLevel)
   at Microsoft.Tools.ServiceModel.ServiceModelReg.PerformAction(ActionItem actionItem Nullable`1 confirmUninstall)
   at Microsoft.Tools.ServiceModel.ServiceModelReg.Run(String[] args)
   at Microsoft.Tools.ServiceModel.ServiceModelReg.TryRun(String[] args)
=== Verbose logging stopped: 1/11/2009  14:58:09 ===
--- snip ---

Relevant trace log:

--- snip ---
0035:fixme:advapi:LsaLookupNames2 (0xcafe0x000000000x000000010x1421c00x33efdc0x33efd0) stub
...
0035:trace:seh:raise_exception code=e0434f4d flags=1 addr=0x7b844f54 ip=0x7b844fd7 tid=0035
0035:trace:seh:raise_exception  info[0]=80131501
0035:trace:seh:raise_exception  eax=7b82cc91 ebx=7b8c3940 ecx=00000000 edx=0033f0b8 esi=0033f0b8 edi=e0434f4d
0035:trace:seh:raise_exception  ebp=0033f080 esp=0033f01c cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000246
0035:trace:seh:call_stack_handlers calling handler at 0x79f9a3c8 code=e0434f4d flags=1
0035:CALL MSVCR80._except_handler4_common(7a38124079e717fb0033f02c0033f0d00033ecb80033eb60) ret=79f9a3e7
0035:RET  MSVCR80._except_handler4_common() retval=00000001 ret=79f9a3e7
0035:trace:seh:call_stack_handlers handler at 0x79f9a3c8 returned 1
0035:trace:seh:call_stack_handlers calling handler at 0x7a3197d4 code=e0434f4d flags=1
0035:CALL MSVCR80.__CxxFrameHandler3() ret=7bc729f1
0035:RET  MSVCR80.__CxxFrameHandler3() retval=00000001 ret=7bc729f1
0035:trace:seh:call_stack_handlers handler at 0x7a3197d4 returned 1
0035:trace:seh:call_stack_handlers calling handler at 0x79f948ec code=e0434f4d flags=1 
....
0035:fixme:advapi:RegisterEventSourceW (L.LSystem.ServiceModel.Install 3.0.0.0): stub
0035:fixme:advapi:ReportEventW (0xcafe42420x00010x00000x00000000(nil)0x00010x000000000xa55c640xa55b0c): stub
0035:err:eventlog:ReportEventW LSystem.Security.Principal.IdentityNotMappedException: Some or all identity references could not be translated.\r\n   at System.Security.Principal.NTAccount.Translate(IdentityReferenceCollection sourceAccounts Type targetType Boolean forceSuccess)\r\n   at System.Security.Principal.NTAccount.Transla... 
--- snip ---

Oh joy LSA again ...

There already exist other bugs falling into same problem domain example: bug 16418

If developer resources are short maybe this could be part of some SoC project: making transition from current approach towards LSA rpc interface and lsass (and fleshing out stubs of course).

http://www.hsc.fr/ressources/articles/win_net_srv/msrpc_lsarpc.html

I fleshed the stub a bit just for proof and it gets the WCF installer further.

Regards",208,"0"
"WINE-28383","secur32/schannel test consistently fails on 32-bit debian testing","Created attachment 36402
secur32 test

../../../tools/runtest -q -P wine -M secur32.dll -T ../../.. -p secur32_test.exe.so schannel.c && touch schannel.ok
fixme:secur32:schan_QueryCredentialsAttributes SECPKG_ATTR_CIPHER_STRENGTHS: semi-stub
fixme:secur32:schan_imp_create_session Using hardcoded NORMAL priority
GnuTLS error: An unexpected TLS packet was received.
fixme:secur32:schan_imp_create_session Using hardcoded NORMAL priority
GnuTLS error: A TLS fatal alert has been received.
err:secur32:schan_DecryptMessage Returning -2146893052
schannel.c:748: Test failed: DecryptMessage failed: 80090304


austin@debian-buildbot:~/src/winezeug/buildbot$ dpkg -l | egrep openssl|gnutls
ii  libcurl3-gnutls                      7.21.7-1                          Multi-protocol file transfer library (GnuTLS)
ii  libgnutls-dev                        2.12.7-8                          GNU TLS library - development files
ii  libgnutls-openssl27                  2.12.7-8                          GNU TLS library - OpenSSL wrapper
ii  libgnutls26                          2.12.7-8                          GNU TLS library - runtime library
ii  libgnutlsxx27                        2.12.7-8                          GNU TLS library - C++ runtime library
ii  libneon27-gnutls                     0.29.6-1                          HTTP and WebDAV client library (GnuTLS enabled)
ii  openssl                              1.0.0d-3                          Secure Socket Layer (SSL) binary and related cryptographic tools
ii  python-openssl                       0.13~a1-1                         Python wrapper around the OpenSSL library

I'll attach a +secur32 trace.",19,"0"
"WINE-22802","City of Heroes crashes on startup with Intel graphics","When starting City of Heroes on a system with Intel G35 graphics the game crashes very early in the startup sequence (about the point where an ATI or NVidia system is initializing graphics) and  brings up the City of Heroes internal crash reporter.

Console output consists of:
Running City of Heroes
Preloading DLLs...done.                                               (0.00)
SVN Revision: UNKNOWN
CityOfHeroes client count: 1
num cpus = 4 / 4
fixme:win:EnumDisplayDevicesW ((null)00x33da340x00000000) stub!
Loading message stores...done.                                        (0.73)
fixme:dbghelp:MiniDumpWriteDump NIY MiniDumpWithDataSegs
fixme:d3d_caps:wined3d_guess_card No card selector available for GL vendor 3 and card vendor 8086.
fixme:win:EnumDisplayDevicesW ((null)00x33ce3c0x00000000) stub!
err:ole:CoGetClassObject class {13709620-c279-11ce-a49e-444553540000} not registered
err:ole:CoGetClassObject no class object {13709620-c279-11ce-a49e-444553540000} could be created for context 0x1",797,"0"
"WINE-56","PrgWin95: Listbox getting a recessed border instead of a flat one","The example head of the Petzold 95 gets a basic flat black border on Win9x
but appears recessed in Wine. There must be some wrong flag checking somewhere.
   (strangely someone on the newsgroup seems to be having the opposite problem
with some controls)

See also:
   http://fgouget.free.fr/wine/PrgWin95/Chap8.shtml#head",718,"0"
"WINE-1067","install of Lotus Notes R6 gives error","Bug comments restored from Gmane.org: 
 
try to install Lotus Notes R6 
 
following is the error wich appears on the console: 
 
ntdll:RtlpWaitForCriticalSection section 0x4010a0e0 ../../files/profile.c: 
PROFILE_CritSect wait timed out retrying (60 sec) tid=0807e560 
 
 
------- Additional Comments From werbung  kuhnle.net  2002-12-09 12:23 ------- 
*** This bug has been confirmed by popular vote. ***",980,"1"
"WINE-11952","Display problem with Notepad++ 4.8.2","Terminal-Output: http://paste.dprogramming.com/dpjdyu09",498,"0"
"WINE-18897","Metatrader 4: Quotes Table cells not aligned","Created attachment 21739
Interface of the Metatrader Market Watch Window - Table offset.

Upon opening terminal.exe
The Market Watch Window has the following issues.
1. Unable to repaint.
2. Symbol/Bid/Ask details seems to be offset to start from Ask Columns and is unable to shift. (Critical as the user cannot use the Market Watch Window to see the spread between Bid & Ask price and also unable to trade via Market watch window.",38,"0"
"WINE-42910","Scrabble (Infogrames) multiplayer requires IDirectPlay4::EnumConnections","When starting the application a message box is displayed saying:

CScrabble2_Application::Initialize FAILED to Initialize the Network Engine

and subsequently the in-game multiplayer option is greyed out.

The following console output appears immediately before the message box:

fixme:dplay:IDirectPlay4Impl_EnumConnections (0x1591068)->((nil)0x4944b0(nil)0x00000003): stub

which suggests that the problem may be a missing implementation of this function.",45,"0"
"WINE-6416","wineps uses custom encoded fonts","The only way to print in wine is using the built in postscript driver. This
driver custom encodes fonts - this appears to be true regardless of the ppd file
or font I've tried several dozen combinations. I rate this as major but
critical or blocker might be closer to the mark: it makes wine useless for
producing pdf files because the pdf files contain custom encoded fonts making it
impossible to extract the text.

Try this. Create a document in word. Print it to a file. Convert the ps to pdf
using ps2pdf (I also tried acrobat distiller with the same result). Open the pdf
file in any version of adobe acrobat. Select the text and copy it to the
clipboard (same result whether you use acrobat in windows or linux) and past to
a word processor. Presto: total gibberish.

There is no work-around because current versions of wine do not make it possible
to load a different print driver. The criticallity is severe since you can't
use MS Office under wine to create pdf files with extractable text.",3263,"1"
"WINE-9353","CreateFile with OPEN_ALWAYS on an existing directory fails with ERROR_ACCESS_DENIED","When I call CreateFile like this:
CreateFile(testdir GENERIC_READ|GENERIC_WRITE 0 NULL OPEN_ALWAYS FILE_ATTRIBUTE_NORMAL|FILE_FLAG_BACKUP_SEMANTICS NULL)
with the directory testdir existing it sets ERROR_ACCESS_DENIED while Windows XP SP 2 sets ERROR_ALREADY_EXISTS (didn't confirm the Windows side myself).
The correct flag I should be passing instead of OPEN_ALWAYS is OPEN_EXISTING (which works on Windows XP as well).

From a first try to find the cause for this I believe that it is not in CreateFile and neither in NtCreateFile but somewhere in wineserver.",474,"0"
"WINE-6856","Civilization 4 fails to start","Game installs and patches fine. Civilization 4 begins to load but then fails
with a null pointer page fault.",1446,"1"
"WINE-5090","Second Life - transparency problems","Not sure how best to describe this but it appears as though WINE has some issue
with using alpha transparencys.  I run into this problem when running Second
Life any change to a users appearance/clothing turns any altered section of the
person not covered by clothing as solid black.

Thanks

Dave",685,"0"
"WINEHQ_APPS_DATABASE-27044","Typo in App Fotostation Pro","Hello

I am pleased to notice that you also have entries for Fotostation in the AppDB. There seems to be a Typo at the following address though:

http://appdb.winehq.org/objectManager.php?sClass=version&iId=5991

The application's name should be Fotostation not Fotosta

Regards


Maik",30,"0"
"WINE-28023","CoreAudio queue memory leak","While working on a patch to fix the Get/ReleaseBuffer ordering see bug #27184 comment #3 I found a bug in memory management in winecoreaudio's mmdevapi.

510      HeapFree(GetProcessHeap() 0 This->public_buffer)
but public_buffer originates from
1625      sc = AudioQueueAllocateBuffer(This->aqueue bytes
1626              
The APIs don't match.  It currently doesn't crash because
public_buffer is NULL upon regular exit.  This matches:
1634     AudioQueueFreeBuffer(This->aqueue This->public_buffer)

That would be easy to fix but it leads to question how AudioClient_Release frees the buffer queue.

502      if(This->aqueue)
503          AudioQueueDispose(This->aqueue 1)

I suppose that Dispose gets rid of all the MacOS-level elements left in the queue but I doubt it can handle the additional AQBuffer that Wine links to every object via the mUserData slot.

1632      buf = HeapAlloc(GetProcessHeap() 0 sizeof(AQBuffer))
1640      This->public_buffer->mUserData = buf

Therefore I believe Wine must iterate through the list (aqueue or avail_buffers?) and free remaining objects one by one.

As I'm not familiar with the MacOS API's I'd like somebody knowledgeable (Andrew Ken?) to check this issue and write the patch.

BTW I believe that correct freeing should first return
This->public_buffer into the queue -- where it originated -- like I did in my ordering patch then delete the whole queue.

+     if(This->public_buffer){
+         AQBuffer *buf = This->public_buffer->mUserData
+         list_add_tail(
+         This->public_buffer = NULL
+     }",161,"0"
"WINE-26551","Nothing but white screen in Diner Dash","Created attachment 33814
Wine 1.3.16 console output

When loading Diner Dash there is nothing but a white screen.  Using fglrx in Ubuntu 10.10 x64.

Technically this can be downloaded from Big Fish Games but their client doesn't work (easily) under Wine see http://appdb.winehq.org/objectManager.php?sClass=version&iId=22243

Log attached.",531,"0"
"WINE-8008","WM_ACTIVATEAPP not sent","Hello!

I'm new to wine and also i'm not english so i hope you can everyone can
understand me and also this bug i recognized:

The WM_ACTIVATEAPP Window Message isn't sent when you run your programs with wine.",180,"0"
"WINE-36519","Amazon Cloud Player fails to install","Created attachment 48592
With in Bodhi Linux the wine App Failed.

The Attached file should have everything to report about the bug. I would like to be able to see my apps work better thank you.",498,"0"
"WINE-15387","VB6 Format error in wine 1.1.4","Created attachment 16235
two minus is not better than one

Format is a very used function in VB6 programs.
In the wine 1.1.4 I think the following fix had changed the right behaviour of VB6 format function: in the example the negative values have 2 minus instead of 1
(ex. --0.001 instead of -0.001!).

wine git: 
2008-08-25 Damjan Jovanovic
	oleaut32: Fix negative number handling in VarFormat.

Wine 1.1.2 doesn't have such problem.",2,"0"
"WINE-38102","Process Hacker 2.x needs winsta.dll.WinStationEnumerateW","You'll need winetricks comctl32 to work around bug 34465.

I used the portable binaries. Extract run the x86 version then click the users tab. Boom.

austin@debian-home:~$ sha1sum processhacker-2.33-bin.zip 
2738c909fa6b37a22a4aa256e5d7e733449b905e  processhacker-2.33-bin.zip
austin@debian-home:~$ du -h processhacker-2.33-bin.zip 
2.7M	processhacker-2.33-bin.zip
austin@debian-home:~$ wine --version
wine-1.7.36-28-ga679cae",435,"0"
"WINE-20","Solaris: wine segfaults.","wine-20000821 segfaults on Solaris 8 (intel) when executing any command. i was
unable to
determine any specific reason for this. below are the last lines of the
debugmsgs and a backtrace
of the generated the core file.  i hope this helps.  excuse if this mail is
either too long or too short
for debugging. 

regards
Konrad

--- command ---
> wine --debugmsg +all notepad 2> /tmp/log
Segmentation Fault (core dumped)

--- debugmsgs ---
trace:virtual:VirtualProtect de686000 00000001 00000140
trace:virtual:VIRTUAL_SetProt de686000-de686fff cgrWx
View: de680000 - de7b7fff -1
      de680000 - de680fff c----
      de681000 - de684fff c-rWx
      de685000 - de685fff c----
      de686000 - de686fff cgrWx
      de687000 - de7b7fff c-rWx
trace:ldt:LDT_SetEntry entry=0044 base=00000000 limit=00001 bytes 16-bit
flags=rw-
trace:ldt:LDT_SetEntry entry=0044 base=de7a7000 limit=0ffff bytes 16-bit
flags=rw-
trace:thread:THREAD_Create (de7b7000) succeeded
trace:heap:HeapAlloc (df5c00000000000a00000018): returning df5fdad0
0807d3c8: queue_apc( handle=36 func=0 param=0 )
0807d3c8: queue_apc() = 0
0807d3c8: *killed* exit_code=0
08081010: *killed* exit_code=0

--- core bt ---
(gdb) bt
#0  0xde833f9c in _bind_guard () from /usr/lib/libthread.so.1
#1  0xdfbd7c89 in ?? ()
#2  0xdfbdedfa in ?? ()
#3  0xdfbd31a9 in ?? ()
#4  0xdf909f59 in sigacthandler () from /usr/lib/libc.so.1
#5  
#6  0xde82ceac in _sigoff () from /usr/lib/libthread.so.1
#7  0xde835d11 in __sighandler_lock () from /usr/lib/libthread.so.1
#8  0xde835d91 in sigaction () from /usr/lib/libthread.so.1
#9  0xdf9551cb in sigaction () from /usr/lib/libc.so.1
#10 0xdf91c95f in signal () from /usr/lib/libc.so.1
#11 0xdfb590d4 in CLIENT_InitThread () at client.c:526
#12 0xdfb5d6fc in SYSDEPS_StartThread (teb=0xde7b7000) at sysdeps.c:132
#13 0xdf90aae9 in _lwp_exit () from /usr/lib/libc.so.1
(gdb)",788,"0"
"WINE-7975","[qip] doesnt' start","wine can't start qip binary. It seems to show some of qip gui when using older 
versions of qip though unusable too. With current qip release it even doesn't 
show up.",103,"0"
"WINE-32650","LibreOffice 4 beta UI quite slow","When running LibreOffice 4 Beta for Windows on Wine the whole UI reacts quite slow. Especially menus seem to appear quite slowly when moving the mouse over the active menubar.

Bith wineserver and LibreOffice consume about 40% of CPU when doing so.

Sysprof tells me LibreOffice spends quite a lot of time in:
K32EnumProcessModules (8%)
K32GetModuleInformationn (8%) 
SelectObject (1.5%)
Polygon (1.2%)
CreateWindowExW (0.8%)
(and the rest of graphic stuff with each function taking aboutr 0.5%)

wineserver spends its time in:
ptrace
__epoll_wait_nocancek
__open_nocancel
__pread_nocancel
__close_nocanel",1073,"1"
"WINE-32032","CS:GO exits silently","The commit 5fae649bdf14fb63b8d44984eda6edd1094a3314 (winex11: Never use a surface for embedded windows even for the parents.) is causing CS:GO (Counter Strike: Global Offensive) to exit silently on startup.",3,"0"
"WINE-33560","libwine doesn't get installed","This is a regression in Wine 1.5.30 where the Makefile doesn't install libwine leading to this error:

cfsworks@cfspc:~$ wine --version
wine: error while loading shared libraries: libwine.so.1: cannot open shared object file: No such file or directory


This bug isn't present in 1.5.29 I'm running the regression test to identify the bad commit now. Stand by.

Because this bug prevents Wine from launching at all I have filed this as a 'Critical' bug.",3,"0"
"WINE-6316","MYOB V13 prints a blank page","The application installs etc however upon startup it reports Printer Error #5

Withng the application the installed printers can be viewed in Print Setup
however when exiting this dialog the error is displayed again.

No printing is possible.

This app appears to have worked on a older version of Wine according to the db.
However other Myob entries also report similar errors.",3180,"1"
"WINE-21501","Visual C++ 2010 beta 2 web installer can't replace corrupted downloads (sharing violation due to wintrust handle leak)","Hello

the web installer verifies the integrity of already downloaded files using hashing and wintrust signature checks.

In case of a corrupted file WinVerifyTrust -> WINTRUST_DefaultVerify -> SOFTPUB_LoadFileMessage fails:

--- snip ---
...
0031:trace:wintrust:SoftpubInitialize (0x1004c230)
0031:trace:wintrust:SoftpubInitialize returning 00000000
0031:trace:wintrust:SoftpubLoadMessage (0x1004c230)
0031: create_file( access=80000000 attributes=00000040 sharing=00000001 create=1 options=00000050 attrs=00000080 objattr={rootdir=0000sd={}name=L} filename=/home/focht/.wine/dosdevices/c:/windows/temp/21006.01/1033/VS_PRO/wcu/vc90sp1/vc_red.cab )
0031: create_file() = 0 { handle=0178 }
0031: get_handle_fd( handle=0178 )
0031: *fd* 0178 -> 145
0031: get_handle_fd() = 0 { type=1 removable=0 access=00120089 options=00000050 }
0031:trace:wintrust:SOFTPUB_OpenFile returning 1
0031:trace:wintrust:SOFTPUB_GetFileSubject returning 1
0031:trace:wintrust:SOFTPUB_GetSIP returning 1
0031:trace:wintrust:CryptSIPGetSignedDataMsg (0x38ddf90 0x1004c268 0 0x9bf677c (nil))
0031:trace:wintrust:WINTRUST_GetSignedMsgFromCabFile (0x38ddf90 0x1004c268 0 0x9bf677c (nil))
0031:trace:wintrust:WINTRUST_GetSignedMsgFromCabFile cert_offset: 3823372
0031:trace:wintrust:WINTRUST_GetSignedMsgFromCabFile cert_size: 5944
0031:warn:wintrust:WINTRUST_GetSignedMsgFromCabFile offset beyond file not attempting to read
0031:trace:wintrust:CryptSIPGetSignedDataMsg returning 0
0031:trace:wintrust:SoftpubLoadMessage returning 1 (800b0100)
0031:trace:wintrust:WINTRUST_DefaultVerify returning 800b0100
0031:trace:wintrust:WinVerifyTrust returning 800b0100
...
--- snip ---

It seems if WinVerifyTrust fails that way the caller is not supposed to clean up e.g. calling WinVerifyTrust with WTD_STATEACTION_CLOSE -> WINTRUST_DefaultClose.
The web installer never does - hence the handle + additional data is leaked.

This leaked file handle later leads to a sharing violation when urlmon tries to copy the new file from download cache to destination (DownloadBSC_OnStopBinding):

--- snip ---
0031: create_file( access=c0010000 attributes=00000040 sharing=00000007 create=1 options=00001040 attrs=00000000 objattr={rootdir=0000sd={}name=L} filename=/home/focht/.wine/dosdevices/c:/windows/temp/21006.01/1033/VS_PRO/wcu/vc90sp1/vc_red.cab )
0031: create_file() = SHARING_VIOLATION { handle=0000 }
...
--- snip ---

After 3 download + replacement tries it gives up.

Properly internally cleaning up (closing the file handle ...) helps the installer/urlmon to replace the file.

Regards",2,"0"
"WINE-9195","Photoshop 7's ImageReady tooltips only draw first letter or so","Adobe Photoshop 7 Tryout comes with an app called ImageReady.
That app starts ok but the tooltips it pops up
are truncated oddly their little windows are the
right size but only the first letter and a half
are drawn.",25,"0"
"WINE-13128","Medieval total war crashes","Created attachment 12925
crash log

i'm testing medieval total war and the latest version (git or 1.0rc) crash very early when in the past it work longer... so this is a regression.

the crash log will be attached but the error was:

wine: Unhandled privileged instruction at address 0x7c02edd8 (thread 0026) starting debugger...
Unhandled exception: privileged instruction in 32-bit code (0x7c02edd8).

i tried to pin-point the patch that broke this and found this one:

653c7e7dcaf7ebee2cfc8a6e356779dc8974aac6 is first bad commit
commit 653c7e7dcaf7ebee2cfc8a6e356779dc8974aac6
Author: David Adam 
Date:   Sun Apr 27 12:10:32 2008 +0200

    amstream: Fix the condition of existence of the IMediaStream interface.

:040000 040000 93801c98208e6fd29aff759a12bbee6b02241de9 339a6b671e82ef9c29cb5627b7b2d24ef26f8df1 M      dlls

before this patch the game didnt crashed on start after this patch the game crashes on startup",37,"0"
"PACKAGING-42735","Add Debian testing WineHQ repository","Currently Wine HQ debian repo provides named repositories for: wheezy jessie stretch sid. See https://dl.winehq.org/wine-builds/debian/dists/

Please add one for testing so users of Debian testing wouldn't need to refer to specific named releases.

Wine staging Debian repo used to do that but now it's being deprecated.",96,"0"
"WINE-9955","CarTest Demo just displays black screen","Its part of the S5 Game Demo examples.
Some more available here: http://forum.rscnet.org/showthread.php?t=247271


The console is full of this messages:

err:d3d_surface:d3dfmt_convert_surface Unsupported conversation type 9
err:d3d_surface:d3dfmt_convert_surface Unsupported conversation type 9

It's really just a small download so If anyone feels like debugging something have a look. )",13,"0"
"WINE-20479","Using HW-acceleration for NHL 99 corrupts the screen and crashes the game","Using hardware acceleration for NHL 99 corrupts the screen and crashes the game at startup.

Tried to:

- Tweak registry items manually.
- Tested running with a Virtual Desktop.",72,"0"
"WINE-13502","BRenBot application fails to start","Created attachment 13423
BRenBot with msvcrt traces

With Wine version wine-1.0-rc2-65-g914cb22 running BRenBot a server bot for the Renegade FDS fails with some msvcrt fixmes and Perl compilation failures. If native msvcrt is used the app starts successfully (though the Renegade FDS is needed for it to completely work).",1228,"1"
"WINE-679","Incorrect backslashes format in winedefault.reg","Installing wine-20020509 without windows partition I found some
bugs in paths inside registry (system.reg but I didn't check others)
Sometimes backslashes are missing making random problems sometimes :

For example :

WINE REGISTRY Version 2
 All keys relative to \\User\\massimo

[Control Panel\\desktop] 1021415096
DragFullWindows=0

[Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders] 
1021415096
Desktop=C:WINDOWSDesktop
Favorites=C:WINDOWSFavorites
Fonts=C:WINDOWSFonts
NetHood=C:WINDOWSNetHood
.....................

Instead of

WINE REGISTRY Version 2
 All keys relative to \\User\\massimo

[Control Panel\\desktop] 1021415096
DragFullWindows=0

[Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders] 
1021415096
Desktop=C:\\WINDOWS\\Desktop
Favorites=C:\\WINDOWS\\Favorites
Fonts=C:\\WINDOWS\\Fonts
NetHood=C:\\WINDOWS\\NetHood
..........",2,"0"
"WINEHQ.ORG-31273","Polish and Portuguese versions of http://www.winehq.org/about/ have a dead link","Page http://www.winehq.org/wine_features
linked from http://www.winehq.org/about/
(fourth link in bullet list Moliwoci Wine in Polish -- BTW I don't see possibility to choose the language of the page?!?)
sed:

Ooops... You went to somewhere we did not expect.

404 Not Found

Sorry that document was not found. Please check your URL and try again.

If you followed a link from a WineHQ.org page and reached this page in error please report it to the WineHQ.org Bugzilla.",329,"0"
"WINE-34021","IE8 crashes badly when navigating to www.microsoft.com","Created attachment 45209
wine-1.6-rc4-122-g104adb7 console output (caught by redirects)

Working around Bug 25648 wine ~/.wine/drive_c/Program\ Files/Internet\ Explorer/iexplore.exe www.microsoft.com crashes out badly. See logs.

However workaround is supplied wininet (and urlmon - unimplemented function).",2145,"1"
"WINEHQ_APPS_DATABASE-16432","Stylebug when logged in as Maintainer","Created attachment 17774
gap in user menu

Since the new Style is online there is a transparent part in the user menu between Maintainership Overview and the maintained Apps when logged in as Maintainer.
Please View Attachment
I use Firefox 3.0.4 in Ubuntu 8.10",1,"0"
"WINE-1330","argv[0] should be translated into DOS syntax","Bug comments restored from Gmane.org: 

Running a DOS program from the command line i.e.:

  wine -- ../prog.exe arg1 arg2

it would be helpful if the path to the executable
(../prog.exe) was converted to DOS form (..\prog.exe)
when it was passed in to the program as argv[0].

Having this path in UNIX form confused a program
that was trying to find the path to its home dir.
The work-around was easy (specify a DOS path) but
other WINE users may get bit by this as well.

------- Additional Comments From mike  theoretic.com  2003-03-30 15:15 -------
Confirming bug changing summary",954,"1"
"WINE-11535","Gothic3 - graphic errors when resolution is higher than 1024x768","It is impossible for me to change the resolution of the game to a higher one then 1024*768. There will be a stripe on the right side of the screen that does not change. The screen is cut there and only the rest of the picture moves.
See the screenshot in the attachment.",31,"0"
"WINE-12080","Portal 1.0: Graphics go haywire when first portal opens","Created attachment 11461
graphical glitch after portal opens

When the first portal opens the game becomes unplayable. See attachments for a picture after the graphic-crash (hope this will work). Everything works fine and looks great before the portal opens then everything glitches. 

The game is still running after that (i can hear foodsteps or load a savegame) but playing is impossible.

I am running Gentoo Xorg 7.2 with current ati-drivers.",486,"0"
"WINE-27028","Touchpad mouse cursor flickers when moved jumps back towards original position when released","Created attachment 34465
Regression test 1.3.17 to 1.3.18

When playing Warcraft III: Frozen Throne the mouse cursor flickers wildly when moved making it almost impossible to select anything and overall play the game. Strangely enough the bug is only present when *using the touchpad to move the mouse cursor it does *not* manifest when using a regular mouse. I'll try to test it in other machines and see what I have.

The bug was introduced in 1.3.18 and a the offending commit found with a regression test with 1.3.17 is attached.",194,"0"
"WINE-4136","hl2 installer without pictures","when I try to install hl2 the installer has no pictures
and no white background a usual
Its a new bug with cvs 20051219 the pictures work

probably an ole issues?
http://source.winehq.org/git/?p=wine.gita=commith=707fa2c3a25421a0a805ab466cdc90e3ddc89ed4


buscher@kuehlschrank ~ $ wine /mnt/cdrom/setup.exe
fixme:msi:MsiInstallProductW LD:\\hl2_German.msi (null)
fixme:ole:OLEPictureImpl_Load Failure while reading picture header (hr is 1
nread is 8).
fixme:ole:OLEPictureImpl_get_Handle Unimplemented type -1
err:msi:msi_load_picture failed to get bitmap handle
err:msi:msi_dialog_bitmap_control Failed to load bitmap Lside16
fixme:msi:ACTION_HandleStandardAction unhandled standard action LValidateProductID
fixme:msi:MsiGetMode STUB (iRunMode=16)
fixme:ole:OLEPictureImpl_Load Failure while reading picture header (hr is 1
nread is 8).
fixme:ole:OLEPictureImpl_get_Handle Unimplemented type -1
err:msi:msi_load_picture failed to get bitmap handle
err:msi:msi_dialog_bitmap_control Failed to load bitmap Lside16
fixme:richedit:RichEditANSIWndProc WM_SETFONT: stub
fixme:ole:OLEPictureImpl_Load Failure while reading picture header (hr is 1
nread is 8).
fixme:ole:OLEPictureImpl_get_Handle Unimplemented type -1
err:msi:msi_load_picture failed to get bitmap handle
err:msi:msi_dialog_bitmap_control Failed to load bitmap Ltop16
err:msi:ITERATE_Actions Execution halted action LWelcome_Dialog returned 1602",11,"0"
"WINE-17428","Taskmgr: blank process names in Process list.","Thanks arethusa for the regression test.
A bunch of commits starting with b28a6c18898ae1b469ecc393b23964cb2b95ea61 broke it. The patch was:

taskmgr: Converted some functions and variables to Unicode.

How to reproduce:
wine notepad
wine taskmgr

click on the taskmgr Process tab.
Processes show up as blank lines. They are clickable and you can terminate a process but how will a user tell which one?

Expected behavior: A list of processes should be shown here.",189,"0"
"WINE-1506","Problem with variant array allocation in Wine","Hi all
I was trying to use a statistical program called PAST under Wine. It use to 
run OK but recently (with new Wine versions - wine-20030508 rpm version for 
Mandrake 9.1) I get some problems related to variant array allocation.
Following is the feedback from the program owner Oyvind Hammer 
(oyvind.hammer@nhm.uio.no). The Program site is 
http://folk.uio.no/ohammer/past

--------  quote ----------
To be precise the problem is as follows. In Delphi I do
a:=VarArrayCreate([1213] varDouble)
This should allocate a variant array of size 2x3. And as
expected when I query the dimensions of the array in
Windows I get
VarArrayHighBound(a 1) = 2
and
VarArrayHighBound(a 2) = 3
However under Wine I get the reverse meaning that
Wine has allocated a 3x2 array:
VarArrayHighBound(a 1) = 3
and
VarArrayHighBound(a 2) = 2
This causes Variant index out of bounds when I refer
to the cell a[13] for example.
---------  end quote ----------",25,"0"
"WINE-41086","Unimplemented function msvcp140.dll.??0?$codecvt@_WDU_Mbstatet@@@std@@QAE@I@Z needed by Battle.net","With the new version of Battle.net which needed msvcp140 there is a function not implemented and this caused an error during the launching:

wine: Call from 0x7b43bfac to unimplemented function msvcp140.dll.??0?$codecvt@_WDU_Mbstatet@@@std@@QAE@I@Z aborting
wine: Unimplemented function msvcp140.dll.??0?$codecvt@_WDU_Mbstatet@@@std@@QAE@I@Z called at address 0x7b43bfac (thread 0023) starting debugger...",53,"0"
"WINE-24343","MediaCoder 0.7.3.* Device Edition (Phone) video conversions don't work","On wine 1.3.2 MediaCoder 0.7.2.4582 Device edition when trying to convert videos the whole program stops responding onpreprocessing phase. Moreover there is no CPU usage at the time. 
Tried on MP4 and flv for various target formats.
Tried on MediaCoder-Phone-0.7.2.4582.",9,"0"
"WINE-14404","Diablo LOD/Starcraft no sound with ALSA","When running either Starcraft (any version) or Diablo II (any version including Lord of Destruction) the intros play fine with the default ALSA configuration but once the actual game is loaded all sound functionality ceases.  The broken sound continues even if one exits and returns back to the main menu which has no issues when the programs are first run.

However if one runs the same wine command with aoss prepended everything works fine.

I would include more information but the wine output does not seem to be very helpful.  It seems others are having this problem as well: http://appdb.winehq.org/commentview.php?iAppId=74&iVersionId=315&iThreadId=37117",369,"0"
"WINE-20083","SIV (System Information Viewer) v4.00 SIVDRIVER crashes to due invalid PIO_STACK_LOCATION->FileObject passed into IRP_MJ_DEVICE_CONTROL dispatch routine","When the SIVDRIVER IRP_MJ_DEVICE_CONTROL dispatch routine is called the PIO_STACK_LOCATION->FileObject in incalid in fact it's set of 0x66666666.  This caused the v4.00 SIVDRIVER to crash as it expects to setup PFILE_OBJECT->FsContext in file create callback and use it while processing IRP_MJ_DEVICE_CONTROL.  For 4.01 I managed to stop the crashes by adding code to check for 0x66666666. This really needs to be fixed though.",3430,"1"
"WINE-10581","swat 3 v2.1 needs some amstream stuff to work","Created attachment 9373
everything builtin

with builtin amstream.dll sierra's SWAT 3 version 2.1 shows a messagebox saying it needs directx at least version 6.1 to run and then it quits.
with windows xp native amstream it dies further down the road",1436,"1"
"WINE-39021","Valkyria Chronicles (Steam) runs without audio (needs native xaudio2_7.dll)","Created attachment 51976
terminal output

No audio device is selectable in the launcher when starting the game with built-in xaudio2 libraries. The game does start but it runs silently.
Plain terminal output doesn't show anything obvious but I'm attaching here anyway.

+loaddll reveals that the game uses xaudio2_7.dll.

Running the game with WINEDEBUG=+xaudio2 adds these lines to the terminal output:
>trace:xaudio2:DllMain (0x7c0c0000 1 (nil))
>trace:xaudio2:DllGetClassObject ({5a508685-a254-4fba-9b82-9a24b00306af} {00000001-0000-0000-c000-000000000046} 0x33ef9c)
>trace:xaudio2:XAudio2CF_CreateInstance (static)->((nil){8bcf1f58-9fe7-4583-8ac6-e2adc465c8bb}0x33efec)
>trace:xaudio2:IXAudio2Impl_QueryInterface (0x1cf3c0)->({8bcf1f58-9fe7-4583-8ac6-e2adc465c8bb} 0x33efec)
>trace:xaudio2:IXAudio2Impl_AddRef (0x1cf3c0)->(): Refcount now 1
>trace:xaudio2:XA27_Initialize (0x1cf3c0)->(0x0 0xffffffff)
>trace:xaudio2:IXAudio2Impl_Release (0x1cf3c0)->(): Refcount now 0

'winetricks xact_jun2010' works around the problem and the game runs properly with audio.

wine-1.7.48-74-gb3fe96a",61,"0"
"WINE-13576","Black Hawk Down Demo causes wine to exit upon entering map","Created attachment 13536
wine-1.0-rc3 exiting upon entering the level

Tested with wine-1.0-rc2 & wine-1.0-rc3 (fresh ~/.wine). Log for wine-1.0-rc3 attached.",500,"0"
"WINE-10436","utorrent: regression for UPNP wine version 0.9.48","0.9.47 - UPNP works
0.9.48 and up - UPNP doesn't work

utorrent (1.7.2 atm but version does not matter) (www.utorrent.org) requests an UPNP port on startup but it is not opened on the router with .48 and later versions. 0.47 works just fine. Changing the port in utorrent to force an change has no effect either.",4,"0"
"WINE-36457","Hearts of Iron III Demo and Europa Universalis:Rome crash with unimplemented function vcomp.dll._vcomp_enter_critsect","Created attachment 48500
log

Works with vcrun2005.",452,"0"
"WINE-32300","Winecfg applications tab displays apps on one line & they cannot be selected","Created attachment 42635
Screenshot showing apps displayed on one line in winecfg

Originally reported by a user on the forum. The summary pretty much says it all. Attaching a screenshot illustrating the problem. 

Regression test results: 

e9e09b66a0eca2cec97faa71cffa9ea7269fc681 is the first bad commit
commit e9e09b66a0eca2cec97faa71cffa9ea7269fc681
Author: Daniel Jelinski 
Date:   Mon Nov 12 19:03:24 2012 +0100

    comctl32: Move WM_SIZE handling into WM_WINDOWPOSCHANGED.

:040000 040000 543eba6717ff329b2986f0c55814b54d50736634 307ba1d160869700abefa866c5cdaab5b9cf7f3a M   dlls

Reverting the patch fixes it.",2,"0"
"WINE-2343","oleproxy MSDN links out of sync","The file dlls\ole32\oleproxy.c contains links to the online msdn website.
However the links are not valid anymore.

Example:

http://msdn.microsoft.com/library/en-us/com/comext_1q0p.asp

has become

http://msdn.microsoft.com/library/default.asp?url=/library/en-us/com/htm/comext_1q0p.asp

It might be that this is also still the case for other files (but not checked yet).",73,"0"
"WINE-23734","Office 2007 installer: cannot add or remove programs after initial install","Created attachment 29730
Crash from rerunning the Office 2007 installer

The Office 2007 installer works fine on the initial install including customizing but cannot be used to add or remove programs later. It does not recognize that Office is already installed when you rerun the installer and asks for the product key again instead of showing the Add or Remove Programs dialog. If you enter the product key it will allow you to select items to add or remove but will crash shortly after the install starts.",215,"0"
"WINE-16708","Installshield regression: PureEdge Viewer Final Fantasy XI Benchmark 2 and 3 install fail","Final Fantasy XI BenchMark 2 and 3 both fail to install
putting up a dialog that says:
1608: Unable to create InstallDriver instance Return code: -2147467262
I'll attach a log.

This is odd because it's listed as working in the appdb
http://appdb.winehq.org/objectManager.php?sClass=version&iId=4879",4,"0"
"WINE-3509","First creation of Registry entries misses AppData","Trying to support our whole software at http://www.emtec.com to Wine to make 
it easy for customers to change platform. Most products are crashing cause

HKCU/Software/Microsoft/Windows/CurrentVersion/Explorer/Shell Folders

does not contain value AppData which normally links to Application Data. 
Adding this value would instantly enable all Emtec products to work fine with 
Wine.

Thanks for helping

Markus",0,"0"
"WINE-29828","Trackbar control doesn't show tick marks when TBS_AUTOTICKS is used","Created attachment 38738
Settings window using built-in comctl32

Trackbar controls can have markings along their length corresponding to the possible discrete positions of the slider. Microsoft calls those markings tick marks see http://msdn.microsoft.com/en-us/library/windows/desktop/bb760149(v=vs.85).aspx

Wine's built-in comctl32 does not show tick marks. They are present when using native comctl32 (winetricks comctl32).

See the attached screenshots taken when running WinUAE with and without native comctl32.",6,"0"
"WINE-15473","Adobe After Effects 4 crashes on startup","sha1sum of ae4try_uk.exe is 8b9dd9bbe422209a311c5f0ce9054e2e687f5450
App installs ok and puts up a gui when you start it but quickly
crashes with dialog
After Effects can't continue: sorry an abnormal condition has been detected
+seh shows there's an exception but the +relay+text+seh log isn't 
very illuminating.  Running in winedbg gives a nice stack dump
inside SetWindowPos() for some reason DefWindowProc gets WM_KEYF1
and sends WM_HELP which is handled by the app's window procedure which
crashes on a near-null pointer access.",2706,"1"
"WINE-2575","[Loxane Michelin Atlas Routier France] wine crashed during installation","I tried to install the Loxane Michelin Atlas Routier France application on real
wine. Wine crashed while installing.

Here is the log:
---
[j@localhost tmp]$ wine /mnt/cdrom/install.EXE
Loading required GL library /usr/X11R6/lib/libGL.so.1.2
err:ddeml:DdeConnect Done with INITIATE but no Server window available
err:ddeml:DdeConnect Done with INITIATE but no Server window available
err:ddeml:DdeClientTransaction Invalid conversation handle
err:ddeml:DdeClientTransaction Invalid conversation handle
err:ddeml:DdeClientTransaction Invalid conversation handle
fixme:shell:Stream_WriteLocationInfo writing empty location info
Loading required GL library /usr/X11R6/lib/libGL.so.1.2
err:menubuilder:ExtractFromEXEDLL LoadLibraryExA
(C:\Michelin\Atlas_Routier_France\Desinst.exe) failed error 193
err:menubuilder:InvokeShellLinker failed to extract icon.
Loading required GL library /usr/X11R6/lib/libGL.so.1.2
fixme:ole:SLTG_ProcessDispatch memh.cbExtra is 76
fixme:ole:SLTG_ProcessDispatch offset 0 0x4a
fixme:ole:SLTG_ProcessInterface func magic = ff
fixme:ole:SLTG_ProcessDispatch memh.cbExtra is 792
fixme:ole:SLTG_ProcessDispatch offset 0 0x4a
fixme:ole:RegisterTypeLib Registering non-oleautomation interface!
fixme:ole:RegisterTypeLib Registering non-oleautomation interface!
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
(...)
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
err:ole:TLB_ReadTypeLib Loading of typelib LC:\\windows\\system\\NMORENU.DLL
failed with error 1813
err:ole:TLB_ReadTypeLib Loading of typelib LC:\\windows\\system\\NMORENU.DLL
failed with error 1813
err:ole:TLB_ReadTypeLib Loading of typelib LC:\\windows\\system\\NMORENU.DLL
failed with error 1813
err:ole:TLB_ReadTypeLib Loading of typelib LC:\\windows\\system\\NMORENU.DLL
failed with error 1813
Loading required GL library /usr/X11R6/lib/libGL.so.1.2
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
(...)
fixme:ole:ITypeInfo_fnRelease destroy child objects
fixme:ole:ITypeInfo_fnRelease destroy child objects
err:ole:TLB_ReadTypeLib Loading of typelib LC:\\windows\\system\\NMORENU.DLL
failed with error 1813
err:ole:TLB_ReadTypeLib Loading of typelib LC:\\windows\\system\\NMORENU.DLL
failed with error 1813
err:ole:TLB_ReadTypeLib Loading of typelib LC:\\windows\\system\\NMORENU.DLL
failed with error 1813
err:ole:TLB_ReadTypeLib Loading of typelib LC:\\windows\\system\\NMORENU.DLL
failed with error 1813
Warning! unrecognized line:
Code
Warning! unrecognized line:
Type
Warning! unrecognized line:
Type
Warning! unrecognized line:
Format
Warning! unrecognized line:
Nom
[j@localhost tmp]$ Loading required GL library /usr/X11R6/lib/libGL.so.1.2
Loading required GL library /usr/X11R6/lib/libGL.so.1.2
fixme:ntdll:TIME_GetTZAsStr Can't match system time zone name CET to an entry
in TZ_INFO
fixme:ntdll:TIME_GetTZAsStr  Please add appropriate entry to TZ_INFO and submit
as patch to wine-patches
fixme:ntdll:TIME_GetTZAsStr Can't match system time zone name CET to an entry
in TZ_INFO
fixme:ntdll:TIME_GetTZAsStr  Please add appropriate entry to TZ_INFO and submit
as patch to wine-patches
fixme:ntdll:TIME_GetTZAsStr Can't match system time zone name CET to an entry
in TZ_INFO
fixme:ntdll:TIME_GetTZAsStr  Please add appropriate entry to TZ_INFO and submit
as patch to wine-patches
err:x11drv:X11DRV_CreateWindow invalid window height 1075481529
wine: Unhandled exception (thread 0015) starting debugger...
WineDbg starting on pid 0x14
Couldn't initiate DbgHelp
Unhandled exception: invalid float operation in 32-bit code (0x004239ed).
In 32 bit mode.
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:003b GS:0033
 EIP:004239ed ESP:406af294 EBP:406af2c4 EFLAGS:00210206(   - 00      - RIP1)
 EAX:00138800 EBX:4112268c ECX:00138800 EDX:00124f80
 ESI:0056edc4 EDI:00000000
Stack dump:
0x406af294:  41113964 0056edc4 4112268c 00138800
0x406af2a4:  00124f80 00140012 4039e878 000e000c
0x406af2b4:  002a1d40 0017cdc0 00138800 41113964
0x406af2c4:  406af37c 00422795 4112268c 00000000
0x406af2d4:  002a1d40 00138800 0017cdc0 00000001
0x406af2e4:  00584834 41113918 00000000 00000226
Backtrace:
=>1 0x004239ed (0x406af2c4)
  2 0x00422795 (0x406af37c)
  3 0x004a688d (0x406af390)
  4 0x00545827 (0x406af3ac)
  5 0x00552ad5 (0x406af3c0)
  6 0x00545ccf (0x406af3d8)
  7 0x00545e23 (0x406af3f4)
  8 0x00545d41 (0x406af418)
  9 0x00545897 (0x406af428)
  10 0x0055060a (0x406af4a0)
  11 0x0054ae73 (0x406af4d8)
  12 0x00544ca0 (0x406af4e8)
  13 0x0052a5fd (0x406af4f8)
  14 0x00530db8 (0x406af518)
  15 0x005440b5 (0x406af56c)
  16 0x005449e9 (0x406af5c8)
  17 0x00544aec (0x406af5fc)
  18 0x00544b73 (0x406af648)
  19 0x00544b14 (0x406af660)
  20 0x408c8657 (0x406af684)
  21 0x408c89af (0x406af6c0)
  22 0x408cdc2d (0x406af6ec)
  23 0x408faae6 (0x406af74c)
  24 0x408fe17d (0x406af7b0)
  25 0x408fe225 (0x406af7dc)
  26 0x40db11e1 (0x406af92c)
  27 0x408c40bf (0x406afa74)
  28 0x408c51ba (0x406afbc0)
  29 0x005456b5 (0x406afbfc)
  30 0x005532cd (0x406afc14)
  31 0x00545767 (0x406afc34)
  32 0x00547d34 (0x406afc44)
  33 0x00547f65 (0x406afc98)
  34 0x004a79ef (0x406afeac)
  35 0x00559f9d (0x406afef4)
  36 0x00569906 (0x406aff24)
  37 0x00000000 (0x406afff4)
  38 0x4001abe1 (0x00000000)
0x004239ed: filds       0xffffffdc(%ebp)
Wine-dbg>WineDbg terminated on pid 0x14
---",606,"0"
"WINE-7113","Hitman Contracts hangs when using Direct3D mode","Hitman Contracts freezes when using Direct3D rendering and loading the game. The
process won't end until it's killed. This does not happen with OpenGL mode.

Console is flooded with the errors like
fixme:keyboard:X11DRV_GetKeyNameText (000000000x33f670256): unsupported key
vkey=0000 ansi=0000

That's all I can say. I'll upload the full log soon.",693,"0"
"WINE-28255","d3dx9/shader.ok fails with WINEDEBUG=warn+heap","With WINEDEBUG=warn+heap make test fails with

../../../tools/runtest -q -P wine -M d3dx9_36.dll -T ../../.. -p d3dx9_36_test.exe.so shader.c && touch shader.ok
fixme:win:EnumDisplayDevicesW ((null)00x33f6bc0x00000000) stub!
fixme:d3d:swapchain_init Add OpenGL context recreation support to context_validate_onscreen_formats
shader.c:788: Test failed: D3DXGetShaderSamplers failed got @ expected s",23,"0"
"WINE-7818","Running dreamweaver 8 installer hangs","Running dreamwever 8 installer hangs.  Running it in win2k mode.  Switching to
XP it fails to start.

Console output attached.

A demo copy of the program can be downloaded from the Adobe website if testing
is needed.
https://www.adobe.com/cfusion/tdrc/index.cfm?product=dreamweaver&loc=en%5Fus",24,"0"
"WINE-30038","Detect CPU speed by using sysctl hw.clockrate instead of dev.cpu.0.freq","In dlls/ntdll/nt.c cpu speed on FreeBSD is actually taken from sysctl dev.cpu.0.freq. If the related value could not be found default value of 1GHz is used.
Actually FreeBSD does not provide a sysctl variable dev.cpu.0.freq.
The actual speed of the cpu is stored in sysctl variable hw.clockrate.

Potential fix:
Change in dlls/ntdll/nt.c (line 1181)
--if (!sysctlbyname(dev.cpu.0.freq &num &len NULL 0))
+++if (!sysctlbyname(hw.clockrate &num &len NULL 0))",2,"0"
"WINE-41189","No Man's Sky fails to start due to a regression in ntdll","Created attachment 55420
Terminal output before reverting the ntdll commit

Hi folks 

The game No Man's Sky (GOG version) has stopped working in Wine 1.9.17. 

After running a regression test I have found that the following commit breaks Wine compatibility for No Man's Sky: 

commit 4af2012729b7ad656fe240838697eeb2ce5c924e
Author: Piotr Caban 
Date:   Wed Aug 17 12:48:24 2016 +0200

    ntdll: Pass updated context inside dispatch.ContextRecord in call_stack_handlers.
    
    Signed-off-by: Piotr Caban 
    Signed-off-by: Alexandre Julliard 

:040000 040000 51c06aa1285025cc26181a54abc5f336e2badd72 28881512820fce08f74f6416a5a1e617afb46f5b M	dlls

Reverting this commit lets No Man's Sky work again. 

Some info: 

I tested this with the original GOG copy of No Man's Sky before it received any updates via GOG.com to ensure that the issue was not due to an update to the game breaking Wine compatibility. 

I came to the conclusion that there was a regression introduced because after updating to a freshly git pulled copy of Wine 1.9.17 the game would no longer start and the attached terminal output is what I would receive after attempting to run the game. Please let me know if you'd like any kind of log from a version of Wine that is not compatible with No Man's Sky or at least let me know which channel you'd like for me to set WINEDEBUG= to so that I can get you the necessary data to fix the seemingly faulty commit.",6,"0"
"WINE-22065","HeadOverHeels crashes","Created attachment 26880
contains crash log

App at: http://retrospec.sgn.net/game/hoh

Crash occurs when starting the application much earlier versions of wine ran it with occasional crashes on start up (and ran fine).

Often see 'Error setting graphics mode.' if trying to run it a second time after the crash.",958,"1"
"WINE-43800","Winamp's associations setup window has broken check boxes appearance","Created attachment 59329
WinAMP's associations setup window

Steps to reproduce:

Install Wine. Run Wine.",54,"0"
"WINE-26309","Civilization V crashes after clicking play game and prior to the game starting","After steam loads i can right click on the sys tray icon and launch Civ V.  The game launches and I am able to click on play game but the game never initalizes.  Maybe it's hardware specific since I've seen several reports of it working ...  i have fought with this for countless hours and can't find anyone else having this exact same issue I am having.",140,"0"
"WINE-6806","Shareaza 2.3.0.0 crashes when loading","Shareaza 2.2.1.0 installs and works fine (assuming IE 6.0 is installed)

Shareaza 2.2.3.0 installs but crashes when trying to load it.

I am not sure what the cause is but I have included terminal output of the crash
here:
http://forums.shareaza.com/showthread.php?s=&threadid=51340",530,"0"
"WINE-21631","Lego Star Wars I crashes at start after displaying the nvidia logo","Created attachment 26114
backtrace

commit 040452ad90927aa8839b1f31a510b1b8a1afac1d prior to wine-1.1.38
Author: Henri Verbeet 
    wined3d: Update the stream info before applying states.
causes wine to crash with a NULL pointer error at start after displaying the nvidia animation.

  0 0x4aadc36e gleLLVMLoadDataFromAryFloatInFloat+0xe9e() in glengine (0x03e7f3d8)
  7 0x406efef3 _drawPrimitive+0x1173() in wined3d (0x03e7f998)

Using MacOS 10.5.8 probably with Apple X11 since last security update (instead of XQuartz 2.y.",13,"0"
"WINE-24642","Tag: The Power of Paint crashes with unimplemented function d3dx9_36.dll.D3DXLoadMeshHierarchyFromXA","Without d3dx9_36.dll Tag crashes with unimplemented function d3dx9_36.dll.D3DXLoadMeshHierarchyFromXA but with the game starts.",244,"0"
"WINE-41448","Civilization II Unhandled page fault on read access","Created attachment 55814
crash log

In at least Wine Staging 1.9.19 Civilization II crashes on startup when the indeo codecs are installed.",121,"0"
"WINE-10716","Spurious hyperlink rendering in Blitzin 2.34","Patch git-commit f945f16de201dbd834da10701025665bfa8f05ee riched20: WM_GETTEXTLENGTH should include CRLF conversions in returned count. causes a regression whereby some text is wrongly rendered to look like hypertext links. This will typically occur at the start or the end of a line but not exclusively.",4,"0"
"WINE-24243","urlmon's HttpProtocol_open_request fails in small test app","Continuing with the sample app http://netikka.net/dev/ole.zip :
to get around bug 24242 do 'winetricks msxml3'.  The app then
fails when you click on the button with

001c:Call wininet.InternetConnectW(00000001001973c0 Lwww.winehq.org0000005000000000000000000000000300000000001972b8) ret=7
e27f890
trace:urlmon:internet_status_callback 0x1972b8 INTERNET_STATUS_HANDLE_CREATED
trace:urlmon:HttpProtocol_AddRef (0x1972b8) ref=3
001c:Ret  wininet.InternetConnectW() retval=00000002 ret=7e27f890
trace:urlmon:BindInfo_GetBindString (0x193408)->(2 0x32d8d4 256 0x32df18)
warn:urlmon:HttpProtocol_open_request GetBindString BINDSTRING_ACCEPT_MIMES failed: 800c0012
...
trace:ole:ICreateErrorInfoImpl_SetDescription (0x1933c8): LSystem error: -2146697206.\r\n

'winetricks ie6' works around this.",65,"0"
"WINE-41832","Galactic Civ 3 - ships are not visible","Ships are there you can interact with them but can't see them.

These two errors repeat thousands of times while testing the game:

fixme:d3d11:d3d11_immediate_context_OMSetBlendState Ignoring blend factor {0.00000000e+00 0.00000000e+00 0.00000000e+00 0.00000000e+00}.
fixme:d3d11:d3d11_immediate_context_OMSetBlendState Per-rendertarget blend not implemented.
fixme:d3d11:d3d11_immediate_context_OMSetBlendState Color mask > 3 not implemented.

fixme:d3d11:d3d11_immediate_context_OMSetBlendState Ignoring blend factor {0.00000000e+00 0.00000000e+00 0.00000000e+00 0.00000000e+00}.
fixme:d3d11:d3d11_immediate_context_OMSetBlendState Per-rendertarget blend not implemented.
fixme:d3d11:d3d11_immediate_context_OMSetBlendState Color mask > 3 not implemented.
fixme:d3d:context_bind_shader_resources Shader 0xa9aa280 needs 17 samplers but only 16 are supported.

Note: these are required or the game will not start:
$ grep d3dx11 ../../user.reg
*d3dx11_42=nativebuiltin
*d3dx11_43=nativebuiltin


It's getting close keep up the great work.",102,"0"
"WINE-38865","HiSuite Huwaei Android Smart Device Manager v2.3.55.x crashes on startup","Created attachment 51794
Programm Fehler Details

HiSuite to administrate honor 6 smartphone by PC does not open exactli. No connection with smartphone ist possible.",292,"0"
"WINE-27595","HyperCam 2.x crashes on startup (when lpbiOutput is NULL it has to be filled by the codec based on lpbiInput)","Created attachment 35277
Screen Recorder

When i try to start a screen recording it says that the program has encountered a serious problem.

Regards

Laurence",1578,"1"
"WINE-16572","Intercon Accessible FormNet VisualFill crashes","Created attachment 18076
kernel32 crash and backtrace

When attempting to open an Intercon Accessible FormNet VisualFill (v3.0.3.724) [register to download at http://www.gsa.gov/Portal/gsa/ep/contentView.do?bodyOnly=true&contentType=GSA_BASIC&contentId=12455] form got a kernel32 crash (see attached back trace).",555,"0"
"WINE-5124","Cannot compile wine 0.9.12 - gluNewTess is missing","Do you have any idea what goes wrong? I am using gcc-3.2

make[2]: Entering directory `/I/usr/src/wine-0.9.12/dlls/opengl32'
../../tools/winegcc/winegcc -B../../tools/winebuild -shared ./opengl32.spec   
opengl_ext.o opengl_norm.o wgl.o wgl_ext.o  version.res  
-Wl--rpath\$ORIGIN/`../../tools/relpath /usr/local/lib/wine /usr/local/lib` -o
opengl32.dll.so -L../../dlls -luser32 -lgdi32 -ladvapi32 -lkernel32 -lntdll 
-L../../libs -lwine -L/usr/X11R6/lib  -lSM -lICE -lXxf86dga -lXxf86vm -lXext
-lX11  -lGL -L../../libs/port -lwine_port  
wgl.o: In function `wglUseFontOutlines_common':
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:930: undefined reference to `gluNewTess'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:933: undefined reference to
`gluTessCallback'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:934: undefined reference to
`gluTessCallback'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:935: undefined reference to
`gluTessCallback'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:992: undefined reference to
`gluTessBeginPolygon'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:999: undefined reference to
`gluTessBeginContour'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:1002: undefined reference to
`gluTessVertex'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:1029: undefined reference to
`gluTessVertex'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:1032: undefined reference to
`gluTessVertex'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:1045: undefined reference to
`gluTessEndContour'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:1050: undefined reference to
`gluTessEndPolygon'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:1059: undefined reference to
`gluDeleteTess'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:1038: undefined reference to
`gluTessEndContour'
/usr/src/wine-0.9.12/dlls/opengl32/wgl.c:1016: undefined reference to
`gluTessVertex'
collect2: ld returned 1 exit status
winegcc: gcc failed.
make[2]: *** [opengl32.dll.so] Error 2
make[2]: Leaving directory `/I/usr/src/wine-0.9.12/dlls/opengl32'
make[1]: *** [opengl32] Error 2
make[1]: Leaving directory `/I/usr/src/wine-0.9.12/dlls'
make: *** [dlls] Error 2",104,"0"
"WINE-14188","utorrent - it disconnects fast leaching peers with Error 10022","Running utorrent 1.7.7 on Wine 1.0.0 (but 0.9.55 is the same) on ubuntu 7.04 feisty (Intel based).

When seeding and single peer reaches speed above approx 1MB/s it disconnects this peer with the following error: Peer error: Error 10022. 
Seeding to peers with speed below 1MB/s works well and is not affected by this disconnections.

Consulted with utorrent developers and they are not aware of this behavior on any other platform.",102,"0"
"WINE-27720","World of Goo demo rendering problems with builtin d3dx9_38","Now that bug 22236 is fixed wog runs great with just native msvcp80...
except that without native d3dx9_38 there are two problems
right after you enter your name and click the first level start button
(with mouseover text The goo-filled hills): 

first the word 'Summer' should appear on a totally black screen.
but on Wine it appears on top of the previous screen.

second the next screen (with a button whose mouseover text is 'Going Up')
should have a light blue background with black letters Chapter 1: The Goo Filled Hills but on Wine the background is black.",689,"0"
"WINE-2184","Wine incompatible with ALSA 1.04 dmix plugin","Just as a note it works fine if dmix is not enabled. 
Tried oss no sound I won't try artsd because it causes instability with my 
machine and I do not have the other sound systems. 
 
Got a work around? 
Right now i got 
2 /etc/asound.conf: /etc/asound.dmix /etc/asound.nodmix /etc/asound.conf 
being a symlink between them. I'd prefer not to have to keep switching between 
them using a shell script but as of now that is what I'm doing. 
 
Tetryon@ww2:/d/Tribes$ wine Tribes.exe 
ALSA lib pcm_dmix.c:812:(snd_pcm_dmix_open) The dmix plugin supports only 
playback stream 
err:wave:ALSA_WaveInit open pcm: Invalid argument 
wine: Unhandled exception (thread 0009) starting debugger... 
WineDbg starting on pid 8 
Loaded debug information from ELF 'wine-kthread' ((nil)) 
Breakpoint 1 at 0x4000af40 (_end+0x3fef40fc) 
Loaded debug information from ELF '/usr/lib/libwine.so.1' (0x4002f000) 
No debug information in ELF '/lib/libc.so.6' (0x40047000) 
No debug information in ELF '/lib/libdl.so.2' (0x40176000) 
No debug information in ELF '/lib/ld-linux.so.2' (0x40000000) 
Loaded debug information from ELF '/usr/lib/wine/ntdll.dll.so' (0x40179000) 
Loaded debug information from ELF '/usr/lib/libwine_unicode.so.1' (0x401f3000) 
No debug information in ELF '/lib/libm.so.6' (0x402e6000) 
No debug information in ELF '/lib/libnss_compat.so.2' (0x40321000) 
No debug information in ELF '/lib/libnsl.so.1' (0x4032c000) 
Loaded debug information from ELF '/usr/lib/wine/kernel32.dll.so' (0x40460000) 
Loaded debug information from ELF '/usr/lib/wine/advapi32.dll.so' (0x40670000) 
Loaded debug information from ELF '/usr/lib/wine/wsock32.dll.so' (0x406a0000) 
Loaded debug information from ELF '/usr/lib/wine/ws2_32.dll.so' (0x406b7000) 
Loaded debug information from ELF '/usr/lib/wine/user32.dll.so' (0x406d8000) 
Loaded debug information from ELF '/usr/lib/wine/gdi32.dll.so' (0x407f9000) 
Loaded debug information from ELF '/usr/lib/wine/iphlpapi.dll.so' (0x4086e000) 
Loaded debug information from ELF '/usr/lib/wine/comctl32.dll.so' (0x4088b000) 
Loaded debug information from ELF '/usr/lib/wine/comdlg32.dll.so' (0x40922000) 
Loaded debug information from ELF '/usr/lib/wine/shell32.dll.so' (0x409a5000) 
Loaded debug information from ELF '/usr/lib/wine/ole32.dll.so' (0x40a16000) 
Loaded debug information from ELF '/usr/lib/wine/rpcrt4.dll.so' (0x40a80000) 
Loaded debug information from ELF '/usr/lib/wine/shlwapi.dll.so' (0x40ac5000) 
Loaded debug information from ELF '/usr/lib/wine/winspool.drv.so' (0x40b10000) 
Loaded debug information from ELF '/usr/lib/wine/winmm.dll.so' (0x40b30000) 
Loaded debug information from ELF '/usr/lib/wine/dsound.dll.so' (0x40b9c000) 
No debug information in ELF '/usr/lib/libfreetype.so.6' (0x40be7000) 
No debug information in ELF '/usr/lib/libz.so.1' (0x40c4c000) 
No debug information in ELF '/usr/X11R6/lib/libfontconfig.so.1' (0x40c59000) 
No debug information in ELF '/usr/lib/libexpat.so.0' (0x40c80000) 
Loaded debug information from ELF '/usr/lib/wine/x11drv.dll.so' (0x40ca0000) 
No debug information in ELF '/usr/X11R6/lib/libSM.so.6' (0x40d27000) 
No debug information in ELF '/usr/X11R6/lib/libICE.so.6' (0x40d30000) 
No debug information in ELF '/usr/X11R6/lib/libXv.so.1' (0x40d48000) 
No debug information in ELF '/usr/X11R6/lib/libXext.so.6' (0x40d4d000) 
No debug information in ELF '/usr/X11R6/lib/libX11.so.6' (0x40d5b000) 
No debug information in ELF '/usr/lib/libGL.so.1' (0x40e23000) 
No debug information in ELF '/usr/lib/libGLcore.so.1' (0x40e7f000) 
No debug information in ELF '/usr/X11R6/lib/libXcursor.so.1' (0x413e3000) 
No debug information in ELF '/usr/X11R6/lib/libXrender.so.1' (0x413ec000) 
No debug information in ELF 
'/usr/X11R6/lib/X11/locale/lib/common/xlcDef.so.2' (0x413ca000) 
No debug information in ELF '/usr/X11R6/lib/libXrandr.so' (0x4140d000) 
No debug information in ELF 
'/usr/X11R6/lib/X11/locale/lib/common/ximcp.so.2' (0x41411000) 
Loaded debug information from ELF '/usr/lib/wine/imm32.dll.so' (0x4142f000) 
No debug information in ELF '/lib/libnss_files.so.2' (0x41495000) 
Loaded debug information from ELF '/usr/lib/wine/winealsa.drv.so' (0x41460000) 
Unsupported debug information in ELF '/usr/lib/libasound.so.2' (0x4156b000) 
No debug information in ELF '/lib/libpthread.so.0' (0x4160f000) 
No debug information in 32bit DLL 'Z:\D\TRIBES\Tribes.exe' (0x400000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\NTDLL.DLL' (0x40190000) 
No debug information in 32bit DLL 'C:
\WINDOWS\SYSTEM\KERNEL32.DLL' (0x40490000) 
No debug information in 32bit DLL 'C:
\WINDOWS\SYSTEM\ADVAPI32.DLL' (0x40680000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\GDI32.DLL' (0x40810000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\USER32.DLL' (0x40700000) 
No debug information in 32bit DLL 'C:
\WINDOWS\SYSTEM\IPHLPAPI.DLL' (0x40880000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\WS2_32.DLL' (0x406c0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\WSOCK32.DLL' (0x406b0000) 
No debug information in 32bit DLL 'C:
\WINDOWS\SYSTEM\COMCTL32.DLL' (0x408a0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\RPCRT4.DLL' (0x40aa0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\OLE32.DLL' (0x40a30000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\SHLWAPI.DLL' (0x40ae0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\SHELL32.DLL' (0x409c0000) 
No debug information in 32bit DLL 'C:
\WINDOWS\SYSTEM\WINSPOOL.DRV' (0x40b20000) 
No debug information in 32bit DLL 'C:
\WINDOWS\SYSTEM\COMDLG32.DLL' (0x40940000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\WINMM.DLL' (0x40b40000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\DSOUND.DLL' (0x40bb0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\X11DRV.DLL' (0x40cb0000) 
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\IMM32.DLL' (0x41440000) 
No debug information in 32bit DLL 'C:
\WINDOWS\SYSTEM\WINEALSA.DRV' (0x41470000) 
Unhandled exception: page fault on read access to 0x656c654b in 32-bit code 
(0x4159160d). 
In 32-bit mode. 
0x4159160d (snd_async_del_handler+0x2d in libasound.so.2): movl 0x14(%edi)
%eax",21,"0"
"WINE-33054","Enterprise Architect 10 fails to load EAExample.eap poject","EA 10 fails to load example project logs shows msxml parser failures. Problem seems to be about wrong text data escaping. Note that it's different from bug 22860 which is about refcount problem.

Right before a crash:

---
0024:trace:msxml:domdoc_loadXML (0x1143f558)->(L\r\n\t<SHAPE file=\shape main{layouttype=bordernoshadow=truesetpenwidth(2)setpencolor(255255128)startpath()&#13... 0x31fb5b0)
0024:err:msxml:doparse xmlParseEntityRef: no name
0024:err:msxml:doparse attributes construct error
0024:err:msxml:doparse error parsing attribute name
0024:err:msxml:doparse attributes construct error
0024:err:msxml:doparse xmlParseStartTag: problem parsing attributes
0024:err:msxml:doparse Couldn't find end of Start Tag SHAPE line 2
0024:trace:msxml:domdoc_loadXML failed to parse document
---",5,"0"
"WINE-34244","DARK (2013) doesn't launches without native quartz","Created attachment 45569
log

Needs native quartz.",745,"0"
"WINE-43603","clipboard PIXMAP regression after upgrading from 1.8.x to 2.x","Created attachment 59018
Debug application log

I use Commfort application to chat with friends. It's support copy-paste images from clipboard.

After upgrading wine from 1.8.7 to 2.0.2 (and 2.15 in next) it's broken.

I try to trace with cmd:
WINEDEBUG=fixme-allwarn+cursor+clipboard wine CommFort.exe

See logs in attachment",4,"0"
"WINE-2035","winealsa does not work in CVS as of 2/17/2003","When ~/.wine/config is changed to have 

Drivers = winealsa.drv instead of Drivers = wineoss.drv

I get this on startup.  This is with Alsa 1.0.2.


No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\IMM32.DLL' (0x42350000)
No debug information in 32bit DLL 'C:\WINDOWS\SYSTEM\WINEALSA.DRV' (0x42880000)
Unhandled exception: page fault on read access to 0x00000000 in 32-bit code
(0x00000000).
In 32-bit mode.
0x00000000: addb        %al0x0(%eax)
Wine-dbg>",629,"0"
"WINE-23944","Verizon Media Manager needs native Windows VB scripting dlls to install","Created attachment 30054
Console output from trying to install the program with builtin dlls.

If I try to install Verizon Media Manager without having the native wsh56vb installed from winetricks I get stuck on the last screen before it starts installing.  That screen is right after the EULA and has you put in a name for share and where you would like to install it.",591,"0"
"WINE-22842","Can't select screen mode / resolution on PSOBB and PSU","Created attachment 28207
PSU options screenshot

In the game options the list of available screen resolutions will show up empty on Phantasy Star Online Blue Burst and Phantasy Star Universe.

On PSU I get a:
fixme:win:EnumDisplayDevicesW ((null)00x33f5b40x00000000) stub!

On PSOBB I get a:
fixme:win:EnumDisplayDevicesW ((null)00x33f4dc0x00000000) stub!",647,"0"
"WINE-22487","tray icons broken with ubuntu 10.04 for some users (affects utorrent 2.0.1 autohotkey)","when i 'close' or minimize utorrent 2.0.1 it goes to the tray with a little icon of utorrent instead in the tray there's a space... a space full of nothing and the utorrent is gone! when i re-click on the utorrent.exe it emerge a window of the program showing that the program was still working.",235,"0"
"WINE-285","InternetSetOption is not implemented","Wine gives an error while running the sony station launcher.exe. This program
installs the online games at station.sony.com.

the error wine gives is as follows:
Exception raised
wininet.Internet.SetOptionA called at address 0x0040cbb1.
do you wish to debug it?",701,"0"
"WINE-23900","Photoshop Elements 8 installer: Next button is grayed out","The installation is never completed. It is possible to change the language at the following step it is hanged. Seems like a continued failure refer to bug.: 20735

Test configuration: Wine 1.2 ubuntu 10.04 and Photoshop Elements 8

(Other applications e.g. Google SketchUp 7 worked out just fine).",503,"0"
"WINE-22888","Damaged icons in QIP","In Wine 1.1.44 some icons became black (see the first attachment or forum link: http://forum.winehq.org/viewtopic.php?p=43790). In Wine 1.2.-rc1 it was partially fixed (see the second attachment). Icons never work bad in older Wine versions.",6,"0"
"WINE-44176","EverQuest crashes with unimplemented function d3dx9_43.dll.D3DXCreateKeyframedAnimationSet","wine: Call from 0x7b43bf4c to unimplemented function d3dx9_43.dll.D3DXCreateKeyframedAnimationSet

wine-3.0-rc1-34-gca9ca79d12",49,"0"
"WINE-26895","Microsoft 3D Movie Maker: rendering is red mesh/black text on black background","Application is Microsoft 3D Movie Maker

Installation completes without noticing any issues but game is unusable.

http://appdb.winehq.org/objectManager.php?sClass=version&iId=11767

Ubuntu Lucid with Wine 1.2.2. 

Colors are all messed up on most screens. Screen is covered in red mesh making text unreadable menus unusable and many of the animations look really bad. Possibly related to the game wanting to run in 256 color mode did not investigate. 

This issue makes the game pretty much unusable. I'm very much a novice so I don't want to submit a test result but I'd give this a garbage rating.",1104,"1"
"WINE-23753","3D Sexvilla 2 : Installs but doesn't launch.","Created attachment 29767
Wine 1.2-r6 trace on Ubuntu 10.04 x86

Wine fails to launch the game.
Always reproductible
- On Ubuntu 10.04 (x86) (machine with Nvidia card and proprietary drivers)
with wine 1.2-r6

On Gentoo 10.0 (standard profile) amd64 (machine with ATI card. Tested with proprietary drivers and radeonhd with 3D working)
with wine 1.2",25,"0"
"WINE-8783","USB serial ports do not work","MicroPro Pic programming software and programming device.
/dev/ttyUSB0 (FTDI FT232 USBSerial chip)
Works with Wine <= 0.9.22
Does not work with Wine >= 0.9.23 (inc. latest 0.9.39)
Bad committ is: d990c0d8e50c5eaabac8b855b9511cbc42d783bd

Seems that transmitt may be ok. Receive is either inoperable or delayed such
that software does not see returning data bytes (possibly through timeout?)
MicroPro is available from 
http://www.quasarelectronics.com/zip/micropro25.zip
but a programmer is needed to interface with.

Kind Regards
Richard",2403,"1"
"WINE-11624","Commandos 3 - rendering problems (P8 textures)","Created attachment 10830
screenshot with bugs visible

Some objects render incorrectly in Commandos 3 - Destination Berlin (see screenshot). The objects in this scene include an exit door hexagonal movement cursor and the character portrait.

Doesn't occur if the app is forced not to use P8 textures so the bug(s) are somewhere in palettized texture code.

Note: this is NOT a dup of #10973 it's some separate problem.",39,"0"
"WINE-31211","Tanner S-Edit rubberbanding leaves screen garbage","In Tanner's s-edit if you do 
  File -> New -> New Design
  Cell -> New View
and then drag the mouse in the schematic drawing window
it should draw a select box from where you started pressing
to the current mouse location.
This worked fine in wine-1.4 but in current wine the
rubberbanding leaves screen garbage behind.  Bisecting says

b81a7d976e3c3de36a01401d125871d3014e6c67 is the first bad commit
commit b81a7d976e3c3de36a01401d125871d3014e6c67
Author: Alexandre Julliard 
Date:   Fri May 25 11:47:46 2012 +0200

    gdi32: Always use the DIB engine for monochrome bitmap rendering.

A free demo of the app is available to qualified users/developers
(see http://www.tannereda.com/short-form ) but requires a dongle 
on a nearby Windows box.",6,"0"
"WINE-6180","battlefield 2 demo will not install storage32 error","err:storage:Storage32Impl_SmallBlocksToBigBlocks conversion failed: resRead =
0x8003001e resWrite = 0x00000000
err:storage:Storage32Impl_SmallBlocksToBigBlocks conversion failed: resRead =
0x8003001e resWrite = 0x00000000
err:storage:Storage32Impl_SmallBlocksToBigBlocks conversion failed: resRead =
0x8003001e resWrite = 0x00000000",36,"0"
"WINE-38368","AutoPatcher Updater 1.4.x (VB6 app) reports 'Error: Object doesn't support this action' (needs ITextStream::Close method implementation)","Hello folks

found during validation of bug 38364

Not really a blocker but dismissing a message box each time the method stub is called is annoying.

Prerequisite: 'winetricks -q vb6run'

--- snip ---
...
0024:fixme:scrrun:textstream_Close (0x1f4758): stub
...
0024:Call KERNEL32.RaiseException(c000008f00000001000000020033eae0) ret=660d0956
0024:trace:seh:raise_exception code=c000008f flags=1 addr=0x7b83b64b ip=7b83b64b tid=0024
0024:trace:seh:raise_exception  info[0]=deadcafe
0024:trace:seh:raise_exception  info[1]=deadcafe
0024:trace:seh:raise_exception  eax=7b8272ad ebx=7b8c1000 ecx=deadcafe edx=0033ea3c esi=0033eae0 edi=0033eaa0
0024:trace:seh:raise_exception  ebp=0033ea78 esp=0033ea14 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000283
0024:trace:seh:call_stack_handlers calling handler at 0x409926 code=c000008f flags=1
...
0024:Call oleaut32.VarBstrCat(001f712c LAPUP Has Started\r\nVersion: 1.4.43\r\n\r\nOperating System: English (1033) Windows XP Professional Service Pack 3\r\nCurrent Locale: English - United States / Non-Unicode Default: English - United States\r\nStarting APUP From: Z:\\home\\focht\\Downloads\r\nDate & Time: 06-Apr-2015 18:55 UTC Offset: ...001f6dd4 LError: Object doesn't support this action\r\nIn mdlGeneral.fileToString At Line 1120033ea74) ret=660e5f4d
...
0024:Call KERNEL32.WideCharToMultiByte(0000000000000000001f3ca4 LApplication Errorffffffff009a46e8000000220000000000000000) ret=660711c4
0024:Ret  KERNEL32.WideCharToMultiByte() retval=00000012 ret=660711c4
...
0024:Call user32.MessageBoxIndirectA(0033e9ec) ret=6606f73f 
...
--- snip ---

Source: https://source.winehq.org/git/wine.git/blob/533323d70397a53a2ce5002dc2038bcf5f122344:/dlls/scrrun/filesystem.c#l633

--- snip ---
633 static HRESULT WINAPI textstream_Close(ITextStream *iface)
634 {
635     struct textstream *This = impl_from_ITextStream(iface)
636     FIXME((%p): stub\n This)
637     return E_NOTIMPL
638 }
--- snip ---

$ sha1sum Apup_1_4_43.zip 
3c5694b5dee56bafbc4f528b37ef52eeed68a883  Apup_1_4_43.zip

$ du -sh Apup_1_4_43.zip 
2.3M	Apup_1_4_43.zip

$ wine --version
wine-1.7.40-29-gc1c108f

Regards",218,"0"
"WINE-40887","Nook eReader 2.5.3.4630 needs ncrypt.dll.NCryptOpenStorageProvider","Started recently after the introduction of ncrypt.dll. The temporary solution is to disable the DLL.",16,"0"
"WINE-9122","Prey : Fails to go past the start menu freezes when the mouse moves","Menu launches but the menu animation runs VERY slowly (skipping many frames)
freezes for a considerable amount of time with each slight mouse movement and
indefinitely with more pronounced movements. As a result it is impossible to
actually use the menu or start the game.

This behaviour appears first with wine 0.9.36 and continues to 0.9.42.
I've tried to do a regression test following the guidelines which pointed to
cvs patch :
http://www.winehq.org/pipermail/wine-cvs/2007-April/031889.html

(I'm sorry I don't know how exactly to link to patches I hope the link to the
archives is ok)

The same applies to Prey demo.",13,"0"
"WINE-10393","Sam and Max hits unimplemented function KERNEL32.dll.GetConsoleInputExeNameA","Created attachment 9081
Error logs returned in the Konsole

Wine fails to launch when I open Episode 4-6 of Sam & Max. (Previous episodes work fine)",23,"0"
"WINE-17218","Easy Dental 2007 application text is not rendered","Created attachment 19139
Easy Dental 2007 +text log

With today's Git (wine-1.1.14) after loading the Easy Dental 2007 application some UI text elements do not appear. Some tracing indicates that DrawText for some reason fails:

0009:Call user32.DrawTextA(0000031002b5fee8 Noteffffffff0032f4d000000825) ret=02ada52c
0009:Ret  user32.DrawTextA() retval=00000000 ret=02ada52c

A +text and relay log are attached. I am not aware of an available demo for this product.",191,"0"
"WINE-28872","GT Challenge displayed in wrong colors","Created attachment 37083
terminal output

A user reported in the WineHQ forum that this small freeware game doesn't look like as it should in Wine-1.3.30: http://forum.winehq.org/viewtopic.php?t=13741

The problem is present in 1.3.31 too and the result of the regression test:

9b7ea6f417a68517745203123d9df0516ebc60b1 is the first bad commit
commit 9b7ea6f417a68517745203123d9df0516ebc60b1
Author: Huw Davies 
Date:   Tue Sep 27 16:13:39 2011 +0100

    gdi32: Forward StretchBlt calls from the dib driver to the null driver.

:040000 040000 ce22d7943f0f7aecdda67e97b5812cb40b40cc96 c11b7ea6be9e5605ec4b3d2959af57b22ec7d54d M	dlls

The patch can't be reverted on 1.3.31 but
git checkout 9b7ea6f417a68517745203123d9df0516ebc60b1  >> wrong colors
git reset --hard HEAD^  >> good colors

Fedora 15 x86
X.Org X Server 1.10.4
Nvidia 250 / driver 280.13",11,"0"
"WINE-18758","LsaGetLogonSessionData unconditionally returns STATUS_SUCCESS","LsaGetLogonSessionData unconditionally returns STATUS_SUCCESS. Applications that use LsaGetLogonSessionData normally rely on a different behaviour: If LsaGetLogonSessionData returns STATUS_SUCCESS it allocates a buffer for the caller. Now if a client app relies on a buffer being allocated and reads from this buffer it will surely crash. Therefore LsaGetLogonSessionData should return an error code such as STATUS_NOT_IMPLEMENTED as long as it is only a stub so client apps that do proper error handling do not get tempted to touch the buffer that the current implementation in WINE will not allocate for them.",0,"0"
"WINE-6162","CACLS.exe is unimplemented","Tried running two different software applications from www.climateprediction.net
using Wine.

The first was a climate model from:
http://www.climateprediction.net/download/participate_ou.php
which is an 8Mb download:
http://www.climateprediction.net/download/cpdn_2_2_29.exe
Wine Installation Wizard works great up to the point CACLS needs to be used.
Then fails with an error message and then asks if the installation needs to be
rolled back. So a graceful exit.

The second application was the same experience. Downloaded from:
http://www.climateprediction.net/client/help/vis2.php
This is a 20Mb download:
http://www.climateprediction.net/client/vis2/cpdn_viz2.exe",1068,"1"
"WINE-33453","Delphi7 import type library hangs","Created attachment 44283
Few last lines

Delphi7 -> Project menu -> Import Type Library. Select Microsoft Internet Controls -> Create unit. -> Hangs and must be killed.

Workaround native oleaut32

I don't know what kind of log would be useful?! Anyway attached few lines how it happens..",925,"1"
"WINE-3709","Adobe Photoshop Elements 4 trial installer exits silently","The Adobe Photoshop Elements 4 trial installer exits silently
without even putting up a dialog.",298,"0"
"WINE-16088","Quartus II 80sp1: Opening About window crashes application","Created attachment 17314
Screenshot of the error window displaying quartus internal error information.

Opening Help->About Quartus II crashes Quartus II 80sp1 first with an error message inside Quartus saying about an internal error as shown in the attachment.

When running from the terminal using wine I get this message after the application crashes nothing else.
fixme:htmlhelp:HtmlHelpW HH case HH_GET_WIN_TYPE not handled.",561,"0"
"WINE-28222","Sid Meier's Civilization V - wine-1.3.27 not able to load - previous wine versions fine.","Created attachment 36151
console output

wine-1.3.26 played civ5 fine - I could install and play the steam version out the box (i.e I needed not to install any other components)

When I install 1.3.27 I am not able to load civ5 from steam wine crashes and I have to manually kill the process.

Downgrading to wine 1.3.26 I can play again fine.

Athlon64-X2
Nvidia geforce 450 GTS
Arch linux 64 (using the 32bit wine version)


If it helps here is the output on the console (attached)

Regards",15,"0"
"WINE-10859","access violation in mshtml.dll since 0.9.48 / Heredis 9","Created attachment 9751
Wine output when the bug occurs

Since version 0.9.48 with Heredis 9 an error occurs when trying to display html content with the gecko module.
An error window pops up : Access violation at address 7DDXXXXX in module 'mshtml.dll' Read of address 000000XX where X is a random number. The message is sometimes followed by Abnormal program termination killing the program.

This error occurs with versions 0.9.48 0.9.49 0.9.50 and 0.9.51 but not with previous versions. The tests were made using Ubuntu 7.10.",309,"0"
"WINE-1115","Pirch98: Rebar_Layout problem","Bug comments restored from Gmane.org: 
 
When you run the program it is NOT usable it is repainting continually the  
screen and no one control works. It works fine with comctl32 native. The  
problem looks like that happen in rebar because it is giving some ERR messages: 
 
err:rebar:REBAR_AdjustBands Phase 1 failed x=561 maxx=0 start=0 end=0 
err:rebar:REBAR_AdjustBands Phase 1 failed x=565 maxx=0 start=0 end=0 
err:rebar:REBAR_AdjustBands Phase 1 failed x=565 maxx=0 start=0 end=0 
 
If you add a return to the start of the function REBAR_Layout the rebar is  
painted incorrectly but the program can be used. 
 
If you don't remove REBAR_Layout and only comment the last line of the 
REBAR_Layout function  
//REBAR_ForceResize (infoPtr) 
 
Then the rebar are painted better (but no correct) and it is usable. 
 
Regards 
Carlos.",1578,"1"
"WINE-38182","King of Dragon Pass: can't change audio volume level","Adjusting the volume level in the game has no effect the game is playing audio on the default highest volume.
The game is originally from 1999 I tested with the GOG version. The problem can be reproduced with the demo version too.
The same problem in Wine 1.4.1 1.6.2 and 1.7.38.

Last working version: Wine 1.3.25. 
Regression introduced by

commit be158e48ad8ee556941bd3f1ff94ca7116680d00
Author: Andrew Eikum 
Date:   Mon Jul 11 08:28:30 2011 -0500

    winmm: Implement waveOut* on top of MMDevAPI.

Steps to reproduce the problem in the demo:
After installation start the game with tour.exe. Click on the highlighted  button then click  then . Click on the button right next to  in the lower right corner and try to change audio volume level using the slider...you can't.

Wine 1.7.38
Fedora 21
Alsa 1.0.28 (Pulseaudio is not running)

KoDP-Tour.exe
sha1: 445443bd6365f71257abfe0809e9a1932791d1ed",1546,"1"
"WINE-30276","Steam installer crashes after clicking first Next button","Created attachment 39550
backtrace from SteamInstall.msi

I've been unable to install Steam for some time across multiple versions of Wine dating back maybe six months.  Current version is 1.4.  I run the installer downloaded from the Steam site as follows:

  $ wine msiexec /i SteamInstall.msi

It starts the installer and displays the first dialog with Next and Cancel buttons.  When I click Next it crashes with the attached backtrace.

In trying again to check a few things for this bug report I noticed it says:

  +----------------------------------------+
  |              Steam Setup               +
  +----------------------------------------+
  | Resuming the Steam Installation Wizard |
  |                                        |
  | Are you ready to have the Installation |
  | Wizard continue the installation?      |
  |                                        |
  +----------------------------------------+
  |                   | Next> | | Cancel | |
  +----------------------------------------+

So possibly the problem is with leftovers from a previous installation attempt.  I don't know how to clear them out though.",750,"0"
"WINE-10971","Skype 3.5.x crash after few seconds of running","Created attachment 9916
+io+int log

Regression. Happens since this commit:

http://source.winehq.org/git/wine.git/?a=commith=e2a366ce338d5b6b0f3c8962d70134f8d4e87f3b
kernel32: Forward interrupts in 32-bit code to winedos too.

Prior to this - Skype could be started in win9x mode (it doesn't work in XP/2000 because of other bugs) then it would show OLE error message but afterwards would be perfectly usable. Now the app starts just like before but crashes after a few seconds of running. Attaching log",2,"0"
"WINE-28797","comctl32/tests/listview.ok triggers uninitialized memory read of local variable in NC_DrawCaption()","Here's the valgrind log (with -O0 on ubuntu 11.10):

Conditional jump or move depends on uninitialised value(s)
    strlenW (unicode.h:200)
    DrawTextExW (text.c:886)
    DrawTextW (text.c:1132)
    NC_DrawCaption (nonclient.c:978)
    NC_DoNCPaint (nonclient.c:1062)
    NC_HandleNCActivate (nonclient.c:1153)
    DEFWND_DefWinProc (defwnd.c:404)
    DefWindowProcA (defwnd.c:918)
    parent_wnd_proc (listview.c:436)
    ??? (winproc.c:172)
    call_window_proc (winproc.c:242)
    WINPROC_call_window (winproc.c:899)
    call_window_proc (message.c:2211)
    send_message (message.c:3084)
    SendMessageW (message.c:3264)
    set_active_window (focus.c:152)
    set_foreground_window (focus.c:207)
    SetForegroundWindow (focus.c:306)
    USER_SetWindowPos (winpos.c:2103)
    SetWindowPos (winpos.c:2151)
    show_window (winpos.c:1088)
    ShowWindow (winpos.c:1186)
    WIN_CreateWindowEx (win.c:1498)
    CreateWindowExW (win.c:1582)
    create_parent_window (listview.c:489)
    test_notifyformat (listview.c:3943)
    func_listview (listview.c:4831)
    run_test (test.h:556)
    main (test.h:624)
 Uninitialised value was created by a stack allocation
   at NC_DrawCaption (nonclient.c:913)",921,"1"
"WINE-29616","1Password crashes while creating a backup","Created attachment 38367
Fail log

This bug occurs in the licensed version although I'd guess it also happens under the trial version.

Clicking the menu item to Back Up 1Password Data causes the application to lock up and crash after a few minutes.",406,"0"
"WINE-30263","builtin iexplore does not display Chinese","LANG=zh_CN.utf8

Chinese display ok in wine notepad.

We can use wine bugzilla for testing:

Testing Chinese display: 

In wine builtin iexplore the English letters display OK correctly but the Chinese display as raw unicode hex number for example

 in unicode is 6D4B in Wine builtin iexplore it display as:

+--+
|6D|
|4B|
+--+

I'm not very sure if it is a regression will retest with earlier version later.",166,"0"
"WINE-26956","Mouse not released after moving or resizing any UI window","Hi
Since wine-1.3.18 trying to move or resize any UI window in EVE even before logging in ( click OK without a password and try to move the pop up window) catches the mouse. Unable to release the mouse afterwards but ESC closes the pop up.

Bisect revealed:
commit bd3ec1a973fef5ff46a6242aa4e04dd4b7a40799
Author: Alexandre Julliard 
Date:   Wed Apr 13 20:18:30 2011 +0200

    winex11: Retrieve raw mouse events through XInput2 while the cursor is clipped.

But this patch is part of a whole series regarding XInput2.

Workaround for >= wine-1.3.18 is adding --without-xinput2 to configure.

Cheers
Stefan",237,"0"
"WINE-4028","Picasa: Y: home drive appears 3 times in folder manager","build 20051209

1) Launch Picasa
2) Go to Tools > Folder manager
result: home Y drive appears 3 times in Folder List.  Twice as y:\ once as Y:\",521,"0"
"WINE-36043","Battlefield 1942: Crashes after map loading","Created attachment 48197
Console output after the crash occured

Since Wine 1.7.17 Battlefield 1942 crashes after loading a map (in single player) or even during the loading (multi player). The sound suddenly stops and a crash window appears a git bisect reveals:


3a7bf4a34b82f1857f40f482890e148d7dd9e30a is the first bad commit
commit 3a7bf4a34b82f1857f40f482890e148d7dd9e30a
Author: Piotr Caban 
Date:   Fri Apr 18 12:33:37 2014 +0200

    msvcr70: Share the source code with msvcrt.

:040000 040000 38ff925d4be420c3cc7d25106dd5ea28e413f98b 38c80e23bae766961e52d616d3512a791ba1637b M      dlls
:040000 040000 24cea6788ed8a253d642a1c5e1bb76b2f01ede49 e2d0432572dde15bbe19f289f6d7c96b49763e8e M      tools

I'm attaching the console output.",1,"0"
"WINE-1925","Unimplemented wglUseFontBitmapsW()","This is from the wine-20031212-1rh9winehq.i686.rpm release.

I have an OpenGL application which fails like this:

Unhandled exception: unimplemented function opengl32.dll.wglUseFontBitmapsW
called in 32-bit code (0x41f58058).
In 32-bit mode.
0x41f58058 (OPENGL32.DLL..text+0x7058 in OPENGL32.DLL): subl    $4%esp
Wine-dbg>",4,"0"
"WINE-9580","Wine should return 32 instead of 31 when it CreateFile fails due to file_set_error: Text file busy.","Created attachment 7955
Detailed Information Source Code and Logs

Say I have a cifs share mounted on /mnt/share/.
When CreateFile on a file in this share fails due the file being in use by another client then it returns 31. This is wrong on windows 32 is returned.

The following also gets displayed:
file_set_error: Text file busy",7,"0"
"WINE-30567","Paltalk Messenger crashes on start (kernel32.OutputDebugStringA needs to cope with NULL pointer)","I Work under Ubuntu 12.04 64bits processor AMD Quad 64bits 4Gb memory DDRAM

I Install the last version of Paltalk with the last version of Wine. When I try run from console say that:

 wine c:\Program Files (x86)\Paltalk Messenger\paltalk.exe
fixme:service:scmdatabase_autostart_services Auto-start service LUMWdf failed to start: 2
p11-kit: couldn't load module: /usr/lib/i386-linux-gnu/pkcs11/gnome-keyring-pkcs11.so: /usr/lib/i386-linux-gnu/pkcs11/gnome-keyring-pkcs11.so: no se puede abrir el archivo del objeto compartido: No existe el archivo o el directorio
fixme:msxml:saxxmlreader_QueryInterface interface {00000126-0000-0000-c000-000000000046} not implemented
fixme:dwmapi:DwmIsCompositionEnabled 0x32c3a0
wine: Unhandled exception 0xc0000417 at address 0x7cd668 (thread 0009) starting debugger...

Can you help me? Thanks.

PD.- If posible answer in spanish my english is limited :-)",124,"0"
"WINE-31590","AMD Radeon HD 7850 with 2GB video memory is recognized as Radeon HD 3200 with 128MB video memory.","AMD Radeon HD 7850 with 2GB video memory is recognized as Radeon HD 3200 with 128MB video memory by Wine. Some games can't run because they require a more advanced graphics card and more video memory. When will Wine add AMD Radeon HD 7000 series to the list of supported graphics cards and automatically recognize them and their video memory correctly? I don't think that it is a good solution to manually add some registry keys such as VideoMemorySize VideoPciDeviceID and VideoPciVendorID.",7,"0"
"WINE-19802","SiSoftware Sandra 2009.SP4 unhandled exception","Created attachment 23196
wine-1.1.27-387-ge4106b6 console output

SiSoftware Sandra 2009.SP4 causes an unhandled exception when loading and exits.

  1 0x7e86dc0f RpcRaiseException+0x35(exception=1722) [/home/test/wine-git/dlls/rpcrt4/rpcrt4_main.c:176] in rpcrt4 (0x0032acfc)
  2 0x7e83531b NdrGetBuffer+0xa9(stubmsg=0x32b230 buflen=1172 handle=0xe69118) [/home/test/wine-git/dlls/rpcrt4/ndr_clientserver.c:175] in rpcrt4 (0x0032ad3c)
  3 0x7e851881 NdrClientCall2+0xa03(pStubDesc=0x4bc260 pFormat=H) [/home/test/wine-git/dlls/rpcrt4/ndr_stubless.c:764] in rpcrt4 (0x0032b3fc)",108,"0"
"WINE-930","Wine failed with return code 5","Bug comments restored from Gmane.org: 
 
I am trayin to run CardScan (www.cardscan.com) in linux but it fail.  
The last lines of the debug say: 
 
trace:heap:RtlFreeHeap (402200000000000240258a4c): returning TRUE 
trace:heap:RtlFreeHeap (402200000000000240258a0c): returning TRUE 
trace:heap:RtlDestroyHeap 40a70000 
trace:heap:RtlFreeHeap (4022000000000002402589b0): returning TRUE 
trace:heap:RtlAllocateHeap (402200000000000200000018): returning 402589b0 
Wine failed with return code 5 
 
 
------- Additional Comments From giacummo  adinet.com.uy  2002-07-31 08:06 
------- 
Created an attachment (id=243) 
debug log compressed 
 
 
------- Additional Comments From giacummo  adinet.com.uy  2002-08-01 07:47 
------- 
I add the nexts lines: 
 
 
Wine Version -> Wine 20020411 
gcc Version  -> gcc version 2.96 20000731 (Red Hat Linux 7.3 2.96-110) 
Program      -> CardScan (www.cardscan.com  / www.corex.com) 
Comand Line  -> wine /cs.exe 
 
 
 
08070108:trace:gdi:GDI_GetObjPtr (08d0): enter 2 
08070108:trace:gdi:GDI_ReleaseObj (08d0): leave 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  1 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 1 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  2 
08070108:trace:gdi:GDI_GetObjPtr (08d4): enter 2 
08070108:trace:gdi:GDI_ReleaseObj (08d4): leave 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 208070108:trace:gdi:GDI_ReleaseObj (08d0): leave 1 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 1 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  0 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 0 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  1 
08070108:trace:gdi:GDI_GetObjPtr (08d0): enter 1 
08070108:trace:gdi:SelectObject hdc=08d0 006e 
08070108:trace:gdi:GetObjectType 0000006e 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 1 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  2 
08070108:trace:local:LOCAL_InternalLock 006e returning 0052 
08070108:trace:gdi:GDI_GetObjPtr (006e): enter 2 
08070108:trace:local:LOCAL_Unlock 006e 
08070108:trace:gdi:GDI_ReleaseObj (006e): leave 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 208070108:trace:win32:_LeaveSysLevel (0x406869a4 
level 3): thread 0x8070108 (fs 008f pid 1628) count after  1 
08070108:trace:gdi:GetObjectA 0000006e 12 0x40476234 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 1 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  2 
08070108:trace:local:LOCAL_InternalLock 006e returning 0052 
08070108:trace:gdi:GDI_GetObjPtr (006e): enter 2 
08070108:trace:local:LOCAL_Unlock 006e 
08070108:trace:gdi:GDI_ReleaseObj (006e): leave 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  1 
08070108:trace:gdi:X11DRV_SelectBrush hdc=08d0 hbrush=006e 
08070108:trace:gdi:X11DRV_SelectBrush BS_SOLID 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 1 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  2 
08070108:trace:local:LOCAL_InternalLock 0092 returning 01e2 
08070108:trace:gdi:GDI_GetObjPtr (0092): enter 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  0 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 0 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  1 
08070108:trace:local:LOCAL_InternalLock 006e returning 0052 
08070108:trace:gdi:GDI_GetObjPtr (006e): enter 1 
08070108:trace:local:LOCAL_Unlock 006e 
08070108:trace:gdi:GDI_ReleaseObj (006e): leave 1 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 1 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  0 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 0 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  1 
08070108:trace:local:LOCAL_InternalLock 1182 returning 1352 
08070108:trace:gdi:GDI_GetObjPtr (1182): enter 1 
08070108:trace:local:LOCAL_Unlock 1182 
08070108:trace:gdi:GDI_ReleaseObj (1182): leave 1 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  1 
08070108:trace:gdi:X11DRV_SelectBrush hdc=0860 hbrush=007e 
08070108:trace:gdi:X11DRV_SelectBrush BS_SOLID 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 1 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  2 
08070108:trace:local:LOCAL_InternalLock 0092 returning 01e2 
08070108:trace:gdi:GDI_GetObjPtr (0092): enter 2 
08070108:trace:local:LOCAL_Unlock 0092 
08070108:trace:gdi:GDI_ReleaseObj (0092): leave 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 2 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  1 
08070108:trace:gdi:GDI_ReleaseObj (0860): leave 1 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count before 1 
08070108:trace:win32:_LeaveSysLevel (0x406869a4 level 3): thread 0x8070108 (fs 
008f pid 1628) count after  0 
08070108:trace:win32:_EnterSysLevel (0x406869a4 level 3): thread 0x80 
...",500,"0"
"WINE-31408","anarchy online crash new zone","Created attachment 41278
console output Anarchy online crash

Hi Having the following problem:

Game = Anarchy online
Problem = Game crashes when entering a new Zone
Console output is attached.

OP System = Linux mint 13
Wine = V1.5.10
PC = Asus laptop K53SJ
Graphics drivers (Vanilla Linux Mint drivers)

Any help would be appreciated. Cheers",723,"0"
"WINE-16228","Cannot get a script function from within a comment node.","Created attachment 17474
Test case






<!--
function Testing() { }
// -->





With the above html code we cannot call the function Testing directly from code.

Test case provided.",287,"0"
"WINE-7138","OS-Memory-map crash not found in wine 0.9.28","When using the program memory-map (www.memory-map.co.uk) it crashes when
Overlay->Properties is chosen from the menu. Also there are six maximise
minimise MDI buttons show up before crash. This should open a dialog window.

This was not found in wine0.9.28.

Thanks for all the hard work.",435,"0"
"WINE-23925","world of warcraft loses sound when alt-tabbing out.","I can alt-tab out of world of warcraft just fine but when i go back to world of warcraft i lose sound and must restart world of warcraft to get sound back. I think this must be a regression in Wine 1.3. I remember some releases back that wine and world of warcraft did the exact same thing. So until this gets fixed i have reverted back to wine 1.1.37 where it does not have this problem.

thank you
Dwight",529,"0"
"WINE-8152","CPF Editor crashes","Hi a user submitted garbage testresults for this app in the appdb. Seems to be
some kind of editor they use at the European Community (Brussels?)

Quote from sender:
It is still the latest version of the cpfeditor and for researchers it is still
a major reason to keep windows on their laptops.

The application fails because of unimplemented stuff in msxml3:

fixme:msxml:xmlnode_GetIDsOfNames

Then there's a window about an application error and that's where the fun stops...",325,"0"
"WINE-40792","Multiple 64-bit Unreal Engine 4 games crash at start (Direct3DDevice->CheckFeatureSupport(D3D11_FEATURE_THREADING&ThreadingSupportsizeof(ThreadingSupport)) failed)","I am currently testing two 64-bit games that use Unreal Engine 4 in Wine 1.9.12: The Solus Project and The Flame in the Flood.

Both of these games are 64-bit only so 32-bit tests will not apply to these games. Both are being ran in clean 64-bit prefixed set in Windows 7. 

When these games crash they do not leave any backtraces.",11,"0"
"WINE-16891",".NET 3.0: Windows Workflow Foundation installer claims .NET 2.0 Framework needed MsiNetAssemblySupport/msi fusion version retrieval bug","Hello

after getting past bug 16888 another subinstaller Windows Workflow Foundation fails claiming .NET 2.0 Framework is required.
This is of course already installed as part of prerequisite.

Prerequisites:

---
1. clean WINEPREFIX
2. sh mywinetricks -q wmicore
3. sh winetricks -q dotnet20
4. download .NET 3.0 Framework installer from: http://download.microsoft.com
/download/4/d/a/4da3a5fa-ee6a-42b8-8bfa-ea5c4a458a7d/dotnetfx3setup.exe
(sha1sum: 
a566bcd2ffffc3842a95adc57f7df3f8cd11577f)
5. export _SFX_CAB_SHUTDOWN_REQUEST=1 (workaround see bug 9158)
6. wine ./dotnetfx3setup.exe

It might take a while until all required packages are downloaded using BITS.

Note: If you need to redo steps backup the directory dotnetfx304506.30 from
c:\\windows\\temp to a different location remove ~/.wine copy
dotnetfx304506.30 again to c:\\windows\\temp to prevent BITS from
downloading over and over again.

---

The corresponding logfile dd_WF_3.0_x86retMSI48DE.txt reveals nothing it's empty.

Using ORCA on WF_3.0_x86.msi shows that MsiNetAssemblySupport >=2.0.50727 condition needs to be satisfied.
The MsiNetAssemblySupport property should be set in set_msi_assembly_prop() but it doesn't seem so.

Trace log shows:

--- snip ---
0016:Call version.GetFileVersionInfoSizeW(00149050 LC:\\windows\\Microsoft.NET\\Framework\\v3.0\\fusion.dll0032f2d0) ret=6024ad80
0016:Call KERNEL32.GetModuleHandleExW(00000000001490500032ef90) ret=609ecc77
0016:Ret  KERNEL32.GetModuleHandleExW() retval=00000000 ret=609ecc77
0016:Call KERNEL32.LoadLibraryExW(00149050 LC:\\windows\\Microsoft.NET\\Framework\\v3.0\\fusion.dll0000000000000002) ret=609ecc99
0016:Call PE DLL (proc=0x60c431f0module=0x60c40000 Lpsapi.dllreason=PROCESS_ATTACHres=(nil))
...
0016:Ret  PE DLL (proc=0x60bd98c4module=0x60bd0000 Lfusion.dllreason=PROCESS_ATTACHres=(nil)) retval=1
0016:Ret  KERNEL32.LoadLibraryExW() retval=60bd0000 ret=609ecc99
0016:Call KERNEL32.FindResourceW(60bd00000000000100000010) ret=609ecd25
0016:Ret  KERNEL32.FindResourceW() retval=00000000 ret=609ecd25
0016:Call KERNEL32.FreeLibrary(60bd0000) ret=609ecd94
...
0016:Ret  KERNEL32.FreeLibrary() retval=00000001 ret=609ecd94
0016:Call KERNEL32.SetLastError(00000714) ret=609ed6e6
0016:Ret  KERNEL32.SetLastError() retval=00000714 ret=609ed6e6
0016:Ret  version.GetFileVersionInfoSizeW() retval=00000000 ret=6024ad80 
--- snip ---

Looking into C:\\windows\\Microsoft.NET\\Framework\\v3.0\\fusion.dll path there is no native fusion.dll.
Hence Wine's builtin fusion.dll is loaded by LoadLibraryExW().
The builtin fusion doesn't contain version resource so it fails.

This is a subtile problem: adding version resource to Wine's fusion might cause problems because every .NET Framework might ship it's own version of fusion which ought to override builtin fusion.

http://msdn.microsoft.com/en-us/library/aa370325.aspx 

Usually:

C:\WINDOWS\Microsoft.NET\Framework\v1.1.4322\fusion.dll
C:\WINDOWS\Microsoft.NET\Framework\v2.0.50727\fusion.dll

AFAIK .NET 3.0 and 3.5 don't bring their own fusion version (someone might check a real Windows installation with these Frameworks present).

The problem is how dlls/msi/package.c:get_fusion_filename() works.
At the point where the installation fails the following registry data is present at the location get_fusion_filename() reads:

--- snip ---
[HKEY_LOCAL_MACHINE\Software\Microsoft\NET Framework Setup]

[HKEY_LOCAL_MACHINE\Software\Microsoft\NET Framework Setup\NDP]

[HKEY_LOCAL_MACHINE\Software\Microsoft\NET Framework Setup\NDP\v2.0.50727]
Increment=42
Install=dword:00000001
MSI=dword:00000001
SP=dword:00000000

[HKEY_LOCAL_MACHINE\Software\Microsoft\NET Framework Setup\NDP\v2.0.50727\1033]
Install=dword:00000001
MSI=dword:00000001
SP=dword:00000000

[HKEY_LOCAL_MACHINE\Software\Microsoft\NET Framework Setup\NDP\v3.0]

[HKEY_LOCAL_MACHINE\Software\Microsoft\NET Framework Setup\NDP\v3.0\Setup]

[HKEY_LOCAL_MACHINE\Software\Microsoft\NET Framework Setup\NDP\v3.0\Setup\Windows Communication Foundation]
InstallSuccess=dword:00000001
ReferenceInstallPath=C:\\Program Files\\Reference Assemblies\\Microsoft\\Framework\\v3.0\\
RuntimeInstallPath=C:\\windows\\Microsoft.NET\\Framework\\v3.0\\Windows Communication Foundation\\
Version=3.0.04506.30

[HKEY_LOCAL_MACHINE\Software\Microsoft\NET Framework Setup\NDP\v3.0\Setup\Windows Presentation Foundation]
@=Windows Presentation Foundation
InstallRoot=C:\\windows\\Microsoft.Net\\Framework\\v3.0\\WPF\\
InstallSuccess=dword:00000001
ProductVersion=3.0.6920.0
Version=3.0.6920.0
WPFCommonAssembliesPathx86=C:\\windows\\system32\\
WPFNonReferenceAssembliesPathx86=C:\\windows\\Microsoft.Net\\Framework\\v3.0\\WPF\\
WPFReferenceAssembliesPathx86=C:\\Program Files\\Reference Assemblies\\Microsoft\\Framework\\v3.0\\
--- snip ---

I don't know how Windows msi does MsiNetAssemblySupport.
Maybe a check for real existence of (native) fusion.dll to prevent false load of builtin fusion is better.
If native fusion is not present in full path that .NET Framework subkey data (version) can't be used for MsiNetAssemblySupport property.

Regards",77,"0"
"WINE-20329","Free Realms crashes with Unimplemented d3dx9_36.dll.D3DXCreateEffectFromFileA","Created attachment 24042
crash log

Getting around bug 18549 this comes up. winetricks d3dx9 gets around it.",405,"0"
"WINE-25686","uninstaller and appwiz.cpl fails to remove registry entry","The WINE uninstaller.exe and appwiz.cpl both fail to remove the:

HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall

registry entry for the program being uninstalled.  Installers such as InstallShield will not reinstall a program if the registry entry is not removed.  This forces many uses to use regedit to delete the registry entry every time an application program needs to be uninstalled and installed again.

Note that both programs curretly have the logic to remove the registry entry but it is only done if the attempt to uninstall a program fails and the user requests the entry be removed.  This is not the way it works on a real Windows system.  The registry entry is removed upon successfull uninstall.

Both programs contain the function UninstallProgram() which contain three lines of code that delete the registry entry of a program being unistalled.  This logic needs to be duplicated for a successfully removal.",12,"0"
"WINE-16238","Star Wars: The Battle of Endor: Crashes while starting.","Created attachment 17496
Terminal log.

The game gives the error Game could not be initialized.
Error:430
Description:Class does not support Automation or does not support expected interface and crashes after clicking the Ok button on the error window.",1452,"1"
"WINE-23249","Fallout 3 Oblivion: Most sound effects missing.","See bug #21609.  A purported fix for this bug was committed to the source tree as commit 258d42982cf526b3d9c59ccb522b27db3f519541 and included in release 1.2-rc4.

However I am experiencing the same issue (no sound effects with the exception of dialogue) as named in that bug report with a clean build of 1.2-rc4.  Not surprisingly regression testing leads back to the same bad commit:

c62cf2e049ad37d9561957c47d23fc7ba13adc90 is first bad commit
commit c62cf2e049ad37d9561957c47d23fc7ba13adc90
Author: Eric Pouech 
Date:   Sat Jan 23 18:56:45 2010 +0100

    winmm: In mmio manipulation always ensure that we use a HFILE for mmio internal handlers (and not a HANDLE).

:040000 040000 34f94674da252fbcf201217dddb31973ead906ca 59d18475ffc5e5e76df8b5277fb3250ef091721e M	dlls

named in 21609.",13,"0"
"WINE-1779","Type 1 fonts not supported for printing.","On RH9 Type 1 fonts supplied by the Linux font server work for display but
cannot be used for printing.  Only the base fonts for the printer can be used
for printing.  This does not apply to TTF fonts installed in c/windows/system/fonts.",1576,"1"
"WINE-19144","QueryContextAttributesW returns wrong return value","If a .net application wants to connect to an mssql server it will fail because of wine's secur32.dll (schan) return value. It should return 0 (SEC_E_OK) but it returns -2146893048.
I got a successful connection with native secur32.

I have done some further investigation:
If I manually return 1 at scannel.c:872 (return SEC_E_OK) I got error 1 in error dialog. But if I pass 0 I got -2146893048.


MSSQL Management Studio's error in detail:

TITLE: Connect to Server
------------------------------

Cannot connect to .

------------------------------
ADDITIONAL INFORMATION:

A connection was successfully established with the server but then an error occurred during the pre-login handshake. (provider: SSL Provider error: 0 - SSL Provider: ) (Microsoft SQL Server Error: -2146893048)

For help click: http://go.microsoft.com/fwlink?ProdName=Microsoft+SQL+Server&EvtSrc=MSSQLServer&EvtID=-2146893048&LinkId=20476

------------------------------
BUTTONS:

OK
------------------------------

I tested with a private .net application and MSSQL Management Studio 2005 Express.
I have .net Framework 3.5 installed under wine. (with Louis Lenders' lsa and wbemprox patch)",1330,"1"
"WINE-12982","MP3tag -  value not set if multiple fields selected","When multiple tracks are selected any fields in the tag panel that are not common to all tracks should automatically change to  i.e. don't update this value.

Under Wine this does not happen.

This is a major usability pain because it results in the tags in the selected tracks being over-written.

Currently using Mp3Tag 2.41 although I have seen the same behaviour in earlier versions of both Mp3Tag and Wine.",503,"0"
"WINE-5485","Command and Conquer Generals (and Zero Hour) hang on splash screen","Both these games hang on the splash screen when they are loading and don't get
any further. Killing WINE brings up the EA error message (generic one) that says
something may be wrong with your machine and it may be overheating or have a
virus (which shows it hasn't locked up).",2074,"1"
"WINE-2899","Half Life 2 Installer - cannot accept EULA","fixme:msi:MsiInstallProductW LZ:\\media\\cdrecorder1\\hl2.msi L
WISE_SETUP_EXE_PATH=Z:\\media\\cdrecorder1\\hl2.exe
fixme:msi:ACTION_PerformUIAction UNHANDLED MSI ACTION LSetup_Dialog
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action
LFindRelatedProducts
fixme:msi:ACTION_AppSearchReg AppSearch unimplemented for RegLocator (key path
LSOFTWARE\\Valve\\Steam)
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action LValidateProductID
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action LIsolateComponents
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action
LMigrateFeatureStates
fixme:msi:MsiGetMode STUB (iRunMode=16)
fixme:msi:ACTION_PerformUIAction UNHANDLED MSI ACTION LWelcome_Dialog
fixme:msi:ACTION_PerformUIAction UNHANDLED MSI ACTION LProgress_Dialog
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action
LAllocateRegistrySpace
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action
LUnpublishComponents
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action
LMsiUnpublishAssemblies
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action LUnpublishFeatures
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action LUnregisterComPlus
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action LSelfUnregModules
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action
LUnregisterTypeLibraries
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action LRemoveODBC
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action LUnregisterFonts
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action
LRemoveRegistryValues
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action
LUnregisterClassInfo
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action
LUnregisterExtensionInfo
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action
LUnregisterProgIdInfo
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action
LUnregisterMIMEInfo
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action LRemoveIniValues
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action LRemoveShortcuts
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action
LRemoveEnvironmentStrings
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action
LRemoveDuplicateFiles
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action LRemoveFiles
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action LRemoveFolders
fixme:msi:ACTION_HandleStandardAction UNHANDLED Standard Action LMoveFiles
err:msi:extract_a_cabinet_file FDICopy failed
err:msi:ACTION_InstallFiles Unable to ready media
err:msi:ACTION_ProcessExecSequence Execution halted due to error (1627)
err:msi:ACTION_ProcessUISequence Execution halted due to error (1627)
fixme:msi:ACTION_PerformUIAction UNHANDLED MSI ACTION LFatal_Error",254,"0"
"WINE-31813","Jamestown input (rawinput) still doesn't work","Steam Jamestown's keyboard/mouse input still don't work for me on wine 1.5.13 vanilla wine with a fresh wineprefix in winxp or win7 mode. It seems to use raw input. Same story on both Arch Linux and Linux Mint 13. In older versions of wine it worked fine with a raw input patch raw3.patch available from the now closed-fixed rawinput thread. Other games that didn't work due to requiring rawinput before work fine now though thanks to you guys implementing support for it (thanks :D).",29,"0"
"WINE-10979","Descent FreeSpace Retail and Demo hang","Created attachment 9935
WINEDEBUG=relay wine FS.exe 2>FS.exe.txt  bzip2 FS.exe.txt

Descent FreeSpace the Great War Retail and Demo appear to hang in IDirectDraw2Impl_SetDisplayMode.  Tested with 800x600 virtual desktop.

Attached relay log of wine-0.9.52 - I don't think this application has been working under wine before.

The demo version can be obtained from here:

http://www.pxo.net/files/fsdemo10.exe - 26MB

The hang occurs regardless of whether software or hardware acceleration is used in the settings.  I interrupted wine after several minutes of this behavior which is where the log terminates.",336,"0"
"WINE-16675","Europa Universalis 2: crashes after a few moments upon starting","Created attachment 18310
A log of Wine's output after the crash occurs.

I'm running Ubuntu 8.04 and Wine 1.1.10.

I installed the game from the CD updated to the latest version (1.09) and the game launches just fine. When it gets into the main menu I notice that it's running a lot slower than it should be. I can start a single player game and it still runs slow and then crashes. It doesn't matter what I do in the game after about a minute it crashes. I can leave it at the main menu or start a game or a tutorial or whatever it crashes. It crashes strait to the desktop without returning to the normal resolution (I run at 1024x768).

After it crashes Wine starts acting very funny. None of the Wine applications running will show up in the system tray like they're supposed to (I run uTorrent). When I maximize uTorrent it only draws at a 800x600 resolution (the resolution EU2 was running at) anything outside of that is squiggles. The only way I know to fix this is to log out of Ubuntu and log back in.",410,"0"
"WINE-13841","Babylon 7: Babylon freezes in trial version mode","Created attachment 13901
Shell output Babylon 7 (trail) on wine-1.0-rc4 

Babylon 7 freezes if no license key is entered during installation but Babylon is set to trail mode.",183,"0"
"WINE-22533","Half-Life: Logo video rendering is wrong (msrle32 does not handle frames with 0 biClrUsed)","Created attachment 27624
screenshot

See attached screenshot. Terminal output is minimal:
fixme:win:EnumDisplayDevicesW ((null)00x32e2980x00000000) stub!
fixme:x11drv:X11DRV_desktop_SetCurrentMode Cannot change screen BPP from 32 to 16
fixme:mci:MCI_Break (0102) vkey 001B stub
ALSA lib ../../../src/pcm/pcm.c:7234:(snd_pcm_recover) underrun occured
fixme:mci:MCI_Break (0102) vkey 001B stub
ALSA lib ../../../src/pcm/pcm.c:7234:(snd_pcm_recover) underrun occured
fixme:win:LockWindowUpdate (0x30052) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x30052) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!",2148,"1"
"WINE-33581","Wine does not quit gracefully","Quitting Wine will not ask the open programs to quit. It just shuts down everything.",1002,"1"
"WINE-2560","SetWindowPos() doesn't make TOPMOST windows","When the SetWindowPos() is called with the HWND_TOPMOST parameter 
the window passed to the function doesn't become a TOPMOST window.",1093,"1"
"WINE-23312","Photo! Editor crashes because of importing gdiplus by ordinal","(new to all this).Running Linux MINT 9 Isadora ...... have downloaded and installed Photo! Editor

http://pho.to/editor/download.php

have done the permissions but when I click on the .exe file in wine I get a Program Error message box with
***************************************************************************

 The program Photo!Editor.exe has encountered a serious problem and needs to close. We are sorry for the inconvenience.

This can be caused by a problem in the program or a deficiency in WINE... you may want to check appdb.winehq.org for tips about running this application

(been there couldn`t find anything)

If this problem is not present under windows ( it works fine in windows Vista) and has not been reported yet  you can report it at http://bugs.winehq.org

*****************************************************************************

Which is what I am doing !....

(It may be something to do with DLL files  (as I needed one to get IRFANVIEW working )(but the error box doesn`t give that info ...)

thanks

Gerry",329,"0"
"WINE-38480","RuneScape crashes when switching to OpenGL renderer (glCopyTexSubImage3DEXT blacklisted by extension filtering)","Originally reported here:
https://bugs.wine-staging.com/show_bug.cgi?id=205

Commit http://source.winehq.org/git/wine.git/commit/bfd4836867d6d90eaeae6ccbc02e37678b59b8f1 caused an regression which causes the game to crash when trying to switch to OpenGL renderer mode. The problem still exists in wine-1.7.41-66-g4fbaab2 and is thus not identical to bug 38264.

To reproduce the problem:

1) Install the runescape.msi file
2) Start JagexLauncher.exe runescape
3) The game will install updates and then ask to automatically detect graphic settings. Click the button to proceed.
4) At the login form click on the gear symbol at the top right of the screen. Select custom configuration and then click on OpenGL.

WARNING: The game is affected by a couple additional bugs. If the game for example crashes when trying to detect the graphic settings or doesn't accept any input then just restart it until it works which should usually be the case after a couple of attempts. ) Actually those issues are most likely also regressions but I didn't have time to track them down yet.

The problem seems to be:

--- snip ---
warn:wgl:wglGetProcAddress Extension GL_EXT_copy_texture required for glCopyTexSubImage3DEXT not supported
--- snip ---

Skipping the return NULL for glCopyTexSubImage3DEXT (or reverting the whole commit) makes the app work again.",230,"0"
"WINE-581","Weird contextmenu appearing on Open common dialogbox","Launch notepad for example and File|Open to open Openfile dialog 
select Detailled view. 
Double-click inside the listview on a blank zone causes a 
context menu to appears at coord (00) of the screen.

Cause :
In listview.c we are sending LVM_ITEMSELECTA on doubleclick :
we see in LISTVIEW_LButtonDblClk()) : hdr_notify(hwnd LVN_ITEMACTIVATE)

From shell32/shlview.c ShellView_OnNotify() we have :

    case LVN_ITEMACTIVATE:
        TRACE(-- LVN_ITEMACTIVATE %p\nThis)
        OnStateChange(This CDBOSC_SELCHANGE)  /* the browser will get the
IDataObject now */
        ShellView_DoContextMenu(This 0 0 TRUE)
        break

Tested on Wine-20020411 (and previous releases)",1241,"1"
"WINEHQ_APPS_DATABASE-28402","Can't log out of AppDB","After a successful login on the AppDb page I can't log out (until I close the browser). Clicking on Logout has no effect..I'm still logged-in.

I can reproduce the problem in 3 different browsers:
Firefox 6.0.2 Opera 11.51 Google Chrome 15.0.874.12 dev.

I noticed this problem first 4-5 days ago.",22,"0"
"WINE-36752","mp3DirectCut 2.20 crashes when stopping mp3 playback","Under wine I can open and play a mp3 file but when I clic stop or pause the program crash.",141,"0"
"WINE-3579","Text missing in nag dialog box in IBasic trial version","http://www.winehq.com/pipermail/wine-users/2005-October/019130.html
had a good-looking bug report but the author says he can't file a bug
report in Bugzilla.  So here it is.

-- snip --

There existing a bug in newer Wine versions.

I use SuSE 9.3 as system.
If I used the Wine-version which comes with the distribution 
(wine-20050211) then the following window comes at start:
http://user.web-gear.com/theuserbl/wine1.png

But if I update to wine-20050830 or wine-20050930 then it looks like
http://user.web-gear.com/theuserbl/wine3.png

It is NOT a font-problem.
I have copied the WinXP fonts in the wine-directory so it looks like this 
screenshots.
But if I don't do it only the used fonts and the window is smaller. But it 
have no effect to the text which is then in wine-20050211 shown and in 
wine-20050830 and wine-20050930 _not_ shown.

The window of the screenshots are from the program
IBasic Stanadard Version 2.02D trail version by Pyxia:
http://www.pyxia.com/

The rest of the program and all the other programs I use are running 
perfect.
Only the window at the start of IBasic have this problem.
-- snip --",66,"0"
"WINE-26122","valgrind shows several uninitialized variables in mscoree/tests/mscoree.c","Use of uninitialised value of size 4
    at  mbstowcs_sbcs (mbtowc.c:87)
    by  wine_cp_mbstowcs (mbtowc.c:269)
    by  MultiByteToWideChar (locale.c:1920)
    by  CompareStringA (locale.c:2868)
    by  StrCmpNIA (string.c:422)
    by  SHLWAPI_StrStrHelperA (string.c:554)
    by  StrStrIA (string.c:684)
    by  test_loadlibraryshim (mscoree.c:167)
    by  func_mscoree (mscoree.c:253)
    by  run_test (test.h:556)
    by  main (test.h:624)
  Uninitialised value was created by a stack allocation
    at  test_loadlibraryshim (mscoree.c:144)

...

That repeats for mbstowcs_sbcs / mbtowc.c lines 86-92",1689,"1"
"WINE-17921","Just a translation problem","It is just a translation problem.
I am currently using Wine 1.1.18 simplified Chinese under ubuntu. Everything works fine but for the translation of word Apply it used the tradition Chinese notation rather than simplified Chinese one.
Not a big problem however solving it can make this program better.",232,"0"
"WINE-297","implement PeekNamedPipe","I have an app which fails to execute the last thing it does before it dies is
print the above as debug.

fixme:win32:PeekNamedPipe (0000003c (nil) 00000000 (nil) 0x407242a0 (nil)):
stub",378,"0"
"WINE-38778","Blade of Darkness demo hangs with a black screen on start","The game is an oldie from around 2000 the demo supports only D3D mode.
The game hangs with a black screen and 100% cpu usage after starting.
Start the demo with ../Bin/Winblade.exe select renderer screen resolution and audio device in the launcher then click  button to start the game.

Terminal output:
fixme:ddraw:DirectDrawEnumerateExA flags 0x00000006 not handled
fixme:win:EnumDisplayDevicesW ((null)00x33b3540x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x33aca40x00000000) stub!
fixme:win:EnumDisplayDevicesW ((null)00x33a8140x00000000) stub!
fixme:ddraw:ddraw7_Initialize Ignoring guid {aeb2cdd4-6e41-43ea-941c-8361cc760781}.

Reverting the following commit fixes the issue:

commit 8ebc82cd8dbf306256318047d5b9c009f654eac1
Author: Henri Verbeet 
Date:   Tue Jul 1 07:52:29 2014 +0200

    ddraw: Check for a lost surface in ddraw_surface7_Flip().


wine-1.7.45-116-g9e96bee
Fedora 22
nouveau + Mesa3D from git (the problem is present with the binary drivers as well)",169,"0"
"WINE-13869","Splinter Cell Demo (2): Shadow polygon offset errors","Created attachment 13939
splinter cell demo #2: shadow error in projector mode

Hi there

I'm currently trying to get Splinter Cell running on my system. After experiencing some massive problems with the full version I switched down to the demo versions (there are two AFAIK) and I'm now trying to get the demo #2 to perform correctly.

I've disabled GLSL and set the OffscreenRenderingMode to fbo.
I also tweaked the Splinter Cell ini a bit so it uses shadow projector mode instead of shadow buffers by changing the line
ForceShadowMode=0
in the D3DDrv.D3DRenderDevice section.

Still I get some visual errors with the shadows. Seems like some sort of polygon/decal offset problem see the screenshots for more details.

Also I have the already mentioned light source bug which makes some lightsources shine through massive geometry I'm also attaching these screens.

The console is still flooded with various error messages about invalid GL instructions and so on also going to attach some logs.

The shifted screen bug (that I reported in this bug: http://bugs.winehq.org/show_bug.cgi?id=9609 - screenshots already there) also happens with the demo. If I'm running the demo with 640x480 resolution it doesn't appear though.

Greets
Tobias Jakobi",2125,"1"
"WINEHQ_BUGZILLA-1416","version 20030508 MISSING in wine bugzilla version list","ooopsie. all fixed.",20,"0"
"WINE-34947","Creo Elements/Direct Modeling Express 4.0 InstallShield based installer shows oversized installation completed setup wizard window","Created attachment 46570
Oversized dialog window

Steps to reproduce:
1) remove ~/.wine
2) wine Creo-Elements-Direct-Modeling-Express4-M010-32-setup-EN.exe
3) do default installation

Behaviour:
At the end of installation I get oversized dialog (see attachment).

Expected behaviour:
No oversized dialog.

Terminal output on wine-1.7.6-158-g6ceb564:
fixme:storage:create_storagefile Storage share mode not implemented.
fixme:msi:AutomationObject_GetIDsOfNames Unknown member LSession clsid {000c109e-0000-0000-c000-000000000046}
fixme:msi:AutomationObject_GetIDsOfNames Unknown member LSession clsid {000c109e-0000-0000-c000-000000000046}
fixme:msi:AutomationObject_GetIDsOfNames Unknown member LSession clsid {000c109e-0000-0000-c000-000000000046}
err:richedit:ReadStyleSheet skipping optional destination
err:richedit:ReadStyleSheet skipping optional destination
err:richedit:ReadStyleSheet skipping optional destination
err:richedit:ReadStyleSheet skipping optional destination
fixme:msi:AutomationObject_GetIDsOfNames Unknown member LSession clsid {000c109e-0000-0000-c000-000000000046}
fixme:msi:AutomationObject_GetIDsOfNames Unknown member LSession clsid {000c109e-0000-0000-c000-000000000046}
fixme:msi:AutomationObject_GetIDsOfNames Unknown member LSession clsid {000c109e-0000-0000-c000-000000000046}
err:module:attach_process_dlls redirect.dll failed to initialize aborting
err:module:LdrInitializeThunk Main exe initialization for LC:\\Program Files\\PTC\\Creo Elements\\Direct Modeling Express 4.0\\binNT\\SolidDesigner.exe failed status 2c
fixme:heap:HeapSetInformation (nil) 1 (nil) 0
err:module:attach_process_dlls redirect.dll failed to initialize aborting",607,"0"
"WINE-30803","CCleaner 3.19 won't start err:seh:setup_exception stack overflow","Kubuntu 12.04 amd64 wine 1.4-0ubuntu4.

Download installer from http://www.piriform.com/ccleaner/download/standard
  export WINEPREFIX=/tmp/winedir/winetemp
  wine /tmp/ccsetup319.exe
to install it in a brand new Wine configuration. (I declined to install all shortcuts and declined Google Chrome).  But on first run and subsequent runs from Wine Explorer or the command line CCleaner's program window does not appear.  In console

  fixme:heap:HeapSetInformation 0x2c4000 0 0x23fcd0 4
  fixme:win:EnumDisplayDevicesW ((null)00x23e5c00x00000000) stub!
  fixme:ver:RtlGetProductInfo (51300x23e948): stub
  err:seh:setup_exception stack overflow 2400 bytes in thread 001c eip 00007fb10a710a6b esp 0000000000140ca0 stack 0x140000-0x141000-0x240000

If I try winedbg I get a different failure:
  % winedbg /tmp/winedir/winetemp/dosdevices/c:/Program\ Files/CCleaner/CCleaner.exe 
  WineDbg starting on pid 0024
  couldn't load main module (2)
  err:module:LdrInitializeThunk Main exe initialization for LC:\\Program Files\\CCleaner\\CCleaner.exe failed status c0000022
  Process of pid=0024 has terminated

CCleaner installed and ran in my existing .wine config so I'm not sure what's wrong with a fresh one.",788,"0"
"WINE-12046","MinGW32: unhandled page faults and exceptions","- install MinGW32 and MSYS.
- go to the MSYS directory.
- wine cmd
- msys.bat (it opens an rxvt or another terminal with bash)
- ld --version
- ld --help

It doesn't display anything on rxvt or the terminal where you are running bash and on the console where you started wine the following error appears:
wine: Unhandled page fault on write access to 0x2d656c78 at address 0x7bc42874 (thread 0026) starting debugger...
err:seh:raise_exception Unhandled exception code c0000005 flags 0 addr 0x7bc42874

Running ld directly with Wine works:
- go to the MinGW32 directory.
- cd bin
- wine ld --version
- wine ld --help

Another (more direct) way to reproduce the fault:
- go to the MSYS directory.
- cd bin
- wine start sh (or wineconsole sh)
- cd /mingw/bin
- ./ld --help
- ./ld --version

Instead of ld you may try gcc or dlltool or windres etc.",231,"0"
"WINE-28869","Neverwinter Nights fails to load","Created attachment 37077
Terminal output

Neverwinter Nights fails to load from wine 1.3.28 to 1.3.31

The videos play then the cursor changes to the NWN hand but the menu does not appear.

Regression testing gives

94ae743ea668e49d40ae4e2dc5fe1f5d9be018cb is the first bad commit
commit 94ae743ea668e49d40ae4e2dc5fe1f5d9be018cb
Author: Henri Verbeet 
Date:   Tue Aug 30 20:12:31 2011 +0200

    ddraw: Make the OpenGL renderer the default one.

:040000 040000 fbce2dc172258a4a7eabc65b6f86bd58522b4667 dfb3b24196ac3ad09100758a48b2d4ef7e45e26b M	dlls


This is the Diamond Edition as sold on www.gog.com.",837,"1"
"WINE-20389","Firefox/Thunderbird/Sunbird: Close button must be clicked twice","Since Wine version 1.1.30 clicking the close button on the Portable Thunderbird window once does not close the window.  As of version 1.1.31 clicking the button again immediately after the first click does close the window.

Steps to reproduce:
1. Open Portable Thunderbird and wait for it to finish loading any messages.
2. Click the window's close button (the X in the corner).  The window does not close.
3. Click the window's close button again.  Now the window does close.

Another scenario possibly relevant to solving this bug:

1. Open Portable Thunderbird and wait for it to finish loading any messages.
2. Click the window's close button (the X in the corner).  The window does not close.
3. Click the File menu.  The File menu is highlighted but does not drop down.
4. Click the File menu again.  The File menu now drops down.
5. Click the window's close button again.  The window does not close.
6. Click the window's close button again.  Now the window does close.

Application settings are defaults Windows XP.",224,"0"
"WINEHQ_BUGZILLA-7251","Email and Numbering search slightly broken","The Email and Numbering query misbehaves - the Any of checkboxes work as
All of (AND instead of OR)

How to reproduce: search for your own EMail address with only commenter -
search again with bug owner added...",198,"0"
"WINE-19526","regedit does not give gui feedback on import of keys","On windows:
regedit test.reg
Registry Editor
Are you sure you want to add the information in test.reg to the registry?
-then-
Registry Editor
Information in test.reg has been successfully entered into the registry.

On wine:
nothing",3077,"1"
"WINE-10964","Prince of Persia The two Thrones: Upside is down if some text appears on the screen","I've tried PoP T2T and works almost perfectly: shows intro the game start and I can play with iy - however it must be start in safe mode. Almost perfectly except the screen is upside down if some text lifebar or other icons appear on the screen. 
I've tried with the latest version 0.9.51 too upside down remains but in this version the texts and cursor doesn't appear at all - so i cannot start the game.",852,"1"
"WINE-5174","macom2.dll does not work with wine dcom","MaCom2.dll is a library providing functions for building ecological forest
models developed by H. Hildenbrandt and U. Berger at the Centre for Tropical
Marine Ecology in Bremen Germany. MaCom2 is not open source at the moment but
is freely available on request from the authors.

Library functions are called from a user-supplied script (using e.g. Python)
and DCOM. At the moment running under wine is possible only with Microsoft's
dcom98.

Here is what I do to install it:

- install python2.4.3 (needs Microsoft's msiexec) + pywin32
- register the dll (gdiplus.dll has to be available when doing this)

        regsvr32 MaCom2.dll

- call the script e.g.

        wine /home/ulf/.wine/drive_c/Program\ Files/Python24/pythonw.exe
SimpleForest_3species.py

The program does not start correctly:

[...]
 warn:ole:ITypeComp_fnBind did not find member with name LInit flags 0x2!
 warn:ole:ITypeComp_fnBind did not find member with name LInit flags 0x4!
 warn:ole:ITypeComp_fnBind did not find member with name LInit flags 0x8!
 err:ole:ITypeInfo_fnInvoke did not find member id 1 flags 0x2!
 Traceback (most recent call last):
   File SimpleForest_3species.py line 8 in ?
     m.Init(w=110 h=110 scale=3)
 TypeError: Init() got an unexpected keyword argument 'w'
 fixme:ole:ITypeInfo_fnRelease destroy child objects

The full log from a call with WINEDEBUG=warn+all is found together with
MaCom2.dll and an example script at the URL given above.

When installing dcom98 as described in

http://wiki.winehq.org/NativeDcom?highlight=%28dcom%29",1458,"1"
"WINE-41347","TMIDI Player: Some characters and logos in LCD are rendered as black rectangles","Created attachment 55695
Screenshot (Wine 1.9.19)

Some characters (number characters ':' '/') and logos (XG GENERAL MIDI GS) in LCD are rendered as black rectangles.

Download (Japanese): http://hp.vector.co.jp/authors/VA010012/

----- Result of regression testing -----
b81a7d976e3c3de36a01401d125871d3014e6c67 is the first bad commit
commit b81a7d976e3c3de36a01401d125871d3014e6c67
Author: Alexandre Julliard 
Date:   Fri May 25 11:47:46 2012 +0200

    gdi32: Always use the DIB engine for monochrome bitmap rendering.

:040000 040000 feafcbbcb88944b1f24f7a41555876f66db37167 56c006bf256eab577327225e165bf59c06fc04c9 M      dlls",101,"0"
"WINE-2175","err:virtual:map_image FATAL when trying to run something app","Trying to run any application on FreeBSD 4.8 I get following error:

err:virtual:map_image FATAL: Need to relocate module from addr 1000000 but
there are no relocation records
wine: could not load LC:\\WIN2K\\welcome.exe as Win32 binary

Older versions (I tried 20030219) works fine.",537,"0"
"WINE-5951","Visual Foxpro window issue","I get the following error message in a Visual Fox Pro application (compiled with
Visual Fox Pro 6.0):
fixme:ole:CoRegisterMessageFilter message filter has been registered but will
not be used
err:ole:CoGetClassObject class {854d7ac5-bc3d-11d0-b421-00a0c90f9dc4} not registered
err:ole:CoGetClassObject class {854d7ac5-bc3d-11d0-b421-00a0c90f9dc4} not registered
err:ole:CoGetClassObject no class object {854d7ac5-bc3d-11d0-b421-00a0c90f9dc4}
could be created for context 0x3

After I exit the application I get this message: 
fixme:font:WineEngRemoveFontResourceEx :stub
fixme:font:WineEngRemoveFontResourceEx :stub

I noticed the error ever since I compiled and installed Wine 0.9.18. The same
problem exists in the 0.9.19 version. I get the same problems in Visual Fox Pro
6.0 itself. It manifests itself when I try to edit the code of an object like a
form grid etc. Instead of appearing the code window that is to appear remains
hidden but is available in the window list. The problem also affects other
windows in Fox. After I select a different window it appears and only after
doing that I can select the window that was to appear in the first place. I hope
that you will be able to recreate this bug and fix it. For me it is a very big
problem because I use Wine in a small company to run Visual Fox Pro software.
And I'm sure it is a problem for someone else. I hope you will look into it in
the next version.",84,"0"
"WINE-15142","Diablo - The Hell & Hellfire: DirectX issues","Created attachment 15851
Screenshot

As mentioned on the Mod's AppDB page. I have added a screenshot of the message as well as the log I managed to pull out. Please tell me if you need anything else.",60,"0"
"WINE-42621","Unimplemented function msvcr120.dll.?_Trace_ppl_function@Concurrency@@YAXAEBU_GUID@@EW4ConcRT_EventType@1@@Z","The image rescaling tool waifu2x-converter_x64.exe crashes with:

Unhandled exception: unimplemented function msvcr120.dll.?_Trace_ppl_function@Concurrency@@YAXAEBU_GUID@@EW4ConcRT_EventType@1@@Z called in 64-bit code (0x000000007b4504b7).


Backtrace:
=>0 0x000000007b4504b7 in kernel32 (+0x304b7) (0x000000000023d0c0)
  1 0x00007f81e8c8be44 __wine_unwind_trampoline+0x263() in msvcr120 (0x000000000023d2a0)
  2 0x00007f81e8c0942f in msvcr120 (+0x942e) (0x000000000023d2a0)
  3 0x00000001805b226c in opencv_core300 (+0x5b226b) (0x000000000023d2a0)
  4 0x0000000000c13b6c in opencv_imgproc300 (+0x9d3b6b) (0x000000000023d2a0)

The tool can be used directly on the command line:
waifu2x-converter_x64.exe -i  -m scale -j 2 --scale_ratio 2.0 -o 

or using the GUI waifu2x_win_koroshell.exe (drag and drop an image into the window).",11,"0"
"WINE-11244","Steam's Community page shows error page","Created attachment 10341
Error message as displayed from my proxy server

Start Steam click on Community tab. This is a regression between 0.9.52 and 0.9.53.",54,"0"
"WINE-37437","RIM BlackBerry Device Manager crashes due to unimplemented function KERNEL32.dll.CancelTimerQueueTimer","Created attachment 49801
Crash log

wine not installing nikon and blackberry software on linux",4,"0"
"WINE-2711","IE6 does not start because of unimplemented function : shdocvw.dll.IEWinMain","please fix

I have try to install IE6 on latest wine (either cvs and mandrake cooker
package) I get the following errors and I am not able to start IE6 (for testing
my website under IE only!)

I have the following error code I hope it will help :

fixme:shell:StopWatchMode () stub!
fixme:seh:EXC_RtlRaiseException call (from 0x401ecd) to unimplemented function
shdocvw.dll.IEWinMain
fixme:shell:MLGetUILanguage () stub
fixme:imm:ImmDisableIME (-1): stub
wine: Unhandled exception (thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: unimplemented function shdocvw.dll.IEWinMain called in
32-bit code (0x7763c053).
In 32 bit mode.
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:003b GS:0033
 EIP:7763c053 ESP:77a9fdf8 EBP:77a9fe5c EFLAGS:00200212(   - 00      - -IA1)
 EAX:77a9fe04 EBX:77647554 ECX:77be6c80 EDX:004018ab
 ESI:7775d7c0 EDI:00401350
Stack dump:
0x77a9fdf8:  777b22c0 77a9fe3c 7763c00c 80000100
0x77a9fe08:  00000001 00000000 00401ecd 00000002
0x77a9fe18:  776423e0 776423ec 00000000 00000000
0x77a9fe28:  00401350 77a9fe3c 77774570 7775d7c0
0x77a9fe38:  00401350 77a9fe6c 7775d802 80000001
0x77a9fe48:  00401350 00000000 000f003f 77a9fe5c
Backtrace:
=>1 0x7763c053 __wine_unimplemented+0x53 in shdocvw (0x77a9fe5c)
  2 0x7763c07a __wine_stub_shdocvw_dll_102+0x0 in shdocvw (0x77a9fe7c)
  3 0x00401ecderr:dbghelp_msc:pdb_process_internal -Unable to peruse .PDB file
iexplore.pdb
 in iexplore (+0x1ecd) (0x77a9fecc)
  4 0x00401f7d  ?? +0x97 in iexplore (0x77a9ff2c)
  5 0x77b6a288 start_process+0xc8(arg=0x0)
[/home/rapsys/Documents/wine/dlls/kernel/process.c:1046] in kernel32 (0x77a9fff4)
  6 0xb7fd5a01 wine_mmap_is_in_reserved_area+0x71(addr=0x0 size=0x0)
[/home/rapsys/Documents/wine/libs/wine/mmap.c:471] in libwine.so.1 (0x00000000)
0x7763c053 __wine_unimplemented+0x53 in shdocvw: addl   $12%esp",241,"0"
"WINE-10470","Radmin viewer 3.1: Black squares in the voice chat window","Created attachment 9200
Black squares

We got an error:
1. Installed Radmin server 3.1 (http://www.famatech.com/download/rserv31.exe) on a windows computer.
2. Installed Radmin viewer 3.1 on a linux computer with wine installed.
3. Started Radmin viewer and connected to Radmin server in the Voice Chat mode.

There are black squares in the left part of voice chat window (see attached screenshot voice_chat_artifacts.png).

The error was tested on Fedora Core 7 installation with the last wine package
from fedora update site (fedora_mirror/fedora/linux/updates/7/i386/).",395,"0"
"WINE-28395","MAKING HISTORY II: The War of the World Demo wants msvcp90.dll.??A?$basic_string@_WU?$char_traits@_W@std@@V?$allocator@_W@2@@std@@QBEAB_WU_Size_type_nosscl@01@@Z","Part two of bug 27645.

Only occurs if msvcp90 is forced to builtin.",29,"0"
"WINE-42483","Build for Ubuntu Precise fails because MPG123_IGNORE_INFOFRAME is undeclared","As the title says the builds for Ubuntu Precise fail because MPG123_IGNORE_INFOFRAME is undeclared:

mpegl3.c: In function MPEG3_StreamOpen:
mpegl3.c:257:49: error: MPG123_IGNORE_INFOFRAME undeclared (first use in this function)
mpegl3.c:257:49: note: each undeclared identifier is reported only once for each function it appears in
make[2]: *** [mpegl3.o] Error 1
make[2]: Leaving directory `/>/dlls/winemp3.acm'

The latest version of mpg123 on this distro has the version 1.12.1-3.2ubuntu1.

Full log:
https://launchpadlibrarian.net/307074502/buildlog_ubuntu-precise-amd64.wine-devel_2.2.0~ubuntu12.04.1_BUILDING.txt.gz",2,"0"
"WINE-5906","Rayman 3 Demo setup program (R3_Setup_DX8.exe) shows screen resolutions with 0 bitdepth","Possible modes reporded by R3_Setup_DX8.exe are:
640x480x0
800x600x0
..",448,"0"
"WINE-36287","valgrind shows some uninitialized memory use in kernel32/tests/format_msg.c","==28883== Conditional jump or move depends on uninitialised value(s)
==28883==    at 0x7B844447: format_add_char (format_msg.c:300)
==28883==    by 0x7B8449BF: format_message (format_msg.c:432)
==28883==    by 0x7B844C59: FormatMessageA (format_msg.c:507)
==28883==    by 0x4A75F89: test_message_wrap (format_msg.c:1013)
==28883==    by 0x4A7B0C8: func_format_msg (format_msg.c:1785)
==28883==    by 0x4B0C7A8: run_test (test.h:584)
==28883==    by 0x4B0CB97: main (test.h:654)
==28883==  Uninitialised value was created by a client request
==28883==    at 0x7BC4C52C: mark_block_uninitialized (heap.c:209)
==28883==    by 0x7BC4C697: initialize_block (heap.c:240)
==28883==    by 0x7BC50FA3: RtlAllocateHeap (heap.c:1717)
==28883==    by 0x7B84586B: HeapAlloc (heap.c:271)
==28883==    by 0x7B844608: format_message (format_msg.c:337)
==28883==    by 0x7B844C59: FormatMessageA (format_msg.c:507)
==28883==    by 0x4A75F89: test_message_wrap (format_msg.c:1013)
==28883==    by 0x4A7B0C8: func_format_msg (format_msg.c:1785)
==28883==    by 0x4B0C7A8: run_test (test.h:584)
==28883==    by 0x4B0CB97: main (test.h:654)
==28883==",50,"0"
"WINE-26907","HaoZip: Crash when pressing right mouse button on tree","Created attachment 34311
Image showing the problem

Steps to reproduce:
1) remove ~/.wine
2) winetricks gecko
3) install HaoZip (default installation)
4) wine HaoZip.exe
5) Click right mouse button on Desktop (see attachment)

Behaviour:
Crash.

Expected behaviour:
No crash.",429,"0"
"WINE-1406","16-BIT VB 3.0 APP -- NOT ENOUGH SPACE FOR ENVIROMENT","Bug comments restored from Gmane.org:

I have been hoping to see this working with baseline WINE releases for about 2
years now. It's not a high priority but it's a curious problem. One particular
application I have errors out with a NOT ENOUGH SPACE FOR ENVIRONMENT message
on startup. I do not have the source code for this application.

The application itself is a 16-bit VB 3.0 application used to access an online
database. The header indicates it's an MZ type executable and the imports show
it's based on VBRUN300. There's an NE marker in the header as well. Another
application with exactly the same header (but a different app nonetheless) works
just fine.

The WINE trace shows the following as the cause:

err:local:LOCAL_GetBlock not enough space in local heap 0dc7 for 140 bytes


Now all that said if I uncomment the FIXMEs int memory/local.c and prevent the
call from returning 0 in LOCAL_GetBlock it works fine (for a while at least).
So I guess the question is why are the FIXME's in that function still FIXME's
after all this time. I'm sure there is a reason for not uncommenting this code
but if anybody could shed light on this or get the FIXME's accepted it would be
really appreciated.


------- Additional Comments From marc_lavergne  yahoo.com  2003-04-22 21:40
-------
I did some more digging it appears that the local heap is hitting the 64K
barrier on an attempt to grow it. The application actually fails in GrowHeap
around line 500 where the check to see if oldheap > 0xfff0 eval to true and a
FALSE gets returned. The error just bubbles up from the call to GrowHeap in
GetBlock. All the heap pointers and size values seem normal so it's really
running out of space. Fair enough so the question becomes WHY is the heap NOT
being exceeded in native Win98 but IS being exceeded in WINE. It only makes
sense that some cleanup of the heap happens under native Win that is not
happening under WINE. I'm a little at a loss from that point though. I assume a
heap walker like program would be helpful.


------- Additional Comments From bon  elektron.ikp.physik.tu-darmstadt.de
2003-04-23 02:37
-------
Probably we put things on the local heap that don't belong there.
Try to find out what items there take up the most space.


------- Additional Comments From marc_lavergne  yahoo.com  2003-04-23 07:26
-------
Makes sense. Can you recommend a program that will let me see calls to the local
heap under Win9x and I will try to track  it down. The error occurs early during
startup so accounting for the allocations by hand is a possibility. I'll compare
it to the calls I see under WINE and post back.

On another note there's a an application that starts with the problem VB
program auto-magically under Win98 WSASRV.EXE (Windows Sockets Asynchronous
Request Server). It appears it is being launched by one of the VBXs. This
program does not start with the working VB 3.0 16-bit prog. 

Also I took a look at the heap using HEAPWALK.EXE but it didn't show anything
of value besides a rough count of 1.8M for the total heap size when running
under Win98.


------- Additional Comments From marc_lavergne  yahoo.com  2003-05-15 22:56
-------
Since there's a workaround moving this to a normal severity. I haven't had a
chance to revisit it but I will get the heap alloc trace done shortly.
Workaround: modify LOCAL_GetBlock in memory/local.c to prevent arena==0 exits.
Not a permanent fix since it introduces an unhandled condition and is the wrong
way to do things anyhow.",782,"0"
"WINE-42665","Mafia III launcher fails to start (needs uiautomationcore.dll.UiaLookupId)","Game requires .NET Framework 4.5.1 but after installing still doesn't work.

fixme:mscoree:parse_supported_runtime sku=L.NETFrameworkVersion=v4.5.1 not implemented
fixme:mscoree:parse_probing privatePath=LLauncherLanguages not implemented
err:mscoree:mono_assembly_preload_hook_fn Failed to load LC:\\windows\\Microsoft.NET\\assembly\\GAC_64\\PresentationCore\\v4.0_4.0.0.0__31bf3856ad364e35\\PresentationCore.dll status=3
err:mscoree:mono_assembly_preload_hook_fn Failed to load LC:\\windows\\Microsoft.NET\\assembly\\GAC_64\\PresentationCore\\v4.0_4.0.0.0__31bf3856ad364e35\\PresentationCore.dll status=3
Invalid type System.Windows.Application for instance field System.Windows.Application:_appInstance
err:mscoree:mono_assembly_preload_hook_fn Failed to load LC:\\windows\\Microsoft.NET\\assembly\\GAC_64\\PresentationCore\\v4.0_4.0.0.0__31bf3856ad364e35\\PresentationCore.dll status=3
err:mscoree:mono_assembly_preload_hook_fn Failed to load LC:\\windows\\Microsoft.NET\\assembly\\GAC_64\\PresentationCore\\v4.0_4.0.0.0__31bf3856ad364e35\\PresentationCore.dll status=3
Can't find custom attr constructor image: C:\Program Files (x86)\Steam\steamapps\common\Mafia III\launcher.exe mtoken: 0x0a00000f due to: Could not load file or assembly 'PresentationCore Version=4.0.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35' or one of its dependencies. assembly:PresentationCore Version=4.0.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35 type: member:

Unhandled Exception:
System.TypeLoadException: Could not set up parent class due to: Could not load type of field 'System.Windows.Application:_mainWindow' (20) due to: Could not load file or assembly 'PresentationCore Version=4.0.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35' or one of its dependencies. assembly:PresentationCore Version=4.0.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35 type: member: assembly:C:\windows\Microsoft.NET\assembly\GAC_MSIL\PresentationFramework\v4.0_4.0.0.0__31bf3856ad364e35\PresentationFramework.dll type:Application member:
[ERROR] FATAL UNHANDLED EXCEPTION: System.TypeLoadException: Could not set up parent class due to: Could not load type of field 'System.Windows.Application:_mainWindow' (20) due to: Could not load file or assembly 'PresentationCore Version=4.0.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35' or one of its dependencies. assembly:PresentationCore Version=4.0.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35 type: member: assembly:C:\windows\Microsoft.NET\assembly\GAC_MSIL\PresentationFramework\v4.0_4.0.0.0__31bf3856ad364e35\PresentationFramework.dll type:Application member:

wine-2.3-255-ga503139",5,"0"
"WINE-12951","original lotro-launcher under wine","starting the original lotro-launcher ( TurbineLauncher.exe ) with wine
i get the message logged in the attached file Programm doesnt start.

I'm running fedora 8 ( latest patches ) with latest NVidia graphics card driver from livna-repository.

CU

PS. I installed Mono 1.9 for windows under wine to get some .net-support.",205,"0"
"WINE-12094","mouse side buttons do not work in wine when mapped to gtk/qt standard","I recently realized my back button in firefox wasn't working looked into it and it has been remapped to mouse button 8 (back) and 9 (forward).

I found https://bugzilla.mozilla.org/show_bug.cgi?id=355477 on the subject quoting:
I'm attaching a simple patch that maps X mouse buttons 8-9 to the back/forward
commands. The consensus amongst GTK+ and Qt seems to be that buttons 6-7 are
for horizontal scrolling.

However in WINE (specifically using world of warcraft) if I can't bind mouse4/mouse5 (what wow calls my side buttons) if I use this standard.

With this:
xmodmap -e pointer = 1 2 3 4 5 6 7 8 9 (standard)
Firefox back/forward works perfectly but the side mouse buttons do not register in wow at all.

xmodmap -e pointer = 1 2 3 4 5 8 9 6 7
I can bind my side buttons in wow they register as button4/button5 in wow in xev they register as 6 7.  However my back button in gtk applications stops working.",66,"0"
"WINE-19030","Escape from Monkey Island - saving game freezes","When you save a game in EFMI the game is saved properly (can be succesfully loaded in the future) but the Saving Game screen does not go away. The game engine works because you can Alt-f4 and click YES but it seems like the game waits for some close() operation or sth.",756,"0"
"WINE-15835","Rapid Uploader: Delete button shows a popup menu that self closes.","This bug comes from this: #15766

In Rapid Uploader you can press Delete button to get a popup menu but the problem is that the menu is useless because it self closes about half second after you click the button not giving you the opportunity of selecting anything.",40,"0"
"WINE-1251","Cabinet file expander error","Bug comments restored from Gmane.org: 
 
fixme:cabinet:FDICreate (pfnalloc == ^0x244f7880 pfnfree == ^0x244f7890
pfnopen == ^0x244f78a0 pfnread == ^0x244f7a80 pfnwrite == ^0x244f7c00       
    pfnclose == ^0x244f7d70 pfnseek == ^0x244f7e10 cpuType == -1 perf ==
^0x2453e4f0): stub

^^^^^^^^^^^^^^^^^^^
from console output for Wine 20030115

Cannot install Office 2K or Visio XP with fake-windows setup.  With the mandrake
9 wine RPM I could at least install Office 2K.


------- Additional Comments From grundig  wp.pl  2003-02-20 04:29 -------
*** This bug has been confirmed by popular vote. ***",862,"1"
"WINE-37275","Chess Position Trainer 5 (.NET 4.0 app) wants gdiplus.GdipCreateAdjustableArrowCap implementation","Hello folks

as the summary says.

Prerequisite: 'winetricks -q dotnet40'

Doesn't crash but dismissing message boxes is annoying.

'winetricks -q gdiplus' obviously works around.

--- snip ---
$ pwd
/home/focht/.wine/drive_c/Program Files/Chess Position Trainer

$ WINEDEBUG=+tid+seh+relay wine ./Chess\ Position\ Trainer\ 5.exe >>log.txt 2>&1
...
002a:Call gdiplus.GdipCreateAdjustableArrowCap(4040000040400000000000010033d498) ret=1de38f31
002a:fixme:gdiplus:GdipCreateAdjustableArrowCap not implemented
002a:Ret  gdiplus.GdipCreateAdjustableArrowCap() retval=00000006 ret=1de38f31 
...
002a:trace:seh:raise_exception code=e0434352 flags=1 addr=0x7b83ae8f ip=7b83ae8f tid=002a
002a:trace:seh:raise_exception  info[0]=80004001
002a:trace:seh:raise_exception  info[1]=00000000
002a:trace:seh:raise_exception  info[2]=00000000
002a:trace:seh:raise_exception  info[3]=00000000
002a:trace:seh:raise_exception  info[4]=79140000
002a:trace:seh:raise_exception  eax=7b826d6d ebx=7b8be000 ecx=80004001 edx=0033d2b4 esi=0033d358 edi=0033d320
002a:trace:seh:raise_exception  ebp=0033d2f8 esp=0033d294 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00000283
002a:trace:seh:call_vectored_handlers calling handler at 0x791f5a7c code=e0434352 flags=1
...
002a:Call user32.CreateWindowExW(00010001049639c8 LWindowsForms10.Window.8.app.0.2bf8098_r8_ad1057e2af4 LError while trying to highlight moves02c800008000000080000000000000fe00000068000200be000000000040000000000000) ret=0a36c292 
...
--- snip ---

MSDN: http://msdn.microsoft.com/en-us/library/windows/desktop/ms533967%28v=vs.85%29.aspx

Source: http://source.winehq.org/git/wine.git/blob/da7fe7ab5513a2db839aba413ebca07642c2b225:/dlls/gdiplus/customlinecap.c#l248

--- snip ---
248 GpStatus WINGDIPAPI GdipCreateAdjustableArrowCap(REAL height REAL width BOOL fill
249      GpAdjustableArrowCap **cap)
250 {
251     static int calls
252
253     TRACE((%0.2f%0.2f%i%p)\n height width fill cap)
254
255     if(!(calls++))
256         FIXME(not implemented\n)
257
258     return NotImplemented
259 }
--- snip ---

$ sha1sum Chess_Position_Trainer_5-Setup.exe 
6ae6364e399590ce634d667ec8696dcdb78c515a  Chess_Position_Trainer_5-Setup.exe

$ du -sh Chess_Position_Trainer_5-Setup.exe 
57M	Chess_Position_Trainer_5-Setup.exe

$ wine --version
wine-1.7.26-60-g0fa8ae7

Regards",1354,"1"
"WINE-16812","MyRoots Install fails err:msi:msi_cabextract FDICopy failed","Created attachment 18508
Console output of myroots msi install failure

msi install fails in msi_cabextract FDICopy",397,"0"
"WINE-36086","Installation of Half-Life Opposing Force fails due to file ereg.dll being read-only","Installation of Half-Life Opposing Force fails when trying to act on file ereg.dll. Because the installation does not finish the game is unplayable. The file ereg.dll does copy to disk though so the installation can be completed by manually changing the file permissions on ereg.dll to read/write instead of read-only then running the installation again.",576,"0"
"WINE-27047","need for speed world launcher complains of corrupt executable","Tracking this bug after it was fixed in case people complain that the
game isn't working.  Piotr's fix is in git and will be in 1.3.20.",0,"0"
"WINE-4536","c2man mangles DllAllocSplMem to dll AllocSplMem","While creating a spoolss.dll
(http://www.winehq.org/pipermail/wine-patches/2006-February/024228.html) the
command:
make -C dlls/spoolss/ doc-html
produces from this lines:
--- cut ---
 * PARAMS
 *  memory [I] PTR of the Memory allocated by DllAllocSplMem
 *
--- cut ---
this documentation:
--- cut ---
PARAMS
memory 	[In]	PTR of the Memory allocated by dll AllocSplMem

-- 
By by ... Detlef",877,"1"
"WINE-9024","Final Draft 6.0 crashes","When I start Final Draft (screenwriting program) the application loading screen
pops up and then it quits. The following is displayed in Terminal: 
Final_Draft_6$ wine final_draft.exe
wine: Unhandled page fault on write access to 0x00bbbc00 at address 0x7e2df454
(thread 0016) starting debugger...
Unhandled exception: page fault on write access to 0x00bbbc00 in 32-bit code
(0x7e2df454).
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:0033 GS:003b
 EIP:7e2df454 ESP:0033f174 EBP:0033f19c EFLAGS:00010246(   - 00      -RIZP1)
 EAX:00000000 EBX:7e3a7b2c ECX:00000000 EDX:00bbbc00
 ESI:7bd00468 EDI:00bbbc00
Stack dump:
0x0033f174:  00163e40 ffffffff 0019d900 7e462924
0x0033f184:  00000000 00000000 0033f19c 7e462924
0x0033f194:  00000000 00000000 0033f35c 7e40f314
0x0033f1a4:  7bd00468 00000000 00000216 00000000
0x0033f1b4:  22000000 00790053 00740073 006d0065
0x0033f1c4:  00000000 00000000 00000000 00000000
Backtrace:
=>1 0x7e2df454 in libx11.so.6 (+0x25454) (0x0033f19c)
  2 0x7e40f314 in winex11 (+0x1f314) (0x0033f35c)
  3 0x7e411054 in winex11 (+0x21054) (0x0033f44c)
  4 0x7e4111d5 in winex11 (+0x211d5) (0x0033f4ac)
  5 0x7e411787 in winex11 (+0x21787) (0x0033f4dc)
  6 0x7e3fe442 X11DRV_BitBlt+0x82() in winex11 (0x0033f64c)
  7 0x7ecac427 BitBlt+0xb7() in gdi32 (0x0033f6dc)
  8 0x7e8c6902 ImageList_Add+0x162() in comctl32 (0x0033f75c)
  9 0x005ed432 in final_draft (+0x1ed432) (0x7e8c67a0)
  10 0x5d8978ec (0x83e58955)
  11 0x00000000 (0x00000000)
0x7e2df454: movl        %eax0x0(%edx)
Modules:
Module  Address                 Debug info      Name (84 modules)
PE        400000-  93c000       Export          final_draft
ELF     7b800000-7b929000       Deferred        kernel32
  \-PE  7b820000-7b929000       \               kernel32
ELF     7bc00000-7bc97000       Deferred        ntdll
  \-PE  7bc10000-7bc97000       \               ntdll
ELF     7bf00000-7bf03000       Deferred        
ELF     7c3f1000-7c437000       Deferred        riched20
  \-PE  7c400000-7c437000       \               riched20
ELF     7c437000-7c44b000       Deferred        riched32
  \-PE  7c440000-7c44b000       \               riched32
ELF     7c44b000-7c49c000       Deferred        libgcrypt.so.11
ELF     7c49c000-7c4ca000       Deferred        libcrypt.so.1
ELF     7c4e2000-7c552000       Deferred        libgnutls.so.13
ELF     7c552000-7c583000       Deferred        libcups.so.2
ELF     7c631000-7c663000       Deferred        uxtheme
  \-PE  7c640000-7c663000       \               uxtheme
ELF     7c7c8000-7c7dd000       Deferred        libtasn1.so.3
ELF     7c7e6000-7c7eb000       Deferred        libxfixes.so.3
ELF     7c7eb000-7c7f4000       Deferred        libxcursor.so.1
ELF     7c7f4000-7c811000       Deferred        imm32
  \-PE  7c800000-7c811000       \               imm32
ELF     7cf07000-7cf0b000       Deferred        libgpg-error.so.0
ELF     7cf0b000-7cf11000       Deferred        libxrandr.so.2
ELF     7cf11000-7cf19000       Deferred        libxrender.so.1
ELF     7d809000-7d812000       Deferred        librt.so.1
ELF     7d8e4000-7e215000       Deferred        fglrx_dri.so
ELF     7e215000-7e2b5000       Deferred        libgl.so.1
ELF     7e2b5000-7e2ba000       Deferred        libxdmcp.so.6
ELF     7e2ba000-7e3ab000       Export          libx11.so.6
ELF     7e3ab000-7e3b9000       Deferred        libxext.so.6
ELF     7e3b9000-7e3be000       Deferred        libxxf86vm.so.1
ELF     7e3be000-7e3d6000       Deferred        libice.so.6
ELF     7e3d6000-7e3df000       Deferred        libsm.so.6
ELF     7e3df000-7e468000       Export          winex11
  \-PE  7e3f0000-7e468000       \               winex11
ELF     7e51f000-7e53f000       Deferred        libexpat.so.1
ELF     7e53f000-7e56a000       Deferred        libfontconfig.so.1
ELF     7e56a000-7e5d5000       Deferred        libfreetype.so.6
ELF     7e5d5000-7e672000       Deferred        oleaut32
  \-PE  7e5f0000-7e672000       \               oleaut32
ELF     7e672000-7e692000       Deferred        mpr
  \-PE  7e680000-7e692000       \               mpr
ELF     7e692000-7e6db000       Deferred        wininet
  \-PE  7e6a0000-7e6db000       \               wininet
ELF     7e6db000-7e734000       Deferred        rpcrt4
  \-PE  7e6f0000-7e734000       \               rpcrt4
ELF     7e734000-7e7d3000       Deferred        ole32
  \-PE  7e740000-7e7d3000       \               ole32
ELF     7e7d3000-7e7e6000       Deferred        libresolv.so.2
ELF     7e7ea000-7e7fe000       Deferred        libz.so.1
ELF     7e7fe000-7e81c000       Deferred        iphlpapi
  \-PE  7e810000-7e81c000       \               iphlpapi
ELF     7e81c000-7e849000       Deferred        ws2_32
  \-PE  7e830000-7e849000       \               ws2_32
ELF     7e849000-7e863000       Deferred        wsock32
  \-PE  7e850000-7e863000       \               wsock32
ELF     7e863000-7e896000       Deferred        winspool
  \-PE  7e870000-7e896000       \               winspool
ELF     7e896000-7e953000       Export          comctl32
  \-PE  7e8a0000-7e953000       \               comctl32
ELF     7e953000-7e9ac000       Deferred        shlwapi
  \-PE  7e960000-7e9ac000       \               shlwapi
ELF     7e9ac000-7eaaa000       Deferred        shell32
  \-PE  7e9c0000-7eaaa000       \               shell32
ELF     7eaaa000-7eb4b000       Deferred        comdlg32
  \-PE  7eab0000-7eb4b000       \               comdlg32
ELF     7eb4b000-7eb93000       Deferred        advapi32
  \-PE  7eb60000-7eb93000       \               advapi32
ELF     7ec7d000-7ed3d000       Export          gdi32
  \-PE  7ec90000-7ed3d000       \               gdi32
ELF     7ed3d000-7ee7a000       Deferred        user32
  \-PE  7ed60000-7ee7a000       \               user32
ELF     7ef8c000-7ef97000       Deferred        libnss_files.so.2
ELF     7ef97000-7efa1000       Deferred        libnss_nis.so.2
ELF     7efa1000-7efb8000       Deferred        libnsl.so.1
ELF     7efb8000-7efc1000       Deferred        libnss_compat.so.2
ELF     7efc1000-7efe8000       Deferred        libm.so.6
ELF     7efe9000-7efec000       Deferred        libxau.so.6
ELF     7efec000-7eff8000       Deferred        libgcc_s.so.1
ELF     b7cb2000-b7cb6000       Deferred        libdl.so.2
ELF     b7cb6000-b7df7000       Deferred        libc.so.6
ELF     b7df8000-b7e0f000       Deferred        libpthread.so.0
ELF     b7e27000-b7f3b000       Deferred        libwine.so.1
ELF     b7f3d000-b7f58000       Deferred        ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
00000015 (D) C:\Program_Files\Final_Draft_6\final_draft.exe
        00000016    0 <==
0000000a 
        0000000c    0
        0000000b    0
00000008 
        00000009    0",173,"0"
"WINE-35949","Starcraft Campaign Editor does not highlight links in triggers on hover","Created attachment 48016
trace+richedit

To reproduce open the Campaign Editor click Scenario click Triggers double-click Current player commands at most 0 buildings click Conditions double-click Current player commands at most 0 buildings and hover over at most 0.

On Windows hovering changes the link color to white text on a blue background with no underline but on Wine nothing changes.

winetricks dlls riched20 fixes the problem.",436,"0"
"WINE-959","ChooseFontA dialog never displays the script selection","Bug comments restored from Gmane.org: 
 
The ChooseFont dialog when not using Unicode has an option to select which 
script will be used when the font supports more than one. This option is not 
implemented in WINE at the moment. 
 
In principle it shouldn't be too dificult to implement. All that needs to be 
done is adding a combo box to the dialog layout and filling it out with the 
result of GetFontUnicodeRanges. There is only really need to check for those 
ranges that correspond to the defined charsets (SYMBOL_CHARSET 
SHIFTJIS_CHARSET etc.). 
 
There is however some need to tweak the resources. For each of these charset 
you probably need: 
1. The demo text to use (locale independant). 
2. The display name to use (i.e. - SHIFTJIS_CHARSET is Japanese if the current 
locale is English RUSSIAN_CHARSET is Russian if the current locale is 
English etc.). 
 
It is my experience that under Windows 2000 ChooseFontW puts this combo box 
in but disables it (ugly). 
 
 
------- Additional Comments From winebugzilla  sun.consumer.org.il 2003-03-16 
16:59 
------- 
The code for 1 is commited. The code for 2 is coming soon. In addition there is 
the entire business of managing the charsets in Unicode and Ansi mess.",1150,"1"
"WINE-28865","Ski Resort Tycoon 2 crashes on startup","Simply put the menu for the game will open but it has trouble running the actual game.",958,"1"
"WINE-12482","Wine 0.9.59 don't do linefeed when ENTER is pressed in any MEMO in applications  compiled by DELPHI7.","Wine 0.9.59 don't do linefeed when ENTER is pressed in any MEMO in applications  compiled by DELPHI7.
This is a 0.9.59 issue but the last version of bugtracking list is still 0.9.58.
Works fine in version 0.9.58. Tested in Ubuntu and Kubuntu with an complex application with many windows and tabs and another one with just a form and a component MEMO.",0,"0"
"WINE-11655","MirandaIM not coming back once sent closing to the taskbar","This is a regression. The same problem was present before ubuntu upgraded to 0.9.54 (which fixed the problem) now as ubuntu has upgraded to 0.9.55 the problem is there again.

When running MirandaIM it is working fine until it is closed so that it only shows in the taskbar. Clicking the taskbar icon doesn't bring the program back up even though it seems to be working as it is still possible to access the config menus of MirandaIM by right clicking the icon.",16,"0"
"WINE-19600","Adobe Updater 6 crashes when clicking on Show Details","Created attachment 22856
wine-1.1.26-390-g31dab8f console output

Adobe Updater 6 comes with the CS4 suite.
After checking for update Updater will give a brief overview of what updates are available.  Clicking on Show Details causes and unhandled exception.

The debugger doesn't seem to catch it though.  Log attached.",1127,"1"
"WINE-39536","Multiple games render black/garbled screen when anti-aliasing enabled (Guild Wars Eve Online Gear Grinder)","Created attachment 52685
terminal output

When in-game anti-aliasing is enabled the game starts and loads to the main menu but the screen shows only garbage (leftover text/textures from the underlying window and from previous runs). The screen never refreshes. This is with the open source nouveau driver.
I can't test it with the binary driver it seems the X Server shipped with Fedora 23 is incompatible with Nvidia binary driver 340.93.

Can be reproduced with the non-Steam demo (make sure corefonts is installed else the demo fails to start).
Anti-aliasing can be toggled on/off in the game configuration file under ~/Documents/My Games/GearGrinder demo/user_config.cfg. Look for the cvar
>seta r_msaa 1

Reverting the following commit fixes the problem for me:

commit 1ca9dfc8ee25f4ae188fdacd4d3d56046cef8003
Author: Stefan Dsinger 
Date:   Wed Oct 28 15:29:17 2015 +0100

    wined3d: Prepare GL resources before calling context_apply_fbo_state.

Fedora 23 32-bit
X Server 1.18.0
OpenGL vendor string: nouveau
OpenGL renderer string: Gallium 0.4 on NV92
OpenGL core profile version string: 3.3 (Core Profile) Mesa 11.1.0-devel
OpenGL core profile shading language version string: 3.30",22,"0"
"WINE-38018","Windows Live Essentials 2012 web installer crashes on unimplemented function ktmw32.dll.RollbackTransaction","Hello folks

continuation of bug 32229

--- snip ---
$ wine ./wlsetup-web.exe
...
fixme:ktmw32:CreateTransaction ((nil) (nil) 0x0 0x0 0x0 300000 (null)): stub
fixme:file:CreateHardLinkTransactedW (LC:\\users\\Public\\Application Data\\Microsoft\\WLSetup\\CabLogs\\Logs.CAB LC:\\users\\focht\\Temp\\02052230-00000008-z9tn964ati\\Logs.CAB (nil) 0x1): stub
wine: Call from 0x7b83b527 to unimplemented function ktmw32.dll.RollbackTransaction aborting
wine: Unimplemented function ktmw32.dll.RollbackTransaction called at address 0x7b83b527 (thread 0009) starting debugger...
--- snip ---

$ sha1sum wlsetup-web.exe 
6d48f1a6734cabd435dc6ec6ba0a94ebfcf15b9f  wlsetup-web.exe

$ du -sh wlsetup-web.exe 
1.2M	wlsetup-web.exe

$ wine --version
wine-1.7.35-89-gbad99c9

Regards",1,"0"
"WINE-10164","Pool of Radiance 1.4 intermittently shows garbage in surfaces","(see bug #10133)

After reverting d9fef10b71b9add27cfaeffa6d7e3ab42342bba7
I got Pool of Radiance 1.4 to start again.

I found another regression for this application
in that some surfaces do not get displayed correctly and some show 
quick intermittent garbage in them. This does not happen with older
versions of wine.

I did a regression test for this which gave me:

3b822b80feba396ec017c9ef0d96d59a1733a2d8 is first bad commit
commit 3b822b80feba396ec017c9ef0d96d59a1733a2d8
Author: Stefan Dsinger 
Date:   Tue Aug 21 23:24:16 2007 +0200

   wined3d: Reject opengl accelerated blits with system memory surfaces.

:040000 040000 8ef4e54af50c3dbd862ff89bc80e1d1b00791f31
dcf76dd03a3451b4eed44796f39ccb1faee4ae6f M      dlls

I reverted the change in current git and the problem went away.
To summarize I could get the application to start and show
correct surfaces by reverting these two:

http://source.winehq.org/git/wine.git/?a=commitdiff_plainh=d9fef10b71b9add27cfaeffa6d7e3ab42342bba7
http://source.winehq.org/git/wine.git/?a=commitdiff_plainh=3b822b80feba396ec017c9ef0d96d59a1733a2d8

I hope this information can be useful to you.",3709,"1"
"WINE-23316","Yahoo messenger doesn't responding","When I run the latest Yahoo Messenger Full stand alone version The installation is working. When I run it under wine the login procedure is good however when it go to the main window of yahoo messenger. The whole program was slow and not responding. When the messenger notifies about new mails. Instead of fix notification window appeared on panel. The notification window stretched continuously and unstoppable and the notification window cant closed.",577,"0"
"WINE-22223","CDBurnerXP's audio disc mode is inaccessible","Created attachment 27122
Terminal output

Entering audio disc mode in CDBurnerXP isn't possible after choosing it and clicking OK it produces an error report dialog and nothing else happens. Steps to reproduce:

1. Run winetricks dotnet20
2. Install CDBurnerXP
3. Start CDBurnerXP and choose a language
4. Highlight audio disc and click OK

It works after adding a native override for gdiplus.

(Same behavior in current git.)",491,"0"
"WINE-30958","StarForge Alpha build: Black screen due to shader compilation errors","Created attachment 40619
log of running the game letting it load and then exiting - no WINEDEBUG variable set

The StarForge guys have put out a freely available alpha build of their game.


Attempting to run it in wine with all quality settings gives me a black screen and the console I have running in the background prints a great many errors about shader compilation including a multi hundred line shader dump - the log is attached.
The user interface and the HUD can be seen.


Relevant hardware specs
GPU NVIDIA 460GT
driver: nvidia 302.17",440,"0"
"WINE-30369","Star Wars: Republic Commando hangs when skipping the intro video","Created attachment 39704
terminal output

The game becomes unresponsive if I try to skip the intro videos. If I let the videos play to the end the problem doesn't occur.
The problem is reproducible fairly often but not always: there are rare occasions when skipping the videos doesn't cause the game to freeze.

>err:quartz:DSoundRender_SendSampleData 0
appears several times in the terminal when I skip the videos. Those lines are not present when the videos are playing from the beginning to the end without skipping.

To reproduce the problem with the demo version:
1. Install...start the demo with SWRepublicCommando.exe located in ../GameData/System directory.
2. There are 2 short videos in the demo (Lucasarts and Nvidia logos) you can skip them by pressing the left mouse button or the  key.

Bisecting resulted in:

821ead201d38ebca8f3e92e71bf7b6c8641b5ace is the first bad commit
commit 821ead201d38ebca8f3e92e71bf7b6c8641b5ace
Author: Aric Stewart 
Date:   Fri Mar 30 20:08:16 2012 -0500

    quartz: Convert DsoundRenderer to use strmbase BaseRenderer.

:040000 040000 524973287718a419d1eae86c166a40a9031283bd 8cfdbb66bee61fb7aef8609eab2c0a540b8267a0 M	dlls

Fedora 16 x86
gstreamer-0.10.35-1.fc16.i686
Gstreamer plugins installed (ffmpeg bad-free bad good ugly)
Alsa 1.0.25
Pulseaudio is not running",39,"0"
"WINE-25824","comdlg32:findlg test times out when run under clang","Created attachment 32914
WINETEST_REPORT_SUCCESS=1 WINEDEBUG=commdlg make finddlg.ok

If I run it manually with make test it will do the same.

Using WINEDEBUG:
austin@midna ~/wine-clang/dlls/comdlg32/tests $ WINEDEBUG=commdlg make finddlg.ok
../../../tools/runtest -q -P wine -M comdlg32.dll -T ../../.. -p comdlg32_test.exe.so finddlg.c && touch finddlg.ok
trace:commdlg:DllMain (0x68380000 1 0x1)
trace:commdlg:FindTextA LPFINDREPLACE=(nil)
trace:commdlg:COMDLG32_SetCommDlgExtendedError (00000002)
trace:commdlg:ReplaceTextA LPFINDREPLACE=(nil)
trace:commdlg:COMDLG32_SetCommDlgExtendedError (00000002)
trace:commdlg:FindTextA LPFINDREPLACE=0x32fc18
trace:commdlg:COMDLG32_SetCommDlgExtendedError (00000001)
trace:commdlg:ReplaceTextA LPFINDREPLACE=0x32fc18
trace:commdlg:COMDLG32_SetCommDlgExtendedError (00000001)
trace:commdlg:FindTextA LPFINDREPLACE=0x32fc18
trace:commdlg:COMDLG32_SetCommDlgExtendedError (0000ffff)
trace:commdlg:ReplaceTextA LPFINDREPLACE=0x32fc18
trace:commdlg:COMDLG32_SetCommDlgExtendedError (0000ffff)
trace:commdlg:FindTextA LPFINDREPLACE=0x32fc18
trace:commdlg:COMDLG32_SetCommDlgExtendedError (00004001)
trace:commdlg:ReplaceTextA LPFINDREPLACE=0x32fc18
trace:commdlg:COMDLG32_SetCommDlgExtendedError (00004001)
trace:commdlg:FindTextA LPFINDREPLACE=0x32fc18
trace:commdlg:COMDLG32_SetCommDlgExtendedError (00004001)
trace:commdlg:ReplaceTextA LPFINDREPLACE=0x32fc18
trace:commdlg:COMDLG32_SetCommDlgExtendedError (00004001)
trace:commdlg:FindTextA LPFINDREPLACE=0x32fc18
trace:commdlg:COMDLG32_FR_DoFindReplace hInst=(nil) Flags=00000000

and never moves on. I don't get any warnings from clang in dlls/cmdlg32 or in dlls/cmdlg32/tests.",1181,"1"
"WINE-21719","Cannot install Adobe Photoshop CS2 due to msi_cabextract failure","I try to install Adobe Photoshop CS2 on Ubuntu Lucid amd64 and it fails at msi_cabextract Attached is my console output.

I saw this bug report: http://bugs.winehq.org/show_bug.cgi?id=20725 but I don't think it's the same.",731,"0"
"WINE-18931","Photoshop CS4 page fault on creating new file","Created attachment 21778
Console output (latest git)

When trying to create a new file in Photoshop CS4 a page fault occurs apparently in msvcr80.

Tried both vcrun2005 and vcrun2005sp1 but this does not help.",1186,"1"
"WINE-1853","problem with sound (wodUpdate) prevents Space Empires IV from running","Starting Space Empires IV Gold with wine-20031108.  The good news is that icons
now draw in this game.  The bad news is that as soon as it tries to play a
sound it gets caught in a loop putting out this message repeatedly:

err:wave:wodUpdatePlayedTotal ioctl(/dev/dsp SNDCTL_DSP_GETOSPACE) failed
(Broken pipe)

Sound worked _before_ in this game.  This is on a Mandrake 9.2 box Athlon
1.4GHz  Sound Blaster Live! card which is correctly configured to play sounds
under linux.  Video is an AGP GeForce2 MX.  Let me know if any other information
would be useful.

When I can keep the game up long enough to turn off sound inside it it runs great!",406,"0"
"WINE-29717","IE4 setup wants inetcpl.cpl.DllInstall","After rebooting the Internet Explorer 4 setup program complains an error or exception occurred while calling the function 'DllInstall' in 'C:\windows\system32\inetcpl.cpl'. This is accompanied by terminal output:

wine: Call from 0x7b83bdc2 to unimplemented function inetcpl.cpl.DllInstall aborting

Workaround: delete C:\windows\system32\inetcpl.cpl before running the installer.

Steps to reproduce:

1. Change the reported Windows version to NT 4.0. (You may also want to remove the Z: drive to avoid a scan of the file system)
2. wine iexplore -unregserver
3. Run the unpacker and installer. Ignore an earlier crash and warning about failure to install some components (bug 25359 & bug 25502).",46,"0"
"WINE-28108","urlmon: url.ok occasional test failure: unexpected call OnProgress_SENDINGREQUEST","About one in 15 runs of urlmon's url test failed here with

url.c:1631: Test failed: unexpected call OnProgress_SENDINGREQUEST",1016,"1"
"WINE-20145","DrawIconEx() doesn't draw 1 bpp monochrome Icons correctly","Created attachment 23728
Test program to show differences between drawing 1 bpp icons in DrawIcon() and DrawIconEx()

The function DrawIconEx() doesn't handle Icons with 1 bpp correctly. 

I've attached a test program that will draw many different icons in a line with DrawIcon() and the same line of icons below with DrawIconEx() and DI_DEFAULTSIZE DI_NORMAL DI_COMPAT flags set - which should normally result in the exact same output.

The drawn icons are (fltr):

1 bpp 2x2 chessboard field
32 bpp white black red green blue icons without alpha channel
32 bpp white black red green blue icons with increasing values of alpha


This works fine in WindowsXP with 32-bit color depth (I'll attach a screenshot later).
In Wine the 1 bpp icon is distorted/squeezed the 32-bit icons are however drawn correct.

I'll search where the handling of 1 bpp icons differs in those two functions and fix DrawIconEx() accordingly.

When this is fixed the DrawIcon-Function could just call DrawIconEx with DI_DEFAULTSIZE DI_NORMAL DI_COMPAT flags (as suggested in http://msdn.microsoft.com/en-us/library/ms648065(VS.85).aspx and done by the test application) and therefore a lot of complicated duplicated code could be removed from dlls/user32/cursoricon.c.",269,"0"
"WINE-331","Wine does not correctly display symbol TrueType fonts","Hello!  I have a specialized math typesetting program that I would like to
run under Wine.  The program itself runs fine however it needs special
True Type symbol fonts for the mathematical symbols.  I have installed
these fonts and they show up fine in standard X programs such as xfontsel
and xfd.  However under Wine sometimes the right symbol is shown but
more often the wrong symbol from the same font is shown or just a blank
box is shown. The condition occurs in all of the Windows programs I have
tested most noticeably in the Windows Character Map and with all of my 
True Type symbol fonts (including the standard Windows Symbol font).  It 
seems to me that the problem could be related to codepage mappings or some 
similar mapping and thus might be easily fixed by someone with more 
knowledge.  On my system I am using RedHat Linux 7.1 with XFree86 4.0.3 and 
codeweavers wine 2001-06-29.
 
Any information about this problem would be greatly appreciated.
 
Thank you
 
Stephen",444,"0"
"WINE-33071","Adobe Reader XI not installing","Created attachment 43721
Terminal output for wine-1.5.24

Adobe Reader is not installing on wine-1.5.24

Here is the link for downloading the application:

http://ardownload.adobe.com/pub/adobe/reader/win/11.x/11.0.02/en_US/AdbeRdr11002_en_US.exe",1,"0"
"WINE-5684","Bloodrayne demo crashes with unhandled exception","When I start the game this shows only black screen then exits to my desktop 
with unhandled exception. I this is the failure of CopyRects.",45,"0"
"WINE-8032","SCAR Divi - Mouse won't click","Scar Divi both work fine except for the most important part!
The mouse won't click!
This program is a macroing program - you can program it to automatically do jobs.
However the mouse won't click and this stops most practical use of this program.
A way to solve this may be that whenever there is a mouse event in Wine you
simply execute it in Linux.",427,"0"
"WINE-40786","Legacy of kain Defiance to crashes when called by script","Created attachment 54692
Defiance Backtrace

The game crashes when i call my script. This is what my script looks like

#!/bin/sh
cd '/mnt/sda2/Games/PC/Legacy of Kain - Defiance'
xset s off -dpms & WINEDEBUG=-all wine explorer /desktop=Defiance800x600 defiance.exe && xset s on +dpms

I would also mention that when i just open a terminal and type in

cd '/mnt/sda2/Games/PC/Legacy of Kain - Defiance'
xset s off -dpms & WINEDEBUG=-all wine explorer /desktop=Defiance800x600 defiance.exe

game works. It seems to have a problem with && xset s on +dpms.",293,"0"
"WINE-15270","Garmin MapSource doesn't run anymore after upgrading to the latest version (6.14.1)","Created attachment 16066
wine error during startup of mapsource

I could run successfully mapsource version 6.11 inlcuding all functions with wine version 1.1.4 on openSuse 11.0 
After applying an upgrade to the software mapsource wine crashes during program start with the error message:

...
wine: Unhandled page fault on write access to 0x003c1000 at address 0x9863ab (thread 0009) starting debugger...
Unhandled exception: page fault on write access to 0x003c1000 in 32-bit code (0x009863ab).
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:0033 GS:003b
 EIP:009863ab ESP:0033e0b8 EBP:0033e0c0 EFLAGS:00010202(   - 00      - -RI1)
 EAX:003c0000 EBX:011d0d70 ECX:01ffffce EDX:00000000
 ESI:011d1d70 EDI:003c1000
..

I have created a trace file for this error with the command:

echo quit | WINEDEBUG=+relay wine MapSource.exe > 
and tailed the last 1000 lines to the attached log file inlcuding the error message.",1940,"1"
"WINE-37949","eLicenser Control Center needs msvcr80.dll.__CxxRegisterExceptionObject","To reproduce:
1) winetricks -q dotnet20
2) download and install the application
3) run c:/Program Files/Syncrosoft/LCC/eLCC.exe
4) press Enter Activation Code
5) hold a keyboard key until after all mask input is completed.

wine: Call from 0x7b83b705 to unimplemented function msvcr80.dll.__CxxExceptionFilter aborting

I see bug 34841 for msvcr90 and bug 35657 for msvcr110 so I understand that each dll should have its own bug. If this is not true the bug can be closed as duplicate.",420,"0"
"WINE-1847","User32 - ReleaseCapture returns wrong results","Within Windows calling ReleaseCapture without having captured the mouse still 
returns TRUE. WINE returns FALSE. Currently I hardly can imagine a situation 
this API call could fail. The only exception may be calling ReleaseCapture 
inside WM_CAPTURECHANGED which is sent inside ReleaseCapture. (But I never 
tried this...)",687,"0"
"WINE-43220","Adobe Premiere needs ntoskrnl.exe.KeReleaseSpinLock","KeReleaseSpinLock is a function required by Adobe Premiere Pro CS6

Info about KeReleaseSpinLock: https://msdn.microsoft.com/en-us/library/windows/hardware/ff553145(v=vs.85).aspx",0,"0"
"WINE-37646","valgrind shows an invalid free in advpack/tests/install.c","==15680== Invalid free() / delete / delete[] / realloc()
==15680==    at 0x7BC4E790: notify_realloc (heap.c:270)
==15680==    by 0x7BC4E790: RtlReAllocateHeap (???:0)
==15680==    by 0x53FC75D: parse_buffer (parser.c:908)
==15680==    by 0x53FD7FB: parse_file (parser.c:992)
==15680==    by 0x53FD7FB: SetupOpenInfFileW (???:0)
==15680==    by 0x4BA992E: install_init (install.c:509)
==15680==    by 0x4BAA8E0: RunSetupCommandW (install.c:1019)
==15680==    by 0x4BAAAC9: RunSetupCommandA (install.c:959)
==15680==    by 0x49AA336: test_RunSetupCommand (install.c:111)
==15680==    by 0x49AA336: func_install (???:0)
==15680==    by 0x49A4FA7: main (test.h:584)
==15680==  Address 0x47917a0 is 0 bytes inside a block of size 4944 alloc'd
==15680==    at 0x7BC4DC87: initialize_block (heap.c:233)
==15680==    by 0x7BC4DC87: RtlAllocateHeap (???:0)
==15680==    by 0x53FD769: parse_file (parser.c:967)
==15680==    by 0x53FD769: SetupOpenInfFileW (???:0)
==15680==    by 0x4BA992E: install_init (install.c:509)
==15680==    by 0x4BAA8E0: RunSetupCommandW (install.c:1019)
==15680==    by 0x4BAAAC9: RunSetupCommandA (install.c:959)
==15680==    by 0x49AA336: test_RunSetupCommand (install.c:111)
==15680==    by 0x49AA336: func_install (???:0)
==15680==    by 0x49A4FA7: main (test.h:584)
==15680==",388,"0"
"WINE-1926","FoxPro scrolling produces garbage output in report preview","To reproduce:

1. Unpack files from www.eetasoft.ee/scrollbug.zip to some writeable directory.

2. Run wine scrollbug.EXE

3. Press Down arrow key 10 times.

4. Press Up Arrow key 10 times.

Observed result:

Preview window is totally corrupted.

Note.

When other winow is activated the corruption disappears. 
Unfortunately this is very inconvenient.

Platform

wine20031212 deb package 
Debian Woody",639,"0"
"WINE-39943","Worms Armageddon opens wine explorer instead of running","Worms Armageddon 3.7.2.1 used to run fine with wine 1.7.xx and older versions but since I upgraded to wine 1.9 when i start the game it open Wine Explorer instead of running normally.",9,"0"
"WINE-12255","Static sound effects with Syberia 2","In Syberia 2 every sound effect is accompanied by a kind of soft scratching noise (similar to a grammophone record that has been played many times). If no sound is playing there is no noise. Other apps with dsound work fine. Syberia 2 in Windows XP works fine. I tried playing with the settings in the audio tab of winecfg which didn't change anything.
I use ALSA.",197,"0"
"WINE-23923","pygame: game pieces aren't connected as they should be","Created attachment 30026
Polychromatic Funk Monkey running under Windows

In the game Polychromatic Funk Monkey ( http://appdb.winehq.org/objectManager.php?sClass=version&iId=20057 ) game pieces aren't connected under wine as they are when the game is run under Windows.",489,"0"
"WINE-23736","Kingdom Heroes crashes due to missing msvcp80.dll.?find_last_of@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QBEIPBDI@Z","Installing the game goes fine but running Loader.exe fails immediately with

err:module:import_dll Library MSVCP80.dll (which is needed by LC:\\AeriaGames\\KingdomHeroes\\Loader.exe) not found

winetricks vcrun2005 works around this and gets you further.",338,"0"
"WINE-18613","Hero Lab hangs with an invisible message box while loading Mutants & Masterminds RPG game","Created attachment 21299
Hero Lab 3.2a backtrace

When using Hero Lab 3.2a to load the Mutants & Masterminds game the application hangs at step Building User Interface... and winedbg indicates that the application is trying to show a message box in response to an exception.

Here are the steps to reproduce the problem:

1. Download and install Hero Lab 3.2a.
2. Skip the informative dialogs and when asked to perform updates enter the update window to download the Mutants & Masterminds game.
3. Import the game and then dismiss the update window. Load the Mutants & Masterminds game.
4. The application should hang at the Building User Interface... phase.

When frozen the application has backtrace:

Wine-dbg>bt
Backtrace:
=>0 0xb804442e (0x0030e894)
  1 0x7bc71885 NTDLL_wait_for_multiple_objects+0x275(count=1 handles=0x30eb0c flags=4 timeout=(nil) signal_object=(nil)) [/home/andrew/wine-git/dlls/ntdll/sync.c:1128] in ntdll (0x0030eab4)
  2 0x7bc71b82 NtWaitForMultipleObjects+0x62(count= handles=0x30eb0c wait_all=0 alertable= timeout=(nil)) [/home/andrew/wine-git/dlls/ntdll/sync.c:1166] in ntdll (0x0030eae4)
...
  11 0x7edd004f MessageBoxExA+0x5f(hWnd=(nil) text=HeroLab.exe has encountered a problem and needs to close. We are sorry for the inconvenience... title=Hero Lab type=73744) [/home/andrew/wine-git/dlls/user32/msgbox.c:398] in user32 (0x0030ee44)
  13 0x0057f4f7 in herolab (+0x17f4f7) (0x0030f2c8)

The backtrace and relay log are attached.",289,"0"
"WINE-27671","ComboFix fails to install","Pops up a ton of errors like:
Error opening file for writing: 

c:\\32788R22FWJFW\\023.dat

Click Abort to stop the installation
Retry to try again or
Ignore to skip this file.

no terminal output unfortunately.

wine-1.3.23-109-g7340dcd

456268372dadf0d3712df815f293cb160c225e81  ComboFix.exe",1913,"1"
"WINE-44","Winelib PowerPC Port","The following error is encountered after calling 'make' ('make depend' previously 
called):

make[1]: Entering directory `/root/wine-20001002/unicode'
make[1]: `libwine_unicode.so' is up to date.
make[1]: Leaving directory `/root/wine-20001002/unicode'
make[1]: Entering directory `/root/wine-20001002/tools'
gcc -c -I. -I. -I../include -I../include -g -O2 -Wall -D__WINE__ -D_REENTRANT  -o 
fnt2bdf.o fnt2bdf.c
In file included from ../include/winbase.h:5
                 from ../include/wine/winbase16.h:5
                 from ../include/wine/wingdi16.h:6
                 from fnt2bdf.h:1
                 from fnt2bdf.c:23:
../include/winnt.h:794: #error You need to define DEFINE_REGS_ENTRYPOINT macros 
for your CPU
../include/winnt.h:805: #error You must define GET_IP for this CPU
make[1]: *** [fnt2bdf.o] Error 1
make[1]: Leaving directory `/root/wine-20001002/tools'
make: *** [tools] Error 2

	Thank you in advance for any assistance you may be able to provide.

				-Robert Vogt IV


CPU: Power Macintosh G4/450",1342,"1"
"WINE-28562","Plastic Animation Paper 4.0 doesn't start","Created attachment 36686
plain terminal output

Users reported in the WineHQ forum that the application refuses to start in a recent Wine.
http://forum.winehq.org/viewtopic.php?t=12970

Indeed Plastic Animation Paper 4.0 is showing an error message when launching with 1.3.29:
'Fatal error
Unable to set up graphics mode graphics card must be capable of running 800x600'.

Actually this is a regression which happened between 1.3.27 and 1.3.28.
The problem with bisecting is that that the application is broken between these 2 commits:
http://source.winehq.org/git/wine.git/commit/76fecde8fb2d335e4855bec6d36ffe16cbed04f3
and
http://source.winehq.org/git/wine.git/commit/8e79a7e6644fd6f1e0cfeb8b826e683d171d723a

That was bug #28259 affecting several apps/games.

If I apply the patch (in commit [76fecde8fb2d335e4855bec6d36ffe16cbed04f3]) on [8e79a7e6644fd6f1e0cfeb8b826e683d171d723a] then I receive the same error message that the application produces in current git.

So I think the offending commit preventing PAP 4.0 from starting should be

8e79a7e6644fd6f1e0cfeb8b826e683d171d723a is the first bad commit
commit 8e79a7e6644fd6f1e0cfeb8b826e683d171d723a
Author: Stefan Dsinger 
Date:   Sat Sep 3 21:06:11 2011 +0200

    ddraw: Add some NULL pointer tests.

:040000 040000 91eec493c175fa65b5564a00127fa2e387b26f0d 25adf271715f048af26ebeba0626e0ac65ff2b71 M	dlls

Added Stefan to CC.
I must also add that prior to 1.3.23 the application produces the same error message on startup. So it only works between 1.3.23 and 1.3.28.
PAP 4.0 is now freeware.",45,"0"
"WINE-20972","Atlantica Online: crashes when closing sometimes at login","When ending Atlantica Online it crashes and Wine debugger comes up. A process named ### has to be killed before Wine ends. The same thing sometimes happens just after login at security key page.

Wine outputs the following output when the crash happens:
wine: Unhandled page fault on read access to 0x07b785a4 at address 0x7e0d02c9 (thread 002e) starting debugger...

The bug doesn't occur with Wine 1.1.33.

And before that many fixme:xinput:XInputGetState errors but thats probably when the game is still running.",108,"0"
"WINE-19691","Visual C++ 2005 Express: can't uninstall or reinstall","Run the script http://kegel.com/wine/vc2005x.sh.txt
(in cygwin in wine)
and then either run 'wine uninstaller' or run that
script a second time.  Either way wine complains

fixme:msi:ACTION_CustomAction msidbCustomActionTypeTSAware not handled
fixme:msidb:JOIN_get_row (0xe1c0d0 2 0x87cb28): stub!
fixme:msi:ACTION_CustomAction msidbCustomActionTypeTSAware not handled
err:msi:ITERATE_Actions Execution halted action LInstallFinalize returned 1603
err:msi:ITERATE_Actions Execution halted action LExecuteAction returned 1603",916,"1"
"WINE-20889","In Quake 3 Arena Main Menu one mouse click is taken as two","In Quake 3 Arena Main Menu one mouse click is taken as two. For example if clicked Fight in Single Player-menu it will skip Difficulty Level-screen because Fight-buttons are on exactly the same position and one mouse click is taken as two. It will go straight to the battle.

Pressing Enter from keyboard is taken as only one press as it should be and it's currently the only workaround.

Tested:

- Changing mouse sensitivity/clicking sensitivity-options in game or Gnome.
- Tried different mouse settings in Quake 3 Arena's config file.

This problem is also with Wine 1.0.1.",1149,"1"
"WINE-28956","Internet Explorer 3.02 causes a crash after moving the temporary internet files folder - unimplemented function wininet.dll.RunOnceUrlCache","After changing the location of IE3's temporary internet files folder rundll32 crashes on the next run of wineboot with:

wine: Call from 0x7b83b722 to unimplemented function wininet.dll.RunOnceUrlCache aborting
wine: Unimplemented function wininet.dll.RunOnceUrlCache called at address 0x7b83b722 (thread 0026) starting debugger...

Steps to reproduce:

1. winetricks ie3 (requires winetricks from svn)
2. wine control inetcpl.cpl
3. Click on the advanced tab -> settings -> move folder -> choose any folder -> OK
4. Exit the control panel applet
5. wine wineboot

Workaround: WINEDLLOVERRIDES=wininet=n",1,"0"
"WINE-15035","Gothic 2 Aplication error - access violation","Created attachment 15683
Regression test result

impossible to start Gothic 2 with wine 1.3",1,"0"
"WINE-10446","Capslock key press not detected","1. boot Half-Life 2 episode 2
2. go to the game options keyboard config
3. assign capslock to some action in the keyboard config like duck or jump
4. load a new game
5. press capslock

What's to be expected:
 - pressing caps lock should trigger the action you've configured in the game options. Step 3 works but 5 does not. I use capslock for ducking as it's right next to WSAD but the action doesn't happen. Nothing happens.",147,"0"
"WINE-25998","Wine builtin IE doesn't handle url with port number like http://0.0.0.0:8000","Created attachment 33144
log: IE crash while opening http://0.0.0.0:8000

$ wine iexplore http://0.0.0.0:8000
fixme:ole:CoResumeClassObjects stub
fixme:storage:create_storagefile Storage share mode not implemented.
fixme:urlmon:URLMoniker_BindToObject use running object table
fixme:shdocvw:BindStatusCallback_OnProgress status code 1

Wine IE won't display any thing.

After long time waiting IE will crash.
I'm not sure whether it is about urlmon overrite urlmon seems not work.",29,"0"
"WINE-8407","MPLab 7.60 hangs at splash screen","... and it doesn't hang if you install dcom98.",923,"1"
"WINE-20913","Multiple games crash on start","Created attachment 25074
Crash log Gothic 3

With current git (1.1.34) Neverwinter Nights 2 and Gothic 3 cannot start. My regression test gives the following result:

ff92e6eb6a6b0f5b6ee0d062f8434cad8f31c33d is the first bad commit
commit ff92e6eb6a6b0f5b6ee0d062f8434cad8f31c33d
Author: Henri Verbeet 
Date:   Fri Dec 4 11:50:47 2009 +0100

    d3d9: Simplify GetDevice().

:040000 040000 ccebe44be5e36f17c326a41100c911a49651f50f 8d1b81d3bf3a05b4617b231be6d45d3028c207e5 M      dlls

I have attached a compressed +d3d9 log for Gothic 3.",4,"0"
"WINEHQ.ORG-40105","Wine is unable to download the Gecko version for Wine 1.9.3.","After following instructions on the Wine HQ Ubuntu page https://wiki.winehq.org/Ubuntu and installing the development version (1.9.3) when I first started wine it could not find the gecko package but when it attempted to download gecko it could not find the file (404 error).

I subsequently tried downloading Gecko using the instructions on https://wiki.winehq.org/Gecko

i.e. wget http://dl.winehq.org/wine/wine-gecko/2.40//wine_gecko-2.44-x86_64.msi
and received the same error

wget http://dl.winehq.org/wine/wine-gecko/2.40//wine_gecko-2.44-x86_64.msi
--2016-02-08 18:21:19--  http://dl.winehq.org/wine/wine-gecko/2.40//wine_gecko-2.44-x86_64.msi
Resolving dl.winehq.org (dl.winehq.org)... 103.245.222.69
Connecting to dl.winehq.org (dl.winehq.org)|103.245.222.69|:80... connected.
HTTP request sent awaiting response... 404 Not Found
2016-02-08 18:21:19 ERROR 404: Not Found.

 It would appear that the Gecko packages for 1.9.3 is not available on that site.
Subsequently I am unable to get Wine to execute at all",0,"0"
"WINE-30511","Guild Wars 2 launcher crashes with assertion m_ioCount failed","Created attachment 39906
launcher crash log

After downloading around 1GB of data the Guild Wars 2 launcher crashes with assertion: m_ioCount. I can restart the launcher and it picks up from where it left off so eventually it does finish. A crash log from the game is attached.

I've also seen this crash very infrequently on the login screen. The beta hasn't started yet so I don't know if the crash occurs ingame as well.",2390,"1"
"WINE-25171","Many DirectX10+ games need IDXGIAdapter::CheckInterfaceSupport method implementation","Created attachment 31931
wine output

What:
---
Steam Just Cause 2 Demo

What doesn't work:
---
Running the game

How to reproduce:
---
Install game via Steam
Set Windows version to 'Windows 7' via % winecfg as the game requires it
Run the game which should result with error window:

~~~ SNIP ~~~
Fatal DirectX erorr!
Code: 2
Result: 0x0: S_OK
~~~ SNIP ~~~

According to search this is related to DirectX and what not.
With Wine-1.3.2 you get an empty error window.

Additional info:
---
Game requires DirectX 10 capable hardware to run!
Game requires DirectX 10 and better to run!

Test setup:
---
Slackware64
nVidia GTX260 DX10 capable card
Wine-1.3.7",1794,"1"
"WINE-42427","Steam application claims no internet connection","I tried many times but Steam doesn't load any page or install any game.

I'm trying to run with WINEDEBUG=-all wine Steam.exe -no-cef-sandbox -no-dwrite -tcp (AFAIK cef and dwrite are already fixed and I could remove them) I tried the combinations with/without each argument

To force Steam to install a specific game even without internet connection to find it using Steam application I ran WINEDEBUG=-all wine Steam.exe -no-cef-sandbox -no-dwrite -tcp steam://run/372000 and then the Steam applications says it can't install without internet connection.

One strange thing is that I installed it and after the installation the application updates itself without problem 

Also I have libnss-mdns:i386 library installed and updated as I have mdns in my hosts entry of /etc/nsswitch.conf file.

I tried with Windows 7 and XP (using winecfg setting globally and specific to the application as well)

$wine --version
wine-2.1

Installed the latest version through:
sudo add-apt-repository ppa:wine/wine-builds
sudo apt-get update
sudo apt-get install --install-recommends winehq-devel

I searched for help on internet and on https://appdb.winehq.org/objectManager.php?sClass=version&iId=19444  but I didn't find a similar problem or a workaround 

Anyone have a hint how I can get it working? Or how I can get the back trace to help to investigate this problem?

Thank you all for the help

Kind regards
Luan",215,"0"
"WINE-21710","MotorM4X menu background image is not shown","Simply start the game and the menu background image is not there anymore.  The failing changeset seems to be:

$ git bisect bad
1aa749d9e7ee54f221373ccb2b47bcb31ef6533f is first bad commit
commit 1aa749d9e7ee54f221373ccb2b47bcb31ef6533f
Author: Alexandre Julliard 
Date:   Tue Oct 27 19:06:48 2009 +0100

    libwine: Reserve some low memory space even without a preloader.

:040000 040000 c6cbdf6fa3f40c287da32a6a3906d4d0ad7c5909 9fee74fb30f8b9bb7ccc3905c65607d13aabdf8b M	libs",597,"0"
"WINE-25094","Battlefield Bad Company 2: needs msvcp80.dll.??0?$basic_istringstream@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE (purist)","If set to builtin only fails on msvcr80.dll._CRT_RTC_INITW. According to mscodescan may also need:
./BFBC2Game.exe imports following stub symbols:
  msvcr80:_CRT_RTC_INITW
  msvcr80:__daylight
  msvcr80:_findfirst32
  msvcr80:_findnext32
  msvcr80:_resetstkoflw
  msvcr80:_stat32
  msvcr80:_wstat32
  msvcr80:wcsrtombs_s

for the record it also wants some msvcp80 stuff:
msvcp80:??0?$basic_istringstream@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE@ABV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@1@H@Z
msvcp80:??4?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV01@ABV01@@Z
msvcp80:??4?$basic_string@_WU?$char_traits@_W@std@@V?$allocator@_W@2@@std@@QAEAAV01@PB_W@Z
msvcp80:??5?$basic_istream@DU?$char_traits@D@std@@@std@@QAEAAV01@AAI@Z
msvcp80:??5?$basic_istream@DU?$char_traits@D@std@@@std@@QAEAAV01@AA_J@Z
msvcp80:??_D?$basic_istringstream@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEXXZ
msvcp80:?append@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV12@PBD@Z
msvcp80:?begin@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE?AV?$_String_iterator@DU?$char_traits@D@std@@V?$allocator@D@2@@2@XZ
msvcp80:?clear@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEXXZ
msvcp80:?end@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE?AV?$_String_iterator@DU?$char_traits@D@std@@V?$allocator@D@2@@2@XZ
msvcp80:?erase@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAE?AV?$_String_iterator@DU?$char_traits@D@std@@V?$allocator@D@2@@2@V32@0@Z
msvcp80:?find@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QBEIPBDII@Z
msvcp80:?replace@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV12@IIID@Z
msvcp80:?swap@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEXAAV12@@Z
msvcp80:_FInf
msvcp80:_FSnan
msvcp80:wctype",599,"0"
"WINE-4916","Installshiled crashes when installing Resident Evil demo 3","During the process of the installation of resident Evil demo 3 installshield
crashes with the following pop-up

Error Number: 0x80040706
Description: Object reference not set
Setup will now terminate


I attached the console output

Best regards

Joaopa",100,"0"
"WINE-17630","Unreal Tournament 3: d3dx10_35.dll not found","Fresh install of Wine Steam UT3 attempting to launch the game fails because it thinks that DX10 is present.

err:module:import_dll Library d3dx10_35.dll (which is needed by LC:\\Program Files\\Steam\\steamapps\\common\\unreal tournament 3\\Binaries\\UT3.exe) not found",623,"0"
"WINE-4081","photoshop 7 fails to start with wine 0.9.3","Hello
I am using FC4 x86_64 with wine 0.9.3 compiled from source.
I installed photoshop 7 inside wine and the installation worked fine.
but when I start it it says that it can't be started due to a unrecoverable
hardware error. In the terminal I get this output:
fixme:actctx:QueryActCtxW stub!
fixme:font:WineEngAddFontResourceEx :stub
fixme:actctx:QueryActCtxW stub!
fixme:font:WineEngRemoveFontResourceEx :stub
fixme:font:WineEngAddFontResourceEx :stub
err:dc:CreateDCW no driver found for L\\\\.\\DISPLAY1
fixme:palette:GetICMProfileA (0x8ad4 0x7fa0e860 0x7fa0e864): partial stub
err:shell:HCR_GetFolderAttributes HCR_GetFolderAttributes should be called for
simple PIDL's only!
---
As reported here:
http://frankscorner.org/index.php?p=ps7
it should work with wine 20050628.
note: msvcp60.dll was missing (error message at startup but seems not to affect
anything) so I copied it into .wine/drive_c/system32 and the error about the
missing dll was gone.
Any other info I can provide?",63,"0"
"WINE-21613","Stack buffer read overflow in GdipCreateBitmapFromScan0","The gdiplus image tests have long shown the following error in valgrind:
 Conditional jump or move depends on uninitialised value(s)
    at  X11DRV_DIB_GenColorMap (dib.c:367)
    by  X11DRV_DIB_BuildColorMap (dib.c:436)
    by  X11DRV_CreateDIBSection (dib.c:4742)
    by  CreateDIBSection (dib.c:1353)
    by  GdipCreateBitmapFromScan0 (image.c:1251)
    by  GdipCreateBitmapFromHBITMAP (image.c:2782)
    by  test_GdipCreateBitmapFromHBITMAP (image.c:512)
    by  func_image (image.c:1523)
    by  run_test (test.h:535)
    by  main (test.h:585)
  Uninitialised value was created by a stack allocation
    at  GdipCreateBitmapFromScan0 (image.c:1204)
e.g. http://kegel.com/wine/valgrind/logs/2010-01-04-10.14/vg-gdiplus_image.txt

Turns out even though biClrUsed is zero 
CreateDibSection expects the BITMAPINFO to have a valid color table
see gdi32/dib.c line 1161:

   1160         colors = info->bmiHeader.biClrUsed
   1161         if (!colors) colors = 1 bmiHeader.biBitCount

The attached patch gets rid of the warning and lets the tests pass
but seems wrong the color table probably needs to have real values.",411,"0"
"WINE-5754","oleaut32: MS Dao 3.5 fails to evalutate SELECT  -  FROM ... sql","Using DAO 3.5 (the engine for MS Access 97 databases) and Wine 0.9.17
I've got a trouble:

when I launch a query that does a subtraction between two currency field
(ie: SELECT InvoiceTotal - Taxes AS Revenue FROM ....

the query fails lamenting some incorrect types...

The console log says:
----
fixme:variant:VarSub can't expand vt 6 vs 6 to a target type.
----
Replacing the builtin OLEAUT32.DLL with the native DLL everything works
ok.

The attached minimal project reproduce the problem before starting it install
standard Dao 3.5 setup from MS or install
http://download.danea.it/demo/def2006demo09b.exe (that is my SW it install a
minimal Dao3.5)

BTW this is the minimal bit of Delphi code to reproduce the problem:

procedure TForm1.Button2Click(Sender: TObject)
var
    daodbeng: DAODBEngine
    daodb: DAODatabase
    daors: DAORecordset
    iType: integer
begin
    try
        daodbeng:= OpDAO35.CreateEngine
        daodb:= daodbeng.OpenDatabase(ChangeFileExt(Application.ExeName
'.mdb') false false '')
        // Note: TotDoc and TotNetto are CURRENCY fields
        daors:= daodb.OpenRecordset('SELECT TotDoc - TotNetto AS Iva FROM
TDocTestate' dbOpenDynaset _ _)

        // Under windows it shows 5 under Wine 0
        // log: fixme:variant:VarSub can't expand vt 6 vs 6 to a target type.
        iType:= daors.Fields[0]._Type
        if iType = 5 then
            showmessage('OK')
        else
            showmessage('Wrong type: ' + inttostr(iType))

        daors.Free
        daodb.Free
        daodbeng.Free
    except
        on e: Exception do
            ShowMessage('Exception: ' + e.ClassName + ' Msg: ' + e.Message)
    end
end",9,"0"
"PACKAGING-40590","OS X version check broken in pkg installer","Created attachment 54441
info

wine does not open",14,"0"
"WINE-11376","Origin 7.5 crashes while plotting data","Created attachment 10488
tracelog wine 0.9.53

Origin 7.5 crashes when I select a column and click on the button for plotting the data. This crash also occurs in version 0.9.53 however version 0.9.51 works fine",326,"0"
"WINE-12757","Europa Universalis Rome crashes on startup (D3DXLoadSurfaceFromFileInMemory must not unconditionally call CoUninitialize() different COM threading model used)","Created attachment 12414
Start-up print outs of EU Rome - Full game.

Both the full Europa Universalis Rome game and demo crashes at start-up.
I guess when the main menu is about to be loaded.

Both the game and the demo needs the msvcp60.dll in the same directory as
the main .exe file and a copy of d3dx9_36.dll in the windows/system32 

Probably they also require the videomemory registry variable to be set.",2135,"1"
"WINE-7512","Problem with unicode comboboxes","I have been using a burning program called ImgBurn for a while now with good
results. The latest update of ImgBurn added support for UNICODE which has
created a problem with the text being shown in drop down combo boxes. I have a
thread started at the ImgBurn forums more detail of the problem can be found there.

http://forum.imgburn.com/index.php?showtopic=3366

LIGHTNING UK! is the author of the program and can be contacted at the forum. I
know you guys are very busy but any help you could offer would be great.",257,"0"
"WINE-39750","Sonic Generations: Crash due to stack overflow","Created attachment 53024
Console output on starting the game

When attempting to launch Sonic Generations via Steam it immediately crashes due to a stack overflow. (Actually I think it is Steam that crashes.)

This does not happen with Wine 1.8-rc1-staging.

A have attached the console output.

--

Wine version: 1.8-rc2-staging

Command used to launch the game: wine C:\\windows\\command\\start.exe steam://rungameid/71340

--

Some additional info about my system (just in case):

Distro: Linux Mint 17.2 (64 bit)
Kernel: 3.19.0-26-generic
Graphics: Proprietary NVIDIA 352.55",24,"0"
"WINE-8623","Winsock Errors with uTorrent","For the last couple of Beta builds of uTorrent. I have been unable to connect to
any peers through the uTorrent and WINE. So I am unable to upload or download
anything.

I ran uTorrent through the console and while running I got a bunch of fixme
winsock error messages. I will attach all these messages. BTW I wasn't sure what
catagory it would belong to so sorry if I selected the wrong one.

I'm running ubuntu 7.04 if that helps.",216,"0"
"WINE-19578","Ares (Proteus 7.5) exits silently","Created attachment 22817
wine-1.1.26-351-gd97cc15 +relay +seh +tid (225KB)

Ares part of Proteus 7.5 exits silently with one line in the console.

err:seh:raise_exception Exception frame is not in stack limits => unable to dispatch exception.

Wine-dbg>bt
Backtrace:
=>0 0x00e5e759 in electra (+0x67e759) (0x007dfd88)
  1 0x7bc4a256 MODULE_InitDLL+0x211(wm=0x1112c8 reason=1 lpReserved=0x1) [/home/test/wine-git/dlls/ntdll/loader.c:976] in ntdll (0x007dfee8)
  2 0x7bc4a5de process_attach+0x191(wm=0x1112c8 lpReserved=0x1) [/home/test/wine-git/dlls/ntdll/loader.c:1065] in ntdll (0x007dff48)
  3 0x7bc4a590 process_attach+0x143(wm=0x110768 lpReserved=0x1) [/home/test/wine-git/dlls/ntdll/loader.c:1057] in ntdll (0x007dffa8)
  4 0x7bc4e22d attach_process_dlls+0x54(wm=0x110768) [/home/test/wine-git/dlls/ntdll/loader.c:2428] in ntdll (0x007dffe8)
  5 0xb7ecd9c9 wine_call_on_stack+0x1d() in libwine.so.1 (0x00000000)",62,"0"
"WINE-29609","League Of Legends game client crashes after champion selection (failure to resolve hostname)","Same error as in http://bugs.winehq.org/show_bug.cgi?id=29039 in 1.3.36 &1.3.37
since the patches noted in comments seem already in this versions.",1333,"1"
"WINE-36340","valgrind shows several warnings in ddraw/tests/ddraw2.c","==20452== Conditional jump or move depends on uninitialised value(s)
==20452==    at 0x5842378: GetRegionData (region.c:889)
==20452==    by 0x4E726BE: ddraw_clipper_GetClipList (clipper.c:213)
==20452==    by 0x4EA05EE: ddraw_surface7_Blt (surface.c:1429)
==20452==    by 0x4EA1FE6: ddraw_surface1_Blt (surface.c:1597)
==20452==    by 0x4D9776E: test_clipper_blt (ddraw2.c:647)
==20452==    by 0x4DA7C8E: func_ddraw2 (ddraw2.c:6398)
==20452==    by 0x4E1C6DC: run_test (test.h:584)
==20452==    by 0x4E1CACB: main (test.h:654)
==20452==  Uninitialised value was created by a stack allocation
==20452==    at 0x4EA0411: ddraw_surface7_Blt (surface.c:1503)
==20452== 

and several leaks e.g.:
==20664== 20 bytes in 1 blocks are definitely lost in loss record 208 of 1043
==20664==    at 0x7BC50A9B: RtlAllocateHeap (heap.c:255)
==20664==    by 0x4E8EA7E: DirectDrawCreateClipper (ddraw.c:3274)
==20664==    by 0x4E8EC42: ddraw7_CreateClipper (ddraw.c:3309)
==20664==    by 0x4E8ED9F: ddraw2_CreateClipper (ddraw.c:3331)
==20664==    by 0x4DA6CBC: test_clipper_blt (ddraw2.c:565)
==20664==    by 0x4DB7C8E: func_ddraw2 (ddraw2.c:6398)
==20664==    by 0x4E2C6DC: run_test (test.h:584)
==20664==    by 0x4E2CACB: main (test.h:654)
==20664==",1745,"1"
"WINE-20855","Appraise-It 8.3 installer fails to download redistributable packages","Created attachment 24985
Appraise-it 8.3 redist installer +wininet trace

With wine-1.1.33-404-gac85305 when the Appraise-It 8.3 installer attempts to download various redistributables from an FTP site the installer fails with:

Extraction of installation data downloaded from the web has failed.

The immediately pertinent fixmes are:

fixme:wininet:FtpGetFileSize (0x2 0x1cede78)
fixme:wininet:INET_QueryOption Stub for 33

Using winetricks to install native wininet lets the installer actually begin the downloading process although it seems to hang after retrieving all bytes for a particular redist file.",5,"0"
"WINE-1462","vertical trackbar/slider doesn't render properly","Bug comments restored from Gmane.org:

Vertical trackbar/slider doesn't render properly.


------- Additional Comments From reif@earthlink.net  2003-05-15 19:55 -------
Created an attachment (id=482)
example MFC program: slider.exe",438,"0"
"WINE-34141","Thunderbird 17.07 Crashes when clicking done in account configuration  window","Add-ons: 
AvailablePageFile: 24878776320
AvailablePhysicalMemory: 7783845888
AvailableVirtualMemory: 4294770687
BuildID: 20130620083911
CrashTime: 1374872070
EMCheckCompatibility: true
Email: debporter@!grex.org
FramePoisonBase: 00000000f0de0000
FramePoisonSize: 65536
InstallTime: 1374857013
ProductID: {3550f703-e582-4d05-9a08-453d09bdfdc6}
ProductName: Thunderbird
ReleaseChannel: release
SecondsSinceLastCrash: 15006
StartupTime: 1374870830
SystemMemoryUsePercentage: 6
Theme: classic/1.0
Throttleable: 1
TotalVirtualMemory: 4294836223
URL: 
Vendor: 
Version: 17.0.7
Winsock_LSP: TCP/IP : 2 : 1 :  
 UDP/IP : 2 : 2 :  
 IPX : 2 : 2 :  
 SPX : 2 : 5 :  
 SPX II : 2 : 5 : 

This report also contains technical information about the state of the application when it crashed.",374,"0"
"WINE-30233","Cisco IP Communicator 8.6(1). The minimum supported processor to run Cisco IP Communicator is a P3 Pentium-level or compatible processor","When I run:
$ wine /home/taras/Downloads/CiscoIPCommunicatorSetup.exe
fixme:storage:create_storagefile Storage share mode not implemented.
err:msi:ITERATE_Actions Execution halted action LLaunchConditions returned 1603

Installator launchs and display message:
The minimum supported processor to run Cisco IP Communicator is a P3 Pentium-level or compatible processor. The setup will now abort.

$ wine --version
wine-1.4

$ lsb_release -rd
Description: Ubuntu precise (development branch)
Release: 12.04

$ apt-cache policy wine
wine:
  Installed: 1.4-0ubuntu1
  Candidate: 1.4-0ubuntu1
  Version table:
 *** 1.4-0ubuntu1 0
        500 http://ru.archive.ubuntu.com/ubuntu/ precise/universe amd64 Packages
        100 /var/lib/dpkg/status",35,"0"
"WINE-28477","Pollux Ride : Unhandled exception: unimplemented function msvcp80.dll.??0?$basic_fstream@DU?$char_traits@D@std@@@std@@Q","Horse riding children program from PAN Vision crahes on startup. 

Winedbg report:

C:\Program Files\PAN Vision\rnge>winedbg equestrianapp.exe
WineDbg starting on pid 0034
0x7b85718e DbgBreakPoint+0x12 in kernel32: addl $4%esp
Wine-dbg>c
Unhandled exception: unimplemented function msvcp80.dll.??0?$basic_fstream@DU?$char_traits@D@std@@@std@@Q
AE@XZ called in 32-bit code (0x7b82db78).

I tried also with winetricks msvcp80.dll but it did not help.",411,"0"
"WINE-34800","Notepad++: crashes launching the plugin manager","Created attachment 46415
Program error details given by wine

Crashes launching the plugin manager the rest of the functionality of the application seems to be working fine.",2,"0"
"WINE-23402","AMD Demo - Whiteout requires d3dx10_33.dll","Without accompanying DirectX setup. 

fixme:actctx:parse_depend_manifests Could not find dependent assembly LMicrosoft.VC80.CRT (8.0.50608.0)
err:module:import_dll Library d3dx10_33.dll (which is needed by LC:\\Program Files\\AMD\\AMD Demo - Whiteout\\WhiteoutD3D10.exe) not found
err:module:import_dll Library MSVCP80.dll (which is needed by LC:\\Program Files\\AMD\\AMD Demo - Whiteout\\WhiteoutD3D10.exe) not found
err:module:LdrInitializeThunk Main exe initialization for LC:\\Program Files\\AMD\\AMD Demo - Whiteout\\WhiteoutD3D10.exe failed status c0000135",844,"1"
"WINE-26955","Prince of Persia SoT: control key bindings don't change properly","In the game Prince of Persia: The Sands of Time if you try to change the keybinding for one of the controls it will always interpret the key as Pause.  For instance if you press the m key it will be interpreted as Pause.  This applies to any key on the keyboard.  However using mouse buttons works fine.

If you leave the control settings at their default settings they do work in game.  However if you change one it does not work because it isn't being assigned properly.

My best guess is that the bug lies in whatever function the game calls to listen for a key press in the control settings.",1828,"1"
"WINE-7690","Hoai client fails to install","Say maybe we should have an advapi section in bugzilla.

testversionshoai80.exe installs fine but when
it launches the client installer at the end
it fails.  (You have to have the ie6 registry key set
to get this far so do 'winetricks fakeie6' if you haven't already.)

After installation fails you can restart just the client
installation with

$ cd $WINEPREFIX/drive_c/Program Files/KOBOLD/shoai.80/admin/client-installation
$ wine shoai80clientSetup.exe

shoai80clientSetup fails with a dialog box
  122: Insufficient buffer

Looking at +relay I see

001c:Call advapi32.RegGetKeySecurity(0000004400000004000000000047347c)
ret=0044422d
trace:reg:RegGetKeySecurity (0x444(nil)0)
001c:Ret  advapi32.RegGetKeySecurity() retval=0000007a ret=0044422d
001c:Call advapi32.RegGetKeySecurity(0000004400000004000000000047347c)
ret=0044422d
trace:reg:RegGetKeySecurity (0x444(nil)0)
001c:Ret  advapi32.RegGetKeySecurity() retval=0000007a ret=0044422d

right before the failure.  It looks like a bug in our
RegGetKeySecurity which isn't setting *lpcbSecurityDescriptor
on exit.  Fixing that gets to the very next call which fails 
with dialog box 87: Invalid parameter and the following +relay output:

001c:Call
advapi32.MakeAbsoluteSD(0047b8b4000000000034f9d4000000000034f9d8000000000034f9dc000000000034f9e0000000000034f9e4)
ret=00443e4d
001c:Ret  advapi32.MakeAbsoluteSD() retval=00000000 ret=00443e4d
001c:Call
advapi32.MakeAbsoluteSD(0047b8b4000000000034f9d4000000000034f9d8000000000034f9dc000000000034f9e0000000000034f9e4)
ret=00443e4d
001c:Ret  advapi32.MakeAbsoluteSD() retval=00000000 ret=00443e4d
001c:Call kernel32.GetLastError() ret=004504d6
001c:Ret  kernel32.GetLastError() retval=00000057 ret=004504d6

Bleah too much for me for tonight guess I'm a wimp :-)",29,"0"
"WINE-17513","Rome total war detects a debugger","Regression in Rome total war: wine detected as a debugger. User states that copy protection worked in versions 0.99 through 1.99 but is unsure of the actual culprit testing required to confirm correct version.",262,"0"
"WINE-32166","RebelBetting (.NET app): Serious error when selecting a listing","Created attachment 42435
wine-1.5.16-262-gb036ee6 console output

When selecting a listing in RebelBetting (log-in required) a dialog pops up reporting a Serious error but is not more specific than that.

To get this far:
1. Revert commit af08a2f6ba2fb0d65f1a1d3b7720216860fc9456 (Bug 32156)
2. Patch winetricks with patch from http://code.google.com/p/winetricks/issues/detail?id=286
3. winetricks -q msxml6 dotnet35sp1 (order is important) (Bug 32164)

I would *guess* that these have something to do with it:
fixme:shell:URL_ParseUrl failed to parse

Tried msxml3 and msxml4 but they made no difference.",795,"0"
"WINE-6002","All apps that load wininet hang after Lotus Notes installed","It fails with a dialog box
The InstallShield Engine (iKernel.exe) could not be launched. (0x80040154)
and the console shows
err:ole:create_server class {91814ec0-b5f0-11d2-80b9-00104b1f6cea} not registered

Turning on +ole+text shows

trace:ole:RPC_GetLocalClassObject waiting for
L\\\\.\\pipe\\{91814EC0-B5F0-11D2-80B9-00104B1F6CEA}
trace:ole:create_local_service Attempting to start Local service for
{91814ec0-b5f0-11d2-80b9-00104b1f6cea}
trace:ole:WINE_StringFromCLSID 0x408570->{91814EC0-B5F0-11D2-80B9-00104B1F6CEA}
trace:reg:NtCreateKey ((nil)LMachine\\Software\\Classes0f003f0x34eae4)
trace:reg:NtCreateKey <- 0x40
trace:reg:create_special_root_hkey LMachine\\Software\\Classes -> 0x40
trace:reg:NtOpenKey
(0x40LCLSID\\{91814EC0-B5F0-11D2-80B9-00104B1F6CEA}200190x34ebd4)
trace:reg:NtOpenKey <- (nil)
trace:ole:WINE_StringFromCLSID 0x408570->{91814EC0-B5F0-11D2-80B9-00104B1F6CEA}
trace:reg:NtOpenKey
(0x40LCLSID\\{91814EC0-B5F0-11D2-80B9-00104B1F6CEA}200190x34ebd4)
trace:reg:NtOpenKey <- (nil)
err:ole:create_server class {91814ec0-b5f0-11d2-80b9-00104b1f6cea} not registered
err:ole:CoGetClassObject no class object {91814ec0-b5f0-11d2-80b9-00104b1f6cea}
could be created for context 0x4
...
trace:text:DrawTextExW LThe InstallShield Engine (iKernel.exe) could not be
launched. (0x80040154) -1 [(00)-(3520)] 00000450

It looks like ikernel -RegServer isn't registering a server.
(it seems to go into an infinite loop after doing a registry 
query for ProviderOrder burning CPU but not making any syscalls).

I've been seeing complaints like this for a while with other apps
so I'm raising the priority to P1.",3,"0"
"WINE-40876","Guitar Rig 5 Crashes On Load (needs msvcr120.dll.fegetenv)","Created attachment 54956
Backtrace Log From Wine

When I start Guitar Rig 5 I'm presented with a screen asking if I want to register the product or use it as a demo.  Both options cause the application to crash.",8,"0"
"WINE-5426","MS Orca does not install","MS Orca is a tool from the windows platform sdk it can be downloaded from 
http://www.microsoft.com/downloads/details.aspx?FamilyId=484269E2-3B89-47E3-8EB7-1F2BE6D7123A&displaylang=en

or just get the orca package from the link on this MSDN blogger page
http://blogs.msdn.com/astebner/archive/2004/07/12/180792.aspx

Orca is for examining the database tables in a .msi install package I wanted to
use it to debug why the Lotus Notes 7 install does not work but found that the
Orca package had the same issue. The installer dumps some stuff in the root of
.wine/drive_c/ because it fails to resolve directory names correctly. Some files
in the package are incorrectly resolved to intall in c:\ and some files don't
have a path at all and are skipped. I am going to continue tracing the problem
it is somewhere in helper.c or action.c in the msi dll folder I think.",20,"0"
"WINE-2230","Hidden forms show as blank modal forms when loaded","This started with Wine 20040408 and is still present in Wine 20040505

My Visual Basic app loads a form at startup but doesn't display it. 
Unfortunately both these versions of Wine DO attempt to display this hidden
form and they display it as a modal dialog without any controls on it
effectively stopping the program dead.

Not sure if this is related but suddenly the splash screens in all my apps are
showing a title bar and corner 'X' widget when they're actually designed
without either. This is only a visual thing and has no effect on the program
execution.",439,"0"
"WINE-38411","3DMark05 v1.30 crashes during system info scan (needs support for 'Win32_Process' WMI class 'WorkingSetSize' property)","err:ntdll:RtlpWaitForCriticalSection section 0x9f0060 heap.c: HEAP.critSection wait timed out in thread 0063 blocked by 005d retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x7bc9801c loader.c: loader_section wait timed out in thread 0050 blocked by 0063 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x7bc9801c loader.c: loader_section wait timed out in thread 0051 blocked by 0063 retrying (60 sec)


What is the reason to wait 60sec again and again if we have emulated hardware?",1408,"1"
"WINE-20847","Touhou Hisoutenskou crashes in deck construction/end of battle","Game crashes when any battle ends or I'm choosing the character in the deck construction option.
Than terminal echoes line:
wine: Unhandled division by zero at address 0x41199a (thread 0023) starting debugger...",1524,"1"
"WINE-16998","WISO Sparbuch crashes at startup","Created attachment 18792
general protection fault output

The WISO Sparbuch 2009 application crashes with a general protection fault at startup in wmain09.dll.
WISO Sparbuch 2008 ran at least in most areas with wine 1.0.

See attached log for information.",583,"0"
"WINE-37784","wine-mono does not appear in wine uninstaller list on a 64-bit prefix","Filing this based on https://bugs.winehq.org/show_bug.cgi?id=37772#c2.

The default wineprefix created by running wineboot (or anything else) on a 64 bit system is 64 bit even if wine64 is not explicitly used. However wine-mono is not automatically installed to a 64 bit wineprefix unless wine64 is explicitly invoked. There is no warning to the user that wine-mono is not being installed and http://wiki.winehq.org/Mono says nothing about needing to specify wine64 to install/uninstall it in a 64 bit wineprefix.

If not installing wine-mono to a default wineprefix unless wine64 is specified is the intended behavior there should be a warning about that in the console at wineprefix creation and it should be documented on the Mono wiki page.",1559,"1"
"WINE-30845","Windows 7 SDK installer fails before putting up GUI","With current git the Windows 7 SDK installer fails before putting up a GUI
when run like this:
 wget http://winetricks.googlecode.com/svn/trunk/src/winetricks
 rm -rf ~/.wine
 sh winetricks --no-isolate -q psdkwin7

Reverting the wine-mono install patches 7b54917f28edf84c4d9db2e1a52e4dac67dd7e31
and 1e721a487775a2f306512a7c719b5fa3301f433d
lets the platform SDK install properly.",25,"0"
"WINE-11281","CJK input: cannot type in legacy applications","Created attachment 10369
An approximation of Japanese legacy application

There are so many issues I don't know where to start.

The good thing is the input sort of works so there must be something present in Wine that handles it one way or another. However it is unusable in its current state.

First a CJK font is needed which is not normally present in Wine. Also Wine cannot pull characters that do not exist in current font from other fonts so all relevant system fonts have to be mapped to something that actually contains the characters.

For Japanese the font Kochi Gothic is quite useful but it does not contain much in the latin range.

Now in the Wine notepad the Japanese characters are displayed only if you go to the font selection select a font with Japanese characters and select the Japanese script. I don't know why is that some Latin accented characters are displayed even if Japanese script is selected but not the other way around.

Now typing Kana (and even Kanji) works with scim in notepad except the cursor is always positioned in front of the part just inserted (is not moved after inserting characters). Doing some cursor movement appears t orestore the cursor to the right position.

However typical win32 application is codepage based and would only work with SJIS encoding. After generating a SJIS Japanese locale and executing the included test application with
LANG=ja_JP ./testwin.exe
I get the text displayed correctly. Unfortunately now the input does not work because scim runs in UTF-8 and wine in SJIS. This is the same as any other X applications run in that locale. However starting a whole X session in an obscure Japanese locale is not a solution (although it seems the application would work).",494,"0"
"WINE-23125","Mass Effect 2 requires d3dx10_39.dll","err:module:import_dll Library d3dx10_39.dll (which is needed by L...\\Program Files\\Mass Effect 2\\Binaries\\MassEffect2.exe) not found

To work around this do 'winetricks d3dx10'",95,"0"
"WINE-7297","MIDI in/out fails ports recognized","SuSE linux 2.6.13smp-15.8-default
alsa-driver-1.0.13rc1
Wine 0.9.29 0.9.26
http://www.midiox.com/  (test program)
sblive emu10k1 midi

Midi ports are identified by the applications (MPU401 uart) however midi data 
does not transfer correctly if at all.  Sending a 16K sysex from a midi 
device to midiox.exe (see url above) results in roughly 1K received at which 
point wine (midi.c) hangs in a critical section.

Oher midi apps yield similar results.  Alsa seems to be working as I can 
capture sysex streams with cat /dev/midi > dump.syx just fine and send them 
back to the device with cat dump.syx > /dev/midi - all good.


thanks!

--edfardos

wine midiox.exe

trace:midi:ALSA_MidiInit Initializing the MIDI variables.
trace:midi:ALSA_AddMidiPort OUT (0:System:kernel:0:Timer:0)
trace:midi:ALSA_AddMidiPort IN  (0:System:kernel:1:Announce:0)
trace:midi:ALSA_AddMidiPort OUT (15:OSS sequencer:kernel:0:Receiver:0)
trace:midi:ALSA_AddMidiPort OUT (16:SBLive! Value [CT4832]:kernel:0:EMU10K1 
MPU-401 (UART):90002)
trace:midi:ALSA_AddMidiPort MidiOut[0]  name='LSBLive! Value [CT4832]' 
techn=1 voices=16 notes=16 chnMsk=ffff support=3
        ALSA info: midi dev-type=90002 capa=0
trace:midi:ALSA_AddMidiPort IN  (16:SBLive! Value [CT4832]:kernel:0:EMU10K1 
MPU-401 (UART):90002)
trace:midi:ALSA_AddMidiPort MidiIn [0]  name='LSBLive! Value [CT4832]' 
support=3
        ALSA info: midi dev-type=90002 capa=0
trace:midi:ALSA_AddMidiPort OUT (17:Emu10k1 WaveTable:kernel:0:Emu10k1 Port 
0:5001e)
trace:midi:ALSA_AddMidiPort MidiOut[1]  name='LEmu10k1 WaveTable' techn=1 
voices=16 notes=16 chnMsk=ffff support=3
        ALSA info: midi dev-type=5001e capa=0
trace:midi:ALSA_AddMidiPort OUT (17:Emu10k1 WaveTable:kernel:1:Emu10k1 Port 
1:5001e)
trace:midi:ALSA_AddMidiPort MidiOut[2]  name='LEmu10k1 WaveTable' techn=1 
voices=16 notes=16 chnMsk=ffff support=3
        ALSA info: midi dev-type=5001e capa=0
trace:midi:ALSA_AddMidiPort OUT (17:Emu10k1 WaveTable:kernel:2:Emu10k1 Port 
2:5001e)
trace:midi:ALSA_AddMidiPort MidiOut[3]  name='LEmu10k1 WaveTable' techn=1 
voices=16 notes=16 chnMsk=ffff support=3
        ALSA info: midi dev-type=5001e capa=0
trace:midi:ALSA_AddMidiPort OUT (17:Emu10k1 WaveTable:kernel:3:Emu10k1 Port 
3:5001e)
trace:midi:ALSA_AddMidiPort MidiOut[4]  name='LEmu10k1 WaveTable' techn=1 
voices=16 notes=16 chnMsk=ffff support=3
        ALSA info: midi dev-type=5001e capa=0
trace:midi:ALSA_MidiInit End
trace:midi:ALSA_midMessage (0000 0064 00000000 00000000 00000000)
trace:midi:ALSA_midMessage (0000 0035 00000000 00000000 00000000)
trace:midi:ALSA_modMessage (0000 0064 00000000 00000000 00000000)
trace:midi:ALSA_modMessage (0000 0001 00000000 00000000 00000000)
trace:midi:ALSA_modMessage (0000 0002 00000000 0034F318 00000054)
trace:midi:modGetDevCaps (0000 0x34f318 00000054)
trace:midi:ALSA_modMessage (0001 0002 00000000 0034F318 00000054)
trace:midi:modGetDevCaps (0001 0x34f318 00000054)
trace:midi:ALSA_modMessage (0002 0002 00000000 0034F318 00000054)
trace:midi:modGetDevCaps (0002 0x34f318 00000054)
trace:midi:ALSA_modMessage (0003 0002 00000000 0034F318 00000054)
trace:midi:modGetDevCaps (0003 0x34f318 00000054)
trace:midi:ALSA_modMessage (0004 0002 00000000 0034F318 00000054)
trace:midi:modGetDevCaps (0004 0x34f318 00000054)
trace:midi:ALSA_midMessage (0000 0036 00000000 0034FCB8 0000004C)
trace:midi:midGetDevCaps (0000 0x34fcb8 0000004C)
trace:midi:ALSA_modMessage (0000 0002 00000000 0034FCA8 00000054)
trace:midi:modGetDevCaps (0000 0x34fca8 00000054)
trace:midi:ALSA_modMessage (0001 0002 00000000 0034FCA8 00000054)
trace:midi:modGetDevCaps (0001 0x34fca8 00000054)
trace:midi:ALSA_modMessage (0002 0002 00000000 0034FCA8 00000054)
trace:midi:modGetDevCaps (0002 0x34fca8 00000054)
trace:midi:ALSA_modMessage (0003 0002 00000000 0034FCA8 00000054)
trace:midi:modGetDevCaps (0003 0x34fca8 00000054)
trace:midi:ALSA_modMessage (0004 0002 00000000 0034FCA8 00000054)
trace:midi:modGetDevCaps (0004 0x34fca8 00000054)
trace:midi:ALSA_midMessage (0000 0037 0034FAFC 001CEAC4 00030000)
trace:midi:midOpen (0000 0x1ceac4 00030000)
trace:midi:midiOpenSeq Outport port created successfully (0)
trace:midi:midiOpenSeq Input port created successfully (1)
trace:midi:midOpen input port connected 1 16 0
trace:midi:midOpen Created thread for midi-in
trace:midi:MIDI_NotifyClient wDevID = 0000 wMsg = 961 dwParm1 = 0000 dwParam2 
= 0000
trace:midi:ALSA_midMessage (0000 0039 60BEED6B 001D8568 00000040)
trace:midi:midPrepare (0000 0x1d8568 00000040)
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 001D8568 00000040)
trace:midi:midAddBuffer (0000 0x1d8568 00000040)
trace:midi:ALSA_midMessage (0000 0039 60BEED6B 00211A18 00000040)
trace:midi:midPrepare (0000 0x211a18 00000040)
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 00211A18 00000040)
trace:midi:midAddBuffer (0000 0x211a18 00000040)
trace:midi:ALSA_midMessage (0000 0039 60BEED6B 00211BB8 00000040)
trace:midi:midPrepare (0000 0x211bb8 00000040)
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 00211BB8 00000040)
trace:midi:midAddBuffer (0000 0x211bb8 00000040)
trace:midi:ALSA_midMessage (0000 0039 60BEED6B 00211D58 00000040)
trace:midi:midPrepare (0000 0x211d58 00000040)
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 00211D58 00000040)
trace:midi:midAddBuffer (0000 0x211d58 00000040)
trace:midi:ALSA_midMessage (0000 0039 60BEED6B 00211EF8 00000040)
trace:midi:midPrepare (0000 0x211ef8 00000040)
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 00211EF8 00000040)
trace:midi:midAddBuffer (0000 0x211ef8 00000040)
trace:midi:ALSA_midMessage (0000 0039 60BEED6B 00212098 00000040)
trace:midi:midPrepare (0000 0x212098 00000040)
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 00212098 00000040)
trace:midi:midAddBuffer (0000 0x212098 00000040)
trace:midi:ALSA_midMessage (0000 0039 60BEED6B 00212238 00000040)
trace:midi:midPrepare (0000 0x212238 00000040)
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 00212238 00000040)
trace:midi:midAddBuffer (0000 0x212238 00000040)
trace:midi:ALSA_midMessage (0000 0039 60BEED6B 002123D8 00000040)
trace:midi:midPrepare (0000 0x2123d8 00000040)
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 002123D8 00000040)
trace:midi:midAddBuffer (0000 0x2123d8 00000040)
trace:midi:ALSA_midMessage (0000 0039 60BEED6B 00212578 00000040)
trace:midi:midPrepare (0000 0x212578 00000040)
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 00212578 00000040)
trace:midi:midAddBuffer (0000 0x212578 00000040)
trace:midi:ALSA_midMessage (0000 0039 60BEED6B 00212718 00000040)
trace:midi:midPrepare (0000 0x212718 00000040)
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 00212718 00000040)
trace:midi:midAddBuffer (0000 0x212718 00000040)
trace:midi:ALSA_midMessage (0000 0039 60BEED6B 002128B8 00000040)
trace:midi:midPrepare (0000 0x2128b8 00000040)
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 002128B8 00000040)
trace:midi:midAddBuffer (0000 0x2128b8 00000040)
trace:midi:ALSA_midMessage (0000 0039 60BEED6B 00212A58 00000040)
trace:midi:midPrepare (0000 0x212a58 00000040)
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 00212A58 00000040)
trace:midi:midAddBuffer (0000 0x212a58 00000040)
trace:midi:ALSA_midMessage (0000 0039 60BEED6B 00212BF8 00000040)
trace:midi:midPrepare (0000 0x212bf8 00000040)
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 00212BF8 00000040)
trace:midi:midAddBuffer (0000 0x212bf8 00000040)
trace:midi:ALSA_midMessage (0000 0039 60BEED6B 00212D98 00000040)
trace:midi:midPrepare (0000 0x212d98 00000040)
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 00212D98 00000040)
trace:midi:midAddBuffer (0000 0x212d98 00000040)
trace:midi:ALSA_midMessage (0000 0039 60BEED6B 00212F38 00000040)
trace:midi:midPrepare (0000 0x212f38 00000040)
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 00212F38 00000040)
trace:midi:midAddBuffer (0000 0x212f38 00000040)
trace:midi:ALSA_midMessage (0000 0039 60BEED6B 002130D8 00000040)
trace:midi:midPrepare (0000 0x2130d8 00000040)
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 002130D8 00000040)
trace:midi:midAddBuffer (0000 0x2130d8 00000040)
trace:midi:ALSA_midMessage (0000 003C 60BEED6B 00000000 00000000)
trace:midi:midStart (0000)
trace:midi:ALSA_modMessage (0000 0003 0034FC0C 00213274 00030000)
trace:midi:modOpen (0000 0x213274 00030000)
trace:midi:midRecThread Thread startup
trace:midi:midRecThread Thread loop
trace:midi:MIDI_NotifyClient wDevID = 0000 wMsg = 967 dwParm1 = 0000 dwParam2 
= 0000
trace:midi:modOpen Successful !
trace:midi:ALSA_modMessage (0000 0005 00008001 002132E0 00000040)
trace:midi:modPrepare (0000 0x2132e0 00000040)
trace:midi:ALSA_modMessage (0000 0005 00008001 00930300 00000040)
trace:midi:modPrepare (0000 0x930300 00000040)
trace:midi:ALSA_modMessage (0000 0005 00008001 009305E0 00000040)
trace:midi:modPrepare (0000 0x9305e0 00000040)
trace:midi:ALSA_modMessage (0000 0005 00008001 009308C0 00000040)
trace:midi:modPrepare (0000 0x9308c0 00000040)
trace:midi:ALSA_modMessage (0000 0005 00008001 00930BA0 00000040)
trace:midi:modPrepare (0000 0x930ba0 00000040)
trace:midi:ALSA_modMessage (0000 0005 00008001 00930E80 00000040)
trace:midi:modPrepare (0000 0x930e80 00000040)
trace:midi:ALSA_modMessage (0000 0005 00008001 00931160 00000040)
trace:midi:modPrepare (0000 0x931160 00000040)
trace:midi:ALSA_modMessage (0000 0005 00008001 00931440 00000040)
trace:midi:modPrepare (0000 0x931440 00000040)
trace:midi:ALSA_modMessage (0000 0005 00008001 00931720 00000040)
trace:midi:modPrepare (0000 0x931720 00000040)
trace:midi:ALSA_modMessage (0000 0005 00008001 00931A00 00000040)
trace:midi:modPrepare (0000 0x931a00 00000040)
trace:midi:ALSA_modMessage (0000 0005 00008001 00931CE0 00000040)
trace:midi:modPrepare (0000 0x931ce0 00000040)
trace:midi:ALSA_modMessage (0000 0005 00008001 00931FC0 00000040)
trace:midi:modPrepare (0000 0x931fc0 00000040)
trace:midi:ALSA_modMessage (0000 0005 00008001 009322A0 00000040)
trace:midi:modPrepare (0000 0x9322a0 00000040)
trace:midi:ALSA_modMessage (0000 0005 00008001 00932580 00000040)
trace:midi:modPrepare (0000 0x932580 00000040)
trace:midi:ALSA_modMessage (0000 0005 00008001 00932860 00000040)
trace:midi:modPrepare (0000 0x932860 00000040)
trace:midi:ALSA_modMessage (0000 0005 00008001 00932B40 00000040)
trace:midi:modPrepare (0000 0x932b40 00000040)
trace:midi:midRecThread Event received type = 82 device = 0
trace:midi:MIDI_NotifyClient wDevID = 0000 wMsg = 964 dwParm1 = 1D8568 
dwParam2 = 67D8
trace:midi:midRecThread Thread loop
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 001D8568 00000040)
trace:midi:midAddBuffer (0000 0x1d8568 00000040)
trace:midi:ALSA_modMessage (0000 0008 00008001 00932B40 00000040)
trace:midi:modLongData (0000 0x932b40 00000040)
warn:midi:modLongData Alleged system exclusive buffer is not correct
        Please report with MIDI file
trace:midi:modLongData dwBufferLength=256 !
trace:midi:modLongData                  F0 00 20 ... 32 00 00
warn:midi:modLongData Adding missing 0xF7 marker at the end of system 
exclusive byte stream
trace:midi:modLongData client = 16 port = 0
trace:midi:MIDI_NotifyClient wDevID = 0000 wMsg = 969 dwParm1 = 932B40 
dwParam2 = 0000
trace:midi:midRecThread Event received type = 82 device = 0
trace:midi:MIDI_NotifyClient wDevID = 0000 wMsg = 964 dwParm1 = 211A18 
dwParam2 = 6834
trace:midi:ALSA_modMessage (0000 0008 00008001 00932B40 00000040)
trace:midi:modLongData (0000 0x932b40 00000040)
warn:midi:modLongData Alleged system exclusive buffer is not correct
        Please report with MIDI file
trace:midi:modLongData dwBufferLength=256 !
trace:midi:modLongData                  00 00 00 ... 00 00 00
warn:midi:modLongData Adding missing 0xF0 marker at the beginning of system 
exclusive byte stream
warn:midi:modLongData Adding missing 0xF7 marker at the end of system 
exclusive byte stream
trace:midi:modLongData client = 16 port = 0
trace:midi:MIDI_NotifyClient wDevID = 0000 wMsg = 969 dwParm1 = 932B40 
dwParam2 = 0000
trace:midi:midRecThread Thread loop
trace:midi:ALSA_midMessage (0000 003B 60BEED6B 00211A18 00000040)
trace:midi:midAddBuffer (0000 0x211a18 00000040)
trace:midi:midRecThread Event received type = 82 device = 0
err:ntdll:RtlpWaitForCriticalSection section 0x62436980 midi.c: crit_sect 
wait timed out in thread 0031 blocked by 002a retrying (60 sec)
wine: Critical section 62436980 wait failed at address 0x7bc2f740 (thread 
0031) starting debugger...
Unhandled exception: wait failed on critical section 0x62436980 _DYNAMIC+0x8b0
err:seh:raise_exception Unhandled exception code c0000194 flags 0 addr 
0x7bc2f740
craiger@linux:~/.wine/c/Program Files/MIDIOX> Process of pid=0x00000029 has 
terminated
No process loaded cannot execute 'echo Modules:'
Cannot get info on module while no process is loaded
No process loaded cannot execute 'echo Threads:'
process  tid      prio (all id:s are in hex)
0000002c
        0000002e    0
        0000002d    0",743,"0"
"WINE-31900","Pokemon World No sound because of stubbed MediaControl_RenderFile","The free online game Pokemon World has no sound because MediaControl_RenderFile is a stub in quartz. Using native quartz makes the sound work but makes the game unplayable.

You can download the client there's no need to login / create account as this happens from the launcher. Follow the link to download the client

The errors from the log:
fixme:quartz:FilterGraphInner_QueryInterface unknown interface {7fd52380-4e07-101b-ae2d-08002b2ec713}
fixme:quartz:FilterGraphInner_QueryInterface unknown interface {37d84f60-42cb-11ce-8135-00aa004bb851}
fixme:quartz:MediaControl_RenderFile (0xf0b3c8/0xf0b3d0)->(LC:\\Program Files\\Pokemon World Online\\MUSIC\\intro2.mp3 (0xed6f04)): stub !!!
fixme:quartz:MediaSeeking_SetRate (0xf0b3c8/0xf0b3d4)->(1.000000): stub !!!
fixme:quartz:FilterGraphInner_QueryInterface unknown interface {df0b3d60-548f-101b-8e65-08002b2bd119}
fixme:quartz:FilterGraphInner_QueryInterface unknown interface {df0b3d60-548f-101b-8e65-08002b2bd119}
fixme:quartz:FilterGraphInner_QueryInterface unknown interface {df0b3d60-548f-101b-8e65-08002b2bd119}",3,"0"
"WINE-23130","MSVCR100.dll fails to initialize needs kernel32.RtlPcToFileHeader","When trying to run 64bit firefox from http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-trunk/ (zip package) I get error that MSVCR100.dll failed to initialize and firefox doesn't run:

wine: Call from 0x7f749c797cf8 to unimplemented function KERNEL32.dll.RtlPcToFileHeader aborting
err:module:attach_process_dlls MSVCR100.dll failed to initialize aborting
err:module:LdrInitializeThunk Main exe initialization for LZ:\\home\\jardik\\Downloads\\firefox\\firefox.exe failed status 80000100",3,"0"
"WINE-29757","Burraconline Client 4.53 reports error BurracoClient has encountered a user-defined breakpoint","Created attachment 38633
A screenshot of the bug.

At the opening of BurraconlineClient the message BurracoClient has encountered a user-defined breakpoint. shows. If I click on Debug it opens a dialog windows that tells that the program BurracoClient.exe has encountered an error and has to be closed.",729,"0"
"WINE-42074","osu! - Audio latency regression (ALSA)","Introduced in wine 1.9.10 still present in 2.0-rc3. Copying my description from a comment on another issue.

Hello I'd like to describe my experience with the added sound latency. I'm the author of https://bugs.winehq.org/show_bug.cgi?id=40716

I'm using ALSA (no PulseAudio) with patched winealsa.drv for reduced latency. The patch is simply changing three constants at the top of mmdevdrv.c (DefaultPeriod MinimumPeriod EXTRA_SAFE_RT) to lower values (the ones that work for me: 22000 22000 11000 respectively).

On wine 1.9.9 and earlier where everything works fine this results in an extremely low (almost none) audio latency which is good. Reducing DefaultPeriod and MinimumPeriod lower makes the sound crackle a lot. Reducing EXTRA_SAFE_RT doesn't seem to change anything.

On wine 1.9.10 and above the minimal values of the constants seem to be around 10000 and 10000 for me below that there's no sound at all (there's no crackling stage). The audio latency is much higher (both on good values from wine 1.9.9 and on the new minimal values) which makes the game feel much worse.

Arch Linux x64
32-bit wine prefix",12,"0"
"WINE-39017","64-bit Lexmark X2670 All-in-One printer driver installation fails (missing pragma pack directive in 'digitalv.h' causes structure layout mismatch between 'MCI_DGV_OPEN_PARMSW' and 'MCI_OPEN_PARMSW')","Created attachment 51973
backtrace

After installing the printer there is a problem with the uninstall file as it cannot be saved to the computer",1,"0"
"WINE-26876","special file CON not handled correctly","Created attachment 34269
test binary

In some applications it is desirable to temporarily redirect stdout/stderr to a file and then switch back to the console output. This can be accomplished using the special file CON as stated at
http://support.microsoft.com/kb/58667/en-us
Wine seems not to handle this as windows does:

To reproduce please compile the following C source or run the attached binary:
#include 
#include 
int main() {
        errno=0
        fopen(CON w )
        printf(errno: %u\n errno) errno=0

        freopen(CON w stdout )
        printf(errno: %u\n errno) errno=0

        freopen(CON w stderr )
        printf(errno: %u\n errno)
}

On native Windows this outputs 'errno: 0' into the terminal three times.

On wine it outputs 'errno: 13' (=EACCESS permission denied) after the first fopen. The further two output lines get lost. They're not written to named file CON either.

I set the severity to normal since I don't know another way of accessing the console attached to the program if stdout/stderr were redirected. Also this might affect any SDL program as re-redirection to the console is recommended there (http://sdl.beuc.net/sdl.wiki/FAQ_Console). (Running SDL apps through wine is convenient during development)

Note:
For SDL programs however the redirection of stdout and stderr to files can be disabled in the first place by setting the environment variable 'SDL_STDIO_REDIRECT' to '0'.",20,"0"
"WINE-13956","Warcraft III does not start","I am using Wine 1.0-rc5 under Ubuntu 8.04. When I try to run Warcraft III (either Reign of Chaos or The Frozen Throne) I get stack at a black screen right after Warcraft lowers the screen resolution (as it always does). No logs are created and that occurs whether I use the -opengl Warcraft option or not.",596,"0"
"WINE-919","FlashFXP 1.4.3 crashes while trying to read MZ magic from base address","Bug comments restored from Gmane.org: 
 
This FlashFXP version has a rather interesting crash: 
It tries to read the MZ (DOS binary) flag from (varying !) base addresses 
like e.g. 0x08040000 or 0x40470000. 
This could probably be some sort of encryption or so.",506,"0"
"WINE-29983","AVRstudio 4.14 unable to get list of supported device for AVR simulator","Created attachment 39032
Terminal log for clean wineprefix app corectly closed when simulator target not available.

Atmel AVR studio v4.14 (same behaviour for other versions from 4.08 - 4.19) from www.atmel.com correctly installs and run but simulator is unusable because list of supported device is unavailable. 

Always reproducible: Create new assembler project - in second step select AVR simulator (v1 or v2 same result). In messages pane there's only line Error getting supported devices. 

Based on terminal info it seems to be related with ole and rpc.

Used on 64bit Gentoo linux compiled using gcc 4.4.5 only 32bit WINEARCH fresh wineprefix.

Log for clean wineprexfix attached with native msxml3 and vcrun2005 behaviour not changed only xsl_pattern error (3rd from end) disappeared.",716,"0"
"WINE-4572","user: Tooltips have wrong Z-Position and deactivate the Main-Window","While testing vlc-0.8.4a-win32 (AppDB-Entry waits for the AppDB-Maintainer):

Run from the App-Directory: wine vlc.exe

The Tooltips of the Volume-Level come up behind the Main-Window and the
Main-Window is still activated.
Windows: The Tooltip comes up in front of the Main-Window.

The Tooltips of the Rest of the Button-Bar come up in front of the Main-Window
and the Main-Window is deactivated.
Windows: The Main-Window is still activated.

When the Main-Window is deactivated:
(I moved the Top-Border of the active Console-Window just below the Speaker-Symbol)
The Tooltips of the Volume-Level come up in front of the the Main-Window but 
behind the Console-Window.
Windows: The Tooltip comes up in front of the Main-Window and in front of the
Console-Window.

When using Virtual-Desktop or Unmanaged all Tooltips are in front of the
Main-Window and the Main-Window is still active.

Ubuntu 5.04 (Gnome/Metacity: 2.10.0)

-- 
By by ... Detlef",770,"0"
"WINE-24587","CDBurnerXP: can't access data disc mode","Created attachment 31053
Terminal output

Accessing data disc mode in CDBurnerXP isn't possible anymore in wine-1.3.4 choosing it from the main menu just yields an error report dialog from the program. I did a regression test:

c8a48f237e43174673fa3686ebe99e42f6a0d8a4 is the first bad commit
commit c8a48f237e43174673fa3686ebe99e42f6a0d8a4
Author: Vincent Povirk 
Date:   Thu Sep 30 16:07:53 2010 -0500

    gdiplus: Don't create a DIB section for non-alpha or reference bitmaps.

:040000 040000 07d4dd9deff466eaeb5a5b4a79541bcfc8c6c1c6 3fb622798b75c1479d5ea652762809c21485ff34 M    dlls

Reverting that patch works around the problem.

(The program needs winetricks dotnet20 to run.)",40,"0"
"WINE-22380","Big Fish Games: requires Administrator access","Wine runs fine but when trying to install a game from Big Fish Games (specifically Margrave Manor 2: Lost Ship) I keep getting an error saying that in order to install a game from Big Fish Games I must have administrator access.",212,"0"
"WINE-8265","cmd.exe doesn't support a 'cd C:\ && echo blah' construct","I'm trying to compile an application using cmake toolchain under wine and I get
File name too long when executing SWIG command.

cd C:\canorus\trunk\src && C:\swigwin-1.3.31\swig.exe -python -includeall
-outdir C:/canorus/trunk/src -c++ -IC:/Qt/4.2.3/include -IC:/canorus/trunk/src
-IC:/Qt/4.2.3/include/QtGui -IC:/Qt/4.2.3/include/QtXml
-IC:/Qt/4.2.3/include/QtCore -IC:/Qt/4.2.3/include/QtTest -Ic:/Python25/include
-o C:/canorus/trunk/src//scripting/canoruspythonPYTHON_wrap.cxx
C:/canorus/trunk/src/scripting/canoruspython.i
File name is too long

It works fine on WindowsXP. Is there an easy solution for this?",47,"0"
"WINE-13232","Warcraft 3 worldedit.exe fails to start.","When i want to start the worldeditor it fails

[maci@notebob WAR3]$ wine worldedit.exe 
fixme:win:EnumDisplayDevicesW ((null)00x32ee180x00000000) stub!
err:d3d:WineD3D_ChoosePixelFormat Can't find a suitable iPixelFormat


it exits with code 139: Segmentatation violation",161,"0"
"WINE-9388","installer stuck for TRS 2006 Demo","When trying to install the demo for TRS 2006 the installer gets stuck on the first installation wizard page.

output from the terminal:

fixme:actctx:parse_depend_manifests Could not find dependent assembly LMicrosoft.Windows.Common-Controls
fixme:actctx:parse_depend_manifests Could not find dependent assembly LMicrosoft.Windows.Common-Controls
err:ole:TLB_ReadTypeLib Loading of typelib Lc:\\Program Files\\Common Files\\InstallShield\\Professional\\RunTime\\IsProBE.tlb failed with error 2",250,"0"
"WINE-8788","Unrecognized vertex shader version 0","Run Voyage Century Online client (free downloadable...1.1GB) Sail on the ocean
and I get this same error over and over:
fixme:d3d_shader:vshader_set_limits Unrecognized vertex shader version 0

I have a Geforce FX 5200 w/ 128 Ram using the NVIDIA binary driver (ver 9631) on
Ubuntu Feisty (x86).",323,"0"
"WINE-5948","Star Trek: Armada does not install","I have tried to install Star Trek: Armada and had to notice that the installer 
crashes immediately after starting it. The demo-installer does not have this 
problem (it also crashes but with different output) so it can not be used to 
reproduce the problem.
I use Fedora Core 5 with Wine 0.9.17 from Fedora Extras at the moment.",637,"0"
"WINE-35366","Warhammer 40K Dawn of War and Winter Assault: not working on 1.7.10","DoW is patched to the latest version (1.51). Since installer is not working with wine I installed and patched the game on Windows machine then copied to Linux partition - works perfectly on wine 1.7.9.

On 1.7.10 prints this:

$ env WINEPREFIX=~/.wine_WA/ wine ~/DOW_WA/W40kWA.exe
err:heap:HEAP_GetPtr Invalid heap (nil)!
err:msvcp:mutex_ctor Out of memory
err:module:attach_process_dlls msvcp71.dll failed to initialize aborting
err:module:LdrInitializeThunk Main exe initialization for LZ:\\home\\username\\DOW_WA\\W40kWA.exe failed status e06d7363",2,"0"
"WINE-27925","IBExpert cease work from 1.3.25","IBExpert ( http://appdb.winehq.org/objectManager.php?sClass=version&iId=9049&iTestingId=15285 ) not running from 1.3.25 release on ubuntu 10.04.
See dump.log and run.log in archive with IBExpert for details.",840,"1"
"WINE-23503","AutoCAD 2008: Crash when reusing coordinates","Steps to reproduce:
1) remove ~/.wine
2) install AutoCAD 2008
3) wine acad.exe
4) type circle in console
5) type 00 for centre of the circle
6) type 1 for circle radius
7) type circle in console
8) press up arrow to get 00 coordinates (I want to reuse this coordinates)
9) press enter key

Behaviour:
AutoCAD hangs

Expected behaviour:
AutoCAD shouldn't hang

In terminal there is:
err:ntdll:RtlpWaitForCriticalSection section 0x110060 heap.c: main process heap section wait timed out in thread 005c blocked by 0009 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x110060 heap.c: main process heap section wait timed out in thread 0060 blocked by 0009 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x7bca1c64 loader.c: loader_section wait timed out in thread 0041 blocked by 0060 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x7bca1c64 loader.c: loader_section wait timed out in thread 0046 blocked by 0060 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x7bca1c64 loader.c: loader_section wait timed out in thread 0054 blocked by 0060 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x110060 heap.c: main process heap section wait timed out in thread 0060 blocked by 0009 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x7bca1c64 loader.c: loader_section wait timed out in thread 0009 blocked by 0060 retrying (60 sec)
err:ntdll:RtlpWaitForCriticalSection section 0x7bca1c64 loader.c: loader_section wait timed out in thread 005d blocked by 0060 retrying (60 sec)",1756,"1"
"WINE-19411","'wine uninstaller' crashes on launch (appinstall)","$ wine uninstaller

Backtrace:
=>0 0x7e5a4ad3 Control_RunDLLW+0x3c3(hWnd=0x10020 hInst=(nil) cmd= nCmdShow=5) [/home/austin/wine-git/dlls/shell32/control.c:786] in shell32 (0x0032fe68)
  1 0x7e5a4e7d Control_RunDLLA+0xfd(hWnd=0x10020 hInst=(nil) cmd=appwiz.cpl nCmdShow=5) [/home/austin/wine-git/dlls/shell32/control.c:857] in shell32 (0x0032fe98)
  2 0x7ec3e5f7 wmain+0x307(argc=1 argv=0x110378) [/home/austin/wine-git/programs/uninstaller/main.c:157] in uninstaller (0x0032fee8)
  3 0x7ec3e962 __wine_spec_exe_wentry+0x82(peb=0x7ffdf000) [/home/austin/wine-git/dlls/winecrt0/exe_wentry.c:36] in uninstaller (0x0032ff08)
  4 0x7ede5cc0 start_process+0x130(arg=(nil)) [/home/austin/wine-git/dlls/kernel32/process.c:955] in kernel32 (0x0032ffe8)
  5 0xf7defe5d wine_call_on_stack+0x1d() in libwine.so.1 (0x00000000)
0x7e5a4ad3 Control_RunDLLW+0x3c3 [/home/austin/wine-git/dlls/shell32/control.c:786] in shell32: cmpw	$640x0(%edx)
786	    if ((*extraPmts == '@') && (sp == -1)) {

austin@midna:~/wine-git$ git bisect good
bd926bde3830e13398e761e588ec3be0544f52a9 is first bad commit
commit bd926bde3830e13398e761e588ec3be0544f52a9
Author: Owen Rudge 
Date:   Mon Jul 20 17:03:47 2009 -0300

    shell32: Check if a numerical value has been passed inside quotes in Control_DoLaunch.

:040000 040000 7903859b851ee2653935bccbdbda6794c8c442c8 d089d451106e5cf9b30d2caee8a301571f7720c7 M	dlls

Found by appinstall :-) (http://austinenglish.com/logs/appinstall-2009-07-21/builtin-gui-result.txt)",50,"0"
"WINE-1309","wine keyboard not working in UTF-8 locale","Bug comments restored from Gmane.org: 

if you have LANG set to de_DE you can input german umlauts. 
If you have set it to de_DE.utf8 you no longer can. 
instead wine reports for  (a diaresis even): 
 
fixme:keyboard:EVENT_event_to_vkey keysym is E4 
fixme:keyboard:EVENT_event_to_vkey e->keycode is 2F 
fixme:keyboard:EVENT_event_to_vkey just before vkey generation pressed KeyPress? 
fixme:keyboard:EVENT_event_to_vkey keysym is E4 
fixme:keyboard:EVENT_event_to_vkey e->keycode is 2F 
fixme:keyboard:EVENT_event_to_vkey just before vkey generation pressed KeyPress? 
err:keyboard:X11DRV_ToUnicode Please report: no char for keysym 00E4 (adiaeresis) : 
err:keyboard:X11DRV_ToUnicode (virtKey=DEscanCode=28keycode=2Fstate=0) 
fixme:keyboard:EVENT_event_to_vkey keysym is E4 
fixme:keyboard:EVENT_event_to_vkey e->keycode is 2F 
fixme:keyboard:EVENT_event_to_vkey just before vkey generation pressed KeyRelease?",944,"1"
"WINE-15260","objects in spore leave trails","Created attachment 16050
In this screenshot the player's cell was moving mostly to the right and slightly up.

During the cell level the background is neither rendered properly nor erased on a regular basis. Consequently any motion of any object on the screen leaves a trail. If the player moves his cell all objects on the screen are effectively moving in the opposite direction and they all leave trails at once. See screenshot.",0,"0"
"WINE-1874","'Access Violation' in Mobile-Phone Application using Serial-Port (RS232)","This program: http://www.nimar.net/soft/OOK3_Manager_1_7_2_by_NiMar.zip
which is freely available used to work flawlessly with Wine for quite some time
(until roughly a year ago) and it still works allright with current WineX-CVS.
But with recent versions of Wine I get this Error-Message popping up whenever
the program is trying to communicate with the phone (i.e. Press the 'Refresh'
button):

'Access violation at address 400A1BOA. Read of address 00000000'

That message only appears at the first attempt to read/write from the serial
port though the program doesn't crash. At any further attemps the Message
'unable to init GBP-mode' appears which is the expected behaviour when there's
some communication error or no phone attached to the specified serial port at all.

The debugmsgs didn't yield any interesting details but I could of course
provide some logs if you are interested.",664,"0"
"WINE-31064","built in IE will not login to U-Haul dealer network","I am unable to login to the U-Haul Dealer network with built in IE wine 1.5.7
After entering my user name and pass word the login screen hangs for ever.

URL- https://pos.uhaul.net/

Below are the credentials to login to a practice site. You can login with Fire Fox or Chrome but not fully functional due to lack of VB script and activeX  

User Name 950790

Password 950790

Location 950107",32,"0"
"WINE-42641","winetricks ie8_kb2936068 installer fails with error","Created attachment 57574
+font trace

Regression introduced by:
6f7dfe2cea4fdb9b61775023659193421c920278 is the first bad commit
commit 6f7dfe2cea4fdb9b61775023659193421c920278
Author: Nikolay Sivov 
Date:   Sun Oct 4 12:48:48 2015 +0300

    gdi32: Implement GetFontFileInfo().
    
    Signed-off-by: Nikolay Sivov 

:040000 040000 ad96260a965b1b1ad63f63ef861fc1150dbf67c7 a6aa54b4ed84424b898a12b0cd38b878290714da M	dlls

To reproduce:
winetricks -q ie8_kb2936068",1,"0"
"WINE-3047","CSpy/Tab: Cursor Select & Keyboard Navigation Not Implemente/ Not Working","I'm not sure if this hasn't been implemented yet or if it's just not working
but keyboard navigation is not possible.  In Windows when a tab is clicked on
the tab is highlighted with a dotted rectangle from this point the user can
navigate to other tabs with the left right and up arrows.

Under wine I wasn't able to highlight the tabs in this manner nor was I able
to perform any sort of keyboard navigation.

In the long run keyboard navigation like this will be essential for the
unusual cases in which we want the user to be able to perform full functionality
without a mouse.  I know this sounds wacky and may strike others as superfluous
but I can't even count how many times on Windows I have benefitted from the
ability to do anything without a mouse (one of the strong points of the Windows
interface).  We should strive to preserve this quality of the windows interface.",1587,"1"
"WINE-11789","Recent Fls API additions break many installers/apps","Hello

after upgrading to recent GIT (wine-0.9.56-264-g848383a) it seems the recent Fls API additions broke almost every installer i'm working on -(

http://source.winehq.org/git/wine.git/?a=commith=6d6e9a42b13c827d1cc795c3b66da8c032374fff
http://source.winehq.org/git/wine.git/?a=commith=b2ad268a8b7d7ac65029bbdd71d14f2c0f1b260d

I won't question if there was a specific need to introduce this ...

Reason of crash in FlsAlloc() is simple.
Different TEB definition in  vs.  leads to incorrect TEB allocation size (ntdll -> thread.h) vs. usage (fiber/Fls -> winternl.h)

Solution: use winternl.h TEB definition to ensure correct TEB allocation size in dlls/ntdll/thread.c
Either change include order of both (needs ) .. or sync both .. or better get rid of the thread.h one to avoid such recurring problem.

Regards",1,"0"
"WINE-30478","Document.write doesn't support number content","wine iexplore http://netikka.net/dev/writenumbers.html

document.write(Math.round(3/2))
document.write(Math.random())

fixme:mshtml:document_write unsupported arg[0] = {VT_I4: 2}
fixme:mshtml:document_write unsupported arg[0] = {VT_R8: 0.802874}",5,"0"
"WINE-7907","winbench '99 fails to install","With current Wine winbench '99 install aborts 
near the end when it tries to prelink aka bind
the installed executables and our stub truthfully
reports not implemented.  Since prelinking
really is just an optimization and the apps will
work even without it our stub should lie and
report success.  This lets the install succeed.
I will send the trivial patch shortly.",12,"0"
"WINE-41085","Unimplemented function msvcp140.dll._Thrd_id needed by Battle.net","With the new version of Battle.net which needed msvcp140 there is a function not implemented and this caused an error during the launching:

wine: Call from 0x7b43bfac to unimplemented function msvcp140.dll._Thrd_id aborting
wine: Unimplemented function msvcp140.dll._Thrd_id called at address 0x7b43bfac (thread 0023) starting debugger...",38,"0"
"WINE-6212","Wine OpenGL does not find WGL extensions/etc.","When attempting to run with any recent version WGL extensions are  for whatever
reason not found the entry points are apparently there and loaded but the
extensions aren't advertised properly so few OpenGL apps will load.

Traces follow.",57,"0"
"WINE-18250","VDrumLib crashes on startup","Created attachment 20766
+relay+seh+tid

A user complained in wine-users:
http://forum.winehq.org/viewtopic.php?t=4676

fixme:process:SetProcessShutdownParameters (00000100 00000001): partial stub.
fixme:mountmgr:harddisk_ioctl unsupported ioctl 560000
fixme:mountmgr:harddisk_ioctl unsupported ioctl 560000
fixme:mountmgr:harddisk_ioctl unsupported ioctl 560000
fixme:mountmgr:harddisk_ioctl unsupported ioctl 560000
fixme:mountmgr:harddisk_ioctl unsupported ioctl 560000
fixme:mountmgr:harddisk_ioctl unsupported ioctl 560000
fixme:mountmgr:harddisk_ioctl unsupported ioctl 560000
fixme:mountmgr:harddisk_ioctl unsupported ioctl 560000
fixme:mountmgr:harddisk_ioctl unsupported ioctl 560000
fixme:mountmgr:harddisk_ioctl unsupported ioctl 560000
fixme:mountmgr:harddisk_ioctl unsupported ioctl 560000
fixme:mountmgr:harddisk_ioctl unsupported ioctl 560000
fixme:mountmgr:harddisk_ioctl unsupported ioctl 560000
fixme:reg:RegSetKeySecurity :(0x6840xb945c8): stub
err:seh:raise_exception Unhandled exception code 80000001 flags 0 addr
0x7bc6dc37

+relay+seh+tid trace attached.",199,"0"
"WINE-28854","Videos in VLC only show a black screen unless DirectDrawRenderer is set to GDI","Created attachment 37063
terminal output

Another regression for Henri :). Terminal output attached.

Easy to reproduce with `winetricks -q --no-isolate vlc`.",4,"0"
"WINE-18997","Warcraft 3 1.23 crashes after remaining one minute in a Battle.net chat room.","This bug report is about the crash which happens if you remain one minute in a chat room of the Warcraft III Battle.net.

This bug report is NOT about the crash which happens at login time: Bug report 17809 is about that crash.

The application entry HOWTO explain in the section How to get Battle.net working? how to work around this bug:
http://appdb.winehq.org/objectManager.php?sClass=version&iId=3126

Please do not ask for help in this bug report. No one wants to read tones of comments. Thanks! Logs (traces etc.) are not needed at the moment as it is known where the crash happens (see below).

This bug is a regression caused by partly implemented functionality the commit which introduced the regression is:
e00e5a37e280c7e07da551ae6a2e9d3e57d6a7b9 is first bad commit
commit e00e5a37e280c7e07da551ae6a2e9d3e57d6a7b9
Author: Henri Verbeet 
Date:   Mon Oct 20 09:26:45 2008 +0200

    secur32: Implement schannel InitializeSecurityContextW.

:040000 040000 529e5211a3cdb6c5361ae8c5a31d91c90ec7a3f2
b221c3ebbdec872c3bd8c159636cc334e2cd29ee M      dlls

The trace
http://bugs.winehq.org/attachment.cgi?id=20398
shows that DeleteSecurityContext gets called twice with the
same handle. The trace does not contain the crash stackstrace as Warcraft 3
catch the exception and writes down it's own stacktrace file.

The trace has been made with a wine build based on commit 1f00a870ec6ee of my
repository:
http://repo.or.cz/w/wine/warcraft3.git?a=logh=1f00a870ec6ee172afa7ffc82a1692317c090a3a

So the bug is either that it should be possible to delete a security context twice or the bug causes the DeleteSecurityContext method to be called twice.",273,"0"
"WINE-32381","QQ2012 crashes at start","Created attachment 42729
Log: QQ2012 crashes

$ sha1sum QQ2012.exe 
2fd79ccf1d60769a6e68987c9518294bec255517  QQ2012.exe

1. install QQ2012 with Wine

2. set atl80 to native workaround Bug 30512

3. start QQ.exe with winedbg or it will not print backtrace but create a minidump instead

$ cd ~/.wine/drive_c/Program\ Files/Tencent/QQ/Bin
$ winedbg QQ.exe

4. type any account and password then click the login button ()

QQ.exe crashes after clicking:
Backtrace:
=>0 0x7e7ce676 OleDraw+0x15(pUnk=(nil) dwAspect=0x10 hdcDraw=0x10153 rect=0x22ee58c) [/home/fracting/wine-git/dlls/ole32/ole2.c:2549] in ole32 (0x022ee554)
  1 0x6512e77c in loginpanel (+0x2e77b) (0x022ee570)
...
0x7e7ce676 OleDraw+0x15 [/home/fracting/wine-git/dlls/ole32/ole2.c:2549] in
ole32: movl 0x0(%eax)%eax
2549      hres = IUnknown_QueryInterface(pUnk",0,"0"
"WINE-28677","Mini Boulder Dash 2 won't start","Sorry for my english.

There is a problem with freeware game: Mini Boluder Dash 2
Please see the attachment below or follow this link: http://www.megaupload.com/?d=YYDAJSWD

wine-1.2.3 game runs OK 
wine-1.3.24 game runs OK

from wine-1.3.24 to wine-1.3.30 - game does not run

Error:

wine: configuration in '/home/USER/.wine' has been updated.

err:ntdll:RtlpWaitForCriticalSection section 0x7efec2a4 
../../../wine-1.3.25/dlls/ntdll/loader.c: loader_section 
wait timed out in thread 0034 blocked by 0009 retrying (60 sec)",98,"0"
"WINE-16643","GetSocial fails to start","Created attachment 18230
Error log from Terminal

GetSocial is an application that creates linkable icons that are used for social bookmarking sites that can be placed in Wordpress blogs. I first ran this application but I received an error stating that I had to install Mono. After I installed Mono I received a slew of errors that I have attached in a file.

http://hillelstoler.com/2008/05/18/getsocial-social-bookmarking-for-wordpresscom/",579,"0"
"WINE-32104","KwMusic: crashes during installing","Created attachment 42329
the log of installing

I installed KwMusic() in wine and it crashed during installing.

my test environment:
- Ubuntu 12.04.1 32bit 
- Wine 1.5.16 
- KwMusic: https://www.dropbox.com/s/ck5pmoc5ls9sk5m/kwmusic2012.exe .

you can reproduce the bug follow:
0. download KwMusic: https://www.dropbox.com/s/ck5pmoc5ls9sk5m/kwmusic2012.exe
1. 'wine kwmusic2012.exe' to begin the installing.

attachment:
kwmusic.log is the log of installing",1953,"1"
"WINE-40221","Adobe Illustrator CC 2015 needs user32.GetGestureConfig","Created attachment 53738
console output

Attempting to start Adobe Illustrator CC 2015 results in the following error:
wine: Call from 0x7bc55a50 to unimplemented function USER32.dll.GetGestureConfig aborting",17,"0"
"WINE-37406","Texture corruption when changing graphic options (Eve Online Sims 3 Diablo 3)","When switching from Fullscreen to Windowed I get the following errors
and the 3d objects look like a mess of colors.

err:d3d_surface:surface_load_location Surface 0x1f834240 does not have
any up to date location.
err:d3d_surface:surface_invalidate_location Surface 0x1f834240 does not
have any up to date location.

I have bisected the following commit to be the offender:
commit ee8a5b7dd1e554ef32229c766715f23ba17c9f6c
Author: Henri Verbeet 
Date:   Wed Oct 8 08:47:20 2014 +0200

    wined3d: Track texture allocation per-texture.",8,"0"
"WINE-41009","PCSX2 1.4.0 needs api-ms-win-crt-stdio-l1-1-0.dll.__stdio_common_vswprintf_p","After testing Nikolay's patch from bug 40905 this is the next one.

To reproduce just unpack and run pcsx2.exe.

f6ddb2c354c1b24585f32dd381b3e0b8b62e3972 pcsx2-1.4.0-binaries.7z 4.6Mb",10,"0"
"WINE-4262","lineage 2 installer fails while it was reported as working for 0.9.3","the lineage 2 installer:
ftp://l2clientdownload.lineage2.com/Chronicle03/L2_C3_Installer.zip
fails with the following output while reported as beeing working on
http://appdb.winehq.org/appview.php?versionId=3818:

WINEDEBUG=+msi+seh wine uoml_setup.exe
trace:seh:__regs_RtlRaiseException code=c0000005 flags=0 addr=0x40a11e
trace:seh:__regs_RtlRaiseException  info[0]=00000001
trace:seh:__regs_RtlRaiseException  info[1]=00419d1a
trace:seh:__regs_RtlRaiseException  eax=0000001d ebx=000000ba ecx=00000003
edx=00000000 esi=00419d1a edi=00419ce0
trace:seh:__regs_RtlRaiseException  ebp=7eebe218 esp=7eebe1e0 cs=0023 ds=002b
es=002b fs=1127 gs=0063 flags=00010246
trace:seh:check_resource_write Broken app is writing to the resource data
enabling work-around
trace:seh:__regs_RtlRaiseException code=c0000005 flags=0 addr=0x7ead01c8
trace:seh:__regs_RtlRaiseException  info[0]=00000000
trace:seh:__regs_RtlRaiseException  info[1]=7ead01c8
trace:seh:__regs_RtlRaiseException  eax=7ebff610 ebx=7f885ce4 ecx=7f89fec0
edx=7f89fec4 esi=7ead01c8 edi=0001004c
trace:seh:__regs_RtlRaiseException  ebp=7fa0cef0 esp=7fa0cea8 cs=0023 ds=002b
es=002b fs=1007 gs=0063 flags=00010206
wine: Unhandled page fault on read access to 0x7ead01c8 at address 0x7ead01c8
(thread 000b) starting debugger...
trace:seh:start_debugger Starting debugger winedbg --auto 10 100
WineDbg starting on pid 0xa
Unhandled exception: page fault on read access to 0x7ead01c8 in 32-bit code
(0x7ead01c8).
In 32 bit mode.
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:1007 GS:0063
 EIP:7ead01c8 ESP:7fa0cea8 EBP:7fa0cef0 EFLAGS:00010206(   - 00      - RIP1)
 EAX:7ebff610 EBX:7f885ce4 ECX:7f89fec0 EDX:7f89fec4
 ESI:7ead01c8 EDI:0001004c
Stack dump:
0x7fa0cea8:  7ebff64f 0001004c 00000081 00000000
0x7fa0ceb8:  7fa0d3bc 7fa0d3bc 0001004c 7f84fd0a
0x7fa0cec8:  0001004c 00000081 00000000 7fa0d3bc
0x7fa0ced8:  7fcd47c0 7f885ce4 7fa0cef0 7f885ce4
0x7fa0cee8:  0001004c 7fa0d3bc 7fa0cf2c 7f8503e7
0x7fa0cef8:  7ebff610 0001004c 00000081 00000000
0200: sel=1007 base=7ff60000 limit=00001fff 32-bit rw-
Backtrace:
=>1 0x7ead01c8 (0x7ead01c8)
  2 0x7f8503e7 in user32 (+0xa03e7) (0x7f8503e7)
  3 0x7f854110 CallWindowProcA+0x1b5 in user32 (0x7f854110)
  4 0x7f82044c in user32 (+0x7044c) (0x7f82044c)
  5 0x7f824126 SendMessageTimeoutA+0x234 in user32 (0x7f824126)
  6 0x7f8241e5 SendMessageA+0x50 in user32 (0x7f8241e5)
  7 0x7f248673 X11DRV_CreateWindow+0x3bb in winex11 (0x7f248673)
  8 0x7f84b1ee in user32 (+0x9b1ee) (0x7f84b1ee)
  9 0x7f84c895 CreateWindowExA+0x8c in user32 (0x7f84c895)
  10 0x7ebff7ea in igdi (+0xf7ea) (0x7ebff7ea)
  11 0x7ebfe5aa GetWindowImage+0x2d7 in igdi (0x7ebfe5aa)
  12 0x7ebfebe2 GetWindowImage+0x90f in igdi (0x7ebfebe2)
  13 0x7ebfe36b GetWindowImage+0x98 in igdi (0x7ebfe36b)
  14 0x10005d31 in setup (+0x5d31) (0x10005d31)
  15 0x10016993 in setup (+0x16993) (0x10016993)
  16 0x10017083 in setup (+0x17083) (0x10017083)
  17 0x10016619 in setup (+0x16619) (0x10016619)
  18 0x7f84fd0a WINPROC_wrapper+0x1a in user32 (0x7f84fd0a)
  19 0x7f8503e7 in user32 (+0xa03e7) (0x7f8503e7)
  20 0x7f853fd4 CallWindowProcA+0x79 in user32 (0x7f853fd4)
  21 0x7f7eb64e DefDlgProcA+0x91 in user32 (0x7f7eb64e)
  22 0x7f84fd0a WINPROC_wrapper+0x1a in user32 (0x7f84fd0a)
  23 0x7f8503e7 in user32 (+0xa03e7) (0x7f8503e7)
  24 0x7f856968 CallWindowProcW+0x534 in user32 (0x7f856968)
  25 0x7f8204db in user32 (+0x704db) (0x7f8204db)
  26 0x7f824380 SendMessageTimeoutW+0x18e in user32 (0x7f824380)
  27 0x7f8243e1 SendMessageW+0x50 in user32 (0x7f8243e1)
  28 0x7f7f0634 in user32 (+0x40634) (0x7f7f0634)
  29 0x7f7f16bc CreateDialogIndirectParamAorW+0x36 in user32 (0x7f7f16bc)
  30 0x7f7f17cd CreateDialogIndirectParamA+0x41 in user32 (0x7f7f17cd)
  31 0x100164eb in setup (+0x164eb) (0x100164eb)
  32 0x100166ca in setup (+0x166ca) (0x100166ca)
  33 0x10009f5b UseXPTheme+0xc98 in setup (0x10009f5b)
  34 0x1000948a UseXPTheme+0x1c7 in setup (0x1000948a)
  35 0x100069e2 Start4+0x75 in setup (0x100069e2)
  36 0x0040949c in uoml_setup (+0x949c) (0x0040949c)
  37 0x00408476 in uoml_setup (+0x8476) (0x00408476)
  38 0x0040cea2 EntryPoint+0x8b in uoml_setup (0x0040cea2)
  39 0x7fc8bdbd in kernel32 (+0x4bdbd) (0x7fc8bdbd)
  40 0xf7fbfdf3 wine_switch_to_stack+0x17 in libwine.so.1 (0xf7fbfdf3)
0x7ead01c8: movl        $0x7ead01c00x4(%esp)
Modules:
Module  Address                 Debug info      Name (65 modules)
ELF     0x00101000-001f9000     Deferred        libx11.so.6
ELF     0x0024e000-0026e000     Deferred        libexpat.so.0
ELF     0x00291000-002a3000     Deferred        libpthread.so.0
PE      0x00400000-0041f000     Export          uoml_setup
ELF     0x00a7f000-00a9a000     Deferred        ld-linux.so.2
ELF     0x00a9c000-00bc3000     Deferred        libc.so.6
ELF     0x00bc5000-00bc9000     Deferred        libdl.so.2
ELF     0x00bcb000-00bf0000     Deferred        libm.so.6
ELF     0x00c15000-00c28000     Deferred        libz.so.1
ELF     0x00d1f000-00d59000     Deferred        libfontconfig.so.1
ELF     0x00d5b000-00d63000     Deferred        libxrender.so.1
ELF     0x00d65000-00d69000     Deferred        libxrandr.so.2
ELF     0x00d75000-00dde000     Deferred        libfreetype.so.6
ELF     0x00de0000-00de3000     Deferred        libxau.so.6
ELF     0x00de5000-00deb000     Deferred        libxdmcp.so.6
ELF     0x00ded000-00dfc000     Deferred        libxext.so.6
PE      0x10000000-10053000     Export          setup
ELF     0x7bf00000-7bf03000     Deferred        
PE      0x7eaa0000-7eac7000     Deferred        _setup
PE      0x7ebf0000-7ec23000     Export          igdi
ELF     0x7ec25000-7ec5b000     Deferred        rsaenh
  \-PE  0x7ec30000-7ec5b000     \               rsaenh
ELF     0x7ec5b000-7ec90000     Deferred        crypt32
  \-PE  0x7ec60000-7ec90000     \               crypt32
ELF     0x7f03b000-7f06e000     Deferred        uxtheme
  \-PE  0x7f040000-7f06e000     \               uxtheme
ELF     0x7f06e000-7f076000     Deferred        libdrm.so.2
ELF     0x7f076000-7f0cd000     Deferred        libgl.so.1
ELF     0x7f1c5000-7f1ca000     Deferred        libxxf86vm.so.1
ELF     0x7f1ca000-7f1d0000     Deferred        libxxf86dga.so.1
ELF     0x7f1db000-7f1f8000     Deferred        imm32
  \-PE  0x7f1e0000-7f1f8000     \               imm32
ELF     0x7f1f8000-7f27f000     Export          winex11
  \-PE  0x7f210000-7f27f000     \               winex11
ELF     0x7f32e000-7f3cc000     Deferred        oleaut32
  \-PE  0x7f340000-7f3cc000     \               oleaut32
ELF     0x7f3cc000-7f490000     Deferred        comctl32
  \-PE  0x7f3e0000-7f490000     \               comctl32
ELF     0x7f490000-7f4af000     Deferred        iphlpapi
  \-PE  0x7f4a0000-7f4af000     \               iphlpapi
ELF     0x7f4af000-7f4f7000     Deferred        rpcrt4
  \-PE  0x7f4c0000-7f4f7000     \               rpcrt4
ELF     0x7f4f7000-7f590000     Deferred        ole32
  \-PE  0x7f510000-7f590000     \               ole32
ELF     0x7f590000-7f5f0000     Deferred        shlwapi
  \-PE  0x7f5a0000-7f5f0000     \               shlwapi
ELF     0x7f5f0000-7f6c1000     Deferred        shell32
  \-PE  0x7f610000-7f6c1000     \               shell32
ELF     0x7f6c1000-7f704000     Deferred        advapi32
  \-PE  0x7f6d0000-7f704000     \               advapi32
ELF     0x7f704000-7f798000     Deferred        gdi32
  \-PE  0x7f720000-7f798000     \               gdi32
ELF     0x7f798000-7f8d2000     Export          user32
  \-PE  0x7f7b0000-7f8d2000     \               user32
ELF     0x7f8d2000-7f8e6000     Deferred        lz32
  \-PE  0x7f8e0000-7f8e6000     \               lz32
ELF     0x7f8e6000-7f900000     Deferred        version
  \-PE  0x7f8f0000-7f900000     \               version
ELF     0x7fc1f000-7fd30000     Export          kernel32
  \-PE  0x7fc40000-7fd30000     \               kernel32
ELF     0x7fe45000-7ff3b000     Deferred        libwine_unicode.so.1
ELF     0x7ff55000-7ff60000     Deferred        libnss_files.so.2
ELF     0x7ff63000-7ffe0000     Deferred        ntdll
  \-PE  0x7ff70000-7ffe0000     \               ntdll
ELF     0xf7fbb000-f7fd5000     Export          libwine.so.1
Threads:
process  tid      prio (all id:s are in hex)
0000000a (D) Z:\home\che\Desktop\uoml_setup.exe
        0000000c    0
        0000000b    0 <==
00000008
        00000009    0
WineDbg terminated on pid 0xa",10,"0"
"WINE-19444","Netscape 6 slows down considerably after brief usage","Using Netscape 6.2.2 - the browser installs fine and runs well but after browsing a handful of pages the speed of the browser slows to a crawl. No abnormal memory or CPU usage is evident (40M memory usage minimal CPU). Constant output is being made to the console however - I've attached logs of a sample of the same output messages repeating again and again constantly followed by the output appearing as the browser is shut.",416,"0"
"WINE-42626","unimplemented function msvcr110.dll.__crtUnhandledException","when i run Titan Quest - Immortal Throne choice custom missions got abort error message is:

wine: Call from 0x7b43b72d to unimplemented function msvcr110.dll.__crtUnhandledException aborting
err:seh:raise_exception Exception frame is not in stack limits => unable to dispatch exception.

does it mean wine need to implement function crtUnhandledException in msvcr110.dll?

if i copy 32bit native msvcr110.dll and msvcp110.dll to the game root directory wine still load buildin so with message 'wrong architecture' or tips nothing. 

play as single user normal missions is ok. 

debian 8 wine 2.3.",8,"0"
"WINE-38264","Chessmaster 10 & 11 crash on startup","Wine v1.7.38 crashes ChessMaster 10th Edition on startup:

Unhandled exception: page fault on read access to 0x00000000 in 32-bit code (0x00000000).

Ran fine on v1.7.37.

Did a 'git bisect' and it says:

	bfd4836867d6d90eaeae6ccbc02e37678b59b8f1 is the first bad commit
	commit bfd4836867d6d90eaeae6ccbc02e37678b59b8f1
	Author: Matteo Bruni 
	Date:   Tue Feb 24 13:38:20 2015 +0100

	opengl32: Return a NULL pointer for functions requiring unsupported or disabled extensions.

To reproduce:
* Create a 32-bit WINE environment.
* Install the Chessmaster 10 demo from:
  https://archive.org/download/Chessmaster10thEditionDemo/Chessmaster10thEditionDemo.exe
* Run 'game.exe'.",32,"0"
"WINE-42022","The Magic School Bus Explores The Solar System needs msvideo.dll16.DRAWDIBPROFILEDISPLAY","Created attachment 56482
debug log with WINEDEBUG=+msgbox

The Magic School Bus Explores The Solar System crashes on install with this error log attached.",40,"0"
"WINE-33426","A Slower Speed of light: unable to start","Created attachment 44228
wine log after applying the commit

With the commit 5115f55eebe5cb91f13896862275e236a4954744 the game doesn't start anymore on my Intel Sandy Bridge because of OpenGL errors in wined3d.",3,"0"
"WINE-6498","Window show slowly in Chinese language interface with SCIM input method","I am using FC5 and the LC_LANG is zh_CN.UTF8. I've install  wine via the FC5's
yum mechanism.All the window running in wine show slowly which can't be abided
with.
When the SCIM is killedthe speed of the window showing is  normal.",600,"0"
"WINE-32693","The installer for Medieval: Total War crashes on second disc","I am running Wine on 64-bit Debian on a VMWare Player VM.  The version of Wine is the one currently in the default Debian apt repository (1.0.1).

When installing Medieval: Total War from CD the installer crashes most of the way through installing the second disk.

I am going through the process of downloading and installing the latest Git version to see if the issue still exists.",0,"0"
"WINE-25157","Black Prophecy crashes on unimplemented function msvcr100.dll._wcsupr_s_l","Reported in 
http://appdb.winehq.org/objectManager.php?sClass=version&iId=21946&iTestingId=58732

('winetricks vcrun2010' ought to work around it but supposedly doesn't?)",171,"0"
"WINEHQ_BUGZILLA-16715","Bad display of some pages (as lists of bugs)","Display this page : http://bugs.winehq.org/duplicates.cgi.
This page is too large so text of summary is black colour on black background on a part.

Other pages has a similar incorrect display.

My screen has 800x600 resolution.",1003,"1"
"WINE-27358","The Witcher fails to run","I have been unable to run any d3d app in wine on the new 2011 MacBook Pros with the AMD Radeon HD 6490M gpu. Any attempts to launch a d3d app in wine causes an error dialog at which point the only option is to terminate wine.

Tthe fact that the card is not listed in the gpu_description_table in directx.c  I suspect is the most likely cause however simply adding it there with vendor and card ids does not appear to work either so I am clearly missing something. The vendor id for the card is 0x1002 (HW_VENDOR_AMD) and the card id is 0x6760 memory is 256m. I tried using DRIVER_AMD_R600 for the driver.

I've attached the log using the changes below:

index a29533e..53daffc 100644
--- a/dlls/wined3d/directx.c
+++ b/dlls/wined3d/directx.c
@@ -11006 +11007 @@ static const struct gpu_description gpu_description_table[] =
     {HW_VENDOR_AMD        CARD_AMD_RADEON_HD5800         ATI Radeon HD 5800 Series        DRIVER_AMD_R600         1024}
     {HW_VENDOR_AMD        CARD_AMD_RADEON_HD5900         ATI Radeon HD 5900 Series        DRIVER_AMD_R600         1024}
     {HW_VENDOR_AMD        CARD_AMD_RADEON_HD6310         AMD Radeon HD 6310 Graphics      DRIVER_AMD_R600         1024}
+    {HW_VENDOR_AMD        CARD_AMD_RADEON_HD6490         AMD Radeon HD 6490M              DRIVER_AMD_R600         256}
     {HW_VENDOR_AMD        CARD_AMD_RADEON_HD6800         AMD Radeon HD 6800 Series        DRIVER_AMD_R600         1024}
     {HW_VENDOR_AMD        CARD_AMD_RADEON_HD6900         AMD Radeon HD 6900 Series        DRIVER_AMD_R600         2048}
     /* Intel cards */
diff --git a/dlls/wined3d/wined3d_private.h b/dlls/wined3d/wined3d_private.h
index aaf1423..8e10918 100644
--- a/dlls/wined3d/wined3d_private.h
+++ b/dlls/wined3d/wined3d_private.h
@@ -13606 +13607 @@ enum wined3d_pci_device
     CARD_AMD_RADEON_HD5870          = 0x6899
     CARD_AMD_RADEON_HD5900          = 0x689c
     CARD_AMD_RADEON_HD6310          = 0x9803
+    CARD_AMD_RADEON_HD6490          = 0x6760
     CARD_AMD_RADEON_HD6800          = 0x6739
     CARD_AMD_RADEON_HD6900          = 0x6719",856,"1"
"WINE-15898","unimplemented function advapi32.dll.LsaSetSecret aborting","Created attachment 17061
output of wine setup.exe giving error unimplemented function advapi32.dll.LsaSetSecret aborting

I am trying to install a 16bit program named Primavera P3 3.1. this app works unders windows 3.1 windows xp vista. I was surprised it did not work under wine.

I believe with very minor tweaking it will work under wine too.

the program was on a CD that I copied onto my laptop.

when typing at console wine setup.exe I get basically the following.

unimplemented function advapi32.dll.LsaSetSecret aborting

Vitamin told me in the winehd forums to file in a bug. 
I quote It should be easy to implement this function without encrypting anything.

I hope so. 

:)

first mentioned under: http://forum.winehq.org/viewtopic.php?p=14383#14383",17,"0"
"WINE-16972","AutoCAD 2008: installation of Service Pack 1 fails","Created attachment 18752
Log after running autocad2008lockedsp1.exe

My Linux is Fedora 10 x86. My problem is that i can't install Service Pack 1 for AutoCAD 2008.

1. delete  ~/.wine
2. execute wine WINEPREFIX
3. install using winetricks gecko gdiplus corefonts dotnet20 msxml3 vcrun2003
4. install AutoCAD 2008
5. run autocad2008lockedsp1.exe from www.autodesk.com
6. get an fatal error",680,"0"
"WINE-8230","cmd.exe handles 'if a==b ()' construct incorrectly","The mfc40 installer at

 http://download.microsoft.com/download/sql65/Patch/6.5/WIN98/EN-US/MFC40i.exe

runs a batch script that exposes a bug in Wine's cmd.exe. I will attach
a reduced test case.",49,"0"
"WINE-37943","Falco 6 Contabilit crashes","Created attachment 50545
the file created when program crashe

TThe program hawk accounting crashes. I want to clarify that it stops running it on ubuntu 14.04 LTS while it works well on Lubuntu 14.04. where is the difference? I don't know-Thanks",0,"0"
"WINE-2720","File open dialog crashes in Micrographic designer","Try to run Micrographic designer and select File/Open. A wine crashes instead of
showing file opening dialog.

I extracted EXE file and several DLL that exactly reproduce the problem. Please
download exe files here.
http://www.penguin.cz/~fojtik/micrografx/
   Please let me know when I omit some DLL.",1581,"1"
"WINE-14239","Sonos Desktop Controller: Crashes clicking in the Music Library list","Created attachment 14528
Terminal trace of running Sonos Desktop Controller until crash.

When running the Sonos Desktop Controller software v2.5 - available here: http://www.sonos.com/support/ clicking around in the Music Library List on the right hand side causes the software to crash.

Lots of other things also cause this software to crash running under Wine - it crashes a lot - but this crash is pretty repeatable.",355,"0"
"WINE-25514","Teamviewer 6 client: execute in loop and it opens an infinite number of windows","Description: It seems to happens when a window application is launched by another application. So my cursor becomes a glass of wine and loop starts. The GUI becomes busy and uncontrollable because windows are opened infinitly.


It happens always when I do those 2 things:

1. When I click on a Kopete notification from my windows live account. The notification contains a link to my mailbox. So when I click on it I guess IE tries to open (I didn't install IE).


2. When I close my Teamviewer 6 client. This is strange because I installed this version with Debian package from the teamviewer site so it's not supposed to use wine.


My safety solution is to kill wineserver process so all windows opened are killed and my gui can be used again.",1406,"1"
"WINE-5629","Printing is mirrored (Genline Family Finder 2)","Strange printing results:
When I print from GFF2 (version 2.3.7) I get strange results depending on
printer used
On SAMSUNG 1520 it's not readable at all.
On HP 1022 and EPSON 1290: it's readable if I use a MIRROR to read it.

The program GFFinder2_install.exe can be downloaded from
http://www.genline.se/ and run in a demo mode without logging in.

It's used for searching church records in genealogy research.

Using Mandriva Linux 2006.0 with wine 0.9.16 compiled from source.",1943,"1"
"WINE-1547","Wine release 20030618 incorrectly renders some demos found on scene.org","Wine 20030508 worked just OK on this particular demo while 20030618 displays it uncorrectly",18,"0"
"WINE-2910","Blending problems with Max Payne 2 make it unplayable at a certain point","Wine 20050419+Oliver's big patch

Max Payne 2 uses a lot of full-screen single-colour blending effects that
usually fade in and/or out. In Wine these effects are rendered as full opacity
making it impossible to see if you're getting shot.

During Part 3 Prologue there is a point where the screen is blended with a dark
red at low opactiy. This effect does not go away until you get to a certain
point (where it MAY change to a differend blend). It is impossible to see where
you are going and thus the game is rendered unplayable. Fortunately you can
still escape to the menu.

There are no err or fixme messages for this problem.

My system:
Athlon 2600
Geforce FX5600XT
Debian unstable
Kernel 2.6.10",442,"0"
"WINE-21192","Make fails with Assembler error on ARMv6","Computer: N810
Architecture: ARM
Operating System: Debian
Note: compile ran fine finding all dependencies

Error:
{standard input}: Assembler messages:
{standard input}:36: Error: selected processor does not support 'blx r3'
make[2]: *** [port.o] Error 1
make[2]: Leaving directory '/download/wine-1.1.35/libs/wine'
make[1]: *** [wine] Error 2
make[1]: Leaving directory '/download/wine-1.1.35/libs'
make: *** [libs] Error2

Since the error was short I pasted it in the description.",287,"0"
"WINE-18093","Race Driver GRID: Game renders badly with resolution higher than 800x600","Created attachment 20523
Image showing the problem

I'm using wine-git (1.1.19) downloaded in 18.04.2009 (compiled using gcc version 4.3.2 20081105 (Red Hat 4.3.2-7) ) on Fedora 10 i386.

The problem is when i set resolution to e.g 1024x768 The game want's to restart and after that the screen is black but i can hear music in main menu and sometimes something blurry shows. I blindly start the race and made image in race which shows the problem. The game is blurry but the replay controls are sharp.

graphic card: GF 9600M GT
drivers: 185.19 (default configuration)
OffscreenRenderingMode: backbuffer (doesn't work with fbo)
Multisampling: enabled (not set in game)
VideoMemorySize: 512
Overrides: d3dx9_36.dll (3.6 MiB) xinput1_3.dll (67.3 KB) openal32.dll (43.0 KB)",260,"0"
"WINE-14130","1by1 crashes into mpr","Hi a user reported this regression in appdb. I'll attach a log",415,"0"
"WINE-9356","Serial communication not working since wine-0.9.33","Created attachment 7647
Logfiles of working and not working wine versions

Senn on application Windows Packet Programm the serial communication is not working correctly since winw version 0.9.33 anymore. It worked perfect with version 0.9.32 and before. Actually I am running version 0.9.42.
I attached two logs one with a working version (0.9.32) and one with my latest version 0.9.42.
You can see that there is a problem here: io_control 0x7c IOCTL_SERIAL_GET_TIMEOUTS. At this point the application hangs and you have to kill it.

Regards
Aurel",263,"0"
"WINE-4215","Invisible mouse cursor in Dugeon Siege 2 (demo) [ WINED3D ]","Hi the mouse cursor is invisible in Dungeon Siege 2 (demo).

err:d3d:IWineD3DDeviceImpl_SetCursorProperties (0x7ff2d550) :
surface(0x7642b9a0) has an invalid size

According to MSDN this call should suceed whether or not the surface size is
32x32:

http://msdn.microsoft.com/library/default.asp?url=/library/en-us/directx9_c/IDirect3DDevice9__SetCursorProperties.asp
pCursorBitmap",203,"0"
"WINE-12510","MS Powerpoint Viewer 2007 crashes when displaying embedded table","powerpoint viewer 97 and 2003 can handle
http://kegel.com/wine/lugradiolive2008/lugradiolive2008.ppt
fine but powerpoint viewer 2007 crashes when
it gets to the embedded table on page 6
with legend BUT: market share still tiny!",1497,"1"
"WINE-33675","Opera Next 15.0 for Windows doesn't display web pages","Followed link at
http://my.opera.com/desktopteam/blog/opera-next-15-0-released
to download
6ce01aa2626f48764d1d99c57a1de94642801bd1  Opera_Next_15.0.1147.18_Setup.exe

It starts and lets you type in URLs and even suggests autocompletions for
your url but doesn't actually display any pages.",460,"0"
"WINE-39237","urlmon:sec_mgr fails if privileges not high enough","The following failures only happen on the fg-winxp-lusr box which is a Limited user account running on Windows XP configuration:

sec_mgr.c:774: Test failed: RegCreateKey failed: 5
sec_mgr.c:777: Test failed: RegSetValueEx failed: 6
sec_mgr.c:919: testing zone domain mappings...
sec_mgr.c:931: Test failed: Expected URLZONE_CUSTOM but got 3

The error code (ERROR_ACCESS_DENIED) corresponds to a registry permission error.

The tests regression was introduced by the following commit:

commit b9308fa06f4bcce4c340e6d9199c52c6b5ad9130
Author: Thomas Mullaly 
Date:   Fri Mar 11 00:55:31 2011 -0500

    urlmon/tests: Added zone domain mapping tests.

See:
https://test.winehq.org/data/tests/urlmon:sec_mgr.html",888,"1"
"WINE-27900","Miranda IM v0.9.25 group chats are broken","log:
fixme:actctx:parse_depend_manifests Could not find dependent assembly LMicrosoft.Windows.Gdiplus (1.0.0.0)

as consequence group chats are broken.

I tried clean profile and install gdiplus via winetricks but neither helps.

wine is installed from ubuntu-wine ppa on ubuntu 11.04

tested Minranda version - miranda-im-v0.9.25-unicode.exe
downloaded from http://code.google.com/p/miranda/downloads/detail?name=miranda-im-v0.9.25-unicode.exe",971,"1"
"WINE-13713","Hema Album Software Advanced won't start it crashes and has to be killed.","Created attachment 13729
Backtrace made on 5 june 2008 @ 21h33.

I tried this program for the first time with wine-1.0-rc3 only to find out you can install the program fine but running it is a nogo.

The program starts with the following exception error:

Exception EAccessViolation in module apc.exe at 00000000.
Acces violation at address 00000000. Read of address 00000000.

After that the message

Runtime error 216 at 004506D9

appears several times.

The attached backtrace appears.

I don't know if the program works in older wine versions.",19,"0"
"WINE-16384","GCC warnings in dlls/dnsapi","gcc -m32 -c -I. -I. -I../../include -I../../include  -D__WINESRC__  -D_REENTRANT -fPIC -Wall -pipe -fno-strength-reduce -fno-strict-aliasing -Wdeclaration-after-statement -Wwrite-strings -Wtype-limits -Wpointer-arith  -O2 -Werror  -o ns_parse.o ns_parse.c
cc1: warnings being treated as errors
ns_parse.c: In function dns_ns_parserr:
ns_parse.c:139: error: comparison of unsigned expression < 0 is always false
make[2]: *** [ns_parse.o] Error 1
make[2]: Leaving directory `/home/adys/src/wine/dlls/dnsapi'
make[1]: *** [dnsapi] Error 2
make[1]: Leaving directory `/home/adys/src/wine/dlls'
make: *** [dlls] Error 2

Using gcc (Debian 4.3.2-1) 4.3.2 on x86_64",1,"0"
"WINE-15840","SuddenStrike: crashes when loading a level","Created attachment 16969
standard crash dump

SuddenStrike crashes when I try to load a map. This happens always since Version 1.1.3 till 1.1.7. Version 1.1.2 works. I'm using gentoo linux and I'm not sure if I would mess up my system if I do a complete regression test because I don't know how to implement a complete regression test in an ebuild. A fresh .wine directory didn't fix it. If you want any special WINEDEBUG channels please tell me.",43,"0"
"WINE-8191","Framemaker 7.2 Tryout version crashes on startup","I saw a user asking about Framemaker 7.1 support
( http://groups.google.com/group/bit.listserv.techwr-l/msg/7d3aa82797d761cc )
but all I could download from Adobe's site was Framemaker 7.2
so I tried that.

Framemaker 7.2 trial installs fine but crashes quickly on
startup.  After the crash a service Adobelmsvc.exe 
is running and chewing up all CPU time.
+relay+seh shows
0009:Call advapi32.OpenSCManagerW(000000000000000000000001) ret=015048b0
0009:Ret  advapi32.OpenServiceW() retval=0017cc38 ret=015047d2
0009:Call kernel32.GetLastError() ret=0150476c
trace:seh:raise_exception code=c0000005 flags=0 addr=(nil)",154,"0"
"WINE-23905","sothink: Maximizing completely breaks the window","Window manager: kwin. Untested on others.

Maximizing Sothink SWF Decompiler results in part of the screen greying out and going transparent. Only relevant console output is the following:


fixme:appbar:handle_appbarmessage SHAppBarMessage(ABM_GETAUTOHIDEBAR hwnd=(nil) edge=3): stub
fixme:appbar:handle_appbarmessage SHAppBarMessage(ABM_GETAUTOHIDEBAR hwnd=(nil) edge=1): stub
fixme:appbar:handle_appbarmessage SHAppBarMessage(ABM_GETAUTOHIDEBAR hwnd=(nil) edge=0): stub
fixme:appbar:handle_appbarmessage SHAppBarMessage(ABM_GETAUTOHIDEBAR hwnd=(nil) edge=2): stub
fixme:dwmapi:DwmIsCompositionEnabled 0x32eaac
fixme:win:LockWindowUpdate (0x400c6) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x50034) partial stub!
fixme:win:LockWindowUpdate ((nil)) partial stub!
fixme:win:LockWindowUpdate (0x40028) partial stub!

I couldn't manage a screenshot but am available for more tests.",452,"0"
"WINE-10739","msiexec fails on FolderShare installation","Created attachment 9581
Output of msiexec

I am running openSUSE 10.3.
The foldershare .msi is available at http://www.foldershare.com/download/index.php?
It's a quick download since the file is less than a megabyte.",8,"0"
"WINE-3812","Installer stops at start of installation","The installer for the off-line reader for Agilent's logic analyser traces (I
doubt that there is a public download somewhere) stops just as it starts MSI and
InstallShield's iKernel.exe .

Just before entering the state where it seems blocked without doing anything
the following happens:

0034:trace:ole:deserialize_param vt 8 at 0x41ff74ac
0034:trace:ole:_invoke Calling 0x4275a113(429a1eb000000000)
0034:trace:seh:__regs_RtlRaiseException code=c0000005 flags=0 addr=0x4276225d

And then:

0023:trace:ole:apartment_release 2200000032: after = 1
0023:trace:ole:CoWaitForMultipleHandles (0x00000000 0xffffffff 1 0x42025e04
0x4067625c)
0023:trace:ole:CoWaitForMultipleHandles waiting for rpc completion or window message
0039:trace:ole:DllMain 0x40860000 0x3 (nil)

And the application stops here.

+tid+msi+ole+rpc+seh+shell and +tid+msi+ole+rpc+seh+shell+relay
traces available on demand.",973,"1"
"WINE-13228","Blockland crashes when returning focus","While running the game in windowed mode if you take focus off the blockland window then give it focus again the program will throw an unhandled page fault on a read access.  The address this happens at and the tread it happens on is different every time.  No debug info can be taken because it shows up in some wine console window that disappears directly afterwards.",4,"0"
"WINE-14702","can't click buttons with mouse in Army Builder 3.1c","When http://bugs.winehq.org/attachment.cgi?id=9555 is applied Army Builder 3.1c can finally be run however the buttons in the program dialog buttons only recieve focus when you click them with the mouse. You have to press Enter to get the button activated.",507,"0"
"WINE-12958","winrar extract files slow with msstyles.","winrar extract slow with all msstyles I tested
I prefer PlastikXP as msstyles

sorry may english is not well but I'm only 15 years old",1081,"1"
"WINE-13257","bricscad: separators in vertical toolbar rotated by 90 degrees causing layout problems","Created attachment 13096
Basic log

In Bricscad some panel items are not correctly displayed.

Wine says:

err:toolbar:TOOLBAR_GetImageListForDrawing bitmap for ID 0 index 0 is not valid number of bitmaps in imagelist: 0

and some toolbar icons are just not drawn. Also the line separators are always vertical (even in vertical bar). This does not happen on Windows version so it could be a bug. 

I'd like to help but I don't have any idea where could be the problem. 

A complete log is attached (run & move panel & exit).",349,"0"
"WINE-37185","DirectPlayCreate fails to create instance in the game Swing","Created attachment 49422
relay trace

The DirectPlay IPX/Modem/Serial multiplayer mode doesn't work in the Software2000 game `Swing' and `Swing Plus'.
In the German release of the game the game just throws two error boxes:

...
0009:Call dplayx.DirectPlayCreate(0032f74c0044d95800000000) ret=0041322f
                                  ^^^^^^^^ ^^^^^^^^
                                  |lpGUIDSP   |ref to IDirectPlay interface
...
err:dplay:DirectPlayCreate Failed to get Enum for SP: DP_OK
0009:Ret  dplayx.DirectPlayCreate() retval=887700fa ret=0041322f
                                           ^^^^^^^^
                                    !!! DPERR_UNAVAILABLE !!!
0009:Call user32.MessageBoxA(0001005c0032f728 Fehler beim Starten von DirectPlay. (Error 3)00434168 Attention00000000) ret=00411c89
...
0009:Call user32.MessageBoxA(0001005c0032f738 Fehler beim Starten von DirectPlay. (Error 1)00434168 Attention00000000) ret=00411c89

The complete trace can be found in the attachment.

This error can be reproduced either by starting the game without cdrom (in which case it starts in network-mode) or by starti
nt the game normally and then trying to launch a new network game.
Unfortunately there are no demo or free versions of this game to include here (Software 2000 doesn't exist anymore but distributing abandonware is probably not legal in all countries).

This error might be related to Bug 4066 but the dplay error is different in this case.
Installing the native DirectPlay stack with winetricks (sh winetricks directplay) does not help.",142,"0"
"WINE-2660","Hang with 100% cpu after 20050111 (Lotus Notes Unreal Empire Earth)","> Patch 14725 applied 2004/12/07 11:31:53 breaks lotus notes.  The symptom
> is a hang with the CPU at 100% and it happens immediately if you try to
> click on a notes 'bookmark' or shortly after you try to do much of
> anything else if you try to avoid the 'bookmarks'.

This is the following patch:

Log message:
	Moved update region handling to the server.

Patch: http://cvs.winehq.org/patch.py?id=14725
ie it's a WM rewrite regression. I will investigate when I get a chance.

this happens with notes 6.5.1 and 6.5.3 - reproduceable!",168,"0"
"WINE-25074","dotnet30 install fails with status 87 in wine > 1.3.4?","Doesn't happen in wine-1.3.4 but does in 1.3.5 and git.

First reported at http://code.google.com/p/winezeug/issues/detail?id=192

To see it in action do 'winetricks dotnet30' then when the tray icon
is created doubleclick it so the install window opens up again.
The failure happens in the first few seconds the gui says there's
been an errror (but nothing suspicious happens in the console) and it
takes some time unwinding the install.  The installer then exits with nonzero
status which in winetricks shows up at

Note: command 'wine $HOME/.cache/winetricks/dotnet30/dotnetfx3.exe' returned status 87.  Aborting.

Bisecting is next.",11,"0"
"WINE-3212","FEAR demo installer won't run","Trying to run the FEAR demo game installer results in an error when the  
InstallShield Wizard finishes initializing. Running on the command line as a 
normal user produces this output on the console while InstallShield starts up: 
 
err:ole:CoMarshalInterface Failed to marshal the interface 
{3d8b6331-d8b1-11d2-80c5-00104b1f6cea} 80040154 
err:ole:CoUnmarshalInterface IMarshal::UnmarshalInterface failed 0x00000001 
err:ole:CoMarshalInterface Failed to marshal the interface 
{6494206f-23ea-11d3-88b0-00c04f72f303} 80040154 
 
When InstallShield finishes the setup program pops up an error box mentioning 
a problem: 
 
An error (-5009:0x80040154) has occurred while running the setup. 
Please make sure you have finished any previous setup and closed other 
applications. 
 
If I click the Details>> button it gives me: 
 
Error Code:	-5009 : 0x80040154 
Error Information: 
>Kernel\TextSubstitution.cpp (550) 
>Ctor\ObjectWrapper.cpp (396) 
>Kernel\Component.cpp (1163) 
>Ctor\ObjectWrapper.cpp (34) 
>Ctor\DriverWrapper.cpp (31) 
>Kernel\Component.cpp (1152) 
>Kernel\CABFile.cpp (384) 
>SetupDLL\SetupDLL.cpp (1526) 
PAPP:FEAR SP Demo 
PVENDOR:Monolith Productions (http://www.lith.com) 
PGUID:520B1077-6B1F-4B9B-B7BC-8CD2F04982C3 
$11.0.0.28844PAK 
@Windows 95  (67109814) BT_OTHER 1.0 
 
I built Wine through Gentoo's Portage package system using GCC 3.4.4",172,"0"
"WINE-44490","Zwei: The Arges Adventure videos play distorted (Indeo 5 encoded)","With patch https://source.winehq.org/patches/data/141524 and winetricks -q icodecs Zwei plays the Indeo 5 encoded videos. Logo video plays when launching the game. However playback is distorted as seen in the screenshots.

Adding an override and using native msvfw32.dll from XP SP3 is a workaround.
SHA256 (msvfw32.dll) = db676642f9c0467dbc313d0b475250b247eabb281fd359896398a0e7c725f0f8

Nothing useful or related in the default terminal output.",186,"0"
"WINE-10623","Visual C++ 5 doesn't know who registered it","Installing Visual C++ 5 goes fine but
when the app starts up the splash screen says
 This product is licensed to:
 Unregistered
 Unauthorized copy
even though I duly filled out the info and put
in the cd key.",220,"0"
"WINE-20239","15mb VB6 applications desaparear after 2 minutes","15mb VB6 applications desaparear after 2 minutes it doesnt matter if they are active or not",696,"0"
"WINE-24800","wine try to use float texture even if driver don't support them","Created attachment 31363
wine output with mesa git master r300 gallium driver

The game Panzers II shows lot of wine warnings and mesa errors like:
Mesa: User error: GL_INVALID_VALUE in glTexImage2D(internalFormat=0x822e)
err:d3d:check_fbo_compat >>>>>>>>>>>>>>>>> GL_INVALID_VALUE (0x501) from Framebuffer format check @ utils.c / 968
fixme:d3d:check_fbo_compat Format WINED3DFMT_R32_FLOAT with rendertarget flag is not supported as FBO color attachment and no fallback specified.

Full output is attached.

According to a mesa developer the problem is that current mesa git master implements ARB_texture_rg and wine thinks it also support R16G16_FLOAT textures:
https://bugs.freedesktop.org/show_bug.cgi?id=30823

Indeed when disabling such mesa extension with the env variable:
MESA_EXTENSION_OVERRIDE=-GL_ARB_texture_rg

the warnings no longer appear (output also attached).

Other than the warning I see no obvious visual differences. I am using wine 1.2.1 found on Ubuntu 10.10 with a Radeon X1600 (RV530) card using the gallium r300 driver.",91,"0"
"WINE-5774","udp traffic stop working after a time for dht/utorrent and kademlia/emule","After some times (from 30mins to several hours and even 1 or 2 days)  the udp
traffic for these applications aren't working anymore: with torrent
(http://www.utorrent.com/) the dht (the protocol using udp) doesnt work
anymore the number of nodes connected reported starts decreasing until it
reaches zero and never increases again.
With emule (http://www.emule-project.net/) and kademlia it's the same problem
kademlia (protocol using udp) gets disconnected after a while and emule is
unable to reconnect to the network (stay in trying mode).
the output of netstat for that udp port is the folowing:
Proto Recv-Q Send-Q Local Address           Foreign Address         State      
PID/Program name   
udp   221064      0 0.0.0.0:10466           0.0.0.0:*                          
3281/wineserver     

for the utorrent process the queue was around 1 mega

How to reproduce : for utorrent : install utorrent  launch it (make sure the
udp port is a reachable from internet)  the number of nodes (shown at the
bottom should start increasing wait  some times until it reaches zero dht
doesnt work anymore (you can test it by adding a torrent and modify the tracker
to something bogus to force the use of dht but the torrent won't start
downloading)

for emule : download it install it make sure udp port is reachable from
internet if it's the first time you might need to connect to a regular server
first then start downloading something then go to the kademlia page and click
connect. now wait a certain amount of time (no downloads are required during
this)  until kad get disconnected (the top right arrow goes from green to red
in the bottom right corner of the screen) . you can click bootstrap or connect
from the kademlia page it wont work anymore.",329,"0"
"WINE-24541","Final Fantasy 8: Eidos Intro movie and sound choppy","Created attachment 30972
Terminal log

Using Ubuntu 10.04
Installation seems to go fine.
When running Final Fantasy 8 however the first Eidos movie bit is extremely choppy.
Terminal log attached.",594,"0"
"WINE-7195","ratDVD fails to start","When trying to start absolutely nothing happens.",1373,"1"
"WINE-44368","Fallout 4 has graphical issues","When starting Fallout 4 with Wine 3.0 RC6 I found out that the game LITERALLY started. I am able to use it. I was actually expecting it to fail with an error without showing anything but it just worked out of the box. I have only tested 2 minutes of it but here is the output am getting in the terminal just to help along. For lines that repeated themselves many times I put an approximate amount of lines that showed at the end of the actual line (eg: Showing 100x more lines):

002c:fixme:d3d11:d3d11_device_CreateTexture1D iface 0x8c4f0 desc 0x23cd60 data (nil) texture 0x23ef60 stub!  (1000x More Lines)
002c:fixme:d3d11:d3d11_immediate_context_IAGetVertexBuffers Failed to get vertex buffer 16. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_IAGetVertexBuffers Failed to get vertex buffer 17. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_IAGetVertexBuffers Failed to get vertex buffer 18. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_IAGetVertexBuffers Failed to get vertex buffer 19. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_IAGetVertexBuffers Failed to get vertex buffer 20. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_IAGetVertexBuffers Failed to get vertex buffer 21. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_IAGetVertexBuffers Failed to get vertex buffer 22. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_IAGetVertexBuffers Failed to get vertex buffer 23. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_IAGetVertexBuffers Failed to get vertex buffer 24. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_IAGetVertexBuffers Failed to get vertex buffer 25. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_IAGetVertexBuffers Failed to get vertex buffer 26. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_IAGetVertexBuffers Failed to get vertex buffer 27. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_IAGetVertexBuffers Failed to get vertex buffer 28. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_IAGetVertexBuffers Failed to get vertex buffer 29. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_IAGetVertexBuffers Failed to get vertex buffer 30. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_IAGetVertexBuffers Failed to get vertex buffer 31. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_RSSetState Ignoring DepthClipEnable 0. (500 More Lines)
002c:fixme:d3d11:d3d11_immediate_context_RSSetViewports Multiple viewports not implemented. (500 More Lines)
002c:fixme:d3d_shader:print_glsl_info_log     
002c:fixme:d3d_shader:print_glsl_info_log     -----------
002c:fixme:d3d_shader:print_glsl_info_log     -------------
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[10] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[11] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[12] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[13] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[14] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[15] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[16] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[17] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[18] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[19] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[1].zw might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[20] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[21] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[22] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[23] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[24] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[25] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[26] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[27] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[28] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[29] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[2] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[30] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[31] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[3] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[4] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[5] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[6] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[7] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[8] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(19) : warning C7050: vs_out[9] might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(37) : warning C7050: R3.zw might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     0(40) : warning C7050: R6.yzw might be used before being initialized
002c:fixme:d3d_shader:print_glsl_info_log     Fragment info
002c:fixme:d3d_shader:print_glsl_info_log Info log received from GLSL shader #552:
002c:fixme:d3d_shader:print_glsl_info_log     Vertex info
002c:fixme:d3d_shader:shader_sm4_read_instruction_modifier Unhandled modifier 0x00155543. (50 More Lines)
002c:fixme:dxgi:dxgi_swapchain_Present Unimplemented sync interval 1 (200 More Lines)
002c:fixme:xinput:XInputSetState (index 0 vibration 0x23e7a0) Stub!
0046:fixme:thread:SetThreadIdealProcessor (0x4408): stub",98,"0"
"WINE-22236","World of Goo Demo all black without D3DXGetImageInfoFromFile from native D3DX9_38.dll","World of Goo Demo bundles D3DX9_38.dll.  If you delete it
the game still runs but the screen is all black.",462,"0"
"WINE-44194","Serious Sam Classic (First and Second Encounter) shifts the view and makes the game unplayable","Running with the GOG.com versions of both games the view changes camera angles semi-randomly and makes the game practically unplayable as WASD keys don't match up with on-screen movements.

I've made a YouTube video of the bug in action: https://youtu.be/jyNJK_4AePQ",0,"0"
"WINE-8659","EULAlyzer crashes at start","EULAlyzer crashes at start.
azrael@laptop666:~$ wine C:\Program Files\EULAlyzer\eulalyzer.exe 
fixme:process:SetProcessShutdownParameters (00000100 00000001): partial stub.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsmartvsd.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsmartvsd.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsmartvsd.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsmartvsd.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsice.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lntice.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsiwdebug.vxd. Try setting Windows
version to 'nt40' or 'win31'.
fixme:vxd:VXD_Open Unknown/unsupported VxD Lsiwvid.vxd. Try setting Windows
version to 'nt40' or 'win31'.
err:seh:setup_exception stack overflow 72 bytes in thread 0013 eip b7e8630f esp
00240fb8 stack 0x241000-0x350000

When I set Windows version in winecfg to Windows NT 4.0 I get another error:

azrael@laptop666:~$ wine C:\Program Files\EULAlyzer\eulalyzer.exe 
fixme:process:SetProcessShutdownParameters (00000100 00000001): partial stub.
fixme:reg:RegSetKeySecurity :(0x8040x39a2f8): stub",24,"0"
"WINE-36376","eRacer demo doesn't start fails to create d3d object","Created attachment 48436
terminal output

Currently bug #36375 prevents this bug from testing unless you revert the offending commit from #36375.

The game fails to start an error message is shown: 'Fatal Error: Failed to create material 'er_icon05'.

The result of the regression test:

22fc22d28b655aff30a3f0517af1fd5086cf9e71 is the first bad commit
commit 22fc22d28b655aff30a3f0517af1fd5086cf9e71
Author: Stefan Dsinger 
Date:   Thu Sep 5 10:42:15 2013 +0200

    ddraw: Enumerate DXT2 and DXT4.

:040000 040000 d0705d11566fd7207cb199af146fb821f7060fd0 85ba0dce202387221ee149a2c6076f240bae3b7b M	dlls

Reverting this commit as well as the one from #36375 lets the game start.

You need to rename/remove intro.avi from the installed game when testing because it causes an early crash.
Let me know if you need debug logs or further tests.

Fedora 20
Nvidia binary drivers 337.12",7,"0"
"WINE-14060","Magic: The Gathering Online 3.x fails to connect/login to server","fixme:secur32:schan_InitializeSecurityContextW stub

another application that needs SChannel implemented.
right now login doesn't work because of this.",2136,"1"
"WINE-3100","Photoshop doesn't work anymore (again)","Hi!
Photoshop worked in past (after this bug was fixed
http://bugs.winehq.org/show_bug.cgi?id=2017
)

But now it doens't work anymore again with a new error...

fixme:actctx:QueryActCtxW stub!
fixme:wintab32:X11DRV_WTInfoA Return proper size
wine: Call from 0x474496c8 to unimplemented function
kernel32.dll.__wine_register_dll_16 aborting
wine: Unhandled exception (thread 0009) starting debugger...
Usage: winedbg [--auto] [--gdb] cmdline


Any clues?

Thanks
Andrea",90,"0"
"WINE-30809","ConEmu: Fails to start cmd.exe","wine ConEmu.exe fails. It should start a console child process with CMD.EXE that connects to the main ConEmu GUI but child process fails with an error message:

ConEmuC.M PID=39 Injecting hooks into PID=51 FAILED code=-710:0x00000005

stdout shows:

$ wine ConEmu.exe 
fixme:uxtheme:BufferedPaintInit Stub ()
fixme:win:RegisterShellHookWindow (0x10072): stub
err:rebar:REBAR_WindowProc unknown msg 200b wp=00000000 lp=00495520
fixme:x11drv:sync_window_opacity LWA_COLORKEY not supported
fixme:console:GetConsoleProcessList (0x51dbe81000): stub
fixme:console:GetConsoleProcessList (0x51dbe81000): stub

fixme:console:GetConsoleProcessList (0x51dbe81000): stub
fixme:console:GetConsoleProcessList (0x33ec8c10): stub",650,"0"
"WINE-10885","Some bitmaps are drawn topside-down (Lazarus 0.9.24)","Created attachment 9788
Lazarus 0.9.24 being run under WINE 0.9.51

Some icons are drawn incorrectly in Lazarus 0.9.24 (win32 version).
Please see attachments.",986,"1"
"WINE-16178","alt.binz:  memory leak.  Regression since 1.1.7.","Created attachment 17418
An NZB file to import into Alt.binz which references Usenet articles that are known to trigger the memory leak

Both Wine v1.1.8 and v1.1.9 rapidly leak memory whilst using Alt.binz to download certain Usenet articles  whereas v1.1.7 remains fine.

Using Wine 1.1.7 after 30 minutes downloading:
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
steve    18012 15.5  1.5 3722036 32804 ?       Sl   15:08   5:10 altbinz.exe

Using Wine 1.1.8 after 15 minutes downloading:
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
steve     1277 28.0 25.6 3723204 528200 ?      Rl   14:33   3:17 altbinz.exe
Nearly half a GiB has leaked already.  This seems to be proportional to the size of articles downloaded/decoded so far in this session.

Eventually Alt.binz will start to display various out-of-memory dialogues and cease responding.

Whether or not memory is leaked seems to be related to some property of the articles being downloaded  I believe it's only Yenc encoded articles that are affected.  To aid with reproducing this problem I've attached an .NZB file which will queue articles known to trigger the problem immediately in v1.1.8 but not at all in v1.1.7.",184,"0"
"WINE-20826","Images are mirrored horizontally when printing from Firefox","ISSUE:
Images are mirrored horizontally when printing from Firefox (and likely other apps) in WINE.  As a test I tried using CUPS-PDF to print the files and the same thing occurs.


DETAILS:
Ubuntu 9.04
Wine 1.1.29
HP PSC 1110 All-In-One 
Not sure if it's relevant to CUPS but HPLIP 3.9.10 is installed 


WORKAROUNDS:
None so far


NOTE:  The installation of WINE is clean and there are no other apps from which to print installed and test against.

NOTE:  This bug may be related to Bug #5629",949,"1"
"WINE-15882","while wine application is running fullscreen ekiga incoming call popup doesn't appare","I reported this bug to ekiga but they said me this is a wine bug..let me explain..and sorry for my bad english..

If i'm playing a normal linux game like ioquake3 fullscreen and someone calls
me in ekiga the incoming call popup is displayed correctly and i can quit my game and answer the call...
BUT
If i'm playing a windows game with wine like Soldat or worlds of goo or any fullscreen wine application and someone
calls me the incoming ekiga call popup isn't displayed at all and if i quit the game ekiga is still ringing without popup and i can't answer the call!!

so i can't use any wine application fullscreen and ekiga at the same time...",779,"0"
"WINE-44037","Bricscad v17 crashes on startup needs ADVAPI32.dll.PerfStartProviderEx","Created attachment 59703
console output

Bricscad v17.2.08 crashes on startup
Maybe this is due to a flaw in the ADVAPI32.dll component",6,"0"
"WINE-41638","Wordpad errors when compiling its resources on Windows","I tried to compile WINE Wordpad outside the source tree but I got some errors.
I fixed some of these error with this patch:

https://source.winehq.org/patches/data/127446

but there is one that I cannot understand very well.
Both Microsoft RC and WINDRES highlight an error here:

https://github.com/wine-mirror/wine/blob/master/programs/wordpad/wordpad.rc#L84

because the parameter after the text in a POPUP statement is not an identifier but the flags described in this page:

https://msdn.microsoft.com/en-us/library/windows/desktop/aa381030(v=vs.85).aspx

I have understood what the need is (grab the popup menu for the drop-down button in the toolbar) but this seems wrong to me.
So before providing anything on this I wrote this bug to understand what you would like to do because it is not very clear to me...

Sincerely.",5,"0"
"WINEHQ_BUGZILLA-272","wine20010510 is not a choice for submitting bugs.","wine20010510 is not a choice for submitting bugs via 
http://wine.codeweavers.com/bugs/enter_bug.cgi?product=Wine  0418 is the most 
recent version.",1,"0"
"WINE-25095","Battlefield Bad Company 2: crashes when loading level","Created attachment 31824
terminal output

May be a regression need to try against some earlier wines (different hardware than I used before).

Attaching terminal output.

This is with wine-1.3.6-335-gd5fa2ce and bug 22983 worked around bug setting DXVersion to 9.",1095,"1"
"WINE-18525","Adobe Reader 9.10 upgrade fails","Created attachment 21175
session output from wine 1.21 running Adobe Reader Installer 9.1 with resulting FDICopy failure

err:msi:msi_cabextract FDICopy failed

1- Adobe Reader 9.0 was installed on pre 1.21 version of wine.
2- Upgrade to Adobe Reader 9.1 fails with the above error message.
3- Adobe Reader 9.1 will not install.

Notes: Upgrade to Adobe Reader 9.1 was attempted because 9.0 will not print.  Adobe Reader indicates that no pages have been selected for printing even though that is not the case.  The print box shows all pages as selected. Additionally I tried to save to file this fails as well.",100,"0"
"WINE-2922","Unhandled Exception when starting F18.EXE","Im trying to play the game Jane's F/A-18 Simulator. It installs just fine when
wine is set to Win98. The installer claims to be unable to run the game on Win
NT 4 if the wine version is set to Win2k.
Im selecting wine-kernel because the first item on the backtrace that is not
from F18 is kernel32.
Whole blurb of the debugger follows:
----------------------------------------------------------
wine: Unhandled exception (thread 0009) starting debugger...
WineDbg starting on pid 0x8
Unhandled exception: page fault on read access to 0xc0428004 in 32-bit code
(0x0042d38c).
In 32 bit mode.
Register dump:
 CS:0073 SS:007b DS:007b ES:007b FS:003b GS:0033
 EIP:0042d38c ESP:77a9daa4 EBP:77a9daf0 EFLAGS:00010246(   - 00      -RIZP1)
 EAX:c0428000 EBX:00000001 ECX:77a9db18 EDX:00000001
 ESI:77b7a680 EDI:00400000
Stack dump:
0x77a9daa4:  00400000 77b7a680 77a9daf0 77a9dac4
0x77a9dab4:  00000001 00000001 77a9db18 00001010
0x77a9dac4:  00400000 77b7a680 00000001 00001010
0x77a9dad4:  00010073 00000000 800007ff 0001c042
0x77a9dae4:  00000000 00000002 00000938 77a9dbb4
0x77a9daf4:  0042d58f 00001010 77a9db18 00400000
Backtrace:
=>1 0x0042d38c in f18 (+0x2d38c) (0x77a9daf0)
  2 0x0042d58f in f18 (+0x2d58f) (0x77a9dbb4)
  3 0x00428274 in f18 (+0x28274) (0x77a9dc64)
  4 0x00426b9a in f18 (+0x26b9a) (0x77a9dc84)
  5 0x004257ee in f18 (+0x257ee) (0x77a9dcc8)
  6 0x00425052 in f18 (+0x25052) (0x77a9fd24)
  7 0x00424bc6 in f18 (+0x24bc6) (0x77a9fd7c)
  8 0x0042761a in f18 (+0x2761a) (0x77a9fdb4)
  9 0x00410a99 in f18 (+0x10a99) (0x77a9fe94)
  10 0x0041ace2  ?? +0x152 in f18 (0x77a9ff20)
  11 0x77b74c2a in kernel32 (+0x44c2a) (0x77a9fff4)
  12 0xb7fbee91  ?? +0x11 in libwine.so.1 (0x00000000)
0x0042d38c: movl        0x4(%eax)%esi
Modules:
Module  Address                 Debug info      Name (48 modules)
PE      0x00400000-0044b000     Export          f18
ELF     0x777af000-777c5000     Deferred        lz32
  \-PE  0x777c0000-777c5000     \               lz32
ELF     0x777c5000-777dd000     Deferred        version
  \-PE  0x777d0000-777dd000     \               version
ELF     0x777dd000-77813000     Deferred        advapi32
  \-PE  0x777f0000-77813000     \               advapi32
ELF     0x77813000-77892000     Deferred        gdi32
  \-PE  0x77830000-77892000     \               gdi32
ELF     0x77892000-779a0000     Deferred        user32
  \-PE  0x778b0000-779a0000     \               user32
ELF     0x77b03000-77c00000     Export          kernel32
  \-PE  0x77b30000-77c00000     \               kernel32
ELF     0x77d20000-77d2a000     Deferred        libnss_files.so.2
ELF     0x77d2a000-77d34000     Deferred        libnss_nis.so.2
ELF     0x77d34000-77d49000     Deferred        libnsl.so.1
ELF     0x77d49000-77d52000     Deferred        libnss_compat.so.2
ELF     0x77d68000-77d8b000     Deferred        libm.so.6
ELF     0x77d8b000-77e7e000     Deferred        libwine_unicode.so.1
ELF     0x77e94000-77f00000     Deferred        ntdll
  \-PE  0x77eb0000-77f00000     \               ntdll
ELF     0x77f00000-77f03000     Deferred        
ELF     0x7f5aa000-7f5b2000     Deferred        libxrender.so.1
ELF     0x7f5b2000-7f5bb000     Deferred        libxcursor.so.1.0.2
ELF     0x7f5d1000-7f5ec000     Deferred        imm32
  \-PE  0x7f5e0000-7f5ec000     \               imm32
ELF     0x7f5ec000-7f609000     Deferred        ximcp.so.2
ELF     0x7f609000-7f60b000     Deferred        xlcutf8load.so.2
ELF     0x7f60b000-7f60d000     Deferred        libnvidia-tls.so.1
ELF     0x7f60d000-7fcfe000     Deferred        libglcore.so.1
ELF     0x7fcfe000-7fd6c000     Deferred        libgl.so.1
ELF     0x7fd82000-7fe4c000     Deferred        libx11.so.6
ELF     0x7fe4c000-7fe5a000     Deferred        libxext.so.6
ELF     0x7fe5a000-7fe5f000     Deferred        libxxf86vm.so.1
ELF     0x7fe5f000-7fe65000     Deferred        libxxf86dga.so.1
ELF     0x7fe65000-7fe7c000     Deferred        libice.so.6
ELF     0x7fe7c000-7fe85000     Deferred        libsm.so.6
ELF     0x7fe9b000-7ff0b000     Deferred        x11drv
  \-PE  0x7feb0000-7ff0b000     \               x11drv
ELF     0x7ff0b000-7ff2b000     Deferred        libexpat.so.0
ELF     0x7ff2b000-7ff52000     Deferred        libfontconfig.so.1
ELF     0x7ff68000-7ff78000     Deferred        libz.so.1
ELF     0x7ff78000-7ffea000     Deferred        libfreetype.so.6
ELF     0xb7e8a000-b7e8e000     Deferred        libdl.so.2
ELF     0xb7e8e000-b7fa6000     Deferred        libc.so.6
ELF     0xb7fa6000-b7fb9000     Deferred        libpthread.so.0
ELF     0xb7fba000-b7fd3000     Export          libwine.so.1
ELF     0xb7fe9000-b8000000     Deferred        ld-linux.so.2
Threads:
process  tid      prio (all id:s are in hex)
00000008 (D) D:\FA-18\F18.EXE
        0000000a    0
        00000009    0 <==
WineDbg terminated on pid 0x8",1270,"1"
"WINE-26900","GetTabbedTextExtent() returns non-zero value when nCount == 0","Created attachment 34298
Patch to fix the issue

GetTabbedTextExtent() in wine is returning a non-zero value when 0 is passed in for nCount. Under Windows XP logically zero is returned in this case.",909,"1"
"WINE-11574","Picasa cannot upload to web albums","After upgrading from wine 0.9.54 to 0.9.55 Picasa can no longer upload to Picasa Web Albums. To reproduce select a picture in Picasa select the web albums button on the bottom and login.

Regression test says:

c132dd9360bdb40a45f7329a25324b10f8763091 is first bad commit
commit c132dd9360bdb40a45f7329a25324b10f8763091
Author: Hans Leidekker 
Date:   Fri Feb 1 14:40:42 2008 +0100

    wininet: Send HTTP/1.1 requests by default.",42,"0"
"WINE-2340","bug_report.pl failed to compile","When attempting to use bug_report.pl I received the following message:

Missing right curly or square bracket at ./bug_report.pl line 584 at end of line
syntax error at ./bug_report.pl line 584 at EOF
Execution of ./bug_report.pl aborted due to compilation errors.

I added a } at the EOF and ran it again.  Worked fine.

I have generated and tested a simple patch if someone would like to have it",91,"0"
"WINE-6411","wine crashes when starting Alien Shooter full version","It crashes before the initial window with resolution choice is displayed. Demo 
and trial versions are working.",269,"0"
"WINE-35035","HF pAppLoc (AppLocale) installer crashes due to unimplemented function apphelp.dll.ShimFlushCache","Hello folks

not really useful as of now because Wine doesn't support app shims yet.
Anyway the installer shouldn't crash )

Website: http://www.hongfire.com/forum/downloads.php?do=file&id=329

If download fails alternate: http://www.mediafire.com/download/1p195o818um85d7/HF+pAppLoc.exe

--- snip ---
wine: Call from 0x7b83a8ef to unimplemented function apphelp.dll.ShimFlushCache aborting
wine: Unimplemented function apphelp.dll.ShimFlushCache called at address 0x7b83a8ef (thread 003b) starting debugger...
--- snip ---

MSDN: http://msdn.microsoft.com/en-us/library/bb432482%28v=vs.85%29.aspx

--- snip ---
BOOL WINAPI ShimFlushCache(
  _In_opt_  HWND hwnd
  _In_opt_  HINSTANCE hInstance
  _In_opt_  LPCSTR lpszCmdLine
  _In_      int nCmdShow
)
--- snip ---

Make nice trace of parameters when you stub it ...

$ sha1sum HF\ pAppLoc.exe 
910d8b36fd11e6813dda7d03f1fea8b10105ab94  HF pAppLoc.exe

$ du -sh HF\ pAppLoc.exe 
1.6M	HF pAppLoc.exe

$ wine --version
wine-1.7.7-262-g30a3e9c

Regards",1,"0"
"WINE-17816","Crash on startup if an Hercules DJ Console Rmx is connected","Created attachment 20061
error

Wine fails to start if I have the following device connected (log file attached):
http://www.hercules.com/uk/DJ-Music/bdd/p/62/dj-console-rmx/

This device requires drivers (GPL) for the midi part to work under Linux:
http://ts.hercules.com/eng/index.php?pg=view_files&gid=2&fid=28&pid=215&cid=1

But the problem happens even if the drivers are not installed (then only the audio interface is functional).
it also happens when using Jack which makes me think that the controller part is the culprit...",646,"0"
"WINE-32491","dbghelp doesn't support DW_FORM_flag_present","Occurs under newer clang:

austin@debian-home:~/wine-tmp/dlls/dbghelp$ cat ~/log.txt | grep dbghelp | sort -u
fixme:dbghelp_dwarf:dwarf2_fill_attr Unhandled attribute form 19
fixme:dbghelp_dwarf:dwarf2_swallow_attribute Unhandled attribute form 19
austin@debian-home:~/wine-tmp/dlls/dbghelp$ grep -c dbghelp ~/log.txt 
18884",1315,"1"
"WINE-35809","Avoid deletion of precious (empty) folders such as '%USERPROFILE%\\Application Data' during MSI product upgrades/uninstalls","Hello folks

found this while investigating some issues with Aeria Game Launcher (https://www.aeriagames.com/playnow/ignite).

Aeria requires .NET Framework 3.5 installed.
After applying 'wintricks -q dotnet35' recipe to a fresh 32-bit WINEPREFIX the 'Aeria Ignite' installer silently fails.

The reason is that some folders such as '%USERPROFILE%\\Application Data' are completely missing and the installer fails to put some files below that.

Those folders are created during WINEPREFIX creation (wineboot).
Deletion afterwards won't let them get recreated (prefix update).

Further investigation reveals this happens during .NET Framework service pack recipe runs where products to be upgraded are uninstalled (expected by design).

Example: .NET Framework 2.0 -> .NET Framework 2.0 SP1

--- snip ---
...
0028:Call KERNEL32.CreateProcessW(000000000171b210 Lmsiexec /i {7131646D-CD3C-40F4-97B9-CD9E4E6262EF} REMOVE=ALL0000000000000000000000000000000000000000000000000033d0d80033d0c8) ret=7dac3509
...
008d:Call KERNEL32.__wine_kernel_init() ret=7bc5a3aa
0028:Ret  KERNEL32.CreateProcessW() retval=00000001 ret=7dac3509
...
008d:trace:msi:ACTION_PerformUIAction Performing action (LRemoveFiles) 
...
008d:trace:msi:ACTION_PerformUIAction Performing action (LRemoveFolders)
...

...
008d:trace:msi:ACTION_PerformUIAction Performing action (LCreateFolders) 
...
008d:trace:msi:ACTION_PerformUIAction Performing action (LInstallFiles)
...
008d:trace:msi:ACTION_PerformUIAction Performing action (LPublishProduct)
...
008d:trace:msi:ACTION_PerformUIAction Performing action (LInstallFinalize)
...
008d:Call msi.MsiConfigureProductExW(00139a96 L{7131646D-CD3C-40F4-97B9-CD9E4E6262EF}000000000000000500136340 L REMOVE=ALL) ret=7edefa60 
008d:Call KERNEL32.DeleteFileW(00159bd0 LC:\\windows\\Installer\\14bc.msi) ret=7ed19d6f
008d:Ret  KERNEL32.DeleteFileW() retval=00000001 ret=7ed19d6f
...
008d:Ret  msi.MsiConfigureProductExW() retval=00000000 ret=7edefa60
008d:Call KERNEL32.ExitProcess(00000000) ret=7edf0282
...
--- snip ---

I filtered only the successful deletions (= folder was empty):

--- snip ---
$ grep -B1 KERNEL32.RemoveDirectoryW() retval=00000001 log.txt
...
0028:Call KERNEL32.RemoveDirectoryW(0066d2e0 LC:\\users\\focht\\Temp\\testdir.dir) ret=3ab16b39
0028:Ret  KERNEL32.RemoveDirectoryW() retval=00000001 ret=3ab16b39
--
0028:Call KERNEL32.RemoveDirectoryW(00681970 LC:\\users\\focht\\Temp\\Microsoft .NET Framework 3.5) ret=3ab1709a
0028:Ret  KERNEL32.RemoveDirectoryW() retval=00000001 ret=3ab1709a
--
008d:Call KERNEL32.RemoveDirectoryW(0057e808 LC:\\users\\focht\\Application Data\\) ret=7ecfd3d8
008d:Ret  KERNEL32.RemoveDirectoryW() retval=00000001 ret=7ecfd3d8
--
008d:Call KERNEL32.RemoveDirectoryW(00176ee8 LC:\\users\\focht\\Start Menu\\Programs\\Administrative Tools\\) ret=7ecfd3d8
008d:Ret  KERNEL32.RemoveDirectoryW() retval=00000001 ret=7ecfd3d8
--
008d:Call KERNEL32.RemoveDirectoryW(005c70e8 LC:\\windows\\Microsoft.NET\\Framework\\v2.0.50727\\Microsoft .NET Framework 2.0\\) ret=7ecfd3d8
008d:Ret  KERNEL32.RemoveDirectoryW() retval=00000001 ret=7ecfd3d8
--
008d:Call KERNEL32.RemoveDirectoryW(005c5178 LC:\\users\\focht\\Local Settings\\Application Data\\) ret=7ecfd3d8
008d:Ret  KERNEL32.RemoveDirectoryW() retval=00000001 ret=7ecfd3d8
--
008d:Call KERNEL32.RemoveDirectoryW(005c4938 LC:\\windows\\PCHEALTH\\ERRORREP\\QHEADLES\\) ret=7ecbd63d
008d:Ret  KERNEL32.RemoveDirectoryW() retval=00000001 ret=7ecbd63d
008d:Call KERNEL32.RemoveDirectoryW(005c4b50 LC:\\windows\\PCHEALTH\\ERRORREP\\QSIGNOFF\\) ret=7ecbd63d
008d:Ret  KERNEL32.RemoveDirectoryW() retval=00000001 ret=7ecbd63d
008d:Call KERNEL32.RemoveDirectoryW(005c4ab0 LC:\\windows\\PCHEALTH\\ERRORREP\\) ret=7ecbd63d
008d:Ret  KERNEL32.RemoveDirectoryW() retval=00000001 ret=7ecbd63d
008d:Call KERNEL32.RemoveDirectoryW(005c42f8 LC:\\windows\\PCHEALTH\\) ret=7ecbd63d
008d:Ret  KERNEL32.RemoveDirectoryW() retval=00000001 ret=7ecbd63d
--
0028:Call KERNEL32.RemoveDirectoryW(0033de50 LC:\\users\\focht\\Temp\\IXP04D49.tmp) ret=3a1047e9
0028:Ret  KERNEL32.RemoveDirectoryW() retval=00000001 ret=3a1047e9
--- snip ---

Some folders are essential for many installers/apps.
Deletion will cause subtle problems on further software installations (the actual apps) or at run time.

Especially true for:

'%USERPROFILE%\\Application Data'
'%USERPROFILE%\\Local Settings\\Application Data'

Those are precious and need to be preserved.
On Windows this scenario never happens because there always exist dozen of subfolders below by default.

A quick fix would be the creation of (empty) subfolder below for example 'Microsoft' which is present on all Windows systems by default.
This prevents the deletion of the parent.

Another option is to fix bugs like bug 34910 which needs '%USERPROFILE%\\Application Data\\Microsoft\\Windows\\Themes\\' folder present which would automatically thwart the folder deletion attempt.

Regards",9,"0"
"WINE-467","starcraft don't work well for wine version >= 20011226","I have a slackware 8.0 with xfree 4.2.0  nvidia lastest driver  kernel 2.4.18 
and I have problems to start starcraft under wine for wine version >= 20011226.
The game seems to work in background because I can hear sounds and music but the
screen is black . It's seem to be a DirectX problem. (for WineX the problem is
the same :( ) .


MY CONFIG FILE :

WINE REGISTRY Version 2
 All keys relative to \\Machine\\Software\\Wine\\Wine\\Config

 If you think it is nescessary to show others your complete config for a 
 bug report filter out empty lines and comments with
 grep -v ^ ~/.wine/config | grep '.' 

 MS-DOS drives configuration

 Each section has the following format:
 [Drive X]
 Path=xxx       (Unix path for drive root)
 Type=xxx       (supported types are 'floppy' 'hd' 'cdrom' and 'network')
 Label=xxx      (drive label at most 11 characters)
 Serial=xxx     (serial number 8 characters hexadecimal number)
 Filesystem=xxx (supported types are 'msdos'/'dos'/'fat' 'win95'/'vfat'
'unix')
   This is the FS Wine is supposed to emulate on a certain
   directory structure.
   Recommended:
   - win95 for ext2fs VFAT and FAT32
   - msdos for FAT16 (ugly upgrading to VFAT driver strongly recommended)
   DON'T use unix unless you intend to port programs using Winelib !
 Device=/dev/xx (only if you want to allow raw device access)

[Drive A]
Path = /mnt/floppy
Type = floppy
Label = Floppy
Serial = 87654321
Device = /dev/floppy

[Drive C]
Path = /mnt/win
Type = hd
Label = MS-DOS
Filesystem = win95

[Drive D]
Path = /mnt/soft
Type = hd
Label = MS-DOS
Filesystem = win95

[Drive E]
Path = /mnt/cdrom
Type = cdrom
Label = CD-Rom
Filesystem = win95
 make sure that device is correct and has proper permissions !
Device = /dev/cdrom

[Drive F]
Path = /tmp
Type = hd
Label = Tmp Drive
Filesystem = win95

[Drive G]
Path = ${HOME}
Type = network
Label = Home
Filesystem = win95

[wine]
Windows = c:\\windows
System = c:\\windows\\system
Temp = f:\\
Path = c:\\windowsc:\\windows\\systemf:\\f:\\testg:\\
Profile = c:\\windows\\Profiles\\Administrator
GraphicsDriver = x11drv
 Wine doesn't pass directory symlinks to Windows programs by default.
 Enabling this may crash some programs that do recursive lookups of a whole
 subdir tree in case of a symlink pointing back to itself.
ShowDirSymlinks = 1
ShellLinker = wineshelllink

# 

 Be careful here wrong DllOverrides settings have the potential
 to pretty much kill your setup.
[DllOverrides]
commdlg      = builtin native
comdlg32     = builtin native
ver          = builtin native
version      = builtin native
shell        = builtin native
shell32      = builtin native
shfolder     = builtin native
shlwapi      = builtin native
lzexpand     = builtin native
lz32         = builtin native
comctl32     = builtin native
commctrl     = builtin native
advapi32     = builtin native
crtdll       = builtin native
mpr          = builtin native
winspool.drv = builtin native
ddraw        = builtin native
dinput       = builtin native
dsound       = builtin native
opengl32     = builtin native
msvcrt       = native builtin
rpcrt4       = native builtin
msvideo      = builtin native
msvfw32      = builtin native
mcicda.drv   = builtin native
mciseq.drv   = builtin native
mciwave.drv  = builtin native
mciavi.drv   = native builtin
mcianim.drv  = native builtin
msacm.drv    = builtin native
msacm        = builtin native
msacm32      = builtin native
midimap.drv  = builtin native
 default for all other dlls
* = native builtin so

[x11drv]
 Number of colors to allocate from the system palette
AllocSystemColors = 100
 Use a private color map
PrivateColorMap = N
 Favor correctness over speed in some graphics operations
PerfectGraphics = N
 Color depth to use on multi-depth screens
ScreenDepth = 16
 Name of X11 display to use
Display = :0.0
 Allow the window manager to manage created windows
Managed = N
 Use a desktop window of 640x480 for Wine
Desktop = 640x480
 Use XFree86 DGA extension if present
 (make sure /dev/mem is accessible by you !)
UseDGA = Y
 Use XShm extension if present
UseXShm = Y
 Use XVidMode extension if present
UseXVidMode = Y
 Enable DirectX mouse grab
DXGrab = N
 Create the desktop window with a double-buffered visual
 (useful to play OpenGL games)
DesktopDoubleBuffered = N
 Code page used for captions in managed mode
 0 means default ANSI code page (CP_ACP == 0)
TextCP = 0
 Use this if you have more than one port for video on your setup 
 (Wine uses for now the first 'input image' it finds).
 XVideoPort = 43
 Run in synchronous mode (useful for debugging X11 problems)
Synchronous = Y

[fonts]
Read documentation/fonts before adding aliases
See a couple of examples for russian users below
Resolution = 96
Default = -adobe-helvetica-
DefaultFixed = fixed
DefaultSerif = -adobe-times-
DefaultSansSerif = -adobe-helvetica-

 default TrueType fonts with russian koi8-r encoding
Default = -monotype-arial-*-*-*--*-*-*-*-*-*-koi8-r
DefaultFixed = -monotype-courier new-*-*-*--*-*-*-*-*-*-koi8-r
DefaultSerif = -monotype-times new roman-*-*-*--*-*-*-*-*-*-koi8-r
DefaultSansSerif = -monotype-arial-*-*-*--*-*-*-*-*-*-koi8-r
 default cyrillic bitmap X fonts
Default = -cronyx-helvetica-
DefaultFixed = fixed
DefaultSerif = -cronyx-times-
DefaultSansSerif = -cronyx-helvetica-

[serialports]
Com1 = /dev/ttyS0
Com2 = /dev/ttyS1
Com3 = /dev/ttyS2
Com4 = /dev/modem

[parallelports]
Lpt1 = /dev/lp0

[ppdev]
 key:  io-base of the emulated port
 value : parport-device{timeout}
 timeout for auto closing an open device ( not yet implemented)
378 = /dev/parport0
278 = /dev/parport1
3bc = /dev/parport2

[spooler]
FILE: = tmp.ps
LPT1: = |lpr
LPT2: = |gs -sDEVICE=bj200 -sOutputFile=/tmp/fred -q -
LPT3: = /dev/lp3

[ports]
read  = 0x7790x3790x280-0x2a0
write = 0x7790x3790x280-0x2a0

[spy]
Exclude = WM_SIZEWM_TIMER

[registry]
These are all booleans.  Y/y/T/t/1 are true N/n/F/f/0 are false.
Defaults are read all write to Home
 Global registries (stored in /etc)
LoadGlobalRegistryFiles = Y
 Home registries (stored in ~user/.wine/)
LoadHomeRegistryFiles = Y
 Load Windows registries from the Windows directory
LoadWindowsRegistryFiles = Y
 TRY to write all changes to home registries
WritetoHomeRegistryFiles = Y
 Registry periodic save timeout in seconds
 PeriodicSave = 600
 Save only modified keys
SaveOnlyUpdatedKeys = Y

[Tweak.Layout]
 supported styles are 'Win31'(default) 'Win95' 'Win98'
 this has *nothing* to do with the windows version Wine returns:
 use cmdline option --winver if you want that.
WineLook = Win98

[Console]
Drivers = tty
XtermProg = nxterm
InitialRows = 25
InitialColumns = 80
TerminalType = nxterm

[Clipboard]
ClearAllSelections = 0
PersistentSelection = 1

 List of all directories directly contain .AFM files
[afmdirs]
1 = /usr/share/ghostscript/fonts
2 = /usr/share/a2ps/afm
3 = /usr/share/enscript
4 = /usr/X11R6/lib/X11/fonts/Type1

[WinMM]
Drivers = wineoss.drv
WaveMapper = msacm.drv
MidiMapper = midimap.drv

#",321,"0"
"WINE-16752","winhlp32/hlp_file.c: comparison is always false due to limited range of data type","gcc -c -I. -I. -I../../include -I../../include   -D_REENTRANT -fPIC -Wall -pipe -fno-strict-aliasing -Wdeclaration-after-statement -Wwrite-strings -Wtype-limits -Wpointer-arith  -g -O2  -o hlpfile.o hlpfile.c
hlpfile.c: In function HLPFILE_RtfAddText:
hlpfile.c:646: warning: comparison is always false due to limited range of data type",1570,"1"
"WINE-35173","Loud audio distortion using wine 1.7.6 and up.","When running applications with wine version 1.7.6 to 1.7.8 I get some nasty loud sound distortion when certain sounds play. Its not constant but it is frequent.
Wine 1.7.5 is the last version without this bug. There is no relevant error message printed.

This is on FreeBSD so the sound driver used is wineoss.drv but I dont know if this is where the problem lies.",385,"0"
"WINE-31079","Fatal error during Stronghold Crusader Demo installation","Created attachment 40798
Console output of Stronghold Crusader Demo

Hi everyone

I would like to report that I had some issues installing Stronghold Crusader demo which I got from:

http://www.giga.de/spiele/stronghold-crusader/downloading/?id=2670&post_id=1188655

During the installation a fatal error comes up but installation continues as normal when I close the error window.

Thought I let you know. I have attached my console output. OS is CentOS 6.2

Another thing which could be of interest is that the demo link in the AppDB is pointing nowhere. 

Appdb entry is: http://appdb.winehq.org/objectManager.php?sClass=version&iId=3993

Regards


Maik",630,"0"
"WINE-28712","winhttp/notification.ok: invalid read in check_notification","First reported 
http://www.winehq.org/pipermail/wine-devel/2009-November/079718.html
but still happening today.

Here's the valgrind error I'm seeing now (with -O1):

Invalid read of size 4
   at check_notification (notification.c:85)
   by send_callback (session.c:57)
   by release_object (handle.c:81)
   by connect_destroy (session.c:261)
   by release_object (handle.c:85)
   by request_destroy (session.c:534)
   by release_object (handle.c:85)
   by task_thread (request.c:185)
   by worker_thread_proc (threadpool.c:114)
   by ??? (in dlls/ntdll/ntdll.dll.so)
   by call_thread_entry_point (signal_i386.c:2499)
   by start_thread (thread.c:405)
   by start_thread (pthread_create.c:304)
   by clone (clone.S:130)
 Address 0x7f22f854 is not stack'd malloc'd or (recently) free'd",925,"1"
"WINE-STAGING-43543","Wrong sounds in Within a Deep Forest","The sound effects in Within a Deep Forest seem to be broken. Specifically the wrong samples seem to be used.

For example selecting a ball material produces a metallic sound (instead of the loud twirp) and bouncing around with the initial ball material plays various hums and occasionally splashing noises.

Reproducible with WaDF version 1.1.4 and wine-staging 2.14 on a clean WINEPREFIX. Not reproducible with wine 2.14.",35,"0"
"WINE-35888","Stahlschlssel 2007 no CD in drive warning","Steps to reproduce:
1) remove ~/.wine
2) install Stahlschlssel 2007
3) wine yowindow.exe

Behaviour:
Program doesn't start because there is no CD in drive warning.

Expected behaviour:
Program should start.

Additional info:
After 'winetricks jet40 vb6run' program starts.",1,"0"
"WINE-12845","Mono 1.9.1 installer EULA is not rendered due to richedit regression","When running the Mono 1.9.1 installer with today's Git (wine-0.9.60-354-g4055751) the EULA text box is rendered blank. Regression testing showed the bad commit in question to be:

4f95cf707254653a3199caff3553fd0f732f23df is first bad commit
commit 4f95cf707254653a3199caff3553fd0f732f23df
Author: Alex Villacs Lasso 
Date:   Thu Apr 24 10:07:12 2008 -0500

    riched20: Reject RTF that is recognized as invalid.",2,"0"
"WINE-1818","err:shell:SHGetSpecialFolderPathA","Each time I try to install Microsoft Office 97 I get the following error messages:
err:shell:SHGetSpecialFolderPathA folder 0x00da unknown or not allowed
err:shell:SHGetSpecialFolderPathA folder 0x00dd unknown or not allowed
err:shell:SHGetSpecialFolderPathA folder 0x00b6 unknown or not allowed
err:shell:SHGetSpecialFolderPathA folder 0x00b9 unknown or not allowed
err:shell:SHGetSpecialFolderPathA folder 0x00da unknown or not allowed
err:shell:SHGetSpecialFolderPathA folder 0x00b6 unknown or not allowed",514,"0"
"WINE-31033","Multiple apps need IWbemServices::GetObject to retrieve WMI class instances","Hello

continuation of bug 20651

Multiple apps still fail to query for WMI classes/properties because IWbemServices::GetObject method is not implemented (they use a different method).

One app is bug 28682 (Ragnarok downloader)

Example .NET code:

--- snip ---
    ManagementClass class2 = new ManagementClass(Win32_Processor)
    foreach (ManagementObject obj2 in class2.GetInstances())
    {
        if (str == string.Empty)
        {
            str = obj2.Properties[ProcessorId].Value.ToString()
        }
    }
--- snip ---

MSDN: http://msdn.microsoft.com/en-us/library/windows/desktop/aa392109%28v=vs.85%29.aspx

Regards",2,"0"
"WINE-17864","ipstats.c:1427: warning: 'append_udp_row' defined but not used on FreeBSD/OS X","Not a huge deal but it's the only compiler warning on FreeBSD so pretty annoying.

AJ wouldn't accept an #ifdef linux or #ifndef FreeBSD so filing a bug so someone can implement it.",926,"1"
"WINE-6598","Nabit.exe fails to install","This installer behaves quite weird It asks to insert a disk but i tested the
installer on windows and there it just installs fine.

Furtermore the behaviour changes as well if i put a native msi.dll in system32.
(note: but I don't override msi to native). It then starts downloading installer
files but in the end it asks again for disks. Enough msi fun to keep someone
busy )",11,"0"
"WINE-8667","Number of subitems in treeview keeps increasing","Odd bug in Dev-C++ version 4.9.9.2 (Delphi app open-source).

Open or create a project with 1 or more files.

Now collapse the project treeview in the Project tab right-click the project
and go to Project Options click Ok to close the dialog that comes up and
the files in the project appear one additional time in the treeview. So the
first time you do this you could have

Project
|-A
|-B

The second time you do this you'd have:

Project
|-A
|-B
|-A
|-B

The effects are cumulative the third time:

Project
|-A
|-B
|-A
|-B
|-A
|-B

If you open the Project Options with the treeview expanded instead of
collapsed the items appear normally.

While I'm not a Delphi expert I do believe the bug is caused by this snippet of
code in project.pas (since the other places where the code is called from can
also be made to manifest the bug):

procedure TProject.RebuildNodes
var
  idx: integer
  oldPaths: TStrings
  tempnode: TTreeNode

begin
  MainForm.ProjectView.Items.BeginUpdate

  //remember if folder nodes were expanded or collapsed
  //create a list of expanded folder nodes
  oldPaths := TStringList.Create
  with MainForm.ProjectView do
    for idx := 0 to Items.Count -1 do
    begin
      tempnode := Items[idx]
      if tempnode.Expanded AND (tempnode.Data=Pointer(-1)) then
//data=pointer(-1) - it's folder
        oldPaths.Add(GetFolderPath(tempnode))
    end

  fNode.DeleteChildren

  CreateFolderNodes
{
  for idx:=0 to pred(fFolders.Count) do
    MakeNewFileNode(fFolders[idx] True).Data:=Pointer(-1)}
  for idx:= 0 to pred(fUnits.Count) do
   begin
     fUnits[idx].Node:= MakeNewFileNode(ExtractFileName(fUnits[idx].FileName)
False FolderNodeFromName(fUnits[idx].Folder))
     fUnits[idx].Node.Data:= pointer(idx)
   end
  for idx:=0 to pred(fFolders.Count) do
    TTreeNode(fFolderNodes[idx]).AlphaSort(False)
  Node.AlphaSort(False)

  //expand nodes expanded before recreating the project tree
  fNode.Collapse(True)
  with MainForm.ProjectView do
    for idx := 0 to Items.Count -1 do
    begin
      tempnode := Items[idx]
      if (tempnode.Data=Pointer(-1)) then //it's a folder
        if oldPaths.IndexOf(GetFolderPath(tempnode)) >= 0 then
          tempnode.Expand(False)
    end
  FreeAndNil(oldPaths)

  fNode.Expand(False)
  MainForm.ProjectView.Items.EndUpdate
end

A +treeview trace (attached next) is not very revealing to me. The interesting
part is between GetCount returning 2 and 3.",1954,"1"
"WINE-39035","The Forest: Game fallbacks to 64 MB VRAM","I'm noticing that The Forest seems not to detect the video memory size as it is giving me this output in the terminal:

IPC client is in my process could/should be using an in-process pipe.Direct3D:
    Version:  Direct3D 9.0c [nvd3dum.dll 8.18.13.4052]
    Renderer: NVIDIA GeForce GTX 650
    Vendor:   NVIDIA
    VRAM:     64 MB (via fallback)
    Caps:     Shader=30 DepthRT=1 NativeDepth=1 NativeShadow=1 DF16=0 INTZ=1 NULL=1 RESZ=1 SlowINTZ=0


My graphics card has 2 GiB of video memory and VideoMemorySize is also set to 2048.",144,"0"
"WINE-943","Regression in module loading","Bug comments restored from Gmane.org: 
 
A recent change in CVS caused Xnews () to crash on 
startup.  
I've traced it to the patch  
 
but I know next to  
nothing about this how this part of the code works. 
 
The crash happens on the following code in PE_InitTls loader/pe_image.c: 
  if ( wm->tlsindex == -1 ) { 
    LPDWORD xaddr 
    wm->tlsindex = TlsAlloc() 
    xaddr = _fixup_address(&(peh->OptionalHeader)delta 
      pdir->AddressOfIndex 
      ) 
=>  *xaddr=wm->tlsindex 
  } 
wm is the module Xnews.exe itself.  xaddr and wm are both reasonable addresses but 
the  
problem is that *xaddr was previously marked read-only using VIRTUAL_SetProt in  
map_image memory/virtual.c.  If I change it so that 
VPROT_WRITE|VPROT_WRITECOPY  
is always included again it fixes this crash but then the app dies soon after: 
 
Wine-dbg>bt  
Backtrace: 
=>0 0x38a2389c (_end+0x309d6174) (ebp=405c6e8c) 
  1 0x400ac108 (start_process+0x258 [process.c:526] in libntdll.dll.so) (ebp=405c6f38 
  2 0x400b00d7 (call_on_thread_stack+0x23(func=0x400abeb0) [sysdeps.c:105] in  
(libnt.dll.so) (ebp=405c6ff4) 
  3 0x400b0270 (SYSDEPS_CallOnStack+0x14 in libnt.dll.so) (ebp=00000000) 
Wine-dbg>up 
526        ExitThread( entry(NULL) ) 
Wine-dbg>p entry 
0x4045918c 
 
According to -debugmsg +module Xnews.exe was mapped to 
0x4036b000-0x404aa000 so I  
don't know where the 0x38... address came from.  Backing out the above patch fixes 
the  
problem completely.  Other apps don't seem to be affected and I don't know what's 
special  
about this one. 
 
 
------- Additional Comments From julliard  winehq.com  2002-08-06 18:55 ------- 
Should be fixed now. Thanks for the good report. 
 
 
------- Additional Comments From prupe  myrealbox.com  2002-08-06 20:47 ------- 
Fixed by Alexandre Julliard in memory/virtual.c 1.83 
 
 
------- Additional Comments From tony_lambregts  telusplanet.net 2003-03-26 
15:26 ------- 
Closing",2,"0"
"WINE-20672","GetDC change causes black screen in Seven Kingdoms","The following patch causes a black screen upon running Seven Kingdoms:
e1469961d42d0eb077d3fa0236de17b56bc51a56 is the first bad commit
commit e1469961d42d0eb077d3fa0236de17b56bc51a56
Author: Stefan Dsinger 
Date:   Sat Sep 5 16:37:19 2009 +0200

    wined3d: Test and fix ddraw and d3d9 GetDC differences.
   
    The MSDN is not totally correct: A8R8G8B8 and A1R5G5B5 also allow GetDC. The
    main differences that have to be filtered out in d3d9.dll are GetDC on
    A8B8G8R8 X8B8G8R8 and P8.

:040000 040000 50563852d85b047d42d3ff67801850c834b63244 e64032236cf06c87a6d12bf361cb94417db71efa M   dlls


Running the ddraw dsurface test seems to indicate that ddraw wants opengl enabled in the registry as the DirectDrawRenderer.  Then when enabling opengl a full-screen Seven Kingdoms draws the screen partially offscreen incorrectly.  When virtual desktop is enabled the game is visible correctly.

Also note Seven Kingdoms uses an 8-bit color depth.

It is expected that GDI mode should not produce a black screen.

Bug 20327 is similar but I question whether it is the same problem as it is a D3D game.",6,"0"
"WINEHQ_APPS_DATABASE-28032","Screenshot entry in user's Queued Items cannot display a submitted screenshot","When submitted a new screenshot it will appear in user's Queued Items.
When clicking Edit on an screenshot item user could see and edit it's description.
But the screenshot image itself is not displayed.
When opening browser to the image address (http://appdb.winehq.org/appimage.php?bQueued=true&iId=....)
will get an error Insufficient privileges..


This might be the issue only when it's an ordinary user (not a maintainer) that submitted the screenshot.",2141,"1"
"WINE-18641","Adobe Lightroom 2.3 crashes on unimplemented function gdiplus.dll.GdipCreateHICONFromBitmap","Created attachment 21346
wine-1.1.22-86-gbf353f1 console output

Adobe Lightroom 2.3 Demo causes an unhandled exception due to unimplemented function GdipCreateHICONFromBitmap following installation.

To use the trial the patch from Bug 14930 must be applied.
http://bugs.winehq.org/attachment.cgi?id=17777

The trial only shows the fault immediately after installation.  Subsequent times it exits silently (which is probably a different bug).
Someone with a full version will have to confirm if this occurs repeatedly for that.

With native gdiplus the trial does not show an unhandled exception and simply exits silently.",14,"0"
"WINE-29453","Some game installers don't finish properly (cancels installation due to error)","In some instalation versions msi installer gets an rare error and cancels the instalation. It happens to me with the game FEAR and other games of this generation.",248,"0"
"WINE-5803","Multiple LL hooks generate never ending loop of events","If we have two LL hooks in the system from the separate threads we will generate
never ending loop of events.
Attached is the sample program that demostrates the problem.

Here is the loop that starts from internal message that we generated in usr/hook.c:
LRESULT WINAPI CallNextHookEx( HHOOK hhook INT code WPARAM wparam LPARAM lparam )
{
...
        case WH_MOUSE_LL:
            MSG_SendInternalMessageTimeout( pid tid WM_WINE_MOUSE_LL_HOOK
wparam lparam
                                            SMTO_ABORTIFHUNG
get_ll_hook_timeout() 


And trying to process in user/message.c:
static LRESULT handle_internal_message( HWND hwnd UINT msg WPARAM wparam
LPARAM lparam )
{
...
    case WM_WINE_MOUSE_LL_HOOK:
        return HOOK_CallHooks( WH_MOUSE_LL HC_ACTION wparam lparam TRUE )

Which re-starts the hook chain.",79,"0"
"WINE-4067","Trainz 1.3 and TRS2004 cannot be run in OpenGL mode","Trainz 1.3 and TRS2004 both fail on startup with the same error when in OpenGL
mode. The error is thus:
X Error of failed request:  GLXUnsupportedPrivateRequest
  Major opcode of failed request:  143 (GLX)
  Minor opcode of failed request:  17 (X_GLXVendorPrivateWithReply)
  Serial number of failed request:  144
  Current serial number in output stream:  144

I have a Radeon 7000. Not really good I know however it worked fine in 0.9.2.
Simply uninstalling 0.9.3 and installing 0.9.2 makes it work fine.",595,"0"
"WINE-41206","Artemis 2.4.0 crashed upon start","When I run Artemis 2.4.0 (http://artemis.eochu.com/index.php/downloads/) then it crashes with the attached error messages. v2.3.0 worked fine.",164,"0"
"WINE-2615","Myst crashes with latest CVS","Myst (32 bit for windows 95)  crashs with the following back trace

First chance exception: page fault on write access to 0x00000800 in 32-bit code
(0x40102315).
In 32 bit mode.
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:0033 GS:0000
 EIP:40102315 ESP:40813a04 EBP:40813a80 EFLAGS:00210206(   - 00      - RIP1)
 EAX:00000800 EBX:401959d5 ECX:00000002 EDX:00000000
 ESI:408139ec EDI:77f01f62
Stack dump:
0x40813a04:  40502e08 780c9b78 40195ad0 40502e08
0x40813a14:  400a7a55 00000171 403715c0 4015e160
0x40813a24:  40813a30 77f025f1 40195ad0 401959d5
0x40813a34:  40502e08 4015ebe0 40195ad0 40502e08
0x40813a44:  40813a54 4047890a 402f0098 4015e160
0x40813a54:  40813a60 77f025f1 4015ebe0 40813a90
Backtrace:
=>1 0x40102315 open+0x75 in libc.so.6 (0x40813a80)
  2 0x4015e160 __start___libc_subfreeres+0x144 in libc.so.6 (0x40813ab0)
  3 0x40098634 _IO_fopen@@GLIBC_2+0x20 in libc.so.6 (0x40813ad0)
  4 0x4071d214 in libxcursor.so.1 (+0x6214) (0x40815b10)
0x40102315 open+0x75 in libc.so.6: movl %ecx0x0(%eax)
Wine-dbg>",923,"1"
"WINE-12259","CoWaitForMultipleHandles Unexpected wait termination","Created attachment 11709
full log with WINEDEBUG=+ole

I faced the bug while running beta version of 2gis-v3 ( http://plugins.2gis.ru/2gis_v3/ ) that is going to be released on 1st of April.
The program  installs ok but fails to run.

Log file has more then 30000 message like
err:ole:CoWaitForMultipleHandles Unexpected wait termination: -1 87
and it looks like the reason of failure.

I've not succeeded trying to use native WinXP dlls as I had no straight plan of dll-replacement.

Full log file with WINEDEBUG=+ole is attached.",472,"0"
"WINE-38955","Visual Studio Code installer crashes on startup (parsing of overly long string-format security descriptor causes stack corruption)","Hello folks

the installer passes an overly long string-format security descriptor which is greater than MAX_PATH.

--- snip ---
$ WINEDEBUG=+tid+seh+relay wine ./VSCodeSetup.exe >>log.txt 2>&1
...
0044:Call advapi32.ConvertStringSecurityDescriptorToSecurityDescriptorW(004237d0 LD:PAI(AFAS-1-5-80-956008885-3418522649-1831038044-1853292631-2271478464)(ACIIOGAS-1-5-80-956008885-3418522649-1831038044-1853292631-2271478464)(A0x1301bfSY)(AOICIIOGASY)(A0x1301bfBA)(AOICIIOGABA)(A0x1200a9BU)(AOICIIOGXGRBU)(AOICIIOGACO)(A0x1200a9AC)(A...000000010033d5a000000000) ret=004022d7
0044:trace:seh:raise_exception code=c0000005 flags=0 addr=0x7ea9690c ip=7ea9690c tid=0044
0044:trace:seh:raise_exception  info[0]=00000001
0044:trace:seh:raise_exception  info[1]=00d1d326
0044:trace:seh:raise_exception  eax=004f0049 ebx=0033d540 ecx=0033d480 edx=0033d294 esi=0033d584 edi=0033d550
0044:trace:seh:raise_exception  ebp=0033d4c8 esp=0033d260 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00010246 
...
Unhandled exception: page fault on write access to 0x003b0041 in 32-bit code (0x7ea99089).
...
Backtrace:
=>0 0x7ea99089 ParseStringSidToSid+0x3a4(StringSid=PAI(AFAS-1-5-80-956008885-3418522649-1831038044-1853292631-2271478464)(ACIIOGAS-1-5-80-956008885-3418522649-1831038044-1853292631-2271478464)(A0x1301bfSY)(AOICIIOGASY)(A0x1301bfBA)(AOICIIOGABA)(A0x1200a9BU)(AOICIIOGXGRBU)(AOICIIOGACO)(A0x1200a9AC)(AOICIIOGXGRAC)????? pSid=0x3b0041 cBytes=0x33d28c) [/home/focht/projects/wine/wine.repo/src/dlls/advapi32/security.c:5587] in advapi32 (0x0033d258)
  1 0x7ea969c7 ParseStringSecurityDescriptorToSecurityDescriptor+0x197(StringSecurityDescriptor= SecurityDescriptor=0x610030 cBytes=0x3b0039) [/home/focht/projects/wine/wine.repo/src/dlls/advapi32/security.c:4577] in advapi32 (0x0033d4c8)
  2 0x00310078 (0x0030003b)
0x7ea99089 ParseStringSidToSid+0x3a4 [/home/focht/projects/wine/wine.repo/src/dlls/advapi32/security.c:5587] in advapi32: movb	$0x10x0(%eax)
5587	        pisid->Revision = SDDL_REVISION
Modules:
Module	Address			Debug info	Name (66 modules)
PE	  400000- 3e07000	Deferred        vscodesetup
ELF	7b800000-7ba71000	Deferred        kernel32
  \-PE	7b820000-7ba71000	\               kernel32 
...
Threads:
process  tid      prio (all id:s are in hex) 
...
00000043 (D) Z:\home\focht\Downloads\VSCodeSetup.exe
	00000044    0 <== 
--- snip ---

Source: https://source.winehq.org/git/wine.git/blob/3e55f1d2cc673d55ee342ff168a335b321501ee0:/dlls/advapi32/security.c#l4508

--- snip ---
4508 static BOOL ParseStringSecurityDescriptorToSecurityDescriptor(
4509     LPCWSTR StringSecurityDescriptor
4510     SECURITY_DESCRIPTOR_RELATIVE* SecurityDescriptor
4511     LPDWORD cBytes)
4512 {
4513     BOOL bret = FALSE
4514     WCHAR toktype
4515     WCHAR tok[MAX_PATH]
4516     LPCWSTR lptoken
4517     LPBYTE lpNext = NULL
4518     DWORD len
4519 
4520     *cBytes = sizeof(SECURITY_DESCRIPTOR)
4521 
4522     if (SecurityDescriptor)
4523         lpNext = (LPBYTE)(SecurityDescriptor + 1)
...
--- snip ---

$  sha1sum VSCodeSetup.exe 
c971e8805aa21ef6483e04434cb819e524e682f0  VSCodeSetup.exe

$ du -sh VSCodeSetup.exe 
59M	VSCodeSetup.exe

$ wine --version
wine-1.7.47-162-g0f9a0aa

Regards",31,"0"
"WINE-8830","IM fails when edit box is a child window in a separate process","I have a program which requires for a edit box to be a child window running in a
separate process. I also need to be able to input CJK characters. If I have the
process running as a popup window (WS_POPUP | WS_VISIBLE) all is fine. But if I
have it as a child window (WS_CHILD) the input from XIM is not shown in the
text area. The log file shows that ImmGetCompositionString is always returning 0
even if I have some input in XIM. I am attaching a test program to demonstrate
the bug.",523,"0"
"WINE-5980","WMP9 can't play files with builtin mlang","Windows Media Player 9 can now be installed and run using these steps

* Install IE6 SP1
* Add a dll override so it uses native msxml3
* Run WMP9 Setup

However unless native mlang is used it does not play any files it just pops 
up a window saying an unknown error has occured.

See the AppDB page for download links
http://appdb.winehq.org/appview.php?iVersionId=1449",170,"0"
"WINE-23370","OpenBOR and many other application crashed.","OpenBOR an application that has worked consistantly since Wine 0.9.40 crashes with this error:

wine: Unhandled page fault on write access to 0x0043649d at address 0x7ef8451e (thread 0009) starting debugger...
err:seh:raise_exception Unhandled exception code c0000005 flags 0 addr 0x7ef8451e


This is the only error I get from it.",1703,"1"
"WINE-22536","Office 2010 installation crashed","Office 2010 Professional Plus beta and final can not be installed.",144,"0"
"WINE-20170","Gruntz: Slow down a lot when displaying text","Gameplay slows down a lot when text is displayed in game window. I mean white text with information in top left corner or text when writing cheats. Displaying text in game guides is OK same as text in classic Windows dialogs.

Steps to reproduce:
For white text in top lef corner:
1. start playing the game (SINGLEPLAYER > QUICKSTART)
2. click the mouse button twice to actually start playing the game
3. hit F5 to quicksave the game
4. set a name of the game and click on Save
5. OK all the dialogs
6. F5 again
5. the white text appears in top left corner game slows down until text disappears
(This may not work in the demo.)

For writing a cheat:
1. start playing the game (SINGLEPLAYER > QUICKSTART)
2. click the mouse button twice to actually start playing the game
3. hit Enter and write something
4. game slows down
5. hit Enter again
6. game is OK again

It is not playable during the time game is slowed down. Also I know two things:
1. Neither CPU or Memory usage goes up during the slow down.
2. There are no errors or text in the terminal during the slow down.

Demo link: http://download.cnet.com/Gruntz-demo/3000-7562_4-10026065.html

PS Sorry but I didn't test this in any earlier version of Wine so it is possible this is happening since ever...",1015,"1"
"WINE-31018","OpenGL OBJ Viewer Demo crashes when opening an object (msvcp100)","Created attachment 40713
WINEDEBUG=relaysehtidmsvcp90 wine GLObjViewer.exe Content/Models/cube.obj >> ~/log.txt 2>&1

Next after bug 24144. The app will crash in current wine but winetricks vcrun2010 works around it. There is no stub listed in the backtrace.

austin@aw25 ~ $ du -h GLObjViewer.zip 
288K	GLObjViewer.zip
austin@aw25 ~ $ sha1sum GLObjViewer.zip 
03a0eb2f2d4df0e50c0a4ef71b6c72b3b222a962  GLObjViewer.zip

To reproduce download extract and run:
wine GLObjViewer.exe Content/Models/cube.obj

if you only set msvcp100 to native and leave msvcr100 as builtin the app won't crash but the texture doesn't render. That's a separate issue and I don't really want to file a bug with mixed native/builtin components.",53,"0"
"WINE-4264","Multiple apps refuse to install complain about registry security (The 4th coming Google Pack Installer expect a non-null DACL)","i'm trying to run the 4th coming an old windows mmorpg and i get these errors
(sometimes i get more errors but playing with configuration and following a few
hints ppl in the irc chat gave i could remove some errors these are the ones i
get everytime):

WINEDLLOVERRIDES=ole32oleaut32rpcrt4=n wine t4c.exe

 fixme:ddraw:Main_DirectDraw_SetCooperativeLevel (0x7cb401f8)->(0x1002200000011)
fixme:ddrawIB_DirectDrawSurface_Blt Can't handle DDBLT_WAIT flag right now.
fixme:dinput:IDirectInputAImpl_GetDeviceStatus
(0x7cb460d8)->({6f1d2b61-d5a0-11cf-bfc7-444553540000}): stub
err:ntdll:RtlpWaitForCriticalSection section 0x8a0300 ? wait timed out in
thread 000e blocked by 0017 retrying (60 sec)


for readability i deleted the lines that came several times.  the very first
line is the command i run to launch the game.  the last err comes many more
times until the game crashes.
the game actually runs for a few seconds and then crash it seems like keyboard
input makes it crash faster ..  and the mouse doesn't work at all 
in attachment i put the result of WINEDEBUG=+tid+seh+relay
WINEDLLOVERRIDES=ole32oleaut32rpcrt4=n wine t4c.exe && grep -A 20 -B 300
seh: /tmp/relay.log > /tmp/relay.txt (as suggested by someone on the winehq
irc chat)

thank you very much for your help i hope it can be fixed for wine 1.0.0 =)

(i've put some more informations on the the 4th coming entry in the database
just in case)",3038,"1"
"WINE-27348","_snprintf overflows specified bounds","Created attachment 34972
A simple program which crashes Wine but works on Windows.

The Wine MSVCRT _snprintf implementation is wrong the simple test program to be attached shortly is correct according to the docs from Microsoft and works fine on Windows but under Wine (checked out recently from git) it crashes due to heap corruption.",6,"0"
"WINE-874","Unixisms and Wineism in shell32.dll","Bug comments restored from Gmane.org: 
 
shell32.dll: shelllink.c the function IPersistFile_fnSave seems to convert the 
paths back and forth from windows to unix. In doing this the code calls a few 
unix and wine functions that are not present on Windows. 
 
shelllink.o(.text+0x43f6):shelllink.c: undefined reference to `fork' 
shelllink.o(.text+0x46ec):shelllink.c: undefined reference to `waitpid' 
shelllink.o(.text+0x732f):shelllink.c: undefined reference to `wine_get_unix_fil 
e_name@12' 
 
 
------- Additional Comments From apa3a  yahoo.com  2002-08-07 12:23 ------- 
Forwarding the bug to the developer responsible for shell.",344,"0"
"WINE-24208","Eclipse (Europa) - html-based Welcome window is blank","With current Wine and winegecko 1.1.0 Welcome window shows empty without any web content.

A significant (probably) part of a log:

---
err:ole:apartment_getclassobject DllGetClassObject returned error 0x80004002
err:ole:CoGetClassObject no class object {8856f961-340a-11d0-a96b-00c04fd705a2} could be created for context 0x3
---

This is a CLSID_WebBrowser identifier.",1913,"1"
"WINE-4803","Steam: not all lnk files are processed into linux shortcuts","Here are the logs interestingly though in Steam if you right click on an app
and then make a shortcut it makes both a lnk file and a standard linux shortcut:

ryanbach@linux:~/Desktop> wine SteamInstall.exe
fixme:advapi:GetFileSecurityW (LC:\\windows\\temp\\GLFf976.tmp) : returns fake
SECURITY_DESCRIPTOR
fixme:advapi:GetFileSecurityW (LC:\\windows\\temp\\GLFf97c.tmp) : returns fake
SECURITY_DESCRIPTOR
fixme:richedit:RichEditANSIWndProc WM_SETFONT: stub
fixme:richedit:RichEditANSIWndProc WM_SETFONT: stub
fixme:richedit:RichEditANSIWndProc EM_LIMITTEXT: stub
fixme:advapi:GetFileSecurityW (LC:\\Program Files\\Steam\\UNWISE.EXE) :
returns fake SECURITY_DESCRIPTOR
fixme:advapi:GetFileSecurityW (LC:\\Program
Files\\Steam\\steam_install_agreement.rtf) : returns fake SECURITY_DESCRIPTOR
fixme:advapi:GetFileSecurityW (LC:\\Program
Files\\Steam\\Public\\steam_tray.ico) : returns fake SECURITY_DESCRIPTOR
fixme:advapi:GetFileSecurityW (LC:\\Program Files\\Steam\\Steam.exe) : returns
fake SECURITY_DESCRIPTOR
fixme:shell:IShellLinkA_fnGetPath (0x403e0488): WIN32_FIND_DATA is not yet filled.
err:menubuilder:extract_icon32 LoadLibraryExW
(LC:\\PROG~FBU\\Steam\\\C:\\Program Files\\Steam\\steam.exe\) failed error 126
err:menubuilder:InvokeShellLinker failed to fork and exec wineshelllink
fixme:shell:IShellLinkA_fnGetPath (0x403f57a8): WIN32_FIND_DATA is not yet filled.
err:menubuilder:extract_icon32 LoadLibraryExW
(LC:\\PROG~FBU\\Steam\\http:\\www.steampowered.com\\index.php?area=subscriber_agreement)
failed error 126
err:menubuilder:InvokeShellLinker failed to fork and exec wineshelllink
fixme:shell:IShellLinkA_fnGetPath (0x403e5308): WIN32_FIND_DATA is not yet filled.
err:menubuilder:extract_icon32 LoadLibraryExW
(LC:\\PROG~FBU\\Steam\\\C:\\Program Files\\Steam\\unwise.exe\) failed error 126
err:menubuilder:InvokeShellLinker failed to fork and exec wineshelllink
fixme:shell:IShellLinkA_fnGetPath (0x403e5308): WIN32_FIND_DATA is not yet filled.
err:menubuilder:extract_icon32 LoadLibraryExW
(LC:\\PROG~FBU\\Steam\\\C:\\Program Files\\Steam\\steam.exe\) failed error 126
err:menubuilder:InvokeShellLinker failed to fork and exec wineshelllink
ryanbach@linux:~/Desktop> err:ole:CoGetClassObject class
{4955dd33-b159-11d0-8fcf-00aa006bcc59} not registered
err:ole:CoGetClassObject no class object {4955dd33-b159-11d0-8fcf-00aa006bcc59}
could be created for for context 0x1
fixme:ole:CoCreateInstance no classfactory created for CLSID
{4955dd33-b159-11d0-8fcf-00aa006bcc59} hres is 0x80040154
fixme:process:SetProcessWorkingSetSize (0xffffffff-1-1): stub - harmless
fixme:process:SetProcessWorkingSetSize (0xffffffff-1-1): stub - harmless
Shutting down. . .",743,"0"
"WINE-875","Wine does not close socket","Bug comments restored from Gmane.org: 
 
------- Additional Comments From jakob  vmlinux.org  2002-07-11 20:57 ------- 
assigning to owner of wine-net 
 
 
------- Additional Comments From jakob  vmlinux.org  2002-07-11 20:58 ------- 
and this actually makes my application not work so changed severity  
to blocker. 
 
 
------- Additional Comments From apa3a  yahoo.com  2002-07-12 11:35 ------- 
Jackob sorry the blocker is for cases when you can't use Wine at all. 
I'm changing severity back despite the bug is serious for you personally. 
Could you attach the test case to the bug? 
Anyway thank you for the reminder. 
 
Forwarding the bug to Martin. 
Martin could you look at this bug? 
It has a good test case.",56,"0"
"WINE-33122","TESV: Skyrim graphics error in Wine 1.5.25","Created attachment 43802
Screenshot

Turning around ingame at some point of lighting you see dark rectangle zones on the screen. This problem was not visible in Wine 1.5.24 it happens since Wine 1.5.25.",53,"0"
"WINE-33639","wine cmd wrong assignment while using set var=value and have spaces after","Wine cmd wrongly assign space chars into variable name when using `set var=value` form. Spaces after `value` must not appear in `var`.

This is important thing because when variable will be inserted into conditional expression it may failed (I keep ^M char to see spaces). For example this lines is failed under wine cmd but works under winxp:
----
set var=value ^M
if x%var%==xvalue (echo ok) else (echo fail)^M
----


some test (I keep ^M char to see spaces):

-- start of test.cmd: --

@echo off^M
set var=value ^M
:: space symbol must appear in `var`^M
echo %var%^M
^M
set var=value ^M
:: space symbol must NOT appear in `var`^M
echo %var%^M
^M
-- end of test.cmd: --

start under winxp:

----
>test.cmd
value 
value
----


start under wine cmd:

----
>test.cmd
value 
value 
----",14,"0"
"WINE-19669","Sonic Mega Collection Plus quits just after the launcher","Sonic Mega Collection Plus uses a launcher to start the game the launcher works perfectly but when you click Play Game a window opens then the game exits with the following output:

err:seh:raise_exception Unhandled exception code c0000005 flags 0 addr 0x41c777
fixme:advapi:RegisterEventSourceA ((null) ): stub
fixme:advapi:RegisterEventSourceW (LL ): stub
fixme:advapi:ReportEventA (0xcafe42420x00010x00000x00000000(nil)0x00010x000000600x73e3f80x75977a): stub
fixme:advapi:ReportEventW (0xcafe42420x00010x00000x00000000(nil)0x00010x000000600x12d1080x75977a): stub
err:eventlog:ReportEventW L6
fixme:advapi:DeregisterEventSource (0xcafe4242) stub
fixme:advapi:RegisterEventSourceA ((null) ): stub
fixme:advapi:RegisterEventSourceW (LL ): stub
fixme:advapi:ReportEventA (0xcafe42420x00010x00000x00000000(nil)0x00010x000002cc0x73e3f80x75b09a): stub
fixme:advapi:ReportEventW (0xcafe42420x00010x00000x00000000(nil)0x00010x000002cc0x12d1080x75b09a): stub
err:eventlog:ReportEventW L7

I've attached a relay log",467,"0"
"WINE-14465","NdrClientCall2 is unaware of comm_status and fault_status variables","Created attachment 14783
Test project (VS2005) of a simple RPC client/server to repro the problem

Rpc clients that specify variables or the return value as a comm_status or fault_status variable normally do not guard their RPC call with a SEH try-except clause. After all using comm_status or fault_status variables is usually done because with these variables  SEH try-except can be omitted as any exception from the client side or server side part of the call is transformed into an error value that is assigned to the comm or fault status variable. However the current implementation of NdrClientCall2 unconditionally raises exceptions which an RPC client using comm_status and fault_status variables is not prepared or expected to handle. As a result such RPC clients crash immediately if any error occurs during the course of an RPC call. Find attached a VS2005 project of a simple RPC client and server that can call a variety of RPCs with different comm and fault status behaviour on client and server side that can be used to reproduce the problem. Start the server using 

rpcsrv.exe portnumber

Start the client interactively and choose the RPC variant of choice.",510,"0"
"WINE-3272","WinZip 10/11: Folder pane unusable","Winzip has some minor visual glitches but one of these problems avoids the
usage of the folder pane on the left side of the application.

This is with Wine 20050725 until CVS-20050801 at least",655,"0"
"WINE-25898","World of Tanks: Menu buttons disappear","Created attachment 33006
Console output

When using WOTLauncher.exe menu buttons disappear and when the mouse is located over them there is this error in the console:

err:tooltips:TOOLTIPS_WindowProc unknown msg 2007 wp=00000005 lp=00000000

Applications affected: World of Tanks",714,"0"
"WINE-9894","CRLF and ^Z handling bad in fread causes xilinx modelsim mxe III startup to fail","In
http://www.winehq.org/pipermail/wine-users/2007-September/027833.html and
http://www.winehq.org/pipermail/wine-users/2007-October/027855.html
a user reports that Xilinx Modelsim MXE III dies on
startup with an apparant flexlm problem but it really
turns out to be a bug in our msvcrt's fread's crlf and control-Z handling
and the app starts ok with native msvcrt.

There was an earlier patch that tried to solve some of this stuff
http://www.winehq.org/pipermail/wine-devel/2006-August/050055.html
but it didn't have a conformance test and was not correct.

Here's a patch that solves the modelsim problem comes
with a conformance test and is mostly correct.  (It
doesn't handle CR LF's that span buffers but that's
hard and this app doesn't happen to require that.)",34,"0"
"WINE-41033","Unimplemented function api-ms-win-crt-runtime-l1-1-0.dll.set_terminate need by Battle.net","Created attachment 55206
Error

Now this bug: https://bugs.winehq.org/show_bug.cgi?id=40905 has been resolved I built a custom version with the patch to resolve it. But now when I launched Battle.net I got a new error.",2,"0"
"WINE-10513","The I of the Dragon: Access violation","Created attachment 9259
The error.log the game produced

The game bails out before even starting with a small Access violation: error.log updated alert box. I tried with the full version. With Wine 0.9.43 it gave an error relating to Dinput i tried the native DirectX9 dinput.dll & dinput8.dll's for it but it did not help. Sorry i can not download the demo for which i provided the link my network is not fast enough but this is most probably a game engine related crash so it should also produce this.

Game demo can be downloaded here:
http://www.gamershell.com/download_5386.shtml",369,"0"
"WINE-28793","Kindle for PC needs msvcp90.dll.??0?$basic_ifstream@DU?$char_traits@D@std@@@std@@QAE@PB_WHH@Z","Next bug after 28773.",243,"0"
"WINE-10661","regedit imports wrong binary data from .reg files (affects FAR Manager) fix proposed","regedit requires that a continuation line starts with exactly two spaces.
If the number of spaces is not 2 it imports wrong binary data.

This bug affects the FAR Manager namely its encoding tables (localization).
(some texts in Russian cannot be read I think the same problem exists 
for other European languages)

http://source.winehq.org/source/programs/regedit/regproc.c reads (line 570):

570                 if ((c = fgetc (in)) == EOF || c != ' ' ||
571                         (c = fgetc (in)) == EOF || c != ' ')
572                     fprintf(stderr%s: ERROR - invalid continuation.\n
573                             getAppName())


It should be:

do { c=fgetc(in) } while(c==' '||c=='\t')
if(c==EOF){fprintf(stderr%s: ERROR - invalid continuation.\n getAppName())}
ungetc(cin)",269,"0"
"WINE-18585","Evil Genius crashes with page fault in d3d9","Created attachment 21258
Faillog

The game crashes when moving the camera with error: wine: Unhandled page fault on read access to 0x00000000 at address 0x7e460813. When the debugger printed debugging info the sound continues the application still stay in black screen.
This error was received on Debian/sid + wine 1.1.20 Radeon 9600 also on the Slackware 12.2 + wine 1.1.21/1.1.22 Intel 82G33/G31",295,"0"
"WINE-34820","Path of Exile fails to start in windowed mode (crashes on resize)","Path of Exile crashes on mac when resizing (does not matter if it is via in-game menu or dragging the window's  corner) with Failed resetting Direct3D device objects popup and fixme:d3d_texture:texture_init Failed to create surface 0x2be113c0 hr 0x8876086c

(happens with and without winemac driver)",534,"0"
"WINE-23473","Windows Live Essentials wave 4 beta installer won't start - wer.dll and rstrtmgr.dll not found","The beta for the next version of Windows Live Essentials is available. Unfortunately the OS requirement has been bumped to Vista SP2 with the platform update for this version. In Wine the installer fails to start due to some missing DLLs:

err:module:import_dll Library wer.dll (which is needed by LC:\\wlsetup-webc.exe) not found
err:module:import_dll Library RstrtMgr.DLL (which is needed by LC:\\wlsetup-webc.exe) not found
err:module:LdrInitializeThunk Main exe initialization for LC:\\wlsetup-webc.exe failed status c0000135",62,"0"
"WINE-27795","Half-Life 2 hangs with a black screen on launch","Created attachment 35557
terminal output

In the current git version Half-Life 2 (Steam) becomes unresponsive right after starting. The screen shows only black (when the Valve company logo/animation should appear).
If I wait for about 1 minute the game will eventually crash.

Half-Life 2 started correctly in 1.3.24 and regression testing resulted:

be158e48ad8ee556941bd3f1ff94ca7116680d00 is the first bad commit
commit be158e48ad8ee556941bd3f1ff94ca7116680d00
Author: Andrew Eikum 
Date:   Mon Jul 11 08:28:30 2011 -0500

    winmm: Implement waveOut* on top of MMDevAPI.

:040000 040000 428f760df6efda7a37b4a84f97721523ab72863f 2b94a3c0b7a42f4f83b037adc317d17565c1f7a9 M	dlls

git checkout be158e48ad8ee556941bd3f1ff94ca7116680d00  >> the game freezes on startup
git reset --hard HEAD^  >> the game starts but without audio

Disabling mmdevapi works around the freezing issue but the game runs without audio.

Author of the patch added to CC.

wine-1.3.24-137-gc41a300
Fedora 15 32-bit
Alsa 1.0.24 (no Pulseaudio)
nVidia Corporation MCP61 High Definition Audio (rev a2)",3,"0"
"WINE-41015","comctl32/treeview: Alt-Up/Down keyboard shortcuts don't work","In native Windows you can change the selected item in a treeview control by pressing Alt-Up or Alt-Down to move the highlight to the previous or next item.

That feature doesn't seem to be implemented in the Wine tree-view control.

I noticed this issue in WinUAE but probably any program which uses the comctl32 treeview control will show the problem. For instructions to reproduce see bug 41010 description.",1,"0"
"WINE-22535","King's Bounty Armored Princess graphics glitches","Hi

This game shows some graphics glitches on some scenarios and on the main menu since wine 1.1.38 todays git still shows this bug.

Wine 1.1.37 was ok.

The regression test shows:

224043d6cf8b56e9ff2537358646700211d54d1f is the first bad commit
commit 224043d6cf8b56e9ff2537358646700211d54d1f
Author: Stefan Dsinger 
Date:   Thu Jan 28 20:51:06 2010 +0100

    wined3d: Implement dynamic buffers with GL_ARB_map_buffer_range.

:040000 040000 1f55d5e837f1d9a7d2b4611f2de3e02dbcd8fafe c189de355870e1812adce96432f42a16967e2b2c M      dlls

Trying to revert this patch on the current git shows 3 chunks failed so i couldn't try to revert it.",10,"0"
"WINE-17644","urlmon/protocol tests fail massively on OpenSolaris","Regression caused by:
austin@opensolaris:~/wine-git$ git bisect bad
aa1d032271494aa9ae0e5fdd43661f9c9036fd38 is first bad commit
commit aa1d032271494aa9ae0e5fdd43661f9c9036fd38
Author: Jacek Caban 
Date:   Wed Mar 4 19:06:06 2009 +0100

    urlmon: Added ftp protocol tests.

:040000 040000 d26c7edfe25a9aac69a218950be85d59abe5b825 f760c606247e02a03964495c7323ed2cd9931963 M	dlls

Now urlmon fails massively looping here:
protocol.c:1775: Testing ftp protocol...
protocol.c:1814: Test marked todo: unexpected GetBindString_USER_AGENT
protocol.c:379: Test marked todo: expected ReportProgress_SENDINGREQUEST
protocol.c:355: Test failed: unexpected call Switch
protocol.c:355: Test failed: unexpected call Switch
protocol.c:355: Test failed: unexpected call Switch
protocol.c:355: Test failed: unexpected call Switch
protocol.c:355: Test failed: unexpected call Switch
protocol.c:355: Test failed: unexpected call Switch
protocol.c:1831: Test failed: expected Switch
protocol.c:355: Test failed: unexpected call Switch
protocol.c:355: Test failed: unexpected call Switch
protocol.c:355: Test failed: unexpected call Switch
protocol.c:355: Test failed: unexpected call Switch
protocol.c:355: Test failed: unexpected call Switch
protocol.c:355: Test failed: unexpected call Switch

Marking as major since it then blocks winetest from running the rest of the tests.",24,"0"
"WINE-20070","Wine applications can't set an gamma value","While testing for regressions in The Sims 3 I noticed that the screen is darker than usual. It seems like X_XF86VidModeSetGamma and X_XF86VidModeSetGammaRamp are not defined anymore. They get defined in X11/extensions/xf86vmproto.h on my system including it in dlls/winex11.drv/xvidmode.c enables The Sims 3 and other games to set a gamma value again.
I don't know exactly why it doesn't get defined anymore. Maybe some restructuring in xf86vidmodeproto? Or maybe a bug in my distribution?

Running an up-to-date Arch Linux x86_64 installation here latest Wine from GIT.",6,"0"
"WINE-1194","Recording from soundcard!","Bug comments restored from Gmane.org:

I put some test code on sourceforge.net (voixwin-snd) for recording and playing
wav file.
ply.exe work in win98 and in wine but rec.exe don't.
I start with 'wine rec test.wav' and when put time for record it exit.
In win98 recording is OK!


------- Additional Comments From branko.jermanis  hi.hinet.hr  2002-12-15
14:26 -------
Created an attachment (id=360)
Recording and playing  for windows (new source)


------- Additional Comments From branko.jermanis  hi.hinet.hr  2002-12-18
13:07 -------
I try with KNOPPIX CD and it recording with wine but time control
don't stop.
Mandrake 8.2 can't record (on the same computer) only play.
I'm new in wine and I can't understand...
Good work!",1849,"1"
"WINE-38661","64-bit .NET CLR/managed executables can't be run by Wine loader (entry point not set to mscoree.dll _CorExeMain/_CorDllMain)(Demoscene 'Coronoid' Rust SIGMA Photo Pro 6)","Hello folks

this has been reported in Wine-Staging first shamelessly cloning it here for discussion and raise awareness of this insufficiency in Wine loader.

https://bugs.wine-staging.com/show_bug.cgi?id=190

Requires 64-bit WINEPREFIX as the main .NET executable is 64-bit.

--- snip ---
$ wine ./still\ -\ coronoid.exe 
err:process:start_process LZ:\\home\\focht\\Downloads\\still - coronoid\\still - coronoid.exe doesn't have an entry point it cannot be executed
--- snip ---

--- snip ---
$ file *.{dllexe}
Core.dll:             PE32 executable (DLL) (console) Intel 80386 Mono/.Net assembly for MS Windows
still - coronoid.exe: PE32+ executable (GUI) x86-64 Mono/.Net assembly for MS Windows
--- snip ---

The patch by Michael:

https://github.com/wine-compholio/wine-staging/tree/master/patches/ntdll-CLI_Images (Implement proper handling of CLI .NET images in Wine library loader)

For Wine-Mono bits ('mscoree._CorValidateImage') I'll create an extra ticket.

$ sha1sum still---coronoid.zip 
3ab7239a42be3135fff996a77b6f4e3b34c73295  still---coronoid.zip

$ du -sh still---coronoid.zip 
56M	still---coronoid.zip

$ wine --version
wine-1.7.44

Regards",997,"1"
"WINE-29615","Inpage Urdu 2000 crashes on startup","I have installed an application and there is no error during installation. 

On run time it gives message: 
Quote:
Could not install 160 fonts. First Uninstalled font is 1. Please reinstall the fonts 
from the setup disks.


After ignoring above message I goto open a window made file and it says that encountered a serious error. needs to close down.",761,"0"
"WINE-36659","valgrind shows a definite leak in ddraw/tests/d3d.c:CapsTest()","==9737== 160 bytes in 1 blocks are definitely lost in loss record 1563 of 2082
==9737==    at 0x7BC4C6EB: notify_alloc (heap.c:255)
==9737==    by 0x7BC50F2F: RtlAllocateHeap (heap.c:1716)
==9737==    by 0x4DF6181: DDRAW_Create (main.c:267)
==9737==    by 0x4DF6403: DirectDrawCreate (main.c:309)
==9737==    by 0x4CA7528: CapsTest (d3d.c:810)
==9737==    by 0x4CB7D2D: func_d3d (d3d.c:3953)
==9737==    by 0x4D720F8: run_test (test.h:584)
==9737==    by 0x4D724E7: main (test.h:654)
==9737==",353,"0"
"WINE-9736","Civilization 4 Beyond the sword : textures no more correctly rendered","Some textures are no more rendered properly with latest git. I mean that some 3 dimensional objects appear as completely black (see the screenshot). 
This objects are rendered correctly with wine 0.9.44 the game doesn't start with 0.9.45 but with latest git it starts and the problem happens.",49,"0"
"WINE-10359","Steam with incorrect cursor position.","When using Steam the cursor is not close to where it actually should be seems the X/Y placement is off and I am not sure if it is like that in game or not so far.  Its just really hard to click anything in steam with this problem.  This is running on Kubuntu 7.04 x64.",206,"0"
"WINEHQ_BUGZILLA-35450","Clean up 'Version' in bugzilla","There are too many old versions to choose which may waste time
Would Wine Bugzilla hide the *very old* versions or re-arrange them?",763,"0"
"WINE-147","Multi-column list widget: Double click on the header should resize to fit","This is with the CVS version of WINE.  If you double click on the header of a
multi-column view the width of the column should be changed to fit (exactly) the
width of the widest line of the content.
Presently: Nothing happens.
You can see it in the detail view of the fileopen dialog.",1605,"1"
"WINE-26635","SketchUp 8 cannot use the components tool","The componants tool never becomes usable. This tool is central for much of the basic functioning of SkecthUp as a 3d tool - so I've marked this as 'major'.

I have no experience with debugging wine and SketchUp doesn't actually crash.",1187,"1"
"WINE-6589","Proposal to change the return value of the GraphBuilder_FindFilterByName (filtergraph.c file quartz.dll)","Hello

The GraphBuilder_FindFilterByName function in the filtergraph.c file
(quartz.dll) returns E_FAIL if a matching filter was not found. According to the
Microsoft docs at
http://windowssdk.msdn.microsoft.com/en-us/library/ms785733.aspx it should
return VFW_E_NOT_FOUND.

Instead of writing such reports I could simply submit the fixed (great fix -
replacing one return value with another :) - still the specification exists -
it's better to conform it especially if it is not difficult :)) code but have
no idea how to do that.

Does someone maintains the quartz.dll sources? I suppose there are some parts of
the code that could probably be improved - but those things certainly require
some discussion.

Best regards
Denis Linine",400,"0"
"WINE-23788","Samsung Kies installer stops early","Created attachment 29829
Simple patch to get the installer a bit further

Didn't find a direct link (yet) for the executable. You can however look for the Samsung Galaxy S and under support you will find the Kies installer (Kies_1.5.1.10071_32.exe).

Starting the installer gives a few screens and than stops right after I get in the console:

fixme:msxml:domdoc_setProperty Unknown property LProhibitDTD

Running current Git and on a clean .wine

'winetricks msxml3' gets passed this but then the installer crashes while trying to install WMFDist11-WindowsXP-ENU.cab (some Windows Media stuff apparantly) but that should be for another bug.

The attached (obviously not correct) patch also gets me further and of course crashes at the same point.",4,"0"
"WINE-43411","Older directx games (The Sims Revenant) - Screen not redrawing properly (needs Set/GetClipStatus implementation)","The Sims isn't playable since all the characters are in white and are frozen sometimes the screen refresh when you call for the interaction menu but they will be stuck elsewhere.

https://appdb.winehq.org/appimage.php?iId=44824",629,"0"
"WINE-STAGING-43435","x32dbg hangs when starting program","When starting a program to debug it displays a message like Breakpoint at 1000154C7 set and then freezes.

Bisected to
commit 9c509cbf8879a4283cb134321764c1024bcaf855
Author: Dmitry Timoshkov 
Date:   Wed Mar 16 20:23:28 2016 +0800

    kernel32: Implement K32GetMappedFileName. (v2)


Reverting fixes the issue.",14,"0"
"WINE-40348","Nvidia 800 series cards not detected correctly","I've noticed that my gtx 860m is not detected correctly by wine and it seems like all the 800 series GPU aren't either.

Here are the outputs you should need as information about my GPU (if I remember well I've got the maxwell 860m and unfortunately I don't have any information on the kepler 860m and any of the other 800 series GPU).

optirun nvidia-settings -c :8 -t -q PCIID
> 43185010

optirun nvidia-settings -c :8 -t -q VideoRam 
> 2097152

lspci -nn | grep 3D 
> 01:00.0 3D controller [0302]: NVIDIA Corporation GM107M [GeForce GTX 860M] [10de:1392] (rev ff)",30,"0"
"WINE-209","Wine setup ends with TCL error and no config file is written","Hmm.  No bugzilla category for your setup program.

Took all the defaults running your setup program.  Clicked finish then got an
error
and this TCL stack backtrace.  No config file was written.

command ObjWaitMsg already exists in namespace ::CBase
    while executing
CMsgDialog ObjWaitMsg . .wait_msg Message Creating fake Windows
installation Please wait...   
    (object ::ObjBase method ::CBase::AutoConf:CreateBlankWinInstallation
body line 16)
    invoked from within
$pObjBase AutoConf:CreateBlankWinInstallation [$pObjBase AccessCfgData
GET_KEY_VALUE_BY_NAME Cfg BlankWinRoot] $FileList ErrMsg
    (object ::ObjScrFinish method ::CBaseScrWithLeftMenu::SetResult body
line 15)
    invoked from within
::ObjScrFinish SetResult FINISH
    invoked from within
.f_scr.b_finish invoke
    (uplevel body line 1)
    invoked from within
uplevel #0 [list $w invoke]
    (procedure tkButtonUp line 7)
    invoked from within
tkButtonUp .f_scr.b_finish

    (command bound to event)",562,"0"
"WINE-26889","wineserver loses fd_ops in debugging interface.","Created attachment 34287
backtrace of the crash in wineserver

Since commit
 commit 900352bc6bd32c6524658083339ba119620be9c7
 Author: Alexandre Julliard 
 Date:   Mon Apr 18 14:14:40 2011 +0200

     server: Store a mapping instead of a file for process dlls.

the dlls of a process posses a mapping instead of the original file object. The consequence is that the only info about the fd is the the one contained in mapping->fd which is created by dup_fd_object. This copy does not include fd_ops. Since commit
 commit 1b868f4967f2dadd1d12b2b0fc5a14f9c5766ab4
 Author: Alexandre Julliard 
 Date:   Tue Apr 19 10:29:44 2011 +0200

     server: Fix sharing parameters for debug event files and don't fail if the file can't be opened.

this causes a crash in wineserver if programs are executed in the Borland Delphi debugger. This is because the hFile object returned in the debugging event refers to duplicate (again created by dup_fd_object) of mapping->fd. Borland Delphi then tries to use SetFilePointer() and ReadFile() on that object and at that time wineserver dereferences the NULL fd_ops in the fd object and crashes.",0,"0"
"WINE-38255","Sid Meier's Ace Patrol needs msvcp110.dll._Thrd_current","With built-in msvcp110.dll the game crashes on start.
> wine: Call from 0x7b8394e4 to unimplemented function msvcp110.dll._Thrd_current aborting

Mscodescan output:
./AcePatrol.exe imports following stub symbols:
  msvcp110:??0_Pad@std@@QAE@XZ
  msvcp110:??1_Pad@std@@QAE@XZ
  msvcp110:?_Future_error_map@std@@YAPBDH@Z
  msvcp110:?_Launch@_Pad@std@@QAEXPAU_Thrd_imp_t@@@Z
  msvcp110:?_Release@_Pad@std@@QAEXXZ
  msvcp110:?_Syserror_map@std@@YAPBDH@Z
  msvcp110:?_Throw_C_error@std@@YAXH@Z
  msvcp110:?_Throw_Cpp_error@std@@YAXH@Z
  msvcp110:?_Winerror_map@std@@YAPBDH@Z
  msvcp110:?_Xbad_function_call@std@@YAXXZ
  msvcp110:_Thrd_current
  msvcp110:_Thrd_equal
  msvcp110:_Thrd_join
  msvcp110:_Thrd_sleep
  msvcp110:_Xtime_diff_to_millis2
  msvcp110:xtime_get

./AcePatrol.exe imports following stub symbols:
  msvcr110:?_Id@_CurrentScheduler@details@Concurrency@@SAIXZ
  msvcr110:?wait@Concurrency@@YAXI@Z
  msvcr110:__crtUnhandledException",235,"0"
"WINE-44911","BattlEye 'BEDaisy' kernel service crashes on unimplemented function ntoskrnl.exe.PsGetProcessId","Hello folks

continuation of bug 44910

--- snip ---
$ WINEDEBUG=+seh+relay+ntoskrnl wine net start BEDaisy >>log.txt 2>&1
...
0034:Call driver init 0x78d000 (obj=0x11cc28str=L\\Registry\\Machine\\System\\CurrentControlSet\\Services\\BEDaisy) 
...
0034:Ret  ntdll.NtQuerySystemInformation() retval=00000000 ret=7bc803ab
0034:Ret  ntoskrnl.exe.ZwQuerySystemInformation() retval=00000000 ret=0082d9b5
...
0034:Call KERNEL32.RaiseException(8000010000000001000000020065eb78) ret=7ec1ace2
...
0034:trace:seh:raise_exception code=80000100 flags=1 addr=0x7b446c33 ip=7b446c33 tid=0034
0034:trace:seh:raise_exception  info[0]=7ec1ad00
0034:trace:seh:raise_exception  info[1]=7ec1e697
wine: Call from 0x7b446c33 to unimplemented function ntoskrnl.exe.PsGetProcessId aborting
wine: Unimplemented function ntoskrnl.exe.PsGetProcessId called at address 0xf7c30023:0x7b446c33 (thread 0034) starting debugger... 
--- snip ---

$ sha1sum Tibia_Setup.exe 
50951008ccc402cc32407bfc56a88da873e3e9bd  Tibia_Setup.exe

$ du -sh Tibia_Setup.exe 
5.2M    Tibia_Setup.exe

$ wine --version
wine-3.5-107-gf4573adb0f

Regards",5,"0"
